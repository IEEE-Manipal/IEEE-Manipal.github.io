if (self.CavalryLogger) { CavalryLogger.start_js(["5DFYI"]); }

__d("VideoChannelLoggerEvents",[],(function a(b,c,d,e,f,g){f.exports={SESSION_START:"session_start",SESSION_PAUSE:"session_pause",SESSION_RESUME:"session_resume",SESSION_END:"session_end",IMPRESSION:"impression",VPV:"vpv",CLICK:"click",WATCH_SUMMARY:"watch_summary",FOLLOW:"follow",UNFOLLOW:"unfollow",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",PIN_TOPIC:"pin_topic",UNPIN_TOPIC:"unpin_topic",MARK_VISIT:"mark_visit",AUTO_ADVANCE:"auto_advance",STORY_FETCH_RESULTS:"story_fetch_results",FETCH_FIRST_STORY:"fetch_first_story_success",FETCH_STORIES_FROM_ENTQUERY:"fetch_stories_from_entquery",FETCH_STORIES_FORWARD:"fetch_stories_forward",FETCH_STORIES_BACKWARD:"fetch_stories_backward",FETCH_CHANNEL_PIVOTS:"fetch_channel_pivots_success",APPEND_CHANNEL_PIVOTS:"append_channel_pivots",FETCH_FIRST_STORY_SUCCESS:"fetch_first_story_success",FETCH_FIRST_STORY_ERROR:"fetch_first_story_error",FETCH_STORIES_FROM_ENTQUERY_SUCCESS:"fetch_stories_from_entquery_success",FETCH_STORIES_FROM_ENTQUERY_ERROR:"fetch_stories_from_entquery_error",FETCH_STORIES_FORWARD_SUCCESS:"fetch_stories_forward_success",FETCH_STORIES_FORWARD_ERROR:"fetch_stories_forward_error",FETCH_STORIES_BACKWARD_SUCCESS:"fetch_stories_backward_success",FETCH_STORIES_BACKWARD_ERROR:"fetch_stories_backward_error"};}),null);
__d("VideoChannelLoggerFields",[],(function a(b,c,d,e,f,g){f.exports={DEPTH_LEVEL:"depth_level",EVENT_TARGET:"event_target",EVENT_TARGET_INFO:"event_target_info",ENTRY_POINT:"entry_point",ENTRY_POINT_TYPE:"entry_point_type",ENTRY_POINT_VALUE:"entry_point_value",EXIT_POINT_TYPE:"exit_point_type",EXIT_POINT_VALUE:"exit_point_value",FOLLOW_SURFACE:"follow_surface",EVENT:"event",HAS_STORY_FETCH_CURSOR:"has_story_fetch_cursor",IS_AD:"is_ad",IS_EMPLOYEE:"is_employee",IS_TEST_USER:"is_test_user",PERF_TIME_MS:"perf_time_ms",REQUEST_STATUS:"request_status",HAS_NEXT_PAGE:"has_next_page",POSITION_IN_CHANNEL:"position_in_channel",SESSION_ID:"session_id",SUBSCRIPTION_SURFACE:"subscription_surface",STORY_ID:"story_id",STORY_FETCH_COUNT:"story_fetch_count",STORY_FETCH_CURSOR:"story_fetch_cursor",STORY_FETCH_LIMIT:"story_fetch_limit",TIME_SINCE_START:"time_since_start",TRACKING_DATA:"tracking_data",VIDEO_ID:"video",VIDEO_ID_OVERRIDE:"video_id_override",VIDEO_CHAINING_CALLER:"video_chaining_caller",VIDEO_CHANNEL_ID:"video_channel_id",VIDEO_CHANNEL_TYPE:"video_channel_type",VIDEO_CHANNEL_TITLE:"video_channel_title",VIDEO_HOME_SESSION_ID:"video_home_session_id",WATCH_TIME_S:"watch_time_s"};}),null);
__d("VideoChannelRequestStatus",[],(function a(b,c,d,e,f,g){f.exports={SUCCEEDED:"succeeded",FAILED:"failed",ABORTED:"aborted"};}),null);
__d("VideoPlayerFormats",[],(function a(b,c,d,e,f,g){f.exports={INLINE:"inline",SNOWLIFT:"snowlift",PERMALINK:"permalink",CHANNEL:"channel",FULL_SCREEN:"full_screen",SOCIAL_PLAYER:"social_player",TV:"tv",MISC:"misc",WATCH_SCROLL:"watch_scroll",WATCH_SCROLL_APP_BACKGROUND:"watch_scroll_app_background",WATCH_AND_GO:"watch_and_go",WATCH_AND_BROWSE:"watch_and_browse",CANVAS:"canvas"};}),null);
__d("VideoPlayerFormatsMap",[],(function a(b,c,d,e,f,g){f.exports={live_map:"inline",live_map_sidebar:"inline",live_map_listview:"inline",live_map_tooltip:"inline",live_map_tooltip_from_listview:"inline",live_map_tooltip_from_map:"inline",video_home_inline:"inline",inline:"inline",chained:"inline",page_live_video_module:"inline",chained_suggestion:"inline",embedded_video:"inline",embedded_video_preview:"inline",embedded_video_from_ufi:"inline",media_collage:"inline",channel:"channel",permalink:"permalink",snowlift:"snowlift",tv:"tv",watch_scroll:"watch_scroll",continue_watching_recommendation:"inline",ads:null,animated_image_share:null,asset:null,broadcast_request_attachment:null,embedded:null,embedded_page_plugin:null,html5:null,insights:null,live_video_broadcast:null,live_video_preview:null,lookback:null,messaging:null,misc:null,mobile:null,offers_detail:null,pages_finch_main_video:null,pages_finch_thumbnail_video:null,pages_finch_trailer:null,pages_video_set:null,profile_video:null,profile_video_hovercard:null,profile_video_thumb:null,report_flow:null,review:null,srt_review:null,trailer_og_attachment:null,trailer_timeline_collections:null,trailer_timeline_unit:null,user_video_tab:null,video_copyright_preview:null,videohub_playlist:null,videohub_featured:null,videohub_live:null,slideshow:null,live_map_tooltip_from_webgl:null,issues_module:null,gameroom_live_video_tab:null,gameroom_live_video_thumbnail:null,live_control_panel:null,group_live_video_module:null};}),null);
__d("VideoPlayerInitializationEvent",[],(function a(b,c,d,e,f,g){f.exports={PLAYER_INITIALIZATION:"player_initialization",PLAYER_ALLOCATED:"player_allocated",REQUESTED_PLAYING:"requested_playing",STARTED_PLAYING:"started_playing",PLAYER_SENT_REQUEST:"player_sent",PLAYER_RECEIVED_FIRST_BYTE:"player_received_first_byte",BUFFER_READY:"buffer_ready",METADATA_READY:"metadata_ready"};}),null);
__d("VideoPlayerStreamSwitchReasons",[],(function a(b,c,d,e,f,g){f.exports={BANDWIDTH:"bandwidth",FORCED:"forced",LOW_BUFFER_AVAILABILITY:"low_buffer_availability",PREFER_QUALITY_CLASS:"prefer_quality_class",USER:"user"};}),null);
__d("VideoQualityClassInternal",[],(function a(b,c,d,e,f,g){f.exports={orderedValues:["sd","hd","uhd"]};}),null);
__d("VideoStereoFormat",[],(function a(b,c,d,e,f,g){f.exports={MONO:"mono",LEFT_RIGHT:"left-right",TOP_BOTTOM:"top-bottom"};}),null);
__d("VideoWebDriverIDs",[],(function a(b,c,d,e,f,g){f.exports={FEED_VIDEO:"feed_video",FULLSCREEN_CONTROL:"fullscreen_control",MUTE_UNMUTE_CONTROL:"mute_unmute_control",PLAY_PAUSE_CONTROL:"play_pause_control",WNS_CONTROL:"wns_control"};}),null);
__d('VideoPlayerAbrTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('vpabr_proxy:VideoPlayerAbrLoggerConfig',this.$VideoPlayerAbrTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('vpabr_proxy:VideoPlayerAbrLoggerConfig',this.$VideoPlayerAbrTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$VideoPlayerAbrTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$VideoPlayerAbrTypedLogger1=babelHelpers['extends']({},this.$VideoPlayerAbrTypedLogger1,j);return this;};h.prototype.setBytes=function(j){this.$VideoPlayerAbrTypedLogger1.bytes=j;return this;};h.prototype.setClientTime=function(j){this.$VideoPlayerAbrTypedLogger1.client_time=j;return this;};h.prototype.setClientTimeBegin=function(j){this.$VideoPlayerAbrTypedLogger1.client_time_begin=j;return this;};h.prototype.setClientTimeEnd=function(j){this.$VideoPlayerAbrTypedLogger1.client_time_end=j;return this;};h.prototype.setDelayMs=function(j){this.$VideoPlayerAbrTypedLogger1.delay_ms=j;return this;};h.prototype.setEvent=function(j){this.$VideoPlayerAbrTypedLogger1.event=j;return this;};h.prototype.setRepresentationID=function(j){this.$VideoPlayerAbrTypedLogger1.representation_id=j;return this;};h.prototype.setSession=function(j){this.$VideoPlayerAbrTypedLogger1.session=j;return this;};h.prototype.setUnsampledReason=function(j){this.$VideoPlayerAbrTypedLogger1.unsampled_reason=j;return this;};h.prototype.setVC=function(j){this.$VideoPlayerAbrTypedLogger1.vc=j;return this;};h.prototype.setVideoID=function(j){this.$VideoPlayerAbrTypedLogger1.video_id=j;return this;};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$VideoPlayerAbrTypedLogger1=babelHelpers['extends']({},this.$VideoPlayerAbrTypedLogger1,j);return this;};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l);};var i={bytes:true,client_time:true,client_time_begin:true,client_time_end:true,delay_ms:true,event:true,representation_id:true,session:true,unsampled_reason:true,vc:true,video_id:true};f.exports=h;}),null);
__d('VideoPlayerShakaPerformanceTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig',this.$VideoPlayerShakaPerformanceTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig',this.$VideoPlayerShakaPerformanceTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$VideoPlayerShakaPerformanceTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1=babelHelpers['extends']({},this.$VideoPlayerShakaPerformanceTypedLogger1,j);return this;};h.prototype.setAccessToken=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.access_token=j;return this;};h.prototype.setAdditionalBufferedRanges=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.additional_buffered_ranges=j;return this;};h.prototype.setClientTimeBegin=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.client_time_begin=j;return this;};h.prototype.setClientTimeEnd=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.client_time_end=j;return this;};h.prototype.setCode=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.code=j;return this;};h.prototype.setError=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.error=j;return this;};h.prototype.setEvent=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.event=j;return this;};h.prototype.setIsLive=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.is_live=j;return this;};h.prototype.setLastBufferedEnd=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.last_buffered_end=j;return this;};h.prototype.setLastBufferedStart=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.last_buffered_start=j;return this;};h.prototype.setLastPlayingEventTime=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.last_playing_event_time=j;return this;};h.prototype.setLength=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.length=j;return this;};h.prototype.setMimeType=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.mime_type=j;return this;};h.prototype.setParentID=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.parent_id=j;return this;};h.prototype.setPlayhead=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.playhead=j;return this;};h.prototype.setPushed=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.pushed=j;return this;};h.prototype.setRepresentationID=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.representation_id=j;return this;};h.prototype.setResource=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.resource=j;return this;};h.prototype.setResult=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.result=j;return this;};h.prototype.setSequentialID=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.sequential_id=j;return this;};h.prototype.setSession=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.session=j;return this;};h.prototype.setState=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.state=j;return this;};h.prototype.setStreamSwitchReason=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.stream_switch_reason=j;return this;};h.prototype.setTimeToFirstByte=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.time_to_first_byte=j;return this;};h.prototype.setTimeToLastByte=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.time_to_last_byte=j;return this;};h.prototype.setTimeToRequestStart=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.time_to_request_start=j;return this;};h.prototype.setVC=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.vc=j;return this;};h.prototype.setVideoID=function(j){this.$VideoPlayerShakaPerformanceTypedLogger1.video_id=j;return this;};var i={access_token:true,additional_buffered_ranges:true,client_time_begin:true,client_time_end:true,code:true,error:true,event:true,is_live:true,last_buffered_end:true,last_buffered_start:true,last_playing_event_time:true,length:true,mime_type:true,parent_id:true,playhead:true,pushed:true,representation_id:true,resource:true,result:true,sequential_id:true,session:true,state:true,stream_switch_reason:true,time_to_first_byte:true,time_to_last_byte:true,time_to_request_start:true,vc:true,video_id:true};f.exports=h;}),null);
__d('TaggedTimeRanges',['sprintf'],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$TaggedTimeRanges1=[];this.$TaggedTimeRanges2=0;this.$TaggedTimeRanges3=0;this.$TaggedTimeRanges4=i?i:function(j,k){return j===k;};}h.prototype.add=function(i,j,k){'use strict';if(j<i)return;if(j===i)return;if(this.$TaggedTimeRanges1.length===0){this.$TaggedTimeRanges1.push({start:i,end:j,tag:k});return;}var l=0,m=0;for(var n=0;n<this.$TaggedTimeRanges1.length;n++){if(i>=this.$TaggedTimeRanges1[n].start)l=n+1;if(j<=this.$TaggedTimeRanges1[n].end)m=n;if(j<this.$TaggedTimeRanges1[n].start)break;}this.$TaggedTimeRanges1.splice(l,m-l,{start:i,end:j,tag:k});this.$TaggedTimeRanges5(l);};h.prototype.$TaggedTimeRanges5=function(i){'use strict';var j=this.$TaggedTimeRanges1[i],k=null;if(i!==0)k=this.$TaggedTimeRanges1[i-1];if(k!==null)if(this.$TaggedTimeRanges4(k.tag,j.tag)){if(k.end>=j.start){this.$TaggedTimeRanges1.splice(i-1,2,{start:k.start,end:Math.max(j.end,k.end),tag:j.tag});i--;}}else{if(k.end>=j.start)this.$TaggedTimeRanges1.splice(i-1,1,{start:k.start,end:j.start,tag:k.tag});if(k.end>j.end)this.$TaggedTimeRanges1.splice(i+1,0,{start:j.end,end:k.end,tag:k.tag});}var l=null;if(i!==this.$TaggedTimeRanges1.length-1)l=this.$TaggedTimeRanges1[i+1];if(l)if(this.$TaggedTimeRanges4(l.tag,j.tag)){if(l.start<=j.end)this.$TaggedTimeRanges1.splice(i,2,{start:j.start,end:Math.max(l.end,j.end),tag:j.tag});}else if(l.start<=j.end)if(l.end<j.end){this.$TaggedTimeRanges1.splice(i,1,{start:j.start,end:l.start,tag:j.tag});this.$TaggedTimeRanges1.push({start:l.end,end:j.end,tag:j.tag});}else this.$TaggedTimeRanges1.splice(i+1,1,{start:j.end,end:l.end,tag:l.tag});};h.prototype.get=function(i){'use strict';var j=i>=this.$TaggedTimeRanges3?this.$TaggedTimeRanges2:0,k=null;for(var l=j;l<this.$TaggedTimeRanges1.length;l++)if(this.$TaggedTimeRanges1[l].start<=i&&i<this.$TaggedTimeRanges1[l].end){k=l;break;}this.$TaggedTimeRanges2=k===null?0:k;this.$TaggedTimeRanges3=i;return k===null?null:this.$TaggedTimeRanges1[k].tag;};h.prototype.getLength=function(){'use strict';return this.$TaggedTimeRanges1.length;};f.exports=h;}),null);
__d('dispatchCustomEvent',[],(function a(b,c,d,e,f,g){function h(i,j,k){var l=void 0;if(typeof b.CustomEvent==='function'){l=new b.CustomEvent(j,{detail:k});}else{l=b.document.createEvent('CustomEvent');l.initCustomEvent(j,true,true,k);}i.dispatchEvent(l);}f.exports=h;}),null);
__d('dispatchEvent',[],(function a(b,c,d,e,f,g){function h(i,j){var k;if(typeof b.Event==='function'){k=new b.Event(j);}else{k=b.document.createEvent('Event');k.initEvent(j,true,true);}i.dispatchEvent(k);}f.exports=h;}),null);
__d('NetworkRequestPipelineStats',['Set'],(function a(b,c,d,e,f,g){'use strict';var h=5,i=.5;function j(){this.$NetworkRequestPipelineStats1={};this.$NetworkRequestPipelineStats2={};this.$NetworkRequestPipelineStats3=0;this.$NetworkRequestPipelineStats4=0;this.$NetworkRequestPipelineStats5=0;this.$NetworkRequestPipelineStats6=0;this.$NetworkRequestPipelineStats7=new (c('Set'))();}j.prototype.addEntry=function(k,l){this.$NetworkRequestPipelineStats6=Math.max(this.$NetworkRequestPipelineStats6,k);if(!l)return;this.$NetworkRequestPipelineStats1[k]=l;var m=this.$NetworkRequestPipelineStats1[k-1];if(!this.$NetworkRequestPipelineStats7.has(k-1)&&m)this.$NetworkRequestPipelineStats8(m,l,k);var n=this.$NetworkRequestPipelineStats1[k+1];if(!this.$NetworkRequestPipelineStats7.has(k)&&n)this.$NetworkRequestPipelineStats8(l,n,k+1);};j.prototype.setNetworkIdle=function(){this.$NetworkRequestPipelineStats7.add(this.$NetworkRequestPipelineStats6);};j.prototype.$NetworkRequestPipelineStats8=function(k,l,m){this.$NetworkRequestPipelineStats2[m]=l.startTime+l.timeToFirstByte-(k.startTime+k.timeToLastByte);};j.prototype.getBandwidthAlignments=function(){return this.$NetworkRequestPipelineStats2;};j.prototype.getBandwidthUtilization=function(){var k=0,l=0;Object.keys(this.$NetworkRequestPipelineStats2).forEach(function(m){var n=Number.parseInt(m,10),o=this.$NetworkRequestPipelineStats2[n],p=this.$NetworkRequestPipelineStats1[n],q=p.timeToLastByte-p.timeToFirstByte;k+=q;l+=Math.max(0,o)+q;}.bind(this));return k/Math.max(1,l);};j.prototype.$NetworkRequestPipelineStats9=function(k){var l=[];for(var m=0;m<k;m++){var n=this.$NetworkRequestPipelineStats1[this.$NetworkRequestPipelineStats6-m];if(n)l.push(n);}return l;};j.prototype.getEstimatedDownloadTime=function(){return this.$NetworkRequestPipelineStats10(function(k){return k.timeToLastByte-k.timeToFirstByte;},{lastN:h,defaultValue:0});};j.prototype.$NetworkRequestPipelineStats10=function(k,l){var m=l.lastN,n=l.defaultValue,o=this.$NetworkRequestPipelineStats9(m);if(!o.length)return n;return o.reverse().reduce(function(p,q){return (i*k(q)+(1-i)*p);},k(o[0]));};j.prototype.getEstimatedTimeToFirstByte=function(){return this.$NetworkRequestPipelineStats10(function(k){return k.timeToFirstByte;},{lastN:h,defaultValue:5000});};j.prototype.getOptimisticTimeToFirstByte=function(){var k=this.$NetworkRequestPipelineStats9(h);if(!k.length)return 0;var l=Math.min.apply(Math,k.map(function(n){return n.timeToFirstByte;})),m=this.$NetworkRequestPipelineStats10(function(n){return n.timeToFirstByte;},{lastN:h,defaultValue:5000});return (l+m)/2;};f.exports=j;}),null);
__d('NetworkRequestPipeline',['Promise','Deferred','NetworkRequestPipelineStats'],(function a(b,c,d,e,f,g){'use strict';var h=2,i=1;function j(){this.$NetworkRequestPipeline1=0;this.$NetworkRequestPipeline2=[];this.$NetworkRequestPipeline3=0;this.$NetworkRequestPipeline4=0;this.$NetworkRequestPipeline6=null;this.$NetworkRequestPipeline7=0;this.$NetworkRequestPipeline8=0;this.$NetworkRequestPipeline9=0;this.$NetworkRequestPipeline10=new (c('NetworkRequestPipelineStats'))();}j.prototype.enqueue=function(k){if(!k.length)return;var l=void 0;if(!this.$NetworkRequestPipeline6){l=this.$NetworkRequestPipeline11(k[0]);this.$NetworkRequestPipeline3++;k=k.slice(1);}else l=this.$NetworkRequestPipeline6;k.forEach(function(m){this.$NetworkRequestPipeline3++;l=l.then(function(){return this.$NetworkRequestPipeline11(m);}.bind(this));}.bind(this));this.$NetworkRequestPipeline6=l;};j.prototype.$NetworkRequestPipeline11=function(k){var l=this.$NetworkRequestPipeline1;this.$NetworkRequestPipeline1++;this.$NetworkRequestPipeline4++;var m=c('Promise').race([k.send().then(function(){this.$NetworkRequestPipeline3--;this.$NetworkRequestPipeline4--;this.$NetworkRequestPipeline10.addEntry(l,k.getResourceTimingEntry());if(!this.$NetworkRequestPipeline3)this.$NetworkRequestPipeline10.setNetworkIdle();this.$NetworkRequestPipeline12();}.bind(this)),new (c('Promise'))(function(n){return setTimeout(n,this.$NetworkRequestPipeline13());}.bind(this))]);this.$NetworkRequestPipeline5=new (c('Deferred'))();this.$NetworkRequestPipeline12();return c('Promise').all([m,this.$NetworkRequestPipeline5.getPromise()]);};j.prototype.$NetworkRequestPipeline12=function(){if(this.$NetworkRequestPipeline5&&this.$NetworkRequestPipeline4<h)this.$NetworkRequestPipeline5.resolve();};j.prototype.$NetworkRequestPipeline13=function(){var k=this.$NetworkRequestPipeline10.getEstimatedDownloadTime(),l=this.$NetworkRequestPipeline10.getEstimatedTimeToFirstByte(),m=this.$NetworkRequestPipeline10.getOptimisticTimeToFirstByte();return (k+l-m)*i;};f.exports=j;}),null);
__d('SegmentRequestManager',['NetworkRequestPipeline'],(function a(b,c,d,e,f,g){'use strict';function h(){this.$SegmentRequestManager1=[];this.$SegmentRequestManager2=-1;this.$SegmentRequestManager3={playhead:0,bufferEnd:0,bufferingGoal:0};this.$SegmentRequestManager4=null;this.$SegmentRequestManager5=new (c('NetworkRequestPipeline'))();}h.prototype.updateSegments=function(i){this.$SegmentRequestManager1=i;};h.prototype.updatePlayerState=function(i){this.$SegmentRequestManager3=i;var j=this.$SegmentRequestManager6(i.playhead,i.bufferEnd,i.bufferingGoal);this.$SegmentRequestManager5.enqueue(j.map(function(k){return this.$SegmentRequestManager7(k.requestInfo);}.bind(this)));return this;};h.prototype.$SegmentRequestManager7=function(i){var j=i.send,k=i.getResourceTimingEntry;return {send:j,getResourceTimingEntry:k};};h.prototype.$SegmentRequestManager6=function(i,j,k){var l=[],m=void 0;for(m=this.$SegmentRequestManager2+1;m<this.$SegmentRequestManager1.length;m++){var n=this.$SegmentRequestManager1[m],o=this.$SegmentRequestManager1[m].endTime;if(o<i||o<j)continue;if(n.startTime>i+k)break;l.push(n);this.$SegmentRequestManager2=m;}return l;};f.exports=h;}),null);
__d('VideoPlayerResourceTimer',[],(function a(b,c,d,e,f,g){'use strict';var h={getResourceTimingEntry:function i(j,k,l){var m;if(performance.getEntriesByType){var m=function(){var n=performance.getEntriesByName(j,'resource'),o=[];n.forEach(function(p){if(typeof p.responseEnd==='number'&&typeof p.responseStart==='number'&&typeof p.requestStart==='number'&&typeof p.connectEnd==='number'&&typeof p.connectStart==='number'&&typeof p.domainLookupEnd==='number'&&typeof p.domainLookupStart==='number'&&typeof p.transferSize==='number'&&p.responseEnd<=l&&p.startTime>=k)o.push({entry:{timeToFirstByte:p.responseStart-p.startTime,timeToLastByte:p.responseEnd-p.startTime,timeToRequestStart:p.requestStart-p.startTime,timeToConectionEnd:p.connectEnd-p.startTime,timeToConnectionStart:p.connectStart-p.startTime,timeToDomainLookupEnd:p.domainLookupEnd-p.startTime,timeToDomainLookupStart:p.domainLookupStart-p.startTime,transferSize:p.transferSize,startTime:p.startTime},sort:p.responseEnd});});o.sort(function(p,q){return q.sort-p.sort;});if(o.length)return {v:o[0].entry};}();if(typeof m==="object")return m.v;}return null;}};f.exports=h;}),null);
__d('VideoPlayerArtilleryOperationMarker',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k,l){this.$VideoPlayerArtilleryOperationMarker2=i;this.$VideoPlayerArtilleryOperationMarker3=j;this.$VideoPlayerArtilleryOperationMarker4=k;this.$VideoPlayerArtilleryOperationMarker5=l;this.$VideoPlayerArtilleryOperationMarker6=false;}h.prototype.markOperationStart=function(){return this.$VideoPlayerArtilleryOperationMarker7('Starting');};h.prototype.markOperationEnd=function(){return this.$VideoPlayerArtilleryOperationMarker7('Ending');};h.prototype.$VideoPlayerArtilleryOperationMarker7=function(i){var j=this.$VideoPlayerArtilleryOperationMarker4();if(j)j.inform(i+' '+this.$VideoPlayerArtilleryOperationMarker2+' #'+this.$VideoPlayerArtilleryOperationMarker3,{pointGroup:this.$VideoPlayerArtilleryOperationMarker5.getGroupName(this.$VideoPlayerArtilleryOperationMarker2,this.$VideoPlayerArtilleryOperationMarker1),isPointOfInterest:true,type:null}).addStringAnnotation('resource',this.$VideoPlayerArtilleryOperationMarker1||'').addStringAnnotation('wasPrefetchCacheHit',this.$VideoPlayerArtilleryOperationMarker6.toString());return this;};h.prototype.setResource=function(i){this.$VideoPlayerArtilleryOperationMarker1=i;return this;};h.prototype.setWasPrefetchCacheHit=function(i){this.$VideoPlayerArtilleryOperationMarker6=i;return this;};f.exports=h;}),null);
__d('VideoPlayerArtilleryPointGrouper',['Map'],(function a(b,c,d,e,f,g){function h(){'use strict';this.$VideoPlayerArtilleryPointGrouper1=new (c('Map'))();this.$VideoPlayerArtilleryPointGrouper2=new (c('Map'))();}h.prototype.getGroupName=function(i,j){'use strict';if(!j){switch(i){case 'start_streams':i='source_attach';break;}return i;}var k=this.$VideoPlayerArtilleryPointGrouper1.get(j);if(k)return k;var l=void 0;if(j.indexOf('-init.m4v')!==-1){l='-init.m4v';}else if(j.indexOf('-init.m4a')!==-1){l='-init.m4a';}else if(j.indexOf('.mpd')!==-1){return 'source_load';}else if(j.indexOf('.m4v')!==-1){l='.m4v';}else if(j.indexOf('.m4a')!==-1){l='.m4a';}else l='unknown';var m=this.$VideoPlayerArtilleryPointGrouper2.get(l)+1||1;this.$VideoPlayerArtilleryPointGrouper2.set(l,m);k=l+' #'+m;this.$VideoPlayerArtilleryPointGrouper1.set(j,k);return k;};f.exports=h;}),null);
__d('VideoPlayerArtilleryTrace',['TimeSliceInteraction','UserAgentData','VideoPlayerArtilleryOperationMarker','VideoPlayerArtilleryPointGrouper'],(function a(b,c,d,e,f,g){'use strict';var h=30000,i=3000;function j(k,l){this.$VideoPlayerArtilleryTrace13=function(){var m=this.$VideoPlayerArtilleryTrace2;if(m){var n=m.stallTrace,o=m.hasStalls,p=m.stallTraceTimeout;o?n.finish():n.disable();clearTimeout(p);}this.$VideoPlayerArtilleryTrace2=null;}.bind(this);this.$VideoPlayerArtilleryTrace17=function(){return this.$VideoPlayerArtilleryTrace1;}.bind(this);this.$VideoPlayerArtilleryTrace18=function(){var m=this.$VideoPlayerArtilleryTrace2;return m?m.stallTrace:null;}.bind(this);this.$VideoPlayerArtilleryTrace4=l.videoID;this.$VideoPlayerArtilleryTrace5=l.video;this.$VideoPlayerArtilleryTrace6=k;this.$VideoPlayerArtilleryTrace7=l.isLive;this.$VideoPlayerArtilleryTrace9=l.playerOrigin;this.$VideoPlayerArtilleryTrace10=l.playerSuborigin;this.$VideoPlayerArtilleryTrace8=0;this.$VideoPlayerArtilleryTrace11=new (c('VideoPlayerArtilleryPointGrouper'))();}j.prototype.updateBufferAhead=function(k){var l=this.$VideoPlayerArtilleryTrace2;if(!l&&k<=i){this.$VideoPlayerArtilleryTrace2={stallTrace:this.$VideoPlayerArtilleryTrace12(c('TimeSliceInteraction').create('video_stall')),hasStalls:false,stallTraceTimeout:setTimeout(this.$VideoPlayerArtilleryTrace13,h)};}else if(k>i)this.$VideoPlayerArtilleryTrace13();};j.prototype.enterState=function(k){switch(k){case 'loading':this.$VideoPlayerArtilleryTrace14();break;case 'playing':this.$VideoPlayerArtilleryTrace15();break;default:this.$VideoPlayerArtilleryTrace16(k);break;}return this;};j.prototype.$VideoPlayerArtilleryTrace16=function(k){var l=this.$VideoPlayerArtilleryTrace1;if(l)l.inform('State: '+k);};j.prototype.getMarkers=function(k){var l=[],m=(++this.$VideoPlayerArtilleryTrace8).toString();if(this.$VideoPlayerArtilleryTrace1)l.push(new (c('VideoPlayerArtilleryOperationMarker'))(k,m,this.$VideoPlayerArtilleryTrace17,this.$VideoPlayerArtilleryTrace11));var n=this.$VideoPlayerArtilleryTrace2;if(n){if(k==='buffering')n.hasStalls=true;l.push(new (c('VideoPlayerArtilleryOperationMarker'))(k,m,this.$VideoPlayerArtilleryTrace18,this.$VideoPlayerArtilleryTrace11));}return l;};j.prototype.$VideoPlayerArtilleryTrace14=function(){var k=this.$VideoPlayerArtilleryTrace12(c('TimeSliceInteraction').create('video_psr'));this.$VideoPlayerArtilleryTrace1=k;this.$VideoPlayerArtilleryTrace16('loading');};j.prototype.$VideoPlayerArtilleryTrace15=function(){this.$VideoPlayerArtilleryTrace16('playing');var k=this.$VideoPlayerArtilleryTrace1;if(k){k.finish();this.$VideoPlayerArtilleryTrace1=null;}};j.prototype.$VideoPlayerArtilleryTrace12=function(k){k.trace().addStringAnnotation('videoID',this.$VideoPlayerArtilleryTrace4).addStringAnnotation('sessionID',this.$VideoPlayerArtilleryTrace6).addStringAnnotation('browserName',c('UserAgentData').browserName).addStringAnnotation('browserVersion',c('UserAgentData').browserVersion).addStringAnnotation('isLive',this.$VideoPlayerArtilleryTrace7.toString()).addStringAnnotation('playerOrigin',this.$VideoPlayerArtilleryTrace9||'').addStringAnnotation('playerSuborigin',this.$VideoPlayerArtilleryTrace10||'');return k;};f.exports=j;}),null);
__d('VideoPlayerShakaPerformanceLogger',['VideoPlayerArtilleryOperationMarker','VideoPlayerArtilleryTrace','VideoPlayerShakaPerformanceLoggerConfig','VideoPlayerShakaPerformanceTypedLogger'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('VideoPlayerShakaPerformanceTypedLogger'));i=h&&h.prototype;j.prototype.setState=function(l){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1=l;return i.setState.call(this,l);};j.prototype.getState=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger1;};j.prototype.setSequentialID=function(l){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger2=l;i.setSequentialID.call(this,l);return this;};j.prototype.setParentLogger=function(l){this.setParentID(l.$ExtendableVideoPlayerShakaPerformanceTypedLogger2);return this;};function j(){h.apply(this,arguments);}k.isEnabled=function(){return c('VideoPlayerShakaPerformanceLoggerConfig').isSampled;};function k(l){this.$VideoPlayerShakaPerformanceLogger2=l.videoID;this.$VideoPlayerShakaPerformanceLogger4=l.video;this.$VideoPlayerShakaPerformanceLogger1=l.uniqueID;this.$VideoPlayerShakaPerformanceLogger3=0;this.$VideoPlayerShakaPerformanceLogger5=l.representationId;this.$VideoPlayerShakaPerformanceLogger8=l.isLive;this.$VideoPlayerShakaPerformanceLogger9=l.accessToken;this.$VideoPlayerShakaPerformanceLogger11=l.playerOrigin;this.$VideoPlayerShakaPerformanceLogger12=l.playerSuborigin;this.$VideoPlayerShakaPerformanceLogger10=new (c('VideoPlayerArtilleryTrace'))(this.$VideoPlayerShakaPerformanceLogger1,l);}k.prototype.$VideoPlayerShakaPerformanceLogger13=function(l){var m=this.$VideoPlayerShakaPerformanceLogger4.buffered;if(m.length>0){var n=m.length-1;l=l.setLastBufferedStart(Math.round(m.start(n)*1000)).setLastBufferedEnd(Math.round(m.end(n)*1000));this.$VideoPlayerShakaPerformanceLogger10.updateBufferAhead((m.end(n)-this.$VideoPlayerShakaPerformanceLogger4.currentTime)*1000);}var o=[];for(var p=0;p<m.length-1;p++){var q=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.start(p)*1000),r=Math.round(this.$VideoPlayerShakaPerformanceLogger4.buffered.end(p)*1000);o.push([q,r]);}if(o&&o.length)l=l.setAdditionalBufferedRanges(JSON.stringify(o));return l;};k.prototype.getEventLogger=function(event){var l=Date.now(),m=new j(),n=this.$VideoPlayerShakaPerformanceLogger4.currentTime;this.$VideoPlayerShakaPerformanceLogger13(m).setEvent(event).setVideoID(this.$VideoPlayerShakaPerformanceLogger2).setRepresentationID(this.$VideoPlayerShakaPerformanceLogger5).setPlayhead(Math.round(n*1000)).setIsLive(this.$VideoPlayerShakaPerformanceLogger8).setSession(this.$VideoPlayerShakaPerformanceLogger1).setSequentialID(this.$VideoPlayerShakaPerformanceLogger3++).setState(this.$VideoPlayerShakaPerformanceLogger6).setLastPlayingEventTime(this.$VideoPlayerShakaPerformanceLogger7).setPushed(0).setResult('success').setAccessToken(this.$VideoPlayerShakaPerformanceLogger9).setClientTimeBegin(l).setClientTimeEnd(l);var o=m.setState;m.setState=function(q){if(q!==this.$VideoPlayerShakaPerformanceLogger6&&q==='playing'){this.$VideoPlayerShakaPerformanceLogger7=Date.now();}else if(q!=='playing')this.$VideoPlayerShakaPerformanceLogger7=null;this.$VideoPlayerShakaPerformanceLogger6=q;this.$VideoPlayerShakaPerformanceLogger10.enterState(q);return o.call(m,q);}.bind(this);m.updateState=function(q){if(m.getState()==this.$VideoPlayerShakaPerformanceLogger6){this.$VideoPlayerShakaPerformanceLogger10.enterState(q);return m.setState(q);}return m;}.bind(this);var p=m.setError;m.setError=function(q){if(typeof q==='object'){if(q.type==='aborted'||q.type==='delay'){this.setResult('aborted');}else{this.setResult('failed');p.call(this,q.type);}this.setCode(q.status);}else p.call(this,q);return this;};return m;};k.prototype.getArtilleryMarkers=function(l){return this.$VideoPlayerShakaPerformanceLogger10.getMarkers(l);};k.prototype.getOperationLogger=function(l){var m=this.getEventLogger(l),n=this.getArtilleryMarkers(l),o=m.setResource;m.setResource=function(q){n.forEach(function(r){return r.setResource(q);});return o.call(m,q);};var p=m.log;m.log=function(){this.setClientTimeEnd(Date.now());n.forEach(function(q){return q.markOperationEnd();});return p.call(this);};m.start=function(){n.forEach(function(q){return q.markOperationStart();});return m;};m.setWasPrefetchCacheHit=function(q){n.forEach(function(r){return r.setWasPrefetchCacheHit(q);});return m;};return m;};k.prototype.setRepresentationID=function(l){this.$VideoPlayerShakaPerformanceLogger5=l;};f.exports=k;}),null);
__d('VideoPushParametersHelper',['URI','VideoPlayerShakaExperiments'],(function a(b,c,d,e,f,g){var h=/(.*)\.(xx|fna)\.fbcdn\.net/;function i(j){'use strict';this.$VideoPushParametersHelper1=new (c('URI'))(j);return this;}i.prototype.setStreamEndOffset=function(j){'use strict';this.$VideoPushParametersHelper2=Math.min(Math.floor(j)+1,c('VideoPlayerShakaExperiments').liveMaxSegmentsToPush);this.$VideoPushParametersHelper4=Math.floor(j)+1;return this;};i.prototype.setSegmentStartTime=function(j){'use strict';this.$VideoPushParametersHelper3=j;return this;};i.prototype.setPushVideoRepresentationID=function(j){'use strict';this.$VideoPushParametersHelper5=j;return this;};i.prototype.setPushAudioRepresentationID=function(j){'use strict';this.$VideoPushParametersHelper6=j;return this;};i.prototype.setUseLongCacheForManifest=function(j){'use strict';this.$VideoPushParametersHelper7=j;return this;};i.prototype.getURL=function(){'use strict';var j=h.test(this.$VideoPushParametersHelper1.toString());if(j&&c('VideoPlayerShakaExperiments').liveSendPushHeaders){if(this.$VideoPushParametersHelper2!=null)this.$VideoPushParametersHelper1.addQueryData('_nc_p_n',this.$VideoPushParametersHelper2);if(this.$VideoPushParametersHelper3!=null){this.$VideoPushParametersHelper1.addQueryData('_nc_p_ts',this.$VideoPushParametersHelper3);}else if(this.$VideoPushParametersHelper4!=null)this.$VideoPushParametersHelper1.addQueryData('_nc_p_o',this.$VideoPushParametersHelper4);if(this.$VideoPushParametersHelper5!=null&&this.$VideoPushParametersHelper6!=null){this.$VideoPushParametersHelper1.addQueryData('_nc_p_rid',this.$VideoPushParametersHelper5);this.$VideoPushParametersHelper1.addQueryData('_nc_p_arid',this.$VideoPushParametersHelper6);}if(this.$VideoPushParametersHelper7)this.$VideoPushParametersHelper1.addQueryData('_nc_nc','1');}return this.$VideoPushParametersHelper1.toString();};i.prototype.getSegmentsToPush=function(){'use strict';return this.$VideoPushParametersHelper2;};i.prototype.getSegmentStartTime=function(){'use strict';return this.$VideoPushParametersHelper3;};i.prototype.getSegmentOffset=function(){'use strict';return this.$VideoPushParametersHelper4;};i.prototype.getPushVideoRepresentationID=function(){'use strict';return this.$VideoPushParametersHelper5;};i.prototype.getPushAudioRepresentationID=function(){'use strict';return this.$VideoPushParametersHelper6;};i.prototype.getUseLongCacheForManifest=function(){'use strict';return this.$VideoPushParametersHelper7;};i.getDefaultLiveStreamEndOffset=function(){'use strict';return c('VideoPlayerShakaExperiments').liveDefaultStreamEndOffset;};f.exports=i;}),null);
__d('extractCEA608',['JSResource'],(function a(b,c,d,e,f,g){var h=null;function i(j,k){if(!h)h=c('JSResource')('CEA608Extractor').__setRef('extractCEA608').load().then(function(l){return new l(k);});return h.then(function(l){return l.extract(j);});}f.exports=i;}),null);
/**
 * @providesModule Shaka
 * @preserve-whitespace
 * @generated
 */
__d("Shaka",["Promise","VideoPlayerShakaPerformanceLogger","VideoPushParametersHelper","setTimeout","clearTimeout","clearImmediate","setImmediate","TimeSlice","Map","VideoPlayerShakaExperiments","VideoPlayerResourceTimer","SegmentRequestManager","extractCEA608"],(function $module_Shaka(global,require,requireDynamic,requireLazy,module,exports){

var Promise = require('Promise');
var VideoPlayerShakaPerformanceLogger = require('VideoPlayerShakaPerformanceLogger');
var VideoPushParametersHelper = require('VideoPushParametersHelper');
var setTimeout = require('setTimeout');
var clearTimeout = require('clearTimeout');
var clearImmediate = require('clearImmediate');
var setImmediate = require('setImmediate');
var TimeSlice = require('TimeSlice');
var Map = require('Map');
var VideoPlayerShakaExperiments = require('VideoPlayerShakaExperiments');
var VideoPlayerResourceTimer = require('VideoPlayerResourceTimer');
var SegmentRequestManager = require('SegmentRequestManager');

var extractCEA608 = require('extractCEA608');

function setEventProperty(obj, name, handler) {
  obj[name] = TimeSlice.guard(handler, 'shaka ' + name);
};

if (
  VideoPlayerShakaExperiments.shakaNativePromise &&
  VideoPlayerShakaExperiments.useNativePromise
) {
  Promise = window.Promise;
}

var g = {};

(function(window){var m,aa=this;function p(a,b){var c=a.split("."),d=aa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d[e]?d=d[e]:d=d[e]={}:d[e]=b}function q(a,b){function c(){}c.prototype=b.prototype;a.lc=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.jc=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};/*

 Copyright 2015 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function ba(){};function ca(){}function da(a){var b=console[a];b?b.bind||(console[a]=function(){b.apply(console,arguments)}):console[a]=function(){}}da("error");da("warn");da("info");da("log");da("debug");function fa(a){ga[a]={xa:ha(),end:NaN}}function ia(a){if(a=ga[a])a.end=ha()}var ha=window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now,ga={};function ja(a,b,c,d){this.id=a;this.bandwidth=b||0;this.lang=c||"unknown";this.streamInfoID=d;this.active=!1}p("shaka.player.AudioTrack.compare",function(a,b){return a.lang<b.lang?-1:a.lang>b.lang?1:a.bandwidth<b.bandwidth?-1:a.bandwidth>b.bandwidth?1:0});function ka(){this.minBandwidth=this.maxBandwidth=this.maxWidth=this.minHeight=this.maxHeight=null}ka.prototype.clone=function(){var a=new ka;a.maxHeight=this.maxHeight;a.minHeight=this.minHeight;a.maxWidth=this.maxWidth;a.maxBandwidth=this.maxBandwidth;a.minBandwidth=this.minBandwidth;return a};function la(){this.fontSize="100%";this.fontColor=ma;this.fontOpacity=na;this.backgroundColor=oa;this.backgroundOpacity=na;this.fontEdge=pa}p("shaka.player.TextStyle",la);
function qa(a){var b=[];b.push("font-size: "+a.fontSize);b.push("color: "+ra(a.fontColor,a.fontOpacity));b.push("background-color: "+ra(a.backgroundColor,a.backgroundOpacity));for(var c=[],d=0;d<a.fontEdge.length;++d){var e=a.fontEdge[d].slice(3,6);c.push(ra(a.fontEdge[d].slice(0,3),a.fontOpacity)+" "+e.join("px ")+"px")}b.push("text-shadow: "+c.join(","));return b.join("; ")}function ra(a,b){return"rgba("+a.concat(b).join(",")+")"}var ma=[255,255,255],oa=[0,0,0];
la.StandardColors={WHITE:ma,BLACK:oa,RED:[255,0,0],GREEN:[0,255,0],BLUE:[0,0,255],YELLOW:[255,255,0],MAGENTA:[255,0,255],CYAN:[0,255,255]};var na=1;la.StandardOpacities={OPAQUE:na,SEMI_HIGH:.75,SEMI_LOW:.25,TRANSPARENT:0};var pa=[];
la.EdgeStyles={NONE:pa,RAISED:[[34,34,34,1,1,0],[34,34,34,2,2,0],[34,34,34,3,3,0]],DEPRESSED:[[204,204,204,1,1,0],[204,204,204,0,1,0],[34,34,34,-1,-1,0],[34,34,34,0,-1,0]],UNIFORM:[[34,34,34,0,0,4],[34,34,34,0,0,4],[34,34,34,0,0,4],[34,34,34,0,0,4]],DROP:[[34,34,34,2,2,3],[34,34,34,2,2,4],[34,34,34,2,2,5]]};function sa(a,b){this.id=a;this.lang=b||"unknown";this.enabled=this.active=!1}p("shaka.player.TextTrack.compare",function(a,b){return a.lang<b.lang?-1:a.lang>b.lang?1:0});function ta(a,b,c,d,e,f,g){this.id=a;this.bandwidth=b||0;this.width=c||0;this.height=d||0;this.streamInfoID=e;this.fbQualityLabel=f;this.fbQualityClass=g;this.active=!1}function ua(a,b){var c=a.width*a.height,d=b.width*b.height;return c<d?-1:c>d?1:a.bandwidth<b.bandwidth?-1:a.bandwidth>b.bandwidth?1:0}p("shaka.player.VideoTrack.compare",ua);function va(a){for(var b=wa,c=[],d=0;d<a.length;++d){for(var e=!1,f=0;f<c.length&&!(e=b?b(a[d],c[f]):a[d]===c[f]);++f);e||c.push(a[d])}return c};function xa(){return Date.now()+ya}var ya=0;function za(a){this.b=a;this.c=0==Aa;this.a=0}var Aa=1;function Ca(a){return a.a<a.b.byteLength}function Da(a){var b=a.b.getUint8(a.a);a.a+=1;return b}function t(a){var b=a.b.getUint32(a.a,a.c);a.a+=4;return b}function Ea(a){var b,c;a.c?(b=a.b.getUint32(a.a,!0),c=a.b.getUint32(a.a+4,!0)):(c=a.b.getUint32(a.a,!1),b=a.b.getUint32(a.a+4,!1));if(2097151<c)throw new RangeError("DataViewReader: Overflow reading 64-bit value.");a.a+=8;return c*Math.pow(2,32)+b}
function Fa(a){if(a.a+16>a.b.byteLength)throw new RangeError("DataViewReader: Read past end of DataView.");var b=new Uint8Array(a.b.buffer,a.a,16);a.a+=16;return b}function u(a,b){if(a.a+b>a.b.byteLength)throw new RangeError("DataViewReader: Skip past end of DataView.");a.a+=b};function Ga(a){this.b=a;this.a=new za(a);Ha||(Ha=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])])}var Ha;
function v(a){var b;b=Ia(a);if(7<b.length)throw new RangeError("EbmlParser: EBML ID must be at most 7 bytes.");for(var c=0,d=0;d<b.length;d++)c=256*c+b[d];b=c;c=Ia(a);a:{for(d=0;d<Ha.length;d++)if(Ja(c,Ha[d])){d=!0;break a}d=!1}if(d)c=a.b.byteLength-a.a.a;else{if(8==c.length&&c[1]&224)throw new RangeError("EbmlParser: Variable sized integer value must be at most 53 bits.");for(var d=c[0]&(1<<8-c.length)-1,e=1;e<c.length;e++)d=256*d+c[e];c=d}c=a.a.a+c<=a.b.byteLength?c:a.b.byteLength-a.a.a;d=new DataView(a.b.buffer,
a.b.byteOffset+a.a.a,c);u(a.a,c);return new Ka(b,d)}function Ia(a){var b=Da(a.a),c;for(c=1;8>=c&&!(b&1<<8-c);c++);if(8<c)throw new RangeError("EbmlParser: Variable sized integer must fit within 8 bytes.");var d=new Uint8Array(c);d[0]=b;for(b=1;b<c;b++)d[b]=Da(a.a);return d}function Ka(a,b){this.id=a;this.a=b}
function La(a){if(8<a.a.byteLength)throw new RangeError("EbmlElement: Unsigned integer has too many bytes.");if(8==a.a.byteLength&&a.a.getUint8(0)&224)throw new RangeError("EbmlParser: Unsigned integer must be at most 53 bits.");for(var b=0,c=0;c<a.a.byteLength;c++)var d=a.a.getUint8(c),b=256*b+d;return b};function Ma(a){this.c=Math.exp(Math.log(.5)/a);this.a=this.b=0}Ma.prototype.sample=function(a,b){var c=Math.pow(this.c,a);this.b=b*(1-c)+c*this.b;this.a+=a};function Na(a){return a.b/(1-Math.pow(a.c,a.a))};var Oa=window.CustomEvent;"function"!==typeof Oa&&(Oa=function(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail);return c},Oa.prototype=window.Event.prototype);function x(a){var b=new Oa(a.type,{detail:a.detail,bubbles:!!a.bubbles}),c;for(c in a)c in b||(b[c]=a[c]);return b}function y(a){return new Oa("error",{detail:a,bubbles:!0})};function Pa(a,b,c){Qa(b);Qa(c);return c==b||a>=Ra&&c==b.split("-")[0]||a>=Sa&&c.split("-")[0]==b.split("-")[0]?!0:!1}var Ra=1,Sa=2;function Qa(a){a=a.toLowerCase().split("-");var b=Ta[a[0]];b&&(a[0]=b);return a.join("-")}
var Ta={aar:"aa",abk:"ab",afr:"af",aka:"ak",alb:"sq",amh:"am",ara:"ar",arg:"an",arm:"hy",asm:"as",ava:"av",ave:"ae",aym:"ay",aze:"az",bak:"ba",bam:"bm",baq:"eu",bel:"be",ben:"bn",bih:"bh",bis:"bi",bod:"bo",bos:"bs",bre:"br",bul:"bg",bur:"my",cat:"ca",ces:"cs",cha:"ch",che:"ce",chi:"zh",chu:"cu",chv:"cv",cor:"kw",cos:"co",cre:"cr",cym:"cy",cze:"cs",dan:"da",deu:"de",div:"dv",dut:"nl",dzo:"dz",ell:"el",eng:"en",epo:"eo",est:"et",eus:"eu",ewe:"ee",fao:"fo",fas:"fa",fij:"fj",fin:"fi",fra:"fr",fre:"fr",
fry:"fy",ful:"ff",geo:"ka",ger:"de",gla:"gd",gle:"ga",glg:"gl",glv:"gv",gre:"el",grn:"gn",guj:"gu",hat:"ht",hau:"ha",heb:"he",her:"hz",hin:"hi",hmo:"ho",hrv:"hr",hun:"hu",hye:"hy",ibo:"ig",ice:"is",ido:"io",iii:"ii",iku:"iu",ile:"ie",ina:"ia",ind:"id",ipk:"ik",isl:"is",ita:"it",jav:"jv",jpn:"ja",kal:"kl",kan:"kn",kas:"ks",kat:"ka",kau:"kr",kaz:"kk",khm:"km",kik:"ki",kin:"rw",kir:"ky",kom:"kv",kon:"kg",kor:"ko",kua:"kj",kur:"ku",lao:"lo",lat:"la",lav:"lv",lim:"li",lin:"ln",lit:"lt",ltz:"lb",lub:"lu",
lug:"lg",mac:"mk",mah:"mh",mal:"ml",mao:"mi",mar:"mr",may:"ms",mkd:"mk",mlg:"mg",mlt:"mt",mon:"mn",mri:"mi",msa:"ms",mya:"my",nau:"na",nav:"nv",nbl:"nr",nde:"nd",ndo:"ng",nep:"ne",nld:"nl",nno:"nn",nob:"nb",nor:"no",nya:"ny",oci:"oc",oji:"oj",ori:"or",orm:"om",oss:"os",pan:"pa",per:"fa",pli:"pi",pol:"pl",por:"pt",pus:"ps",que:"qu",roh:"rm",ron:"ro",rum:"ro",run:"rn",rus:"ru",sag:"sg",san:"sa",sin:"si",slk:"sk",slo:"sk",slv:"sl",sme:"se",smo:"sm",sna:"sn",snd:"sd",som:"so",sot:"st",spa:"es",sqi:"sq",
srd:"sc",srp:"sr",ssw:"ss",sun:"su",swa:"sw",swe:"sv",tah:"ty",tam:"ta",tat:"tt",tel:"te",tgk:"tg",tgl:"tl",tha:"th",tib:"bo",tir:"ti",ton:"to",tsn:"tn",tso:"ts",tuk:"tk",tur:"tr",twi:"tw",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wel:"cy",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",zho:"zh",zul:"zu"};function Ua(a){return Object.keys(a).map(function(b){return a[b]})}function z(a,b){return Wa(a,b,"boolean")}function A(a,b,c){a=Wa(a,b,"number");if(null==a)return null;if(isNaN(a)||a==Number.NEGATIVE_INFINITY||a==Number.POSITIVE_INFINITY)throw new RangeError("'"+b+"' must be finite.");if(null!=c&&a<c)throw new RangeError("'"+b+"' must be >= "+c);return a}function Xa(a,b){return Wa(a,b,"string")}
function Wa(a,b,c){a=a[b];if(null==a)return null;if(typeof a!=c)throw new TypeError("'"+b+"' must be a "+c+".");return a}function Ya(a,b,c){a=a[b];if(null==a)return null;if(!(a instanceof c))throw new TypeError("'"+b+"' must be an instance of "+c.name+".");return a};function B(){this.a={}}B.prototype.push=function(a,b){this.a.hasOwnProperty(a)?this.a[a].push(b):this.a[a]=[b]};B.prototype.set=function(a,b){this.a[a]=b};B.prototype.get=function(a){return(a=this.a[a])?a.slice():null};function Za(a){var b=[],c;for(c in a.a)b.push.apply(b,a.a[c]);return b}function $a(a,b,c){if(a=a.a[b])for(b=0;b<a.length;++b)a[b]==c&&(a.splice(b,1),--b)}function ab(a){var b=[],c;for(c in a.a)b.push(c);return b};function bb(){this.a=new B}bb.prototype.destroy=function(){cb(this);this.a=null};function C(a,b,c,d){b=new db(b,c,d);a.a.push(c,b)}bb.prototype.za=function(a,b){for(var c=this.a.get(b)||[],d=0;d<c.length;++d){var e=c[d];e.target==a&&(e.za(),$a(this.a,b,e))}};function cb(a){for(var b=Za(a.a),c=0;c<b.length;++c)b[c].za();a.a.a={}}function db(a,b,c){this.target=a;this.type=b;this.a=c;this.target.addEventListener(b,c,!1)}
db.prototype.za=function(){this.target&&(this.target.removeEventListener(this.type,this.a,!1),this.a=this.target=null)};function D(a){this.Ha=new B;this.da=a}p("shaka.util.FakeEventTarget",D);m=D.prototype;m.addEventListener=function(a,b,c){c||this.Ha.push(a,b)};m.removeEventListener=function(a,b,c){c||$a(this.Ha,a,b)};
m.dispatchEvent=function(a){a.hasOwnProperty("srcElement")||(delete a.srcElement,Object.defineProperty(a,"srcElement",{get:function(){return null}}));if(a.hasOwnProperty("target"))a.target=this;else{delete a.target;var b=this;Object.defineProperty(a,"target",{get:function(){return b},set:function(a){b=a}})}if(a.hasOwnProperty("currentTarget"))a.currentTarget=null;else{delete a.currentTarget;var c=null;Object.defineProperty(a,"currentTarget",{get:function(){return c},set:function(a){c=a}})}return eb(this,
a)};m.Wa=!1;m.qa=function(a,b){return this.dispatchEvent(x({type:"debug/shakaEvent",bubbles:!0,detail:{type:a,event:b}}))};function eb(a,b){b.currentTarget=a;for(var c=a.Ha.get(b.type)||[],d=0;d<c.length;++d){var e=c[d];try{e.handleEvent?e.handleEvent(b):e.call(a,b)}catch(f){}}a.da&&b.bubbles&&eb(a.da,b);return b.defaultPrevented};function E(a,b,c){D.call(this,null);this.b=a;this.c=null;this.f=new bb;this.g=null;this.C=0;this.w=null;this.h=!1;this.G=this.H=!0;this.j=!1;this.a={enableAdaptation:!0,streamBufferSize:15,liveStreamEndTimeout:15,licenseRequestTimeout:0,mpdRequestTimeout:0,segmentRequestTimeout:0,preferredLanguage:"en",restrictions:new ka};this.m=b;this.I=c;this.i=null;this.l=1;this.D=null;this.s=!1}q(E,D);p("shaka.player.Player",E);E.version="v1.6.4-fb";
E.isBrowserSupported=function(){return!!window.MediaSource&&!!window.Uint8Array};
E.prototype.ia=function(){var a={},b=this.c;if(b){var c=b.hb();a.BandwidthEstimator=c.BandwidthEstimator;var d=c.VideoSourceStream;d&&(a.VideoSourceStream=d,(d=a.VideoBufferManager=d.ia().SourceBufferManager)&&(a.VideoSourceBuffer=d.ia().SourceBuffer));(d=a.AudioSourceStream=c.AudioSourceStream)&&(d=a.AudioBufferManager=d.ia().SourceBufferManager)&&(a.AudioSourceBuffer=d.ia().SourceBuffer);a.TextSourceStream=c.TextSourceStream;a.getManifest=b.fb.bind(b)}else a.getManifest=function(){};a.kc=!0;return a};
E.prototype.getDebug=E.prototype.ia;E.prototype.P=function(a){this.H=a};E.prototype.setResumeAfterBuffering=E.prototype.P;function fb(a){return"text/vtt"==a?!!window.VTTCue:MediaSource.isTypeSupported(a)}E.isTypeSupported=fb;E.setTextStyle=function(a){var b=document.getElementById("ShakaPlayerTextStyle");b||(b=document.createElement("style"),b.id="ShakaPlayerTextStyle",document.head.appendChild(b));for(b=b.sheet;b.cssRules.length;)b.deleteRule(0);b.insertRule("::cue { "+qa(a)+" }",0)};
E.prototype.destroy=function(){return this.F().then(F(this,function(){this.f.destroy();this.b=this.f=null})).catch(function(){})};E.prototype.destroy=E.prototype.destroy;E.prototype.F=function(){this.j=!0;return gb(this)};E.prototype.unload=E.prototype.F;
function gb(a){var b;a.m&&(b=a.m.getOperationLogger("unload").start());if(!a.c)return b&&b.log(),Promise.resolve();a.h&&hb(a);a.b.pause();cb(a.f);ib(a);jb(a);a.c&&(a.c.destroy(),a.c=null);a.b.src="";var c=Promise.resolve().then(function(){b&&b.log()});a.h=!1;return c}E.prototype.aa=function(a){return kb(this,a)};E.prototype.load=E.prototype.aa;
function kb(a,b){var c;a.m&&(c=a.m.getOperationLogger("load").setState("loading").start(),b.m=b.f.performanceLogger=a.m);a.I&&(b.f.abrLogger=a.I);lb(b,a.b);var d=null;a.j=!1;a.c&&(d=gb(a).then(F(a,function(){return b.Ea()})));a.b.autoplay&&(fa("load"),C(a.f,a.b,"timeupdate",a.Sb.bind(a)));b.Cb(a.a);b.O=a.D;a.D=null;d||(d=b.Ea());d.catch(F(a,function(a){b.destroy();return Promise.reject(a)}));return d.then(F(a,function(){if(!this.b||this.j)return mb();this.c=b;C(this.f,this.c,"seekrangechanged",this.Xb.bind(this));
var a=new B,c;c=this.c;if(c.F){c=c.a.a[0];for(var d=[],h=0;h<c.a.length;++h)d.push.apply(d,nb(c.a[h]));c=d}else c=[];for(d=0;d<c.length;d++)a.push(c[d].contentType,c[d]);c=this.c;if(c.F){for(var d={},l=c.a.a[0],h=0;h<l.a.length;++h){var k=l.a[h];d[k.K]=k}c.g.a={};l=ab(a);for(h=0;h<l.length;++h){var k=l[h],n=a.get(k);if("video"==k){var r=n[0].id;c.g.push(k,d[r])}else if("audio"==k)for(var r=n[0].a.split(";")[0],w=0;w<n.length;++w){var J=n[w];J.a.split(";")[0]==r&&c.g.push(k,d[J.id])}else for(w=0;w<
n.length;++w)r=n[w].id,c.g.push(k,d[r])}c.aa=!0;if(a=c.g.get("audio"))ob(c,a),c.g.set("audio",a),a=a[0].lang||c.D,Pa(2,c.D,a)&&(c.aa=!1);if(a=c.g.get("text"))ob(c,a),c.g.set("text",a),a=a[0].lang||c.D,Pa(2,c.D,a)||(c.aa=!1)}C(this.f,this.b,"error",this.ec.bind(this));C(this.f,this.b,"playing",this.Wb.bind(this));C(this.f,this.b,"pause",this.Vb.bind(this));return pb(this.c,this,this.b)})).then(F(a,function(){if(!this.b||this.j)return mb();sb(this);c&&c.updateState("ready").log()})).catch(F(a,function(a){c&&
c.setError(JSON.stringify(a)).log();if(!this.b||this.j)return mb();if("destroy"!=a.type){var b=y(a);this.dispatchEvent(b)}return this.F().then(function(){return Promise.reject(a)})}))}function mb(){var a=Error("Player destroyed");a.type="destroy";return Promise.reject(a)}m=E.prototype;m.Sb=function(){ia("load");this.f.za(this.b,"timeupdate")};
m.ec=function(){if(this.b.error){var a=this.b.error.code;a!=MediaError.MEDIA_ERR_ABORTED&&(a=Error(tb[a]||"Unknown playback error."),a.type="playback",a=y(a),this.dispatchEvent(a))}};m.Wb=function(){fa("playing");this.m&&this.m.getEventLogger("playing").setState("playing").log();!this.g&&0>this.l&&(this.b.playbackRate=0,this.B(this.b.currentTime,Date.now(),this.l));this.h&&!this.G&&hb(this)};m.Vb=function(){this.m&&this.m.getEventLogger("pause").setState("paused").log();ia("playing");jb(this)};
m.Xb=function(a){this.C=a.start};m.dc=function(){return this.c?this.c.N():[]};E.prototype.getVideoTracks=E.prototype.dc;E.prototype.W=function(){return this.c?this.c.Na():[]};E.prototype.getAudioTracks=E.prototype.W;E.prototype.$=function(){return this.c?this.c.Db():[]};E.prototype.getTextTracks=E.prototype.$;E.prototype.selectVideoTrack=function(a,b){return this.c?this.c.selectVideoTrack(a,void 0==b?!0:b):!1};E.prototype.selectVideoTrack=E.prototype.selectVideoTrack;
E.prototype.ea=function(a,b,c){return this.c?ub(this.c,"audio",a,void 0==b?!0:b,c):!1};E.prototype.selectAudioTrack=E.prototype.ea;E.prototype.fa=function(a){return this.c?ub(this.c,"text",a,!1):!1};E.prototype.selectTextTrack=E.prototype.fa;E.prototype.V=function(a){this.c&&vb(this.c,a)};E.prototype.enableTextTrack=E.prototype.V;E.prototype.O=function(a){jb(this);0<=a?this.b.playbackRate=a:this.b.paused||(this.b.playbackRate=0,this.B(this.b.currentTime,Date.now(),a));this.l=a};
E.prototype.setPlaybackRate=E.prototype.O;E.prototype.M=function(){return this.l};E.prototype.getPlaybackRate=E.prototype.M;E.prototype.ga=function(a){this.D=a};E.prototype.setPlaybackStartTime=E.prototype.ga;E.prototype.L=function(){return this.c?!!this.c.Eb():!1};E.prototype.isLive=E.prototype.L;
E.prototype.S=function(a){if(a){var b=z(a,"enableAdaptation");null!=b&&(this.a.enableAdaptation=b);b=z(a,"endBufferingOnPlaying");null!=b&&(this.G=b);b=z(a,"usePlaybackRateForBuffering");null!=b&&(this.s=b);b=A(a,"streamBufferSize",0);null!=b&&(this.a.streamBufferSize=b);b=A(a,"dynamicStreamBufferSize",0);null!=b&&(this.a.dynamicStreamBufferSize=b);null!=a.smartBufferAdjustmentParams&&(this.a.smartBufferAdjustmentParams=a.smartBufferAdjustmentParams);b=z(a,"addCdnDebugQueryParameters");null!=b&&(this.a.addCdnDebugQueryParameters=
b);b=A(a,"initialStreamBufferSize",0);null!=b&&(this.a.initialStreamBufferSize=b);b=z(a,"includeStreamBufferSizeInStartOffset");null!=b&&(this.a.includeStreamBufferSizeInStartOffset=b);b=A(a,"jumpToLiveThreshold");null!=b&&(this.a.jumpToLiveThreshold=b);b=A(a,"liveStreamEndTimeout",0);null!=b&&(this.a.liveStreamEndTimeout=b);b=A(a,"licenseRequestTimeout",0);null!=b&&(this.a.licenseRequestTimeout=b);b=A(a,"mpdRequestTimeout",0);null!=b&&(this.a.mpdRequestTimeout=b);b=A(a,"minMpdRefreshInterval",0);
null!=b&&(this.a.minMpdRefreshInterval=b);b=z(a,"enableLiveInterruptionDetection");null!=b&&(this.a.enableLiveInterruptionDetection=b);b=z(a,"enableManifestDebug");null!=b&&(this.a.enableManifestDebug=b,D.prototype.Wa=b,b||(D.prototype.qa=function(){}));b=z(a,"resolveVideoTimeUpdateOnFragmentedTimeRanges");null!=b&&(this.a.resolveVideoTimeUpdateOnFragmentedTimeRanges=b);b=A(a,"liveInterruptionConsecutiveUpdatesWithoutChange");null!=b&&(this.a.liveInterruptionConsecutiveUpdatesWithoutChange=b);b=A(a,
"liveInterruptionConsecutiveUpdatesWithChange");null!=b&&(this.a.liveInterruptionConsecutiveUpdatesWithChange=b);b=z(a,"reappendInitSegmentAfterAbort");null!=b&&(this.a.reappendInitSegmentAfterAbort=b);b=z(a,"liveSendPushHeaders");null!=b&&(this.a.liveSendPushHeaders=b);b=A(a,"liveMaxManifestFetchesWithPush");null!=b&&(this.a.liveMaxManifestFetchesWithPush=b);b=A(a,"liveMaxSegmentsToPush");null!=b&&(this.a.liveMaxSegmentsToPush=b);b=A(a,"segmentRequestTimeout",0);null!=b&&(this.a.segmentRequestTimeout=
b);b=Xa(a,"preferredLanguage");null!=b&&(this.a.preferredLanguage=b);b=Ya(a,"restrictions",ka);null!=b&&(this.a.restrictions=b.clone());b=a.liveInitialPushRepresentation;null!=b&&(this.a.liveInitialPushRepresentation=b);b=a.liveAudioPushRepresentation;null!=b&&(this.a.liveAudioPushRepresentation=b);b=a.useInlineInitSegment;null!=b&&(this.a.useInlineInitSegment=b);b=z(a,"disableCacheBustingEvenThoughItMayAffectBandwidthEstimation");null!=b&&(wb=!b);b=z(a,"currentTimeDuringReadyStateZeroThrows");null!=
b&&(this.a.currentTimeDuringReadyStateZeroThrows=b);b=A(a,"liveDataFetchMaxRetries");null!=b&&(this.a.liveDataFetchMaxRetries=b);b=A(a,"liveSourceBufferClearMaxRetries");null!=b&&(this.a.liveSourceBufferClearMaxRetries=b);b=z(a,"useLongCacheForManifest");null!=b&&(this.a.useLongCacheForManifest=b);b=z(a,"jumpToEarliestPositionInCurrentBlock");null!=b&&(this.a.jumpToEarliestPositionInCurrentBlock=b);b=z(a,"ignoreMinBufferTime");null!=b&&(this.a.ignoreMinBufferTime=b);b=A(a,"playheadFragmentedGapDiffAllowance");
null!=b&&(this.a.playheadFragmentedGapDiffAllowance=b);b=z(a,"fixBufferingGoalDetermination");null!=b&&(this.a.fixBufferingGoalDetermination=b);b=z(a,"skipEmptySegments");null!=b&&(this.a.skipEmptySegments=b);(a=z(a,"useMicroTaskTimeouts"))&&(this.a.useMicroTaskTimeouts=a);this.c&&this.c.Cb(this.a)}};E.prototype.configure=E.prototype.S;E.prototype.X=function(){return this.a};E.prototype.getConfiguration=E.prototype.X;function jb(a){a.g&&(clearTimeout(a.g),a.g=null)}
function sb(a){ib(a);a.w=setTimeout(a.N.bind(a),100)}function ib(a){a.w&&(clearTimeout(a.w),a.w=null)}E.prototype.B=function(a,b,c){this.g=null;var d=(Date.now()-b)/1E3*c;this.b.currentTime<this.C+(this.L()?1:.05)?this.b.pause():(d=Math.max(this.C,a+d),this.b.currentTime=d,this.g=setTimeout(this.B.bind(this,a,b,c),250))};function hb(a){ia("buffering");a.i&&(a.i.log(),a.i=null);a.s&&(a.b.playbackRate=a.l);a.h=!1;a.dispatchEvent(x({type:"bufferingEnd"}))}
E.prototype.N=function(){sb(this);if(!this.b.ended&&!this.b.seeking){var a=this.b.buffered,b=a.length?a.end(a.length-1):0,a=Math.max(b-this.b.currentTime,0),c=this.b.currentTime,d=this.b.duration,d=isNaN(d)?0:Math.max(d-.05,0),b=b>=d||c>=d;if(!this.h)!this.b.paused&&!b&&.5>a&&(this.h=!0,this.s?this.b.playbackRate=0:this.b.pause(),this.m&&!this.i&&(a=this.b.buffered,a=a.length?a.end(a.length-1):0,a=Math.max(a-this.b.currentTime,0),a=1E3*(xb(this.c)-a),this.i=this.m.getOperationLogger("buffering").setLength(Math.round(a)).start()),
fa("buffering"),this.dispatchEvent(x({type:"bufferingStart"}))),yb(this.c)&&hb(this);else if(a>xb(this.c)||yb(this.c))hb(this),this.H&&!this.s&&this.b.play()}};var tb={2:"A network failure occured while loading media content.",3:"The browser failed to decode the media content.",4:"The browser does not support the media content."};function G(a){D.call(this,null);this.a=new Ma(3);this.h=new Ma(10);this.f=a||5E5;this.g=0}q(G,D);p("shaka.util.EWMABandwidthEstimator",G);
G.prototype.sample=function(a,b,c,d,e){if(VideoPlayerShakaExperiments.changeAbrAudioExclusionLogic?!c:65536>b)e&&e.setEvent("unsampled").setUnsampledReason("audio").log();else{if(VideoPlayerShakaExperiments.useResourceTimingEntryForBandwidth){if(!d){e&&e.setEvent("unsampled").setUnsampledReason("resource_timing_entry_missing").log();return}a=d.timeToLastByte;if(0>a){e&&e.setEvent("unsampled").setUnsampledReason("resource_timing_entry_invalid").log();return}}a=Math.max(a,50);c=8E3*b/a;var f=a/1E3;
this.a.sample(f,c,d);this.h.sample(f,c,d);this.dispatchEvent(x({type:"bandwidth"}));e&&e.setEvent("sampled").setBytes(b).setDelayMs(parseInt(a,10)).log();this.g=Date.now()}};G.prototype.getBandwidth=function(){return.5>this.a.a?this.f:Math.min(Na(this.a),Na(this.h))};G.prototype.getFastMovingBandwidth=function(){return.5>this.a.a?this.f:Na(this.a)};G.prototype.getDataAge=function(){return(Date.now()-this.g)/1E3};G.prototype.supportsCaching=function(){return!1};/*

 Copyright 2015 Facebook Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function zb(a,b,c){G.call(this,c);this.c=a||0;this.b=void 0===b?Infinity:b}q(zb,G);p("shaka.util.EWMACacheBandwidthEstimator",zb);zb.prototype.sample=function(a,b,c,d,e){var f=8E3*b/a;e&&e.setBytes(b).setDelayMs(parseInt(a,10));a<=this.c&&f>this.b?e&&e.setEvent("unsampled").setUnsampledReason("cached").log():G.prototype.sample.call(this,a,b,c,d,e)};zb.prototype.supportsCaching=function(){return Infinity!==this.b&&!!this.c};function Ab(){G.call(this)}q(Ab,G);p("shaka.util.EWMASignedURLBandwidthEstimator",Ab);Ab.prototype.supportsCaching=function(){return!0};function H(){var a,b,c=new Promise(function(c,e){a=c;b=e});c.resolve=a;c.reject=b;c.destroy=H.prototype.destroy;return c}H.prototype.destroy=function(){this.catch(function(){});var a=Error("Destroyed!");a.type="destroy";this.reject(a)};function Bb(){this.Fa=new H;this.c=!1;this.ha=null;this.a=[];this.b=null}function Cb(a,b){if(a.c)throw Error("Cannot append to a running task!");a.a.push(b)}Bb.prototype.start=function(){if(this.c)throw Error("Task already started!");this.c=!0;this.a.unshift(function(){});Db(this,void 0)};Bb.prototype.end=function(){this.a.splice(1)};
function Db(a,b){var c=a.a[0](b),d;c?(d=c[0],a.b=c[1]):(d=Promise.resolve(),a.b=null);d.then(F(a,function(a){this.ha?(this.a=[],this.b=null,Eb(this)):(this.a.shift(),this.a.length?Db(this,a):(this.Fa.resolve(a),this.b=null))})).catch(F(a,function(a){this.a=[];this.b=null;this.ha?Eb(this):this.Fa.reject(a)}))}
function Eb(a){function b(){var a=Error("Task aborted.");a.type="aborted";this.Fa.reject(a);setTimeout(function(){this.ha.resolve();this.ha=null}.bind(this),5)}a.f?a.f.then(function(){this.f=null;b.call(this)}.bind(a)):b.call(a)};function F(a,b){return b.bind(a)};function Fb(a,b,c,d,e){MediaSource.isTypeSupported(b);D.call(this,d);d=a.addSourceBuffer(b);this.w=a;this.a=d;this.N=c;this.D=new bb;this.L=this.m=this.V=null;this.I=!1;this.H=this.F=this.G=0;this.C=null;this.S=this.B=!1;this.X=e;this.c=[];this.P=0;this.i=this.f=this.b=null;this.j=this.s=this.O=0;this.M=!1;this.g=b&&b.charAt(0);C(this.D,this.a,"updateend",this.W.bind(this));this.l=null}q(Fb,D);Fb.prototype.ia=function(){return{SourceBuffer:this.a}};
function Gb(a,b,c){a.Wa&&a.qa(b,{type:a.g.charAt(0),segment:c,sourceBuffer:a.a})}var Hb=1/60;Fb.prototype.destroy=function(){Ib(this).catch(function(){});this.f&&this.f.destroy();this.c=this.b=this.f=null;this.D.destroy();this.w=this.a=this.D=null};function Jb(a,b){for(var c=a.a.buffered,d=0;d<c.length;++d){var e=c.start(d)-Hb,f=c.end(d)+Hb;if(b>=e&&b<=f)return c.end(d)-b}return 0}
function Kb(a,b,c){b=b.endTime?b.endTime-b.startTime:1;var d=new Lb;d.c=3;d.l=1E3*b;d.g=1E3*a.O;d.w=a.V;d.s=c;d.U=a.X;d.b=a.g;return d}
function Mb(a,b,c,d,e,f){var g;a.m&&(g=a.m.getOperationLogger("fetch").setResource(b.url.toString()).setMimeType(a.g).setLength(Math.round(1E3*(b.endTime-b.startTime))).start());a.l=g;if(a.b)return d=Error("Cannot fetch ("+a.g+"): previous operation not complete."),a.s>=a.G?(d.type="stream",g&&g.setError(d).log(),a.s=0):(a.s++,d.type="aborted"),Promise.reject(d);a.b=new Bb;d!=a.a.timestampOffset&&(a.a.timestampOffset=d);d=Kb(a,b,f);var h=Nb(b.url,d,a.N,a.m,a.l,a.L);Gb(a,"SegmentFetching",b);var l=
K.prototype.wa.bind(b.url);a.C&&a.B&&(e=a.C);var k=0;e&&(a.C=e,a.B=!1,Cb(a.b,function(){return[e.then(function(a){a.ta>k&&(k=a.ta);return Ob(this,a,null)}.bind(this)),this.h.bind(this)]}.bind(a)));Cb(a.b,F(a,function(){return[h.then(function(a){Gb(this,"SegmentFetched",b);a.ta>k&&(k=a.ta);ca((this.N.getBandwidth()/1E6).toFixed(2));this.M&&extractCEA608(a,c).then(function(a){a.length&&this.dispatchEvent(x({type:"cea608-captions",bubbles:!0,detail:{captions:a}}))}.bind(this)).catch(function(a){console.error(a)});
return Ob(this,a,b)}.bind(this)),function(){Gb(this,"SegmentFailed",b);l();return this.h()}.bind(this)]}));var n=0==a.a.buffered.length&&0==a.c.length,r=null;Cb(a.b,function(){if(0==this.a.buffered.length&&!this.S){var a=Error("Failed to buffer segment ("+this.g+").");a.type="stream";return[Promise.reject(a)]}this.a.buffered.length&&n&&(a=b.startTime,r=this.a.buffered.start(0)-a);a=Pb(this.c,b.startTime);0<=a?this.c.splice(a+1,0,b):this.c.push(b)}.bind(a));a.s=0;return Qb(a).then(function(){g&&g.log();
return Promise.resolve({ca:r,Ob:k})}.bind(a),function(a){g&&g.setError(a).log();return Promise.reject(a)})}
function Rb(a){if(a.b){var b=Error("Cannot clear ("+a.g+"): previous operation not complete.");a.j>=a.F?(b.type="stream",a.j=0):(a.j++,b.type="aborted");return Promise.reject(b)}a.b=new Bb;Cb(a.b,function(){var a;a:if(0==this.a.buffered.length)a=Promise.resolve();else{try{this.a.remove(0,this.w.duration)}catch(b){a=Promise.reject(b);break a}this.c=[];a=this.f=new H}return[a,this.h.bind(this)]}.bind(a));a.j=0;return Qb(a)}
function Sb(a,b){if(a.b){var c=Error("Cannot clearAfter ("+a.g+"): previous operation not complete.");c.type="stream";return Promise.reject(c)}a.b=new Bb;Cb(a.b,function(){return[Tb(this,b),this.h.bind(this)]}.bind(a));return Qb(a)}function Ib(a){a.b?(a=a.b,a.ha?a=a.ha:a.c?(a.b&&(a.f=a.b()),a.ha=new H,a=a.ha):(a.c=!0,a=Promise.resolve())):a=Promise.resolve();return a}
function Ub(a){for(var b=a.currentTime,c=b,d=0;d<a.buffered.length;d++)if(b<=a.buffered.start(d)){c=a.buffered.start(d);break}return c}function Vb(a,b){for(var c=b.currentTime,d=0;d<b.buffered.length;d++)if(c>=b.buffered.start(d)&&c<=b.buffered.end(d)-a.H)return!1;return!0}function Qb(a){a.b.start();return a.b.Fa.then(F(a,function(){this.b=null})).catch(F(a,function(a){this.b=null;return Promise.reject(a)}))}
function Ob(a,b,c){var d;if(a.m){var e=c?c.url.toString():"init";d=a.m.getOperationLogger("append").setResource(e).setMimeType(a.g).setLength(b.byteLength).start();a.l&&(d=d.setParentLogger(a.l))}try{a.a.appendBuffer(b)}catch(f){return d&&d.setError(f).log(),Promise.reject(f)}a.f=new H;a.i=c;return a.f.then(function(){d&&d.log()},function(a){d&&d.setError(a).log();return Promise.reject(a)})}
function Tb(a,b){if(0==a.a.buffered.length)return Promise.resolve();var c=Pb(a.c,b);if(-1==c||c==a.c.length-1)return Promise.resolve();try{a.a.remove(a.c[c+1].startTime,a.w.duration)}catch(d){return Promise.reject(d)}a.c=a.c.slice(0,c+1);a.f=new H;return a.f}Fb.prototype.h=function(){if(this.f){if("open"==this.w.readyState){var a=Error("Previous operation aborted.");a.type="aborted";this.f.reject(a);this.a.abort();this.I&&(this.B=!0);this.f=new H}return this.f}return Promise.resolve()};
Fb.prototype.W=function(){this.f&&(this.i&&(Gb(this,"SegmentAppended",this.i),this.i=null),this.f.resolve(),this.f=null)};function Wb(a){return String.fromCharCode.apply(null,a)}p("shaka.util.Uint8ArrayUtils.toString",Wb);function Xb(a){for(var b=new Uint8Array(a.length),c=0;c<a.length;++c)b[c]=a.charCodeAt(c);return b}p("shaka.util.Uint8ArrayUtils.fromString",Xb);p("shaka.util.Uint8ArrayUtils.toBase64",function(a,b){var c=void 0==b?!0:b,d=window.btoa(Wb(a)).replace(/\+/g,"-").replace(/\//g,"_");return c?d:d.replace(/=*$/,"")});function Yb(a){return Xb(window.atob(a.replace(/-/g,"+").replace(/_/g,"/")))}
p("shaka.util.Uint8ArrayUtils.fromBase64",Yb);p("shaka.util.Uint8ArrayUtils.fromHex",function(a){for(var b=new Uint8Array(a.length/2),c=0;c<a.length;c+=2)b[c/2]=window.parseInt(a.substr(c,2),16);return b});function Zb(a){for(var b="",c=0;c<a.length;++c){var d=a[c].toString(16);1==d.length&&(d="0"+d);b+=d}return b}p("shaka.util.Uint8ArrayUtils.toHex",Zb);function Ja(a,b){if(!a&&!b)return!0;if(!a||!b||a.length!=b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!=b[c])return!1;return!0};function $b(){this.g=this.b="";this.l=!1;this.w=this.s=null;this.h=this.f=!1;this.j=this.c="";this.i=null;this.a=[]}function ac(a,b){var c=a.a.concat(b.map(function(a){return{initData:new Uint8Array(a.initData.buffer),initDataType:a.initDataType}}));a.a=va(c)}function wa(a,b){return a.initDataType==b.initDataType&&Ja(a.initData,b.initData)};function bc(a,b,c,d){this.a=[];d&&this.a.push(d)}p("shaka.player.DrmSchemeInfo",bc);bc.DistinctiveIdentifier={OPTIONAL:0,REQUIRED:1};bc.PersistentState={OPTIONAL:0,REQUIRED:1};bc.createUnencrypted=function(){return new bc(0,0,0,null)};function cc(a){this.systemIds=[];this.cencKeyIds=[];this.a=[];a=new za(new DataView(a.buffer));try{for(;Ca(a);){var b=a.a,c=t(a),d=t(a);1==c?c=Ea(a):0==c&&(c=a.b.byteLength-b);if(1886614376!=d)u(a,c-(a.a-b));else{var e=Da(a);if(1<e)u(a,c-(a.a-b));else{u(a,3);var f=Zb(Fa(a)),g=[];if(0<e)for(var h=t(a),l=0;l<h;++l){var k=Zb(Fa(a));g.push(k)}var n=t(a);u(a,n);this.cencKeyIds.push.apply(this.cencKeyIds,g);this.systemIds.push(f);this.a.push({start:b,end:a.a-1});a.a!=b+c&&u(a,c-(a.a-b))}}}}catch(r){}};var dc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function L(a){var b;a instanceof L?(ec(this,a.ba),this.na=a.na,this.Y=a.Y,fc(this,a.sa),this.Z=a.Z,gc(this,a.a.clone()),this.ka=a.ka):a&&(b=String(a).match(dc))?(ec(this,b[1]||"",!0),this.na=hc(b[2]||""),this.Y=hc(b[3]||"",!0),fc(this,b[4]),this.Z=hc(b[5]||"",!0),gc(this,b[6]||"",!0),this.ka=hc(b[7]||"")):this.a=new ic(null)}m=L.prototype;m.ba="";m.na="";m.Y="";m.sa=null;m.Z="";m.ka="";
m.toString=function(){var a=[],b=this.ba;b&&a.push(jc(b,kc,!0),":");if(b=this.Y){a.push("//");var c=this.na;c&&a.push(jc(c,kc,!0),"@");a.push(encodeURIComponent(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1"));b=this.sa;null!=b&&a.push(":",String(b))}if(b=this.Z)this.Y&&"/"!=b.charAt(0)&&a.push("/"),a.push(jc(b,"/"==b.charAt(0)?lc:mc,!0));(b=this.a.toString())&&a.push("?",b);(b=this.ka)&&a.push("#",jc(b,nc));return a.join("")};
m.resolve=function(a){var b=this.clone();"data"===b.ba&&(b=new L);var c=!!a.ba;c?ec(b,a.ba):c=!!a.na;c?b.na=a.na:c=!!a.Y;c?b.Y=a.Y:c=null!=a.sa;var d=a.Z;if(c)fc(b,a.sa);else if(c=!!a.Z){if("/"!=d.charAt(0))if(this.Y&&!this.Z)d="/"+d;else{var e=b.Z.lastIndexOf("/");-1!=e&&(d=b.Z.substr(0,e+1)+d)}if(".."==d||"."==d)d="";else if(-1!=d.indexOf("./")||-1!=d.indexOf("/.")){for(var e=0==d.lastIndexOf("/",0),d=d.split("/"),f=[],g=0;g<d.length;){var h=d[g++];"."==h?e&&g==d.length&&f.push(""):".."==h?((1<
f.length||1==f.length&&""!=f[0])&&f.pop(),e&&g==d.length&&f.push("")):(f.push(h),e=!0)}d=f.join("/")}}c?b.Z=d:c=""!==a.a.toString();c?gc(b,a.a.clone()):c=!!a.ka;c&&(b.ka=a.ka);return b};m.clone=function(){return new L(this)};function ec(a,b,c){a.ba=c?hc(b,!0):b;a.ba&&(a.ba=a.ba.replace(/:$/,""))}function fc(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.sa=b}else a.sa=null}function gc(a,b,c){b instanceof ic?a.a=b:(c||(b=jc(b,pc)),a.a=new ic(b))}
function hc(a,b){return a?b?decodeURI(a):decodeURIComponent(a):""}function jc(a,b,c){return"string"==typeof a?(a=encodeURI(a).replace(b,qc),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function qc(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var kc=/[#\/\?@]/g,mc=/[\#\?:]/g,lc=/[\#\?]/g,pc=/[\#\?@]/g,nc=/#/g;function ic(a){this.b=a||null}ic.prototype.a=null;ic.prototype.c=null;
function M(a,b,c){if(!a.a&&(a.a={},a.c=0,a.b))for(var d=a.b.split("&"),e=0;e<d.length;e++){var f=d[e].indexOf("="),g=null,h=null;0<=f?(g=d[e].substring(0,f),h=d[e].substring(f+1)):g=d[e];g=decodeURIComponent(g.replace(/\+/g," "));h=h||"";M(a,g,decodeURIComponent(h.replace(/\+/g," ")))}a.b=null;(d=a.a.hasOwnProperty(b)&&a.a[b])||(a.a[b]=d=[]);d.push(c);a.c++}
ic.prototype.toString=function(){if(this.b)return this.b;if(!this.a)return"";var a=[],b;for(b in this.a)for(var c=encodeURIComponent(b),d=this.a[b],e=0;e<d.length;e++){var f=c;""!==d[e]&&(f+="="+encodeURIComponent(d[e]));a.push(f)}return this.b=a.join("&")};ic.prototype.clone=function(){var a=new ic;a.b=this.b;if(this.a){var b={},c;for(c in this.a)b[c]=this.a[c].concat();a.a=b;a.c=this.c}return a};function rc(a,b,c){var d=a.indexOf("<?xml");0<=d&&(a=a.substr(d));a=(new DOMParser).parseFromString(a,"text/xml");if(!a)return null;"string"===typeof b&&(b=[new L(b)]);b=b||[new L("")];c=c||[new L("")];return N({qb:b,v:c},a,sc)}p("shaka.dash.mpd.parseMpd",rc);function sc(){this.id=this.url=null;this.type="static";this.b=this.j=this.v=this.qb=null;this.h=5;this.f=this.c=this.g=null;this.i=1;this.a=[]}function tc(){this.g=this.f=this.c=this.v=this.a=this.start=this.id=null;this.b=[]}
function uc(){this.j=this.b=this.height=this.width=this.contentType=this.lang=this.group=this.id=null;this.f=!1;this.i=this.h=this.g=this.v=null;this.l=[];this.a=[];this.c=null}function vc(){this.value=null}function wc(){this.lang=this.a=null}function xc(){this.contentType=this.lang=this.id=null}function yc(){this.a=this.b=this.g=this.v=this.fbQualityClass=this.fbQualityLabel=this.h=this.f=this.height=this.width=this.bandwidth=this.lang=this.id=null;this.c=[]}
function zc(){this.b=this.a=this.f=this.c=null}function Ac(){this.parsedPssh=this.psshBox=null}function Bc(){this.url=null}function Cc(){this.url=null}function Dc(){this.v=null;this.a=1;this.f=this.c=this.g=this.b=this.h=null}Dc.prototype.clone=function(){var a=new Dc;a.v=Ec(this.v);a.a=this.a;a.h=this.h;a.b=O(this.b);a.g=O(this.g);a.c=O(this.c);a.f=O(this.f);return a};function Fc(){this.a=this.url=null}Fc.prototype.clone=function(){var a=new Fc;a.url=Ec(this.url);a.a=O(this.a);return a};
function Gc(){this.a=this.url=null}Gc.prototype.clone=function(){var a=new Gc;a.url=Ec(this.url);a.a=O(this.a);return a};function Hc(){this.v=null;this.a=1;this.c=this.g=null;this.i=0;this.h=null;this.b=[];this.f=null}Hc.prototype.clone=function(){var a=new Hc;a.v=Ec(this.v);a.a=this.a;a.g=this.g;a.c=this.c;a.i=this.i;a.h=O(this.h);a.b=Ec(this.b)||[];a.f=O(this.f);return a};function Ic(){this.a=this.b=null}Ic.prototype.clone=function(){var a=new Ic;a.b=Ec(this.b);a.a=O(this.a);return a};
function Jc(){this.a=1;this.b=this.i=null;this.j=0;this.c=this.g=this.f=this.h=null}Jc.prototype.clone=function(){var a=new Jc;a.a=this.a;a.i=this.i;a.b=this.b;a.j=this.j;a.h=this.h;a.f=this.f;a.g=this.g;a.c=O(this.c);return a};function Kc(){this.a=[]}Kc.prototype.clone=function(){var a=new Kc;a.a=Ec(this.a)||[];return a};function Lc(){this.b=this.a=this.startTime=null}Lc.prototype.clone=function(){var a=new Lc;a.startTime=this.startTime;a.a=this.a;a.b=this.b;return a};
function Mc(a,b){this.xa=a;this.end=b}Mc.prototype.clone=function(){return new Mc(this.xa,this.end)};sc.TAG_NAME="MPD";tc.TAG_NAME="Period";uc.TAG_NAME="AdaptationSet";vc.TAG_NAME="Role";wc.TAG_NAME="Accessibility";xc.TAG_NAME="ContentComponent";yc.TAG_NAME="Representation";zc.TAG_NAME="ContentProtection";Ac.TAG_NAME="cenc:pssh";Bc.TAG_NAME="BaseURL";Cc.TAG_NAME="Location";Dc.TAG_NAME="SegmentBase";Fc.TAG_NAME="RepresentationIndex";Gc.TAG_NAME="Initialization";Hc.TAG_NAME="SegmentList";
Ic.TAG_NAME="SegmentURL";Jc.TAG_NAME="SegmentTemplate";Kc.TAG_NAME="SegmentTimeline";Lc.TAG_NAME="S";
sc.prototype.parse=function(a,b){this.url=a.qb;this.id=P(b,"id",Q);this.type=P(b,"type",Q)||"static";this.b=P(b,"mediaPresentationDuration",Nc);this.h=P(b,"minBufferTime",Nc,this.h);this.g=P(b,"minimumUpdatePeriod",Nc,this.g);this.c=P(b,"availabilityStartTime",Oc,this.c);this.f=P(b,"timeShiftBufferDepth",Nc,this.f);this.f=null;this.i=P(b,"suggestedPresentationDelay",Nc,this.i);var c=a.v,d=R(this,b,Bc);this.v=Pc(c,d);if(d=N(this,b,Cc))this.j=Qc(c,d.url);this.a=R(this,b,tc)};
function Rc(a,b,c,d){if(0!==a.a.length){var e=new uc;e.contentType="text";e.lang=c||"en";e.f=!0;c=new yc;c.bandwidth=0;c.f=d||"text/vtt";c.v=[new L(b)];e.a.push(c);a.a[0].b.push(e);Sc(a.a[0])}}tc.prototype.parse=function(a,b){this.id=P(b,"id",Q);this.start=P(b,"start",Nc);this.a=P(b,"duration",Nc);var c=R(this,b,Bc);this.v=Pc(a.v,c);this.c=N(this,b,Dc);this.f=N(this,b,Hc);this.g=N(this,b,Jc);this.b=R(this,b,uc);Sc(this)};
function Sc(a){for(var b=[],c=0;c<a.b.length;++c){var d=a.b[c];null!=d.group&&(b[d.group]=!0)}for(c=0;c<a.b.length;++c)if(d=a.b[c],null==d.group){for(var e=1;1==b[e];)++e;b[e]=!0;d.group=e}}
uc.prototype.parse=function(a,b){var c=N(this,b,xc)||{},d=N(this,b,vc);this.id=P(b,"id",Q);this.group=P(b,"group",S);this.lang=P(b,"lang",Q,c.lang);this.contentType=P(b,"contentType",Q,c.contentType);this.width=P(b,"width",T);this.height=P(b,"height",T);this.b=P(b,"mimeType",Q);this.j=P(b,"codecs",Q);this.f=d&&"main"==d.value;this.lang&&(this.lang=Qa(this.lang));c=R(this,b,Bc);this.v=Pc(a.v,c);this.l=R(this,b,zc);!this.contentType&&this.b&&(this.contentType=this.b.split("/")[0]);this.g=a.c?Tc(this,
b,a.c):N(this,b,Dc);this.h=a.f?Tc(this,b,a.f):N(this,b,Hc);this.i=a.g?Tc(this,b,a.g):N(this,b,Jc);this.a=R(this,b,yc);this.c=N(this,b,wc);!this.b&&this.a.length&&(this.b=this.a[0].f,!this.contentType&&this.b&&(this.contentType=this.b.split("/")[0]))};vc.prototype.parse=function(a,b){this.value=P(b,"value",Q)};wc.prototype.parse=function(a,b){this.a=P(b,"schemeIdUri",Q);this.lang=P(b,"lang",Q)};
xc.prototype.parse=function(a,b){this.id=P(b,"id",Q);this.lang=P(b,"lang",Q);this.contentType=P(b,"contentType",Q);this.lang&&(this.lang=Qa(this.lang))};
yc.prototype.parse=function(a,b){this.id=P(b,"id",Q);this.bandwidth=P(b,"bandwidth",T);this.width=P(b,"width",T,a.width);this.height=P(b,"height",T,a.height);this.f=P(b,"mimeType",Q,a.b);this.h=P(b,"codecs",Q,a.j);this.fbQualityLabel=P(b,"FBQualityLabel",Q);this.fbQualityClass=P(b,"FBQualityClass",Q);this.lang=a.lang;var c=R(this,b,Bc);this.v=Pc(a.v,c);this.c=R(this,b,zc);this.g=a.g?Tc(this,b,a.g):N(this,b,Dc);this.b=a.h?Tc(this,b,a.h):N(this,b,Hc);this.a=a.i?Tc(this,b,a.i):N(this,b,Jc);this.c=this.c.concat(a.l)};
zc.prototype.parse=function(a,b){this.c=b;this.f=P(b,"schemeIdUri",Q);var c=P(b,"cenc:default_KID",Q);c&&(this.b=c.replace(/[-]/g,""));this.a=N(this,b,Ac)};Ac.prototype.parse=function(a,b){var c=Uc(b);if(c){this.psshBox=Yb(c);try{this.parsedPssh=new cc(this.psshBox)}catch(d){if(!(d instanceof RangeError))throw d;}}};Bc.prototype.parse=function(a,b){var c=b.childNodes,d="";if(1==c.length)d=Uc(b);else for(var e=0;e<c.length;e++)c[e].nodeType==Node.TEXT_NODE&&(d+=c[e].nodeValue);this.url=d};
Cc.prototype.parse=function(a,b){this.url=Uc(b)};Dc.prototype.parse=function(a,b){this.v=a.v||this.v;this.a=P(b,"timescale",T,this.a);this.h=P(b,"presentationTimeOffset",S,this.h);this.b=P(b,"indexRange",Vc,this.b);this.g=P(b,"FBFirstSegmentRange",Vc,this.g);this.c=N(this,b,Fc)||this.c;this.f=N(this,b,Gc)||this.f};Fc.prototype.parse=function(a,b){var c=P(b,"sourceURL",Q);this.url=Qc(a.v,c);this.a=P(b,"range",Vc,O(a.b))};
Gc.prototype.parse=function(a,b){var c=P(b,"sourceURL",Q);this.url=Qc(a.v,c);this.a=P(b,"range",Vc)};Hc.prototype.parse=function(a,b){this.v=a.v||this.v;this.a=P(b,"timescale",T,this.a);this.g=P(b,"presentationTimeOffset",S,this.g);this.c=P(b,"duration",T,this.c);var c=P(b,"startNumber",T);null!=c&&(this.i=c);this.h=N(this,b,Gc)||this.h;this.b=(c=R(this,b,Ic))&&0<c.length?c:this.b;this.f=N(this,b,Kc)||this.f};
Ic.prototype.parse=function(a,b){var c=P(b,"media",Q);this.b=Qc(a.v,c);this.a=P(b,"mediaRange",Vc)};Jc.prototype.parse=function(a,b){this.a=P(b,"timescale",T,this.a);this.i=P(b,"presentationTimeOffset",S,this.i);this.b=P(b,"duration",T,this.b);var c=P(b,"startNumber",S);null!=c&&(this.j=c);this.h=P(b,"media",Q,this.h);this.f=P(b,"index",Q,this.f);this.g=P(b,"initialization",Q,this.g);this.c=N(this,b,Kc)||this.c};Kc.prototype.parse=function(a,b){this.a=R(this,b,Lc)};
Lc.prototype.parse=function(a,b){this.startTime=P(b,"t",S);this.a=P(b,"d",S);this.b=P(b,"r",Wc)};function Pc(a,b){if(!b||0===b.length)return a;for(var c=[],d=0;d<b.length;d++){var e=b[d].url;null==a||0===a.length?c.push(new L(e)):(e=Qc(a.slice(0,1),e),c.push(e[0]))}return c}function Qc(a,b){if(!b)return a;var c=new L(b);return a?a.map(function(a){return a.resolve(c)}):[c]}function Tc(a,b,c){var d=O(c);(b=Xc(b,c.constructor.TAG_NAME))&&d.parse(a,b);return d}
function N(a,b,c){var d=null;if(b=Xc(b,c.TAG_NAME))d=new c,d.parse(a,b);return d}function Xc(a,b){for(var c=null,d=0;d<a.childNodes.length;d++)if(a.childNodes[d].tagName==b){if(c)return null;c=a.childNodes[d]}return c}function R(a,b,c){for(var d=[],e=0;e<b.childNodes.length;e++)if(b.childNodes[e].tagName==c.TAG_NAME){var f=new c;f.parse.call(f,a,b.childNodes[e]);d.push(f)}return d}function Uc(a){a=a.firstChild;return a.nodeType!=Node.TEXT_NODE?null:a.nodeValue}
function Ec(a){return a?a.map(function(a){return a.clone()}):null}function O(a){return a?a.clone():null}function P(a,b,c,d){a=c(a.getAttribute(b));return null!=a?a:void 0!==d?d:null}function Oc(a){if(!a)return null;a=Date.parse(a);return isNaN(a)?null:Math.floor(a/1E3)}
function Nc(a){if(!a)return null;var b=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(a);if(!b)return null;a=0;var c=S(b[1]);c&&(a+=31536E3*c);(c=S(b[2]))&&(a+=2592E3*c);(c=S(b[3]))&&(a+=86400*c);(c=S(b[4]))&&(a+=3600*c);(c=S(b[5]))&&(a+=60*c);b=window.parseFloat(b[6]);(b=isNaN(b)?null:b)&&(a+=b);return a}
function Vc(a){var b=/([0-9]+)-([0-9]+)/.exec(a);if(!b)return null;a=S(b[1]);if(null==a)return null;b=S(b[2]);return null==b?null:new Mc(a,b)}function Wc(a){a=window.parseInt(a,10);return isNaN(a)?null:a}function T(a){a=window.parseInt(a,10);return 0<a?a:null}function S(a){a=window.parseInt(a,10);return 0<=a?a:null}function Q(a){return a};function Yc(a,b){this.url=a;this.b=b||new Lb;this.g=this.h=this.i=0;this.a=null;this.c=new H;this.f=null;this.w=this.b.j}p("shaka.util.AjaxRequest",Yc);function Lb(){this.body=null;this.c=1;this.l=1E3;this.g=0;this.method="GET";this.h="arraybuffer";this.f={};this.i=!1;this.U=this.a=this.w=null;this.s=!1;this.j=this.b=null}var wb=!0;function Zc(a){$c(a);a.b.body=null;a.c.destroy();a.c=null;a.f=null}
function $c(a){a.a&&(a.a.onload=null,a.a.onreadystatechange=null,a.a.onerror=null,a.a.ontimeout=null);a.a=null}var ad=/(.*)\.(xx|fna)\.fbcdn\.net/,bd=/livestream-lookaside\.facebook\.com$/;
Yc.prototype.send=function(){if(this.a)return this.c;if(0==this.url.lastIndexOf("data:",0)){var a=this.url.split(":")[1].split(";").pop().split(","),b=a.pop(),b="base64"==a.pop()?window.atob(b.replace(/-/g,"+").replace(/_/g,"/")):window.decodeURIComponent(b);"arraybuffer"==this.b.h&&(b=Xb(b).buffer);a=JSON.parse(JSON.stringify(new XMLHttpRequest));a.response=b;a.responseText=b.toString();b=this.c;b.resolve(a);Zc(this);return b}if(0==this.url.lastIndexOf("idb:",0))return this.C();this.i++;this.h=window.performance.now();
this.g||(this.g=this.b.l);this.a=new XMLHttpRequest;var c=this.url,a=new L(c);wb&&(this.f&&!this.f.supportsCaching()||this.b.i)&&M(a.a,"_",Date.now());c=ad.test(c);if(null!=this.b.a&&c){var d=this.b.a,e=a.a;null!=d.a&&(d.h=d.a.getSegmentsToPush(),d.f=d.a.getSegmentStartTime(),d.g=d.a.getSegmentOffset(),d.c=d.a.getPushVideoRepresentationID(),d.b=d.a.getPushAudioRepresentationID(),d.j=d.a.getUseLongCacheForManifest());null!=d.h&&M(e,"_nc_p_n",d.h);null!=d.f?M(e,"_nc_p_ts",d.f):null!=d.g&&M(e,"_nc_p_o",
d.g);null!=d.c&&null!=d.b&&(M(e,"_nc_p_rid",d.c),M(e,"_nc_p_arid",d.b));d.i&&M(e,"_nc_p_dbg","1");d.j&&M(e,"_nc_nc","1")}1==this.b.s&&c&&M(a.a,"_nc_playing",1);c=a.toString();a=bd.test(a.Y);this.a.open(this.b.method,c,!0);this.a.responseType=this.b.h;this.a.timeout=this.b.g;this.a.withCredentials=a;setEventProperty(this.a,"onload",this.j.bind(this));setEventProperty(this.a,"onreadystatechange",this.l.bind(this));setEventProperty(this.a,"onerror",this.B.bind(this));setEventProperty(this.a,"ontimeout",
this.s.bind(this));for(b in this.b.f)this.a.setRequestHeader(b,this.b.f[b]);this.a.send(this.b.body);return this.c};Yc.prototype.send=Yc.prototype.send;function cd(a,b,c){b=Error(b);b.type=c;b.status=a.a.status;b.url=a.url;b.method=a.b.method;b.body=a.b.body;b.ic=a.a;return b}
Yc.prototype.j=function(a){if(this.f){var b=VideoPlayerResourceTimer.getResourceTimingEntry(this.url,this.h,window.performance.now());this.f.sample(window.performance.now()-this.h,a.loaded,this.b.b?"v"===this.b.b.charAt(0):!1,b,this.w)}a=[403];200<=this.a.status&&299>=this.a.status?(this.c.resolve(this.a),Zc(this)):this.i<this.b.c&&-1===a.indexOf(this.a.status)?dd(this):(a=cd(this,"HTTP error.","net"),this.c.reject(a),Zc(this))};
Yc.prototype.l=function(){if(this.a.readyState==XMLHttpRequest.HEADERS_RECEIVED&&(this.a.ta=Date.now()-this.h,this.b.a&&this.b.U&&ed(this.b.U,this.a),this.b.i)){var a=Date.parse(this.a.getResponseHeader("Date"));a&&(ya=a-Date.now())}};Yc.prototype.B=function(){var a=cd(this,"Network failure.","net");this.c.reject(a);Zc(this)};Yc.prototype.s=function(){if(this.i<this.b.c)dd(this);else{var a=cd(this,"Request timed out.","net");this.c.reject(a);Zc(this)}};
function dd(a){$c(a);setTimeout(a.send.bind(a),a.g*(1+.5*(2*Math.random()-1)));a.g*=2}function fd(){this.a=new Map;this.b=!1}function ed(a,b){var c=b.getResponseHeader("X-FB-Debug-Num-Pushed"),d=b.getResponseHeader("X-FB-Debug-List-Pushed");null!=d&&null!=c&&(c=parseInt(c,10),d=d.split(","),c!=d.length&&console.warn("Inconsistent push debug headers.",c,d),c&&(-1<d[0].indexOf("/")&&(a.b=!0),d.forEach(function(a){this.a.set(a,(this.a.get(a)||0)+1)}.bind(a))))}var gd=/\/([^\/]+)$/,hd=/\/([^\/]+\/[^\/]+)$/;
function id(a,b){var c;c=(new L(b)).Z;c=(a.b?hd:gd).exec(c);if(!c)return 0;c=c[1];return a.a.get(c)||0};function K(a,b,c,d){this.a=b;this.h=c||0;this.g=null!=d?d:null;this.f=this.b=null;this.j=a;this.i=null;this.l=!1;this.c=null}var jd;p("shaka.util.FailoverUri",K);function kd(a,b){return a&&0!==a.length?a.map(function(a){return a.resolve(b)}):[b]}K.setPrefetchCacheValueGetter=function(a){jd=a};function Nb(a,b,c,d,e,f){if(a.b)return a.b;a.b=ld(a,0,b||new Lb,void 0,c,d,e,f);return a.b}m=K.prototype;m.Mb=function(a,b,c,d){return Nb(this,a,b,c,d,!0)};
m.wa=function(){if(this.f){this.c=this.b=null;var a=this.f;if(a.a&&a.a.readyState!=XMLHttpRequest.DONE){a.a.abort();var b=cd(a,"Request aborted.","aborted");a.c.reject(b);Zc(a)}this.i=this.f=null}};
function ld(a,b,c,d,e,f,g,h){var l=a.a[b].toString(),k;if(f){c.a&&(c.a.i=!0);var n=0;c.U&&(n=id(c.U,l));k=f.getOperationLogger("request").setResource(l).setPushed(n).start();g&&(k=k.setParentLogger(g))}var r=window.performance.now();a.c=null;h&&(c.j=h);if(a.h||a.g)f=a.a[b].Y,!f.endsWith("fbcdn.net")||f.startsWith("interncache")||f.endsWith("ak.fbcdn.net")?c.f.Range="bytes="+(a.h+"-"+(null!=a.g?a.g:"")):(l+="&bytestart="+a.h,l+=null!==a.g?"&byteend="+a.g:"");a.j&&(l=a.j(l,c.f)||l);f=null;a.l=!1;jd&&
(f=jd(l,F(a,function(a){this.c=a;this.l=!0;e&&a&&e.sample(a.timeToLastByte,a.transferSize,c.b?"v"===c.b.charAt(0):!1,a,h)})));f||(a.f=new Yc(l,c),e&&(a.f.f=e),f=a.f.send());f=f.then(F(a,function(a){d||(this.b=null);d=!1;this.i=this.f=null;this.i=a.a?new L(a.a):this.a[b];a.response.ta=a.ta;var c=VideoPlayerResourceTimer.getResourceTimingEntry(l,r,window.performance.now());c&&(this.c=c);k&&(k=k.setLength(a.response.byteLength||a.response.length).setWasPrefetchCacheHit(this.l),null!=this.c&&(k=k.setTimeToLastByte(Math.round(this.c.timeToLastByte)).setTimeToFirstByte(Math.round(this.c.timeToFirstByte)).setTimeToRequestStart(Math.round(this.c.timeToRequestStart))),
k.log());return Promise.resolve(a.response)}));return f=f.catch(F(a,function(a){if(this.b&&b+1<this.a.length)return this.b=ld(this,b+1,c,d,e);this.c=this.b=this.f=null;k&&k.setError(a).log();return Promise.reject(a)}))}m.clone=function(){return new K(this.j,this.a.map(function(a){return a.clone()}),this.h,this.g)};m.getResourceTimingEntry=function(){return this.c};m.toString=function(){return this.a[0].toString()};function md(a,b,c,d){this.a=new Lb;this.a.h="text";this.a.c=3;this.a.g=1E3*(null!=b?b:0);c&&(this.a.a=c);d&&(this.a.U=d);this.a.i=!0;this.b=a}md.prototype.send=function(a){var b=this.b;return Nb(b,this.a,null,a).then(function(a){a instanceof ArrayBuffer&&(a=String.fromCharCode.apply(null,new Uint8Array(a)));if(a=rc(a,b.a,[b.i]))return Promise.resolve(a);a=Error("MPD parse failure.");a.type="dash";return Promise.reject(a)})};
function nd(a){this.a=null;this.h=a;this.c=this.g=this.f=null;this.i=!1;this.j=this.b=null};function od(a,b,c,d){for(var e=b.a,f=[],g=0;g<d;++g){var h=g+c,l=(h-1)*e.b,k=l/e.a,n=(l+e.b)/e.a,h=pd(a,b,e.j+h-1,l);if(!h)return null;f.push(new qd(k,n,h,l))}return f}function pd(a,b,c,d){if(!b.a)return null;var e=b.a.h;if(!e)return b.v?new K(a,b.v,0,null):null;c=rd(e,b.id,c,b.bandwidth,d);if(!c)return null;b=kd(b.v,c);return new K(a,b,0,null)}
function rd(a,b,c,d,e){var f={RepresentationID:b,Number:c,Bandwidth:d,Time:e};a=a.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)d)?\$/g,function(a,b,c){if("$$"==a)return"$";var d=f[b];if(null==d)return a;"RepresentationID"==b&&c&&(c=void 0);a=d.toString();c=window.parseInt(c,10)||1;c=Math.max(0,c-a.length);return Array(c+1).join("0")+a});try{return new L(a)}catch(g){if(g instanceof URIError)return null;throw g;}}
function sd(a,b,c){var d=0;c*=b;a=a.a;for(var e=[],f=0;f<a.length&&a[f].a;++f){var g=a[f].startTime,g=null!=g?g:d,h=a[f].b||0;if(0>h)if(h=a[f].a,f+1===a.length)var l=a[0].startTime+c-g,h=Math.ceil(l/h)-1;else h=Math.ceil((a[f+1].startTime-g)/h)-1;if(0<e.length&&g!=d){var l=g-d,k=e[e.length-1];k.debugInfo={endTime:d/b,delta:l/b};k.end=g}for(l=0;l<=h;++l)d=g+a[f].a,e.push({start:g,end:d}),g=d}return e};function td(a,b){this.a=a;this.b=b||null}td.prototype.destroy=function(){this.a&&(this.a.wa(),this.a=null);this.b=null};td.prototype.create=function(a,b){var c=null;b&&(c=new Lb,c.U=b);return this.a?Nb(this.a,c,null,a):Promise.resolve(this.b)};function qd(a,b,c,d,e){this.startTime=a;this.endTime=b;this.url=c;this.a=null!=d?d:null;this.debugInfo=e||null}function ud(a,b,c){return new qd(b,c,a.url,null!=a.a?a.a:void 0)}function Pb(a,b){for(var c=a.length-1;0<=c;--c){var d=a[c];if(b>=d.startTime&&(null==d.endTime||b<d.endTime))return c}return-1}function Dd(a,b){return a.map(function(a){return ud(a,a.startTime+b,null!=a.endTime?a.endTime+b:null)})};function Ed(){}
Ed.prototype.parse=function(a,b,c,d,e){var f=null;try{a:{var g=[],h=new za(a),l=t(h);if(1936286840!=t(h))f=null;else{1==l&&(l=Ea(h));var k=Da(h);u(h,3);u(h,4);var n=t(h);if(0==n)f=null;else{var r,w;0==k?(r=t(h),w=t(h)):(r=Ea(h),w=Ea(h));u(h,2);var J=h.b.getUint16(h.a,h.c);h.a+=2;a=r;b=b+l+w;for(w=l=0;w<J;w++){var I=t(h);r=(I&2147483648)>>>31;var k=I&2147483647,ea=t(h);t(h);if(1==r){f=null;break a}var qb;qb=0==w&&e?e:new K(d,c,b,b+k-1);r=a/n;var rb=(a+ea)/n;0===w&&(l=r);g.push(new qd(r-l,rb-l,qb));
a+=ea;b+=k}g.a=n;f=g}}}}catch(Va){if(!(Va instanceof RangeError))throw Va;}return f};function U(a,b){this.u=a;this.ca=0;this.a=b;this.g=[];this.Ua=!1}U.prototype.da=function(){return!!this.g[this.g.length-1]};U.prototype.lastPollHadChanges=U.prototype.da;U.prototype.H=function(){var a=this.g,b=a.lastIndexOf(!0);if(1>b)return 0;a=a.lastIndexOf(!0,b-1);return 0>a?0:b-a-1};U.prototype.getFetchesBetweenRecentChanges=U.prototype.H;U.prototype.G=function(){return Math.floor((this.g.length-1-this.g.lastIndexOf(!0))/2)};U.prototype.getConsecutiveUpdatesWithoutChanges=U.prototype.G;
U.prototype.F=function(){return this.g.length-1-this.g.lastIndexOf(!1)};U.prototype.getConsecutiveUpdatesWithChanges=U.prototype.F;U.prototype.destroy=function(){this.u=null};U.prototype.length=function(){return this.u.length};U.prototype.I=function(){return(this.u||[]).slice()};U.prototype.getSegments=U.prototype.I;function V(a){if(0==a.u.length)throw new RangeError("SegmentIndex: There is no first SegmentReference.");return a.u[0]}
U.prototype.A=function(){if(0==this.u.length)throw new RangeError("SegmentIndex: There is no last SegmentReference.");return this.u[this.u.length-1]};U.prototype.last=U.prototype.A;m=U.prototype;m.get=function(a){if(0>a||a>=this.u.length)throw new RangeError("SegmentIndex: The specified index is out of range.");return this.u[a]};m.ua=function(a){a=Pb(this.u,a);return 0<=a?this.u[a]:null};m.Ta=function(a){Fd(this,a);return!0};
function Fd(a,b){a.ca!=b.ca&&(b=new U(Dd(b.u,a.ca-b.ca),b.a));if(0==a.length())a.u=b.u.slice(0);else if(0!=b.length()&&null!=a.A().endTime)if(null!=b.A().endTime&&b.A().endTime<a.A().endTime)a.Ua=!0;else{a.Ua=!1;if(a.A().endTime<=V(b).startTime)var c=ud(a.A(),a.A().startTime,V(b).startTime),c=a.u.slice(0,-1).concat([c]);else{var d;for(d=0;d<a.u.length&&!(a.u[d].endTime>=V(b).startTime);++d);a.u[d].startTime<V(b).startTime?(c=ud(a.u[d],a.u[d].startTime,V(b).startTime),c=a.u.slice(0,d).concat([c])):
(V(a).startTime>V(b).startTime||V(b),c=a.u.slice(0,d))}a.u=c.concat(b.u)}}m.ma=function(a){var b=a-this.ca;if(0==b)return 0;this.u=Dd(this.u,b);this.ca=a;return b};m.Qa=function(){return 0<this.length()?{start:V(this).startTime,end:this.A().endTime}:{start:0,end:0}};function W(a,b,c,d,e){U.call(this,a,b);this.i=c;this.C=d;this.h=e;this.j=this.i.b||this.i.a.reduce(function(a,b){return null==b.a?NaN:a+b.a},0)||0;this.b=this.w=this.f=null;Gd(this)}q(W,U);W.prototype.destroy=function(){this.C=this.i=null;U.prototype.destroy.call(this)};W.prototype.ua=function(a){Hd(this,xa()/1E3);return U.prototype.ua.call(this,a)};W.prototype.Ta=function(a){if(!(a instanceof W))return!1;Fd(this,a);this.j=Math.max(this.j,a.j);null==this.f?(this.h=a.h,Gd(this)):Id(this);return!0};
function Gd(a){Id(a);if(0!=a.length()){a.length();var b=null!=a.A().endTime?a.A().endTime:a.A().startTime;if(a.i.c>a.h)a.f=b;else{var c=a.h-(a.i.c+a.C.start);0>c?a.f=b:c<Math.max(a.A().startTime,a.A().endTime||0)?(a.A(),a.f=b):a.f=c}a.w=a.A().startTime;a.b=V(a).startTime}}W.prototype.ma=function(a){a=U.prototype.ma.call(this,a);Math.min.apply(null,this.u.filter(function(a){return null!=a.endTime}).map(function(a){return a.endTime-a.startTime}));null!=this.f&&(this.w+=a,this.b+=a,this.f+=a);return a};
W.prototype.Qa=function(){return Jd(this,xa()/1E3)};function Jd(a,b){Hd(a,b);if(null==a.f||null==a.w||null==a.b)return{start:0,end:0};var c=Number.POSITIVE_INFINITY;a.j&&(c=a.j);var d=b-a.h,e=a.f+d;null!=a.i.f&&(e=e-a.b-a.i.f,0<e&&(a.b+=e));a.b=Math.min(a.b,c);d=a.w+d;if(d<a.b)return{start:a.b,end:a.b};d=0<a.length()?null!=a.A().endTime?Math.min(d,a.A().endTime):d:a.b;d=Math.max(d,a.b);d=Math.min(d,c);return{start:a.b,end:d}}
function Hd(a,b){Id(a);if(null!=a.i.f)if(null==a.f)a.length();else{for(var c=a.f+(b-a.h),d=0,e=0;e<a.u.length;++e){var f=null;e<a.u.length-1?f=a.u[e+1].endTime:(f=a.u[e],f=null!=f.endTime?f.endTime+(f.endTime-f.startTime):null);if(null!=f&&f<c-a.i.f)++d;else break}0<d&&a.u.splice(0,d)}}function Id(a){if(a.j){for(var b=0,c=a.u.length-1;0<=c;--c)if(a.u[c].startTime>a.j)++b;else break;0<b&&a.u.splice(-b)}};function Kd(a,b,c,d,e){var f=1,g=0,h;if(a.c>d)h=null;else{var l=a.i||0,k=a.f||0;h=c.a;h=h.b/h.a;var n=d-(a.c+b.start);0>n?h=null:(k=n-2*h-k,0>k&&(k=0),k=Math.ceil(k/h)*h,n-=h,0>n?h=null:(l=Math.floor(n/h)*h-l,0>l&&(l=0),l=Math.floor(l/h)*h,h={Za:k/h+1,current:(l>=k?l:k)/h+1}))}h&&(f=h.Za,g=h.current-h.Za+1);f=od(e,c,f,g);if(null==f)throw a=Error("Failed to generate SegmentReferences."),a.type="stream",a;W.call(this,f,c.a.a||1,a,b,d);this.B=c;this.s=this.c=0<this.length()?a.c+b.start+this.A().endTime:
null;this.l=h?h.current+1:null;this.D=e}q(Kd,W);Kd.prototype.destroy=function(){this.D=this.B=null;W.prototype.destroy.call(this)};Kd.prototype.ua=function(a){var b=xa()/1E3;Ld(this,b);Hd(this,b);return U.prototype.ua.call(this,a)};Kd.prototype.Ta=function(a){if(null!=this.c||!(a instanceof Kd)||null==a.c)return!1;this.c=a.c;this.s=a.s;this.l=a.l;this.h=a.h;this.j=a.j;Fd(this,a);Ld(this,xa()/1E3);Gd(this);return!0};
Kd.prototype.ma=function(a){a=W.prototype.ma.call(this,a);null!=this.c&&(this.c+=a,this.s+=a);return a};Kd.prototype.Qa=function(){var a=xa()/1E3;Ld(this,a);return Jd(this,a)};function Ld(a,b){if(null!=a.c&&null!=a.s&&null!=a.l){var c=a.B.a,c=c.b/c.a,d=Math.floor((a.s+(b-a.h)-a.c)/c);if(0!=d){var e=od(a.D,a.B,a.l,d);Array.prototype.push.apply(a.u,Dd(e,a.ca));a.c+=d*c;a.l+=d}}};function Md(a,b,c,d,e){this.f=a;this.c=b;this.b=c;this.h=d;this.a=null;this.g=e}Md.prototype.destroy=function(){this.g=this.b=this.c=this.f=null;this.a&&(this.a.destroy(),this.a=null)};
Md.prototype.create=function(){if(this.a)return Promise.resolve(this.a);if("dynamic"==this.f.type)try{this.a=new Kd(this.f,this.c,this.b,this.h,this.g)}catch(a){return Promise.reject(a)}else{var b;b=this.b.a;if(b=od(this.g,this.b,1,Math.ceil(this.c.a/(b.b/b.a)))){if(0<b.length){var c=b[b.length-1];b[b.length-1]=ud(c,c.startTime,this.c.a)}b=new U(b,this.b.a.a||1)}else b=null;this.a=b;if(!this.a)return b=Error("Failed to generate SegmentReferences"),b.type="stream",Promise.reject(b)}return Promise.resolve(this.a)};function Nd(a,b,c,d,e){this.c=a;this.b=b;this.g=c;this.a=null;this.h=d;this.f=e}Nd.prototype.destroy=function(){this.f=this.g=this.b=this.c=null;this.a&&(this.a.destroy(),this.a=null)};
Nd.prototype.create=function(){if(this.a)return Promise.resolve(this.a);var a=this.g.b,b=[];a.f&&(b=sd(a.f,a.a||1,this.b.a||0));var c=0;a.c&&a.i?c=(a.i-1)*a.c:0<b.length&&(c=b[0].start-(a.g||0));var d=c,e=a.b.length;0<b.length&&b.length!=a.b.length&&(e=Math.min(b.length,a.b.length));for(var f=[],g=0;g<e;++g){var h=a.b[g],l=c/a.a,k=null,n=null,r;a.c?(k=c+a.c,n=k/a.a):0<b.length?(r=b[g].debugInfo,k=b[g].end-(a.g||0),n=k/a.a):(n=l+this.b.a,k=n*a.a);var c=k,k=0,w=null;h.a&&(k=h.a.xa,w=h.a.end);n=Math.min(this.b.a+
d/a.a,n);f.push(new qd(l,n,new K(this.f,h.b,k,w),null,r||null))}"dynamic"==this.c.type?this.a=new W(f,a.a||1,this.c,this.b,this.h):this.a=new U(f,a.a||1);return Promise.resolve(this.a)};function Od(a,b,c,d,e){this.b=a;this.c=b;this.f=c;this.h=d;this.a=null;this.g=e}Od.prototype.destroy=function(){this.g=this.f=this.c=this.b=null;this.a&&(this.a.destroy(),this.a=null)};
Od.prototype.create=function(){if(this.a)return Promise.resolve(this.a);for(var a=this.f.a,b=sd(a.c,a.a||1,this.c.a||0),c=[],d=0;d<b.length;++d){var e=b[d].start,f=b[d].debugInfo,g=e/a.a,h=b[d].end/a.a,l=pd(this.g,this.f,d+a.j,e);if(!l)return a=Error("Failed to generate media URL."),a.type="dash",Promise.reject(a);var k=(a.i||0)/a.a;c.push(new qd(g-k,h-k,l,e,f||null))}"dynamic"==this.b.type?this.a=new W(c,a.a||1,this.b,this.c,this.h):this.a=new U(c,a.a||1);return Promise.resolve(this.a)};function Pd(){this.K=Qd++;this.id=this.R=this.J=null;this.b=0;this.height=this.width=this.bandwidth=null;this.c=this.a="";this.switchReason=this.fbQualityClass=this.fbQualityLabel=null;this.f=[];this.ja=!1;this.T=!0}var Qd=0;Pd.prototype.destroy=function(){this.J&&(this.J.destroy(),this.J=null);this.R&&(this.R.destroy(),this.R=null)};function Rd(a){var b=a.a||"";a.c&&(b+='; codecs="'+a.c+'"');return b}
function Sd(){this.K=Td++;this.id=null;this.contentType=this.lang="";this.c=this.b=!1;this.o=[];this.a=[]}var Td=0;Sd.prototype.destroy=function(){for(var a=0;a<this.o.length;++a)this.o[a].destroy();this.a=this.o=null};function nb(a){for(var b=[],c=0;c<a.a.length;++c){var d=new Ud;d.id=a.K;d.b=a.a[c];d.contentType=a.contentType;d.a=a.o.length?Rd(a.o[0]):"";b.push(d)}return b}function Vd(){this.id=null;this.start=0;this.b=null;this.a=[]}
Vd.prototype.destroy=function(){for(var a=0;a<this.a.length;++a)this.a[a].destroy();this.a=null};function Wd(){this.b=!1;this.h=this.g=this.f=null;this.c=0;this.a=[];this.i=!1}Wd.prototype.destroy=function(){for(var a=0;a<this.a.length;++a)this.a[a].destroy();this.a=null};function Ud(){this.id=0;this.b=null;this.a=this.contentType=""};function Xd(a,b,c,d,e,f,g,h){D.call(this,a);this.a=b;this.b=new Fb(c,d,e,this,g);this.va=g;this.c={};this.ea=0;this.N=this.D=this.f=null;this.V=!1;this.i=this.H=null;this.w=!1;this.L=0;this.M=!1;this.l=null;this.W=this.h=!1;this.j=new H;this.s=this.g=!1;this.B=0;this.I=15;this.oa=this.X=this.$=!1;this.fa=f;this.aa=!1;this.m=null;this.pa=!1;this.S=null;this.F=h||null;this.C=null;this.G=!1;this.ga={};this.O=!1}q(Xd,D);Xd.prototype.ia=function(){return{SourceBufferManager:this.b}};
Xd.prototype.getDebug=Xd.prototype.ia;
Xd.prototype.P=function(a){null!=a.initialStreamBufferSize&&(this.B=Number(a.initialStreamBufferSize));null!=a.dynamicStreamBufferSize&&(this.L=Number(a.dynamicStreamBufferSize));null!=a.smartBufferAdjustmentParams&&(this.ga=a.smartBufferAdjustmentParams);null!=a.smartBufferAdjustmentEnabled&&(this.G=Boolean(a.smartBufferAdjustmentEnabled));null!=a.streamBufferSize&&(this.I=Number(a.streamBufferSize));null!=a.fixBufferingGoalDetermination&&(this.$=Boolean(a.fixBufferingGoalDetermination));null!=a.addCdnDebugQueryParameters&&
(this.X=Boolean(a.addCdnDebugQueryParameters));null!=a.useInitialBufferSizeWhenPaused&&(this.oa=Boolean(a.useInitialBufferSizeWhenPaused));null!=a.segmentRequestTimeout&&(this.b.O=Number(a.segmentRequestTimeout));null!=a.resolveVideoTimeUpdateOnFragmentedTimeRanges&&(this.aa=Boolean(a.resolveVideoTimeUpdateOnFragmentedTimeRanges));null!=a.performanceLogger&&(this.m=this.c.performanceLogger=a.performanceLogger);null!=a.abrLogger&&(this.c.abrLogger=a.abrLogger);null!=a.reappendInitSegmentAfterAbort&&
(this.c.reappendInitSegmentAfterAbort=Boolean(a.reappendInitSegmentAfterAbort));null!=a.liveDataFetchMaxRetries&&(this.c.liveDataFetchMaxRetries=Number(a.liveDataFetchMaxRetries));null!=a.liveSourceBufferClearMaxRetries&&(this.c.liveSourceBufferClearMaxRetries=Number(a.liveSourceBufferClearMaxRetries));null!=a.skipEmptySegments&&(this.c.skipEmptySegments=Boolean(a.skipEmptySegments));null!=a.playheadFragmentedGapDiffAllowance&&(this.c.playheadFragmentedGapDiffAllowance=Number(a.playheadFragmentedGapDiffAllowance));
null!=a.useMicroTaskTimeouts&&(this.pa=Boolean(a.useMicroTaskTimeouts));a=this.b;var b=this.c;null!=b.reappendInitSegmentAfterAbort&&(a.I=Boolean(b.reappendInitSegmentAfterAbort));null!=b.performanceLogger&&(a.m=b.performanceLogger);null!=b.abrLogger&&(a.L=b.abrLogger);null!=b.liveDataFetchMaxRetries&&(a.G=b.liveDataFetchMaxRetries);null!=b.liveSourceBufferClearMaxRetries&&(a.F=b.liveSourceBufferClearMaxRetries);null!=b.playheadFragmentedGapDiffAllowance&&(a.H=b.playheadFragmentedGapDiffAllowance);
null!=b.skipEmptySegments&&(a.S=b.skipEmptySegments)};Xd.prototype.destroy=function(){Yd(this);this.j.destroy();this.f=this.j=null;this.b.destroy();this.da=this.a=this.b=null};m=Xd.prototype;m.ra=function(){return this.f};m.Ra=function(){return this.D};m.yb=function(a){this.g||a.then(function(){this.g=!0;this.i||Zd(this,0)}.bind(this)).catch(function(){});return this.j};m.Sa=function(){return this.s};
m.ya=function(a,b,c,d){a!=this.f&&(this.N=a.R.create(this.m,this.va),a.J.create().then(F(this,function(e){if(this.a){var f=this.f;this.f=a;this.D=e;this.F&&this.F.updateSegments(e.u.map(function(a,b){return{startTime:a.startTime,endTime:a.endTime,segmentID:b,requestInfo:{send:a.url.Mb.bind(a.url),getResourceTimingEntry:a.url.getResourceTimingEntry.bind(a.url)}}}));this.V=!0;this.H=d?d:null;this.w||(f?b&&$d(this,!0,c):Zd(this,0))}})).catch(F(this,function(a){"aborted"!=a.type&&(this.g?(a=y(a),this.dispatchEvent(a)):
this.j.reject(a))})))};m.ub=function(){return $d(this,!1)};m.wb=function(){this.M=!0};function $d(a,b,c){a.f&&!a.w&&(a.w=!0,Yd(a),Ib(a.b).then(F(a,function(){var a=this.a.currentTime;if(!b&&0<Jb(this.b,a)&&0<=Pb(this.b.c,a))return Promise.resolve();if(c)return Sb(this.b,this.a.currentTime+c);this.O=!0;return Rb(this.b)})).then(F(a,function(){this.w=!1;Zd(this,0)})).catch(F(a,function(a){this.w=!1;"aborted"!=a.type&&(this.g?(a=y(a),this.dispatchEvent(a)):this.j.reject(a))})))}
m.xb=function(a){return 0<Jb(this.b,a)&&0<=Pb(this.b.c,a)};m.Da=function(){};m.Pa=function(){return!0};
function ae(a){a.W=a.W||!a.a.paused;a.a.paused||a.G||(a.C=Date.now(),a.G=!0);var b=a.ga,c=null;if(b.inExperiment)if(b.useSmartBuffering){if(a.G&&a.C){var c=(Date.now()-a.C)/1E3,d=null;1>c?c=null:(d=3>c?b.bufferSize_00_to_03:10>c?b.bufferSize_03_to_10:30>c?b.bufferSize_10_to_30:60>c?b.bufferSize_30_to_60:b.bufferSize_above_60,c=Math.min(d,a.a.duration))}}else a.C&&(c=b.nonSmartBufferSize);c||(c=a.oa&&a.a.paused?a.B:a.I,a.L&&!a.a.paused&&(c=Math.max(Math.min(a.D.A().endTime-a.a.currentTime,a.L),a.I)));
c=(a.$?a.h&&a.W:a.h)?Math.max(a.B,c):a.B;0<VideoPlayerShakaExperiments.audioVideoBufferDiffThreshold&&(b=a.a.buffered.length?a.a.buffered.end(a.a.buffered.length-1):0,b=Math.max(0,b-a.a.currentTime),c=Math.min(c,b+VideoPlayerShakaExperiments.audioVideoBufferDiffThreshold));return c}
m.pb=function(){if(this.h&&!this.g)this.i=null;else{var a;if(a=this.g&&!this.s)a=1<this.b.a.buffered.length?!0:!1;if(a&&(this.M||Vb(this.b,this.a)))this.aa&&(this.a.currentTime=Ub(this.a)),this.M=!1,$d(this,!0);else{this.i=null;a=this.f;var b=this.D,c=this.a.currentTime;VideoPlayerShakaExperiments.usePendingSeekPositionForReference&&0===this.a.readyState&&!c&&this.S&&(c=this.S);var d=this.h?c:c+(this.l||0);if(Jb(this.b,d)>=ae(this))be(this),Zd(this,1E3/(5*(Math.abs(this.a.playbackRate)||1)));else{var e=
ce(this,c,b);this.F&&(d={playhead:c,bufferEnd:Jb(this.b,d)+d,bufferingGoal:ae(this)},this.F.updatePlayerState(d));e?(b=Mb(this.b,e,b.a,a.b,this.N,this.X&&!this.a.paused),this.fa&&"video"===a.a.split("/")[0]&&this.fa(e.startTime,e.endTime,{id:a.id,reason:this.H,performanceLogger:this.m?this.m.getOperationLogger("stream_switch"):null}),this.N=null,this.V&&(this.V=!1,e=this.H,this.H=null,de(this,a,e)),this.s=!1,b.then(F(this,function(a){var b=a.ca;a=a.Ob;this.h||(this.ea=a);null==this.l&&(this.l=b);
this.O&&0<Jb(this.b,c)&&(this.O=!1,this.a.currentTime+=.001);Zd(this,0)})).catch(F(this,function(a){if("aborted"!=a.type){var b=[0,404,410,502,503,504];"net"==a.type&&-1!=b.indexOf(a.ic.status)&&this.f&&Zd(this,1E3);a=y(a);this.dispatchEvent(a)}}))):(be(this),this.g&&!this.s&&(this.s=!0,ee(this)),Zd(this,200))}}}};function ce(a,b,c){a=a.b;var d=a.c.length;a=0<d?a.c[d-1]:null;return null!=a?null!=a.endTime?c.ua(a.endTime):null:c.ua(b)||(c.length()?c.A():null)}
function be(a){if(!a.h&&null!=a.l){a.h=!0;var b=a.b,c=a.l,d=c-b.P;0!=d&&(b.c=Dd(b.c,d),b.P=c);a.j.resolve(a.l)}}function de(a,b,c){var d=b.a.split("/")[0];b=x({type:"adaptation",id:b.id,bubbles:!0,contentType:d,size:"video"!=d?null:{width:b.width,height:b.height},bandwidth:b.bandwidth,reason:c});a.dispatchEvent(b)}function ee(a){var b=x({type:"ended"});a.dispatchEvent(b)}function Zd(a,b){Yd(a);!b&&a.pa?Promise.resolve().then(a.pb.bind(a)):a.i=setTimeout(a.pb.bind(a),b)}
function Yd(a){null!=a.i&&(clearTimeout(a.i),a.i=null)}m.Ca=function(){return this.ea};function fe(a){for(var b=0;b<a.length;++b)for(var c=a[b],d=0;d<c.a.length;++d){for(var e=c.a[d],f=e,g=0;g<f.o.length;++g)fb(Rd(f.o[g]))||(f.o.splice(g,1),--g);0==e.o.length&&(c.a.splice(d,1),--d)}for(b=0;b<a.length;++b)for(c=a[b],d=0;d<c.a.length;++d)c.a[d].o.sort(ge)}function ge(a,b){var c=a.bandwidth||Number.MAX_VALUE,d=b.bandwidth||Number.MAX_VALUE;return c<d?-1:c>d?1:0};function he(a){this.a=a}he.prototype.destroy=function(){this.a.destroy();this.a=null};he.prototype.update=function(a){var b=ie(a),c=ie(this.a);return Promise.all([b,c]).then(F(this,function(b){var c=b[0];b=b[1];fe(this.a.a);a.b&&!this.a.b&&(a.i=!0);a.f=this.a.f;a.g=this.a.g?this.a.g.clone():null;a.c=this.a.c;var f=[];je(a,this.a,c,b,f);fe(a.a);return Promise.resolve(f)}))};
function ie(a){function b(a,b){return a.concat(b)}var c=a.a.map(function(a){return a.a}).reduce(b,[]).map(function(a){return a.o}).reduce(b,[]);a=c.map(function(a){return a.J.create()});return Promise.all(a).then(function(a){for(var b={},f=0;f<c.length;++f)b[c[f].K]=a[f];return Promise.resolve(b)})}
function je(a,b,c,d,e){var f=new B;a.a.forEach(function(a,b){f.push(a.id||""+b,a)});var g=new B;b.a.forEach(function(a,b){g.push(a.id||""+b,a)});a=ab(f);for(b=0;b<a.length;++b){var h=a[b],l=f.get(h);1<l.length||(h=g.get(h))&&0!=h.length&&1==h.length&&(ke(l[0],h[0],c,d,e),l[0].b=h[0].b)}}
function ke(a,b,c,d,e){var f=new B;a.a.forEach(function(a,b){f.push(a.id||""+b,a)});var g=new B;b.a.forEach(function(a,b){g.push(a.id||""+b,a)});a=ab(f);for(b=0;b<a.length;++b){var h=a[b],l=f.get(h);1<l.length||(h=g.get(h))&&0!=h.length&&1==h.length&&le(l[0],h[0],c,d,e)}}
function le(a,b,c,d,e){var f=new B;a.o.forEach(function(a,b){f.push(a.id||""+b,a)});var g=new B;b.o.forEach(function(a,b){g.push(a.id||""+b,a)});b={};for(var h=ab(f),l=0;l<h.length;++l){var k=h[l];b[k]=k;var n=f.get(k);1<n.length||((k=g.get(k))&&0!=k.length?1==k.length&&(me(n[0],k[0],c,d),n[0].R=k[0].R,k[0].R=null,n[0].b=k[0].b):(e.push(n[0]),a.o.splice(a.o.indexOf(n[0]),1)))}h=ab(g);for(l=0;l<h.length;++l)k=h[l],b[k]||(b[k]=k,k=g.get(k),a.o.push(k[0]))}
function me(a,b,c,d){a=c[a.K];d=d[b.K];b=a.length();a.Ta(d)&&(d=a.length(),a.g.push(b!==d),50<a.g.length&&a.g.shift())};function ne(a){this.b=a;this.a=null}ne.prototype.destroy=function(){this.a&&(this.a.destroy(),this.a=null)};ne.prototype.create=function(){if(this.a)return Promise.resolve(this.a);var a=new qd(0,null,this.b);this.a=new U([a],1);return Promise.resolve(this.a)};function oe(a,b){D.call(this,a);this.c=b;this.h=!0;this.i=this.g=null;this.f=new H;this.a=null}q(oe,D);oe.prototype.P=function(){};oe.prototype.destroy=function(){this.a&&this.c.removeChild(this.a);this.f.destroy();this.da=this.c=this.g=this.i=this.a=this.f=null};m=oe.prototype;m.ra=function(){return this.g};m.Ra=function(){return this.i};m.yb=function(){return this.f};m.Sa=function(){return!0};
m.ya=function(a){a.J.create().then(F(this,function(b){if(this.c){if(0==b.length())return Promise.reject(Error("No subtitles URL available."));var c=this.g;this.g=a;this.i=b;b=V(b).url.a[0].toString();var d=this.Pa();this.a&&(this.Da(!1),this.c.removeChild(this.a));this.a=document.createElement("track");this.c.appendChild(this.a);this.a.src=b;this.Da(d);b=x({type:"adaptation",bubbles:!0,contentType:"text",size:null,bandwidth:a.bandwidth});this.dispatchEvent(b);c||this.f.resolve(0)}}))};m.ub=function(){};
m.wb=function(){};m.xb=function(){return!0};m.Da=function(a){this.h=a;this.a&&(this.a.track.mode=a?"showing":"disabled")};m.Pa=function(){this.a&&(this.h="showing"==this.a.track.mode);return this.h};m.Ca=function(){return 0};function pe(){}
pe.prototype.parse=function(a,b,c,d){var e=null;try{var f;var g=new Ga(b);if(440786851!=v(g).id)f=null;else{var h=v(g);if(408125543!=h.id)f=null;else{var l=h.a.byteOffset,k;var n=new Ga(h.a);for(b=null;Ca(n.a);){var r=v(n);if(357149030==r.id){b=r;break}}if(b){for(var w=new Ga(b.a),n=1E6;Ca(w.a);){var J=v(w);if(2807729==J.id){n=La(J);break}}k=n/1E9}else k=null;f=k?{bc:l,gc:k}:null}}if(f){var I=v(new Ga(a));if(475249515!=I.id)e=null;else{var ea=f.bc,qb=f.gc;a=[];var rb=new Ga(I.a);for(f=I=-1;Ca(rb.a);){var Va=
v(rb);if(187==Va.id){var Ba;var vd=new Ga(Va.a),wd=v(vd);if(179!=wd.id)Ba=null;else{var Me=La(wd),xd=v(vd);if(183!=xd.id)Ba=null;else{for(var yd=new Ga(xd.a),l=0;Ca(yd.a);){var zd=v(yd);if(241==zd.id){l=La(zd);break}}Ba={hc:Me,ac:l}}}if(Ba){var Ad=qb*Ba.hc,Bd=ea+Ba.ac;if(0<=I){var oc=new K(d,c,f,Bd-1);a.push(new qd(I,Ad,oc))}I=Ad;f=Bd}}}0<=I&&(oc=new K(d,c,f,null),a.push(new qd(I,null,oc)));e=a}}else e=null}catch(Cd){if(!(Cd instanceof RangeError))throw Cd;}return e};function qe(a,b,c,d,e,f,g,h,l){this.g=a;this.i=b;this.f=c;this.a=d;this.c=e;this.b=f;this.j=g;this.la=null;this.h=h;this.m=l||null}qe.prototype.destroy=function(){this.h=this.i=this.g=null;this.a.wa();this.a=null;this.b&&(this.b.wa(),this.b=null);this.c&&(this.c.wa(),this.c=null);this.la=null};qe.prototype.Nb=function(){return this.la};qe.prototype.create=function(){return re(this,!0)};qe.prototype.Aa=function(){return re(this,!1)};
function re(a,b){if(a.la)return a.la;var c=null;a.m&&(c=a.m.getOperationLogger("create_container_segment_index_source").start());var d=[Nb(a.a,null,null,a.m,c)];"webm"==a.f&&d.push(Nb(a.c,null,null,a.m,c));b&&a.b&&!VideoPlayerShakaExperiments.disableFirstSegmentFetchFromContainerSegmentIndex&&Nb(a.b,null,null,a.m);a.la=Promise.all(d).then(F(a,function(a){var b=a[0];a=a[1]||null;var d=null;"mp4"==this.f?(d=new Ed,d=d.parse(new DataView(b),this.a.h,this.a.a,this.h,this.b)):"webm"==this.f&&(d=new pe,
d=d.parse(new DataView(b),new DataView(a),this.a.a,this.h));if(!d)return b=Error("Failed to parse SegmentReferences from "+this.a.toString()+" (or one of its fallbacks)."),b.type="stream",Promise.reject(b);var h;"dynamic"==this.g.type?h=new W(d,d.a,this.g,this.i,this.j):h=new U(d,d.a);c&&c.log();return Promise.resolve(h)}));return a.la};function se(a,b){this.a=a;this.m=b||null}
function te(a,b,c){for(var d=xa()/1E3,e=0;e<b.a.length;++e)for(var f=b.a[e],g=0;g<f.b.length;++g){var h=f.b[g];if("text"!=h.contentType)for(var l=0;l<h.a.length;++l){var k=h.a[l],n=0,n=n+(k.g?1:0),n=n+(k.b?1:0),n=n+(k.a?1:0);0==n?(h.a.splice(l,1),--l):1!=n&&(k.g?(k.b=null,k.a=null):k.b&&(k.a=null))}}ue(b);for(e=0;e<b.a.length;++e)for(f=b.a[e],g=0;g<f.b.length;++g){l=h=f.b[g];k=null;for(n=0;n<l.a.length;++n){var r=l.a[n].f||"";k?r!=k&&(l.a.splice(n,1),--n):k=r}0==h.a.length&&(f.b.splice(g,1),--g)}"dynamic"==
b.type&&null==b.c&&(b.c=d);e=new Wd;"dynamic"==b.type&&(e.b=!0,e.f=b.g,e.g=new K(c,b.j||b.url),e.h=b.c);e.c=b.h||5;for(f=0;f<b.a.length;++f){g=b.a[f];if(null==g.start)break;g=ve(a,b,g,d,c);e.a.push(g)}return e}
function ue(a){if(a.a.length){null==a.a[0].start&&(a.a[0].start=0);var b=function(a){return 0==a||!!a};"dynamic"==a.type&&(a.b=null);b(a.b)&&1==a.a.length&&!b(a.a[0].a)&&(a.a[0].a=a.b);for(var c=0,d=!0,e=0;e<a.a.length;++e){var f=a.a[e-1],g=a.a[e],h=a.a[e+1]||{start:a.b};!b(g.start)&&f&&b(f.start)&&b(f.a)&&(g.start=f.start+f.a);!b(g.a)&&b(h.start)&&(g.a=h.start-g.start);null!=g.start&&null!=g.a?c+=g.a:d=!1}b(a.b)||(e=a.a[a.a.length-1],d?a.b=c:b(e.start)&&b(e.a)?a.b=e.start+e.a:"dynamic"!=a.type&&
(a.b=c))}}function ve(a,b,c,d,e){var f=new Vd;f.id=c.id;f.start=c.start;f.b=c.a;var g=new B;c.b.forEach(function(a){g.push(a.contentType||"",a)});for(var h=ab(g),l=0;l<h.length;++l){var k=new B;g.get(h[l]).forEach(function(a){k.push(a.group,a)});for(var n=ab(k),r=0;r<n.length;++r){var w=new B;k.get(n[r]).forEach(function(a){w.push(a.lang,a)});for(var J=ab(w),I=0;I<J.length;++I){var ea=w.get(J[I]),ea=we(a,b,c,ea,d,e);f.a.push(ea)}}}return f}
function we(a,b,c,d,e,f){ba(d.every(function(a){return a.group==d[0].group&&(a.lang||"")==(d[0].lang||"")&&(a.contentType||"")==(d[0].contentType||"")}));var g=new Sd,h=d.filter(function(a){return null!=a.id});h.length==d.length&&(g.id=h.map(function(a){return a.id}).sort().reduce(function(a,b){return a+","+b}));g.b=!(!d[0].c||"urn:scte:dash:cc:cea-608:2015"!==d[0].c.a);g.lang=d[0].lang||"";g.contentType=d[0].contentType||"";g.c=d.some(function(a){return a.f});for(var h={},l=0;l<d.length;++l)for(var k=
d[l],n=0;n<k.a.length;++n){var r=k.a[n],w=xe(a,r),J=g.a.slice(0);ye(w,J);0==J.length&&0<g.a.length||!(r=ze(a,b,c,r,e,f))||(g.o.push(r),g.a=J,h[r.K]=k)}if(g.a.some(function(a){return""==a.b}))return g.o.forEach(function(a){a.ja=!0}),g;a=Ae(d);for(l=0;l<g.o.length;++l)r=g.o[l],k=h[r.K],k==a&&(r.ja=!0);return g}function Ae(a){for(var b=null,c=null,d=0;d<a.length;++d)for(var e=a[d],f=0;f<e.a.length;++f){var g=e.a[f],g=(g.width||1)*(g.height||1)*(g.bandwidth||1);if(null==b||g<b)b=g,c=e}return c}
function ye(a,b){if(0==b.length)Array.prototype.push.apply(b,a);else for(var c=0;c<b.length;++c){for(var d=!1,e=0;e<a.length;++e){var f=b[c],g=a[e];if(f.b==g.b&&f.g==g.g&&f.l==g.l&&f.f==g.f&&f.h==g.h&&f.c==g.c&&f.j==g.j&&Ja(f.i,g.i)){d=!0;ac(b[c],a[e].a);break}}d||(b.splice(c,1),--c)}}function xe(a,b){var c=[];if(0==b.c.length)c.push(new $b);else if(a.a)for(var d=0;d<b.c.length;++d)c.push.apply(c,Be(a,b.c[d]));return c}
function Be(a,b){var c=[];if(2!=a.a.length)return[];var d=a.a(b.f||"",b.c);if(!(d&&d instanceof Array))return[];for(var e=0;e<d.length;++e){var f;var g=d[e];f=new $b;if(g){var h=Xa(g,"keySystem");if(null!=h)f.b=h;else throw Error("'keySystem' cannot be null.");var l=Xa(g,"licenseServerUrl");if(null!=l)f.g=l;else if(h)throw Error("For encrypted streaming content, 'licenseServerUrl' cannot be null or empty.");h=z(g,"withCredentials");null!=h&&(f.l=h);h=Ya(g,"licensePostProcessor",Function);null!=h&&
(f.s=h);h=Ya(g,"licensePreProcessor",Function);null!=h&&(f.w=h);h=z(g,"distinctiveIdentifierRequired");null!=h&&(f.f=h);h=z(g,"persistentStateRequired");null!=h&&(f.h=h);h=Xa(g,"audioRobustness");null!=h&&(f.c=h);h=Xa(g,"videoRobustness");null!=h&&(f.j=h);h=Ya(g,"serverCertificate",Uint8Array);null!=h&&(f.i=h);if(h=Ya(g,"initData",Object)){g=Ya(h,"initData",Uint8Array);if(null==g)throw Error("'initData.initData' cannot be null.");h=Xa(h,"initDataType");if(null==h)throw Error("'initData.initDataType' cannot be null.");
f.a.push({initData:new Uint8Array(g.buffer),initDataType:h})}}0==f.a.length&&b.a&&b.a.psshBox&&ac(f,[{initData:b.a.psshBox,initDataType:"cenc"}]);c.push(f)}return c}
function ze(a,b,c,d,e,f){if(!d.v||0===d.v.length)return null;var g=null,h=1,l=0;if(d.g){g=d.f.split("/")[1];if("mp4"!=g&&"webm"!=g)g=null;else{var k=d.g;"webm"!=g||k.f?k.b||k.c&&k.c.a?(h=k.c,h||(h=new Fc,h.url=d.v,h.a=k.b?k.b.clone():null),l=Ce(h,f),h=k.f?Ce(k.f,f):null,k.g?(k=k.g,k=new K(f,d.v,k.xa,k.end)):k=null,b=new qe(b,c,g,l,h,k,e,f,a.m),c=new td(h),e=new Pd,e.J=b,e.R=c,g=e):g=null:g=null}h=d.g.a;l=d.g.h}else if(d.b)a=d.b,!a.c&&!a.f&&1<a.b.length?g=null:a.c||c.a||a.f||1!=a.b.length?a.f&&0===
a.f.a.length?g=null:(a=a.h?Ce(a.h,f):null,b=new Nd(b,c,d,e,f),c=new td(a),e=new Pd,e.J=b,e.R=c,g=e):g=null,h=d.b.a,l=d.b.g;else if(d.a){a:if(g=d.a,h=0+(g.f?1:0),h+=g.c?1:0,h+=g.b?1:0,0==h?h=!1:(1!=h&&(g.f?(g.c=null,g.b=null):g.c&&(g.b=null)),h=!0),h){h=null;if(g.g&&(h=(g=d.a.g)?De(d,g,Gc):null,!h)){g=null;break a}g=h?Ce(h,f):null;h=d.a;h.f?(h=d.f.split("/")[1],"mp4"!=h&&"webm"!=h?b=null:"webm"!=h||g?pd(f,d,1,0)?(l=(l=d.a.f)?De(d,l,Fc):null)?(l=Ce(l,f),b=new qe(b,c,h,l,g,null,e,f,a.m)):b=null:b=null:
b=null):b=h.h?h.c?new Od(b,c,d,e,f):h.b?"dynamic"!=b.type&&null==c.a?null:new Md(b,c,d,e,f):null:null;b?(c=new td(g),e=new Pd,e.J=b,e.R=c,g=e):g=null}else g=null;h=d.a.a;l=d.a.i}else"text"==d.f.split("/")[0]&&(g=new Pd,g.J=new ne(new K(f,d.v)));if(!g)return null;g.id=d.id;l&&(g.b=-1*l/h);g.bandwidth=d.bandwidth;g.width=d.width;g.height=d.height;g.a=d.f||"";g.c=d.h||"";g.fbQualityLabel=d.fbQualityLabel||null;g.fbQualityClass=d.fbQualityClass||null;for(b=0;b<d.c.length;++b)c=d.c[b],c.b&&g.f.push(c.b);
return g}function De(a,b,c){b=rd(b,a.id,null,a.bandwidth,null);if(!b)return null;c=new c;c.url=kd(a.v,b);return c}function Ce(a,b){var c=a.url,d=0,e=null;a.a&&(d=a.a.xa,e=a.a.end);return new K(b,c,d,e)};function X(){this.a=this.b=null;this.f=new bb;this.c=Number.POSITIVE_INFINITY;this.i=!0;this.g=!1}p("shaka.media.SimpleAbrManager",X);X.prototype.destroy=function(){this.f.destroy();this.a=this.b=this.f=null};X.prototype.initialize=function(a,b){this.b||this.a||(this.b=a,this.a=b)};
X.prototype.start=function(){this.b&&this.a&&!this.g&&(this.c=Date.now()+4E3,C(this.f,this.b,"bandwidth",this.l.bind(this)),C(this.f,this.a,"adaptation",this.j.bind(this)),C(this.f,this.a,"trackschanged",this.h.bind(this)),this.g=!0)};X.prototype.enable=function(a){this.i=a};X.prototype.getInitialVideoTrackId=function(){if(!this.b||!this.a)return null;var a=Ee(this);return a?a.id:null};X.prototype.getInitialSwitchReason=function(){return null};X.prototype.getInitialAudioTrackId=function(){return null};
X.prototype.selectVideoTrack=function(a,b,c){this.g&&this.a.selectVideoTrack(a.id,b,c)};X.prototype.l=function(){Date.now()<this.c||this.h()};X.prototype.h=function(){if(this.i){var a=Ee(this);if(a){if(a.active){this.c=Date.now()+3E3;return}this.selectVideoTrack(a,!1)}this.c=Number.POSITIVE_INFINITY}};X.prototype.j=function(){this.c==Number.POSITIVE_INFINITY&&(this.c=Date.now()+3E4)};
function Ee(a){var b=a.a.N();if(0==b.length)return null;b.sort(ua);var c;a:{c=a.a.Na();for(var d=0;d<c.length;++d)if(c[d].active){c=c[d];break a}c=null}c=c?c.bandwidth:0;a=a.b.getBandwidth();for(var d=b[0],e=0;e<b.length;++e){var f=b[e],g=e+1<b.length?b[e+1]:{bandwidth:Number.POSITIVE_INFINITY};if(f.bandwidth&&(g=(g.bandwidth+c)/.85,a>=(f.bandwidth+c)/.95&&a<=g&&(d=f,d.active)))break}return d};function Y(a,b,c){D.call(this,null);this.a=a;this.$=b;this.j=new bb;this.h=new MediaSource;this.H=this.c=null;this.Oa=0;this.Gb=this.ib=!1;this.La=0;this.m=null;this.Ka=3;this.Ja=this.jb=!1;this.Ia=0;this.U=new fd;this.vb=1;this.sb=Infinity;this.gb=this.cb=!1;this.S=this.va=null;this.ga=this.kb=this.P=!1;this.g=new B;this.l=c;this.l.initialize(b,this);this.F=!1;this.D="en";this.aa=!1;this.B=new H;this.Ga=new H;this.i=new ka;this.C=null;this.Bb=1;this.b={};this.V=new H;this.pa=0;this.tb=15;this.w=
null;this.rb=!1;this.lb=0;this.ea=!1;this.s={};this.O=this.M=this.I=null;this.f={};this.X=!1;this.Va=null;this.Lb=VideoPlayerShakaExperiments.enableRequestPipelining?new SegmentRequestManager:null}q(Y,D);p("shaka.player.StreamVideoSource",Y);Y.prototype.hb=function(){return{VideoSourceStream:this.b.video,AudioSourceStream:this.b.audio,TextSourceStream:this.b.text,BandwidthEstimator:this.$}};Y.prototype.getStreamDebug=Y.prototype.hb;
Y.prototype.Cb=function(a){null!=a.streamBufferSize&&(this.f.streamBufferSize=a.streamBufferSize);null!=a.initialStreamBufferSize&&(this.f.initialStreamBufferSize=a.initialStreamBufferSize);null!=a.dynamicStreamBufferSize&&(this.f.dynamicStreamBufferSize=a.dynamicStreamBufferSize);null!=a.smartBufferAdjustmentParams&&(this.f.smartBufferAdjustmentParams=a.smartBufferAdjustmentParams);null!=a.addCdnDebugQueryParameters&&(this.f.addCdnDebugQueryParameters=a.addCdnDebugQueryParameters);null!=a.segmentRequestTimeout&&
(this.f.segmentRequestTimeout=a.segmentRequestTimeout);null!=a.resolveVideoTimeUpdateOnFragmentedTimeRanges&&(this.f.resolveVideoTimeUpdateOnFragmentedTimeRanges=a.resolveVideoTimeUpdateOnFragmentedTimeRanges);null!=a.reappendInitSegmentAfterAbort&&(this.f.reappendInitSegmentAfterAbort=a.reappendInitSegmentAfterAbort);null!=a.liveDataFetchMaxRetries&&(this.f.liveDataFetchMaxRetries=a.liveDataFetchMaxRetries);null!=a.liveSourceBufferClearMaxRetries&&(this.f.liveSourceBufferClearMaxRetries=a.liveSourceBufferClearMaxRetries);
null!=a.playheadFragmentedGapDiffAllowance&&(this.f.playheadFragmentedGapDiffAllowance=a.playheadFragmentedGapDiffAllowance);null!=a.fixBufferingGoalDetermination&&(this.f.fixBufferingGoalDetermination=a.fixBufferingGoalDetermination);null!=a.skipEmptySegments&&(this.f.skipEmptySegments=a.skipEmptySegments);null!=a.useMicroTaskTimeouts&&(this.f.useMicroTaskTimeouts=a.useMicroTaskTimeouts);Fe(this);null!=a.includeStreamBufferSizeInStartOffset&&(this.ib=Boolean(a.includeStreamBufferSizeInStartOffset));
null!=a.liveAudioPushRepresentation&&(this.S=String(a.liveAudioPushRepresentation));null!=a.liveInitialPushRepresentation&&(this.va=String(a.liveInitialPushRepresentation));null!=a.enableAdaptation&&this.l.enable(Boolean(a.enableAdaptation));null!=a.mpdRequestTimeout&&(this.La=Number(a.mpdRequestTimeout));null!=a.minMpdRefreshInterval&&(this.Ka=Number(a.minMpdRefreshInterval)/1E3);null!=a.enableManifestDebug&&(this.gb=!!a.enableManifestDebug);null!=a.liveStreamEndTimeout&&(this.tb=Number(a.liveStreamEndTimeout));
null!=a.preferredLanguage&&(this.D=Qa(String(a.preferredLanguage)));null!=a.liveSendPushHeaders&&(this.Ja=Boolean(a.liveSendPushHeaders));null!=a.liveMaxManifestFetchesWithPush&&(this.Ia=Number(a.liveMaxManifestFetchesWithPush));null!=a.currentTimeDuringReadyStateZeroThrows&&(this.cb=Boolean(a.currentTimeDuringReadyStateZeroThrows));null!=a.liveMaxSegmentsToPush&&(this.sb=Number(a.liveMaxSegmentsToPush));null!=a.jumpToLiveThreshold&&(this.lb=Number(a.jumpToLiveThreshold));null!=a.restrictions&&(this.i=
a.restrictions,this.F&&Ge(this));null!=a.useLongCacheForManifest&&(this.P=Boolean(a.useLongCacheForManifest));null!=a.jumpToEarliestPositionInCurrentBlock&&(this.kb=Boolean(a.jumpToEarliestPositionInCurrentBlock));null!=a.ignoreMinBufferTime&&(this.ga=Boolean(a.ignoreMinBufferTime))};
Y.prototype.destroy=function(){this.B.destroy();this.V.destroy();this.V=this.B=null;this.M&&(clearTimeout(this.M),this.M=null);this.I&&(clearTimeout(this.I),this.I=null);this.s=null;this.j.destroy();this.j=null;Ua(this.b).forEach(function(a){a.destroy()});this.g=this.b=null;this.a&&(this.a.destroy(),this.a=null);this.l.destroy();this.da=this.i=this.c=this.h=this.$=this.l=null};
function lb(a,b){if(a.m){var c=a.m.getOperationLogger("media_source_open").start();a.Ga.then(function(){c.log()})}C(a.j,a.h,"sourceopen",a.Ub.bind(a));b.src=window.URL.createObjectURL(a.h)}m=Y.prototype;m.ab=function(){};
function pb(a,b,c){var d;a.m&&(d=a.m.getOperationLogger("source_attach").start());if(!a.F)return a=Error("Cannot call attach() right now."),a.type="app",d&&d.setError(a).log(),Promise.reject(a);a.da=b;a.c=c;a.H=null;C(a.j,a.c,"loadedmetadata",a.Tb.bind(a));C(a.j,a.$,"bandwidth",a.fc.bind(a));a.a.b&&(C(a.j,b,"bufferingStart",a.Rb.bind(a)),C(a.j,b,"bufferingEnd",a.Qb.bind(a)));He(a).then(F(a,function(){this.B&&this.B.resolve();this.ab()})).catch(F(a,function(a){this.B&&this.B.reject(a)}));return a.B.then(function(){d&&
d.log()})}
m.Ea=function(){if(this.F){var a=Error("Cannot call load() right now.");a.type="app";return Promise.reject(a)}if(!this.a||0==this.a.a.length)return a=Error("The manifest does not specify any content."),a.type="stream",Promise.reject(a);fe(this.a.a);if(0==this.a.a.length||0==this.a.a[0].a.length||!this.a.a[0].a.some(function(a){return"video"===a.contentType}))return a=Error("The manifest specifies content that cannot be displayed on this browser/platform."),a.type="stream",Promise.reject(a);this.F=
!0;this.ga||(this.f.initialStreamBufferSize=Math.max(this.f.initialStreamBufferSize||0,this.a.c));Fe(this);Ge(this);return Promise.resolve()};function Ie(a){var b=x({type:"manifestwrapped",bubbles:!0});a.dispatchEvent(b)}
m.ob=function(a){var b;this.m&&(b=this.m.getOperationLogger("update_manifest").start());var c=Date.now(),d=this.I=null,e,f;if(this.Ja&&(!this.Ia||this.Ia>this.vb)){e=Math.floor(Je(this))+1;e=Math.min(e,this.sb);var g=this.b.video;if(g=g?g.Ra():null)g=g.A(),null!=g.a&&(f=g.a);if(this.c.paused||this.X)e=0}e&&this.vb++;g=this.a.g;b&&!a&&b.setResource(g.toString());(a?this.mb():this.nb(g,e,f)).then(F(this,function(a){d=new he(a);return d.update(this.a)})).then(F(this,function(a){d.destroy();d=null;var e=
Ke(this);this.qa("SegmentIndexesUpdated",e);e.some(function(a){return a.Ua})&&Ie(this);(e=Le(this,e))&&this.c.paused&&e.end>this.c.currentTime+10&&(this.c.currentTime=e.end);if(yb(this))return b&&b.log(),this.Ba();for(e=0;e<a.length;++e)Ne(this,a[e]);this.ga||(this.f.initialStreamBufferSize=Math.max(this.f.initialStreamBufferSize||0,this.a.c));this.f.useInitialBufferSizeWhenPaused=this.a.b;Fe(this);Ge(this);0==Object.keys(this.b).length?He(this):Oe(this,(Date.now()-c)/1E3);b&&b.log()})).catch(F(this,
function(a){b&&b.setError(a).log();d&&(d.destroy(),d=null);if("delay"==a.type)return Oe(this,0);"aborted"!=a.type&&(a=y(a),this.dispatchEvent(a),this.a&&Oe(this,0))}))};m.nb=function(){return Promise.reject("Cannot update manifest with this VideoSource implementation.")};m.mb=function(){return Promise.reject("Cannot update manifest with this VideoSource implementation.")};
function Oe(a,b){if(null!=a.a.f){var c=Math.max(a.a.f,a.Ka),c=Math.max(c-b,0),d=a.ob.bind(a,!1);if(!c&&a.f.useMicroTaskTimeouts)return Promise.resolve().then(d);a.I=setTimeout(d,1E3*c)}}
function Ne(a,b){var c=b.a.split("/")[0],d=a.b[c];if(d&&d.ra()==b){var e=a.g.get(b.a.split("/")[0]).map(function(a){return a.o}).reduce(function(a,b){return a.concat(b)},[]).filter(function(a){return a.ja&&a.T});if(0==e.length){c=Error("All usable streams have been removed from the manifest.");c.type="app";c=y(c);a.dispatchEvent(c);return}a.s[c].zb==b&&delete a.s[c];d.ya(e[0],!0);b.destroy()}b.destroy()}m.cc=function(a){this.Va=a};Y.prototype.setTaggedTimeRangesEntryAdder=Y.prototype.cc;
Y.prototype.N=function(){if(!this.g||!this.g.a.hasOwnProperty("video"))return[];for(var a=this.b.video,a=(a=a?a.ra():null)?a.K:0,b=[],c=this.g.get("video"),d=0;d<c.length;++d)for(var e=c[d],f=0;f<e.o.length;++f){var g=e.o[f];if(g.ja&&g.T){var h=g.K,g=new ta(h,g.bandwidth,g.width,g.height,g.id,g.fbQualityLabel,g.fbQualityClass);h==a&&(g.active=!0);b.push(g)}}return b};Y.prototype.getVideoTracks=Y.prototype.N;function Pe(a){a=a.N();for(var b=0;b<a.length;b++)if(a[b].active)return a[b]}
Y.prototype.Na=function(){if(!this.g||!this.g.a.hasOwnProperty("audio"))return[];for(var a=this.b.audio,a=(a=a?a.ra():null)?a.K:0,b=[],c=this.g.get("audio"),d=0;d<c.length;++d)for(var e=c[d],f=e.lang,g=0;g<e.o.length;++g){var h=e.o[g];if(h.ja&&h.T){var l=h.K,h=new ja(l,h.bandwidth,f,h.id);l==a&&(h.active=!0);b.push(h)}}return b};Y.prototype.getAudioTracks=Y.prototype.Na;
Y.prototype.Db=function(){if(!this.g||!this.g.a.hasOwnProperty("text"))return[];for(var a=this.b.text,b=a?a.ra():null,b=b?b.K:0,c=[],d=this.g.get("text"),e=0;e<d.length;++e)for(var f=d[e],g=f.lang,h=0;h<f.o.length;++h){var l=f.o[h].K,k=new sa(l,g);l==b&&(k.active=!0,k.enabled=a.Pa());c.push(k)}return c};Y.prototype.getTextTracks=Y.prototype.Db;function xb(a){return a.jb?Number(a.f.streamBufferSize):Number(a.f.initialStreamBufferSize)}
Y.prototype.selectVideoTrack=function(a,b,c,d){return ub(this,"video",a,b,c,d)};function vb(a,b){var c=a.b.text;c&&c.Da(b)}
function Ge(a){if(a.i){for(var b=!1,c=0;c<a.a.a.length;++c)for(var d=a.a.a[c],e=0;e<d.a.length;++e){var f=d.a[e];if("video"==f.contentType)for(var g=0;g<f.o.length;++g){var h=f.o[g],l=h.T;h.T=!0;a.i.maxWidth&&h.width>a.i.maxWidth&&(h.T=!1);a.i.maxHeight&&h.height>a.i.maxHeight&&(h.T=!1);a.i.minHeight&&h.height<a.i.minHeight&&(h.T=!1);a.i.maxBandwidth&&h.bandwidth>a.i.maxBandwidth&&(h.T=!1);a.i.minBandwidth&&h.bandwidth<a.i.minBandwidth&&(h.T=!1);l!=h.T&&(b=!0)}}0!=Za(a.g).length&&b&&(b=x({type:"trackschanged",
bubbles:!0}),a.dispatchEvent(b),0<a.N().length||(b=Error("The application has restricted all video tracks!"),b.type="app",b=y(b),a.dispatchEvent(b)))}}Y.prototype.Eb=function(){return this.a?this.a.b:null};Y.prototype.isLive=Y.prototype.Eb;Y.prototype.Hb=function(a){this.jb=a};Y.prototype.setIsLiveInterrupted=Y.prototype.Hb;Y.prototype.Kb=function(){for(var a in this.b)this.b[a].wb()};Y.prototype.forceResyncVideoBuffer=Y.prototype.Kb;
function ub(a,b,c,d,e,f){if(!a.g.a.hasOwnProperty(b)||!a.b[b])return!1;for(var g=a.g.get(b),h=0;h<g.length;++h)for(var l=g[h],k=0;k<l.o.length;++k){var n=l.o[k];if(n.K==c){if(!n.ja||!n.T)return!1;if("text"!=b&&!a.ea)return c=a.s[b],a.s[b]={zb:n,Xa:null!=c&&c.Xa||d,Ya:null!=c&&c.Ya||e,switchReason:f},!0;a.b[b].ya(n,d,e,f);return!0}}return!1}
function ob(a,b){for(var c=0;2>=c;++c)for(var d=0;d<b.length;++d){var e=b[d];if(Pa(c,a.D,e.lang)){b.splice(d,1);b.splice(0,0,e);return}}for(d=0;d<b.length;++d)if(e=b[d],e.c){b.splice(d,1);b.splice(0,0,e);break}}m=Y.prototype;m.Ub=function(){this.j.za(this.h,"sourceopen");this.Ga.resolve()};
function He(a){var b;a.m&&(b=a.m.getOperationLogger("start_streams").start());for(var c=[],d=["audio","video","text"],e=0;e<d.length;++e){var f=d[e];a.g.a.hasOwnProperty(f)&&c.push(a.g.get(f)[0])}for(var g=Qe(a,c),e=0;e<d.length;++e)if(f=d[e],a.g.a.hasOwnProperty(f)&&!g[f])return a=Error("Unable to select an initial "+f+" stream: all "+f+" streams have been restricted (by the application or by the key system)."),a.type="stream",b&&b.setError(a).log(),Promise.reject(a);c=Ua(g).map(function(a){return a.J.create()});
c.push(a.Ga);return Promise.all(c).then(F(a,function(a){a.pop();if(!a.every(function(a){return a.length()}))return a=Error("Some streams are not available."),a.type="stream",Promise.reject(a);a=Le(this,a);if(!a)return a=Error("Some streams are not available."),a.type="stream",Promise.reject(a);if(!Re(this,g))return a=Error("Failed to create Stream objects."),a.type="stream",Promise.reject(a);this.l.start();Se(this,g,a);return Promise.resolve()})).then(function(){b&&b.log()}).catch(F(a,function(a){if("aborted"==
a.type)b&&b.setError(a).log();else{Object.keys(this.b);if(this.a.b)return xa()<this.a.h?(a=Math.max(this.a.h-Date.now()/1E3,this.Ka),this.I=setTimeout(this.ob.bind(this,!0),1E3*a)):Oe(this,0),b&&b.log(),Promise.resolve();b&&b.setError(a).log();return Promise.reject(a)}}))}
function Qe(a,b){for(var c={},d=0;d<b.length;++d){var e=b[d],f=null;if("video"==e.contentType){var g=a.l.getInitialVideoTrackId();if(null==g)continue;f=e.o.filter(function(a){return a.K==g});if(0==f.length)continue;f=f[0]}else if("audio"==e.contentType)if(g=a.l.getInitialAudioTrackId(),f=e.o.filter(function(a){return a.K==g}),0==f.length){f=e.o.filter(function(a){return a.ja&&a.T});if(0==f.length)continue;f=e.o[Math.floor(f.length/2)]}else f=f[0];else 0<e.o.length&&(f=e.o[0]);c[e.contentType]=f}return c}
function Re(a,b){var c={},d;for(d in b){var e=b[d],e="text"==d?new oe(a,a.c):Te(a,e);if(!e)return Ua(c).forEach(function(a){a.destroy()}),!1;c[d]=e}a.Fb(a.Gb);a.b=c;return!0}function Te(a,b){var c=new Xd(a,a.c,a.h,Rd(b),a.$,a.Va,a.U,"video"===b.a.split("/")[0]?a.Lb:null);c.P(a.f);return c}function Ue(a,b){a.c.currentTime=b;a.C=b}
function Se(a,b,c){a.Bb=a.c.playbackRate;a.c.playbackRate=0;Ve(a,c);var d;a.O&&a.O<=c.end&&a.O>=c.start?d=a.O:a.a.b?(d=c.end,a.rb=!0):d=c.start;C(a.j,a.c,"seeking",a.Yb.bind(a));if(a.c.currentTime!=d)if(a.cb)0!==a.c.readyState?Ue(a,d):We(a,d);else try{Ue(a,d)}catch(e){We(a,d)}Xe(a,c.start,c.end);var f=[],g;for(g in a.b){c=a.b[g];F(a,function(a){f.push(a.yb(this.V).then(F(this,function(b){var c=a.Ca();c>this.Oa&&(this.Oa=c);return b})))})(c);C(a.j,c,"ended",a.Zb.bind(a));d=b[g];var h=a.l.getInitialSwitchReason()||
void 0;c.ya(d,!1,void 0,h)}Promise.all(f).then(a.Pb.bind(a)).catch(F(a,function(a){"destroy"!=a.type&&(a=y(a),this.dispatchEvent(a))}));vb(a,a.aa)}function We(a,b){a.H=b;for(var c in a.b){var d=a.b[c];a.H&&(d.S=a.H)}}
m.Pb=function(a){ba(a&&a.length==Object.keys(this.b).length);for(var b=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,d=0;d<a.length;++d)var e=a[d],b=Math.min(b,e),c=Math.max(c,e);a=Ke(this);for(d=0;d<a.length;++d)a[d].ma(c);Ye(this,a,c);var f=Ua(this.b).map(function(a){return a.ra().id});VideoPlayerShakaExperiments.sequentiallyLoadStreams?Ze(this,f,c):(d=Za(this.g).map(function(a){return a.o}).reduce(function(a,b){return a.concat(b)},[]).filter(function(a){return!~f.indexOf(a.id)}).map(function(a){var b=
[a.J.Aa?a.J.Aa():a.J.create()];a.R&&b.push(a.R.create(this.m,this.U));return Promise.all(b)}),Promise.all(d).then(F(this,function(a){for(var b=0;b<a.length;++b)a[b][0].ma(c);this.ea=!0;$e(this)})).catch(F(this,function(a){"aborted"!=a.type&&(a=y(a),this.dispatchEvent(a))})))};
function Ze(a,b,c){var d=Promise.resolve();Za(a.g).map(function(a){return a.o}).reduce(function(a,b){return a.concat(b)},[]).filter(function(a){return!~b.indexOf(a.id)}).forEach(function(a){d=d.then(F(this,function(b){b&&b[0].ma(c);b=[a.J.Aa?a.J.Aa():a.J.create()];a.R&&b.push(a.R.create(this.m,this.U));return Promise.all(b)})).catch(function(a){throw a;})});d.then(F(a,function(){this.ea=!0;$e(this)})).catch(F(a,function(a){"aborted"!=a.type&&(a=y(a),this.dispatchEvent(a))}))}
function $e(a){for(var b in a.s){var c=a.s[b];a.b[b].ya(c.zb,c.Xa,c.Ya,c.switchReason)}a.s={}}function Ye(a,b,c){if(b=Le(a,b))Ve(a,b),Xe(a,b.start,b.end);if(0!=c)b=a.c.currentTime+c,a.c.currentTime=b,a.C=b;else if(a.rb&&b){c=b.end;if(a.kb){var d=a.c.currentTime;d>=b.start&&d<=b.end&&d<c&&(c=d)}b=c;Math.abs(b-a.c.currentTime)>=a.lb&&(a.c.currentTime=b)}a.c.playbackRate=a.Bb;a.a.b&&null!=a.a.f&&Oe(a,0);af(a);a.V.resolve()}
function Ve(a,b){if(a.a.b)isNaN(a.h.duration)&&(a.h.duration=b.end+2592E3);else if(isNaN(a.h.duration)||b.end>a.h.duration){a.h.duration=b.end;for(var c=0;c<a.h.sourceBuffers.length;++c)a.h.sourceBuffers[c].appendWindowEnd=b.end}}m.$b=function(){this.M=null;af(this);var a=Le(this,Ke(this));a&&(this.a.b&&this.pa!=a.A&&(this.pa=a.A,null!=this.w&&(clearTimeout(this.w),this.w=null)),Xe(this,a.start,a.end),this.c.paused||bf(this,this.c.currentTime,a.start,a.end))};
function Xe(a,b,c){b=x({type:"seekrangechanged",bubbles:!0,start:b,end:c});a.dispatchEvent(b)}m.Yb=function(){var a=this.c.currentTime;if(null!=this.C){if(a>=this.C-.01&&a<=this.C+.01){this.C=null;return}this.C=null}var b=Le(this,Ke(this));if(b){var c=b.end;(b=bf(this,a,b.start,c))||(a<=c+.01||this.a.b&&!cf(this,c)?b=!1:(this.c.currentTime=c,b=!0));if(!b)for(var d in this.b)this.b[d].ub()}};
function bf(a,b,c,d){if(b>=c-.01)return!1;b=0;a.a.b&&(b=.5,cf(a,c+b)||(b=a.a.c));a.c.currentTime=Math.min(c+b,d);return!0}function cf(a,b){for(var c in a.b)if(!a.b[c].xb(b))return!1;return!0}m.Zb=function(){if(!this.a.b){for(var a in this.b)if(!this.b[a].Sa())return;this.Ba()}};m.eb=function(){var a=this.a,b=null,c=null;a&&a.a&&a.a[0]&&(b=a.a[0]);b&&b.a&&b.a[0]&&(c=b.a[0]);return!!c&&c.b};Y.prototype.hasInlinedCea608Subtitles=Y.prototype.eb;
Y.prototype.Fb=function(a){this.Gb=a;var b=this.b;"video"in b&&(b.video.b.M=a&&this.eb())};Y.prototype.setEnableCea608Parsing=Y.prototype.Fb;function yb(a){return a.a.i&&a.c.currentTime+.5>a.pa?!0:!1}m=Y.prototype;m.Rb=function(){this.X=!0;if(yb(this))return this.Ba();Ua(this.b).every(function(a){return a.Sa()})&&(this.w=setTimeout(this.Ba.bind(this),1E3*this.tb))};m.Qb=function(){this.X=!1;null!=this.w&&(clearTimeout(this.w),this.w=null)};m.Tb=function(){null!==this.H&&(Ue(this,this.H),We(this,null))};
m.fc=function(){};m.Ba=function(){this.X=!1;this.w=null;this.h.endOfStream()};function Ke(a){return Ua(a.b).map(function(a){return a.Ra()}).filter(function(a){return null!=a})}function Je(a){return Math.max(a.a?a.a.c:1,a.ib?a.f.streamBufferSize||0:0)}
function Le(a,b){for(var c=0,d=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,f=0;f<b.length;++f){var g=b[f].Qa(),c=Math.max(c,g.start);null!=g.end&&(d=Math.min(d,g.end));b[f].length()&&(e=Math.min(e,b[f].A().endTime))}if(d==Number.POSITIVE_INFINITY)if(d=a.a.a[0],d.b)d=(d.start||0)+d.b;else return null;a.a.b&&(f=Je(a),d=Math.max(d-f,c));if(c>d)return null;d=Math.floor(1E5*d)/1E5;return{start:c,end:d,A:e}}function af(a){a.a.b&&(a.M=setTimeout(a.$b.bind(a),1E3))}
function Fe(a){for(var b in a.b)a.b[b].P(a.f)}m.Ca=function(){return this.Oa};Y.prototype.getLongestInitResponseTime=Y.prototype.Ca;function Z(a,b,c,d){c||(c=new G);d||(d=new X);Y.call(this,null,c,d);"string"===typeof a?this.Ab=a:this.Ma=a;this.L=null;this.W=b;this.fa=[];this.$a=[];this.bb=[];this.oa=0;this.G=null}q(Z,Y);p("shaka.player.DashVideoSource",Z);Z.prototype.fb=function(){return this.Ma||this.L};Z.prototype.debugGetManifest=Z.prototype.fb;Z.prototype.Ib=function(a,b,c){this.fa.push(a);this.$a.push(b||"");this.bb.push(c||"")};Z.prototype.addExternalCaptions=Z.prototype.Ib;Z.prototype.Jb=function(a){this.G=a};
Z.prototype.setNetworkCallback=Z.prototype.Jb;Z.prototype.destroy=function(){this.L=this.G=this.W=null;Y.prototype.destroy.call(this)};
Z.prototype.Ea=function(){var a;this.m&&(a=this.m.getOperationLogger("source_load").start());var b,c=F(this,function(c){this.qa("MPDFetchDuration",(Date.now()-b)/1E3);this.L=c;for(var d=0;d<this.fa.length;d++)Rc(c,this.fa[d],this.$a[d],this.bb[d]);this.a=te(new se(this.W,this.m),c,this.G);return Y.prototype.Ea.call(this).then(function(){a&&a.log()})});if(this.Ma)return b=Date.now(),c(this.Ma);var d=[new L(this.Ab)],e;if(this.Ja){var f=new VideoPushParametersHelper(this.Ab);f.setStreamEndOffset(Je(this));
this.va&&f.setPushVideoRepresentationID(this.va);this.S&&f.setPushAudioRepresentationID(this.S);this.P&&f.setUseLongCacheForManifest(this.P);e=new nd(null);e.a=f}d=new K(this.G,d);e=new md(d,this.La,e,this.U);b=Date.now();return e.send(this.m).then(c)};
Z.prototype.ab=function(){if(this.gb){var a=this.a;if(a=(a=a&&a.a)&&a[0])a=a.a.reduce(function(a,c){return a.concat(c.o)},[]),Promise.all(a.map(function(a){a=a.J;return a.Nb?a.la:a.create()})).then(function(a){a=a.filter(function(a){return null!=a});this.qa("InitialSegmentIndexes",a)}.bind(this))}};
Z.prototype.nb=function(a,b,c){if(this.c.paused&&this.oa+1E4>Date.now()&&this.a)return Promise.reject({type:"delay"});var d;if(b&&void 0!=c)d=new nd(b),d.f=c,b=Pe(this),null!=b&&(d.c=b.streamInfoID,d.b=this.S);else for(b=a.a,c=0;c<b.length;c++){var e=new VideoPushParametersHelper(b[c].toString());this.P&&e.setUseLongCacheForManifest(this.P);b[c]=new L(e.getURL())}a=new md(a,this.La,d,this.U);var f=Date.now();return a.send(this.m).then(F(this,function(a){this.oa=Date.now();this.qa("MPDFetchDuration",
(this.oa-f)/1E3);this.L=a;a=te(new se(this.W,this.m),a,this.G);return Promise.resolve(a)}))};Z.prototype.mb=function(){var a=te(new se(this.W),this.L,this.G);return Promise.resolve(a)};}.bind(g, global))();

module.exports = g.shaka;


/* -LM3CIki38n */}),null);
__d("VideoChannel",[],(function a(b,c,d,e,f,g){var h=null,i={get:function j(){return h;},set:function j(k){h=k;}};f.exports=i;}),null);
__d('VideoChannelViewChainLengthManager',['guid'],(function a(b,c,d,e,f,g){function h(k){'use strict';this.$VideoChannelViewChainSession1=c('guid')();this.$VideoChannelViewChainSession2=0;this.$VideoChannelViewChainSession3=k;this.$VideoChannelViewChainSession4={};this.$VideoChannelViewChainSession4[k]=0;this.$VideoChannelViewChainSession5=k;}h.prototype.registerVideoID=function(k){'use strict';if(this.$VideoChannelViewChainSession4[k]===undefined){this.$VideoChannelViewChainSession2++;this.$VideoChannelViewChainSession4[k]=this.$VideoChannelViewChainSession2;}this.$VideoChannelViewChainSession5=k;};h.prototype.getSessionID=function(){'use strict';return this.$VideoChannelViewChainSession1;};h.prototype.getCurrentChainLength=function(){'use strict';return this.$VideoChannelViewChainSession4[this.$VideoChannelViewChainSession5]!==undefined?this.$VideoChannelViewChainSession4[this.$VideoChannelViewChainSession5]:null;};var i={},j={_ensureSessionID:function k(l){l=l.toString();if(!i[l])i[l]=new h(l);},getLoggingData:function k(l){if(l)l=l.toString();var m=i&&i[l];if(!m)return {video_chaining_depth_level:null,video_chaining_session_id:null};return {video_chaining_depth_level:m.getCurrentChainLength(),video_chaining_session_id:m.getSessionID()};},registerChainingInfos:function k(l,m){var n=l;if(m){var o=m.decode();if(o.root_id)n=o.root_id;}if(n)n=n.toString();this.registerVideoID(n,l);},registerVideoID:function k(l,m){l=l.toString();this._ensureSessionID(l);i[l].registerVideoID(m);}};f.exports=j;}),null);
__d('VideoChannelLogger',['Arbiter','Banzai','BanzaiLogger','Run','VideoChannelLoggerEvents','VideoChannelLoggerFields','VideoChannelViewChainLengthManager','VideoChannelViewVariables'],(function a(b,c,d,e,f,g){var h=c('VideoChannelViewVariables').channelPivots,i=0,j=null,k=null,l=null,m=0,n=null,o={startSession:function p(q,r,s){j=r;l=s;k=q;c('Arbiter').inform('LogEnterChannel',r);c('VideoChannelViewChainLengthManager').registerVideoID(q,q);var t={};t[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').SESSION_START;o.log(t);i=Date.now();c('Run').onLeave(o.endSession);c('Banzai').subscribe(c('Banzai').SHUTDOWN,o.endSession);},endSession:function p(){if(j){c('Arbiter').inform('LogExitChannel',j);var q={};q[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').SESSION_END;o.log(q);j=null;k=null;l=null;n=null;i=0;}},setOffset:function p(q){m=q;},setPosition:function p(q){n=q;},setChannel:function p(q){j=q;},getPlayerLoggingData:function p(){if(!j)return {};return {video_channel_id:j,position_in_channel:n+m};},log:function p(q){var r=c('VideoChannelViewChainLengthManager').getLoggingData(k);q[c('VideoChannelLoggerFields').SESSION_ID]=r.video_chaining_session_id;if(!h)q[c('VideoChannelLoggerFields').VIDEO_CHANNEL_ID]=j;q[c('VideoChannelLoggerFields').VIDEO_CHAINING_CALLER]=l;if(!(c('VideoChannelLoggerFields').POSITION_IN_CHANNEL in q))q[c('VideoChannelLoggerFields').POSITION_IN_CHANNEL]=n+m;if(i){var s=Date.now()-i;q[c('VideoChannelLoggerFields').TIME_SINCE_START]=s+.001;}c('BanzaiLogger').log('VideoChannelLoggerConfig',q);}};f.exports=o;}),null);
__d('VideoChannelProgressCircle.react',['cx','React','ReactDOM','Style'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$VideoChannelProgressCircle1=0,this.$VideoChannelProgressCircle2=0,n;}l.prototype.componentDidMount=function(){'use strict';this.drawProgressCircle(this.props);};l.prototype.componentWillUnmount=function(){'use strict';clearInterval(this.$VideoChannelProgressCircle1);};l.prototype.componentWillReceiveProps=function(m){'use strict';if(m.makeProgress!==this.props.makeProgress||m.timeoutSec!==this.props.timeoutSec)this.drawProgressCircle(m);};l.prototype.drawProgressCircle=function(m){'use strict';var n=c('ReactDOM').findDOMNode(this.refs.progressCircle),o=this.$VideoChannelProgressCircle2,p=o/100;c('Style').set(n,'stroke-dashoffset',o+'px');clearInterval(this.$VideoChannelProgressCircle1);if(m.makeProgress)this.$VideoChannelProgressCircle1=setInterval(function(){o-=p;c('Style').set(n,'stroke-dashoffset',o+'px');if(o<=0){clearInterval(this.$VideoChannelProgressCircle1);c('Style').set(n,'stroke-dashoffset','0px');m.onProgressDone&&m.onProgressDone();}}.bind(this),m.timeoutSec*10);};l.prototype.render=function(){'use strict';var m=this.props.watchAndScroll?34:80,n=this.props.watchAndScroll?2:4,o=m/2,p=o-n/2;this.$VideoChannelProgressCircle2=p*2*Math.PI;return (c('React').createElement('div',null,c('React').createElement('svg',{className:"_20_8"},c('React').createElement('circle',{cx:o,cy:o,r:p,stroke:'#ffffff',strokeWidth:n,strokeDasharray:this.$VideoChannelProgressCircle2,fill:'transparent'}),c('React').createElement('circle',{ref:'progressCircle',cx:o,cy:o,r:p,stroke:'#5890ff',strokeWidth:n,strokeDasharray:this.$VideoChannelProgressCircle2,fill:'transparent'})),this.props.children));};l.propTypes={children:k.element,makeProgress:k.bool.isRequired,onProgressDone:k.func,timeoutSec:k.number.isRequired,watchAndScroll:k.bool};f.exports=l;}),null);
__d('VideoChannelReplayImage.react',['cx','Image.react','React'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';return (c('React').createElement(c('Image.react'),{className:"_4nxy"+(this.props.size==='small'?' '+"_4nxz":''),src:'/images/video/channel_view/replay.svg'}));};function k(){'use strict';i.apply(this,arguments);}k.defaultProps={size:'normal'};f.exports=k;}),null);
__d("XVideoChannelViewAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/channel\/view\/async\/{id}\/",{id:{type:"String",required:true},original_video_id:{type:"String",required:true},cursor:{type:"String"},story_count:{type:"Int",defaultValue:3},caller:{type:"Enum",defaultValue:"channel_view_from_unknown",enumType:1}});}),null);
__d("XVideoChannelViewStoryAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/channel\/view\/story\/async\/{root_video_id}\/",{root_video_id:{type:"String",required:true},video_ids:{type:"StringVector",defaultValue:[]},use_video_placeholder:{type:"Bool",defaultValue:false},setup_interactions:{type:"Bool",defaultValue:false},is_first_story:{type:"Bool",defaultValue:false},feed_tracking_data:{type:"StringVector",defaultValue:[]},caller:{type:"Enum",defaultValue:"channel_view_from_unknown",enumType:1},channel_id:{type:"String"},ad_impression_token:{type:"String"},fetch_channel_pivots:{type:"Bool",defaultValue:false}});}),null);
__d('VideoChannelStoryFetcher',['AsyncRequest','HTML','VideoChainingCaller','VideoChannelLogger','VideoChannelLoggerEvents','VideoChannelLoggerFields','VideoChannelRequestStatus','VideoChannelViewVariables','XVideoChannelViewAsyncController','XVideoChannelViewStoryAsyncController'],(function a(b,c,d,e,f,g){var h=c('VideoChannelViewVariables').channelPivots;function i(j,k,l,m,n,o,p){'use strict';this.$VideoChannelStoryFetcher7=j;this.$VideoChannelStoryFetcher8=k;this.$VideoChannelStoryFetcher4=l;this.$VideoChannelStoryFetcher10=0;this.$VideoChannelStoryFetcher2=null;this.$VideoChannelStoryFetcher3=true;this.$VideoChannelStoryFetcher5=[];this.$VideoChannelStoryFetcher6=[];this.$VideoChannelStoryFetcher9={};if(n){this.$VideoChannelStoryFetcher5=n.videoIDs;this.$VideoChannelStoryFetcher6=n.feedTrackingData;this.$VideoChannelStoryFetcher2=n.cursorInfo.cursor;this.$VideoChannelStoryFetcher3=n.cursorInfo.hasNextPage;var q=this.$VideoChannelStoryFetcher5.indexOf(this.$VideoChannelStoryFetcher7);c('VideoChannelLogger').setOffset(q);this.$VideoChannelStoryFetcher9.start=q;this.$VideoChannelStoryFetcher9.end=q+1;}if(o){this.$VideoChannelStoryFetcher5=o;this.$VideoChannelStoryFetcher3=!!p;var r=this.$VideoChannelStoryFetcher5.indexOf(this.$VideoChannelStoryFetcher7);c('VideoChannelLogger').setOffset(r);this.$VideoChannelStoryFetcher9.start=r;this.$VideoChannelStoryFetcher9.end=r+1;}c('VideoChannelLogger').setPosition(0);this.$VideoChannelStoryFetcher11=m;this.$VideoChannelStoryFetcher12=[];this.$VideoChannelStoryFetcher13=[];}i.prototype.reset=function(j,k){'use strict';this.$VideoChannelStoryFetcher7=j;this.$VideoChannelStoryFetcher8=k;this.$VideoChannelStoryFetcher10=0;this.$VideoChannelStoryFetcher2=null;this.$VideoChannelStoryFetcher3=true;this.$VideoChannelStoryFetcher5=[];this.$VideoChannelStoryFetcher6=[];this.$VideoChannelStoryFetcher9={};this.$VideoChannelStoryFetcher12=[];this.$VideoChannelStoryFetcher13=[];};i.prototype.abandonRequest=function(){'use strict';this.$VideoChannelStoryFetcher1&&this.$VideoChannelStoryFetcher1.abandon();};i.prototype.hasNext=function(){'use strict';var j=this.$VideoChannelStoryFetcher5.length-this.$VideoChannelStoryFetcher9.end>0;return this.$VideoChannelStoryFetcher3||j;};i.prototype.$VideoChannelStoryFetcher14=function(event,j,k){'use strict';var l={};l[c('VideoChannelLoggerFields').EVENT]=event;l[c('VideoChannelLoggerFields').REQUEST_STATUS]=j;l[c('VideoChannelLoggerFields').PERF_TIME_MS]=Date.now()-k;if(h)l[c('VideoChannelLoggerFields').VIDEO_CHANNEL_ID]=this.$VideoChannelStoryFetcher8;c('VideoChannelLogger').log(l);};i.prototype.fetchFirstStory=function(j,k,l){'use strict';if(k===null)if(this.$VideoChannelStoryFetcher5.length!==0){var m=this.$VideoChannelStoryFetcher5.indexOf(this.$VideoChannelStoryFetcher7);k=this.$VideoChannelStoryFetcher6[m];}var n=c('XVideoChannelViewStoryAsyncController').getURIBuilder().setEnum('caller',this.$VideoChannelStoryFetcher4).setStringVector('video_ids',[this.$VideoChannelStoryFetcher7]).setString('root_video_id',this.$VideoChannelStoryFetcher7).setBool('is_first_story',true).setBool('use_video_placeholder',j).setBool('setup_interactions',l).setString('channel_id',this.$VideoChannelStoryFetcher8).setString('ad_impression_token',this.$VideoChannelStoryFetcher11);if(k)n.setStringVector('feed_tracking_data',[JSON.stringify(k)]);var o=Date.now(),p=new (c('AsyncRequest'))(n.getURI()).setAllowCrossPageTransition(true).setHandler(function(){var q,r=this;this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_FIRST_STORY,c('VideoChannelRequestStatus').SUCCEEDED,o);this.$VideoChannelStoryFetcher15();if(h)(function(){var s=Date.now(),t=c('XVideoChannelViewStoryAsyncController').getURIBuilder().setEnum('caller',r.$VideoChannelStoryFetcher4).setStringVector('video_ids',[r.$VideoChannelStoryFetcher7]).setString('root_video_id',r.$VideoChannelStoryFetcher7).setString('channel_id',r.$VideoChannelStoryFetcher8).setBool('fetch_channel_pivots',true);if(k)t.setStringVector('feed_tracking_data',[JSON.stringify(k)]);var u=new (c('AsyncRequest'))(t.getURI()).setAllowCrossPageTransition(true).setHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_CHANNEL_PIVOTS,c('VideoChannelRequestStatus').SUCCEEDED,s);this.$VideoChannelStoryFetcher15();}.bind(r)).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_CHANNEL_PIVOTS,c('VideoChannelRequestStatus').FAILED,s);this.$VideoChannelStoryFetcher15();}.bind(r)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_CHANNEL_PIVOTS,c('VideoChannelRequestStatus').ABORTED,s);this.$VideoChannelStoryFetcher15();}.bind(r));r.$VideoChannelStoryFetcher1=u;r.$VideoChannelStoryFetcher10=Date.now();u.send();})();}.bind(this)).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_FIRST_STORY,c('VideoChannelRequestStatus').FAILED,o);this.$VideoChannelStoryFetcher15();}.bind(this)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_FIRST_STORY,c('VideoChannelRequestStatus').ABORTED,o);this.$VideoChannelStoryFetcher15();}.bind(this));this.$VideoChannelStoryFetcher1=p;this.$VideoChannelStoryFetcher10=Date.now();p.send();};i.prototype.getPreloadedData=function(){'use strict';return {stories:this.$VideoChannelStoryFetcher12,thumbnails:this.$VideoChannelStoryFetcher13};};i.prototype.$VideoChannelStoryFetcher16=function(j,k){'use strict';if(!this.$VideoChannelStoryFetcher8)return;var l=c('XVideoChannelViewAsyncController').getURIBuilder().setString('id',this.$VideoChannelStoryFetcher8).setEnum('caller',this.$VideoChannelStoryFetcher4).setString('original_video_id',this.$VideoChannelStoryFetcher7).setInt('story_count',j);if(this.$VideoChannelStoryFetcher2)l.setString('cursor',this.$VideoChannelStoryFetcher2.toString());var m=Date.now(),n=l.getURI(),o=new (c('AsyncRequest'))(n).setAllowCrossPageTransition(true).setHandler(function(p){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FROM_ENTQUERY,c('VideoChannelRequestStatus').SUCCEEDED,m);this.$VideoChannelStoryFetcher2=p.getPayload().cursor;this.$VideoChannelStoryFetcher3=p.getPayload().hasNextPage;this.$VideoChannelStoryFetcher15();this.$VideoChannelStoryFetcher17(p,function(q,r){this.$VideoChannelStoryFetcher12=[].concat(this.$VideoChannelStoryFetcher12,q);this.$VideoChannelStoryFetcher13=[].concat(this.$VideoChannelStoryFetcher13,r);return k(q,r);}.bind(this));}.bind(this)).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FROM_ENTQUERY,c('VideoChannelRequestStatus').FAILED,m);this.$VideoChannelStoryFetcher15();}.bind(this)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FROM_ENTQUERY,c('VideoChannelRequestStatus').ABORTED,m);this.$VideoChannelStoryFetcher15();}.bind(this));this.$VideoChannelStoryFetcher1=o;o.send();};i.prototype.$VideoChannelStoryFetcher18=function(j,k,l){var m,n=this;'use strict';var o=this.$VideoChannelStoryFetcher9.end,p=this.$VideoChannelStoryFetcher5.length-o,q=o+Math.min(p,j);if(p>0){(function(){var r=n.$VideoChannelStoryFetcher5.slice(o,q),s=n.$VideoChannelStoryFetcher6.slice(o,q).map(function(v){return JSON.stringify(v);}),t=c('XVideoChannelViewStoryAsyncController').getURIBuilder().setEnum('caller',n.$VideoChannelStoryFetcher4).setString('channel_id',n.$VideoChannelStoryFetcher8).setString('root_video_id',n.$VideoChannelStoryFetcher7).setStringVector('video_ids',r).setStringVector('feed_tracking_data',s),u=Date.now();n.$VideoChannelStoryFetcher1=new (c('AsyncRequest'))(t.getURI()).setAllowCrossPageTransition(true).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FORWARD,c('VideoChannelRequestStatus').FAILED,u);this.$VideoChannelStoryFetcher15();}.bind(n)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FORWARD,c('VideoChannelRequestStatus').ABORTED,u);this.$VideoChannelStoryFetcher15();}.bind(n)).setHandler(function(v){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_FORWARD,c('VideoChannelRequestStatus').SUCCEEDED,u);this.$VideoChannelStoryFetcher9.end=q;this.$VideoChannelStoryFetcher15();this.$VideoChannelStoryFetcher17(v,function(w,x){this.$VideoChannelStoryFetcher12=[].concat(this.$VideoChannelStoryFetcher12,w);this.$VideoChannelStoryFetcher13=[].concat(this.$VideoChannelStoryFetcher13,x);return k(w,x);}.bind(this));}.bind(n));n.$VideoChannelStoryFetcher1.send();if(l)l(p);})();}else if(this.$VideoChannelStoryFetcher3){this.$VideoChannelStoryFetcher16(j,k);if(l)l(j);}};i.prototype.$VideoChannelStoryFetcher19=function(j,k,l){var m,n=this;'use strict';var o=this.$VideoChannelStoryFetcher9.start;if(o>0)(function(){var p=Math.max(o-j,0),q=n.$VideoChannelStoryFetcher5.slice(p,o),r=n.$VideoChannelStoryFetcher6.slice(p,o).map(function(u){return JSON.stringify(u);}),s=c('XVideoChannelViewStoryAsyncController').getURIBuilder().setEnum('caller',n.$VideoChannelStoryFetcher4).setString('channel_id',n.$VideoChannelStoryFetcher8).setString('root_video_id',n.$VideoChannelStoryFetcher7).setStringVector('video_ids',q).setStringVector('feed_tracking_data',r),t=Date.now();n.$VideoChannelStoryFetcher1=new (c('AsyncRequest'))(s.getURI()).setAllowCrossPageTransition(true).setErrorHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_BACKWARD,c('VideoChannelRequestStatus').FAILED,t);this.$VideoChannelStoryFetcher15();}.bind(n)).setAbortHandler(function(){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_BACKWARD,c('VideoChannelRequestStatus').ABORTED,t);this.$VideoChannelStoryFetcher15();}.bind(n)).setHandler(function(u){this.$VideoChannelStoryFetcher14(c('VideoChannelLoggerEvents').FETCH_STORIES_BACKWARD,c('VideoChannelRequestStatus').SUCCEEDED,t);this.$VideoChannelStoryFetcher9.start=p;this.$VideoChannelStoryFetcher15();this.$VideoChannelStoryFetcher17(u,k);}.bind(n));n.$VideoChannelStoryFetcher1.send();if(l)l(o-p);})();};i.prototype.fetchStories=function(j,k,l){'use strict';var m=c('VideoChannelViewVariables').defaultStoriesToLoad;if(this.$VideoChannelStoryFetcher1)return;if(j){this.$VideoChannelStoryFetcher18(m,k,l);}else this.$VideoChannelStoryFetcher19(m,k,l);};i.prototype.$VideoChannelStoryFetcher17=function(j,k){'use strict';var l=j.getPayload(),m=c('HTML').replaceJSONWrapper(l.stories).getNodes(),n=l.thumbnails.map(function(o){return c('HTML').replaceJSONWrapper(o).getRootNode();});k(m,n);};i.prototype.$VideoChannelStoryFetcher15=function(){'use strict';this.$VideoChannelStoryFetcher1=null;};f.exports=i;}),null);
__d('VideoQualityClasses',['VideoQualityClassInternal'],(function a(b,c,d,e,f,g){f.exports=c('VideoQualityClassInternal').orderedValues;}),null);
__d('AbstractVideoFullscreenControl.react',['AbstractButton.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={awaitingUpdate:false},this.isFullscreen=function(){if(this.state.awaitingUpdate)return this.state.isFullscreenOverride;return !!this.props.isFullscreen;}.bind(this),this.onButtonClick=function(){this.props.onToggleFullscreen&&this.props.onToggleFullscreen();}.bind(this),m;}k.prototype.render=function(){return (c('React').createElement(c('AbstractButton.react'),babelHelpers['extends']({},this.props,{className:this.props.className,disabled:this.props.disabled,image:this.props.image,onClick:this.onButtonClick})));};k.propTypes={disabled:j.bool,image:j.element,isFullscreen:j.bool,onToggleFullscreen:j.func};f.exports=k;}),null);
__d('VideoPlayerApiEvents',[],(function a(b,c,d,e,f,g){var h=['buffered','buffering','beginPlayback','updateStatus','logEvent','pausePlayback','clickVideo','clickForTracking','finishPlayback','unmuteVideo','muteVideo','changeVolume','turnOffAutoplay','updateBuffer','updateMetadata','qualityChange','updateViewportBegin','updateViewportMove','updateViewportEnd','dimensionsChange','viewportChange','wheelScroll','error','loadedSubtitles','toggleSubtitles','toggleFullscreen','seekEnd','streamInterrupted','streamResumed','debug/shakaEvent','abortedLoading','restoringAfterAbort','restoredAfterAbort','sphericalOrientationChange'];f.exports=h;}),null);
__d('AbstractVideoPlayerApi',['invariant','EventEmitter','VideoPlayerApiEvents','arrayContains'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('EventEmitter'));j=i&&i.prototype;function k(){'use strict';j.constructor.call(this);}k.prototype.addListener=function(){'use strict';for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];return j.addListener.apply(this,m);};k.prototype.emit=function(){'use strict';for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];return j.emit.apply(this,m);};k.prototype.setRelativeSphericalOrientation=function(l,m){'use strict';};k.isImplementationUnavailable=function(){'use strict';return true;};f.exports=k;}),null);
__d("VideoConfig",[],(function a(b,c,d,e,f,g){function h(i){Object.assign(this,i);}f.exports=h;}),null);
__d("HTMLMediaElementReadyStates",[],(function a(b,c,d,e,f,g){var h={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};f.exports=h;}),null);
__d('getHTMLMediaElementMutedState',['HTMLMediaElementReadyStates'],(function a(b,c,d,e,f,g){function h(i){if(i.readyState>=c('HTMLMediaElementReadyStates').HAVE_METADATA){return i.muted;}else return i.hasAttribute('muted')||i.muted;}f.exports=h;}),null);
__d('HVideoPlayerMixin',['EventListener','UserAgent','VideoPlayerLoggerEvent','VideoPlayerHTML5Experiments','getHTMLMediaElementMutedState'],(function a(b,c,d,e,f,g){var h=-1,i=!!(window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart);function j(l,event){l.time_ms=Date.now();var m=event.timeStamp;if(m&&i){var n=Math.floor(m).toString().length,o=Date.now().toString().length,p=window.performance.now();if(n===o+3){m=Math.floor(m/1000);l.time_ms=m;}else if(n===o){l.time_ms=m;}else if(m<=p){var q=window.performance.timing.navigationStart;l.time_ms=q+Math.floor(m);}}return l;}var k={initLogger:function l(m,n){this._loggedEvents={};this._logFunction=m;this._useEventTime=n;var o=this.getVideoElement();this._lastStartTimePosition=h;this._muted=c('getHTMLMediaElementMutedState')(o);this._pausedPosition=h;this._seeking=false;this._seekSourceTimePosition=h;this._volume=o.volume;this._logNextPlayingEvent=true;this._lastPlayedTime=h;var p=false;if(o.readyState>=o.HAVE_FUTURE_DATA){this._logReadyToPlay();}else p=true;if(this.skipSubscriptions())return;var q=this.getSubscriptions();if(p)q.addSubscriptions(c('EventListener').listen(o,'canplay',this._logReadyToPlay.bind(this)));q.addSubscriptions(c('EventListener').listen(o,'ended',this.onEnded.bind(this)),c('EventListener').listen(o,'pause',this.onPause.bind(this)),c('EventListener').listen(o,'playing',this.onPlaying.bind(this)),c('EventListener').listen(o,'seeked',this.onSeeked.bind(this)),c('EventListener').listen(o,'seeking',this.onSeeking.bind(this)),c('EventListener').listen(o,'play',this.onPlay.bind(this)),c('EventListener').listen(o,'loadedmetadata',this.onLoadedMetadata.bind(this)),c('EventListener').listen(o,'timeupdate',this.onTimeUpdate.bind(this)),c('EventListener').listen(o,'volumechange',this.onVolumeChange.bind(this)),c('EventListener').listen(o,'representationended',this.onRepresentationEnded.bind(this)));},skipSubscriptions:function l(){return false;},onCanPlay:function l(m){this._logReadyToPlay(m);},onPlay:function l(m){this._logNextPlayingEvent=true;this._ignoreNextPlaying=false;this._pendingPlayRequest=true;},_logOnce:function l(event,m){if(this._loggedEvents[event])return;this._logEvent(event,m);},_logEvent:function l(event,m){this._loggedEvents[event]=true;var n=m?m:{};n.video_id=this.getVideoID();if(!Object.prototype.hasOwnProperty.call(n,'video_time_position'))n.video_time_position=this._getVideoCurrentTime();if(!n.time_ms)n.time_ms=Date.now();n.time=Math.round(n.time_ms/1000);if(this.getAdClientToken){var o=this.getAdClientToken();if(o)n.ad_client_token=o;}if(this.getPlayerFormat)n.player_format=this.getPlayerFormat();if(this.getPlayerOrigin)n.player_origin=this.getPlayerOrigin();if(this.getPlayerSuborigin)n.player_suborigin=this.getPlayerSuborigin();this._logFunction(event,n);},_logReadyToPlay:function l(){this._logOnce(c('VideoPlayerLoggerEvent').READY_TO_PLAY);},onPause:function l(m){this._logNextPlayingEvent=true;var n=this.getVideoElement();if(this._pendingPlayRequest){var o={debug_reason:this.getLastPlayReason()};this._pendingPlayRequest=false;this._logEvent(c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING,o);return;}var event=n.ended?c('VideoPlayerLoggerEvent').FINISHED_PLAYING:c('VideoPlayerLoggerEvent').PAUSED,p=this._getVideoCurrentTime();if(p)this._lastPlayedTime=p;var q=this._lastPlayedTime,r=m.lastPauseReason;if(event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING){q=Math.max(q,n.duration);}else if(this.preventPauseLoggingInMixin===true){return;}else if(this.preventPauseLoggingInMixin===false)r=r||'unloaded';this._logEvent(event,this._amendEventTime({video_last_start_time_position:this._lastStartTimePosition===h?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:q,debug_reason:r},m));this._lastStartTimePosition=h;},onEnded:function l(){this._logNextPlayingEvent=true;if(this._lastStartTimePosition!==h&&c('UserAgent').isBrowser('IE'))this.onPause({});},onRepresentationEnded:function l(m){var n=m.detail;if(n){var o={representation_id:n.representationID,next_representation_id:n.nextRepresentationID,stream_switch_reason:n.streamSwitchReason};if(c('VideoPlayerHTML5Experiments').newStateChangeCalculation){var p=this.getVideoElement();this._lastPlayedTime=this._getVideoCurrentTime();var q=this._lastPlayedTime;o=this._amendEventTime(babelHelpers['extends']({video_last_start_time_position:this._lastStartTimePosition===h?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:q},o),m);}this._logEvent(c('VideoPlayerLoggerEvent').REPRESENTATION_ENDED,o);if(c('VideoPlayerHTML5Experiments').newStateChangeCalculation){var r=this._getVideoCurrentTime();this._lastStartTimePosition=r;this._lastPlayedTime=r;}}},addWatchTimeData:function l(m){if(this._lastStartTimePosition!=h&&this._lastPlayedTime!=h){m.video_last_start_time_position=this._lastStartTimePosition;m.video_time_position=this._lastPlayedTime;this._lastStartTimePosition=h;}return m;},getLastPlayReason:function l(){return null;},getVideoPlayReason:function l(){return null;},onPlaying:function l(m){if(!this._logNextPlayingEvent)return;if(c('VideoPlayerHTML5Experiments').superficialUnpauseEventsFix)this._logNextPlayingEvent=false;if(this._ignoreNextPlaying){this._ignoreNextPlaying=false;return;}var n=this.getLastPlayReason();this._pendingPlayRequest=false;var event=this._loggedEvents[c('VideoPlayerLoggerEvent').STARTED_PLAYING]?c('VideoPlayerLoggerEvent').UNPAUSED:c('VideoPlayerLoggerEvent').STARTED_PLAYING,o=this._amendEventTime({debug_reason:n,video_play_reason:this.getVideoPlayReason()},m),p=this._getVideoCurrentTime();if(c('VideoPlayerHTML5Experiments').useCurrentTimeAdjustment){var q=this.getVideoElement().currentTime,r=q-p;o.time_ms-=Math.round(r*1000);}this._logEvent(event,o);this._lastStartTimePosition=p;this._lastPlayedTime=p;this._currentTimeAtLoadedMetadataCache=null;},allowNextSeekInMixin:function l(){this._allowNextSeek=true;},onSeeked:function l(m){this._seeking=false;var n=this._seekSourceTimePosition;this._seekSourceTimePosition=h;if(this.preventSeekLoggingInMixin&&!this._allowNextSeek){if(!this._pendingPlayRequest)this._ignoreNextPlaying=true;return;}this._allowNextSeek=false;this._ignoreNextPlaying=false;var o={video_seek_source_time_position:n};if(this._lastStartTimePosition!==h){o.video_last_start_time_position=this._lastStartTimePosition;}else o.video_last_start_time_position=n;this._logEvent(c('VideoPlayerLoggerEvent').SCRUBBED,this._amendEventTime(o,m));var p=this.getVideoElement();if(p.paused){this._lastStartTimePosition=h;}else this._lastStartTimePosition=this._getVideoCurrentTime();},onSeeking:function l(m){this._currentTimeAtLoadedMetadataCache=null;if(!this._seeking){this._seekSourceTimePosition=this._getVideoCurrentTime();this._seeking=true;}},onTimeUpdate:function l(m){this._currentTimeAtLoadedMetadataCache=null;var n=this.getVideoElement();if(!n.paused)this._lastPlayedTime=this._getVideoCurrentTime();},onVolumeChange:function l(m){var n=this.getVideoElement(),o={},event=null;if(c('VideoPlayerHTML5Experiments').useFixedVolumeLogging){var p=n.muted,q=this._muted,r=n.volume,s=this._volume;o.current_volume=Math.round(r*100);this._volume=r;this._muted=p;var t=p||r==0,u=q||s==0;if(u&&t)return;if(u!=t){if(t){event=c('VideoPlayerLoggerEvent').MUTED;}else event=c('VideoPlayerLoggerEvent').UNMUTED;}else{if(s==r)return;if(r<s){event=c('VideoPlayerLoggerEvent').VOLUME_DECREASE;}else event=c('VideoPlayerLoggerEvent').VOLUME_INCREASE;}}else{if(n.muted!==this._muted&&n.volume===this._volume&&n.volume>0){event=n.muted?c('VideoPlayerLoggerEvent').MUTED:c('VideoPlayerLoggerEvent').UNMUTED;}else{event=n.volume>this._volume?c('VideoPlayerLoggerEvent').VOLUME_INCREASE:c('VideoPlayerLoggerEvent').VOLUME_DECREASE;o.current_volume=Math.round(n.volume*100);}this._muted=n.muted;this._volume=n.volume;}this._logEvent(event,this._amendEventTime(o,m));},_amendEventTime:function l(m,event){if(this._useEventTime){return j(m,event);}else m.time_ms=Date.now();return m;},_getVideoCurrentTime:function l(){var m=this.getVideoElement().currentTime.toFixed(2);if(c('VideoPlayerHTML5Experiments').useCurrentTimeAdjustment)if(this._currentTimeAtLoadedMetadataCache!=null)m=this._currentTimeAtLoadedMetadataCache.toFixed(2);if(c('VideoPlayerHTML5Experiments').fixCurrentTimeType)return +m;return m;},onLoadedMetadata:function l(m){this._currentTimeAtLoadedMetadataCache=this.getVideoElement().currentTime;}};f.exports=k;}),null);
__d('MediaBufferingDetector',['Event','EventEmitter','SubscriptionsHandler','setInterval','clearInterval','performanceNow'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this);this.$MediaBufferingDetector1=k;this.$MediaBufferingDetector2=new (c('SubscriptionsHandler'))();if(!this.$MediaBufferingDetector1.paused)this.$MediaBufferingDetector7();this.$MediaBufferingDetector2.addSubscriptions(c('Event').listen(this.$MediaBufferingDetector1,'playing',function(){return this.$MediaBufferingDetector8();}.bind(this)),c('Event').listen(this.$MediaBufferingDetector1,'pause',function(){return this.$MediaBufferingDetector9();}.bind(this)),c('Event').listen(this.$MediaBufferingDetector1,'ended',function(){return this.$MediaBufferingDetector10();}.bind(this)),c('Event').listen(this.$MediaBufferingDetector1,'timeupdate',function(){return this.$MediaBufferingDetector11();}.bind(this)));}j.prototype.$MediaBufferingDetector12=function(){'use strict';var k=c('performanceNow')(),l=this.$MediaBufferingDetector1.currentTime,m=k-this.$MediaBufferingDetector5,n=l-this.$MediaBufferingDetector6,o=n*1000,p=m-o;if(m*.2<Math.abs(p)){this.$MediaBufferingDetector13();}else this.$MediaBufferingDetector14();this.$MediaBufferingDetector15();};j.prototype.$MediaBufferingDetector15=function(){'use strict';this.$MediaBufferingDetector5=c('performanceNow')();this.$MediaBufferingDetector6=this.$MediaBufferingDetector1.currentTime;};j.prototype.$MediaBufferingDetector7=function(){'use strict';if(this.$MediaBufferingDetector4)return;this.$MediaBufferingDetector15();this.$MediaBufferingDetector4=c('setInterval')(function(){return this.$MediaBufferingDetector12();}.bind(this),500);};j.prototype.$MediaBufferingDetector16=function(){'use strict';c('clearInterval')(this.$MediaBufferingDetector4);this.$MediaBufferingDetector4=null;};j.prototype.$MediaBufferingDetector13=function(){'use strict';if(this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=true;this.emit('bufferingStart');};j.prototype.$MediaBufferingDetector14=function(){'use strict';if(!this.$MediaBufferingDetector3)return;this.$MediaBufferingDetector3=false;this.emit('bufferingEnd');};j.prototype.$MediaBufferingDetector8=function(){'use strict';this.$MediaBufferingDetector14();this.$MediaBufferingDetector7();};j.prototype.$MediaBufferingDetector9=function(){'use strict';this.$MediaBufferingDetector14();this.$MediaBufferingDetector16();};j.prototype.$MediaBufferingDetector10=function(){'use strict';this.$MediaBufferingDetector14();this.$MediaBufferingDetector16();};j.prototype.$MediaBufferingDetector11=function(){'use strict';if(!this.$MediaBufferingDetector1.paused){this.$MediaBufferingDetector14();this.$MediaBufferingDetector16();this.$MediaBufferingDetector7();}};j.prototype.destroy=function(){'use strict';this.$MediaBufferingDetector16();this.$MediaBufferingDetector2.release();};f.exports=j;}),null);
__d('VideoPlaybackQuality',[],(function a(b,c,d,e,f,g){function h(i){'use strict';this.video=i;}h.prototype.getDroppedFrames=function(){'use strict';var i=this.video;if(typeof i.getVideoPlaybackQuality==='function')return i.getVideoPlaybackQuality().droppedVideoFrames;var j=i.webkitDroppedFrameCount;if(typeof j==='number')return j;return 0;};h.prototype.getTotalFrames=function(){'use strict';var i=this.video;if(typeof i.getVideoPlaybackQuality==='function')return i.getVideoPlaybackQuality().totalVideoFrames;var j=i.webkitDecodedFrameCount;if(typeof j==='number')return j;return 0;};f.exports=h;}),null);
__d("XLiveBroadcastCaptionsURIFetchAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/live\/broadcast\/captions\/uri\/",{video_id:{type:"String"}});}),null);
__d('forwardEvent',[],(function a(b,c,d,e,f,g){function h(i,j,event){return i.addListener(event,function(){for(var k=arguments.length,l=Array(k),m=0;m<k;m++)l[m]=arguments[m];return j.emit.apply(j,[event].concat(l));});}f.exports=h;}),null);
__d('VideoMimeTypes',[],(function a(b,c,d,e,f,g){function h(o,p,q){return o+'; codecs="'+p+', '+q+'"';}var i='mp4a.40.2';function j(o){return 'avc1.42E0'+o.toString(16).toUpperCase();}function k(o){return 'avc1.4D40'+o.toString(16).toUpperCase();}function l(o){return 'avc1.6400'+o.toString(16).toUpperCase();}var m='video/mp4',n={h264baseline:h(m,j(30),i),h264main30avc:h(m,k(30),i),h264main31avc:h(m,k(31),i),h264high50avc:h(m,l(50),i),h264high51avc:h(m,l(51),i)};f.exports=n;}),null);
__d('canVideoPlayType',['DOM'],(function a(b,c,d,e,f,g){var h=null;function i(j){h=h||c('DOM').create('video');if(!('canPlayType' in h))return '';return h.canPlayType(j);}f.exports=i;}),null);
__d('supportsHTML5Video',['DOM','memoize'],(function a(b,c,d,e,f,g){f.exports=c('memoize')(function(){return !!c('DOM').create('video').canPlayType;});}),null);
__d('isHTML5VideoImplementationUnavailable',['VideoMimeTypes','canVideoPlayType','supportsHTML5Video'],(function a(b,c,d,e,f,g){var h=function i(j){if(j){var k=c('canVideoPlayType')(c('VideoMimeTypes').h264main30avc);return k!=='probably';}return !c('supportsHTML5Video')();};f.exports=h;}),null);
__d('onCanPlayHTMLMediaElement',['invariant','EventListener','HTMLMediaElementReadyStates','setImmediate'],(function a(b,c,d,e,f,g,h){function i(k){return k>=c('HTMLMediaElementReadyStates').HAVE_FUTURE_DATA;}function j(k,l){k instanceof window.HTMLMediaElement||h(0);if(i(k.readyState))c('setImmediate')(l);return c('EventListener').listen(k,'canplay',l);}j.once=function(k,l){var m=j(k,function(){if(!m)return;m.remove();m=null;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];l.apply(this,o);}.bind(this));};f.exports=j;}),null);
__d('onLoadedMetadataHTMLMediaElement',['EventListener','HTMLMediaElementReadyStates','setImmediate'],(function a(b,c,d,e,f,g){function h(j){return j>=c('HTMLMediaElementReadyStates').HAVE_METADATA;}function i(j,k){if(h(j.readyState))c('setImmediate')(k);return c('EventListener').listen(j,'loadedmetadata',k);}i.once=function(j,k){var l=i(j,function(){l.remove();for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];k.apply(this,n);}.bind(this));};f.exports=i;}),null);
__d('seekHTMLMediaElementTo',['EventListener','onLoadedMetadataHTMLMediaElement','setImmediate'],(function a(b,c,d,e,f,g){function h(i,j,k){if(i.currentTime==j)return k&&c('setImmediate')(k);try{i.currentTime=j;}catch(l){}if(i.currentTime){var m=c('EventListener').listen(i,'seeked',function(){m.remove();k&&k();});}else c('onLoadedMetadataHTMLMediaElement')(i,function(){i.currentTime=j;var n=c('EventListener').listen(i,'seeked',function(){n.remove();k&&k();});});}f.exports=h;}),null);
__d('VideoPlayerHTML5Api',['cx','AsyncRequest','AbstractVideoPlayerApi','Arbiter','Bootloader','CSS','ErrorUtils','DOM','DOMDimensions','Event','EventListener','HVideoPlayerMixin','MediaBufferingDetector','RTISubscriptionManager','Run','SubscriptionsHandler','VideoData','VideoFrameBuffer','VideoPlayerHTML5Experiments','VideoPlayerLoggerEvent','VideoPlayerMemLeakExperiments','VideoPlayerReason','VideoPlayerVersions','VideoPlayerShakaExperiments','VideoQualityClasses','XLiveBroadcastCaptionsURIFetchAsyncController','dispatchCustomEvent','dispatchEvent','classWithMixins','isHTML5VideoImplementationUnavailable','forwardEvent','getHTMLMediaElementMutedState','mixin','onCanPlayHTMLMediaElement','seekHTMLMediaElementTo','setImmediate','VideoPlaybackQuality','Deferred'],(function a(b,c,d,e,f,g,h){var i,j;function k(o){switch(o){case 1:return 'The fetching process for the media resource was aborted by the '+'user agent at the users request.';case 2:return 'A network error of some description caused the user agent to '+'stop fetching the media resource, after the resource was '+'established to be usable.';case 3:return 'An error of some description occurred while decoding the '+'media resource, after the resource was established to be usable.';case 4:return 'The media resource indicated by the src attribute was not '+'suitable.';}return null;}function l(o){switch(o){case 1:return 'MEDIA_ERR_ABORTED';case 2:return 'MEDIA_ERR_NETWORK';case 3:return 'MEDIA_ERR_DECODE';case 4:return 'MEDIA_ERR_SRC_NOT_SUPPORTED';default:return 'Error code '+o+' is unknown';}}var m=-1;i=babelHelpers.inherits(n,c('classWithMixins')(c('AbstractVideoPlayerApi'),c('mixin')(c('HVideoPlayerMixin'))));j=i&&i.prototype;function n(o,p){'use strict';j.constructor.call(this);this.getDebug=function(){return {VideoPlayerHTML5Shaka:this.$VideoPlayerHTML5Api30};}.bind(this);this.$VideoPlayerHTML5Api29=o;this.$VideoPlayerHTML5Api12=this.$VideoPlayerHTML5Api29.id;var q=c('DOMDimensions').getElementDimensions(this.$VideoPlayerHTML5Api29);this.$VideoPlayerHTML5Api51=new (c('VideoPlaybackQuality'))(this.$VideoPlayerHTML5Api29);this.preventSeekLoggingInMixin=c('VideoPlayerShakaExperiments').improveRebufferLogging;this.$VideoPlayerHTML5Api45=q.width;this.$VideoPlayerHTML5Api11=q.height;if(p){this.$VideoPlayerHTML5Api6=p;}else this.$VideoPlayerHTML5Api6=JSON.parse(this.$VideoPlayerHTML5Api29.getAttribute('data-config'));this.$VideoPlayerHTML5Api5=new (c('MediaBufferingDetector'))(this.$VideoPlayerHTML5Api29);this.$VideoPlayerHTML5Api5.addListener('bufferingStart',function(){return this.$VideoPlayerHTML5Api53();}.bind(this));this.$VideoPlayerHTML5Api5.addListener('bufferingEnd',function(){return this.$VideoPlayerHTML5Api54();}.bind(this));this.$VideoPlayerHTML5Api20=m;this.$VideoPlayerHTML5Api22=c('getHTMLMediaElementMutedState')(this.$VideoPlayerHTML5Api29);this.$VideoPlayerHTML5Api43=this.$VideoPlayerHTML5Api29.volume;this.$VideoPlayerHTML5Api21=false;this.$VideoPlayerHTML5Api18=null;this.$VideoPlayerHTML5Api26=false;this.$VideoPlayerHTML5Api3=false;this.$VideoPlayerHTML5Api28=this.$VideoPlayerHTML5Api29.getAttribute('preload')=='auto';this.$VideoPlayerHTML5Api9=false;this.$VideoPlayerHTML5Api33=false;if(this.$VideoPlayerHTML5Api6.lazyPreload)if(this.$VideoPlayerHTML5Api6.onafterloadRegister){c('Run').onAfterLoad(function(){return this.$VideoPlayerHTML5Api29.setAttribute('preload',this.$VideoPlayerHTML5Api6.lazyPreload);}.bind(this));}else this.$VideoPlayerHTML5Api29.setAttribute('preload',this.$VideoPlayerHTML5Api6.lazyPreload);this.$VideoPlayerHTML5Api8=this.$VideoPlayerHTML5Api6.disableNativeControls;this.$VideoPlayerHTML5Api36=this.$VideoPlayerHTML5Api6.subtitlesActive;this.$VideoPlayerHTML5Api55();this.preventPauseLoggingInMixin=false;this.$VideoPlayerHTML5Api34=new (c('SubscriptionsHandler'))();this.$VideoPlayerHTML5Api56();this.$VideoPlayerHTML5Api16=this.$VideoPlayerHTML5Api6.useRateLimited;this.$VideoPlayerHTML5Api57(false);var r=c('VideoQualityClasses').indexOf('hd');this.$VideoPlayerHTML5Api15=this.$VideoPlayerHTML5Api6.minQuality!==null&&c('VideoQualityClasses').indexOf(this.$VideoPlayerHTML5Api6.minQuality)>=r;this.$VideoPlayerHTML5Api23=this.$VideoPlayerHTML5Api6.minQuality;this.$VideoPlayerHTML5Api24=this.$VideoPlayerHTML5Api6.maxQuality;this.$VideoPlayerHTML5Api2=this.$VideoPlayerHTML5Api6.accessToken;this.$VideoPlayerHTML5Api31=this.$VideoPlayerHTML5Api6.startTimestamp;this.$VideoPlayerHTML5Api4=this.$VideoPlayerHTML5Api6.autoFullscreenHD;this.switchVideo(0);this.initLogger(this.$VideoPlayerHTML5Api58.bind(this),this.$VideoPlayerHTML5Api6.useEventTime);this.$VideoPlayerHTML5Api59();this.$VideoPlayerHTML5Api27=null;this.$VideoPlayerHTML5Api46=false;this.$VideoPlayerHTML5Api47=false;this.$VideoPlayerHTML5Api48=this.$VideoPlayerHTML5Api6.unloadShouldCancelPendingRequest;}n.prototype.getAdClientToken=function(){'use strict';this.$VideoPlayerHTML5Api6.ad_client_token;};n.prototype.$VideoPlayerHTML5Api53=function(){'use strict';this.emit('buffering');};n.prototype.$VideoPlayerHTML5Api54=function(){'use strict';this.emit('buffered');};n.prototype.$VideoPlayerHTML5Api60=function(){'use strict';this.emit('streamInterrupted');this.$VideoPlayerHTML5Api46=true;};n.prototype.$VideoPlayerHTML5Api61=function(){'use strict';this.emit('streamResumed');this.$VideoPlayerHTML5Api46=false;};n.prototype.isStreamInterrupted=function(){'use strict';return this.$VideoPlayerHTML5Api46;};n.prototype.getVideoID=function(){'use strict';if(this.$VideoPlayerHTML5Api7)return this.$VideoPlayerHTML5Api7.getVideoID();return this.$VideoPlayerHTML5Api6.video_id;};n.prototype.getDroppedFrames=function(){'use strict';return this.$VideoPlayerHTML5Api51.getDroppedFrames();};n.prototype.getTotalFrames=function(){'use strict';return this.$VideoPlayerHTML5Api51.getTotalFrames();};n.prototype.getDOMElement=function(){'use strict';return this.$VideoPlayerHTML5Api29;};n.prototype.getVideoElement=function(){'use strict';return this.$VideoPlayerHTML5Api29;};n.prototype.getSubscriptions=function(){'use strict';return this.$VideoPlayerHTML5Api34;};n.onImplementationReady=function(o,p){'use strict';p();};n.prototype.destroy=function(o){'use strict';if(this.$VideoPlayerHTML5Api9)return;this.$VideoPlayerHTML5Api9=true;this.$VideoPlayerHTML5Api62();if(c('VideoPlayerMemLeakExperiments').clear_handlers_on_destroy)this.$VideoPlayerHTML5Api5.destroy();this.abortLoading(o);if(c('VideoPlayerMemLeakExperiments').unsubscribe_from_subtitles)this.$VideoPlayerHTML5Api63();this.$VideoPlayerHTML5Api64();if(this.$VideoPlayerHTML5Api65)c('DOM').remove(this.$VideoPlayerHTML5Api65);if(c('VideoPlayerMemLeakExperiments').clear_handlers_on_destroy)this.$VideoPlayerHTML5Api34.release();};n.prototype.getVideoInfo=function(){'use strict';if(!this.$VideoPlayerHTML5Api7)return null;return {isHD:this.getSelectedVideoQuality()==this.getAvailableVideoQualities().pop(),streamType:this.$VideoPlayerHTML5Api7.getStreamType(),hasHD:this.getAvailableVideoQualities().length>1,areSubtitlesActive:this.areSubtitlesActive(),isMuted:this.isMuted(),isPlaying:this.$VideoPlayerHTML5Api14,playbackDuration:this.getPlaybackDuration(),volume:this.getVolume(),resourceUrl:this.$VideoPlayerHTML5Api30?'DASH manifest':this.$VideoPlayerHTML5Api66(),hasSubtitles:this.hasSubtitles(),hasUnlimitedSrc:this.$VideoPlayerHTML5Api7.hasRateLimit(),useUnlimitedSrc:!this.$VideoPlayerHTML5Api16,projection:this.$VideoPlayerHTML5Api67(),tagSD:this.$VideoPlayerHTML5Api7.getSDTag(),tagHD:this.$VideoPlayerHTML5Api7.getHDTag(),isLiveStream:this.$VideoPlayerHTML5Api7.isLiveStream(),liveManifestUrl:this.$VideoPlayerHTML5Api7.isLiveStream()?this.$VideoPlayerHTML5Api7.getLiveManifestUrl():null};};n.isImplementationUnavailable=function(o){'use strict';return c('isHTML5VideoImplementationUnavailable')(o);};n.prototype.pause=function(o){'use strict';this.$VideoPlayerHTML5Api18=o;if(o==='unloaded'&&!this.isPaused()){var p=this.$VideoPlayerHTML5Api48||c('VideoPlayerHTML5Experiments').unloadShouldCancelPendingRequest;if(p&&this.$VideoPlayerHTML5Api13){this.$VideoPlayerHTML5Api58(c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING,this.addWatchTimeData({reason:'unloaded'}));}else this.$VideoPlayerHTML5Api58(c('VideoPlayerLoggerEvent').PAUSED,this.addWatchTimeData({reason:'unloaded'}));this.$VideoPlayerHTML5Api47=true;this.preventPauseLoggingInMixin=true;}this.$VideoPlayerHTML5Api68();if(this.$VideoPlayerHTML5Api30){this.$VideoPlayerHTML5Api30.pause();}else this.$VideoPlayerHTML5Api29.pause();};n.prototype.$VideoPlayerHTML5Api57=function(o){'use strict';this.$VideoPlayerHTML5Api13=o;};n.prototype.preload=function(){'use strict';if(!this.$VideoPlayerHTML5Api28){if(this.$VideoPlayerHTML5Api1)this.$VideoPlayerHTML5Api69();this.$VideoPlayerHTML5Api28=true;this.$VideoPlayerHTML5Api29.setAttribute('preload','auto');}};n.prototype.isPreloading=function(){'use strict';return this.$VideoPlayerHTML5Api28;};n.prototype.play=function(o){'use strict';if(!this.$VideoPlayerHTML5Api42)this.$VideoPlayerHTML5Api42=o;this.$VideoPlayerHTML5Api19=o;if(!this.isPaused()){this.$VideoPlayerHTML5Api70();return;}this.$VideoPlayerHTML5Api26=true;this.$VideoPlayerHTML5Api57(true);if(this.$VideoPlayerHTML5Api1){c('dispatchEvent')(this.$VideoPlayerHTML5Api29,'play');this.$VideoPlayerHTML5Api69();this.$VideoPlayerHTML5Api3=true;return;}this.$VideoPlayerHTML5Api71();};n.prototype.$VideoPlayerHTML5Api68=function(){'use strict';if(this.$VideoPlayerHTML5Api3&&this.$VideoPlayerHTML5Api29.paused)c('dispatchEvent')(this.$VideoPlayerHTML5Api29,'pause');this.$VideoPlayerHTML5Api57(false);this.$VideoPlayerHTML5Api72();};n.prototype.$VideoPlayerHTML5Api72=function(){'use strict';this.$VideoPlayerHTML5Api26=false;this.$VideoPlayerHTML5Api3=false;};n.prototype.$VideoPlayerHTML5Api73=function(){'use strict';this.$VideoPlayerHTML5Api29.setAttribute('preload','auto');this.$VideoPlayerHTML5Api28=true;this.$VideoPlayerHTML5Api29.load();this.$VideoPlayerHTML5Api29.muted=this.$VideoPlayerHTML5Api22;};n.prototype.seek=function(o){'use strict';this.allowNextSeekInMixin();if(c('VideoPlayerShakaExperiments').currentTimeDuringReadyStateZeroThrows){if(this.$VideoPlayerHTML5Api29.readyState!==0)this.$VideoPlayerHTML5Api29.currentTime=o;}else try{this.$VideoPlayerHTML5Api29.currentTime=o;}catch(p){}};n.prototype.removeRotation=function(){'use strict';c('CSS').removeClass(this.$VideoPlayerHTML5Api29,"_56jr");c('CSS').removeClass(this.$VideoPlayerHTML5Api29,"_56js");c('CSS').removeClass(this.$VideoPlayerHTML5Api29,"_56jt");this.$VideoPlayerHTML5Api29.style.marginLeft='';this.$VideoPlayerHTML5Api29.style.marginTop='';this.$VideoPlayerHTML5Api29.style.width='';this.$VideoPlayerHTML5Api29.style.height='';};n.prototype.applyRotation=function(o){'use strict';if(!o)return;c('CSS').conditionClass(this.$VideoPlayerHTML5Api29,"_56jr",o==90);c('CSS').conditionClass(this.$VideoPlayerHTML5Api29,"_56js",o==180);c('CSS').conditionClass(this.$VideoPlayerHTML5Api29,"_56jt",o==270);if(o==180)return;var p=this.$VideoPlayerHTML5Api11,q=this.$VideoPlayerHTML5Api45,r=(p-q)/2,s=(q-p)/2;this.$VideoPlayerHTML5Api29.style.marginLeft=s+'px';this.$VideoPlayerHTML5Api29.style.marginTop=r+'px';this.$VideoPlayerHTML5Api29.style.height=q+'px';this.$VideoPlayerHTML5Api29.style.width=p+'px';};n.prototype.switchVideo=function(o){'use strict';if(!this.$VideoPlayerHTML5Api6.videoData||this.$VideoPlayerHTML5Api6.videoData.length<=o)return;var p=new (c('VideoData'))(this.$VideoPlayerHTML5Api6.videoData[o]);this.$VideoPlayerHTML5Api7=p;if((p.hasDashManifest()||p.isLiveStream())&&this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Shaka&&this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Shaka.isSupported()&&!this.$VideoPlayerHTML5Api6.fallbackSources){this.$VideoPlayerHTML5Api5.destroy();var q,r;q=p.getDashManifest();if(p.isLiveStream())r=p.getLiveManifestUrl();var s=new this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Shaka(this.$VideoPlayerHTML5Api29,p.getDashPrefetchedRepresentationIDs(),{accessToken:this.$VideoPlayerHTML5Api2,minPlayQuality:this.$VideoPlayerHTML5Api23,maxPlayQuality:this.$VideoPlayerHTML5Api24,width:this.$VideoPlayerHTML5Api45,height:this.$VideoPlayerHTML5Api11,manifest:q,manifestUrl:r,isLive:p.isLiveStream(),startTimestamp:this.$VideoPlayerHTML5Api31,videoID:this.getVideoID(),playerOrigin:this.$VideoPlayerHTML5Api6.playerOrigin,playerSuborigin:this.$VideoPlayerHTML5Api6.playerSuborigin});s.addListener('bufferingStart',function(){return this.$VideoPlayerHTML5Api53();}.bind(this));s.addListener('bufferingEnd',function(){return this.$VideoPlayerHTML5Api54();}.bind(this));s.addListener('tracksChanged',function(){return this.emit('qualityChange');}.bind(this));s.addListener('streamInterrupted',function(){return this.$VideoPlayerHTML5Api60();}.bind(this));s.addListener('streamResumed',function(){return this.$VideoPlayerHTML5Api61();}.bind(this));s.addListener('adaptation',function(u){var v=u.reason;this.$VideoPlayerHTML5Api58(c('VideoPlayerLoggerEvent').QUALITY_CHANGE,{reason:v});this.emit('qualityChange');}.bind(this));s.addListener('representation_ended',function(u){c('dispatchCustomEvent')(this.$VideoPlayerHTML5Api29,'representationended',u);}.bind(this));s.addListener('debug/shakaEvent',function(u){return this.emit('debug/shakaEvent',u);}.bind(this));s.addListener('error',function(u){return this.$VideoPlayerHTML5Api74(u);}.bind(this));s.addListener('cea608CaptionsParsed',function(u){if(!this.$VideoPlayerHTML5Api52)this.$VideoPlayerHTML5Api52=this.$VideoPlayerHTML5Api75();this.$VideoPlayerHTML5Api52.then(function(v){v.appendFragments(u);this.$VideoPlayerHTML5Api76();}.bind(this))['catch'](function(v){c('ErrorUtils').reportError(v);});}.bind(this));this.$VideoPlayerHTML5Api30=s;if(this.$VideoPlayerHTML5Api10){this.$VideoPlayerHTML5Api10.remove();if(c('VideoPlayerMemLeakExperiments').clear_html5_error_handler)this.$VideoPlayerHTML5Api10=null;}}else{var t=this.$VideoPlayerHTML5Api66();if(t)this.$VideoPlayerHTML5Api29.src=t;if(this.$VideoPlayerHTML5Api31)this.seek(this.$VideoPlayerHTML5Api31);}this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.removeSubtitles();if(p.hasSubtitles())this.$VideoPlayerHTML5Api77(this.$VideoPlayerHTML5Api7.getSubtitlesSrc());this.removeRotation();this.applyRotation(p.getRotation());};n.prototype.switchToStreamType=function(o){'use strict';};n.prototype.replaceVideoDataFromURL=function(o){'use strict';};n.prototype.getCurrentlyPlayingStreamInfoID=function(){'use strict';if(this.$VideoPlayerHTML5Api30)return this.$VideoPlayerHTML5Api30.getStreamInfoIDForTimePosition(this.getCurrentTimePosition());return null;};n.prototype.unmute=function(){'use strict';if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=false;this.$VideoPlayerHTML5Api22=false;this.emit('unmuteVideo');return;}this.$VideoPlayerHTML5Api29.muted=false;};n.prototype.mute=function(){'use strict';if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api1.mutedState=true;this.$VideoPlayerHTML5Api22=true;this.emit('muteVideo');return;}this.$VideoPlayerHTML5Api29.muted=true;};n.prototype.setRotation=function(o){'use strict';this.removeRotation();this.applyRotation(o);};n.prototype.setDimensions=function(o,p){'use strict';this.removeRotation();this.$VideoPlayerHTML5Api45=o;this.$VideoPlayerHTML5Api11=p;this.applyRotation(this.$VideoPlayerHTML5Api7.getRotation());if(this.$VideoPlayerHTML5Api32)this.$VideoPlayerHTML5Api32.updateDimensions(o,p);if(this.$VideoPlayerHTML5Api30)this.$VideoPlayerHTML5Api30.setDimensions(o,p);if(this.$VideoPlayerHTML5Api35)this.$VideoPlayerHTML5Api35.setDimensions(o);this.emit('dimensionsChange',o,p);};n.prototype.$VideoPlayerHTML5Api78=function(){'use strict';this.$VideoPlayerHTML5Api29.controls=!this.$VideoPlayerHTML5Api8;};n.prototype.$VideoPlayerHTML5Api55=function(){'use strict';this.$VideoPlayerHTML5Api29.controls=this.$VideoPlayerHTML5Api29.controls&&!this.$VideoPlayerHTML5Api8;};n.prototype.$VideoPlayerHTML5Api56=function(){'use strict';this.$VideoPlayerHTML5Api10=c('EventListener').listen(this.$VideoPlayerHTML5Api29,'error',this.$VideoPlayerHTML5Api79.bind(this));if(!c('VideoPlayerMemLeakExperiments').clear_html5_error_handler)this.$VideoPlayerHTML5Api34.addSubscriptions(this.$VideoPlayerHTML5Api10);this.$VideoPlayerHTML5Api34.addSubscriptions(c('EventListener').listen(this.$VideoPlayerHTML5Api29,'playing',this.$VideoPlayerHTML5Api80.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'play',this.$VideoPlayerHTML5Api70.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'ended',this.$VideoPlayerHTML5Api81.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'waiting',this.$VideoPlayerHTML5Api82.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'pause',this.$VideoPlayerHTML5Api83.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'volumechange',this.$VideoPlayerHTML5Api84.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'mousedown',this.$VideoPlayerHTML5Api85.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'mouseup',this.$VideoPlayerHTML5Api86.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'timeupdate',this.$VideoPlayerHTML5Api87.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'click',this.$VideoPlayerHTML5Api88.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'loadedmetadata',this.$VideoPlayerHTML5Api89.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'progress',this.$VideoPlayerHTML5Api90.bind(this)),c('EventListener').listen(this.$VideoPlayerHTML5Api29,'seeked',this.$VideoPlayerHTML5Api91.bind(this)),c('EventListener').capture(this.$VideoPlayerHTML5Api29.parentNode,'pause',this.$VideoPlayerHTML5Api92.bind(this)));};n.prototype.$VideoPlayerHTML5Api93=function(o){'use strict';this.preventPauseLoggingInMixin=false;o.preventDefault();o.stopPropagation();};n.prototype.$VideoPlayerHTML5Api92=function(o){'use strict';if(o.target!==this.$VideoPlayerHTML5Api29)return;if(!this.$VideoPlayerHTML5Api29.ended){this.$VideoPlayerHTML5Api47&&this.$VideoPlayerHTML5Api93(o);o.lastPauseReason=this.$VideoPlayerHTML5Api18;}this.$VideoPlayerHTML5Api47=false;};n.prototype.$VideoPlayerHTML5Api90=function(){'use strict';var o=this.$VideoPlayerHTML5Api29.buffered,p=0,q=0,r=o.length;while(r-->0){var s=o.end(r),t=o.start(r);if(t<=this.$VideoPlayerHTML5Api29.currentTime){q=t;p=s-t;break;}}this.$VideoPlayerHTML5Api59();this.$VideoPlayerHTML5Api94('flash/updateBuffer',{duration:p,offset:q});};n.prototype.$VideoPlayerHTML5Api62=function(){'use strict';clearTimeout(this.$VideoPlayerHTML5Api25);};n.prototype.$VideoPlayerHTML5Api59=function(){'use strict';this.$VideoPlayerHTML5Api62();if(this.$VideoPlayerHTML5Api29.networkState===this.$VideoPlayerHTML5Api29.NETWORK_LOADING)this.$VideoPlayerHTML5Api25=setTimeout(function(){return this.$VideoPlayerHTML5Api95();}.bind(this),n.networkTimeout);};n.prototype.$VideoPlayerHTML5Api95=function(){'use strict';var o=this.$VideoPlayerHTML5Api29.buffered,p=0;for(var q=0;q<o.length;q++){var r=o.start(q),s=o.end(q);p+=s-r;}this.$VideoPlayerHTML5Api58(c('VideoPlayerLoggerEvent').NETWORK_TIMEOUT,{buffered:p});};n.prototype.$VideoPlayerHTML5Api87=function(){'use strict';var o;if(this.$VideoPlayerHTML5Api1){o=this.$VideoPlayerHTML5Api1.currentTime;}else o=this.$VideoPlayerHTML5Api29.currentTime;this.$VideoPlayerHTML5Api94('flash/updateStatus',{position:+o.toFixed(3)});};n.prototype.$VideoPlayerHTML5Api88=function(o){'use strict';if(o.button!==0)return;this.emit('clickVideo');o.preventDefault();};n.prototype.isPaused=function(){'use strict';return this.$VideoPlayerHTML5Api29.paused;};n.prototype.$VideoPlayerHTML5Api96=function(){'use strict';var o=this.$VideoPlayerHTML5Api29.buffered;return (o.length>0&&o.start(0)===0&&o.end(0)===this.$VideoPlayerHTML5Api29.duration);};n.prototype.$VideoPlayerHTML5Api82=function(){'use strict';if(!this.$VideoPlayerHTML5Api96()){this.$VideoPlayerHTML5Api44=true;this.$VideoPlayerHTML5Api94('flash/buffering');}};n.prototype.setVolume=function(o){'use strict';this.$VideoPlayerHTML5Api29.volume=o;};n.prototype.$VideoPlayerHTML5Api84=function(){'use strict';if(this.$VideoPlayerHTML5Api29.muted!==this.$VideoPlayerHTML5Api22&&this.$VideoPlayerHTML5Api29.volume===this.$VideoPlayerHTML5Api43&&this.$VideoPlayerHTML5Api29.volume>0){this.$VideoPlayerHTML5Api22=this.$VideoPlayerHTML5Api29.muted;this.$VideoPlayerHTML5Api43=this.$VideoPlayerHTML5Api29.volume;if(!this.$VideoPlayerHTML5Api29.muted){this.$VideoPlayerHTML5Api94('flash/unmuteVideo');}else this.$VideoPlayerHTML5Api94('flash/muteVideo');}else{this.$VideoPlayerHTML5Api22=this.$VideoPlayerHTML5Api29.muted;this.$VideoPlayerHTML5Api43=this.$VideoPlayerHTML5Api29.volume;this.$VideoPlayerHTML5Api94('flash/changeVolume',{volume:this.$VideoPlayerHTML5Api29.volume});}if(!this.$VideoPlayerHTML5Api29.muted)this.$VideoPlayerHTML5Api94('flash/turnOffAutoplay',{reason:'unmuted'});};n.prototype.$VideoPlayerHTML5Api85=function(o){'use strict';if(o.button===0)this.$VideoPlayerHTML5Api21=true;};n.prototype.$VideoPlayerHTML5Api86=function(o){'use strict';if(o.button===0)this.$VideoPlayerHTML5Api21=false;};n.prototype.$VideoPlayerHTML5Api80=function(){'use strict';this.$VideoPlayerHTML5Api57(false);if(this.$VideoPlayerHTML5Api44){this.$VideoPlayerHTML5Api44=false;this.$VideoPlayerHTML5Api94('flash/buffered');}this.$VideoPlayerHTML5Api97();};n.prototype.$VideoPlayerHTML5Api70=function(){'use strict';this.$VideoPlayerHTML5Api14=true;this.$VideoPlayerHTML5Api78();this.$VideoPlayerHTML5Api76();this.$VideoPlayerHTML5Api94('flash/beginPlayback',{position:+this.$VideoPlayerHTML5Api29.currentTime.toFixed(2),reason:this.$VideoPlayerHTML5Api19});this.$VideoPlayerHTML5Api59();};n.prototype.$VideoPlayerHTML5Api83=function(){'use strict';if(this.$VideoPlayerHTML5Api29.ended){this.$VideoPlayerHTML5Api14=false;this.$VideoPlayerHTML5Api57(false);return;}if(this.$VideoPlayerHTML5Api29.seeking&&this.$VideoPlayerHTML5Api18===c('VideoPlayerReason').SEEK)return;if(this.$VideoPlayerHTML5Api21)return;if(this.$VideoPlayerHTML5Api18===c('VideoPlayerReason').SEEK){this.$VideoPlayerHTML5Api18=null;return;}if(this.$VideoPlayerHTML5Api18===null||this.$VideoPlayerHTML5Api18===c('VideoPlayerReason').USER)this.$VideoPlayerHTML5Api94('flash/turnOffAutoplay',{reason:'manually_paused'});this.$VideoPlayerHTML5Api18=null;this.$VideoPlayerHTML5Api14=false;this.$VideoPlayerHTML5Api57(false);this.$VideoPlayerHTML5Api55();this.$VideoPlayerHTML5Api94('flash/pausePlayback',{position:this.$VideoPlayerHTML5Api29.currentTime.toFixed(2)});};n.prototype.$VideoPlayerHTML5Api81=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return;this.$VideoPlayerHTML5Api55();this.$VideoPlayerHTML5Api14=false;this.$VideoPlayerHTML5Api57(false);this.$VideoPlayerHTML5Api94('flash/finishPlayback');this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.hideSubtitles();this.$VideoPlayerHTML5Api63();};n.prototype.$VideoPlayerHTML5Api91=function(){'use strict';this.emit('seekEnd',{position:+this.$VideoPlayerHTML5Api29.currentTime.toFixed(3)});};n.prototype.getEstimatedBandwidth=function(){'use strict';if(this.$VideoPlayerHTML5Api30)if(this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Shaka)return this.$VideoPlayerHTML5Api6.VideoPlayerHTML5Shaka.getEstimatedBandwidth();return null;};n.prototype.$VideoPlayerHTML5Api89=function(){'use strict';this.$VideoPlayerHTML5Api94('flash/updateMetadata');};n.prototype.$VideoPlayerHTML5Api74=function(o){'use strict';this.emit('error',babelHelpers['extends']({},o,{isPlayback:this.$VideoPlayerHTML5Api26}));};n.prototype.$VideoPlayerHTML5Api79=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return;if(!this.$VideoPlayerHTML5Api29.error)return;var o=this.$VideoPlayerHTML5Api29.error;this.emit('error',{error:l(o.code),isPlayback:this.$VideoPlayerHTML5Api26,message:k(o.code)});};n.prototype.$VideoPlayerHTML5Api58=function(event,o){'use strict';if(event===c('VideoPlayerLoggerEvent').STARTED_PLAYING&&this.$VideoPlayerHTML5Api30)o.longest_init_response_time=this.$VideoPlayerHTML5Api30.getLongestInitResponseTime();o.player_version=c('VideoPlayerVersions').PLEASANTVILLE;o.projection=this.$VideoPlayerHTML5Api67();this.$VideoPlayerHTML5Api94('flash/logEvent',{logData:babelHelpers['extends']({event:event},o)});};n.prototype.$VideoPlayerHTML5Api94=function(event,o){'use strict';c('Arbiter').inform(event,babelHelpers['extends']({divID:this.$VideoPlayerHTML5Api12},o));this.emit(event.substr('flash/'.length),o);};n.prototype.$VideoPlayerHTML5Api97=function(){'use strict';if(c('VideoPlayerMemLeakExperiments').unsubscribe_from_subtitles)if(this.$VideoPlayerHTML5Api37)this.$VideoPlayerHTML5Api63();var o=this.getVideoID();this.$VideoPlayerHTML5Api37=c('RTISubscriptionManager').subscribe('live/broadcast/caption/'+o,this.$VideoPlayerHTML5Api98.bind(this));};n.prototype.$VideoPlayerHTML5Api63=function(){'use strict';if(this.$VideoPlayerHTML5Api37)this.$VideoPlayerHTML5Api37.unsubscribe();if(c('VideoPlayerMemLeakExperiments').unsubscribe_from_subtitles)this.$VideoPlayerHTML5Api37=null;};n.prototype.getLastPlayReason=function(){'use strict';return this.$VideoPlayerHTML5Api19;};n.prototype.getVideoPlayReason=function(){'use strict';return this.$VideoPlayerHTML5Api42;};n.prototype.isMuted=function(){'use strict';return this.$VideoPlayerHTML5Api22;};n.prototype.getPlaybackDuration=function(){'use strict';if(this.$VideoPlayerHTML5Api1)return this.$VideoPlayerHTML5Api1.playbackDuration;return this.$VideoPlayerHTML5Api29.duration||0;};n.prototype.getVolume=function(){'use strict';return this.$VideoPlayerHTML5Api29.volume;};n.prototype.getCurrentTimePosition=function(){'use strict';return this.$VideoPlayerHTML5Api29.currentTime;};n.prototype.$VideoPlayerHTML5Api66=function(){'use strict';if(this.$VideoPlayerHTML5Api6.fallbackSources)return (this.$VideoPlayerHTML5Api15&&this.$VideoPlayerHTML5Api6.fallbackSources.HD?this.$VideoPlayerHTML5Api6.fallbackSources.HD:this.$VideoPlayerHTML5Api6.fallbackSources.SD);if(this.$VideoPlayerHTML5Api15&&this.$VideoPlayerHTML5Api7.hasHD()){return this.$VideoPlayerHTML5Api99();}else return this.$VideoPlayerHTML5Api100();};n.prototype.$VideoPlayerHTML5Api99=function(){'use strict';if(this.$VideoPlayerHTML5Api16){return this.$VideoPlayerHTML5Api7.getPlayableSrcRateLimitedHD();}else return this.$VideoPlayerHTML5Api7.getPlayableSrcHD();};n.prototype.$VideoPlayerHTML5Api100=function(){'use strict';if(this.$VideoPlayerHTML5Api16){return this.$VideoPlayerHTML5Api7.getPlayableSrcRateLimitedSD();}else return this.$VideoPlayerHTML5Api7.getPlayableSrcSD();};n.prototype.toggleSubtitles=function(){'use strict';this.$VideoPlayerHTML5Api36=!this.$VideoPlayerHTML5Api36;this.$VideoPlayerHTML5Api76();this.emit('toggleSubtitles');};n.prototype.hasSubtitles=function(){'use strict';return (this.$VideoPlayerHTML5Api7.hasSubtitles()||!!this.$VideoPlayerHTML5Api30&&this.$VideoPlayerHTML5Api30.hasSubtitles());};n.prototype.areSubtitlesActive=function(){'use strict';return this.$VideoPlayerHTML5Api36;};n.prototype.areHLSActive=function(){'use strict';return false;};n.prototype.isRTMP=function(){'use strict';return false;};n.prototype.setSubtitlesStyle=function(o,p,q,r){'use strict';this.$VideoPlayerHTML5Api38=o;this.$VideoPlayerHTML5Api39=p;this.$VideoPlayerHTML5Api40=q;this.$VideoPlayerHTML5Api41=r;};n.prototype.$VideoPlayerHTML5Api76=function(){'use strict';if(this.$VideoPlayerHTML5Api30&&this.$VideoPlayerHTML5Api30.hasSubtitles())this.$VideoPlayerHTML5Api30.enableSubtitles(this.$VideoPlayerHTML5Api36);if(this.$VideoPlayerHTML5Api36){this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.showSubtitles();}else this.$VideoPlayerHTML5Api35&&this.$VideoPlayerHTML5Api35.hideSubtitles();};n.prototype.$VideoPlayerHTML5Api101=function(){'use strict';if(this.$VideoPlayerHTML5Api14)this.$VideoPlayerHTML5Api76();this.emit('loadedSubtitles');this.$VideoPlayerHTML5Api35.setSubtitlesStyle(this.$VideoPlayerHTML5Api38,this.$VideoPlayerHTML5Api39,this.$VideoPlayerHTML5Api40,this.$VideoPlayerHTML5Api41);};n.prototype.$VideoPlayerHTML5Api98=function(){'use strict';var o=this.getVideoID(),p=c('XLiveBroadcastCaptionsURIFetchAsyncController').getURIBuilder().setString('video_id',o).getURI();new (c('AsyncRequest'))().setURI(p).setMethod('POST').setHandler(function(q){this.$VideoPlayerHTML5Api102(q.getPayload());}.bind(this)).send();};n.prototype.$VideoPlayerHTML5Api102=function(o){'use strict';this.$VideoPlayerHTML5Api77(o);};n.prototype.$VideoPlayerHTML5Api77=function(o){'use strict';c('Bootloader').loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerWebVttSubtitleStream"],function(p,q){if(this.$VideoPlayerHTML5Api35)this.$VideoPlayerHTML5Api35.removeSubtitles();var r=this.$VideoPlayerHTML5Api6.subtitleDrawer,s=new q(this.$VideoPlayerHTML5Api29,o);this.$VideoPlayerHTML5Api35=new p(this.$VideoPlayerHTML5Api29,s);this.$VideoPlayerHTML5Api35.setOnSubtitlesReady(function(){return this.$VideoPlayerHTML5Api101();}.bind(this));this.$VideoPlayerHTML5Api35.registerDrawer(r);this.$VideoPlayerHTML5Api35.loadSubtitles();}.bind(this),'VideoPlayerHTML5Api');};n.prototype.$VideoPlayerHTML5Api75=function(){'use strict';var o=new (c('Deferred'))();c('Bootloader').loadModules(["VideoPlayerHTML5Subtitles","VideoPlayerCea608SubtitleSource"],function(p,q){var r=new q(this.$VideoPlayerHTML5Api29);o.resolve(r);if(this.$VideoPlayerHTML5Api35)this.$VideoPlayerHTML5Api35.removeSubtitles();var s=this.$VideoPlayerHTML5Api6.subtitleDrawer;this.$VideoPlayerHTML5Api35=new p(this.$VideoPlayerHTML5Api29,r);this.$VideoPlayerHTML5Api35.setOnSubtitlesReady(function(){return this.$VideoPlayerHTML5Api101();}.bind(this));this.$VideoPlayerHTML5Api35.registerDrawer(s);this.$VideoPlayerHTML5Api35.loadSubtitles();}.bind(this),'VideoPlayerHTML5Api');return o.getPromise();};n.prototype.setStillFrameEnabled=function(o){'use strict';this.$VideoPlayerHTML5Api33=!o;};n.prototype.$VideoPlayerHTML5Api103=function(){'use strict';if(this.$VideoPlayerHTML5Api33)return;var o;if(!this.$VideoPlayerHTML5Api32){var p=c('DOMDimensions').getElementDimensions(this.$VideoPlayerHTML5Api29),q=c('DOM').create('canvas',{width:p.width,height:p.height,className:"_3t5i"});c('DOM').insertAfter(this.$VideoPlayerHTML5Api29,q);this.$VideoPlayerHTML5Api32=o=new (c('VideoFrameBuffer'))(q,this.$VideoPlayerHTML5Api29);}else o=this.$VideoPlayerHTML5Api32;c('CSS').show(o.getDOMNode());o.updateFrameBuffer();c('CSS').hide(this.$VideoPlayerHTML5Api29);};n.prototype.$VideoPlayerHTML5Api64=function(){'use strict';if(!this.$VideoPlayerHTML5Api32)return;c('CSS').hide(this.$VideoPlayerHTML5Api32.getDOMNode());c('CSS').show(this.$VideoPlayerHTML5Api29);};n.prototype.$VideoPlayerHTML5Api69=function(){'use strict';var o=this.$VideoPlayerHTML5Api1;if(!o)return;if(this.$VideoPlayerHTML5Api17)return;this.$VideoPlayerHTML5Api17=true;this.emit('restoringAfterAbort');this.allowNextSeekInMixin();if(this.$VideoPlayerHTML5Api30){this.$VideoPlayerHTML5Api30.reload(o.currentTime);}else{var p=this.$VideoPlayerHTML5Api66();if(p)this.$VideoPlayerHTML5Api29.src=p;this.$VideoPlayerHTML5Api29.preload=o.preload;}c('seekHTMLMediaElementTo')(this.$VideoPlayerHTML5Api29,o.currentTime,function(){this.$VideoPlayerHTML5Api64();if(this.$VideoPlayerHTML5Api1){this.$VideoPlayerHTML5Api29.muted=this.$VideoPlayerHTML5Api1.mutedState;this.$VideoPlayerHTML5Api1=null;this.emit('restoredAfterAbort');}this.$VideoPlayerHTML5Api17=false;c('onCanPlayHTMLMediaElement').once(this.$VideoPlayerHTML5Api29,function(){return this.$VideoPlayerHTML5Api71();}.bind(this));}.bind(this));};n.prototype.abortLoading=function(o){'use strict';o=o||{};if(this.$VideoPlayerHTML5Api1)return;if(!o.disableStillFrame)this.$VideoPlayerHTML5Api103();var p=this.$VideoPlayerHTML5Api29.currentTime,q=this.isMuted(),r=this.$VideoPlayerHTML5Api29.duration,s=this.$VideoPlayerHTML5Api29.paused,t=this.$VideoPlayerHTML5Api29.preload;this.$VideoPlayerHTML5Api28=false;this.$VideoPlayerHTML5Api1={mutedState:q,currentTime:p,playbackDuration:r,preload:t};if(s&&this.$VideoPlayerHTML5Api14)c('dispatchEvent')(this.$VideoPlayerHTML5Api29,'pause');this.emit('abortedLoading');if(this.$VideoPlayerHTML5Api30){this.$VideoPlayerHTML5Api30.unload();return;}this.$VideoPlayerHTML5Api29.preload='none';this.$VideoPlayerHTML5Api29.removeAttribute('src');this.$VideoPlayerHTML5Api29.load();};n.prototype.setPreferredVideoQuality=function(o){'use strict';this.$VideoPlayerHTML5Api27=o;if(!this.$VideoPlayerHTML5Api7)return;if(this.$VideoPlayerHTML5Api30&&c('VideoPlayerShakaExperiments').improveRebufferLogging){this.$VideoPlayerHTML5Api30.setPreferredVideoQuality(o);return;}if(!c('VideoPlayerHTML5Experiments').newStateChangeCalculation){this.$VideoPlayerHTML5Api58(c('VideoPlayerLoggerEvent').PAUSED,this.addWatchTimeData({reason:'toggle_hd'}));this.$VideoPlayerHTML5Api58(c('VideoPlayerLoggerEvent').REQUESTED_PLAYING,{reason:c('VideoPlayerReason').USER});}if(this.$VideoPlayerHTML5Api30&&!c('VideoPlayerShakaExperiments').improveRebufferLogging){this.$VideoPlayerHTML5Api30.setPreferredVideoQuality(o);return;}this.$VideoPlayerHTML5Api15=!this.$VideoPlayerHTML5Api15;var p=this.$VideoPlayerHTML5Api29.currentTime,q=this.$VideoPlayerHTML5Api29.muted,r=this.$VideoPlayerHTML5Api29.volume,s=this.$VideoPlayerHTML5Api66();if(s)this.$VideoPlayerHTML5Api29.src=s;c('onCanPlayHTMLMediaElement').once(this.$VideoPlayerHTML5Api29,function(){this.$VideoPlayerHTML5Api29.currentTime=p;this.$VideoPlayerHTML5Api29.muted=q;this.$VideoPlayerHTML5Api29.volume=r;this.$VideoPlayerHTML5Api71();this.emit('qualityChange');}.bind(this));this.$VideoPlayerHTML5Api26=true;this.$VideoPlayerHTML5Api57(true);this.$VideoPlayerHTML5Api73();};n.prototype.unsetPreferredVideoQuality=function(){'use strict';this.$VideoPlayerHTML5Api27=null;if(this.$VideoPlayerHTML5Api30)this.$VideoPlayerHTML5Api30.unsetPreferredVideoQuality();};n.prototype.getPreferredVideoQuality=function(){'use strict';return this.$VideoPlayerHTML5Api27;};n.prototype.getSelectedVideoQuality=function(){'use strict';if(this.$VideoPlayerHTML5Api30)return this.$VideoPlayerHTML5Api30.getSelectedVideoQuality();return this.$VideoPlayerHTML5Api15?'HD':'SD';};n.prototype.getAvailableVideoQualities=function(){'use strict';if(this.$VideoPlayerHTML5Api6.fallbackSources)return (this.$VideoPlayerHTML5Api6.fallbackSources.HD?['SD','HD']:['SD']);if(!this.$VideoPlayerHTML5Api7)return [];if(this.$VideoPlayerHTML5Api30)return this.$VideoPlayerHTML5Api30.getAvailableVideoQualities();return this.$VideoPlayerHTML5Api7.hasHD()?['SD','HD']:['SD'];};n.prototype.getIsAbrEnabled=function(){'use strict';if(this.$VideoPlayerHTML5Api30)return this.$VideoPlayerHTML5Api30.getIsAbrEnabled();return false;};n.prototype.canAutoSelectVideoQuality=function(){'use strict';if(this.$VideoPlayerHTML5Api30)return this.$VideoPlayerHTML5Api30.canAutoSelectVideoQuality();return false;};n.prototype.setPreloadDisabled=function(o){'use strict';if(this.$VideoPlayerHTML5Api30)this.$VideoPlayerHTML5Api30.setPreloadDisabled(o);};n.prototype.restoreStreamBufferSize=function(){'use strict';if(this.$VideoPlayerHTML5Api30)this.$VideoPlayerHTML5Api30.restoreStreamBufferSize();};n.prototype.setSmartBufferAdjustmentEnabled=function(o){'use strict';if(this.$VideoPlayerHTML5Api30)this.$VideoPlayerHTML5Api30.setSmartBufferAdjustmentEnabled(o);};n.getPlayerVersion=function(){'use strict';return c('VideoPlayerVersions').PLEASANTVILLE;};n.prototype.getVideoNodeSource=function(){'use strict';return this.$VideoPlayerHTML5Api29.src||'';};n.prototype.$VideoPlayerHTML5Api67=function(){'use strict';return this.$VideoPlayerHTML5Api7.getProjection();};n.prototype.$VideoPlayerHTML5Api71=function(){'use strict';if(this.$VideoPlayerHTML5Api26){if(this.$VideoPlayerHTML5Api3)var o=c('EventListener').capture(this.$VideoPlayerHTML5Api29.parentNode,'play',function(q){c('Event').kill(q);o.remove();});var p=null;if(this.$VideoPlayerHTML5Api30){p=this.$VideoPlayerHTML5Api30.play();}else{if(c('VideoPlayerHTML5Experiments').preloadOnPlay)this.$VideoPlayerHTML5Api29.preload='auto';p=this.$VideoPlayerHTML5Api29.play();}if(p&&p['catch'])p['catch'](function(q){this.$VideoPlayerHTML5Api57(false);}.bind(this));}this.$VideoPlayerHTML5Api72();};n.getStreamTypeFromConfig=function(o){'use strict';var p=new (c('VideoData'))(o.videoData[0]);return p.getStreamType();};n.getIsPlayingLiveFromConfig=function(o){'use strict';var p=new (c('VideoData'))(o.videoData[0]);return p.isLiveStream();};n.getIsFacecastAudioFromConfig=function(o){'use strict';var p=new (c('VideoData'))(o.videoData[0]);return p.isFacecastAudio();};n.networkTimeout=5000;f.exports=n;}),null);
__d('SphericalVideoPlayerEvents',[],(function a(b,c,d,e,f,g){f.exports={SET_RELATIVE_SPHERICAL_ORIENTATION:'setRelativeSphericalOrientation',SET_ABSOLUTE_SPHERICAL_ORIENTATION:'setAbsoluteSphericalOrientation',SET_FIELD_OF_VIEW:'setFieldOfView'};}),null);
__d('VideoPlayerLoggerErrorStates',[],(function a(b,c,d,e,f,g){f.exports={PLAYBACK_FAILURE:'playback_failure',PLAYER_FAILURE:'player_failure'};}),null);
__d('VideoPlayerLoggerErrors',[],(function a(b,c,d,e,f,g){f.exports={ENTERED_FALLBACK:'entered_fallback',ERROR_CALLING_FLASH:'error_calling_flash'};}),null);
__d('VideoPlayerLoggerFallbackReasons',[],(function a(b,c,d,e,f,g){f.exports={TIMEOUT:'timeout',FLASH_ERROR:'flash_error',FLASH_UNAVAILABLE:'flash_unavailable'};}),null);
__d('VideoPlayerLoggerPlayerStates',[],(function a(b,c,d,e,f,g){f.exports={STARTED:'started',UNPAUSED:'unpaused'};}),null);
__d('VideoPlayerLogger',['invariant','Banzai','ErrorUtils','VideoPlayerExperiments','VideoPlayerHTML5Experiments','VideoPlayerLoggerEvent','VideoPlayerLoggerErrors','VideoPlayerLoggerErrorStates','VideoPlayerLoggerFallbackReasons','VideoPlayerLoggerSource','VideoPlayerInitializationEvent','VideoPlayerLoggerPlayerStates','ex','performanceAbsoluteNow'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('VideoPlayerHTML5Experiments').useBanzaiVitalForLive,j=c('VideoPlayerHTML5Experiments').discerningAbandonStallLogging,k='video_player',l=5000,m=function o(){return c('VideoPlayerHTML5Experiments').useMonotonicallyIncreasingTimers?c('performanceAbsoluteNow')():Date.now();};function n(o,p){this.$VideoPlayerLogger2=o;this.$VideoPlayerLogger3=null;this.$VideoPlayerLogger6={};this.$VideoPlayerLogger4=p;this.$VideoPlayerLogger8=0;this.$VideoPlayerLogger9=0;this.$VideoPlayerLogger7=[];this.$VideoPlayerLogger16=0;this.$VideoPlayerLogger17=0;this.$VideoPlayerLogger10=0;this.$VideoPlayerLogger21();this.$VideoPlayerLogger22();}n.prototype.updateSource=function(o){this.$VideoPlayerLogger2=o;};n.prototype.getSource=function(){return this.$VideoPlayerLogger2;};n.prototype.logEvent=function(event,o){o=babelHelpers['extends']({},o,this.$VideoPlayerLogger4);o.initial_event=!Object.prototype.hasOwnProperty.call(this.$VideoPlayerLogger6,event);if(!Object.prototype.hasOwnProperty.call(o,'time_ms'))o.time_ms=m();if(!Object.prototype.hasOwnProperty.call(o,'time'))o.time=Math.round(o.time_ms/1000);o.is_stalling=this.$VideoPlayerLogger23();o.error_user_info=this.$VideoPlayerLogger24(o.error_user_info);if(this.$VideoPlayerLogger3)Object.assign(o,this.$VideoPlayerLogger3);switch(event){case c('VideoPlayerInitializationEvent').PLAYER_INITIALIZATION:this.$VideoPlayerLogger5=o.time_ms;break;case c('VideoPlayerInitializationEvent').REQUESTED_PLAYING:case c('VideoPlayerInitializationEvent').STARTED_PLAYING:case c('VideoPlayerInitializationEvent').PLAYER_ALLOCATED:case c('VideoPlayerInitializationEvent').PLAYER_SENT_REQUEST:case c('VideoPlayerInitializationEvent').PLAYER_RECEIVED_FIRST_BYTE:case c('VideoPlayerInitializationEvent').BUFFER_READY:case c('VideoPlayerInitializationEvent').METADATA_READY:if(!o.initial_event)break;o.elapsed_time_since_init=Date.now()-this.$VideoPlayerLogger5;break;}switch(event){case c('VideoPlayerLoggerEvent').REQUESTED_PLAYING:this.$VideoPlayerLogger21();this.$VideoPlayerLogger25();if(this.$VideoPlayerLogger6[c('VideoPlayerLoggerEvent').STARTED_PLAYING]){o.state=c('VideoPlayerLoggerPlayerStates').UNPAUSED;}else o.state=c('VideoPlayerLoggerPlayerStates').STARTED;break;case c('VideoPlayerLoggerEvent').STARTED_PLAYING:case c('VideoPlayerLoggerEvent').UNPAUSED:case c('VideoPlayerLoggerEvent').FINISHED_PLAYING:case c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING:case c('VideoPlayerLoggerEvent').ERROR:case c('VideoPlayerLoggerEvent').PAUSED:case c('VideoPlayerLoggerEvent').REPRESENTATION_ENDED:if(event===c('VideoPlayerLoggerEvent').ERROR&&c('VideoPlayerExperiments').disableStallLoggingForError)break;if(event==c('VideoPlayerLoggerEvent').REPRESENTATION_ENDED&&!this.$VideoPlayerLogger6[c('VideoPlayerLoggerEvent').STARTED_PLAYING])break;if(event===c('VideoPlayerLoggerEvent').STARTED_PLAYING||event===c('VideoPlayerLoggerEvent').UNPAUSED){this.$VideoPlayerLogger10=o.time_ms;this.$VideoPlayerLogger26();}if(event===c('VideoPlayerLoggerEvent').ERROR&&o.state!==c('VideoPlayerLoggerErrorStates').PLAYBACK_FAILURE)break;if(event===c('VideoPlayerLoggerEvent').CANCELLED_REQUESTED_PLAYING)if(this.$VideoPlayerLogger6[c('VideoPlayerLoggerEvent').STARTED_PLAYING]){o.state=c('VideoPlayerLoggerPlayerStates').UNPAUSED;}else o.state=c('VideoPlayerLoggerPlayerStates').STARTED;this.$VideoPlayerLogger27();this.$VideoPlayerLogger28();if(event===c('VideoPlayerLoggerEvent').PAUSED||event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING){if(j&&event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING)this.$VideoPlayerLogger26();o.recent_stalls_count=this.$VideoPlayerLogger29();}this.$VideoPlayerLogger30();this.$VideoPlayerLogger31(o);this.$VideoPlayerLogger32(o);this.$VideoPlayerLogger22();if(j)this.$VideoPlayerLogger26();this.$VideoPlayerLogger21();break;}var p={logData:o,event:event,scriptPath:this.$VideoPlayerLogger1,source:this.$VideoPlayerLogger2};if(!event)c('ErrorUtils').reportError(new Error(c('ex')('VideoPlayerLogger: Missing event name')),false);this.$VideoPlayerLogger6[event]=true;if(this.$VideoPlayerLogger2===c('VideoPlayerLoggerSource').ANIMATED_IMAGE_SHARE)return null;if(o.ad_client_token||i&&o.playback_is_live_streaming){c('Banzai').post(k,p,c('Banzai').VITAL);}else c('Banzai').post(k,p);return p;};n.prototype.setScriptPath=function(o){this.$VideoPlayerLogger1=o;};n.prototype.setFTData=function(o){this.$VideoPlayerLogger3=o;};n.prototype.startBuffering=function(o){this.$VideoPlayerLogger25(o);};n.prototype.endBuffering=function(){this.$VideoPlayerLogger28();this.$VideoPlayerLogger33();this.$VideoPlayerLogger27();this.$VideoPlayerLogger30();};n.prototype.startInterrupt=function(){this.$VideoPlayerLogger34();};n.prototype.endInterrupt=function(){this.$VideoPlayerLogger28();this.$VideoPlayerLogger33();};n.prototype.$VideoPlayerLogger23=function(){return this.$VideoPlayerLogger13>0;};n.prototype.$VideoPlayerLogger25=function(o){if(this.$VideoPlayerLogger23())return;this.$VideoPlayerLogger13=Date.now();if(o!==undefined&&this.$VideoPlayerLogger6[c('VideoPlayerLoggerEvent').STARTED_PLAYING])this.$VideoPlayerLogger14=o;};n.prototype.$VideoPlayerLogger34=function(){if(this.$VideoPlayerLogger35())return;this.$VideoPlayerLogger18=Date.now();};n.prototype.$VideoPlayerLogger35=function(){return this.$VideoPlayerLogger18>0;};n.prototype.$VideoPlayerLogger36=function(){if(!this.$VideoPlayerLogger35())return 0;return Date.now()-this.$VideoPlayerLogger18;};n.prototype.$VideoPlayerLogger37=function(){return this.$VideoPlayerLogger23()?Date.now()-this.$VideoPlayerLogger13:0;};n.prototype.$VideoPlayerLogger28=function(){if(this.$VideoPlayerLogger35()){var o=this.$VideoPlayerLogger36();this.$VideoPlayerLogger19+=o;this.$VideoPlayerLogger17+=o;this.$VideoPlayerLogger20+=1;this.$VideoPlayerLogger16+=1;}};n.prototype.$VideoPlayerLogger33=function(){if(this.$VideoPlayerLogger35())this.$VideoPlayerLogger18=0;};n.prototype.$VideoPlayerLogger22=function(){this.$VideoPlayerLogger19=0;this.$VideoPlayerLogger20=0;this.$VideoPlayerLogger33();};n.prototype.$VideoPlayerLogger27=function(){if(this.$VideoPlayerLogger23()){var o=this.$VideoPlayerLogger37();if(this.$VideoPlayerLogger14!==null)this.$VideoPlayerLogger15=o;this.$VideoPlayerLogger12+=o;this.$VideoPlayerLogger9+=o;this.$VideoPlayerLogger11++;this.$VideoPlayerLogger8++;if(j)this.$VideoPlayerLogger7.push(m());}};n.prototype.$VideoPlayerLogger30=function(){if(this.$VideoPlayerLogger23())this.$VideoPlayerLogger13=0;};n.prototype.$VideoPlayerLogger24=function(o){if(o&&typeof o=='object')return JSON.stringify(o);return o;};n.prototype.getCumulativeStallCount=function(){return this.$VideoPlayerLogger8;};n.prototype.getCumulativeStallTime=function(){return this.$VideoPlayerLogger9+this.$VideoPlayerLogger37();};n.prototype.getCumulativeInterruptCount=function(){return this.$VideoPlayerLogger16;};n.prototype.getCumulativeInterruptTime=function(){return this.$VideoPlayerLogger17+this.$VideoPlayerLogger36();};n.prototype.$VideoPlayerLogger31=function(o){o.stall_time=Math.max(0,this.$VideoPlayerLogger12);o.stall_count=this.$VideoPlayerLogger11;if(this.$VideoPlayerLogger15){o.first_stall_time=this.$VideoPlayerLogger15;o.first_stall_start_position=this.$VideoPlayerLogger14;}};n.prototype.$VideoPlayerLogger32=function(o){o.interrupt_time=Math.max(0,this.$VideoPlayerLogger19);o.interrupt_count=this.$VideoPlayerLogger20;};n.prototype.$VideoPlayerLogger29=function(){var o=m(),p=o-l;this.$VideoPlayerLogger7=this.$VideoPlayerLogger7.filter(function(q){return q>=p;});if(!j)if(this.$VideoPlayerLogger11>0)this.$VideoPlayerLogger7.push(o);return this.$VideoPlayerLogger7.length;};n.prototype.$VideoPlayerLogger21=function(){this.$VideoPlayerLogger12=0;this.$VideoPlayerLogger13=0;this.$VideoPlayerLogger11=0;this.$VideoPlayerLogger14=null;this.$VideoPlayerLogger15=0;};n.prototype.$VideoPlayerLogger26=function(){this.$VideoPlayerLogger7=[];};n.Sources=c('VideoPlayerLoggerSource');n.Errors=c('VideoPlayerLoggerErrors');n.FallbackReasons=c('VideoPlayerLoggerFallbackReasons');n.ErrorStates=c('VideoPlayerLoggerErrorStates');n.PlayerStates=c('VideoPlayerLoggerPlayerStates');f.exports=n;}),null);
__d('VideoPlayerUIComponentDrawer',['EventEmitter'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(k,l){i.constructor.call(this);this.$VideoPlayerUIComponentDrawer1=k;this.$VideoPlayerUIComponentDrawer2=l;this.$VideoPlayerUIComponentDrawer4=false;}j.prototype.reserve=function(){if(this.$VideoPlayerUIComponentDrawer4)return;this.$VideoPlayerUIComponentDrawer4=true;this.emit('reserve');};j.prototype.release=function(){if(!this.$VideoPlayerUIComponentDrawer4)return;this.$VideoPlayerUIComponentDrawer4=false;this.emit('release');};j.prototype.getPriority=function(){return this.$VideoPlayerUIComponentDrawer1;};j.prototype.getHeight=function(){return this.$VideoPlayerUIComponentDrawer2;};j.prototype.setHeight=function(k){this.$VideoPlayerUIComponentDrawer2=k;this.emit('heightChange');};j.prototype.emit=function(event){var k;for(var l=arguments.length,m=Array(l>1?l-1:0),n=1;n<l;n++)m[n-1]=arguments[n];if(event==='reposition')this.$VideoPlayerUIComponentDrawer3=m[0];(k=i.emit).call.apply(k,[this,event].concat(m));};j.prototype.reposition=function(){this.emit('reposition',this.$VideoPlayerUIComponentDrawer3);};j.prototype.isReserved=function(){return this.$VideoPlayerUIComponentDrawer4;};j.priorities={EmbeddedControls:0,ClickForMore:1,Subtitles:2,SphericalMouseAnimation:3};f.exports=j;}),null);
__d('VideoPlayerUIComponentDrawerController',['VideoPlayerUIComponentDrawer'],(function a(b,c,d,e,f,g){'use strict';var h=function j(k,l){return k.getPriority()-l.getPriority();};function i(){this.$VideoPlayerUIComponentDrawerController1=[];}i.prototype.register=function(j,k){var l=new (c('VideoPlayerUIComponentDrawer'))(j,k);l.addListener('reserve',function(){return this.$VideoPlayerUIComponentDrawerController2(j);}.bind(this));l.addListener('release',function(){return this.$VideoPlayerUIComponentDrawerController2(j);}.bind(this));l.addListener('heightChange',function(){return this.$VideoPlayerUIComponentDrawerController2(j);}.bind(this));this.$VideoPlayerUIComponentDrawerController1.push(l);this.$VideoPlayerUIComponentDrawerController1.sort(h);return l;};i.prototype.$VideoPlayerUIComponentDrawerController2=function(j){var k=0;this.$VideoPlayerUIComponentDrawerController1.forEach(function(l){if(l.getPriority()>j)l.emit('reposition',k);if(l.isReserved())k+=l.getHeight();});};f.exports=i;}),null);
__d('VideoPlayerVolumeSettings',['WebStorage'],(function a(b,c,d,e,f,g){function h(){'use strict';this.$VideoPlayerVolumeSettings1=1;this.$VideoPlayerVolumeSettings2=1;}h.prototype.getVolume=function(){'use strict';var j=c('WebStorage').getLocalStorage();if(j){var k=j.getItem('videoPlayerControllerVolume');if(k===null||isNaN(+k))return 1;return +k;}return this.$VideoPlayerVolumeSettings1;};h.prototype.getSessionVolume=function(){'use strict';return this.$VideoPlayerVolumeSettings1;};h.prototype.setSessionVolume=function(j){'use strict';this.$VideoPlayerVolumeSettings1=j;};h.prototype.saveVolume=function(j){'use strict';var k=c('WebStorage').getLocalStorage();if(k)k.setItem('videoPlayerControllerVolume',j);this.$VideoPlayerVolumeSettings1=j;};h.prototype.getLastVolumeBeforeMute=function(){'use strict';var j=c('WebStorage').getLocalStorage();if(j){var k=j.getItem('videoPlayerControllerLastVolumeBeforeMute');if(k===null||isNaN(+k))return 1;return +k;}return this.$VideoPlayerVolumeSettings2;};h.prototype.saveLastVolumeBeforeMute=function(j){'use strict';var k=c('WebStorage').getLocalStorage();if(k)k.setItem('videoPlayerControllerLastVolumeBeforeMute',j);this.$VideoPlayerVolumeSettings2=j;};var i=new h();f.exports=i;}),null);
__d("XVideoDataController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/video_data\/",{video_id:{type:"String",required:true},width:{type:"Int"},height:{type:"Int"},scrubbing_preference:{type:"Int"},source:{type:"String"},preferred_projection:{type:"Enum",enumType:1},supports_html5_video:{type:"Bool",defaultValue:true},is_ad:{type:"Bool",defaultValue:false},force_flash:{type:"Bool",defaultValue:false}});}),null);
__d('VideoPlayerController',['csx','cx','invariant','Promise','Arbiter','Banzai','BigPipe','CSS','DOM','DOMDimensions','DOMQuery','EventEmitter','FullScreen','JSLogger','JSResource','Map','Run','ScriptPath','Set','SphericalVideoPlayerEvents','SubscriptionsHandler','Parent','URI','VideoChannelViewChainLengthManager','VideoMimeTypes','VideoPermalinkURI','VideoPlayerApiEvents','VideoPlayerExperiments','VideoPlayerFormats','VideoPlayerFormatsMap','VideoPlayerHTML5Api','VideoPlayerHTML5Experiments','VideoPlayerInitializationEvent','VideoPlayerLogger','VideoPlayerLoggerErrorStates','VideoPlayerLoggerEvent','VideoPlayerLoggerSource','VideoPlayerMemLeakExperiments','VideoPlayerReason','VideoPlayerResizeSettings','VideoPlayerStates','VideoPlayerUIComponentDrawer','VideoPlayerUIComponentDrawerController','VideoPlayerVolumeSettings','VideosRenderingInstrumentation','Visibility','XVideoDataController','canVideoPlayType','collectDataAttributes','enumerate','forwardEvent','getElementPosition','getFullScreenElement','getViewportDimensions','ifRequired','logVideosClickTracking','mapObject','performanceAbsoluteNow','requireWeak','uniqueID'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=null;c('requireWeak')('VideoChannelLogger',function(t){m=t;});var n=null;c('requireWeak')('VideoHomeLogger',function(t){n=t;});var o=5,p=1;function q(){return c('VideoPlayerHTML5Experiments').useMonotonicallyIncreasingTimers?c('performanceAbsoluteNow')():Date.now();}var r=0;k=babelHelpers.inherits(s,c('EventEmitter'));l=k&&k.prototype;function s(t,u){var v=t.video_id,w=t.video_ids,x=t.video_url,y=t.video_urls,z=t.chaining_token,aa=t.video_channel_id,ba=t.source,ca=t.ad_client_token,da=t.should_autoplay,ea=t.player_version,fa=t.autoplay_setting,ga=t.apiModule,ha=t.apiConfig,ia=t.useInlineFallback,ja=t.accessToken,ka=t.projection,la=t.playerOrigin,ma=t.playerSuborigin,na=t.isBroadcast,oa=t.components,pa=t.trackingCodes,qa=t.alwaysShowCaptions,ra=t.disableLogging,sa=t.subtitleBackgroundColor,ta=t.subtitleBackgroundOpacity,ua=t.subtitleTextColor,va=t.subtitleTextSize,wa=t.video_path,xa=t.customLoggingProps,ya=t.broadcasterOrigin,za=u.root_element,ab=u.container_element,bb=u.video_element;'use strict';l.constructor.call(this);this.$VideoPlayerController105=function(){if(!c('VideoPlayerExperiments').allowBufferingErrorForHiddenTab&&c('Visibility').isHidden()){this.$VideoPlayerController104();this.$VideoPlayerController76=setTimeout(this.$VideoPlayerController105,c('VideoPlayerExperiments').bufferingErrorTimeout);return;}var hb=this.getVideoAPI().isPaused()!==undefined?!this.getVideoAPI().isPaused():this.getState()==='playing';if(hb){this.logError({error:'BUFFERING_TIMEOUT',message:'video has been in buffering state for over '+c('VideoPlayerExperiments').bufferingErrorTimeout+'ms.',isPlayback:this.isPlayRequestPending()});this.$VideoPlayerController104();this.emit('error');}}.bind(this);this.$VideoPlayerController20=new (c('Map'))();this.$VideoPlayerController60={};if(xa)this.setLogEntryPropertyGetters(xa);if(da===undefined)throw new Error('Must pass should_autoplay to '+this.constructor.name+'!');this.$VideoPlayerController19=new (c('VideoPlayerUIComponentDrawerController'))();this.$VideoPlayerController12=new (c('Map'))();this.$VideoPlayerController44=ka;this.$VideoPlayerController1=ja;this.$VideoPlayerController52=!!da;this.$VideoPlayerController8=fa;this.$VideoPlayerController2=ca;this.$VideoPlayerController40=false;this.$VideoPlayerController68=bb;this.$VideoPlayerController51=za;this.$VideoPlayerController13=ab;this.$VideoPlayerController26=false;this.$VideoPlayerController27=false;this.$VideoPlayerController43=ea;this.$VideoPlayerController67=v||w&&w[0]||'';this.$VideoPlayerController70=x||y&&y[0];this.$VideoPlayerController69=wa;this.$VideoPlayerController10=z;this.$VideoPlayerController65=aa;this.$VideoPlayerController41=la;this.$VideoPlayerController42=ma||ba;this.$VideoPlayerController25=na;this.$VideoPlayerController62=pa;this.$VideoPlayerController3=qa;this.$VideoPlayerController55=sa||'';this.$VideoPlayerController56=ta==undefined?0:ta;this.$VideoPlayerController57=ua||'';this.$VideoPlayerController58=va==undefined?0:va;this.$VideoPlayerController24=c('uniqueID')();this.$VideoPlayerController5=ga;this.$VideoPlayerController4=ha;this.$VideoPlayerController31=this.$VideoPlayerController5.getStreamTypeFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController30=this.$VideoPlayerController5.getIsPlayingLiveFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController28=this.$VideoPlayerController5.getIsFacecastAudioFromConfig(this.$VideoPlayerController4);this.$VideoPlayerController63=!!ia;this.$VideoPlayerController74=new (c('Set'))();this.$VideoPlayerController75=ya;this.$VideoPlayerController76=0;this.$VideoPlayerController18=c('Arbiter').subscribe('DOM/destroy',function(hb,ib){if(!c('Parent').bySelector(this.$VideoPlayerController68,ib))return;this.pause(c('VideoPlayerReason').UNLOADED);this.destroy();}.bind(this));var cb=c('VideoPlayerExperiments').maxPageletDisplaySuspensions;if(c('VideoPlayerExperiments').suspendPageletDisplay&&(!cb||cb>r))if(!c('VideoPlayerExperiments').suspendPageletDisplayLiveOnly||this.$VideoPlayerController30){this.$VideoPlayerController73=c('BigPipe').suspendPageletDisplay(c('VideoPlayerExperiments').suspendPageletDisplayTimeout);r++;}this.$VideoPlayerController16=0;var db=c('URI').getRequestURI(),eb=c('VideoPermalinkURI').parse(db),fb=parseFloat(db.getQueryData().t),gb=eb?eb.video_id==this.$VideoPlayerController67:false;if(fb&&gb&&this.$VideoPlayerController4)this.$VideoPlayerController4.startTimestamp=fb;this.$VideoPlayerController14=null;this.$VideoPlayerController38=null;this.$VideoPlayerController53=ba;this.$VideoPlayerController34=new (c('VideoPlayerLogger'))(ba);this.collectFeedTrackingData();this.$VideoPlayerController34.setScriptPath(c('ScriptPath').getScriptPath());this.$VideoPlayerController46=c('VideosRenderingInstrumentation').retrieveRenderTime(this.$VideoPlayerController51);this.$VideoPlayerController45=q()-this.$VideoPlayerController46;if(ha)ha.subtitleDrawer=this.registerDrawer(c('VideoPlayerUIComponentDrawer').priorities.Subtitles,0);this.$VideoPlayerController54='loading';this.logEvent(c('VideoPlayerInitializationEvent').PLAYER_INITIALIZATION,{time_ms:this.$VideoPlayerController46});this.$VideoPlayerController77(false);if(this.$VideoPlayerController5.isImplementationUnavailable(this.$VideoPlayerController63)){if(this.$VideoPlayerController63){this.$VideoPlayerController78();}else{this.$VideoPlayerController79();return;}}else this.$VideoPlayerController80();c('Banzai').subscribe(c('Banzai').SHUTDOWN,function(){this.pause(c('VideoPlayerReason').UNLOADED);this.destroy();}.bind(this));this.$VideoPlayerController7=new (c('SubscriptionsHandler'))();if(this.$VideoPlayerController52)if(c('VideoPlayerExperiments').delayAutoplayUntilAfterLoad){this.$VideoPlayerController7.addSubscriptions(c('Run').onAfterLoad(function(){return this.$VideoPlayerController81();}.bind(this)));}else this.$VideoPlayerController81();this.$VideoPlayerController17=0;this.$VideoPlayerController50=false;this.$VideoPlayerController21=this.$VideoPlayerController82();if(c('VideoPlayerMemLeakExperiments').clear_shutdown_with_arbiter){this.$VideoPlayerController7.addSubscriptions(c('Banzai').subscribe(c('Banzai').SHUTDOWN,function(){this.pause(c('VideoPlayerReason').UNLOADED);this.destroy();}.bind(this)));}else c('Banzai').subscribe(c('Banzai').SHUTDOWN,function(){this.pause(c('VideoPlayerReason').UNLOADED);this.destroy();}.bind(this));this.$VideoPlayerController7.addSubscriptions(c('Arbiter').subscribe('layer_shown',function(hb,ib){if(ib.type==='DialogX'||ib.type==='PhotoSnowlift'){this.$VideoPlayerController17=this.$VideoPlayerController17+1;if(this.$VideoPlayerController17>0)if(this.isState('playing')&&!this.getIsInChannel()){this.pause(c('VideoPlayerReason').PAGE_VISIBILITY);this.$VideoPlayerController50=true;}}}.bind(this)),c('Arbiter').subscribe('layer_hidden',function(hb,ib){if(ib.type==='DialogX'||ib.type==='PhotoSnowlift'){this.$VideoPlayerController17=this.$VideoPlayerController17-1;if(this.$VideoPlayerController17===0)if(this.$VideoPlayerController50&&!this.getIsInChannel()){this.play(c('VideoPlayerReason').PAGE_VISIBILITY);this.$VideoPlayerController50=false;}}}.bind(this)),c('Arbiter').subscribe(c('JSLogger').DUMP_EVENT,function(hb,ib){return this.$VideoPlayerController83(hb,ib);}.bind(this)));if(c('VideoPlayerMemLeakExperiments').clear_runonleave_with_arbiter){this.$VideoPlayerController7.addSubscriptions(c('Run').onLeave(function(){if(c('VideoPlayerExperiments').gk_www_videos_wns_persistent&&this.$VideoPlayerController53===c('VideoPlayerLoggerSource').WATCH_SCROLL)return;this.pause(c('VideoPlayerReason').UNLOADED);this.destroy();}.bind(this)));}else c('Run').onLeave(function(){if(c('VideoPlayerExperiments').gk_www_videos_wns_persistent&&this.$VideoPlayerController53===c('VideoPlayerLoggerSource').WATCH_SCROLL)return;this.pause(c('VideoPlayerReason').UNLOADED);this.destroy();}.bind(this));this.$VideoPlayerController11=oa||[];this.$VideoPlayerController11.forEach(function(hb){return hb.enable(this);}.bind(this));this.$VideoPlayerController37=1;}s.prototype.destroy=function(t){'use strict';t=t||{};if(this.isState('destroyed')||this.$VideoPlayerController27)return;if(this.$VideoPlayerController73){this.$VideoPlayerController73();this.$VideoPlayerController73=null;}this.$VideoPlayerController27=true;var u=this.$VideoPlayerController11;for(var v=u.length-1;v>=0;v--)u[v].disable(this);this.getVideoAPI().destroy(t);this.setState('destroyed');this.$VideoPlayerController7.release();if(!t.skipRemoveAllListeners)this.removeAllListeners();if(this.$VideoPlayerController18){this.$VideoPlayerController18.unsubscribe();this.$VideoPlayerController18=null;}};s.prototype.$VideoPlayerController84=function(){'use strict';var t=c('DOMQuery').scry(this.getVideoNode(),'[data-fallback-markup="1"]');if(!t.length)return c('Promise').reject();c('DOM').replace(this.getVideoNode(),t[0]);this.$VideoPlayerController68=t[0];return c('JSResource')('VideoPlayerFlashApi').__setRef('VideoPlayerController').load();};s.prototype.$VideoPlayerController78=function(){'use strict';this.logEvent(c('VideoPlayerLoggerEvent').SWITCHED_IMPLEMENTATION,{error_user_info:this.getDebugInfo()});this.$VideoPlayerController84().then(function(t){if(t.isImplementationUnavailable()){return c('Promise').reject();}else return c('Promise').resolve(t);}).done(function(t){this.$VideoPlayerController5=t;this.$VideoPlayerController80();}.bind(this),function(t){return this.$VideoPlayerController79();}.bind(this));};s.prototype.collectFeedTrackingData=function(){'use strict';var t=null;if(this.$VideoPlayerController62){var u={tn:'','tn-debug':','},v={};for(var w=0;w<this.$VideoPlayerController62.length;w++){var x=JSON.parse(this.$VideoPlayerController62[w]);if(!Array.isArray(x))for(var y in x)if(u[y]!==undefined){if(v[y]===undefined)v[y]=[];v[y].push(x[y]);}else if(v[y]===undefined)v[y]=x[y];}for(var z in u)if(v[z]!==undefined)v[z]=v[z].join(u[z]);t={ft:v};}else t=c('collectDataAttributes')(this.getRootNode(),['ft']);this.$VideoPlayerController34.setFTData(t);};s.prototype.$VideoPlayerController83=function(t,u){'use strict';u.video_player_debug_info=u.video_player_debug_info||{};u.video_player_debug_info[this.getVideoID()]=this.getDebugInfo();u.video_hardware_info=this.$VideoPlayerController85();};s.prototype.$VideoPlayerController85=function(){'use strict';try{var u=document.createElement('canvas'),v=u.getContext('webgl')||u.getContext('experimental-webgl'),w=v.getExtension('WEBGL_debug_renderer_info');return w&&{vendor:v.getParameter(w.UNMASKED_VENDOR_WEBGL),renderer:v.getParameter(w.UNMASKED_RENDERER_WEBGL)};}catch(t){}return null;};s.prototype.setStillFrameEnabled=function(t){'use strict';var u=this.getVideoAPI();if(u.setStillFrameEnabled)u.setStillFrameEnabled(t);};s.prototype.isFallbackRecoverable=function(){'use strict';return !!this.$VideoPlayerController59;};s.prototype.setFallbackSources=function(t){'use strict';this.$VideoPlayerController59=t;};s.prototype.setRelativeSphericalOrientation=function(t,u){'use strict';this.emit(c('SphericalVideoPlayerEvents').SET_RELATIVE_SPHERICAL_ORIENTATION,t,u);};s.prototype.setSphericalOrientation=function(t,u){'use strict';this.emit(c('SphericalVideoPlayerEvents').SET_ABSOLUTE_SPHERICAL_ORIENTATION,t,u);};s.prototype.setSphericalFieldOfView=function(t){'use strict';this.emit(c('SphericalVideoPlayerEvents').SET_FIELD_OF_VIEW,t);};s.prototype.isSpherical=function(){'use strict';return this.$VideoPlayerController4?!!this.$VideoPlayerController4.isSpherical:false;};s.prototype.getVideoPlayerID=function(){'use strict';return this.$VideoPlayerController24;};s.prototype.setLogEntryPropertyGetters=function(t){'use strict';Object.keys(t).forEach(function(u){var v=t[u];if(typeof v==='function'){this.$VideoPlayerController20.set(u,v);}else this.$VideoPlayerController60[u]=v;}.bind(this));};s.prototype.removeLogEntryPropertyGetters=function(t){'use strict';if(typeof t==='string')t=[t];if(!Array.isArray(t))t=Object.keys(t);t.forEach(function(u){this.$VideoPlayerController20['delete'](u);delete this.$VideoPlayerController60[u];}.bind(this));};s.prototype.$VideoPlayerController80=function(){'use strict';this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return this.onApiReady();}.bind(this));};s.prototype.isImplementationUnavailable=function(){'use strict';return this.$VideoPlayerController5.isImplementationUnavailable(this.$VideoPlayerController63)&&!this.$VideoPlayerController63;};s.prototype.getIsInChannel=function(){'use strict';return this.$VideoPlayerController53===c('VideoPlayerLoggerSource').CHANNEL;};s.prototype.updateSource=function(t){'use strict';if(!this.$VideoPlayerController53)return;var u=c('VideoPlayerFormatsMap')[this.$VideoPlayerController53],v=c('VideoPlayerFormatsMap')[t];this.$VideoPlayerController34.updateSource(t);if(u&&u!==v&&this.$VideoPlayerController71)this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_FORMAT_CHANGED);this.$VideoPlayerController53=t;};s.prototype.getSource=function(){'use strict';return this.$VideoPlayerController34.getSource();};s.prototype.getPlayerOrigin=function(){'use strict';return this.$VideoPlayerController41;};s.prototype.getPlayerSuborigin=function(){'use strict';return this.$VideoPlayerController42;};s.prototype.hasLooped=function(){'use strict';return this.$VideoPlayerController37>1;};s.prototype.$VideoPlayerController79=function(){'use strict';var t={error:'IMPLEMENTATION_NOT_SUPPORTED',state:c('VideoPlayerLoggerErrorStates').PLAYER_FAILURE,error_description:'Implementation unavailable',error_user_info:this.getDebugInfo()};this.logEvent(c('VideoPlayerLoggerEvent').ERROR,t);this.$VideoPlayerController52=false;};s.prototype.logError=function(t){'use strict';var u=this.$VideoPlayerController32=t,v=u.error,w=u.message,x=u.isPlayback,y=u.httpStatus,z=u.url,aa=this.getDebugInfo();delete aa.player.loggedError;delete aa.player.lastError;var ba={error:v,error_description:w,error_user_info:aa,error_code:y,resource_url:z,state:x?c('VideoPlayerLoggerErrorStates').PLAYBACK_FAILURE:c('VideoPlayerLoggerErrorStates').PLAYER_FAILURE};this.$VideoPlayerController33=this.logEvent(c('VideoPlayerLoggerEvent').ERROR,ba);if(x&&this.$VideoPlayerController40)this.$VideoPlayerController77(false);};s.prototype.setRotation=function(t){'use strict';this.getVideoAPI().setRotation(t);};s.prototype.setDimensions=function(t,u){'use strict';this.$VideoPlayerController13.style.width=t+'px';this.$VideoPlayerController13.style.height=u+'px';this.$VideoPlayerController68.style.width=t+'px';this.$VideoPlayerController68.style.height=u+'px';if(this.isState('loading')){this.$VideoPlayerController47={width:t,height:u};}else if(this.getVideoAPI().setDimensions){if(this.isPlayerVersion('silvercity')&&(this.$VideoPlayerController29||c('VideoPlayerResizeSettings').disable_flash_set_dimensions))return;this.getVideoAPI().setDimensions(t,u);}};s.prototype.isPlayRequestPending=function(){'use strict';return this.$VideoPlayerController40;};s.prototype.$VideoPlayerController77=function(t){'use strict';if(this.$VideoPlayerController40===t)return;this.$VideoPlayerController40=t;this.emit('pendingPlayRequestChanged');};s.prototype.updateAutoplayRestrained=function(){'use strict';c('ifRequired')('VideoPlayerHTML5Shaka',function(t){var u=t.isAutoplayBandwidthRestrained(this.$VideoPlayerController30);this.$VideoPlayerController86(u);}.bind(this));};s.prototype.$VideoPlayerController86=function(t){'use strict';if(t){this.emit('turnOffAutoplay',{reason:'poor_network_quality'});}else this.emit('resumeAutoplay',{reason:'poor_network_quality'});this.getVideoAPI().setPreloadDisabled(t);};s.prototype.restoreStreamBufferSize=function(){'use strict';this.getVideoAPI().restoreStreamBufferSize();};s.prototype.getDataInsertionPosition=function(){'use strict';return this.$VideoPlayerController21&&this.$VideoPlayerController21.getAttribute('data-insertion-position');};s.prototype.play=function(t){'use strict';this.$VideoPlayerController87();if(!this.$VideoPlayerController39)this.$VideoPlayerController39=t;if(!this.$VideoPlayerController40){this.$VideoPlayerController38=this.$VideoPlayerController88();var u=this.$VideoPlayerController89({debug_reason:t});this.logEvent(c('VideoPlayerLoggerEvent').REQUESTED_PLAYING,u);this.$VideoPlayerController71=true;}this.emit('playRequested',t);this.sendPlayRequest(t);if(t===c('VideoPlayerReason').LOOP)this.$VideoPlayerController37++;};s.prototype.sendPlayRequest=function(t){'use strict';if(this.isState('fallback')){this.emit('fallbackPlay');if(c('VideoPlayerExperiments').endBufferingOnFallbackPlay)this.$VideoPlayerController34.endBuffering();return;}this.$VideoPlayerController77(true);if(this.isState('loading')){this.$VideoPlayerController48={reason:t};}else{if(!this.getVideoAPI().isMuted()&&this.$VideoPlayerController36)this.logEvent(c('VideoPlayerLoggerEvent').UNMUTED);this.$VideoPlayerController36=false;this.getVideoAPI().play(t);}};s.prototype.getOriginalPlayReason=function(){'use strict';return this.$VideoPlayerController39;};s.prototype.reset=function(){'use strict';if(this.isState('loading')||this.isState('fallback')&&!this.isFallbackRecoverable())return;this.resetPositions();this.$VideoPlayerController90();if(this.$VideoPlayerController64&&this.$VideoPlayerController64.destroy)this.$VideoPlayerController64.destroy();this.$VideoPlayerController64=null;this.setState('loading');this.$VideoPlayerController80();};s.prototype.detachRootNode=function(){'use strict';c('DOM').remove(this.$VideoPlayerController51);if(this.isState('fallback')||this.isState('loading'))return;this.setState('loading');this.$VideoPlayerController5.onImplementationReady(this.getVideoNode(),function(){return this.$VideoPlayerController91();}.bind(this));};s.prototype.getVideoAPI=function(){'use strict';this.$VideoPlayerController64||j(0);return this.$VideoPlayerController64;};s.prototype.getVideoNode=function(){'use strict';return this.$VideoPlayerController68;};s.prototype.getRootNode=function(){'use strict';return this.$VideoPlayerController51;};s.prototype.$VideoPlayerController91=function(){'use strict';this.setState('ready');this.logEvent(c('VideoPlayerInitializationEvent').PLAYER_ALLOCATED);this.$VideoPlayerController36=!this.getVideoAPI().isMuted();this.$VideoPlayerController61=!this.$VideoPlayerController3;if(this.getVideoAPI().setSubtitlesStyle)this.getVideoAPI().setSubtitlesStyle(this.$VideoPlayerController55,this.$VideoPlayerController56,this.$VideoPlayerController57,this.$VideoPlayerController58);if(this.$VideoPlayerController48){this.sendPlayRequest(this.$VideoPlayerController48.reason);this.$VideoPlayerController48=null;}if(this.$VideoPlayerController47){this.setDimensions(this.$VideoPlayerController47.width,this.$VideoPlayerController47.height);this.$VideoPlayerController47=null;}if(this.$VideoPlayerController49){this.getVideoAPI().unmute();this.$VideoPlayerController49=null;}};s.prototype.onApiReady=function(){'use strict';if(this.$VideoPlayerController4){this.$VideoPlayerController4.id=this.$VideoPlayerController24;if(this.$VideoPlayerController59)this.$VideoPlayerController4.fallbackSources=this.$VideoPlayerController59;this.$VideoPlayerController4.playerOrigin=this.$VideoPlayerController41;this.$VideoPlayerController4.playerSuborigin=this.$VideoPlayerController42;}this.$VideoPlayerController64=new this.$VideoPlayerController5(this.getVideoNode(),this.$VideoPlayerController4);this.logEvent(c('VideoPlayerInitializationEvent').PLAYER_ALLOCATED);this.$VideoPlayerController92();this.$VideoPlayerController91();var t={is_auto_played:this.isAutoplayable()};this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_LOADED,t);this.emit('apiReady');};s.prototype.runOnApiReady=function(){var t=arguments.length<=0||arguments[0]===undefined?function(){}:arguments[0];'use strict';if(!this.isState('loading')){t();}else this.once('apiReady',t);};s.prototype.resetPositions=function(){'use strict';this.$VideoPlayerController16=0;};s.prototype.getCurrentTimePosition=function(){'use strict';if(this.isState('playing')){var t=this.getVideoAPI().getCurrentTimePosition();if(t!=null&&t!==undefined)this.$VideoPlayerController16=t;}return this.$VideoPlayerController16;};s.prototype.$VideoPlayerController87=function(){'use strict';if(!this.$VideoPlayerController9){c('VideoChannelViewChainLengthManager').registerChainingInfos(this.getVideoID(),this.$VideoPlayerController10);var t=this.getVideoID();if(this.$VideoPlayerController10){var u=this.$VideoPlayerController10.decode();t=u.root_id;}this.$VideoPlayerController9=c('VideoChannelViewChainLengthManager').getLoggingData(t);}this.$VideoPlayerController66=m?m.getPlayerLoggingData():{};};s.prototype.$VideoPlayerController93=function(t){'use strict';this.$VideoPlayerController77(false);var u=t.position;if(u!==undefined)this.$VideoPlayerController16=u;this.setState('playing');if(this.areHLSActive()){this.$VideoPlayerController94();}else if(this.isRTMP_DEPRECATED())this.$VideoPlayerController95();};s.prototype.$VideoPlayerController96=function(t){'use strict';var u=t.position;if(u!==undefined)this.$VideoPlayerController16=u;this.$VideoPlayerController14=this.getVideoAPI().getCurrentlyPlayingStreamInfoID();};s.prototype.$VideoPlayerController97=function(event){'use strict';return this.$VideoPlayerController74.has(event);};s.prototype.runOnceOnApiEventLogged=function(event,t){var u,v=this;'use strict';if(this.$VideoPlayerController97(event)){t();}else (function(){var w=v.addListener('apiEventLogged',function(x){if(x===event){t();w.remove();}});})();};s.prototype.$VideoPlayerController98=function(t){'use strict';var event=t.event;this.$VideoPlayerController74.add(event);delete t.event;this.logEvent(event,t);this.emit('apiEventLogged',event);};s.prototype.$VideoPlayerController99=function(){'use strict';if(!this.isState('finished'))this.setState('paused');};s.prototype.$VideoPlayerController100=function(t){'use strict';var u=t.position;if(u!==undefined)this.$VideoPlayerController16=u;};s.prototype.$VideoPlayerController101=function(){'use strict';this.setState('finished');this.$VideoPlayerController50=false;};s.prototype.getVolume=function(){'use strict';return this.getVideoAPI().getVolume();};s.prototype.$VideoPlayerController102=function(){'use strict';var t=this.isFullscreen();c('CSS').conditionClass(this.$VideoPlayerController13,"_1hwh",t);c('CSS').conditionClass(this.$VideoPlayerController13,"_52fb",t);if(!t&&this.$VideoPlayerController22){this.$VideoPlayerController22.unsubscribe();this.$VideoPlayerController22=null;}if(this.$VideoPlayerController29!=t){if(c('VideoPlayerHTML5Experiments').deprecateEnteredExitedFsEvents){this.logEvent(c('VideoPlayerLoggerEvent').PLAYER_FORMAT_CHANGED,t?{player_format:c('VideoPlayerFormats').FULL_SCREEN}:{player_format:!this.$VideoPlayerController53?c('VideoPlayerFormats').INLINE:c('VideoPlayerFormatsMap')[this.$VideoPlayerController53]});}else this.logEvent(t?c('VideoPlayerLoggerEvent').ENTERED_FS:c('VideoPlayerLoggerEvent').EXITED_FS);var u=c('DOMDimensions').getElementDimensions(this.$VideoPlayerController13);if(!this.isPlayerVersion('silvercity'))this.getVideoAPI().setDimensions(u.width,u.height);this.emit('toggleFullscreen');c('Arbiter').inform('video_fullscreen_change',{});}this.$VideoPlayerController29=t;};s.prototype.isFullscreen=function(){'use strict';return c('FullScreen').isFullScreen()&&this.$VideoPlayerController13===c('getFullScreenElement')();};s.prototype.toggleFullscreen=function(){'use strict';if(c('FullScreen').toggleFullScreen(this.$VideoPlayerController13)){c('CSS').addClass(this.$VideoPlayerController13,"_1hwh");this.$VideoPlayerController22=c('FullScreen').subscribe('changed',this.$VideoPlayerController102.bind(this));}};s.prototype.instreamVideoStart=function(){'use strict';c('CSS').addClass(this.$VideoPlayerController13,"_24pm");};s.prototype.instreamVideoEnd=function(){'use strict';c('CSS').removeClass(this.$VideoPlayerController13,"_24pm");};s.prototype.unmute=function(){'use strict';if(!this.isState('loading')){this.getVideoAPI().unmute();c('VideoPlayerVolumeSettings').saveVolume(c('VideoPlayerVolumeSettings').getLastVolumeBeforeMute());if(this.$VideoPlayerController61&&this.getVideoAPI().areSubtitlesActive())this.getVideoAPI().toggleSubtitles();}else this.$VideoPlayerController49=true;};s.prototype.isMuted=function(){'use strict';return this.getVideoAPI().isMuted();};s.prototype.mute=function(){'use strict';if(this.$VideoPlayerController61&&!this.getVideoAPI().areSubtitlesActive())this.getVideoAPI().toggleSubtitles();this.getVideoAPI().mute();c('VideoPlayerVolumeSettings').saveVolume(0);};s.prototype.getPlaybackDuration=function(){'use strict';return this.getVideoAPI().getPlaybackDuration();};s.prototype.getVideoID=function(){'use strict';return this.$VideoPlayerController67;};s.prototype.getVideoChannelID=function(){'use strict';return this.$VideoPlayerController65;};s.prototype.getVideoURL=function(){'use strict';return this.$VideoPlayerController70;};s.prototype.$VideoPlayerController92=function(){'use strict';var t=this.getVideoAPI(),u=new (c('SubscriptionsHandler'))();this.$VideoPlayerController6=u;var v={buffered:function(){return this.setBuffering(false);}.bind(this),buffering:function(){return this.setBuffering(true);}.bind(this),streamInterrupted:function(){return this.$VideoPlayerController34.startInterrupt();}.bind(this),streamResumed:function(){return this.$VideoPlayerController34.endInterrupt();}.bind(this),beginPlayback:function(w){return this.$VideoPlayerController93(w);}.bind(this),updateStatus:function(w){return this.$VideoPlayerController96(w);}.bind(this),updateBuffer:function(w){return this.$VideoPlayerController103(w);}.bind(this),logEvent:function(w){return this.$VideoPlayerController98(w.logData);}.bind(this),pausePlayback:function(){return this.$VideoPlayerController99();}.bind(this),seekEnd:function(w){return this.$VideoPlayerController100(w);}.bind(this),clickForTracking:function(){return c('logVideosClickTracking')(this.getVideoNode());}.bind(this),error:function(w){return this.logError(w);}.bind(this),finishPlayback:function(){return this.$VideoPlayerController101();}.bind(this)};u.addSubscriptions.apply(u,Object.keys(v).map(function(w){return t.addListener(w,v[w]);}));u.addSubscriptions.apply(u,c('VideoPlayerApiEvents').map(function(w){return c('forwardEvent')(t,this,w);}.bind(this)));};s.prototype.$VideoPlayerController103=function(t){'use strict';var u=c('VideoPlayerExperiments').suspendPageletDisplayBufferThreshold;if(t.duration>=u&&this.$VideoPlayerController73){this.$VideoPlayerController73();this.$VideoPlayerController73=null;}};s.prototype.$VideoPlayerController90=function(){'use strict';if(this.$VideoPlayerController6)this.$VideoPlayerController6.release();};s.prototype.seek=function(t){'use strict';this.emit('seekRequested',t);this.getVideoAPI().seek(t);};s.prototype.pause=function(t){'use strict';if(this.isState('loading')){this.$VideoPlayerController48=null;}else if(this.isState('playing')){this.getVideoAPI().pause(t);}else if(this.$VideoPlayerController40)this.getVideoAPI().pause(t);this.$VideoPlayerController77(false);this.$VideoPlayerController50=false;this.emit('pauseRequested',t);};s.prototype.isPlayerVersion=function(t){'use strict';return this.getPlayerVersion()===t;};s.prototype.isAutoplayable=function(){'use strict';return this.$VideoPlayerController52;};s.prototype.$VideoPlayerController81=function(){'use strict';if(c('Visibility').isHidden()){c('Visibility').once(c('Visibility').VISIBLE,function(){this.play(c('VideoPlayerReason').AUTOPLAY);}.bind(this));}else this.play(c('VideoPlayerReason').AUTOPLAY);};s.prototype.isBuffering=function(){'use strict';return this.$VideoPlayerController26;};s.prototype.setBuffering=function(t){'use strict';if(t!==this.$VideoPlayerController26){this.$VideoPlayerController26=t;if(this.$VideoPlayerController26){this.$VideoPlayerController34.startBuffering(this.getCurrentTimePosition());if(c('VideoPlayerExperiments').bufferingErrorTimeout){this.$VideoPlayerController104();this.$VideoPlayerController76=setTimeout(this.$VideoPlayerController105,c('VideoPlayerExperiments').bufferingErrorTimeout);}}else{this.$VideoPlayerController34.endBuffering();this.$VideoPlayerController104();}this.emit('bufferingChanged');}};s.prototype.setSmartBufferAdjustmentEnabled=function(t){'use strict';var u=this.getVideoAPI();if('setSmartBufferAdjustmentEnabled' in c('VideoPlayerHTML5Api'))u.setSmartBufferAdjustmentEnabled(t);};s.prototype.$VideoPlayerController104=function(){'use strict';if(this.$VideoPlayerController76){clearTimeout(this.$VideoPlayerController76);this.$VideoPlayerController76=0;}};s.prototype.isLiveVideo=function(){'use strict';return this.$VideoPlayerController30;};s.prototype.isFacecastAudio=function(){'use strict';return this.$VideoPlayerController28;};s.prototype.isStreamInterrupted=function(){'use strict';var t=this.$VideoPlayerController64;return !!(t&&t.isStreamInterrupted&&t.isStreamInterrupted());};s.prototype.setVolume=function(t){'use strict';c('VideoPlayerVolumeSettings').saveVolume(t);this.getVideoAPI().setVolume(t);};s.prototype.getDOMPosition=function(){'use strict';return c('getElementPosition')(this.getRootNode());};s.prototype.clickVideo=function(){'use strict';this.emit('clickVideo');this.$VideoPlayerController23=true;};s.prototype.hasSeenClick=function(){'use strict';return !!this.$VideoPlayerController23;};s.prototype.isAd=function(){'use strict';return !!this.$VideoPlayerController2;};s.prototype.getAdClientToken=function(){'use strict';return this.$VideoPlayerController2;};s.prototype.$VideoPlayerController106=function(){'use strict';var t=null,u=null,v=false,w=null;if(!this.isState('loading')&&!this.isState('fallback')){if(this.$VideoPlayerController14===null)this.$VideoPlayerController14=this.getVideoAPI().getCurrentlyPlayingStreamInfoID();t=this.getVideoAPI().getEstimatedBandwidth();u=this.getVideoAPI().getAvailableVideoQualities().length;v=this.getVideoAPI().getIsAbrEnabled();w=this.getPlaybackDuration();}var x=babelHelpers['extends']({},this.$VideoPlayerController60);this.$VideoPlayerController20.forEach(function(y,z){x[z]=y(z,this);}.bind(this));return babelHelpers['extends']({ad_client_token:this.$VideoPlayerController2,available_qualities:u,access_token:this.$VideoPlayerController1,autoplay_eligible:this.isAutoplayable(),autoplay_setting:this.$VideoPlayerController8,broadcaster_origin:this.$VideoPlayerController75,projection:this.$VideoPlayerController44,player_version:this.getPlayerVersion(),flash_version:c('ifRequired')('Flash',function(y){return y.getVersionString();}),video_id:this.getVideoID(),player_state:this.$VideoPlayerController54,player_origin:this.$VideoPlayerController41,player_suborigin:this.$VideoPlayerController42,playback_is_broadcast:this.$VideoPlayerController25,playback_duration:w,streaming_format:this.getStreamingFormat(),video_time_position:this.getCurrentTimePosition(),playback_is_live_streaming:this.$VideoPlayerController30,video_channel_id:this.$VideoPlayerController65,fbcdn_pop:this.$VideoPlayerController38,representation_id:this.$VideoPlayerController14,video_bandwidth:t,is_abr_enabled:v,feed_position:this.getDataInsertionPosition()},n?n.getPlayerLoggingData():{},this.$VideoPlayerController66,this.$VideoPlayerController9,x);};s.prototype.$VideoPlayerController88=function(){'use strict';var t=this.getVideoInfo_DEPRECATED();if(!t)return null;var u=t.resourceUrl,v=/scontent-([a-z]+)\./.exec(u);if(!v)return null;return v[1];};s.prototype.getVideoInfo_DEPRECATED=function(){'use strict';if(this.isState('loading')||this.isState('fallback'))return null;return this.getVideoAPI().getVideoInfo();};s.prototype.getDebugInfo=function(){'use strict';var t=this.getVideoInfo_DEPRECATED(),u={initializationTime:this.$VideoPlayerController45,initializationTimestamp:this.$VideoPlayerController46,version:this.getPlayerVersion(),stallCount:this.$VideoPlayerController34.getCumulativeStallCount(),stallTime:this.$VideoPlayerController34.getCumulativeStallTime(),interruptCount:this.$VideoPlayerController34.getCumulativeInterruptCount(),interruptTime:this.$VideoPlayerController34.getCumulativeInterruptTime(),state:this.$VideoPlayerController54,canPlayType:c('mapObject')(c('VideoMimeTypes'),c('canVideoPlayType')),loggedError:this.$VideoPlayerController33,lastError:this.$VideoPlayerController32,droppedFrames:!!this.$VideoPlayerController64&&this.$VideoPlayerController64.getDroppedFrames(),totalFrames:!!this.$VideoPlayerController64&&this.$VideoPlayerController64.getTotalFrames(),videoSource:!!this.$VideoPlayerController64&&this.$VideoPlayerController64.getVideoNodeSource()},v={videoID:this.getVideoID()};if(!t)return {player:u,currentVideo:v};return {currentVideo:babelHelpers['extends']({},v,{streamType:t.streamType,isLiveStream:t.isLiveStream,liveManifestUrl:t.liveManifestUrl,isHD:t.isHD,hasHD:t.hasHD,resourceUrl:t.resourceUrl,hasSubtitles:t.hasSubtitles,hasRateLimit:!!t.hasUnlimitedSrc,isRateLimited:t.hasUnlimitedSrc&&!t.useUnlimitedSrc,tagHD:t.tagHD,tagSD:t.tagSD,projection:t.projection,streamId:this.$VideoPlayerController14}),player:u};};s.prototype.getLastError=function(){'use strict';return this.$VideoPlayerController32;};s.prototype.hasSubtitles=function(){'use strict';return this.getVideoAPI().hasSubtitles();};s.prototype.areSubtitlesActive=function(){'use strict';return this.getVideoAPI().areSubtitlesActive();};s.prototype.areHLSActive=function(){'use strict';return this.getVideoAPI().areHLSActive();};s.prototype.isRTMP_DEPRECATED=function(){'use strict';return this.getVideoAPI().isRTMP();};s.prototype.toggleSubtitles=function(){'use strict';this.getVideoAPI().toggleSubtitles();if(this.areSubtitlesActive()){this.logEvent(c('VideoPlayerLoggerEvent').TOGGLE_SUBTITLE_ON);}else this.logEvent(c('VideoPlayerLoggerEvent').TOGGLE_SUBTITLE_OFF);this.$VideoPlayerController61=false;};s.prototype.isHD=function(){'use strict';return (this.getSelectedVideoQuality()==this.getAvailableVideoQualities().pop());};s.prototype.hasHD=function(){'use strict';return this.getAvailableVideoQualities().length>1;};s.prototype.toggleHD=function(){'use strict';if(this.isHD()){this.setPreferredVideoQuality(this.getAvailableVideoQualities()[0]);}else this.setPreferredVideoQuality(this.getAvailableVideoQualities().pop());};s.prototype.setPreferredVideoQuality=function(t){'use strict';this.getVideoAPI().setPreferredVideoQuality(t);};s.prototype.unsetPreferredVideoQuality=function(){'use strict';this.getVideoAPI().unsetPreferredVideoQuality();};s.prototype.getPreferredVideoQuality=function(){'use strict';return this.getVideoAPI().getPreferredVideoQuality();};s.prototype.getSelectedVideoQuality=function(){'use strict';return this.getVideoAPI().getSelectedVideoQuality();};s.prototype.getAvailableVideoQualities=function(){'use strict';return this.getVideoAPI().getAvailableVideoQualities();};s.prototype.canAutoSelectVideoQuality=function(){'use strict';return this.getVideoAPI().canAutoSelectVideoQuality();};s.prototype.switchToStreamType=function(t){'use strict';this.getVideoAPI().switchToStreamType(t);};s.prototype.$VideoPlayerController95=function(){'use strict';this.getVideoAPI().replaceVideoDataFromURL(c('XVideoDataController').getURIBuilder().setString('video_id',this.getVideoID()).setInt('scrubbing_preference',o).setString('source',this.$VideoPlayerController53).getURI().toString());};s.prototype.$VideoPlayerController94=function(){'use strict';this.getVideoAPI().replaceVideoDataFromURL(c('XVideoDataController').getURIBuilder().setString('video_id',this.getVideoID()).setInt('scrubbing_preference',p).setString('source',this.$VideoPlayerController53).getURI().toString());};s.prototype.$VideoPlayerController89=function(t){'use strict';var u=this.getVideoInfo_DEPRECATED();if(u!=null)return Object.assign({resource_url:u.resourceUrl,liveStream:u.isLiveStream,hd:u.isHD},t);return t;};s.prototype.$VideoPlayerController107=function(){'use strict';var t=this.getDOMPosition(),u=c('getViewportDimensions')().height,v=null;if(t.y<=0){v=t.y;}else if(t.y+t.height<u){v=0;}else v=t.y+t.height-u;return v;};s.prototype.logEvent=function(event,t){'use strict';if(this.$VideoPlayerController72)return undefined;var u=Object.assign(this.$VideoPlayerController106(),t),v=this.getOriginalPlayReason();if(v&&event!==c('VideoPlayerLoggerEvent').DISPLAYED)u.video_play_reason=v;if(event===c('VideoPlayerLoggerEvent').FINISHED_PLAYING)u.viewport_distance=this.$VideoPlayerController107();var w=this.$VideoPlayerController34.logEvent(event,u);this.emit('debug/vpcLogEvent',w);return w;};s.prototype.getState=function(){'use strict';return this.$VideoPlayerController54;};s.prototype.getStreamingFormat=function(){'use strict';var t=this.getVideoInfo_DEPRECATED()||{};return t.streamType||this.$VideoPlayerController31;};s.prototype.setState=function(t){'use strict';if(this.isState(c('VideoPlayerStates').DESTROYED)||this.isState(c('VideoPlayerStates').FALLBACK)&&!this.isFallbackRecoverable())return;this.$VideoPlayerController54=t;if(this.$VideoPlayerController54==='fallback'){c('CSS').addClass(this.getRootNode(),"_3-n5");this.$VideoPlayerController90();}this.emit('stateChange');};s.prototype.isState=function(t){'use strict';return this.$VideoPlayerController54===t;};s.prototype.isIntentionallyViewing=function(){'use strict';return this.isState('playing')&&!this.isMuted();};s.prototype.abortLoading=function(t){'use strict';if(this.isState('loading')||this.isState('fallback'))return;if(this.$VideoPlayerController73){this.$VideoPlayerController73();this.$VideoPlayerController73=null;}this.getVideoAPI().abortLoading(t||{});};s.prototype.preload=function(){'use strict';if(this.isState('loading')||this.isState('fallback'))return;this.getVideoAPI().preload();};s.prototype.getPlayerVersion=function(){'use strict';if(this.$VideoPlayerController5.getPlayerVersion){return this.$VideoPlayerController5.getPlayerVersion();}else return this.$VideoPlayerController43;};s.prototype.registerOption=function(t,u,v,w){'use strict';var x=this.$VideoPlayerController12.get(t);if(!x){x=new (c('Map'))();this.$VideoPlayerController12.set(t,x);}if(x.has(u))throw new Error('An option can only be registered once for each component');x.set(u,{getter:v,setter:w});this.emit('optionsChange');};s.prototype.unregisterOption=function(t,u){'use strict';var v=this.$VideoPlayerController12.get(t);if(!v)throw new Error('The component "'+t+'" has no options registered');if(!v.has(u))throw new Error('The component "'+t+'" has no option "'+u+'" registered');v['delete'](u);if(!v.size)this.$VideoPlayerController12['delete'](t);this.emit('optionsChange');};s.prototype.getComponents=function(){'use strict';return this.$VideoPlayerController12.keys();};s.prototype.getOptions=function(t){'use strict';var u=this.$VideoPlayerController12.get(t);if(u)return u.keys();return c('enumerate')([]);};s.prototype.hasOption=function(t,u){'use strict';var v=this.$VideoPlayerController12.get(t);if(!v)return false;if(!v.has(u))return false;return true;};s.prototype.getOption=function(t,u){'use strict';var v=this.$VideoPlayerController12.get(t);if(!v)return undefined;var w=v.get(u);if(!w)return undefined;return w.getter();};s.prototype.setOption=function(t,u,v){'use strict';var w=this.$VideoPlayerController12.get(t);if(!w)throw new Error('Component not registered');var x=w.get(u);if(!x)throw new Error('Option not registered');var y=x.setter;if(y)return y(v);throw new Error('Read-only option');};s.prototype.$VideoPlayerController82=function(){'use strict';var t=c('DOMQuery').scry(this.$VideoPlayerController51,"^._5pat");return t.length?t[0]:null;};s.prototype.registerDrawer=function(t,u){'use strict';return this.$VideoPlayerController19.register(t,u);};s.prototype.getVideoPath=function(){'use strict';return this.$VideoPlayerController69;};f.exports=s;}),null);
__d('EmbeddedVideoFullscreenControl.react',['ix','cx','fbt','AbstractVideoFullscreenControl.react','Image.react','React','ReactDOM','VideoWebDriverIDs','VideoPlayerExperiments','fbglyph','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;n.prototype.shouldComponentUpdate=function(o,p){return c('shallowCompare')(this,o,p);};n.prototype.onMouseOut=function(o){c('ReactDOM').findDOMNode(this.refs.button).blur();};n.prototype.render=function(){var o=void 0;if(!c('VideoPlayerExperiments').fourArrowFullScreen){o=this.props.isFullscreen?h("115501"):h("115510");}else o=this.props.isFullscreen?h("115504"):h("115507");var p=c('React').createElement(c('Image.react'),{className:"_5i0o",src:o}),q=this.props.isFullscreen?j._("Exit full screen"):j._("Enter full screen");return (c('React').createElement(c('AbstractVideoFullscreenControl.react'),babelHelpers['extends']({},this.props,{className:"_3u33",'data-testid':c('VideoWebDriverIDs').FULLSCREEN_CONTROL,disabled:this.props.disabled,image:p,onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button',label:q,labelIsHidden:true})));};function n(){k.apply(this,arguments);}n.propTypes={isFullscreen:m.bool,onToggleFullscreen:m.func,tabIndex:m.string};f.exports=n;}),null);
__d('EmbeddedVideoPlaybackControl.react',['ix','cx','fbt','AbstractButton.react','Image.react','React','ReactDOM','VideoWebDriverIDs','fbglyph','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(o){'use strict';l.constructor.call(this,o);this.state={awaitingUpdate:false,isPlayingOverwrite:false};}n.prototype.shouldComponentUpdate=function(o,p){'use strict';return c('shallowCompare')(this,o,p);};n.prototype.isPlaying=function(){'use strict';if(this.state.awaitingUpdate)return this.state.isPlayingOverwrite;return this.props.isPlaying;};n.prototype.onButtonClick=function(){'use strict';var o=this.isPlaying();this.setState({awaitingUpdate:true,isPlayingOverwrite:!o});if(o){this.props.onPause&&this.props.onPause();}else this.props.onPlay&&this.props.onPlay();};n.prototype.componentWillReceiveProps=function(){'use strict';this.setState({awaitingUpdate:false});};n.prototype.onMouseOut=function(o){'use strict';c('ReactDOM').findDOMNode(this.refs.button).blur();};n.prototype.render=function(){'use strict';var o=null;if(this.props.finishedPlaying){o=h("115482");}else o=this.isPlaying()?h("115336"):h("115398");var p=c('React').createElement(c('Image.react'),{className:"_5i0o",src:o}),q=this.isPlaying()?j._("Pause"):j._("Play");return c('React').createElement(c('AbstractButton.react'),{className:"_3u33",'data-testid':c('VideoWebDriverIDs').PLAY_PAUSE_CONTROL,image:p,label:q,labelIsHidden:true,onClick:this.onButtonClick.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button'});};n.propTypes={finishedPlaying:m.bool,isPlaying:m.bool,onPlay:m.func,onPause:m.func,tabIndex:m.string};f.exports=n;}),null);
__d('EmbeddedVideoPlaybackTimer.react',['cx','React','joinClasses','shallowCompare'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){'use strict';j.constructor.call(this,m);this.state={displayRemainingTime:!this.props.displayElapsedTime,displayPreferenceSet:false};}l.prototype.shouldComponentUpdate=function(m,n){'use strict';return c('shallowCompare')(this,m,n);};l.prototype.componentWillReceiveProps=function(m){'use strict';if(!this.state.displayPreferenceSet)this.setState({displayRemainingTime:!m.displayElapsedTime});};l.prototype.getClock=function(m){'use strict';var n='';if(isNaN(m)){m=0;}else if(m<0){m*=-1;n='-';}var o=Math.floor(m/3600),p=m-o*3600,q=Math.floor(p/60),r=void 0;if(this.props.displayMilliseconds){r=Math.floor(p-q*60);}else{r=Math.ceil(p-q*60);if(r===60){r=0;q++;}}var s=Math.round(p*1000),t=('0'+q).slice(-2),u=('0'+r).slice(-2),v=('00'+s).slice(-3),w=n;if(o===0){w+=q+':'+u;}else w+=o+':'+t+':'+u;if(this.props.displayMilliseconds)w+='.'+v;return w;};l.prototype.onButtonClick=function(){'use strict';this.setState({displayRemainingTime:!this.state.displayRemainingTime,displayPreferenceSet:true});};l.prototype.render=function(){'use strict';var m=this.state.displayPreferenceSet?this.state.displayRemainingTime:!this.props.displayElapsedTime,n=m?this.props.remainingTimestamp:this.props.playbackPosTimestamp,o="_4irg";if(this.props.isInScrubberPreview)o="_5lde";return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,o),onClick:this.onButtonClick.bind(this)}),this.getClock(n)));};l.propTypes={isInScrubberPreview:k.bool,playbackPosTimestamp:k.number,remainingTimestamp:k.number,displayElapsedTime:k.bool,displayMilliseconds:k.bool};l.defaultProps={isInScrubberPreview:false,playbackPosTimestamp:0,remainingTimestamp:0,displayElapsedTime:false,displayMilliseconds:false};f.exports=l;}),null);
__d('EmbeddedVideoScrubberPointOfInterestBar.react',['cx','EmbeddedVideoPlaybackTimer.react','React'],(function a(b,c,d,e,f,g,h){var i,j,k,l,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').PureComponent);j=i&&i.prototype;function n(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.state={visibility:'hidden'},q;}n.prototype.render=function(){'use strict';var p=this.props.timestamp,q=p*100/this.props.playbackDuration+'%',r=c('React').createElement(c('EmbeddedVideoPlaybackTimer.react'),{className:"_2f0g",isInScrubberPreview:true,playbackPosTimestamp:0,remainingTimestamp:p,style:{left:q,visibility:this.state.visibility}});return (c('React').createElement('div',null,c('React').createElement('div',{className:"_2f0h"+(this.props.isActive?' '+"_3t5h":''),onClick:function(s){return this.props.onPointOfInterestSelect(p);}.bind(this),onMouseEnter:function(s){return this.setState({visibility:'visible'});}.bind(this),onMouseLeave:function(s){return this.setState({visibility:'hidden'});}.bind(this),role:'button',style:{left:q},tabIndex:'0'}),r));};n.propTypes={playbackDuration:m.number.isRequired,timestamp:m.number.isRequired,isActive:m.bool.isRequired,onPointOfInterestSelect:m.func.isRequired};k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$EmbeddedVideoScrubberPointOfInterestBar1=function(u){return (c('React').createElement(n,{key:'poi'+u,playbackDuration:this.props.playbackDuration,timestamp:u,isActive:u===this.props.currentPointOfInterest,onPointOfInterestSelect:this.props.onPointOfInterestSelect}));}.bind(this),q;}o.prototype.shouldComponentUpdate=function(p,q){'use strict';return p.tabIndex!=this.props.tabIndex||p.currentPointOfInterest!==this.props.currentPointOfInterest||p.playbackDuration!=this.props.playbackDuration||p.pointsOfInterest.length!=this.props.pointsOfInterest.length||p.pointsOfInterest.some(function(r,s){return this.props.pointsOfInterest[s]!=r;}.bind(this));};o.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:"_2f0i",tabIndex:this.props.tabIndex},c('React').createElement('div',{className:"_2f0j"},this.props.pointsOfInterest.map(this.$EmbeddedVideoScrubberPointOfInterestBar1,this))));};o.propTypes={tabIndex:m.string.isRequired,playbackDuration:m.number.isRequired,onPointOfInterestSelect:m.func.isRequired,currentPointOfInterest:m.number,pointsOfInterest:m.array.isRequired};f.exports=o;}),null);
__d('VideoScrubberPreviewSpriteCalculation',[],(function a(b,c,d,e,f,g){var h={getImageCoordinatesInSpriteByTime:function i(j,k){var l=this.getTotalTimeInSprite(k.maxImagesPerSprite,k.timeIntervalBetweenImages),m=Math.floor(j%l/k.timeIntervalBetweenImages),n=Math.floor(m/k.imagesPerRow),o=m%k.imagesPerRow;return {x:o*k.previewScrubberWidth,y:n*k.previewScrubberHeight};},getSpriteIndex:function i(j,k,l){var m=this.getTotalTimeInSprite(k,l);return Math.floor(j/m)+1;},getTotalTimeInSprite:function i(j,k){return j*k;}};f.exports=h;}),null);
__d('EmbeddedVideoScrubber.react',['cx','fbt','EmbeddedVideoScrubberPointOfInterestBar.react','EventListener','Keys','Map','EmbeddedVideoPlaybackTimer.react','React','ReactDOM','VideoScrubberPreviewSpriteCalculation','VideoStereoFormat','JSResource','BootloadedComponent.react','VideoInstreamUtils','VideoPlayerUIComponentDrawer','emptyFunction','getElementPosition','joinClasses','shallowCompare'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){'use strict';k.constructor.call(this,n);this.$EmbeddedVideoScrubber4=new (c('Map'))();this.$EmbeddedVideoScrubber4.set(0,'');this.$EmbeddedVideoScrubber7=0;this.state={awaitingUpdate:false,barCoords:{x:0,y:0,height:0,width:0},mouseOver:false,nubEngaged:false,previewRatio:0,scrubRatio:0,timecodeRatio:0,timecodeTimestamp:0,scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0},previewThumbnailInformation:{timeIntervalBetweenImages:0,maxImagesPerSprite:0,imagesPerRow:0,imagesPerColumn:0,previewScrubberWidth:0,previewScrubberHeight:0,stereoMode:null,scrubberVideoURI:null,useScrubberVideo:false},lastSpriteDimension:{numRow:0,numColumn:0}};}m.prototype.shouldComponentUpdate=function(n,o){'use strict';return c('shallowCompare')(this,n,o);};m.prototype.onDragNubBegin=function(n){'use strict';if(n.button!==0)return;this.setState({nubEngaged:true,scrubRatio:this.getPositionRatio(n.clientX,this.state.barCoords)});this.props.onScrubBegin&&this.props.onScrubBegin();n.stopPropagation();n.preventDefault();};m.prototype.componentWillReceiveProps=function(n){'use strict';this.setState({awaitingUpdate:false});if(this.props.alwaysShowThumbnail){var o=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.bar));this.setState({barCoords:o});this.$EmbeddedVideoScrubber6=null;this.$EmbeddedVideoScrubber5=null;this.timecodeUpdate(o.x+o.width*this.getPlayedRatio(n.playbackDuration,n.playbackPosition));}};m.prototype.componentDidUpdate=function(n,o){'use strict';if(!o.nubEngaged&&this.state.nubEngaged){this.$EmbeddedVideoScrubber1=c('EventListener').listen(document,'mousemove',function(p){this.onDragNubUpdate(p);this.onTimecodeUpdate(p);}.bind(this));this.$EmbeddedVideoScrubber2=c('EventListener').listen(document,'mouseup',this.onDragNubRelease.bind(this));}else if(o.nubEngaged&&!this.state.nubEngaged){if(this.$EmbeddedVideoScrubber1)this.$EmbeddedVideoScrubber1.remove();if(this.$EmbeddedVideoScrubber2)this.$EmbeddedVideoScrubber2.remove();}if(!o.mouseOver&&this.state.mouseOver){this.$EmbeddedVideoScrubber3=c('EventListener').listen(document,'mousemove',this.onTimecodeUpdate.bind(this));}else if(o.mouseOver&&!this.state.mouseOver)if(this.$EmbeddedVideoScrubber3)this.$EmbeddedVideoScrubber3.remove();};m.prototype.timecodeUpdate=function(n){'use strict';var o=this.props.playbackDuration;if(!o)return;var p=this.getPositionRatio(n,this.state.barCoords)*o,q=this.$EmbeddedVideoScrubber5?this.$EmbeddedVideoScrubber5:c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.timecode));this.$EmbeddedVideoScrubber5=q;if(!this.props.hasScrubberPreview){var r=this.getPositionRatio(n,this.state.barCoords)-Math.ceil(q.width/2)/this.state.barCoords.width;this.setState({timecodeTimestamp:p,timecodeRatio:r});}else if(this.props.previewThumbnailInformation){if(this.state.previewThumbnailInformation.previewScrubberWidth===0)this.retrievePreviewThumbnailInfo();c('ReactDOM').unstable_batchedUpdates(function(){if(this.state.previewThumbnailInformation.useScrubberVideo&&this.state.previewThumbnailInformation.scrubberVideoURI!==null){this.updatePreviewThumbnailVideo(p,q,n);}else if(this.props.scrubberPreviewSprites)this.updatePreviewThumbnail(this.props.scrubberPreviewSprites,p,q,n);}.bind(this));}};m.prototype.onTimecodeUpdate=function(n){'use strict';this.timecodeUpdate(n.clientX);n.preventDefault();n.stopPropagation();};m.prototype.updatePreviewThumbnail=function(n,o,p,q){'use strict';this.setState({timecodeTimestamp:o});var r=Math.floor(o),s=this.$EmbeddedVideoScrubber4;if(!this.isSpriteMapURIFetched())this.$EmbeddedVideoScrubber4=n;if(this.state.previewThumbnailInformation){var t=this.state.previewThumbnailInformation;this.updatePreviewThumbnailImage(r,t,s);}this.updatePreviewThumbnailLocation(p,q);};m.prototype.updatePreviewThumbnailVideo=function(n,o,p){'use strict';this.setState({timecodeTimestamp:n});var q=c('ReactDOM').findDOMNode(this.refs.previewThumbnailVideo);q.currentTime=n/30;this.updatePreviewThumbnailLocation(o,p);};m.prototype.updatePreviewThumbnailLocation=function(n,o){'use strict';var p=this.$EmbeddedVideoScrubber6?this.$EmbeddedVideoScrubber6:this.$EmbeddedVideoScrubber6=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.previewThumbnailContainer));this.$EmbeddedVideoScrubber6=p;var q=this.getPositionRatio(o,this.state.barCoords)-Math.ceil(p.width/2)/this.state.barCoords.width,r=(p.width-n.width)/(2*p.width);this.setState({timecodeRatio:r,previewRatio:q});};m.prototype.updatePreviewThumbnailImage=function(n,o,p){var q,r=this;'use strict';var s=c('VideoScrubberPreviewSpriteCalculation').getImageCoordinatesInSpriteByTime(n,o),t=c('VideoScrubberPreviewSpriteCalculation').getSpriteIndex(n,o.maxImagesPerSprite,o.timeIntervalBetweenImages);if(t==this.getNumberOfSprites()&&this.state.lastSpriteDimension.numRow==0&&this.$EmbeddedVideoScrubber4)(function(){var u=r.$EmbeddedVideoScrubber4.get(t),v=new Image(),w=r.onLastImageLoad.bind(r);v.onload=function(){w(this.width,this.height);};v.src=u;})();this.setState({scrubberPreviewSpriteIndex:t,scrubberPreviewBackgroundPosition:s});};m.prototype.onLastImageLoad=function(n,o){'use strict';this.setState({lastSpriteDimension:{numRow:o/this.state.previewThumbnailInformation.previewScrubberHeight,numColumn:n/this.state.previewThumbnailInformation.previewScrubberWidth}});};m.prototype.retrievePreviewThumbnailInfo=function(){'use strict';this.setState({previewThumbnailInformation:this.props.previewThumbnailInformation});};m.prototype.isSpriteMapURIFetched=function(){'use strict';if(this.$EmbeddedVideoScrubber4){return this.$EmbeddedVideoScrubber4.size>1;}else return false;};m.prototype.getPositionRatio=function(n,o){'use strict';var p=n-o.x,q=p/o.width;return Math.min(Math.max(0,q),1);};m.prototype.onDragNubUpdate=function(n){'use strict';this.setState({scrubRatio:this.getPositionRatio(n.clientX,this.state.barCoords)});};m.prototype.onDragNubRelease=function(n){'use strict';var o=this.props.playbackDuration;if(!o)return;var p=this.state.awaitingUpdate;if(this.props.onScrubEnd){this.props.onScrubEnd(this.state.scrubRatio*o);p=true;}this.setState({nubEngaged:false,awaitingUpdate:p});n.preventDefault();n.stopPropagation();};m.prototype.getPlayedRatio=function(n,o){'use strict';if(this.state.nubEngaged||this.state.awaitingUpdate)return this.state.scrubRatio;if(!n||!o)return 0;var p=o/n;return this.getRangeLimitedRatio(p);};m.prototype.getBufferedRatio=function(){'use strict';var n=this.props.playbackDuration,o=this.props.bufferedPosition;if(!n||!o)return 0;var p=o/n;return this.getRangeLimitedRatio(p);};m.prototype.getRangeLimitedRatio=function(n){'use strict';if(isNaN(n)||n<0||n>1)return 0;return n;};m.prototype.getNumberOfSprites=function(){'use strict';if(this.$EmbeddedVideoScrubber4)return this.$EmbeddedVideoScrubber4.size;return 0;};m.prototype.getAdBreakIndicators=function(){'use strict';if(!this.props.playbackDuration||!this.props.adBreaksTimeOffset)return null;var n=[];for(var o=0;o<this.props.adBreaksTimeOffset.length;o++){var p=this.props.adBreaksTimeOffset[o],q=this.props.playbackDuration;if(p<0||p>q)continue;var r={left:p/q*100+'%'};n.push(c('React').createElement('div',{key:'ad_break_indicator_'+o,style:r,className:"_5z5n"}));}return c('React').createElement('div',null,n);};m.prototype.getInsertedAdBreaks=function(){'use strict';if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;var n=[];this.props.insertedAdBreaks.map(function(o,p){var q=o.timeOffset,r=this.props.playbackDuration,s={left:q/r*100-1.4+'%'};n.push(c('React').createElement('div',{key:'inserted_ad_break'+p,style:s,className:"_2d49"+(this.props.isAdBreakDisabled?' '+"_9ob":'')},p+1));}.bind(this));return c('React').createElement('div',null,n);};m.prototype.getEligibleAdBreaksTimeSegments=function(){'use strict';if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;var n=0;if(this.state.awaitingUpdate){n=this.$EmbeddedVideoScrubber7;}else n=this.props.playbackPosition;var o=this.props.playbackDuration,p=c('VideoInstreamUtils').getEligibleTimeSegments(this.props.insertedAdBreaks,o);if(this.state.nubEngaged){this.$EmbeddedVideoScrubber7=this.state.timecodeTimestamp;}else this.$EmbeddedVideoScrubber7=n;var q=[];p.forEach(function(r,s){var t=Math.max(2,(r.end-r.start)/o*100),u=this.$EmbeddedVideoScrubber7>=r.start&&this.$EmbeddedVideoScrubber7<=r.end;if(u){var v={left:'calc('+r.start/o*100+'% - 12px)',width:'calc('+t+'% + 16px)'};q.push(c('React').createElement('span',{key:'time_segment'+s,className:"_2xts",style:v}));}else{var w={left:'calc('+r.start/o*100+'% - 10px)',width:'calc('+t+'% + 16px)'};q.push(c('React').createElement('span',{key:'time_segment'+s,className:"_2xtr",style:w}));}}.bind(this));return (c('React').createElement('div',{className:"_44bi"},q));};m.prototype.onMouseEnter=function(n){'use strict';if(this.props.alwaysShowThumbnail)return;var o=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.bar));this.setState({mouseOver:true,barCoords:o});};m.prototype.onMouseLeave=function(n){'use strict';if(this.props.alwaysShowThumbnail)return;c('ReactDOM').findDOMNode(this.refs.bar).blur();c('ReactDOM').unstable_batchedUpdates(function(){this.setState({mouseOver:false});if(!this.state.nubEngaged)this.setState({scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0}});}.bind(this));this.$EmbeddedVideoScrubber6=null;this.$EmbeddedVideoScrubber5=null;};m.prototype.onMouseEnterOnThumbnailOrTimecode=function(n){'use strict';if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;var o=void 0;if(this.props.hasScrubberPreview){o=this.refs.previewThumbnailContainer;}else o=this.refs.timecode;var p=c('ReactDOM').findDOMNode(o);p.style.visibility='hidden';};m.prototype.onMouseLeaveOnThumbnailOrTimecode=function(n){'use strict';if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;var o=void 0;if(this.props.hasScrubberPreview){o=this.refs.previewThumbnailContainer;}else o=this.refs.timecode;var p=c('ReactDOM').findDOMNode(o);p.style.visibility='visible';};m.prototype.onKeyDown=function(n){'use strict';var o=this.props.playbackDuration,p=this.props.playbackPosition;if(!o||!p)return;var q=p;if(n.keyCode===c('Keys').RIGHT){n.preventDefault();n.stopPropagation();q+=5;if(q>=o)q=o-.01;}else if(n.keyCode===c('Keys').LEFT){n.preventDefault();n.stopPropagation();q-=5;if(q<0)q=0;}else if(n.keyCode===c('Keys').HOME){n.preventDefault();n.stopPropagation();q=0;}else if(n.keyCode===c('Keys').END){n.preventDefault();n.stopPropagation();q=o-.01;}else return;if(this.props.onScrubEnd)this.props.onScrubEnd(q);};m.prototype.canShowHeatmap=function(){'use strict';return this.props.interestLevels!=null&&this.props.isPlaying!=null&&this.props.controlsHidden!=null&&this.props.drawer!=null;};m.prototype.render=function(){'use strict';var n=c('joinClasses')(this.props.className,"_gn0"+(this.state.nubEngaged?' '+"_gn1":'')),o=(this.props.hasScrubberPreview?"_24wr":'')+(!this.props.hasScrubberPreview?' '+"_4irh":''),p={width:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100+'%'},q={width:this.getBufferedRatio()*100+'%'},r={left:this.state.timecodeRatio*100+'%'},s={},t={},u=null,v=null,w=null;if(this.state.mouseOver||this.state.nubEngaged||this.props.alwaysShowThumbnail){w=c('React').createElement(c('EmbeddedVideoPlaybackTimer.react'),{className:o,isInScrubberPreview:true,onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),playbackPosTimestamp:0,ref:'timecode',remainingTimestamp:this.state.timecodeTimestamp,style:r});if(this.props.hasScrubberPreview&&this.state.previewThumbnailInformation){var x=this.state.previewThumbnailInformation.previewScrubberWidth,y=this.state.previewThumbnailInformation.previewScrubberHeight,z=100,aa=100;if(this.getNumberOfSprites()!==this.state.scrubberPreviewSpriteIndex){z*=this.state.previewThumbnailInformation.imagesPerRow;aa*=this.state.previewThumbnailInformation.imagesPerColumn;}else if(this.state.lastSpriteDimension.numRow){z*=this.state.lastSpriteDimension.numRow;aa*=this.state.lastSpriteDimension.numColumn;}var ba=this.state.previewThumbnailInformation.stereoMode;if(ba===c('VideoStereoFormat').LEFT_RIGHT){x/=2;z*=2;}else if(ba===c('VideoStereoFormat').TOP_BOTTOM){y/=2;aa*=2;}var ca=1;if(this.props.isFullscreen)ca=2;if(this.state.previewThumbnailInformation.useScrubberVideo&&this.state.previewThumbnailInformation.scrubberVideoURI!==null){s={width:x*ca+'px',height:y*ca+'px'};v=c('React').createElement('video',{muted:'true',preload:'auto',ref:'previewThumbnailVideo',src:this.state.previewThumbnailInformation.scrubberVideoURI,style:s});}else if(this.$EmbeddedVideoScrubber4){var da='';if(this.state.scrubberPreviewSpriteIndex){var ea=this.$EmbeddedVideoScrubber4.get(this.state.scrubberPreviewSpriteIndex);if(ea)da='url('+ea+')';}var fa=void 0;if(z>100){fa=z+'% '+aa+'%';}else da='';s={width:x*ca+'px',height:y*ca+'px',backgroundImage:da,backgroundPosition:'-'+this.state.scrubberPreviewBackgroundPosition.x*ca+'px '+'-'+this.state.scrubberPreviewBackgroundPosition.y*ca+'px',backgroundSize:fa};v=c('React').createElement('div',{className:"_24wt",ref:'previewThumbnail',style:s});}t={left:this.state.previewRatio*100+'%',display:this.props.alwaysShowThumbnail?'block':undefined};u=c('React').createElement('div',{onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),className:"_24ws",ref:'previewThumbnailContainer',style:t},v,w);}}var ga=null;if(this.props.pointsOfInterest.length>0)ga=c('React').createElement(c('EmbeddedVideoScrubberPointOfInterestBar.react'),{tabIndex:this.props.tabIndex,playbackDuration:this.props.playbackDuration,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest});var ha=this.getAdBreakIndicators(),ia=null;if(this.canShowHeatmap()){var ja=this.props.hasScrubberPreview?u:w,ka=null;if(ja!=null)ka=this.refs[ja.ref];ia=c('React').createElement('div',{className:"_27ew"},c('React').createElement('div',{className:"_5h19",style:p},c('React').createElement('div',{className:"_gn5 _5ixx",ref:'nub'})),c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('LiveHeatmap.react').__setRef('EmbeddedVideoScrubber.react'),bootloadPlaceholder:c('React').createElement('div',null),controlsHidden:this.props.controlsHidden,drawer:this.props.drawer,interestLevels:this.props.interestLevels,isPlaying:this.props.isPlaying,playedRatio:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition),bufferedRatio:this.getBufferedRatio(),nubEngaged:this.state.nubEngaged,scrubberPreviewElement:ka,ref:'bar',tabIndex:this.props.tabIndex,'aria-label':i._("Change Position")}),ja,ha);}var la=this.props.playbackDuration>500?10:1,ma=Math.round(this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100*la)/la,na=ma+'%',oa=c('React').createElement('div',{onMouseDown:this.onDragNubBegin.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onKeyDown:this.onKeyDown.bind(this),className:n},ia?ia:c('React').createElement('div',{tabIndex:this.props.tabIndex,role:'slider','aria-orientation':'horizontal','aria-valuemin':'0','aria-valuemax':this.props.playbackDuration,'aria-valuenow':this.props.playbackPosition,'aria-valuetext':na,'aria-label':i._("Change position"),className:"_gn2",ref:'bar'},c('React').createElement('div',{className:"_gn3",style:q}),c('React').createElement('div',{style:p,className:"_gn4"},c('React').createElement('div',{className:"_gn5 _5ixx",ref:'nub'})),this.props.hasScrubberPreview?u:w,ha,this.getInsertedAdBreaks(),this.getEligibleAdBreaksTimeSegments()));return (c('React').createElement('div',null,oa,ga));};m.propTypes={alwaysShowThumbnail:l.bool,bufferedPosition:l.number.isRequired,hasScrubberPreview:l.bool,isFullscreen:l.bool,onScrubBegin:l.func.isRequired,onPointOfInterestSelect:l.func,onScrubEnd:l.func.isRequired,playbackDuration:l.number.isRequired,playbackPosition:l.number.isRequired,pointsOfInterest:l.array,previewThumbnailInformation:l.object,scrubberPreviewSprites:l.object,tabIndex:l.string.isRequired};m.defaultProps={alwaysShowThumbnail:false,hasScrubberPreview:false,pointsOfInterest:[],onPointOfInterestSelect:c('emptyFunction'),onScrubBegin:c('emptyFunction'),onScrubEnd:c('emptyFunction')};f.exports=m;}),null);
__d('EmbeddedVideoSidepaneToggleControl.react',['ix','cx','fbt','AbstractButton.react','Image.react','React','TooltipData','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').PureComponent);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.onButtonClick=function(){this.props.onSidePaneToggle();}.bind(this),p;}n.prototype.render=function(){var o=this.props.isSidePaneOpen?j._("Click to hide details"):j._("Click to show details"),p=this.props.isSidePaneOpen?h("114795"):h("114783");return (c('React').createElement(c('AbstractButton.react'),babelHelpers['extends']({className:"_3u33"},c('TooltipData').propsFor(o,'above'),{image:c('React').createElement(c('Image.react'),{className:"_345n",src:p}),onClick:this.onButtonClick,ref:'button',tabIndex:this.props.tabIndex,type:'button'})));};n.propTypes={isSidePaneOpen:m.bool,onSidePaneToggle:m.func,tabIndex:m.string};f.exports=n;}),null);
__d('EmbeddedVideoVolumeSlider.react',['cx','EventListener','React','ReactDOM','getElementPosition','shallowCompare'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){'use strict';j.constructor.call(this,m);this.state={awaitingUpdate:false,engaged:false,volume:m.volume};}l.prototype.shouldComponentUpdate=function(m,n){'use strict';return c('shallowCompare')(this,m,n);};l.prototype.componentWillReceiveProps=function(m){'use strict';this.setState({awaitingUpdate:false});};l.prototype.componentDidUpdate=function(m,n){'use strict';if(!this.state.engaged&&n.engaged){if(this.$EmbeddedVideoVolumeSlider2)this.$EmbeddedVideoVolumeSlider2.remove();if(this.$EmbeddedVideoVolumeSlider1)this.$EmbeddedVideoVolumeSlider1.remove();}else if(this.state.engaged&&!n.engaged){this.$EmbeddedVideoVolumeSlider1=c('EventListener').listen(document,'mousemove',this.onMouseMove.bind(this));this.$EmbeddedVideoVolumeSlider2=c('EventListener').listen(document,'mouseup',this.onMouseUp.bind(this));}};l.prototype.onMouseDown=function(m){'use strict';if(m.button!==0)return;this.props.onVolumeChangeBegin&&this.props.onVolumeChangeBegin(this.state.volume);if(this.props.isHorizontal){this.setState({engaged:true,volume:this.getClampedClickPositionVolume(m.clientX)});}else this.setState({engaged:true,volume:this.getClampedClickPositionVolume(m.clientY)});m.preventDefault();m.stopPropagation();};l.prototype.getClampedClickPositionVolume=function(m){'use strict';var n=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.slider)),o=c('getElementPosition')(c('ReactDOM').findDOMNode(this.refs.nub)).height;if(this.props.isHorizontal){var p=m+o/2-n.x;return Math.max(0,Math.min(1,p/n.width));}else{var q=n.y-m+n.height+o/2;return Math.max(0,Math.min(1,q/n.height));}};l.prototype.onMouseUp=function(m){'use strict';this.props.onVolumeChangeEnd&&this.props.onVolumeChangeEnd(this.state.volume);this.setState({engaged:false,awaitingUpdate:true});m.preventDefault();m.stopPropagation();};l.prototype.onMouseMove=function(m){'use strict';if(this.props.isHorizontal){this.setState({volume:this.getClampedClickPositionVolume(m.clientX)});}else this.setState({volume:this.getClampedClickPositionVolume(m.clientY)});this.props.onVolumeChange&&this.props.onVolumeChange(this.state.volume);m.preventDefault();m.stopPropagation();};l.prototype.getVolume=function(){'use strict';if(this.state.engaged||this.state.awaitingUpdate)return this.state.volume;return this.props.volume;};l.prototype.render=function(){'use strict';var m=this.props.isHorizontal||false,n=m?{width:Math.round(this.getVolume()*100)+'%'}:{height:Math.round(this.getVolume()*100)+'%'},o="_2-ml"+(m?' '+"_3cxz":'')+(this.state.engaged?' '+"_gn1":'');return c('React').createElement('div',{className:o,onMouseDown:this.onMouseDown.bind(this)},c('React').createElement('div',{className:"_3ghu"},c('React').createElement('div',{className:"_2-mm",ref:'slider'},c('React').createElement('div',{className:"_2-mn",style:n},c('React').createElement('div',{className:"_2-mo _5ixx",ref:'nub'})))),c('React').createElement('div',{className:"_2-mp"}));};l.propTypes={volume:k.number,onVolumeChangeBegin:k.func,onVolumeChangeEnd:k.func,onVolumeChange:k.func};l.defaultProps={volume:0,onVolumeChange:function m(n){},onVolumeChangeBegin:function m(n){},onVolumeChangeEnd:function m(n){}};f.exports=l;}),null);
__d('SpatialAudioFeedNUX.react',['ix','fbt','cx','AsyncRequest','Image.react','React','XBasicFBNuxDismissController','XUIAmbientNUX.react','XUIText.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=i._("Experience more with 360 audio"),n=i._("Hear sound from all directions when you wear headphones"),o=4576;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(q){l.constructor.call(this,q);this.$SpatialAudioFeedNUX1=function(){this.setState({showNux:false});var r=c('XBasicFBNuxDismissController').getURIBuilder().setInt('nux_id',o).getURI();new (c('AsyncRequest'))().setURI(r).send();}.bind(this);this.state={showNux:true};}p.prototype.render=function(){return c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:this.props.contextRef,shown:this.state.showNux,position:'below',alignment:'right',onCloseButtonClick:this.$SpatialAudioFeedNUX1,width:'auto'},c('React').createElement('div',{className:"_4r0v"},c('React').createElement('div',{className:"_4r0w"},c('React').createElement('div',{className:"_4r0x"},c('React').createElement(c('Image.react'),{src:h("114375")}))),c('React').createElement('div',{className:"_4r0y"},c('React').createElement(c('XUIText.react'),{size:'medium',className:"_4r0z"},m),c('React').createElement(c('XUIText.react'),{size:'small',className:"_4r0-"},n))));};f.exports=p;}),null);
__d('EmbeddedVideoVolumeControl.react',['ix','cx','fbt','invariant','AbstractButton.react','Image.react','Keys','React','ReactDOM','SpatialAudioFeedNUX.react','VideoPlayerExperiments','VideoPlayerVolumeSettings','VideoWebDriverIDs','EmbeddedVideoVolumeSlider.react','fbglyph','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j,k){var l,m,n=c('React').PropTypes;l=babelHelpers.inherits(o,c('React').Component);m=l&&l.prototype;function o(p){'use strict';m.constructor.call(this,p);this.state={nubEngaged:false,focused:false,lastVolumeBeforeMute:1};}o.prototype.shouldComponentUpdate=function(p,q){'use strict';return c('shallowCompare')(this,p,q);};o.prototype.onButtonClick=function(){'use strict';this.checkLastVolumeBeforeMuteInvariant();if(this.props.volume===0)return this.onSliderVolumeChange(this.state.lastVolumeBeforeMute);this.props.onToggleMuted&&this.props.onToggleMuted();};o.prototype.onButtonFocus=function(){'use strict';this.setState({focused:true});};o.prototype.onButtonBlur=function(){'use strict';this.setState({focused:false});};o.prototype.onKeyDown=function(p){'use strict';var q=this.props.volume;if(p.keyCode===c('Keys').UP){p.preventDefault();p.stopPropagation();q+=.05;if(q>1)q=1;}else if(p.keyCode===c('Keys').DOWN){p.preventDefault();p.stopPropagation();q-=.05;if(q<0)q=0;}else return;this.onSliderVolumeChangeEnd(q);};o.prototype.onMouseOut=function(p){'use strict';c('ReactDOM').findDOMNode(this.refs.button).blur();};o.prototype.getVolume=function(){'use strict';if(this.props.isMuted)return 0;return this.props.volume;};o.prototype.onSliderVolumeChangeBegin=function(){'use strict';var p=this.props.volume;if(p>0){this.setState({nubEngaged:true,lastVolumeBeforeMute:p});c('VideoPlayerVolumeSettings').saveLastVolumeBeforeMute(p);}};o.prototype.onSliderVolumeChangeEnd=function(p){'use strict';if(p>0){this.setState({lastVolumeBeforeMute:p});c('VideoPlayerVolumeSettings').saveLastVolumeBeforeMute(p);this.onSliderVolumeChange(p);}else{this.props.onVolumeChange(this.state.lastVolumeBeforeMute);if(!this.props.isMuted)this.props.onToggleMuted&&this.props.onToggleMuted();}this.setState({nubEngaged:false});};o.prototype.onSliderVolumeChange=function(p){'use strict';if(p>0&&this.props.isMuted||p===0&&!this.props.isMuted)this.props.onToggleMuted&&this.props.onToggleMuted();this.props.onVolumeChange&&this.props.onVolumeChange(p);};o.prototype.checkLastVolumeBeforeMuteInvariant=function(){'use strict';this.state.lastVolumeBeforeMute>0&&this.state.lastVolumeBeforeMute<=1||k(0);};o.prototype.render=function(){'use strict';var p=Math.round(this.getVolume()*100),q=null;if(p==0){q=c('React').createElement(c('Image.react'),{className:"_5i0o",src:h("115743")});}else{var r=null;if(p<=33){r=h("115737");}else if(p<=66){r=h("115740");}else r=h("115746");q=c('React').createElement('div',{className:"_44_"},c('React').createElement('div',{className:"_454"},c('React').createElement(c('Image.react'),{className:"_5i0o",src:r})));}var s="_3s02"+(this.state.nubEngaged?' '+"_gn1":'')+(this.state.focused?' '+"_4v4":''),t="_3u33"+(' '+"_3s03")+(!this.getVolume()&&!c('VideoPlayerExperiments').redesign?' '+"_17bp":''),u=!this.getVolume()?j._("Unmute"):j._("Mute"),v=c('React').createElement(c('EmbeddedVideoVolumeSlider.react'),{onVolumeChangeBegin:this.onSliderVolumeChangeBegin.bind(this),onVolumeChangeEnd:this.onSliderVolumeChangeEnd.bind(this),onVolumeChange:this.onSliderVolumeChange.bind(this),isHorizontal:this.props.isHorizontal||false,volume:this.getVolume()}),w=c('React').createElement(c('AbstractButton.react'),{className:t,'data-testid':c('VideoWebDriverIDs').MUTE_UNMUTE_CONTROL,image:q,label:u,labelIsHidden:true,onBlur:this.onButtonBlur.bind(this),onClick:this.onButtonClick.bind(this),onFocus:this.onButtonFocus.bind(this),onKeyDown:this.onKeyDown.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:this.props.tabIndex,type:'button'}),x=this.props.showSpatialAudioNUX?c('React').createElement(c('SpatialAudioFeedNUX.react'),{contextRef:function(){return this.refs.button;}.bind(this)}):null;if(this.props.isHorizontal)return c('React').createElement('div',{className:s},w,v,x);return c('React').createElement('div',{className:s},v,w,x);};o.propTypes={isMuted:n.bool,onVolumeChange:n.func,onToggleMuted:n.func,tabIndex:n.string,volume:n.number};f.exports=o;}),null);
__d('EmbeddedVideoControls.react',['ix','cx','fbt','Arbiter','BootloadedComponent.react','AbstractButton.react','EmbeddedVideoFullscreenControl.react','Image.react','JSResource','EmbeddedVideoPlaybackControl.react','EmbeddedVideoPlaybackTimer.react','React','ReactDOM','EmbeddedVideoScrubber.react','SubscriptionsHandler','EmbeddedVideoSidepaneToggleControl.react','TooltipData','EmbeddedVideoVolumeControl.react','VideoPlayerExperiments','VideoPlayerUIComponentDrawer','fbglyph','ifRequired','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('React').PropTypes;function n(){return c('ifRequired')('VideoWatchAndScrollController',function(q){return q.isActive();},function(){return false;});}function o(){return {isWNSOpen:n()};}k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(q){'use strict';l.constructor.call(this,q);this.state=o();if(q.allowEnqueuing)this.$EmbeddedVideoControls1=new (c('SubscriptionsHandler'))();}p.prototype.componentDidMount=function(){'use strict';if(this.$EmbeddedVideoControls1){var q;(q=this.$EmbeddedVideoControls1).addSubscriptions.apply(q,this.$EmbeddedVideoControls2());}};p.prototype.$EmbeddedVideoControls2=function(){'use strict';if(!this.props.allowEnqueuing)return [];return [c('Arbiter').subscribe('VideoWatchAndScrollController/start',function(){return this.setState({isWNSOpen:true});}.bind(this)),c('Arbiter').subscribe('VideoWatchAndScrollController/exit',function(){return this.setState({isWNSOpen:false});}.bind(this))];};p.prototype.componentWillUnmount=function(){'use strict';if(this.$EmbeddedVideoControls1)this.$EmbeddedVideoControls1.release();};p.prototype.shouldComponentUpdate=function(q,r){'use strict';return c('shallowCompare')(this,q,r);};p.prototype.isHidden=function(){'use strict';return this.props.hidden;};p.prototype.isTransparent=function(){'use strict';return this.props.transparent;};p.prototype.onMouseOut=function(q){'use strict';c('ReactDOM').findDOMNode(this.refs.button).blur();};p.prototype.$EmbeddedVideoControls3=function(){'use strict';var q=this.props,r=q.isFullscreen,s=q.hasWatchAndScroll,t=q.allowEnqueuing,u=this.state.isWNSOpen;if(t)return !u&&s&&!r;return s&&!r;};p.prototype.$EmbeddedVideoControls4=function(){'use strict';var q=this.props.allowEnqueuing,r=this.state.isWNSOpen;if(q)return r;return false;};p.prototype.render=function(){'use strict';var q=c('VideoPlayerExperiments').inlineSoundVisible,r=(!c('VideoPlayerExperiments').redesign?"_17l4":'')+(' '+"_2mbh")+(this.isHidden()?' '+"_2mbi":'')+(this.isTransparent()&&!q?' '+"_5744":''),s=(c('VideoPlayerExperiments').redesign&&c('VideoPlayerExperiments').noanim?"_fwi":'')+(c('VideoPlayerExperiments').redesign&&c('VideoPlayerExperiments').noshadow?' '+"_fwj":'')+(c('VideoPlayerExperiments').redesign?' '+"_i5q":'')+(this.props.showSidePaneToggle?' '+"_369t":''),t="_2mbj"+(' '+"_2mbk")+(this.isTransparent()&&q?' '+"_5744":''),u="_2mbj"+(' '+"_yaw")+(this.isTransparent()&&q?' '+"_5744":''),v="_2mbj"+(' '+"_2mbl")+(this.isTransparent()&&q?' '+"_5744":''),w="_2mbj"+(' '+"_4a9j")+(this.isTransparent()&&(!this.props.isInline||this.props.isFullscreen||!this.props.isPlaying)?' '+"_5744":''),x="_5rbl",y="_4lqt _4ubd",z="_4lqt"+(' '+"_4ubd")+(' '+"_3t0x")+(!this.props.isCommentAttachment?' '+"hidden_elem":''),aa=null;if(!this.props.isLive&&!this.props.hideRemainingTime){var ba=this.props.playbackPosition-this.props.playbackDuration;aa=c('React').createElement(c('EmbeddedVideoPlaybackTimer.react'),{className:"_25e2"+(this.props.displayMilliseconds?' '+"_5ziu":''),playbackPosTimestamp:this.props.playbackPosition,remainingTimestamp:ba,displayElapsedTime:this.props.displayElapsedTime,displayMilliseconds:this.props.displayMilliseconds});}var ca=null,da=null,ea=null,fa=null;if(!this.props.isLive||this.props.hasHD)if(!this.props.hideSettings)if(c('VideoPlayerExperiments').redesign){ea=c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('EmbeddedVideoSettingsControl.react').__setRef('EmbeddedVideoControls.react'),bootloadPlaceholder:c('React').createElement('span',null),disabled:this.props.isCasting,hasHD:this.props.hasHD,hasSubtitles:this.props.hasSubtitles,isHD:this.props.isHD,areSubtitlesActive:this.props.areSubtitlesActive,onToggleHD:this.props.onToggleHD,onToggleSubtitles:this.props.onToggleSubtitles,availableQualities:this.props.availableQualities,selectedQuality:this.props.selectedQuality,canAutoSelectVideoQuality:this.props.canAutoSelectVideoQuality,onSelectQuality:this.props.onSelectQuality,showQualitySelector:this.props.showQualitySelector,qualitySelectorMinStreams:this.props.qualitySelectorMinStreams,streamingFormat:this.props.streamingFormat});}else{if(this.props.hasHD)ca=c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('EmbeddedVideoQualityControl.react').__setRef('EmbeddedVideoControls.react'),bootloadPlaceholder:c('React').createElement('span',null),isHD:this.props.isHD,onToggleHD:this.props.onToggleHD,tabIndex:'0'});if(this.props.hasSubtitles)da=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoClosedCaptionsControl.react').__setRef('EmbeddedVideoControls.react'),areClosedCaptionsActive:this.props.areSubtitlesActive,onToggleClosedCaptions:this.props.onToggleSubtitles,tabIndex:'0'});}if(this.props.isLive)if(c('VideoPlayerExperiments').hlsButton)fa=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoToHLSControl.react').__setRef('EmbeddedVideoControls.react'),areHLSActive:this.props.areHLSActive,onToggleHLS:this.props.onToggleHLS,tabIndex:'0'});var ga=null;if(this.props.allowFullscreen){var ha=this.props.isFullscreen?j._("Click to exit fullscreen"):j._("Click to enter fullscreen");ga=c('React').createElement(c('EmbeddedVideoFullscreenControl.react'),babelHelpers['extends']({},c('TooltipData').propsFor(ha,'above'),{disabled:this.props.isCasting&&!this.props.isFullscreen,isFullscreen:this.props.isFullscreen,onToggleFullscreen:this.props.onToggleFullscreen,tabIndex:'0'}));}var ia=null;if(this.$EmbeddedVideoControls3())ia=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoWatchAndScrollControl.react').__setRef('EmbeddedVideoControls.react'),disabled:this.props.isCasting,onEnterWatchAndScroll:this.props.onEnterWatchAndScroll,isSlidingWNSEligible:this.props.isSlidingWNSEligible});var ja=null;if(this.$EmbeddedVideoControls4())ja=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoEnqueueControl.react').__setRef('EmbeddedVideoControls.react'),disabled:this.props.isCasting,onEnqueueVideo:this.props.onEnqueueVideo});var ka=null;if(this.props.allowCasting&&this.props.hasFoundReceiver)ka=c('React').createElement(c('BootloadedComponent.react'),{bootloadPlaceholder:c('React').createElement('span',null),bootloadLoader:c('JSResource')('EmbeddedVideoCastingControl.react').__setRef('EmbeddedVideoControls.react'),hasFoundReceiver:this.props.hasFoundReceiver,isCasting:this.props.isCasting,isCastingSupported:this.props.isCastingSupported,onStartCast:this.props.onStartCast,onStopCast:this.props.onStopCast});var la=null,ma=null;if(this.props.permalinkURL){ma=c('React').createElement(c('Image.react'),{className:"_5i0o",src:h("114229")});la=c('React').createElement(c('AbstractButton.react'),{className:"_3u33",href:this.props.permalinkURL,image:ma,label:j._("Open in a new tab"),labelIsHidden:true,onMouseOut:this.onMouseOut.bind(this),ref:'button',tabIndex:'0',target:'_blank',type:'button'});}var na=null,oa=null;if(!this.props.isLive&&!this.props.hidePlaybackControl){oa=c('React').createElement(c('EmbeddedVideoPlaybackControl.react'),{finishedPlaying:this.props.finishedPlaying,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,tabIndex:'0'});na=c('React').createElement(c('EmbeddedVideoScrubber.react'),{adBreaksTimeOffset:this.props.adBreaksTimeOffset,bufferedPosition:this.props.bufferedPosition,controlsHidden:this.props.hidden,hasScrubberPreview:this.props.hasScrubberPreview,interestLevels:this.props.interestLevels,drawer:this.props.drawer,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.isAdBreakDisabled,isFullscreen:this.props.isFullscreen,isPlaying:this.props.isPlaying,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd,playbackDuration:this.props.playbackDuration,playbackPosition:this.props.playbackPosition,previewThumbnailInformation:this.props.previewThumbnailInformation,scrubberPreviewSprites:this.props.scrubberPreviewSprites,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest,tabIndex:'0'});}var pa=null;if(this.props.showSidePaneToggle)pa=c('React').createElement(c('EmbeddedVideoSidepaneToggleControl.react'),{isSidePaneOpen:this.props.isSidePaneOpen,onSidePaneToggle:this.props.onSidePaneToggle,tabIndex:'0'});var qa=null;if(c('VideoPlayerExperiments').redesign)qa=c('React').createElement('div',{className:"_4lqu"+(this.isTransparent()?' '+"_5744":'')});var ra=c('React').createElement(c('EmbeddedVideoVolumeControl.react'),{isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,tabIndex:'0',showSpatialAudioNUX:this.props.showSpatialAudioNUX}),sa=null;if(this.props.useTwoRows){var ta=c('React').createElement(c('EmbeddedVideoVolumeControl.react'),{isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,isHorizontal:true,tabIndex:'0'});sa=c('React').createElement('div',{className:z},c('React').createElement('div',{className:x},c('React').createElement('div',{className:r},c('React').createElement('div',{className:t}),c('React').createElement('div',{className:u},na),c('React').createElement('div',{className:v},aa))),c('React').createElement('div',{className:x},c('React').createElement('div',{className:r},c('React').createElement('div',{className:t},oa,ta),c('React').createElement('div',{className:u}),c('React').createElement('div',{className:v},da,fa,ca,ea,ia,ja,ka,ga,la))));}var ua=!this.props.useTwoRows||!this.props.isCommentAttachment?c('React').createElement('div',{className:y},c('React').createElement('div',{className:x},c('React').createElement('div',{className:r},c('React').createElement('div',{className:t},oa),c('React').createElement('div',{className:u},na),c('React').createElement('div',{className:v},aa,q||ra,da,fa,ca,ea,ia,ja,ka,pa,ga,la),c('React').createElement('div',{className:w},!q||ra)))):null;return (c('React').createElement('div',{className:s},qa,ua,sa));};p.propTypes={allowFullscreen:m.bool,allowEnqueuing:m.bool,finishedPlaying:m.bool,hasHD:m.bool,hasSubtitles:m.bool,hasWatchAndScroll:m.bool,hidden:m.bool,hidePlaybackControl:m.bool,hideRemainingTime:m.bool,hideSettings:m.bool,isCommentAttachment:m.bool,isFullscreen:m.bool,isHD:m.bool,isInline:m.bool,isLive:m.bool,isMuted:m.bool,isPlaying:m.bool,isSidePaneOpen:m.bool,isSlidingWNSEligible:m.bool,areSubtitlesActive:m.bool,areHLSActive:m.bool,onEnterWatchAndScroll:m.func,onEnqueueVideo:m.func,onPause:m.func,onPlay:m.func,onSeek:m.func,onToggleFullscreen:m.func,onToggleHD:m.func,onToggleHLS:m.func,onToggleMuted:m.func,onToggleSubtitles:m.func,onVolumeChange:m.func,permalinkURL:m.string,playbackDuration:m.number,playbackPosition:m.number,displayElapsedTime:m.bool,displayMilliseconds:m.bool,transparent:m.bool,volume:m.number,scrubberPreviewSprites:m.object,hasScrubberPreview:m.bool,previewThumbnailInformation:m.object,onPointOfInterestSelect:m.func,pointsOfInterest:m.array,availableQualities:m.array,selectedQuality:m.string,canAutoSelectVideoQuality:m.bool,onSelectQuality:m.func,showQualitySelector:m.bool,qualitySelectorMinStreams:m.number,streamingFormat:m.string,useTwoRows:m.bool,adBreaksTimeOffset:m.array,showSidePaneToggle:m.bool};p.defaultProps={allowCasting:false,bufferedPosition:0,hasFoundReceiver:false,displayElapsedTime:false,displayMilliseconds:false,hidden:false,hidePlaybackControl:false,hideRemainingTime:false,hideSettings:false,isCasting:false,isCastingSupported:false,isCommentAttachment:false,isMuted:false,isPlaying:false,onSidePaneToggle:function q(){},onStartCast:function q(){},onStopCast:function q(){},playbackDuration:0,playbackPosition:0,showSidePaneToggle:false,transparent:false,useTwoRows:false,volume:0};f.exports=p;}),null);
__d('VideoWatchAndScrollEndScreen.react',['ix','cx','Image.react','React','VideoChannelProgressCircle.react','VideoChannelReplayImage.react','fbglyph'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes,m=function o(p){var q=p.onClose;return (c('React').createElement('div',{className:"_3r7h _2se8",onClick:q,role:'button',tabIndex:'0'},c('React').createElement(c('Image.react'),{src:h("114709")})));};j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;n.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:"_5qdn"+(' '+"_2se8")+(this.props.fadeOut?' '+"_2gud":'')+(' '+"_1s-2")},c('React').createElement('div',{className:"_1szz _2se8"},c('React').createElement('div',{className:"_1szy _ww8",onClick:this.props.onReplay,role:'presentation'},c('React').createElement(c('VideoChannelProgressCircle.react'),{makeProgress:this.props.makeProgress,timeoutSec:this.props.endScreenDuration,watchAndScroll:true},c('React').createElement(c('VideoChannelReplayImage.react'),{size:'small'})))),this.props.showCloseButton?c('React').createElement(m,{onClose:this.props.onClose}):null));};function n(){'use strict';j.apply(this,arguments);}n.propTypes={endScreenDuration:l.number.isRequired,fadeOut:l.bool,makeProgress:l.bool.isRequired,onReplay:l.func.isRequired,onClose:l.func.isRequired};f.exports=n;}),null);
__d('shouldWNSRenderToRHC',['ge'],(function a(b,c,d,e,f,g){'use strict';function h(){return !!c('ge')('fbRHCVideoWNS-root');}f.exports=h;}),null);
__d('VideoWatchAndScrollContainer.react',['csx','cx','CSS','DOM','DOMContainer.react','DOMDimensions','Event','Parent','React','ReactCSSTransitionGroup','Rect','SubscriptionsHandler','VideoWatchAndScrollEndScreen.react','cancelAnimationFrame','getViewportDimensions','requestAnimationFrame','shallowCompare','shouldWNSRenderToRHC','throttle'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=10,n=230,o=476,p=300,q=3000,r={NW:'nw',NE:'ne',SE:'se',SW:'sw'};j=babelHelpers.inherits(s,c('React').Component);k=j&&j.prototype;function s(t,u){k.constructor.call(this,t,u);this.state=this.$VideoWatchAndScrollContainer2(this.props);}s.prototype.$VideoWatchAndScrollContainer2=function(t){var u=this.$VideoWatchAndScrollContainer3(),v=this.$VideoWatchAndScrollContainer4(this.props.initialPosition,u);return {channelVideoElements:[this.props.initialVideoElement],containerBoundingBox:u,dragging:false,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,endScreenFadeOut:false,endScreenShown:false,fadeOut:false,fadeOutPlaceholder:null,height:v.height,left:v.left,overlayShown:false,resizeDirection:null,top:v.top,width:v.width,videoIndex:0};};s.prototype.shouldComponentUpdate=function(t,u){return !this.state.fadeOut&&c('shallowCompare')(this,t,u);};s.prototype.componentDidUpdate=function(t,u){if(!u)return;if(!u.dragging&&this.state.dragging){this.documentSubscriptions=new (c('SubscriptionsHandler'))();this.documentSubscriptions.addSubscriptions(c('Event').listen(document,'mousemove',this.$VideoWatchAndScrollContainer5.bind(this)),c('Event').listen(document,'mouseup',this.$VideoWatchAndScrollContainer6.bind(this)));}else if(u.dragging&&!this.state.dragging)this.documentSubscriptions.release();if(u.endScreenShown!==this.state.endScreenShown){if(this.canPlayAnotherVideo()||!c('shouldWNSRenderToRHC')())if(this.state.endScreenShown){this.$VideoWatchAndScrollContainer1=setTimeout(function(){this.props.onChannelNavigation(1);this.setState({endScreenShown:false,endScreenFadeOut:true});}.bind(this),q);}else{clearTimeout(this.$VideoWatchAndScrollContainer1);this.$VideoWatchAndScrollContainer1=null;this.setState({endScreenFadeOut:false});}}else if(this.state.endScreenShown&&this.state.videoIndex>=u.channelVideoElements.length-1&&this.state.videoIndex<this.state.channelVideoElements.length-1){clearTimeout(this.$VideoWatchAndScrollContainer1);this.$VideoWatchAndScrollContainer1=setTimeout(function(){this.props.onChannelNavigation(1);this.setState({endScreenShown:false,endScreenFadeOut:true});}.bind(this),q);}var v=["._23if","._23ig","._452w","._2i7a"],w=u.channelVideoElements||[];this.state.channelVideoElements.forEach(function(x){if(w.indexOf(x)!==-1)return;v.forEach(function(aa){var ba=c('DOM').scry(x,aa),ca=ba[0];if(ca)c('CSS').hide(ca);});var y=c('DOM').scry(x,"._3pay"),z=y[0];if(z){c('CSS').removeClass(z,"_3pay");c('CSS').addClass(z,"_2337");}});};s.prototype.componentDidMount=function(){this.resizeListener=c('Event').listen(window,'resize',c('throttle')(function(){var t=this.$VideoWatchAndScrollContainer3(),u=this.$VideoWatchAndScrollContainer4({height:this.state.height,left:this.state.left,top:this.state.top,width:this.state.width},t);this.setState({containerBoundingBox:t,height:u.height,left:u.left,top:u.top,width:u.width});}.bind(this),100));};s.prototype.componentWillUnmount=function(){if(this.documentSubscriptions)this.documentSubscriptions.release();if(this.resizeListener)this.resizeListener.remove();this.$VideoWatchAndScrollContainer1&&clearTimeout(this.$VideoWatchAndScrollContainer1);};s.prototype.getFadeOutStatus=function(){return this.state.fadeOut;};s.prototype.getChannelVideoElements=function(){return this.state.channelVideoElements;};s.prototype.$VideoWatchAndScrollContainer7=function(t,event){this.$VideoWatchAndScrollContainer8(event,t);};s.prototype.$VideoWatchAndScrollContainer9=function(event){if(!c('Parent').bySelector(event.target,"._3t-6"))return;this.$VideoWatchAndScrollContainer8(event,null);};s.prototype.$VideoWatchAndScrollContainer10=function(event){return event.button!==0||c('Parent').bySelector(event.target,"._3t-6")||c('Parent').bySelector(event.target,"._2se8");};s.prototype.$VideoWatchAndScrollContainer11=function(event){if(this.$VideoWatchAndScrollContainer10(event))return;this.props.onClick&&this.props.onClick();};s.prototype.$VideoWatchAndScrollContainer12=function(event){if(this.$VideoWatchAndScrollContainer10(event))return;this.props.onDoubleClick&&this.props.onDoubleClick();};s.prototype.$VideoWatchAndScrollContainer8=function(event,t){var u=event.button,v=event.target;if(u!==0)return;if(c('Parent').bySelector(v,"._360f"))return;this.props.onGrab();this.setState({containerBoundingBox:this.$VideoWatchAndScrollContainer3(),dragging:true,draggingStartHeight:this.state.height,draggingStartLeft:this.state.left,draggingStartMousePositionX:event.screenX,draggingStartMousePositionY:event.screenY,draggingStartTop:this.state.top,draggingStartWidth:this.state.width,resizeDirection:t});event.preventDefault();};s.prototype.$VideoWatchAndScrollContainer3=function(){var t=0,u=c('DOM').scry(document.body,".fbChatSidebar");if(u.length===1)t=c('DOMDimensions').getElementDimensions(u[0]).width;var v=c('getViewportDimensions').withoutScrollbars(),w=new (c('Rect'))(43+m,v.width-t-m,v.height-m,m);return w;};s.prototype.$VideoWatchAndScrollContainer4=function(t,u){var v=new (c('Rect'))(t.top,t.left+t.width,t.top+t.height,t.left);v=v.boundWithin(u);return {height:v.h(),left:v.getLeft(),top:v.getTop(),width:v.w()};};s.prototype.$VideoWatchAndScrollContainer13=function(t,u,v){var w=t.top,x=u.getTop(),y=x-w;if(y>0){if(v===r.NE||v===r.NW)t.height-=y;t.top=x;}var z=t.left,aa=u.getLeft(),ba=aa-z;if(ba>0){if(v===r.NW||v===r.SW)t.width-=ba;t.left=aa;}var ca=t.top+t.height,da=u.getTop()+u.h(),ea=ca-da;if(ea>0)t.height=da-t.top;var fa=t.left+t.width,ga=u.getLeft()+u.w(),ha=fa-ga;if(ha>0)t.width=ga-t.left;};s.prototype.$VideoWatchAndScrollContainer14=function(t,u,v){if(t.width<n){if(v===r.NW||v===r.SW)t.left-=n-t.width;t.width=n;}if(t.height<n){if(v===r.NE||v===r.NW)t.top-=n-t.height;t.height=n;}};s.prototype.$VideoWatchAndScrollContainer15=function(t,u,v){if(t.width>o){if(v===r.NW||v===r.SW)t.left+=t.width-o;t.width=o;}if(t.height>o){if(v===r.NE||v===r.NW)t.top+=t.height-o;t.height=o;}};s.prototype.$VideoWatchAndScrollContainer16=function(t,u,v){var w=t.width/t.height,x=u.width/u.height;if(w>x){var y=t.height*x,z=t.height;if(y<n){z*=n/y;y=n;if(v===r.NE||v===r.NW)t.top+=t.height-z;}if(v===r.NW||v===r.SW)t.left+=t.width-y;t.width=y;t.height=z;}else if(w<x){var aa=t.width/x;if(v===r.NE||v===r.NW)t.top+=t.height-aa;t.height=aa;}};s.prototype.$VideoWatchAndScrollContainer17=function(t,u,v,w){this.$VideoWatchAndScrollContainer13(t,v,w);this.$VideoWatchAndScrollContainer14(t,u,w);this.$VideoWatchAndScrollContainer15(t,u,w);this.$VideoWatchAndScrollContainer16(t,u,w);return {height:t.height,left:t.left,top:t.top,width:t.width};};s.prototype.$VideoWatchAndScrollContainer5=function(event){c('cancelAnimationFrame')(this.dragUpdateRequestAnimationFrameID);this.dragUpdateRequestAnimationFrameID=c('requestAnimationFrame')(this.$VideoWatchAndScrollContainer18.bind(this,event));};s.prototype.$VideoWatchAndScrollContainer19=function(t){if(t.height!==this.state.height||t.width!==this.state.width)this.props.onInitialPositionUpdate(t);};s.prototype.$VideoWatchAndScrollContainer18=function(event){if(!this.state.dragging)return;var t=event.screenX-this.state.draggingStartMousePositionX,u=event.screenY-this.state.draggingStartMousePositionY,v=this.state.resizeDirection,w=void 0;if(!v){w=this.$VideoWatchAndScrollContainer4({height:this.state.draggingStartHeight,left:this.state.draggingStartLeft+t,top:this.state.draggingStartTop+u,width:this.state.draggingStartWidth},this.state.containerBoundingBox);this.$VideoWatchAndScrollContainer19(w);this.setState({height:w.height,left:w.left,top:w.top,width:w.width});}else{var x=this.state.draggingStartHeight,y=this.state.draggingStartLeft,z=this.state.draggingStartTop,aa=this.state.draggingStartWidth;if(v===r.NE||v===r.SE)aa+=t;if(v===r.NW||v===r.SW){y+=t;aa-=t;}if(v===r.SE||v===r.SW)x+=u;if(v===r.NE||v===r.NW){z+=u;x-=u;}w=this.$VideoWatchAndScrollContainer17({height:x,left:y,top:z,width:aa},{height:this.state.draggingStartHeight,left:this.state.draggingStartLeft,top:this.state.draggingStartTop,width:this.state.draggingStartWidth},this.state.containerBoundingBox,v);this.$VideoWatchAndScrollContainer19(w);this.setState({height:w.height,left:w.left,top:w.top,width:w.width});}event.preventDefault();};s.prototype.$VideoWatchAndScrollContainer6=function(event){c('cancelAnimationFrame')(this.dragUpdateRequestAnimationFrameID);this.props.onDrop();this.setState({dragging:false,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,resizeDirection:null});event.preventDefault();};s.prototype.$VideoWatchAndScrollContainer20=function(t,u){if(t>this.state.channelVideoElements.length)return null;var v=this.state.channelVideoElements[t];if(!v)return null;return (c('React').createElement('div',{className:"_2yq3"+(u==='left'?' '+"_2yq4":'')+(u==='center'?' '+"_2yq5":'')+(u==='right'?' '+"_2yq6":''),key:v.id},c('React').createElement(c('DOMContainer.react'),null,v)));};s.prototype.$VideoWatchAndScrollContainer21=function(){if(c('shouldWNSRenderToRHC')())return [];return [c('React').createElement('div',{className:"_52ua",onMouseDown:this.$VideoWatchAndScrollContainer7.bind(this,r.NW)}),c('React').createElement('div',{className:"_52uc",onMouseDown:this.$VideoWatchAndScrollContainer7.bind(this,r.NE)}),c('React').createElement('div',{className:"_52ui",onMouseDown:this.$VideoWatchAndScrollContainer7.bind(this,r.SE)}),c('React').createElement('div',{className:"_52uj",onMouseDown:this.$VideoWatchAndScrollContainer7.bind(this,r.SW)})];};s.prototype.getWidth=function(){return this.state.width;};s.prototype.canPlayAnotherVideo=function(){var t=this.state.channelVideoElements;return this.state.videoIndex<t.length-1;};s.prototype.render=function(){var t={height:Math.round(this.state.height)+'px',left:this.state.left+'px',top:this.state.top+'px',width:Math.round(this.state.width)+'px'},u=this.state.channelVideoElements,v=u[this.state.videoIndex];if(v){c('CSS').addClass(v,"_1kfp");c('CSS').conditionClass(v,"_1blk",this.state.width<p);}var w=null;if(this.state.endScreenShown)w=c('React').createElement(c('VideoWatchAndScrollEndScreen.react'),{endScreenDuration:q/1000,fadeOut:this.state.endScreenFadeOut,makeProgress:this.canPlayAnotherVideo(),onReplay:this.props.onReplay,showCloseButton:!c('shouldWNSRenderToRHC')(),onClose:function(){clearTimeout(this.$VideoWatchAndScrollContainer1);this.$VideoWatchAndScrollContainer1=null;this.props.onClose();}.bind(this)});var x=null;if(this.state.fadeOutPlaceholder){x=c('React').createElement(c('DOMContainer.react'),null,this.state.fadeOutPlaceholder);}else x=c('React').createElement('ul',{className:"_2yq7"},u.map(function(y,z){if(z>this.state.videoIndex+1||z<this.state.videoIndex-1)c('CSS').removeClass(y,"_1kfp");if(z<=this.state.videoIndex+1)return null;return (c('React').createElement('li',{key:y.id},c('React').createElement(c('DOMContainer.react'),null,y)));}.bind(this)));return (c('React').createElement(c('ReactCSSTransitionGroup'),{transitionAppear:true,transitionAppearTimeout:500,transitionEnter:false,transitionLeave:false,transitionName:{appear:"_tie",appearActive:"_tik"}},c('React').createElement('div',{className:"_360g"+(this.state.fadeOut?' '+"_473b":''),style:t},w,c('React').createElement('div',{className:"_52u8",onClick:this.$VideoWatchAndScrollContainer11.bind(this),onDoubleClick:this.$VideoWatchAndScrollContainer12.bind(this),onMouseDown:this.$VideoWatchAndScrollContainer9.bind(this),role:'presentation'},this.$VideoWatchAndScrollContainer20(this.state.videoIndex-1,'left'),this.$VideoWatchAndScrollContainer20(this.state.videoIndex,'center'),this.$VideoWatchAndScrollContainer20(this.state.videoIndex+1,'right')),this.$VideoWatchAndScrollContainer21(),x)));};s.propTypes={initialPosition:l.object.isRequired,initialVideoElement:l.instanceOf(HTMLElement).isRequired,onChannelNavigation:l.func.isRequired,onClick:l.func.isRequired,onClose:l.func.isRequired,onDoubleClick:l.func.isRequired,onDrop:l.func.isRequired,onGrab:l.func.isRequired,onInitialPositionUpdate:l.func.isRequired,onReplay:l.func.isRequired};f.exports=s;}),null);
__d("XVideoWNSSurveyController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/wns_survey\/",{__asyncDialog:{type:"Int"}});}),null);
__d('VideoWatchAndScrollController',['csx','cx','invariant','Arbiter','AsyncRequest','Bootloader','CSS','DOM','DOMDimensions','EventListener','React','ReactDOM','SubscriptionsHandler','VideoAutoplayControllerX','VideoChainingCaller','VideoChannelLogger','VideoChannelStoryFetcher','VideoFrameBuffer','VideoPlayerExperiments','VideoPlayerLoggerSource','VideoPlayerReason','VideoPlayerStates','VideoPlayerVolumeSettings','VideoWatchAndScrollContainer.react','VideoWatchAndScrollVariables','XVideoWNSSurveyController','cancelAnimationFrame','destroyOnUnload','ge','getViewportDimensions','ifRequired','shouldWNSRenderToRHC','throttle'],(function a(b,c,d,e,f,g,h,i,j){var k=158,l=280,m=10,n=42,o=n+m,p=476,q=230,r=[c('VideoPlayerReason').AUTOPLAY,c('VideoPlayerReason').PAGE_VISIBILITY],s=750,t=null,u=c('VideoPlayerExperiments').videoEnqueuingWNSEnabled;function v(w,x,y,z){var aa;'use strict';this.$VideoWatchAndScrollController30=new (c('SubscriptionsHandler'))();this.$VideoWatchAndScrollController31=new (c('SubscriptionsHandler'))();this.$VideoWatchAndScrollController1=false;this.$VideoWatchAndScrollController2=null;this.$VideoWatchAndScrollController3=null;this.$VideoWatchAndScrollController4=false;this.$VideoWatchAndScrollController34=y;this.$VideoWatchAndScrollController37=false;this.$VideoWatchAndScrollController29=false;this.$VideoWatchAndScrollController47=z;this.$VideoWatchAndScrollController48=z;this.$VideoWatchAndScrollController33=new (c('VideoChannelStoryFetcher'))(x,w,this.$VideoWatchAndScrollController34,null);this.$VideoWatchAndScrollController35=[];this.$VideoWatchAndScrollController36=0;this.$VideoWatchAndScrollController38=[];this.$VideoWatchAndScrollController39=[];this.$VideoWatchAndScrollController49=[];this.$VideoWatchAndScrollController50={};this.$VideoWatchAndScrollController5=k;this.$VideoWatchAndScrollController6=l;this.$VideoWatchAndScrollController10=window.document.getElementById('leftCol');this.$VideoWatchAndScrollController11=window.document.getElementById('rightCol');this.$VideoWatchAndScrollController12=window.document.getElementById('pagelet_bluebar');this.$VideoWatchAndScrollController43={};this.$VideoWatchAndScrollController46=null;this.$VideoWatchAndScrollController51();(aa=this.$VideoWatchAndScrollController30).addSubscriptions.apply(aa,this.$VideoWatchAndScrollController52());if(!c('VideoPlayerExperiments').persistentWNSEnabled)c('destroyOnUnload')(function(){this.$VideoWatchAndScrollController53();if(this.$VideoWatchAndScrollController4)this.$VideoWatchAndScrollController54(true);if(this.$VideoWatchAndScrollController30)this.$VideoWatchAndScrollController30.release();if(this===t)t=null;}.bind(this));}v.prototype.getQueuedVideoCount=function(){'use strict';return this.$VideoWatchAndScrollController49.length;};v.getQueuedVideoCount=function(){'use strict';return t?t.getQueuedVideoCount():0;};v.prototype.$VideoWatchAndScrollController52=function(){'use strict';var w=[c('Arbiter').subscribe('VideoChannelView/opened',function(x,y){if(this.$VideoWatchAndScrollController4&&(!y.controller||this.$VideoWatchAndScrollController16!==y.controller))this.$VideoWatchAndScrollController54(true);}.bind(this))];if(u)w.push(c('Arbiter').subscribe('EmbeddedVideoControls/enqueueVideo',function(x,y){var z=this.getQueuedVideoCount();this.$VideoWatchAndScrollController55(y.controller,y.thumbnail);var aa=this.getQueuedVideoCount();if(this.isActiveVideoDonePlaying()&&z===0&&aa===1)this.$VideoWatchAndScrollController56(this.$VideoWatchAndScrollController16);}.bind(this)));return w;};v.prototype.isActiveVideoDonePlaying=function(){'use strict';var w=this.$VideoWatchAndScrollController16.getState();return w===c('VideoPlayerStates').FINISHED;};v.isActiveVideoDonePlaying=function(){'use strict';return t?t.isActiveVideoDonePlaying():false;};v.prototype.$VideoWatchAndScrollController57=function(w,x,y){'use strict';w||j(0);x.length||j(0);this.$VideoWatchAndScrollController47=true;this.$VideoWatchAndScrollController37=false;this.$VideoWatchAndScrollController31=new (c('SubscriptionsHandler'))();this.$VideoWatchAndScrollController36=y;this.$VideoWatchAndScrollController33=w;this.$VideoWatchAndScrollController38=w.getPreloadedData().thumbnails||[];this.$VideoWatchAndScrollController39=[];this.$VideoWatchAndScrollController35=x.slice(0);this.$VideoWatchAndScrollController35.forEach(function(aa){this.$VideoWatchAndScrollController58(aa);this.$VideoWatchAndScrollController59(aa);aa.updateSource(c('VideoPlayerLoggerSource').WATCH_SCROLL);}.bind(this));var z=this.$VideoWatchAndScrollController35.shift();this.$VideoWatchAndScrollController60(z,c('VideoPlayerReason').USER);};v.prototype.$VideoWatchAndScrollController61=function(w,x,y,z,aa){'use strict';this.$VideoWatchAndScrollController9=aa;this.$VideoWatchAndScrollController46=this.$VideoWatchAndScrollController62(aa.videoRootNode);this.$VideoWatchAndScrollController57(w,x,y);if(this.$VideoWatchAndScrollController14)this.$VideoWatchAndScrollController14.setState({channelVideoElements:z},function(){this.$VideoWatchAndScrollController63();}.bind(this));this.$VideoWatchAndScrollController9=null;};v.registerVideoController=function(w,x,y,z){'use strict';if(t==null)t=new v(w.getVideoChannelID(),w.getVideoID(),x,z);t.$VideoWatchAndScrollController30.addSubscriptions(w.addListener('enterWatchAndScroll',function(){if(t)t.$VideoWatchAndScrollController64(w);}),w.addListener('exitWatchAndScroll',function(){if(t&&t.$VideoWatchAndScrollController4)t.$VideoWatchAndScrollController54(true);}),w.addListener('VideoChannelController/enterChannel',function(){if(t)t.$VideoWatchAndScrollController37=true;}),w.addListener('VideoChannelController/exitChannel',function(){if(t)t.$VideoWatchAndScrollController37=false;}),w.addListener('WatchAndScroll/close',function(){if(t){t.$VideoWatchAndScrollController65();var ba=c('XVideoWNSSurveyController').getURIBuilder().getURI(),ca=new (c('AsyncRequest'))().setURI(ba);ca.send();}}));if(!y)return;var aa=['beginPlayback','changeVolume','muteVideo','toggleFullscreen','unmuteVideo','VideoChannelController/enterChannel'];aa.forEach(function(event){if(t)t.$VideoWatchAndScrollController30.addSubscriptions(w.addListener(event,function(ba){if(t)t.$VideoWatchAndScrollController66(w,event,ba);}));});};v.isActive=function(){'use strict';if(!t)return false;return t.$VideoWatchAndScrollController4&&!t.$VideoWatchAndScrollController37;};v.updateSlidingCalculations=function(){'use strict';if(!t)return;if(t.$VideoWatchAndScrollController19)t.$VideoWatchAndScrollController67(t.$VideoWatchAndScrollController19);};v.registerChannelVideoController=function(w){'use strict';if(!t)return;w.updateSource(c('VideoPlayerLoggerSource').WATCH_SCROLL);t.$VideoWatchAndScrollController58(w);t.$VideoWatchAndScrollController59(w);t.$VideoWatchAndScrollController35.push(w);};v.getStoryFetcherData=function(){'use strict';return t&&t.$VideoWatchAndScrollController68();};v.prototype.$VideoWatchAndScrollController68=function(){'use strict';return {storyFetcher:this.$VideoWatchAndScrollController33,videoPlayerControllers:this.$VideoWatchAndScrollController35,channelVideoIndex:this.$VideoWatchAndScrollController36,rootVideoPlayerController:this.$VideoWatchAndScrollController17,channelInteractionsToRegister:this.$VideoWatchAndScrollController39,isFromWNS:true};};v.getVideoPlaceholder=function(){'use strict';if(!t)return null;return t.$VideoWatchAndScrollController18;};v.getReactContainer=function(){'use strict';if(!t)return null;return t.$VideoWatchAndScrollController14;};v.registerChannelInteraction=function(w){'use strict';if(t)t.$VideoWatchAndScrollController39.push(w);};v.onEnterChannel=function(){'use strict';if(!t)return;t.$VideoWatchAndScrollController69();};v.prototype.$VideoWatchAndScrollController69=function(){'use strict';this.$VideoWatchAndScrollController37=true;this.$VideoWatchAndScrollController33.abandonRequest();var w=this.$VideoWatchAndScrollController14;if(!w)return;var x=["._23if","._23ig","._452w","._2i7a"];w.getChannelVideoElements().forEach(function(y){x.forEach(function(ba){var ca=c('DOM').scry(y,ba),da=ca[0];if(da)c('CSS').show(da);});var z=c('DOM').scry(y,"._2337"),aa=z[0];if(aa){c('CSS').removeClass(aa,"_2337");c('CSS').addClass(aa,"_3pay");}});};v.resetFromChannelView=function(w,x,y){'use strict';if(!t)return;t.$VideoWatchAndScrollController57(w,x,y);};v.startFromChannelView=function(w,x,y,z,aa){'use strict';if(!t)return;t.$VideoWatchAndScrollController61(w,x,y,z,aa);};v.prototype.$VideoWatchAndScrollController66=function(w,event,x){'use strict';if(this.$VideoWatchAndScrollController4){if(this.$VideoWatchAndScrollController16===w)return;if(x&&r.includes(x.reason))return;if(!w.isIntentionallyViewing())return;var y=this.$VideoWatchAndScrollController16.getOption('VideoWithLiveBroadcast','isLive');if(y){this.$VideoWatchAndScrollController16.mute();}else this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);}if(event==='toggleFullscreen'&&w.isFullscreen()||event==='VideoChannelController/enterChannel'){if(this.$VideoWatchAndScrollController19)this.$VideoWatchAndScrollController53();}else if((event!=='beginPlayback'||x&&x.reason===c('VideoPlayerReason').USER||w.getSource()===c('VideoPlayerLoggerSource').PERMALINK)&&w.isIntentionallyViewing()&&!w.isFullscreen()&&!w.getIsInChannel()){var z=this.$VideoWatchAndScrollController70(w.getVideoNode()),aa=z.top;if(aa>window.scrollY||event==='beginPlayback'&&x&&x.reason===c('VideoPlayerReason').AUTOPLAY)this.$VideoWatchAndScrollController67(w);}};v.prototype.$VideoWatchAndScrollController56=function(w){'use strict';while(this.$VideoWatchAndScrollController49.length!==0){var x=this.$VideoWatchAndScrollController49.shift(),y=x[0],z=x[1];if(y!==w){y.seek(0);if(w.isMuted()){y.mute();}else y.unmute();this.$VideoWatchAndScrollController71(y,z);break;}}};v.prototype.$VideoWatchAndScrollController72=function(w){'use strict';if(u)this.$VideoWatchAndScrollController56(w);if(this.$VideoWatchAndScrollController37||w!==this.$VideoWatchAndScrollController16)return;if(this.$VideoWatchAndScrollController14)this.$VideoWatchAndScrollController14.setState({endScreenShown:true});};v.prototype.$VideoWatchAndScrollController73=function(w){'use strict';return w.addListener('finishPlayback',function(){return this.$VideoWatchAndScrollController72(w);}.bind(this));};v.prototype.$VideoWatchAndScrollController67=function(w){'use strict';var x=w.getVideoNode();if(!x.offsetParent)return;this.$VideoWatchAndScrollController19=w;this.$VideoWatchAndScrollController25=c('throttle')(this.$VideoWatchAndScrollController74.bind(this),100);window.addEventListener('resize',this.$VideoWatchAndScrollController25);this.$VideoWatchAndScrollController75(x);this.$VideoWatchAndScrollController76();};v.prototype.$VideoWatchAndScrollController74=function(){'use strict';if(this.$VideoWatchAndScrollController19){this.$VideoWatchAndScrollController75(this.$VideoWatchAndScrollController18||this.$VideoWatchAndScrollController19.getVideoNode());this.$VideoWatchAndScrollController26&&this.$VideoWatchAndScrollController26();}};v.prototype.$VideoWatchAndScrollController77=function(w){'use strict';var x=this.$VideoWatchAndScrollController70(w),y=w.scrollWidth,z=w.scrollHeight,aa=q,ba=p;if(y<z){aa*=y/z;ba*=y/z;}var ca=aa;if(this.$VideoWatchAndScrollController10&&this.$VideoWatchAndScrollController10.children.length){var da=this.$VideoWatchAndScrollController70(this.$VideoWatchAndScrollController10);if(da.left<=x.left){ca=Math.min(da.left-2*m,ba);}else if(this.$VideoWatchAndScrollController11&&this.$VideoWatchAndScrollController11.children.length){var ea=this.$VideoWatchAndScrollController70(this.$VideoWatchAndScrollController11);ca=Math.min(ea.left-2*m,ba);}}else{var fa=document.getElementById('timeline_tab_content');if(fa){var ga=this.$VideoWatchAndScrollController70(fa).left;ca=Math.min(ga-2*m,ba);}}return Math.max(ca,aa);};v.prototype.$VideoWatchAndScrollController70=function(w){'use strict';var x={left:0,top:0};do{x.top+=w.offsetTop;x.left+=w.offsetLeft;}while(w=w.offsetParent);return x;};v.prototype.$VideoWatchAndScrollController78=function(){'use strict';if(c('shouldWNSRenderToRHC')()){var w=c('ge')('rightCol');if(w)return c('DOMDimensions').getElementDimensions(w).width;}var x=0;if(this.$VideoWatchAndScrollController10&&this.$VideoWatchAndScrollController10.children.length){var y=this.$VideoWatchAndScrollController70(this.$VideoWatchAndScrollController10),z=window.getComputedStyle(this.$VideoWatchAndScrollController10),aa=parseInt(z.width,10);if(c('VideoPlayerExperiments').persistentWNSEnabled)aa=aa||l;x=aa+y.left-m;}else{var ba=document.getElementById('timeline_tab_content');if(!ba){var ca=document.getElementById('pagelet_timeline_main_column');if(ca){ba=ca.parentNode;}else ba=document.getElementById('contentArea');}if(ba){var da=this.$VideoWatchAndScrollController70(ba).left;x=da-2*m;}}return x;};v.prototype.$VideoWatchAndScrollController62=function(w){'use strict';var x=!w&&this.$VideoWatchAndScrollController9,y={left:0},z=16,aa=9;if(!x){y=this.$VideoWatchAndScrollController70(w);aa=1;z=parseFloat(w.getAttribute('data-original-aspect-ratio'));var ba=w.parentElement;if((!z||aa===0)&&ba){y=this.$VideoWatchAndScrollController70(ba);z=ba.scrollWidth;aa=ba.scrollHeight;}}var ca=q,da=p;if(z<aa){ca*=z/aa;da*=z/aa;}var ea=this.$VideoWatchAndScrollController78(),fa=m;if(this.$VideoWatchAndScrollController12)fa+=this.$VideoWatchAndScrollController12.scrollHeight;fa=Math.max(fa,o);var ga=ea>da?ea-da+m:m;ga=Math.max(ga,m);var ha=c('shouldWNSRenderToRHC')()?ea:Math.max(Math.min(ea,da),q),ia=ha*aa/z;return {hasEnoughSpace:!!x||ea>=ca,height:ia,left:ga,top:fa,width:ha};};v.hasEnoughSpaceToEnter=function(w){'use strict';if(!t||!w||!w.getVideoNode())return false;var x=w.getVideoNode(),y=1,z=parseFloat(x.getAttribute('data-original-aspect-ratio')),aa=x.parentElement;if((!z||y===0)&&aa){z=aa.scrollWidth;y=aa.scrollHeight;}var ba=q;if(z<y)ba*=z/y;return t.$VideoWatchAndScrollController78()>ba;};v.prototype.$VideoWatchAndScrollController75=function(w){'use strict';this.$VideoWatchAndScrollController21=this.$VideoWatchAndScrollController70(w);this.$VideoWatchAndScrollController27=w.scrollWidth;this.$VideoWatchAndScrollController28=w.scrollHeight;var x=Math.max(this.$VideoWatchAndScrollController27,this.$VideoWatchAndScrollController28);if(x<q){var y=q/x;this.$VideoWatchAndScrollController27*=y;this.$VideoWatchAndScrollController28*=y;}this.$VideoWatchAndScrollController20=this.$VideoWatchAndScrollController21.top+this.$VideoWatchAndScrollController28*.75-n;this.$VideoWatchAndScrollController46=this.$VideoWatchAndScrollController62(w);this.$VideoWatchAndScrollController29=!this.$VideoWatchAndScrollController46.hasEnoughSpace;};v.prototype.$VideoWatchAndScrollController76=function(){'use strict';if(this.$VideoWatchAndScrollController19.isIntentionallyViewing()){this.$VideoWatchAndScrollController79(this.$VideoWatchAndScrollController80.bind(this));this.$VideoWatchAndScrollController80();}else this.$VideoWatchAndScrollController53();};v.isVideoAlmostFinished=function(w){'use strict';var x=w.getPlaybackDuration(),y=w.getCurrentTimePosition(),z=c('VideoWatchAndScrollVariables').noWNSRemainingTime;if(x*.2<z){return y/x>.8;}else return x-y<z;};v.isSlidingEnabled=function(w){'use strict';var x=t;if(x==null)return false;var y=x.$VideoWatchAndScrollController19;if(y==null||y!==w)return false;if(x.$VideoWatchAndScrollController29||!w.isIntentionallyViewing()||!w.getVideoNode().offsetParent||v.isVideoAlmostFinished(w)||w.hasLooped()){x.$VideoWatchAndScrollController53();return false;}return true;};v.prototype.$VideoWatchAndScrollController80=function(){'use strict';var w=this.$VideoWatchAndScrollController19;if(w==null)return;if(!w.isIntentionallyViewing()||!w.getVideoNode().offsetParent){this.$VideoWatchAndScrollController53();return;}if(window.scrollY>this.$VideoWatchAndScrollController20&&v.isSlidingEnabled(w)){this.$VideoWatchAndScrollController81();this.$VideoWatchAndScrollController60(w,c('VideoPlayerReason').AUTOPLAY,false,true);this.$VideoWatchAndScrollController53();}};v.prototype.$VideoWatchAndScrollController81=function(){'use strict';this.$VideoWatchAndScrollController47=this.$VideoWatchAndScrollController48;};v.prototype.$VideoWatchAndScrollController79=function(w){'use strict';window.removeEventListener('scroll',this.$VideoWatchAndScrollController26);this.$VideoWatchAndScrollController26=w||null;window.addEventListener('scroll',this.$VideoWatchAndScrollController26);c('cancelAnimationFrame')(this.$VideoWatchAndScrollController32);delete this.$VideoWatchAndScrollController32;};v.prototype.$VideoWatchAndScrollController53=function(){'use strict';window.removeEventListener('resize',this.$VideoWatchAndScrollController25);this.$VideoWatchAndScrollController79();delete this.$VideoWatchAndScrollController19;this.$VideoWatchAndScrollController29=false;};v.prototype.$VideoWatchAndScrollController64=function(w){'use strict';this.$VideoWatchAndScrollController53();if(this.$VideoWatchAndScrollController4&&this.$VideoWatchAndScrollController16!==w){this.$VideoWatchAndScrollController22=w;this.$VideoWatchAndScrollController82();}else{this.$VideoWatchAndScrollController46=this.$VideoWatchAndScrollController62(w.getVideoNode());this.$VideoWatchAndScrollController81();this.$VideoWatchAndScrollController60(w,c('VideoPlayerReason').USER);}};v.prototype.$VideoWatchAndScrollController60=function(w,x,y,z){'use strict';var aa=!!this.$VideoWatchAndScrollController45;if(this.$VideoWatchAndScrollController45){clearTimeout(this.$VideoWatchAndScrollController45);this.$VideoWatchAndScrollController45=null;c('ReactDOM').unmountComponentAtNode(this.$VideoWatchAndScrollController83());this.$VideoWatchAndScrollController54();}var ba=this.$VideoWatchAndScrollController1&&(y||z)&&!!this.$VideoWatchAndScrollController17;if(ba){this.$VideoWatchAndScrollController36=0;this.$VideoWatchAndScrollController35=[];this.$VideoWatchAndScrollController38=[];this.$VideoWatchAndScrollController41=this.$VideoWatchAndScrollController17;this.$VideoWatchAndScrollController43=babelHelpers['extends']({},this.$VideoWatchAndScrollController8);this.$VideoWatchAndScrollController44=this.$VideoWatchAndScrollController18;this.$VideoWatchAndScrollController40=this.$VideoWatchAndScrollController14;this.$VideoWatchAndScrollController42=this.$VideoWatchAndScrollController2;this.$VideoWatchAndScrollController2=null;this.$VideoWatchAndScrollController13&&this.$VideoWatchAndScrollController13.remove();this.$VideoWatchAndScrollController31.release();this.$VideoWatchAndScrollController31=new (c('SubscriptionsHandler'))();}this.$VideoWatchAndScrollController17=w;this.$VideoWatchAndScrollController16=this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController36>0?this.$VideoWatchAndScrollController84(this.$VideoWatchAndScrollController36):w;if(this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController35.length>this.$VideoWatchAndScrollController36)this.$VideoWatchAndScrollController84(this.$VideoWatchAndScrollController36+1).preload();this.$VideoWatchAndScrollController15=this.$VideoWatchAndScrollController16.getRootNode();var ca=!this.$VideoWatchAndScrollController1||!this.$VideoWatchAndScrollController16.isMuted(),da=!this.$VideoWatchAndScrollController1||this.$VideoWatchAndScrollController16.isState('playing'),ea=this.$VideoWatchAndScrollController1&&this.$VideoWatchAndScrollController16.isState('finished');if(!this.$VideoWatchAndScrollController1||ba){if(!this.$VideoWatchAndScrollController9)c('VideoChannelLogger').startSession(this.$VideoWatchAndScrollController17.getVideoID(),this.$VideoWatchAndScrollController17.getVideoChannelID(),this.$VideoWatchAndScrollController34);if(!y||aa){if(aa)this.$VideoWatchAndScrollController46=this.$VideoWatchAndScrollController62(this.$VideoWatchAndScrollController15);this.$VideoWatchAndScrollController51(this.$VideoWatchAndScrollController15);}if(this.$VideoWatchAndScrollController9){this.$VideoWatchAndScrollController8=this.$VideoWatchAndScrollController9;if(this.$VideoWatchAndScrollController8.videoRootNode){this.$VideoWatchAndScrollController18=this.$VideoWatchAndScrollController85(this.$VideoWatchAndScrollController8.dimensions,this.$VideoWatchAndScrollController17.getVideoNode());c('DOM').appendContent(this.$VideoWatchAndScrollController8.videoRootNode,this.$VideoWatchAndScrollController18);var fa=c('DOM').scry(this.$VideoWatchAndScrollController8.videoRootNode,"._344x"),ga=fa[0];if(ga)c('DOM').remove(ga);}}else{this.$VideoWatchAndScrollController8={videoRootNode:this.$VideoWatchAndScrollController15.parentNode,dimensions:c('DOMDimensions').getElementDimensions(this.$VideoWatchAndScrollController15),source:this.$VideoWatchAndScrollController16.getSource()};this.$VideoWatchAndScrollController18=this.$VideoWatchAndScrollController85(this.$VideoWatchAndScrollController8.dimensions,this.$VideoWatchAndScrollController16.getVideoNode());c('DOM').insertAfter(this.$VideoWatchAndScrollController15,this.$VideoWatchAndScrollController18);}var ha=null;if(this.$VideoWatchAndScrollController9)ha=this.$VideoWatchAndScrollController9.videoRootNode;if(!ha&&this.$VideoWatchAndScrollController15)ha=this.$VideoWatchAndScrollController15.parentNode;if(ha)this.$VideoWatchAndScrollController13=c('EventListener').listen(ha,'click',function(){this.$VideoWatchAndScrollController65();w.play(c('VideoPlayerReason').USER);setTimeout(function(){this.$VideoWatchAndScrollController66(w,'beginPlayback',{reason:c('VideoPlayerReason').USER});}.bind(this),s);}.bind(this));this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);if(this.$VideoWatchAndScrollController16.isPlayerVersion('silvercity'))this.$VideoWatchAndScrollController16.detachRootNode();var ia=this.$VideoWatchAndScrollController7?this.$VideoWatchAndScrollController7.width:this.$VideoWatchAndScrollController6,ja=this.$VideoWatchAndScrollController7?this.$VideoWatchAndScrollController7.height:this.$VideoWatchAndScrollController5;this.$VideoWatchAndScrollController16.setDimensions(ia,ja);this.$VideoWatchAndScrollController4=true;if(ba)this.$VideoWatchAndScrollController86();this.$VideoWatchAndScrollController14=this.$VideoWatchAndScrollController87();}else{this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);this.$VideoWatchAndScrollController63();}da&&this.$VideoWatchAndScrollController16.play(x);if(ca){this.$VideoWatchAndScrollController16.unmute();if(this.$VideoWatchAndScrollController16.getVolume()===0){var ka=c('VideoPlayerVolumeSettings').getLastVolumeBeforeMute()||1;this.$VideoWatchAndScrollController16.setVolume(ka);this.$VideoWatchAndScrollController16.emit('unmuteVideo');}}if(ea)this.$VideoWatchAndScrollController72(this.$VideoWatchAndScrollController16);this.$VideoWatchAndScrollController16.updateSource(c('VideoPlayerLoggerSource').WATCH_SCROLL);var la=this.$VideoWatchAndScrollController33;if((!this.$VideoWatchAndScrollController1||ba)&&la){la.abandonRequest();if(!this.$VideoWatchAndScrollController9)la.reset(w.getVideoID(),w.getVideoChannelID());this.$VideoWatchAndScrollController88();this.$VideoWatchAndScrollController58(w);this.$VideoWatchAndScrollController59(w);}this.$VideoWatchAndScrollController1=true;if(c('shouldWNSRenderToRHC')()||u)c('Arbiter').inform('VideoWatchAndScrollController/start');};v.prototype.$VideoWatchAndScrollController58=function(w){'use strict';if(!w.hasOption('WatchAndScroll','isActive'))w.registerOption('WatchAndScroll','isActive',v.isActive);};v.prototype.$VideoWatchAndScrollController59=function(w){'use strict';this.$VideoWatchAndScrollController31.addSubscriptions(this.$VideoWatchAndScrollController73(w),w.addListener('VideoChannelController/enterChannel',function(){this.$VideoWatchAndScrollController31.release();}.bind(this)),w.addListener('WatchAndScroll/close',function(){this.$VideoWatchAndScrollController65();var x=c('XVideoWNSSurveyController').getURIBuilder().getURI(),y=new (c('AsyncRequest'))().setURI(x);y.send();}.bind(this)));};v.prototype.$VideoWatchAndScrollController89=function(){'use strict';if(!this.$VideoWatchAndScrollController14)return;this.$VideoWatchAndScrollController14.setState({endScreenShown:false});if(this.$VideoWatchAndScrollController16)this.$VideoWatchAndScrollController16.play(c('VideoPlayerReason').USER);};v.prototype.$VideoWatchAndScrollController55=function(w,x){'use strict';if(!u)return;if(!this.$VideoWatchAndScrollController49.some(function(y){var z=y[0];return z===w;}))this.$VideoWatchAndScrollController49.push([w,x]);};v.prototype.$VideoWatchAndScrollController71=function(w,x){'use strict';var y=this.$VideoWatchAndScrollController14;if(!y)return;v.registerChannelVideoController(w);this.$VideoWatchAndScrollController90(w);this.$VideoWatchAndScrollController91(w);var z=y.getChannelVideoElements(),aa=1+this.$VideoWatchAndScrollController36;y.setState({channelVideoElements:[].concat(z.slice(0,aa),w.getRootNode(),z.slice(aa))});this.$VideoWatchAndScrollController38=[].concat(this.$VideoWatchAndScrollController38.slice(0,aa),x,this.$VideoWatchAndScrollController38.slice(aa));};v.prototype.$VideoWatchAndScrollController90=function(w){'use strict';var x=w.getRootNode();this.$VideoWatchAndScrollController50[x.id]=x.parentElement.id;};v.prototype.$VideoWatchAndScrollController92=function(){'use strict';var w=this.$VideoWatchAndScrollController14;if(!w)return;var x=Object.keys(this.$VideoWatchAndScrollController50);w.getChannelVideoElements().forEach(function(y,z){if(!x.includes(y.id))return;var aa=this.$VideoWatchAndScrollController50[y.id],ba=c('ge')(aa),ca=this.$VideoWatchAndScrollController93(ba);if(!ca)return;var da=c('DOMDimensions').getElementDimensions(ca),ea=da.width,fa=da.height;c('DOM').insertBefore(ca,y);c('DOM').remove(ca);this.$VideoWatchAndScrollController84(z).setDimensions(ea,fa);delete this.$VideoWatchAndScrollController50[y.id];}.bind(this));};v.prototype.$VideoWatchAndScrollController93=function(w){'use strict';var x="._57n6",y=c('DOM').scry(w,x),z=y[0].parentNode;return z;};v.prototype.$VideoWatchAndScrollController91=function(w){'use strict';var x=w.getRootNode(),y=c('DOMDimensions').getElementDimensions(x),z=this.$VideoWatchAndScrollController85(y,x);c('DOM').insertAfter(x,z);c('DOM').remove(x);this.$VideoWatchAndScrollController13=c('EventListener').listen(z,'click',function(){this.$VideoWatchAndScrollController65();w.play(c('VideoPlayerReason').USER);setTimeout(function(){this.$VideoWatchAndScrollController66(w,'beginPlayback',{reason:c('VideoPlayerReason').USER});}.bind(this),s);}.bind(this));};v.prototype.$VideoWatchAndScrollController88=function(){'use strict';if(!this.$VideoWatchAndScrollController47)return;if(u)return;this.$VideoWatchAndScrollController33.fetchStories(true,function(w,x){var y=this.$VideoWatchAndScrollController14;if(!w||!w.length||!y)return;var z=y.getChannelVideoElements().concat(w);y.setState({channelVideoElements:z},function(){setTimeout(function(){this.$VideoWatchAndScrollController84(this.$VideoWatchAndScrollController36+1).preload();}.bind(this));}.bind(this));this.$VideoWatchAndScrollController38=this.$VideoWatchAndScrollController38.concat(x);}.bind(this));};v.prototype.$VideoWatchAndScrollController84=function(w){'use strict';var x=this.$VideoWatchAndScrollController14?this.$VideoWatchAndScrollController14.getChannelVideoElements():[],y=[this.$VideoWatchAndScrollController17].concat(this.$VideoWatchAndScrollController35),z=null;y.forEach(function(aa){if(x[w].contains(aa.getRootNode()))z=aa;});z||j(0);return z;};v.prototype.$VideoWatchAndScrollController63=function(){'use strict';var w=this.$VideoWatchAndScrollController16.isMuted();this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);if(this.$VideoWatchAndScrollController16!==this.$VideoWatchAndScrollController17)this.$VideoWatchAndScrollController16.abortLoading();this.$VideoWatchAndScrollController16=this.$VideoWatchAndScrollController84(this.$VideoWatchAndScrollController36);this.$VideoWatchAndScrollController15=this.$VideoWatchAndScrollController16.getRootNode();var x=this.$VideoWatchAndScrollController16.getVideoNode(),y=parseFloat(x.getAttribute('data-original-aspect-ratio'));if(!y)y=16/9;var z=this.$VideoWatchAndScrollController46;if(!z)z=this.$VideoWatchAndScrollController62(x);this.$VideoWatchAndScrollController14&&(z.width=this.$VideoWatchAndScrollController14.getWidth());z.height=z.width/y;if(z.height>p){z.height=p;z.width=z.height*y;}this.$VideoWatchAndScrollController16.setDimensions(z.width,z.height);this.$VideoWatchAndScrollController51(x);this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController14.setState({videoIndex:this.$VideoWatchAndScrollController36,width:z.width,height:z.height});this.$VideoWatchAndScrollController46=z;this.$VideoWatchAndScrollController16.play(c('VideoPlayerReason').AUTOPLAY);w&&this.$VideoWatchAndScrollController16.mute();if(this.$VideoWatchAndScrollController35.length<=this.$VideoWatchAndScrollController36){this.$VideoWatchAndScrollController88();}else this.$VideoWatchAndScrollController84(this.$VideoWatchAndScrollController36+1).preload();};v.prototype.$VideoWatchAndScrollController94=function(){'use strict';var w=m;if(this.$VideoWatchAndScrollController12)w+=this.$VideoWatchAndScrollController12.scrollHeight;return Math.max(w,o);};v.prototype.$VideoWatchAndScrollController51=function(w){'use strict';if(this.$VideoWatchAndScrollController46){this.$VideoWatchAndScrollController7={height:this.$VideoWatchAndScrollController46.height,left:this.$VideoWatchAndScrollController46.left,top:this.$VideoWatchAndScrollController46.top,width:this.$VideoWatchAndScrollController46.width};return;}if(w){var x=w.scrollWidth,y=w.scrollHeight,z=this.$VideoWatchAndScrollController77(w),aa=z*y/x;this.$VideoWatchAndScrollController7.height=aa;this.$VideoWatchAndScrollController7.width=z;}else this.$VideoWatchAndScrollController7={height:this.$VideoWatchAndScrollController5,left:m,top:this.$VideoWatchAndScrollController94(),width:this.$VideoWatchAndScrollController6};};v.prototype.$VideoWatchAndScrollController85=function(w,x){'use strict';var y=c('DOM').create('canvas',{className:"_57n6"});y.height=w.height;y.width=w.width;if(y.getContext&&y.getContext('2d'))if(x.scrollHeight===0){var z=c('DOM').scry(x.parentNode,"._3t5i"),aa=z[0];if(aa){var ba=y.getContext('2d');ba.drawImage(aa,0,0);}}else if(x instanceof window.HTMLVideoElement){var ca=new (c('VideoFrameBuffer'))(y,x);ca.updateFrameBuffer();}var da=c('DOM').create('div');da.appendChild(y);var ea=c('DOM').create('i',{className:"_1jto _bsl _3htz"});da.appendChild(ea);return da;};v.prototype.$VideoWatchAndScrollController65=function(){'use strict';if(this.$VideoWatchAndScrollController19)this.$VideoWatchAndScrollController53();if(u)this.$VideoWatchAndScrollController92();this.$VideoWatchAndScrollController82();};v.prototype.$VideoWatchAndScrollController95=function(){'use strict';var w=this.$VideoWatchAndScrollController85(this.$VideoWatchAndScrollController7,this.$VideoWatchAndScrollController16.getVideoNode(),true);this.$VideoWatchAndScrollController14&&this.$VideoWatchAndScrollController14.setState({fadeOut:true,fadeOutPlaceholder:w});this.$VideoWatchAndScrollController96(this.$VideoWatchAndScrollController17,this.$VideoWatchAndScrollController8);if(this.$VideoWatchAndScrollController18){c('DOM').remove(this.$VideoWatchAndScrollController18);this.$VideoWatchAndScrollController18=null;}if(this.$VideoWatchAndScrollController13){this.$VideoWatchAndScrollController13.remove();this.$VideoWatchAndScrollController13=null;}};v.prototype.$VideoWatchAndScrollController96=function(w,x,y){'use strict';var z=w.getOption('VideoWithLiveBroadcast','isLive');w.pause(c('VideoPlayerReason').USER);if(w.isPlayerVersion('silvercity'))w.detachRootNode();y&&c('ReactDOM').unmountComponentAtNode(y);if(x.dimensions&&x.dimensions.width&&x.dimensions.height)w.setDimensions(x.dimensions.width,x.dimensions.height);if(x.videoRootNode)c('DOM').prependContent(x.videoRootNode,w.getRootNode());w.emit('WatchAndScroll/positionUpdated');w.updateSource(x.source||c('VideoPlayerLoggerSource').INLINE);var aa=this.$VideoWatchAndScrollController70(w.getVideoNode()),ba=aa.top,ca=c('getViewportDimensions')().height;if(w.getSource()!==c('VideoPlayerLoggerSource').PERMALINK)w.mute();if(ba<window.scrollY||ba>window.scrollY+ca){w.pause(c('VideoPlayerReason').AUTOPLAY);w.emit('resumeAutoplay');}else w.play(c('VideoPlayerReason').USER);};v.prototype.$VideoWatchAndScrollController86=function(){'use strict';this.$VideoWatchAndScrollController4||j(0);this.$VideoWatchAndScrollController40||j(0);this.$VideoWatchAndScrollController40.setState({fadeOut:true});this.$VideoWatchAndScrollController45=setTimeout(function(){this.$VideoWatchAndScrollController41||j(0);this.$VideoWatchAndScrollController42||j(0);this.$VideoWatchAndScrollController96(this.$VideoWatchAndScrollController41,this.$VideoWatchAndScrollController43,this.$VideoWatchAndScrollController42);if(this.$VideoWatchAndScrollController44){c('DOM').remove(this.$VideoWatchAndScrollController44);this.$VideoWatchAndScrollController44=null;}this.$VideoWatchAndScrollController45=null;}.bind(this),s);};v.prototype.$VideoWatchAndScrollController54=function(w){'use strict';this.$VideoWatchAndScrollController4||j(0);if(w){this.$VideoWatchAndScrollController14||j(0);this.$VideoWatchAndScrollController35.forEach(function(x){return x.abortLoading();});this.$VideoWatchAndScrollController95();this.$VideoWatchAndScrollController45=setTimeout(function(){c('ReactDOM').unmountComponentAtNode(this.$VideoWatchAndScrollController83());this.$VideoWatchAndScrollController54();}.bind(this),s);return;}if(c('shouldWNSRenderToRHC')()||u)c('Arbiter').inform('VideoWatchAndScrollController/exit');this.$VideoWatchAndScrollController33&&this.$VideoWatchAndScrollController33.abandonRequest();this.$VideoWatchAndScrollController36=0;this.$VideoWatchAndScrollController1=false;this.$VideoWatchAndScrollController31.release();this.$VideoWatchAndScrollController31=new (c('SubscriptionsHandler'))();this.$VideoWatchAndScrollController8={};this.$VideoWatchAndScrollController16=null;this.$VideoWatchAndScrollController17=null;this.$VideoWatchAndScrollController4=false;this.$VideoWatchAndScrollController35=[];this.$VideoWatchAndScrollController38=[];this.$VideoWatchAndScrollController14=null;clearTimeout(this.$VideoWatchAndScrollController45);this.$VideoWatchAndScrollController45=null;if(this.$VideoWatchAndScrollController41&&this.$VideoWatchAndScrollController42&&this.$VideoWatchAndScrollController43)this.$VideoWatchAndScrollController96(this.$VideoWatchAndScrollController41,this.$VideoWatchAndScrollController43,this.$VideoWatchAndScrollController42);this.$VideoWatchAndScrollController41=null;this.$VideoWatchAndScrollController43={};if(this.$VideoWatchAndScrollController44){c('DOM').remove(this.$VideoWatchAndScrollController44);this.$VideoWatchAndScrollController44=null;}c('VideoAutoplayControllerX').setShouldAutoplay(true);this.$VideoWatchAndScrollController2=null;if(this.$VideoWatchAndScrollController22){this.$VideoWatchAndScrollController46=this.$VideoWatchAndScrollController62(this.$VideoWatchAndScrollController22.getVideoNode());this.$VideoWatchAndScrollController81();this.$VideoWatchAndScrollController60(this.$VideoWatchAndScrollController22,c('VideoPlayerReason').USER);this.$VideoWatchAndScrollController22=null;}this.$VideoWatchAndScrollController29=false;this.$VideoWatchAndScrollController46=null;c('VideoChannelLogger').endSession();};v.prototype.$VideoWatchAndScrollController87=function(){'use strict';return c('ReactDOM').render(c('React').createElement(c('VideoWatchAndScrollContainer.react'),{initialPosition:this.$VideoWatchAndScrollController7,initialVideoElement:this.$VideoWatchAndScrollController15,onChannelNavigation:this.$VideoWatchAndScrollController97.bind(this),onClick:this.$VideoWatchAndScrollController98.bind(this),onClose:this.$VideoWatchAndScrollController65.bind(this),onDoubleClick:this.$VideoWatchAndScrollController99.bind(this),onDrop:this.$VideoWatchAndScrollController100.bind(this),onGrab:this.$VideoWatchAndScrollController101.bind(this),onInitialPositionUpdate:this.$VideoWatchAndScrollController102.bind(this),onReplay:this.$VideoWatchAndScrollController89.bind(this)}),this.$VideoWatchAndScrollController83());};v.prototype.$VideoWatchAndScrollController82=function(){'use strict';if(this.$VideoWatchAndScrollController17)this.$VideoWatchAndScrollController17.emit('exitWatchAndScroll');};v.prototype.$VideoWatchAndScrollController97=function(w){'use strict';if(w>0&&this.$VideoWatchAndScrollController35.length<=this.$VideoWatchAndScrollController36){if(!c('shouldWNSRenderToRHC')())this.$VideoWatchAndScrollController65();return;}this.$VideoWatchAndScrollController36+=w;this.$VideoWatchAndScrollController63();if(c('shouldWNSRenderToRHC')())c('Arbiter').inform('VideoWatchAndScrollController/channelNavigate');};v.prototype.$VideoWatchAndScrollController101=function(){'use strict';if(this.$VideoWatchAndScrollController19)this.$VideoWatchAndScrollController53();var w=this.$VideoWatchAndScrollController16.getOption('VideoWithLiveBroadcast','isLive');if(w)return;this.$VideoWatchAndScrollController23=this.$VideoWatchAndScrollController16.isState('playing');this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);};v.prototype.$VideoWatchAndScrollController100=function(){'use strict';var w=this.$VideoWatchAndScrollController16.getOption('VideoWithLiveBroadcast','isLive');if(w)return;if(this.$VideoWatchAndScrollController23)this.$VideoWatchAndScrollController16.play(c('VideoPlayerReason').USER);this.$VideoWatchAndScrollController23=null;};v.prototype.$VideoWatchAndScrollController98=function(){'use strict';var w=this.$VideoWatchAndScrollController16.getOption('VideoWithLiveBroadcast','isLive');if(this.$VideoWatchAndScrollController19||w)return;if(this.$VideoWatchAndScrollController16.isState('playing')){this.$VideoWatchAndScrollController16.pause(c('VideoPlayerReason').USER);}else if(this.$VideoWatchAndScrollController16.isState('paused')||this.$VideoWatchAndScrollController16.isState('finished')||this.$VideoWatchAndScrollController16.isState('ready'))this.$VideoWatchAndScrollController16.play(c('VideoPlayerReason').USER);};v.prototype.$VideoWatchAndScrollController99=function(){'use strict';if(this.$VideoWatchAndScrollController19)return;var w=this.$VideoWatchAndScrollController16.getOption('VideoWithClickToChannelView','isChannelEligible'),x=this.$VideoWatchAndScrollController16.getVideoID()===this.$VideoWatchAndScrollController17.getVideoID();if(x&&!w)return;c('Bootloader').loadModules(["VideoChannelController"],function(y){this.$VideoWatchAndScrollController69();y.openFromVideoPlayer(this.$VideoWatchAndScrollController16,this.$VideoWatchAndScrollController16.getVideoChannelID(),this.$VideoWatchAndScrollController34,this.$VideoWatchAndScrollController68());}.bind(this),'VideoWatchAndScrollController');};v.prototype.pauseActiveVideo=function(w){'use strict';if(!this.$VideoWatchAndScrollController16)return;this.$VideoWatchAndScrollController16.pause(w);};v.pauseActiveVideo=function(){var w=arguments.length<=0||arguments[0]===undefined?c('VideoPlayerReason').USER:arguments[0];'use strict';if(!t)return;t.pauseActiveVideo(w);};v.prototype.playActiveVideo=function(w){'use strict';if(!this.$VideoWatchAndScrollController16)return;this.$VideoWatchAndScrollController16.play(w);};v.playActiveVideo=function(){var w=arguments.length<=0||arguments[0]===undefined?c('VideoPlayerReason').USER:arguments[0];'use strict';if(!t)return;t.playActiveVideo(w);};v.prototype.$VideoWatchAndScrollController102=function(w){'use strict';this.$VideoWatchAndScrollController7=w;if(this.$VideoWatchAndScrollController14&&!this.$VideoWatchAndScrollController14.getFadeOutStatus()){this.$VideoWatchAndScrollController16.setDimensions(w.width,w.height);this.$VideoWatchAndScrollController16.emit('WatchAndScroll/positionUpdated');}};v.prototype.$VideoWatchAndScrollController103=function(){'use strict';var w=c('DOM').create('div');if(c('shouldWNSRenderToRHC')()){c('ifRequired')('RHCVideoWNSController',function(x){return x.mount(w);});}else c('DOM').appendContent(document.body,w);return w;};v.prototype.$VideoWatchAndScrollController83=function(){'use strict';if(!this.$VideoWatchAndScrollController2)this.$VideoWatchAndScrollController2=this.$VideoWatchAndScrollController103();return this.$VideoWatchAndScrollController2;};f.exports=v;}),null);
__d('EmbeddedVideoControls',['csx','Arbiter','DeferredComponent.react','EventListener','FullScreen','Map','Parent','React','ReactDOM','VideoChannelViewVariables','VideoPlayerExperiments','VideoPlayerLoggerEvent','VideoPlayerLoggerSource','VideoPlayerReason','VideoPlayerUIComponentDrawer','VideoPlayerVersions','VideoWatchAndScrollController','cancelAnimationFrame','containsNode','destroyOnUnload','getActiveElement','logVideosClickTracking','requestAnimationFrame','throttle'],(function a(b,c,d,e,f,g,h){var i=c('VideoChannelViewVariables').channelRedesign;function j(k,l,m){'use strict';this.$EmbeddedVideoControls7=k;this.$EmbeddedVideoControls40=l;this.$EmbeddedVideoControls6=0;this.$EmbeddedVideoControls35=0;this.$EmbeddedVideoControls34=0;this.$EmbeddedVideoControls10=0;this.$EmbeddedVideoControls47=false;this.$EmbeddedVideoControls20=m.hideOnEvents.autoplay;this.$EmbeddedVideoControls21=m.hideOnEvents.finish;this.$EmbeddedVideoControls16=m.hideOnEvents.pause;this.$EmbeddedVideoControls17=m.hidePlaybackControl;this.$EmbeddedVideoControls18=m.hideRemainingTime;this.$EmbeddedVideoControls19=m.hideSettings;this.$EmbeddedVideoControls45=m.useTwoRows;this.$EmbeddedVideoControls23=m.isCommentAttachment;this.$EmbeddedVideoControls63=m.pointsOfInterestConfig||{};this.$EmbeddedVideoControls64=m.displayElapsedTime||false;this.$EmbeddedVideoControls65=m.adBreaksTimeOffset;this.$EmbeddedVideoControls66=m.showSpatialAudioNUX;this.$EmbeddedVideoControls30=false;var n=k.isPlayerVersion(c('VideoPlayerVersions').PLEASANTVILLE);this.$EmbeddedVideoControls14=m.showButtons.watchandscroll&&n;this.$EmbeddedVideoControls1=m.showButtons.casting;this.$EmbeddedVideoControls2=m.showButtons.fullscreen&&!!c('FullScreen').isSupported();this.$EmbeddedVideoControls3=m.showButtons.enqueue;this.$EmbeddedVideoControls33=m.permalinkURL;this.$EmbeddedVideoControls27=m.isLive;this.$EmbeddedVideoControls38=c('VideoPlayerExperiments').redesign;this.$EmbeddedVideoControls15=false;this.$EmbeddedVideoControls60=m.showQualitySelector;this.$EmbeddedVideoControls61=m.qualitySelectorMinStreams;this.$EmbeddedVideoControls49=this.enterWatchAndScroll.bind(this);this.$EmbeddedVideoControls51=this.play.bind(this);this.$EmbeddedVideoControls50=this.pause.bind(this);this.$EmbeddedVideoControls52=this.scrubBegin.bind(this);this.$EmbeddedVideoControls53=this.scrubEnd.bind(this);this.$EmbeddedVideoControls42=this.startCasting.bind(this);this.$EmbeddedVideoControls43=this.enqueueVideo.bind(this);this.$EmbeddedVideoControls44=this.stopCasting.bind(this);this.$EmbeddedVideoControls54=this.toggleFullscreen.bind(this);this.$EmbeddedVideoControls55=this.toggleHD.bind(this);this.$EmbeddedVideoControls56=this.toggleHLS.bind(this);this.$EmbeddedVideoControls57=this.toggleMuted.bind(this);this.$EmbeddedVideoControls58=this.toggleSubtitles.bind(this);this.$EmbeddedVideoControls48=this.changeVolume.bind(this);this.$EmbeddedVideoControls59=this.setPreferredVideoQuality.bind(this);this.$EmbeddedVideoControls62=this.$EmbeddedVideoControls7.registerDrawer(c('VideoPlayerUIComponentDrawer').priorities.EmbeddedControls,36);this.$EmbeddedVideoControls32=m.needsInitialVideoInfoUpdate;c('destroyOnUnload')(function(){return c('ReactDOM').unmountComponentAtNode(l);});var o=this.$EmbeddedVideoControls7.getRootNode();c('EventListener').listen(this.$EmbeddedVideoControls40,'focusin',function(){this.$EmbeddedVideoControls9=true;this.scheduleRenderReactComponent();}.bind(this));c('EventListener').listen(this.$EmbeddedVideoControls40,'focusout',function(){if(!c('containsNode')(this.$EmbeddedVideoControls40,c('getActiveElement')())){this.$EmbeddedVideoControls9=false;this.scheduleRenderReactComponent();}}.bind(this));c('EventListener').listen(o,'click',function(q){if(this.$EmbeddedVideoControls9&&q.detail)c('getActiveElement')().blur();}.bind(this));c('EventListener').listen(o,'mouseleave',function(){this.$EmbeddedVideoControls31=false;this.scheduleRenderReactComponent();}.bind(this));c('EventListener').listen(o,'mouseenter',function(){this.$EmbeddedVideoControls31=true;this.scheduleRenderReactComponent();}.bind(this));this.$EmbeddedVideoControls7.registerOption('VideoControls','acquireForceHideLock',function(){this.$EmbeddedVideoControls10++;return {release:function(){this.$EmbeddedVideoControls10--;this.scheduleRenderReactComponent();}.bind(this)};}.bind(this));this.$EmbeddedVideoControls7.registerOption('VideoControls','hideOnFinish',function(){return this.$EmbeddedVideoControls21;}.bind(this),function(q){this.$EmbeddedVideoControls21=q;}.bind(this));this.$EmbeddedVideoControls7.registerOption('VideoControls','hideOnPause',function(){return this.$EmbeddedVideoControls16;}.bind(this),function(q){this.$EmbeddedVideoControls16=q;}.bind(this));this.$EmbeddedVideoControls7.registerOption('VideoControls','available',function(){return true;});this.$EmbeddedVideoControls7.registerOption('VideoControls','areControlsVisible',this.areControlsVisible.bind(this));['mousemove','mousedown','keydown'].forEach(function(q){c('EventListener').listen(this.$EmbeddedVideoControls7.getRootNode(),q,c('throttle')(this.flashControls.bind(this),200));}.bind(this));this.scheduleRenderReactComponent();var p=['changeVolume','loadedSubtitles','muteVideo','pausePlayback','stateChange','toggleFullscreen','toggleSubtitles','updateMetadata','unmuteVideo','qualityChange','casting/receiverStateChange','casting/supportStateChange','casting/castingStateChange','casting/playStateChange'];p.forEach(function(event){return this.$EmbeddedVideoControls7.addListener(event,function(){return this.scheduleRenderReactComponentWithVideoInfoUpdate();}.bind(this));}.bind(this));this.$EmbeddedVideoControls7.addListener('beginPlayback',function(){return this.$EmbeddedVideoControls67();}.bind(this));this.$EmbeddedVideoControls7.addListener('updateStatus',function(q){this.$EmbeddedVideoControls35=q.position;this.scheduleRenderReactComponent();}.bind(this));this.$EmbeddedVideoControls7.addListener('casting/updateStatus',function(q){this.$EmbeddedVideoControls35=q.position;this.scheduleRenderReactComponent();}.bind(this));this.$EmbeddedVideoControls7.addListener('updateBuffer',function(q){this.$EmbeddedVideoControls6=q.duration+q.offset;this.scheduleRenderReactComponent();}.bind(this));this.$EmbeddedVideoControls7.addListener('optionsChange',function(q){this.$EmbeddedVideoControls68();}.bind(this));this.$EmbeddedVideoControls7.addListener('resumeAutoplay',function(q){this.$EmbeddedVideoControls69();this.scheduleRenderReactComponentWithVideoInfoUpdate();}.bind(this));this.$EmbeddedVideoControls7.addListener('turnOffAutoplay',function(q){this.$EmbeddedVideoControls22=false;}.bind(this));this.$EmbeddedVideoControls7.addListener('finishPlayback',function(){this.scheduleRenderReactComponent(true);}.bind(this));this.$EmbeddedVideoControls69();this.$EmbeddedVideoControls70();}j.prototype.enqueueVideo=function(){'use strict';c('Arbiter').inform('EmbeddedVideoControls/enqueueVideo',{controller:this.$EmbeddedVideoControls7,thumbnail:document.createElement('div')});};j.prototype.$EmbeddedVideoControls71=function(){'use strict';return this.$EmbeddedVideoControls7.isState('playing')&&this.$EmbeddedVideoControls7.getOption('FeedAutoplay','isAutoplaying');};j.prototype.$EmbeddedVideoControls70=function(){'use strict';this.$EmbeddedVideoControls41=this.$EmbeddedVideoControls7.getOption('VideoScrubberPreviewComponent','scrubberPreviewSprites');this.$EmbeddedVideoControls12=this.$EmbeddedVideoControls7.getOption('VideoScrubberPreviewComponent','hasPreviewThumbnails');this.$EmbeddedVideoControls36=this.$EmbeddedVideoControls7.getOption('VideoScrubberPreviewComponent','previewThumbnailInformation');};j.prototype.$EmbeddedVideoControls69=function(){'use strict';this.$EmbeddedVideoControls22=this.$EmbeddedVideoControls7.getOption('FeedAutoplay','isAutoplaying');};j.prototype.$EmbeddedVideoControls68=function(){'use strict';this.$EmbeddedVideoControls69();this.$EmbeddedVideoControls70();};j.prototype.$EmbeddedVideoControls67=function(){'use strict';this.flashControls();this.$EmbeddedVideoControls29=true;this.scheduleRenderReactComponentWithVideoInfoUpdate();};j.prototype.updateConfig_DEPRECATED=function(k,l){'use strict';this.$EmbeddedVideoControls33=k.permalinkURL||null;this.$EmbeddedVideoControls1=k.showButtons?k.showButtons.casting:false;this.$EmbeddedVideoControls27=!!k.isLive;this.scheduleRenderReactComponent();};j.prototype.flashControls=function(){'use strict';if(!this.$EmbeddedVideoControls37){this.$EmbeddedVideoControls37=true;this.scheduleRenderReactComponent();}clearTimeout(this.$EmbeddedVideoControls8);this.$EmbeddedVideoControls8=setTimeout(function(){this.$EmbeddedVideoControls37=false;this.scheduleRenderReactComponent();}.bind(this),3000);};j.prototype.areControlsVisible=function(){'use strict';if(!this.areControlsEnabled())return false;if(this.$EmbeddedVideoControls7.isState('playing')){if(this.$EmbeddedVideoControls72)return true;if(this.$EmbeddedVideoControls20&&this.$EmbeddedVideoControls22)return false;return this.$EmbeddedVideoControls9||this.$EmbeddedVideoControls31&&this.$EmbeddedVideoControls37;}else if(this.$EmbeddedVideoControls7.isState('finished')){return this.$EmbeddedVideoControls7.isFullscreen()||!this.$EmbeddedVideoControls21;}else if(this.$EmbeddedVideoControls7.isState('paused'))return this.$EmbeddedVideoControls7.isFullscreen()||!this.$EmbeddedVideoControls16;return false;};j.prototype.areControlsEnabled=function(){'use strict';if(this.$EmbeddedVideoControls10>0||this.$EmbeddedVideoControls7.isState('loading')||this.$EmbeddedVideoControls7.isState('fallback')||this.$EmbeddedVideoControls7.isState('finished')&&this.$EmbeddedVideoControls21&&!this.$EmbeddedVideoControls7.isFullscreen())return false;return true;};j.prototype.scheduleRenderReactComponentWithVideoInfoUpdate=function(){'use strict';this.$EmbeddedVideoControls32=true;this.scheduleRenderReactComponent(true);};j.prototype.shouldRenderComponent=function(){'use strict';if(this.$EmbeddedVideoControls7.isState('loading')||this.$EmbeddedVideoControls7.isState('fallback'))return false;if(this.areControlsVisible()){this.$EmbeddedVideoControls15=false;return true;}if(!this.$EmbeddedVideoControls15){this.$EmbeddedVideoControls15=true;return true;}return false;};j.prototype.scheduleRenderReactComponent=function(){var k=arguments.length<=0||arguments[0]===undefined?false:arguments[0];'use strict';if(!k&&!this.shouldRenderComponent())return;c('cancelAnimationFrame')(this.$EmbeddedVideoControls39);this.$EmbeddedVideoControls39=c('requestAnimationFrame')(this.renderReactComponent.bind(this));};j.prototype.renderReactComponent=function(){'use strict';if(this.$EmbeddedVideoControls32)this.$EmbeddedVideoControls73();var k=this.areControlsVisible();if(this.$EmbeddedVideoControls47!==k){this.$EmbeddedVideoControls7.emit('VideoControls/visibilityUpdate',{areControlsVisible:k});if(k){this.$EmbeddedVideoControls62.reserve();}else this.$EmbeddedVideoControls62.release();}this.$EmbeddedVideoControls47=k;var l=this.$EmbeddedVideoControls7.getAvailableVideoQualities(),m=this.$EmbeddedVideoControls7.getSelectedVideoQuality(),n=this.$EmbeddedVideoControls7.canAutoSelectVideoQuality(),o=this.$EmbeddedVideoControls7.getStreamingFormat(),p=null;if(this.$EmbeddedVideoControls7.hasOption('LiveHeatmap','interestLevels'))p=this.$EmbeddedVideoControls7.getOption('LiveHeatmap','interestLevels');var q=this.$EmbeddedVideoControls30;this.$EmbeddedVideoControls30=c('VideoPlayerExperiments').slidingWNSv3&&this.$EmbeddedVideoControls14&&c('VideoWatchAndScrollController').isSlidingEnabled(this.$EmbeddedVideoControls7);if(q!==this.$EmbeddedVideoControls30)this.$EmbeddedVideoControls7.logEvent(this.$EmbeddedVideoControls30?c('VideoPlayerLoggerEvent').WATCH_AND_SCROLL_ICON_HIGHLIGHTED:c('VideoPlayerLoggerEvent').WATCH_AND_SCROLL_ICON_UNHIGHLIGHTED);c('ReactDOM').render(c('React').createElement(c('DeferredComponent.react'),{deferredPlaceholder:c('React').createElement('span',null),deferredComponent:function r(s){return e(['EmbeddedVideoControls.react'],s);},allowCasting:this.$EmbeddedVideoControls1,allowFullscreen:this.$EmbeddedVideoControls2,allowEnqueuing:this.$EmbeddedVideoControls3,areSubtitlesActive:this.$EmbeddedVideoControls4,areHLSActive:this.$EmbeddedVideoControls5,bufferedPosition:this.$EmbeddedVideoControls6,finishedPlaying:this.$EmbeddedVideoControls7.isState('finished'),hasFoundReceiver:this.hasFoundReceiver(),hasHD:this.$EmbeddedVideoControls11,hasSubtitles:this.$EmbeddedVideoControls13,hasWatchAndScroll:this.$EmbeddedVideoControls14&&!this.getIsInChannel(),hidden:!this.areControlsEnabled(),isCasting:this.isCasting(),isCastingSupported:this.isCastingSupported(),isCommentAttachment:this.$EmbeddedVideoControls23,isFullscreen:this.$EmbeddedVideoControls24,isHD:this.$EmbeddedVideoControls25,isInline:this.$EmbeddedVideoControls26,isLive:this.$EmbeddedVideoControls27,isMuted:this.$EmbeddedVideoControls28,isPlaying:this.$EmbeddedVideoControls29,isSidePaneOpen:this.getIsInChannel()&&!!c('Parent').bySelector(this.$EmbeddedVideoControls40,"._57bj"),isSlidingWNSEligible:this.$EmbeddedVideoControls30,interestLevels:p,drawer:this.$EmbeddedVideoControls62,onEnterWatchAndScroll:this.$EmbeddedVideoControls49,onEnqueueVideo:this.$EmbeddedVideoControls43,onPause:this.$EmbeddedVideoControls50,onPlay:this.$EmbeddedVideoControls51,onScrubBegin:this.$EmbeddedVideoControls52,onScrubEnd:this.$EmbeddedVideoControls53,onSidePaneToggle:function r(){c('Arbiter').inform('VideoChannelView/sidePaneToggle',{});},onStartCast:this.$EmbeddedVideoControls42,onStopCast:this.$EmbeddedVideoControls44,onToggleFullscreen:this.$EmbeddedVideoControls54,onToggleHD:this.$EmbeddedVideoControls55,onToggleHLS:this.$EmbeddedVideoControls56,onToggleMuted:this.$EmbeddedVideoControls57,onToggleSubtitles:this.$EmbeddedVideoControls58,onVolumeChange:this.$EmbeddedVideoControls48,permalinkURL:this.$EmbeddedVideoControls33,playbackDuration:this.$EmbeddedVideoControls34,playbackPosition:this.$EmbeddedVideoControls35,transparent:!k,redesign:this.$EmbeddedVideoControls38,hidePlaybackControl:this.$EmbeddedVideoControls17,hideRemainingTime:this.$EmbeddedVideoControls18,hideSettings:this.$EmbeddedVideoControls19,useTwoRows:this.$EmbeddedVideoControls45,volume:this.$EmbeddedVideoControls46,scrubberPreviewSprites:this.$EmbeddedVideoControls41,hasScrubberPreview:this.$EmbeddedVideoControls12,previewThumbnailInformation:this.$EmbeddedVideoControls36,availableQualities:l,selectedQuality:m,canAutoSelectVideoQuality:n,onSelectQuality:this.$EmbeddedVideoControls59,showQualitySelector:this.$EmbeddedVideoControls60,qualitySelectorMinStreams:this.$EmbeddedVideoControls61,streamingFormat:o,showSpatialAudioNUX:this.$EmbeddedVideoControls66,onPointOfInterestSelect:this.$EmbeddedVideoControls63.onPointOfInterestSelect,currentPointOfInterest:this.$EmbeddedVideoControls63.currentPointOfInterest,pointsOfInterest:this.$EmbeddedVideoControls63.pointsOfInterest,displayElapsedTime:this.$EmbeddedVideoControls64,adBreaksTimeOffset:this.$EmbeddedVideoControls65,showSidePaneToggle:this.getIsInChannel()&&!this.$EmbeddedVideoControls24&&i}),this.$EmbeddedVideoControls40);};j.prototype.$EmbeddedVideoControls73=function(){'use strict';var k=this.$EmbeddedVideoControls7.getVideoInfo_DEPRECATED();if(k){this.$EmbeddedVideoControls4=k.areSubtitlesActive;this.$EmbeddedVideoControls13=k.hasSubtitles;this.$EmbeddedVideoControls11=k.hasHD;this.$EmbeddedVideoControls25=k.isHD;this.$EmbeddedVideoControls28=k.isMuted;this.$EmbeddedVideoControls29=k.isPlaying||this.isCastPlaying();this.$EmbeddedVideoControls34=k.playbackDuration;this.$EmbeddedVideoControls46=k.volume;var l=this.$EmbeddedVideoControls7.getOption('CommercialBreakVideoAdOverlay','videoController');if(l){this.$EmbeddedVideoControls24=l.isFullscreen();}else this.$EmbeddedVideoControls24=this.$EmbeddedVideoControls7.isFullscreen();this.$EmbeddedVideoControls26=this.$EmbeddedVideoControls7.getSource()===c('VideoPlayerLoggerSource').INLINE||this.$EmbeddedVideoControls7.getSource()===c('VideoPlayerLoggerSource').CONTINUE_WATCHING_RECOMMENDATION;this.$EmbeddedVideoControls27=k.isLiveStream;this.$EmbeddedVideoControls5=k.areHLSActive;this.$EmbeddedVideoControls32=false;}};j.prototype.toggleHD=function(){'use strict';this.$EmbeddedVideoControls7.toggleHD();};j.prototype.setPreferredVideoQuality=function(k){'use strict';if(k){this.$EmbeddedVideoControls7.setPreferredVideoQuality(k);}else this.$EmbeddedVideoControls7.unsetPreferredVideoQuality();};j.prototype.toggleHLS=function(){'use strict';this.$EmbeddedVideoControls7.switchToStreamType('hls');};j.prototype.enterWatchAndScroll=function(){'use strict';this.$EmbeddedVideoControls7.emit('enterWatchAndScroll');};j.prototype.scrubBegin=function(){'use strict';if(!this.isCasting())this.$EmbeddedVideoControls7.pause(c('VideoPlayerReason').SEEK);};j.prototype.scrubEnd=function(k){'use strict';this.$EmbeddedVideoControls7.seek(k);this.$EmbeddedVideoControls35=k;if(!this.isCasting()&&this.$EmbeddedVideoControls29)this.$EmbeddedVideoControls7.play(c('VideoPlayerReason').SEEK);};j.prototype.toggleMuted=function(){'use strict';if(this.$EmbeddedVideoControls7.isMuted()){c('logVideosClickTracking')(this.$EmbeddedVideoControls7.getVideoNode());this.$EmbeddedVideoControls7.unmute();}else this.$EmbeddedVideoControls7.mute();};j.prototype.toggleFullscreen=function(){'use strict';if(!this.$EmbeddedVideoControls7.isFullscreen())c('logVideosClickTracking')(this.$EmbeddedVideoControls7.getVideoNode());this.$EmbeddedVideoControls7.toggleFullscreen();};j.prototype.toggleSubtitles=function(){'use strict';this.$EmbeddedVideoControls7.toggleSubtitles();this.scheduleRenderReactComponent();};j.prototype.changeVolume=function(k){'use strict';this.$EmbeddedVideoControls7.setVolume(k);};j.prototype.play=function(){'use strict';c('logVideosClickTracking')(this.$EmbeddedVideoControls7.getVideoNode());if(this.isCasting()){this.$EmbeddedVideoControls7.setOption('casting','isPlaying',true);}else this.$EmbeddedVideoControls7.play(c('VideoPlayerReason').USER);};j.prototype.pause=function(){'use strict';if(this.isCasting()){this.$EmbeddedVideoControls7.setOption('casting','isPlaying',false);}else this.$EmbeddedVideoControls7.pause(c('VideoPlayerReason').USER);};j.prototype.startCasting=function(){'use strict';this.$EmbeddedVideoControls7.setOption('casting','isCasting',true);};j.prototype.stopCasting=function(){'use strict';this.$EmbeddedVideoControls7.setOption('casting','isCasting',false);};j.prototype.isCastPlaying=function(){'use strict';return this.$EmbeddedVideoControls7.getOption('casting','isPlaying');};j.prototype.hasFoundReceiver=function(){'use strict';return this.$EmbeddedVideoControls7.getOption('casting','hasFoundReceiver');};j.prototype.isCasting=function(){'use strict';return this.$EmbeddedVideoControls7.getOption('casting','isCasting');};j.prototype.isCastingSupported=function(){'use strict';return this.$EmbeddedVideoControls7.getOption('casting','isSupported');};j.prototype.updatePointsOfInterestConfig=function(k){'use strict';Object.assign(this.$EmbeddedVideoControls63,k);this.scheduleRenderReactComponent();};j.prototype.updateDisplayElapsedTime=function(k){'use strict';this.$EmbeddedVideoControls64=k;this.scheduleRenderReactComponent();};j.prototype.getIsInChannel=function(){'use strict';return this.$EmbeddedVideoControls7.getIsInChannel();};f.exports=j;}),null);
__d('CustomAbrManager',['EventListener','SubscriptionsHandler','Shaka','VideoPlayerStreamSwitchReasons','VideoQualityClasses','VideoPlayerShakaExperiments'],(function a(b,c,d,e,f,g){var h=c('Shaka').player.VideoTrack;function i(j){'use strict';this.$CustomAbrManager1=null;this.$CustomAbrManager2=null;this.$CustomAbrManager3=new (c('SubscriptionsHandler'))();this.$CustomAbrManager4=Number.POSITIVE_INFINITY;this.$CustomAbrManager5=true;this.$CustomAbrManager6=false;this.$CustomAbrManager7=j.maxWidth;this.$CustomAbrManager8=j.maxHeight;this.$CustomAbrManager9=j.minPlayQuality;this.$CustomAbrManager10=j.maxPlayQuality;this.$CustomAbrManager11=j.initiallyForcedRepresentations;this.$CustomAbrManager12=j.video;this.$CustomAbrManager13=null;this.$CustomAbrManager14=null;this.$CustomAbrManager15=null;this.$CustomAbrManager16=j.abrLogger;if(j.enableAdaptation){this.$CustomAbrManager17=j.bandwidthDowngradeTarget;this.$CustomAbrManager18=j.bandwidthUpgradeTarget;}}i.prototype.destroy=function(){'use strict';this.$CustomAbrManager3.release();this.$CustomAbrManager3.engage();this.$CustomAbrManager1=null;this.$CustomAbrManager2=null;this.$CustomAbrManager5=false;};i.prototype.setResolutionConstraint=function(j,k){'use strict';this.$CustomAbrManager7=j;this.$CustomAbrManager8=k;this.$CustomAbrManager19();};i.prototype.initialize=function(j,k){'use strict';if(this.$CustomAbrManager1||this.$CustomAbrManager2)return;this.$CustomAbrManager1=j;this.$CustomAbrManager2=k;};i.prototype.start=function(){'use strict';if(!this.$CustomAbrManager1||!this.$CustomAbrManager2||this.$CustomAbrManager6)return;this.$CustomAbrManager4=Date.now()+i.FIRST_SWITCH_INTERVAL;this.$CustomAbrManager3.addSubscriptions(c('EventListener').listen(this.$CustomAbrManager1,'bandwidth',this.$CustomAbrManager20.bind(this)),c('EventListener').listen(this.$CustomAbrManager2,'adaptation',this.$CustomAbrManager21.bind(this)),c('EventListener').listen(this.$CustomAbrManager2,'trackschanged',this.$CustomAbrManager22.bind(this)));this.$CustomAbrManager6=true;};i.prototype.$CustomAbrManager22=function(){'use strict';this.$CustomAbrManager19();};i.prototype.setPreferredVideoTrack=function(j){'use strict';var k=i.$CustomAbrManager23(this.$CustomAbrManager2.getVideoTracks()),l=k?h.compare(k,j)<0:false;this.$CustomAbrManager13=j;this.$CustomAbrManager19(null,l);};i.prototype.unsetPreferredVideoTrack=function(){'use strict';this.$CustomAbrManager13=null;this.$CustomAbrManager19(null,false);};i.prototype.enable=function(j){'use strict';this.$CustomAbrManager5=j;};i.prototype.getInitialVideoTrackId=function(){'use strict';if(!this.$CustomAbrManager1||!this.$CustomAbrManager2)return null;var j=this.$CustomAbrManager24();return j?j.id:null;};i.prototype.getInitialSwitchReason=function(){'use strict';return this.$CustomAbrManager15;};i.prototype.getInitialAudioTrackId=function(){'use strict';if(!this.$CustomAbrManager1||!this.$CustomAbrManager2)return null;var j=this.$CustomAbrManager25();return j?j.id:null;};i.prototype.selectVideoTrack=function(j,k,l,m){'use strict';if(!this.$CustomAbrManager6)return;this.$CustomAbrManager2.selectVideoTrack(j.id,k,l,m);};i.$CustomAbrManager23=function(j){'use strict';for(var k=0;k<j.length;++k)if(j[k].active)return j[k];return null;};i.prototype.$CustomAbrManager26=function(){'use strict';var j=this.$CustomAbrManager12.currentTime,k=this.$CustomAbrManager12.buffered;for(var l=0;l<k.length;l++){var m=k.start(l)-i.FUDGE_FACTOR,n=k.end(l)+i.FUDGE_FACTOR;if(j>=m&&j<=n)return k.end(l)-j;}return 0;};i.prototype.$CustomAbrManager20=function(event){'use strict';if(Date.now()<this.$CustomAbrManager4)return;this.$CustomAbrManager19(event);};i.prototype.$CustomAbrManager19=function(event,j){'use strict';if(!this.$CustomAbrManager5)return;var k=this.$CustomAbrManager24();if(k){if(k.active){this.$CustomAbrManager4=Date.now()+i.MIN_EVAL_INTERVAL;return;}this.selectVideoTrack(k,!!j,0,this.$CustomAbrManager14);}this.$CustomAbrManager4=Number.POSITIVE_INFINITY;};i.prototype.$CustomAbrManager21=function(event){'use strict';if(this.$CustomAbrManager4==Number.POSITIVE_INFINITY)this.$CustomAbrManager4=Date.now()+i.MIN_SWITCH_INTERVAL;};i.prototype.$CustomAbrManager24=function(){var j,k=this;'use strict';var l=this.$CustomAbrManager2.getVideoTracks();if(l.length==0)return null;if(!this.$CustomAbrManager6)for(var m=0;m<l.length;m++)if(this.$CustomAbrManager11&&this.$CustomAbrManager11.includes(l[m].streamInfoID)){this.$CustomAbrManager14=c('VideoPlayerStreamSwitchReasons').FORCED;this.$CustomAbrManager15=c('VideoPlayerStreamSwitchReasons').FORCED;return l[m];}if(this.$CustomAbrManager13){var n=l.find(function(ea){return ea.id===this.$CustomAbrManager13.id;}.bind(this));if(n){this.$CustomAbrManager14=c('VideoPlayerStreamSwitchReasons').USER;return n;}}l.sort(h.compare);if(this.$CustomAbrManager9!==null||this.$CustomAbrManager10!==null){var j=function(){var ea=k.$CustomAbrManager9!==null?c('VideoQualityClasses').indexOf(k.$CustomAbrManager9):0,fa=k.$CustomAbrManager10!==null?c('VideoQualityClasses').indexOf(k.$CustomAbrManager10):c('VideoQualityClasses').length-1;if(ea<=fa){var ga=l.filter(function(ia){return c('VideoQualityClasses').indexOf(ia.fbQualityClass)>=ea&&c('VideoQualityClasses').indexOf(ia.fbQualityClass)<=fa;});k.$CustomAbrManager14=c('VideoPlayerStreamSwitchReasons').PREFER_QUALITY_CLASS;if(!ga.length)return {v:l[l.length-1]};var ha=c('VideoQualityClasses').indexOf('sd');if(l.length==2&&ga.length==2&&fa<=ha)return {v:l[0]};l=ga;}}();if(typeof j==="object")return j.v;}var o=l[0],p=this.$CustomAbrManager8,q=this.$CustomAbrManager7,r=l;l=l.filter(function(ea){return ea.width<=q||ea.height<=p;});var s=i.$CustomAbrManager23(this.$CustomAbrManager2.getAudioTracks()),t=s?s.bandwidth:0,u=this.$CustomAbrManager26();if(u<c('VideoPlayerShakaExperiments').forceLowestRepresentationThreshold){var v=i.$CustomAbrManager23(r),w=0,x=r.indexOf(v);if(x>-1)w=Math.floor(x*c('VideoPlayerShakaExperiments').forceLowerRepresentationStepRatio);if(w>=l.length)w=l.length-1;this.$CustomAbrManager14=c('VideoPlayerStreamSwitchReasons').LOW_BUFFER_AVAILABILITY;return l[w];}else{var y=this.$CustomAbrManager1.getBandwidth();for(var z=0;z<l.length;z++){var aa=l[z],ba=z+1<l.length?l[z+1]:{bandwidth:Number.POSITIVE_INFINITY};if(!aa.bandwidth)continue;var ca=(aa.bandwidth+t)/this.$CustomAbrManager17,da=(ba.bandwidth+t)/this.$CustomAbrManager18;if(y>=ca&&y<=da){o=aa;if(o.active)break;}}this.$CustomAbrManager14=c('VideoPlayerStreamSwitchReasons').BANDWIDTH;}if(this.$CustomAbrManager16)this.$CustomAbrManager16.setEvent('track_selection').setRepresentationID(o.streamInfoID).log();return o;};i.prototype.$CustomAbrManager25=function(){'use strict';var j=this.$CustomAbrManager2.getAudioTracks();if(j.length==0)return null;if(!this.$CustomAbrManager6)for(var k=0;k<j.length;k++)if(this.$CustomAbrManager11&&this.$CustomAbrManager11.includes(j[k].streamInfoID))return j[k];return null;};i.FIRST_SWITCH_INTERVAL=c('VideoPlayerShakaExperiments').firstSwitchInterval;i.MIN_SWITCH_INTERVAL=c('VideoPlayerShakaExperiments').minSwitchInterval;i.MIN_EVAL_INTERVAL=c('VideoPlayerShakaExperiments').minEvalInterval;i.FUDGE_FACTOR=1/60;f.exports=i;}),null);
__d('VideoPlayerAbrLogger',['VideoPlayerAbrTypedLogger'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('VideoPlayerAbrTypedLogger'));i=h&&h.prototype;function j(k){i.constructor.call(this);i.setSession.call(this,k.uniqueID);i.setVideoID.call(this,k.videoID);this.$VideoPlayerAbrLogger3();}j.prototype.setBytes=function(k){this.$VideoPlayerAbrLogger1.bytes=k;return this;};j.prototype.setDelayMs=function(k){this.$VideoPlayerAbrLogger1.delayMs=k;return this;};j.prototype.setEvent=function(event){this.$VideoPlayerAbrLogger1.event=event;return this;};j.prototype.setUnsampledReason=function(k){this.$VideoPlayerAbrLogger1.unsampledReason=k;return this;};j.prototype.setRepresentationID=function(k){this.$VideoPlayerAbrLogger2=k;return this;};j.prototype.$VideoPlayerAbrLogger3=function(){this.$VideoPlayerAbrLogger1={bytes:null,delayMs:null,event:null,unsampledReason:null};};j.prototype.$VideoPlayerAbrLogger4=function(){if(this.$VideoPlayerAbrLogger1.event==null)return;i.setBytes.call(this,this.$VideoPlayerAbrLogger1.bytes);i.setDelayMs.call(this,this.$VideoPlayerAbrLogger1.delayMs);i.setEvent.call(this,this.$VideoPlayerAbrLogger1.event);i.setUnsampledReason.call(this,this.$VideoPlayerAbrLogger1.unsampledReason);};j.prototype.log=function(){this.$VideoPlayerAbrLogger4();i.setClientTime.call(this,Date.now());i.setRepresentationID.call(this,this.$VideoPlayerAbrLogger2);i.log.call(this);this.$VideoPlayerAbrLogger3();};f.exports=j;}),null);
__d('PerformanceResourceBuffer',['BanzaiODS','EventEmitter'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=b.__isResourceTimingBufferFull;delete b.__isResourceTimingBufferFull;performance.onresourcetimingbufferfull=function(){j=true;if(k)k.emit('full');};var k=void 0;h=babelHelpers.inherits(l,c('EventEmitter'));i=h&&h.prototype;function l(){i.constructor.call(this);}l.prototype.isBufferFull=function(){return j;};k=new l();if(k.isBufferFull()){c('BanzaiODS').bumpEntityKey('performance','resourcetimingbufferfull');}else k.addListener('full',function(){return c('BanzaiODS').bumpEntityKey('performance','resourcetimingbufferfull');});f.exports=k;}),null);
__d('VideoPlayerLiveStreamState',['RTISubscriptionManager','EventEmitter'],(function a(b,c,d,e,f,g){'use strict';var h,i,j={interrupt:'streamInterruptAt',ended:'endedAt'};h=babelHelpers.inherits(k,c('EventEmitter'));i=h&&h.prototype;function k(l){i.constructor.call(this);this.$VideoPlayerLiveStreamState1=[];for(var m in j)this.$VideoPlayerLiveStreamState1.push(c('RTISubscriptionManager').subscribe('video_broadcast/'+m+'_'+l,this.$VideoPlayerLiveStreamState2.bind(this,j[m])));}k.prototype.unsubscribe=function(){for(var l=this.$VideoPlayerLiveStreamState1,m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var o;if(m){if(n>=l.length)break;o=l[n++];}else{n=l.next();if(n.done)break;o=n.value;}var p=o;p.unsubscribe();}};k.prototype.$VideoPlayerLiveStreamState2=function(l,m){var n=JSON.parse(m.payload||'{}')||{},o=n.time_position;if(typeof o==='number'){o/=1000;this.emit(l,o);}};f.exports=k;}),null);
__d('VideoPlayerHTML5Shaka',['invariant','Promise','CustomAbrManager','EventEmitter','EventListener','Event','TaggedTimeRanges','URI','VideoDashPrefetchCache','VideoPlayerAbrLogger','VideoPlayerLiveStreamState','VideoPlayerShakaBandwidthEstimator','VideoPlayerShakaExperiments','VideoPlayerShakaPerformanceLogger','dispatchEvent','guid','Shaka','PerformanceResourceBuffer'],(function a(b,c,d,e,f,g,h){var i,j,k=c('Shaka').player,l=k.Player,m=k.DashVideoSource,n=k.VideoTrack,o=c('Shaka').dash.mpd.parseMpd,p=c('Shaka').util.FailoverUri,q=window.devicePixelRatio||1,r=c('VideoPlayerShakaBandwidthEstimator').getEstimator();c('PerformanceResourceBuffer');p.setPrefetchCacheValueGetter(c('VideoDashPrefetchCache').getCacheValue);function s(u,event){var v=c('EventListener').capture(u.parentNode,event,function(w){if(w.target!=u)return;v.remove();c('Event').kill(w);});}i=babelHelpers.inherits(t,c('EventEmitter'));j=i&&i.prototype;function t(u,v,w){var x=w.videoID,y=w.width,z=w.height,aa=w.manifest,ba=w.manifestUrl,ca=w.isLive,da=w.minPlayQuality,ea=w.maxPlayQuality,fa=w.accessToken,ga=w.startTimestamp,ha=w.playerOrigin,ia=w.playerSuborigin;'use strict';j.constructor.call(this);this.$VideoPlayerHTML5Shaka1=da;this.$VideoPlayerHTML5Shaka2=ea;this.$VideoPlayerHTML5Shaka3=false;this.$VideoPlayerHTML5Shaka4=null;this.$VideoPlayerHTML5Shaka5=1;this.$VideoPlayerHTML5Shaka6=false;this.$VideoPlayerHTML5Shaka7=ca;this.$VideoPlayerHTML5Shaka8=false;this.$VideoPlayerHTML5Shaka9=y;this.$VideoPlayerHTML5Shaka10=z;this.$VideoPlayerHTML5Shaka11=v;this.$VideoPlayerHTML5Shaka12=null;var ja=this.$VideoPlayerHTML5Shaka12,ka=c('guid')();this.$VideoPlayerHTML5Shaka13=c('VideoPlayerShakaPerformanceLogger').isEnabled()?new (c('VideoPlayerShakaPerformanceLogger'))({videoID:x,video:u,representationId:ja,isLive:ca,accessToken:fa,playerOrigin:ha,playerSuborigin:ia,uniqueID:ka}):null;this.$VideoPlayerHTML5Shaka14=new (c('VideoPlayerAbrLogger'))({videoID:x,uniqueID:ka}).setRepresentationID(ja);if(!c('VideoPlayerShakaExperiments').improveRebufferLogging)this.$VideoPlayerHTML5Shaka15=true;c('EventListener').listen(u,'playing',this.$VideoPlayerHTML5Shaka16.bind(this));c('EventListener').listen(u,'timeupdate',function(oa){this.$VideoPlayerHTML5Shaka17(oa.target.currentTime);}.bind(this));c('EventListener').listen(u,'pause',this.$VideoPlayerHTML5Shaka18.bind(this));c('EventListener').listen(u,'play',function(){this.$VideoPlayerHTML5Shaka8=true;}.bind(this));this.$VideoPlayerHTML5Shaka19=null;this.$VideoPlayerHTML5Shaka20=null;this.$VideoPlayerHTML5Shaka21=null;this.$VideoPlayerHTML5Shaka22=new l(u,this.$VideoPlayerHTML5Shaka13,this.$VideoPlayerHTML5Shaka14);this.$VideoPlayerHTML5Shaka22.addEventListener('bufferingStart',function(){return this.$VideoPlayerHTML5Shaka23();}.bind(this));this.$VideoPlayerHTML5Shaka22.addEventListener('bufferingEnd',function(){return this.$VideoPlayerHTML5Shaka24();}.bind(this));this.$VideoPlayerHTML5Shaka22.addEventListener('error',function(oa){return this.$VideoPlayerHTML5Shaka25(oa);}.bind(this));this.$VideoPlayerHTML5Shaka22.addEventListener('adaptation',this.$VideoPlayerHTML5Shaka26.bind(this));this.$VideoPlayerHTML5Shaka22.addEventListener('trackschanged',this.$VideoPlayerHTML5Shaka27.bind(this));this.$VideoPlayerHTML5Shaka22.addEventListener('debug/shakaEvent',function(oa){return this.emit('debug/shakaEvent',oa.detail);}.bind(this));this.$VideoPlayerHTML5Shaka22.addEventListener('manifestwrapped',this.$VideoPlayerHTML5Shaka28.bind(this));this.$VideoPlayerHTML5Shaka22.addEventListener('cea608-captions',function(oa){this.emit('cea608CaptionsParsed',oa.detail.captions);}.bind(this));if(c('VideoPlayerShakaExperiments').enableLiveInterruptionDetection)this.$VideoPlayerHTML5Shaka22.addEventListener('manifestIsUpdating',this.$VideoPlayerHTML5Shaka29.bind(this));var la=false,ma=null,na=null;this.$VideoPlayerHTML5Shaka30=c('VideoPlayerShakaExperiments').liveSendPushHeaders;if(aa){this.$VideoPlayerHTML5Shaka31=o(aa,ba);}else{this.$VideoPlayerHTML5Shaka31=ba;la=ba.indexOf('dash-abr')!==-1;}if(la){this.$VideoPlayerHTML5Shaka30=c('VideoPlayerShakaExperiments').liveAbrSendPushHeaders;if(this.$VideoPlayerHTML5Shaka30){ma=c('VideoPlayerShakaExperiments').liveAbrInitialPushRepresentation;na=c('VideoPlayerShakaExperiments').liveAbrAudioPushRepresentation;this.$VideoPlayerHTML5Shaka11=[c('VideoPlayerShakaExperiments').liveAbrInitialPushRepresentation];}if(c('VideoPlayerShakaExperiments').liveAbrAlwaysForceRepresentation)this.$VideoPlayerHTML5Shaka11=[c('VideoPlayerShakaExperiments').liveAbrInitialPushRepresentation];}this.$VideoPlayerHTML5Shaka32=u;this.$VideoPlayerHTML5Shaka33=this.$VideoPlayerHTML5Shaka34();this.$VideoPlayerHTML5Shaka35=this.$VideoPlayerHTML5Shaka36();this.$VideoPlayerHTML5Shaka22.configure({enableAdaptation:true,appendPlayingQueryParam:c('VideoPlayerShakaExperiments').addCdnDebugQueryParameters,endBufferingOnPlaying:c('VideoPlayerShakaExperiments').endBufferingOnPlaying,usePlaybackRateForBuffering:c('VideoPlayerShakaExperiments').improveRebufferLogging,streamBufferSize:c('VideoPlayerShakaExperiments').useStreamBufferSizeOverride?0:this.$VideoPlayerHTML5Shaka37(),initialStreamBufferSize:t.isAutoplayBandwidthRestrained(ca)||c('VideoPlayerShakaExperiments').useStreamBufferSizeOverride?0:this.$VideoPlayerHTML5Shaka38(),smartBufferAdjustmentParams:c('VideoPlayerShakaExperiments').smartBufferAdjustmentParams,dynamicStreamBufferSize:ca?c('VideoPlayerShakaExperiments').liveDynamicStreamBufferSize:null,includeStreamBufferSizeInStartOffset:c('VideoPlayerShakaExperiments').includeStreamBufferSizeInStartOffset,minMpdRefreshInterval:c('VideoPlayerShakaExperiments').minMpdRefreshInterval,disableCacheBustingEvenThoughItMayAffectBandwidthEstimation:true,liveStreamEndTimeout:c('VideoPlayerShakaExperiments').liveStreamEndTimeout/1000,enableLiveInterruptionDetection:c('VideoPlayerShakaExperiments').enableLiveInterruptionDetection,liveInterruptionConsecutiveUpdatesWithoutChange:c('VideoPlayerShakaExperiments').liveInterruptionConsecutiveUpdatesWithoutChange,liveInterruptionConsecutiveUpdatesWithChange:c('VideoPlayerShakaExperiments').liveInterruptionConsecutiveUpdatesWithChange,liveMaxSegmentsToPush:c('VideoPlayerShakaExperiments').liveMaxSegmentsToPush,liveSendPushHeaders:t.isAutoplayBandwidthRestrained(ca)?false:this.$VideoPlayerHTML5Shaka39(),liveMaxManifestFetchesWithPush:c('VideoPlayerShakaExperiments').liveMaxManifestFetchesWithPush,resolveVideoTimeUpdateOnFragmentedTimeRanges:c('VideoPlayerShakaExperiments').resolveVideoTimeUpdateOnFragmentedTimeRanges,enableManifestDebug:c('VideoPlayerShakaExperiments').enableVideoDebug,reappendInitSegmentAfterAbort:c('VideoPlayerShakaExperiments').reappendInitSegmentAfterAbort,useInlineInitSegment:c('VideoPlayerShakaExperiments').useInlineInitSegment,currentTimeDuringReadyStateZeroThrows:c('VideoPlayerShakaExperiments').currentTimeDuringReadyStateZeroThrows,liveInitialPushRepresentation:ma,liveAudioPushRepresentation:na,jumpToLiveThreshold:c('VideoPlayerShakaExperiments').jumpToLiveThreshold,liveDataFetchMaxRetries:c('VideoPlayerShakaExperiments').liveDataFetchMaxRetries,liveSourceBufferClearMaxRetries:c('VideoPlayerShakaExperiments').liveSourceBufferClearMaxRetries,useLongCacheForManifest:c('VideoPlayerShakaExperiments').useLongCacheForManifest,jumpToEarliestPositionInCurrentBlock:c('VideoPlayerShakaExperiments').jumpToEarliestPositionInCurrentBlock,ignoreMinBufferTime:c('VideoPlayerShakaExperiments').ignoreMinBufferTime,playheadFragmentedGapDiffAllowance:c('VideoPlayerShakaExperiments').playheadFragmentedGapDiffAllowance,fixBufferingGoalDetermination:c('VideoPlayerShakaExperiments').fixBufferingGoalDetermination,skipEmptySegments:c('VideoPlayerShakaExperiments').skipEmptySegments,useMicroTaskTimeouts:c('VideoPlayerShakaExperiments').useMicroTaskTimeouts});if(ca&&c('VideoPlayerShakaExperiments').enableLiveInterruptionDetection){this.$VideoPlayerHTML5Shaka40=new (c('VideoPlayerLiveStreamState'))(x);this.$VideoPlayerHTML5Shaka40.addListener('streamInterruptAt',this.$VideoPlayerHTML5Shaka41.bind(this));['streamInterruptAt','commercialBreakAt','endedAt'].forEach(function(oa){this.$VideoPlayerHTML5Shaka40.addListener(oa,function(event){this.emit('debug/shakaEvent',{type:oa,event:event});}.bind(this));}.bind(this));}if(ga)this.$VideoPlayerHTML5Shaka22.setPlaybackStartTime(ga);this.$VideoPlayerHTML5Shaka22.load(this.$VideoPlayerHTML5Shaka35)['catch'](function(oa){if(this.$VideoPlayerHTML5Shaka3&&c('VideoPlayerShakaExperiments').ignoreErrorsAfterUnload)return;throw oa;}.bind(this));}t.prototype.hasSubtitles=function(){'use strict';return (this.$VideoPlayerHTML5Shaka35.hasInlinedCea608Subtitles()&&c('VideoPlayerShakaExperiments').enableCea608Parsing);};t.prototype.enableSubtitles=function(u){'use strict';this.$VideoPlayerHTML5Shaka35.setEnableCea608Parsing(u&&c('VideoPlayerShakaExperiments').enableCea608Parsing);};t.prototype.getDebug=function(){'use strict';return {AbrManager:this.$VideoPlayerHTML5Shaka33,VideoSource:this.$VideoPlayerHTML5Shaka35,ShakaPlayer:this.$VideoPlayerHTML5Shaka22};};t.getEstimatedBandwidth=function(){'use strict';return r.getBandwidth();};t.isAutoplayBandwidthRestrained=function(u){'use strict';var v=c('VideoPlayerShakaBandwidthEstimator').isAutoplayBandwidthRestrained(u);return v;};t.prototype.$VideoPlayerHTML5Shaka17=function(u){'use strict';var v=this.$VideoPlayerHTML5Shaka42.get(u);if(!v)return;var w=v.id,x=v.reason,y=v.performanceLogger;if(this.$VideoPlayerHTML5Shaka12!==w){var z=this.$VideoPlayerHTML5Shaka12;this.$VideoPlayerHTML5Shaka12=w;if(y)y.setStreamSwitchReason(x).log();this.emit('representation_ended',{representationID:z,nextRepresentationID:w,streamSwitchReason:x});}};t.prototype.getStreamInfoIDForTimePosition=function(u){'use strict';var v=this.$VideoPlayerHTML5Shaka42.get(u),w=null;if(v)w=v.id;return w;};t.prototype.$VideoPlayerHTML5Shaka43=function(u,v){'use strict';if(u.fbQualityLabel){return u.fbQualityLabel;}else if(n.compare(u,v[0])==0){return 'SD';}else if(n.compare(u,v[v.length-1])==0){return 'HD';}else return null;};t.prototype.getAvailableVideoQualities=function(){'use strict';if(this.$VideoPlayerHTML5Shaka3)return this.$VideoPlayerHTML5Shaka19;var u=this.$VideoPlayerHTML5Shaka35.getVideoTracks();u.sort(n.compare);return u.every(function(v){return v.fbQualityLabel!==null;})?u.map(function(v){return v.fbQualityLabel;}):u.length>1?['SD','HD']:['SD'];};t.prototype.getIsAbrEnabled=function(){'use strict';return c('VideoPlayerShakaExperiments').enableAdaptation;};t.prototype.getSelectedVideoQuality=function(){'use strict';if(this.$VideoPlayerHTML5Shaka3)return this.$VideoPlayerHTML5Shaka20;var u=this.$VideoPlayerHTML5Shaka35.getVideoTracks();u.sort(n.compare);var v=u.find(function(w){return w.active;});return v?this.$VideoPlayerHTML5Shaka43(v,u):null;};t.prototype.canAutoSelectVideoQuality=function(){'use strict';return true;};t.prototype.setPreloadDisabled=function(u){'use strict';if(c('VideoPlayerShakaExperiments').blockAutoplayAllowPreloadSettingsChange)this.$VideoPlayerHTML5Shaka22.configure({initialStreamBufferSize:u?0:this.$VideoPlayerHTML5Shaka38(),liveSendPushHeaders:u?false:this.$VideoPlayerHTML5Shaka39()});};t.prototype.restoreStreamBufferSize=function(){'use strict';if(!c('VideoPlayerShakaExperiments').useStreamBufferSizeOverride)return;this.$VideoPlayerHTML5Shaka22.configure({initialStreamBufferSize:this.$VideoPlayerHTML5Shaka38(),streamBufferSize:this.$VideoPlayerHTML5Shaka37()});};t.prototype.$VideoPlayerHTML5Shaka38=function(){'use strict';return this.$VideoPlayerHTML5Shaka7?c('VideoPlayerShakaExperiments').liveInitialStreamBufferSize:c('VideoPlayerShakaExperiments').initialStreamBufferSize;};t.prototype.$VideoPlayerHTML5Shaka37=function(){'use strict';return this.$VideoPlayerHTML5Shaka7?c('VideoPlayerShakaExperiments').liveStreamBufferSize:c('VideoPlayerShakaExperiments').streamBufferSize;};t.prototype.$VideoPlayerHTML5Shaka39=function(){'use strict';return this.$VideoPlayerHTML5Shaka30;};t.prototype.setPreferredVideoQuality=function(u){'use strict';var v=this.$VideoPlayerHTML5Shaka35.getVideoTracks();v.sort(n.compare);var w=v.find(function(x){return u==this.$VideoPlayerHTML5Shaka43(x,v);}.bind(this));if(w){this.$VideoPlayerHTML5Shaka21=u;this.$VideoPlayerHTML5Shaka33.setPreferredVideoTrack(w);}};t.prototype.unsetPreferredVideoQuality=function(){'use strict';this.$VideoPlayerHTML5Shaka21=null;this.$VideoPlayerHTML5Shaka33.unsetPreferredVideoTrack();};t.prototype.pause=function(){'use strict';if(this.$VideoPlayerHTML5Shaka44&&!c('VideoPlayerShakaExperiments').improveRebufferLogging){this.$VideoPlayerHTML5Shaka45=true;this.$VideoPlayerHTML5Shaka46=true;c('dispatchEvent')(this.$VideoPlayerHTML5Shaka32,'pause');this.$VideoPlayerHTML5Shaka22.setResumeAfterBuffering(false);}else this.$VideoPlayerHTML5Shaka32.pause();};t.prototype.play=function(){'use strict';this.$VideoPlayerHTML5Shaka8=true;if(this.$VideoPlayerHTML5Shaka13&&(this.$VideoPlayerHTML5Shaka32.paused||this.$VideoPlayerHTML5Shaka32.ended))this.$VideoPlayerHTML5Shaka47=this.$VideoPlayerHTML5Shaka13.getOperationLogger('play').setState('pending_play').start();if(this.$VideoPlayerHTML5Shaka44&&!c('VideoPlayerShakaExperiments').improveRebufferLogging){this.$VideoPlayerHTML5Shaka45=false;this.$VideoPlayerHTML5Shaka46=true;c('dispatchEvent')(this.$VideoPlayerHTML5Shaka32,'play');c('dispatchEvent')(this.$VideoPlayerHTML5Shaka32,'waiting');this.$VideoPlayerHTML5Shaka22.setResumeAfterBuffering(true);return c('Promise').resolve();}else return this.$VideoPlayerHTML5Shaka32.play();};t.prototype.$VideoPlayerHTML5Shaka48=function(){'use strict';var u=this.$VideoPlayerHTML5Shaka4;if(u){var v=this.$VideoPlayerHTML5Shaka32.currentTime,w=4,x=v>u-w,y=v>u;if(y){this.emit('debug/shakaEvent',{type:'streamResumedAt',event:this.$VideoPlayerHTML5Shaka4});this.$VideoPlayerHTML5Shaka4=null;}else if(this.$VideoPlayerHTML5Shaka44)this.$VideoPlayerHTML5Shaka6=x;}return this.$VideoPlayerHTML5Shaka6;};t.prototype.$VideoPlayerHTML5Shaka23=function(){'use strict';if(!c('VideoPlayerShakaExperiments').improveRebufferLogging){s(this.$VideoPlayerHTML5Shaka32,'pause');this.$VideoPlayerHTML5Shaka45=false;this.$VideoPlayerHTML5Shaka46=false;}this.$VideoPlayerHTML5Shaka44=true;if(this.$VideoPlayerHTML5Shaka48()){if(!c('VideoPlayerShakaExperiments').fixIsLiveInterruptedBacktest){if(this.$VideoPlayerHTML5Shaka13&&!this.$VideoPlayerHTML5Shaka49)this.$VideoPlayerHTML5Shaka49=this.$VideoPlayerHTML5Shaka13.getOperationLogger('stream_interrupted').start();this.$VideoPlayerHTML5Shaka35.setIsLiveInterrupted(true);}this.emit('streamInterrupted');}else{this.$VideoPlayerHTML5Shaka22.setResumeAfterBuffering(true);this.emit('bufferingStart');}};t.prototype.$VideoPlayerHTML5Shaka24=function(){var u,v=this;'use strict';if(!c('VideoPlayerShakaExperiments').improveRebufferLogging){if(!this.$VideoPlayerHTML5Shaka45)s(this.$VideoPlayerHTML5Shaka32,'play');if(!this.$VideoPlayerHTML5Shaka46)(function(){var w=c('EventListener').capture(v.$VideoPlayerHTML5Shaka32.parentNode,'playing',function(x){if(x.target!=this.$VideoPlayerHTML5Shaka32)return;w.remove();if(this.$VideoPlayerHTML5Shaka15){this.$VideoPlayerHTML5Shaka15=false;return;}c('Event').kill(x);}.bind(v));})();}this.$VideoPlayerHTML5Shaka44=false;if(this.$VideoPlayerHTML5Shaka49){this.$VideoPlayerHTML5Shaka49.log();this.$VideoPlayerHTML5Shaka49=null;}this.$VideoPlayerHTML5Shaka35.setIsLiveInterrupted(false);if(this.$VideoPlayerHTML5Shaka6){this.$VideoPlayerHTML5Shaka50();}else this.emit('bufferingEnd');};t.prototype.$VideoPlayerHTML5Shaka25=function(u){'use strict';var v=u.detail||{},w=v.type||'undefined',x=v.status||null,y=v.url||null;if(c('VideoPlayerShakaExperiments').blockPlayRequestOnNetworkError&&this.$VideoPlayerHTML5Shaka7&&Object.values(c('VideoPlayerShakaExperiments').blockPlayRequestHTTPStatusList).indexOf(x)!=-1)if(new (c('URI'))(y).getPath().split('.').pop()==='mpd'||x===410&&c('VideoPlayerShakaExperiments').blockPlayRequestNonMpd410){if(this.$VideoPlayerHTML5Shaka8){c('dispatchEvent')(this.$VideoPlayerHTML5Shaka32,'playing');this.$VideoPlayerHTML5Shaka8=false;}return this.$VideoPlayerHTML5Shaka51();}this.emit('error',{error:'SHAKA_'+w.toUpperCase(),message:v.message,httpStatus:x,url:y});return undefined;};t.prototype.unload=function(){'use strict';this.$VideoPlayerHTML5Shaka20=this.getSelectedVideoQuality();this.$VideoPlayerHTML5Shaka19=this.getAvailableVideoQualities();if(!this.$VideoPlayerHTML5Shaka35){this.$VideoPlayerHTML5Shaka7=false;}else if(this.$VideoPlayerHTML5Shaka35.isLive()!==null)this.$VideoPlayerHTML5Shaka7=this.$VideoPlayerHTML5Shaka35.isLive();this.$VideoPlayerHTML5Shaka3=true;this.$VideoPlayerHTML5Shaka22.unload()['catch'](function(u){if(c('VideoPlayerShakaExperiments').ignoreErrorsAfterUnload)return;throw u;});};t.prototype.$VideoPlayerHTML5Shaka34=function(){'use strict';var u={enableAdaptation:this.getIsAbrEnabled(),minPlayQuality:this.$VideoPlayerHTML5Shaka1,maxPlayQuality:this.$VideoPlayerHTML5Shaka2,maxWidth:this.$VideoPlayerHTML5Shaka52(),maxHeight:this.$VideoPlayerHTML5Shaka53(),initiallyForcedRepresentations:this.$VideoPlayerHTML5Shaka11,bandwidthDowngradeTarget:this.$VideoPlayerHTML5Shaka7?c('VideoPlayerShakaExperiments').liveBandwidthDowngradeTarget:c('VideoPlayerShakaExperiments').bandwidthDowngradeTarget,bandwidthUpgradeTarget:this.$VideoPlayerHTML5Shaka7?c('VideoPlayerShakaExperiments').liveBandwidthUpgradeTarget:c('VideoPlayerShakaExperiments').bandwidthUpgradeTarget,video:this.$VideoPlayerHTML5Shaka32,abrLogger:this.$VideoPlayerHTML5Shaka14};return new (c('CustomAbrManager'))(u);};t.prototype.$VideoPlayerHTML5Shaka36=function(){'use strict';this.$VideoPlayerHTML5Shaka33||h(0);this.$VideoPlayerHTML5Shaka31||h(0);var u=new m(this.$VideoPlayerHTML5Shaka31,null,r,this.$VideoPlayerHTML5Shaka33);this.$VideoPlayerHTML5Shaka42=new (c('TaggedTimeRanges'))(function(v,w){return (v.id===w.id&&v.reason===w.reason);});u.setTaggedTimeRangesEntryAdder(function(v,w,x){this.$VideoPlayerHTML5Shaka42.add(v,w,x);}.bind(this));return u;};t.prototype.reload=function(u){'use strict';if(!this.$VideoPlayerHTML5Shaka3)return;this.$VideoPlayerHTML5Shaka33=this.$VideoPlayerHTML5Shaka34();this.$VideoPlayerHTML5Shaka35=this.$VideoPlayerHTML5Shaka36();if(this.$VideoPlayerHTML5Shaka48()){this.$VideoPlayerHTML5Shaka32.playbackRate=0;this.emit('streamInterrupted');}this.$VideoPlayerHTML5Shaka22.setPlaybackStartTime(u);this.$VideoPlayerHTML5Shaka3=false;this.$VideoPlayerHTML5Shaka22.load(this.$VideoPlayerHTML5Shaka35).then(function(){if(this.$VideoPlayerHTML5Shaka7!=this.$VideoPlayerHTML5Shaka35.isLive())return this.$VideoPlayerHTML5Shaka51();if(this.$VideoPlayerHTML5Shaka21)this.setPreferredVideoQuality(this.$VideoPlayerHTML5Shaka21);this.$VideoPlayerHTML5Shaka20=null;this.$VideoPlayerHTML5Shaka54=null;return undefined;}.bind(this))['catch'](function(v){if(this.$VideoPlayerHTML5Shaka3&&c('VideoPlayerShakaExperiments').ignoreErrorsAfterUnload)return;throw v;}.bind(this));};t.prototype.setSmartBufferAdjustmentEnabled=function(u){'use strict';this.$VideoPlayerHTML5Shaka22.configure({smartBufferAdjustmentEnabled:u});};t.prototype.$VideoPlayerHTML5Shaka51=function(){'use strict';c('dispatchEvent')(this.$VideoPlayerHTML5Shaka32,'seeked');c('dispatchEvent')(this.$VideoPlayerHTML5Shaka32,'playing');if(c('VideoPlayerShakaExperiments').endLivePlaybackWithPause){c('dispatchEvent')(this.$VideoPlayerHTML5Shaka32,'pause');}else c('dispatchEvent')(this.$VideoPlayerHTML5Shaka32,'ended');this.emit('streamResumed');this.$VideoPlayerHTML5Shaka40.unsubscribe();this.unload();};t.prototype.getLongestInitResponseTime=function(){'use strict';return this.$VideoPlayerHTML5Shaka35.getLongestInitResponseTime();};t.$VideoPlayerHTML5Shaka55=function(){'use strict';return (c('VideoPlayerShakaExperiments').resolutionConstraintFactor*q);};t.prototype.$VideoPlayerHTML5Shaka52=function(){'use strict';if(!c('VideoPlayerShakaExperiments').useResolutionConstraints)return Infinity;return this.$VideoPlayerHTML5Shaka9*t.$VideoPlayerHTML5Shaka55();};t.prototype.$VideoPlayerHTML5Shaka53=function(){'use strict';if(!c('VideoPlayerShakaExperiments').useResolutionConstraints)return Infinity;return this.$VideoPlayerHTML5Shaka10*t.$VideoPlayerHTML5Shaka55();};t.prototype.setDimensions=function(u,v){'use strict';this.$VideoPlayerHTML5Shaka9=u;this.$VideoPlayerHTML5Shaka10=v;this.$VideoPlayerHTML5Shaka33.setResolutionConstraint(this.$VideoPlayerHTML5Shaka52(),this.$VideoPlayerHTML5Shaka53());};t.isSupported=function(){'use strict';return l.isBrowserSupported();};t.prototype.$VideoPlayerHTML5Shaka27=function(){'use strict';this.emit('tracksChanged');};t.prototype.$VideoPlayerHTML5Shaka26=function(event){'use strict';if(event.contentType==='video'){if(this.$VideoPlayerHTML5Shaka13)this.$VideoPlayerHTML5Shaka13.setRepresentationID(event.id);if(this.$VideoPlayerHTML5Shaka14)this.$VideoPlayerHTML5Shaka14.setRepresentationID(event.id);this.emit('adaptation',{reason:event.reason});}};t.prototype.$VideoPlayerHTML5Shaka41=function(u){'use strict';if(c('VideoPlayerShakaExperiments').fixIsLiveInterruptedBacktest){if(this.$VideoPlayerHTML5Shaka13&&!this.$VideoPlayerHTML5Shaka49)this.$VideoPlayerHTML5Shaka49=this.$VideoPlayerHTML5Shaka13.getOperationLogger('stream_interrupted').start();this.$VideoPlayerHTML5Shaka35.setIsLiveInterrupted(true);}this.$VideoPlayerHTML5Shaka4=u;};t.prototype.$VideoPlayerHTML5Shaka29=function(){'use strict';if(this.$VideoPlayerHTML5Shaka48())this.$VideoPlayerHTML5Shaka50();};t.prototype.$VideoPlayerHTML5Shaka50=function(){'use strict';this.$VideoPlayerHTML5Shaka4=null;this.$VideoPlayerHTML5Shaka6=false;this.$VideoPlayerHTML5Shaka35.forceResyncVideoBuffer();this.emit('streamResumed');};t.prototype.$VideoPlayerHTML5Shaka28=function(){'use strict';var u=!this.$VideoPlayerHTML5Shaka32.paused;this.unload();this.reload().then(function(){if(this.$VideoPlayerHTML5Shaka6)this.$VideoPlayerHTML5Shaka50();if(u)this.play();}.bind(this))['catch'](function(v){});};t.prototype.$VideoPlayerHTML5Shaka16=function(){'use strict';this.$VideoPlayerHTML5Shaka8=false;if(this.$VideoPlayerHTML5Shaka15)this.$VideoPlayerHTML5Shaka15=false;if(this.$VideoPlayerHTML5Shaka47){this.$VideoPlayerHTML5Shaka47.log();this.$VideoPlayerHTML5Shaka47=null;}};t.prototype.$VideoPlayerHTML5Shaka18=function(){'use strict';if(this.$VideoPlayerHTML5Shaka8)this.$VideoPlayerHTML5Shaka8=false;if(this.$VideoPlayerHTML5Shaka47){this.$VideoPlayerHTML5Shaka47.setResult('aborted').log();this.$VideoPlayerHTML5Shaka47=null;}};f.exports=t;}),null);
__d('VideoWithLoopingPlayback',['setImmediate','VideoPlayerReason'],(function a(b,c,d,e,f,g){function h(i){var j=arguments.length<=1||arguments[1]===undefined?-1:arguments[1];'use strict';this.$VideoWithLoopingPlayback5=function(){var k=this.$VideoWithLoopingPlayback1.getOption('FeedAutoplay','isVisibleForAutoplay'),l=this.$VideoWithLoopingPlayback1.getOption('WatchAndScroll','isActive'),m=this.$VideoWithLoopingPlayback1.getIsInChannel();if((k||k===undefined)&&!l&&!m&&(!this.$VideoWithLoopingPlayback4||this.$VideoWithLoopingPlayback3<this.$VideoWithLoopingPlayback4)){c('setImmediate')(function(){return this.$VideoWithLoopingPlayback1.play(c('VideoPlayerReason').LOOP);}.bind(this));this.$VideoWithLoopingPlayback3++;if(this.$VideoWithLoopingPlayback4&&this.$VideoWithLoopingPlayback3===this.$VideoWithLoopingPlayback4-1)this.$VideoWithLoopingPlayback1.setOption('Looping','isLooping',false);}}.bind(this);this.$VideoWithLoopingPlayback1=i;this.$VideoWithLoopingPlayback2=true;this.$VideoWithLoopingPlayback3=1;this.$VideoWithLoopingPlayback4=j>-1?j:null;this.$VideoWithLoopingPlayback1.addListener('finishPlayback',this.$VideoWithLoopingPlayback5);this.$VideoWithLoopingPlayback1.registerOption('Looping','isLooping',function(){return this.$VideoWithLoopingPlayback2;}.bind(this),function(k){return this.$VideoWithLoopingPlayback6(k);}.bind(this));}h.prototype.isLooping=function(){'use strict';return this.$VideoWithLoopingPlayback2;};h.prototype.getLoopCount=function(){'use strict';return this.$VideoWithLoopingPlayback3;};h.prototype.getMaxLoopCount=function(){'use strict';return this.$VideoWithLoopingPlayback4;};h.prototype.setMaxLoopCount=function(i){'use strict';this.$VideoWithLoopingPlayback4=i>-1?i:null;};h.prototype.$VideoWithLoopingPlayback6=function(i){'use strict';this.$VideoWithLoopingPlayback2=i;};f.exports=h;}),null);
__d('StreamingReactionsTrayEvents',[],(function a(b,c,d,e,f,g){var h='streamingReactionsTray/AddReactionAnimate',i='streamingReactionsTray/HideChannelViewDetails',j='streamingReactionsTray/ShowChannelViewDetails',k='streamingReactionsTray/UpdateSurface',l='streamingReactionsTray/ResizeChannelViewWindow',m='streamingReactionsTray/ReactionStateChange',n='streamingReactionsTray/FireworksAnimating',o={AddReactionAnimate:h,HideChannelViewDetails:i,ReactionStateChange:m,ResizeChannelViewWindow:l,ShowChannelViewDetails:j,UpdateSurface:k,FireworksAnimating:n};f.exports=o;}),null);