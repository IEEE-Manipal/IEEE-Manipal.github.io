if (self.CavalryLogger) { CavalryLogger.start_js(["33W4v"]); }

__d("AdsAPICustomAudienceFields",[],(function a(b,c,d,e,f,g){f.exports={ACCOUNT_ID:"account_id",ADVANCED:"advanced",APPROXIMATE_COUNT:"approximate_count",DATASET_ID:"dataset_id",DATA_SOURCE:"data_source",DELIVERY_STATUS:"delivery_status",DESCRIPTION:"description",EVENT_SOURCE_GROUP:"event_source_group",EXCLUDED_CUSTOM_AUDIENCES:"excluded_custom_audiences",EXTERNAL_EVENT_SOURCE:"external_event_source",ID:"id",INCLUDED_CUSTOM_AUDIENCES:"included_custom_audiences",IS_KEPLER_DATA_AVAILABLE:"is_kepler_data_available",LOOKALIKE_AUDIENCE_IDS:"lookalike_audience_ids",LOOKALIKE_SPEC:"lookalike_spec",NAME:"name",OPERATION_STATUS:"operation_status",OPT_OUT_LINK:"opt_out_link",OWNER_ACCOUNT_INFO:"owner_account_info",PERMISSION_FOR_ACTIONS:"permission_for_actions",PIXEL_ID:"pixel_id",PREFILL:"prefill",RETENTION_DAYS:"retention_days",REV_SHARE_POLICY_ID:"rev_share_policy_id",RULE:"rule",RULE_V2:"rule_v2",RULE_AGGREGATION:"rule_aggregation",STUDY_SPEC:"study_spec",SUBTYPE:"subtype",SEED_AUDIENCE:"seed_audience",TIME_CONTENT_UPDATED:"time_content_updated",TIME_CREATED:"time_created",TIME_UPDATED:"time_updated",LIST_OF_ACCOUNTS:"list_of_accounts",IS_HOUSEHOLD:"is_household",IS_HOUSEHOLD_EXCLUSION:"is_household_exclusion",IS_VALUE_BASED:"is_value_based"};}),null);
__d("AdsAPICustomAudienceFilteringFields",[],(function a(b,c,d,e,f,g){f.exports={DELIVERY_STATUS_CODE:"delivery_status.code",DATA_SOURCE_SUBTYPE:"data_source.subtype",QUICK_LOOK:"quicklook",RULE:"rule",SUBTYPE:"subtype",ADVANCED:"advanced",BUSINESS_TAG:"business_tag_id",BUSINESS_SMART_FOLDER:"business_smart_folder",CLAIM_OBJECTIVE:"claim_objective"};}),null);
__d("AdsCustomConversionsFields",[],(function a(b,c,d,e,f,g){f.exports={ACCOUNT_ID:"account_id",AGGREGATION_RULE:"aggregation_rule",APPLICATION:"application",CATEGORY:"custom_event_type",CREATION_TIME:"creation_time",DESCRIPTION:"description",EVENT_SOURCE_TYPE:"event_source_type",FIRST_FIRED_TIME:"first_fired_time",ID:"id",IS_ARCHIVED:"is_archived",LAST_FIRED_TIME:"last_fired_time",NAME:"name",OFFLINE_CONVERSION_DATA_SET:"offline_conversion_data_set",PIXEL:"pixel",PIXEL_AGGREGATION_RULE:"pixel_aggregation_rule",PIXEL_RULE:"pixel_rule",RETENTION_DAYS:"retention_days",RULE:"rule",VALUE:"default_conversion_value"};}),null);
__d("AdsLookalikeConversionType",[],(function a(b,c,d,e,f,g){f.exports={CUSTOM_AUDIENCE:"custom_audience",MULTI_CUSTOM_AUDIENCE:"multi_custom_audience",DYNAMIC_RULE:"dynamic_rule",PAGE_LIKE:"page_like",PAGE_ENGAGED_FANS:"engaged_page_fans",LIKE_DEPRECATED:"like",OFFSITE:"offsite",APP_ENGAGED_USERS:"engaged_app_users",APP_INSTALL_USERS:"app_install_users",APP_PURCHASE_USERS:"app_purchase_users",APP_90D_ACTIVE_USERS:"app_90d_active_users",APP_60D_ACTIVE_USERS:"app_60d_active_users",APP_30D_ACTIVE_USERS:"app_30d_active_users",MOBILE_APP_USERS:"mobile_app_users",MOBILE_APP_90D_ACTIVE_USERS:"mobile_app_90d_active_users",MOBILE_APP_60D_ACTIVE_USERS:"mobile_app_60d_active_users",MOBILE_APP_30D_ACTIVE_USERS:"mobile_app_30d_active_users",WEIGHTED_APP_SPEND:"app_usd_spend_users",CAMPAIGN_CONVERSIONS:"campaign_conversions",INTEREST:"interest",INTEREST_AD_CLICKERS:"interest_ad_clickers",INTEREST_AD_CONVERTERS:"interest_ad_converters",INTEREST_PAGE_ENGAGERS:"interest_page_engagers",INTEREST_PAGE_FANS:"interest_page_fans",INTEREST_AD_IMPRESSIONS:"interest_ad_impressions",DATA_SET:"data_set",FB_PIXEL:"fb_pixel",IG_PROMOTED_POST:"ig_promoted_post",PLACE_VISIT:"place_visit",SEED_LIST:"seed_list",S_EXPR:"s_expr",PAGE_SMART_AUDIENCE:"page_smart_audience"};}),null);
__d("AdsLookalikeOriginType",[],(function a(b,c,d,e,f,g){f.exports={CUSTOM_AUDIENCE:"custom_audience",CONVERSION_PIXEL:"conversion_pixel",PAGE_FAN:"page",APP_USER:"app",TARGETING_SPEC:"targeting_spec",INTEREST:"interest",CAMPAIGN_CONVERSION:"campaign_conversion",DYNAMIC_RULE:"dynamic_rule",SEED_LIST:"seed_list",S_EXPR:"s_expr",DATA_SET:"data_set",FB_PIXEL:"fb_pixel",IG_PROMOTED_POST:"ig_promoted_post",PLACE_VISIT:"place_visit",PAGE_SMART_AUDIENCE:"page_smart_audience",MULTI_CUSTOM_AUDIENCE:"multi_custom_audience",CONVERSION_PIXEL_DEPRECATED:"ads"};}),null);
__d("AdsPixelNotifParamsEnum",[],(function a(b,c,d,e,f,g){f.exports={EMAIL_CMS:"email_cms",PERSONAL_MESSAGE:"personal_message",PIXEL_ID:"pixel_id",RECIPIENTS:"recipients",SHOW_NEW_EMAIL:"show_new_email"};}),null);
__d("BusinessFinancePermissionRole",[],(function a(b,c,d,e,f,g){f.exports={FINANCE_EDITOR:"FINANCE_EDITOR",FINANCE_ANALYST:"FINANCE_ANALYST"};}),null);
__d("BusinessIPPermissionRole",[],(function a(b,c,d,e,f,g){f.exports={ADS_RIGHTS_REVIEWER:"ADS_RIGHTS_REVIEWER"};}),null);
__d("CustomAudienceDataSourceSubType",[],(function a(b,c,d,e,f,g){f.exports={ANYTHING:"ANYTHING",NOTHING:"NOTHING",HASHES:"HASHES",USER_IDS:"USER_IDS",HASHES_OR_USER_IDS:"HASHES_OR_USER_IDS",MOBILE_ADVERTISER_IDS:"MOBILE_ADVERTISER_IDS",EXTERNAL_IDS:"EXTERNAL_IDS",MULTI_HASHES:"MULTI_HASHES",TOKENS:"TOKENS",EXTERNAL_IDS_MIX:"EXTERNAL_IDS_MIX",WEB_PIXEL_HITS:"WEB_PIXEL_HITS",MOBILE_APP_EVENTS:"MOBILE_APP_EVENTS",MOBILE_APP_COMBINATION_EVENTS:"MOBILE_APP_COMBINATION_EVENTS",VIDEO_EVENTS:"VIDEO_EVENTS",WEB_PIXEL_COMBINATION_EVENTS:"WEB_PIXEL_COMBINATION_EVENTS",ENGAGEMENT_EVENTS:"ENGAGEMENT_EVENTS",OFFLINE_EVENTS:"OFFLINE_EVENTS",PUSH_NOTIFICATIONS:"PUSH_NOTIFICATIONS",PLATFORM:"PLATFORM",ENGAGEMENT_EVENT_USERS:"ENGAGEMENT_EVENT_USERS",CUSTOM_AUDIENCE_USERS:"CUSTOM_AUDIENCE_USERS",PAGE_FANS:"PAGE_FANS",CONVERSION_PIXEL_HITS:"CONVERSION_PIXEL_HITS",APP_USERS:"APP_USERS",S_EXPR:"S_EXPR",DYNAMIC_RULE:"DYNAMIC_RULE",CAMPAIGN_CONVERSIONS:"CAMPAIGN_CONVERSIONS",WEB_PIXEL_HITS_CUSTOM_AUDIENCE_USERS:"WEB_PIXEL_HITS_CUSTOM_AUDIENCE_USERS",MOBILE_APP_CUSTOM_AUDIENCE_USERS:"MOBILE_APP_CUSTOM_AUDIENCE_USERS",COMBINATION_CUSTOM_AUDIENCE_USERS:"COMBINATION_CUSTOM_AUDIENCE_USERS",REV_SHARE_CUSTOM_AUDIENCE_USERS:"REV_SHARE_CUSTOM_AUDIENCE_USERS",INTEREST_ENGAGERS:"INTEREST_ENGAGERS",VIDEO_EVENT_USERS:"VIDEO_EVENT_USERS",DATA_SET_USERS:"DATA_SET_USERS",FB_PIXEL_HITS:"FB_PIXEL_HITS",IG_PROMOTED_POST:"IG_PROMOTED_POST",PLACE_VISITS:"PLACE_VISITS",OFFLINE_EVENT_USERS:"OFFLINE_EVENT_USERS",EXPANDED_AUDIENCE:"EXPANDED_AUDIENCE",SEED_LIST:"SEED_LIST",PARTNER_CATEGORY_USERS:"PARTNER_CATEGORY_USERS",PAGE_SMART_AUDIENCE:"PAGE_SMART_AUDIENCE",MULTICOUNTRY_COMBINATION:"MULTICOUNTRY_COMBINATION",PLATFORM_USERS:"PLATFORM_USERS",MAIL_CHIMP_EMAIL_HASHES:"MAIL_CHIMP_EMAIL_HASHES",CONSTANT_CONTACTS_EMAIL_HASHES:"CONSTANT_CONTACTS_EMAIL_HASHES",COPY_PASTE_EMAIL_HASHES:"COPY_PASTE_EMAIL_HASHES",USER_PROPERTIES:"USER_PROPERTIES",CONTACT_IMPORTER:"CONTACT_IMPORTER",DATA_SET:"DATA_SET",STUDY_AUDIENCE:"STUDY_AUDIENCE",BAG_OF_ACCOUNTS:"BAG_OF_ACCOUNTS",STUDY_RULE_AUDIENCE:"STUDY_RULE_AUDIENCE",INSTANT_STUDY_AUDIENCE:"INSTANT_STUDY_AUDIENCE"};}),null);
__d("CustomAudienceDataSourceSubTypeInt",[],(function a(b,c,d,e,f,g){f.exports={ANYTHING:0,NOTHING:-1,HASHES:1001,USER_IDS:1002,HASHES_OR_USER_IDS:1003,MOBILE_ADVERTISER_IDS:1004,EXTERNAL_IDS:1005,MULTI_HASHES:1006,TOKENS:1007,EXTERNAL_IDS_MIX:1008,WEB_PIXEL_HITS:2001,MOBILE_APP_EVENTS:2002,MOBILE_APP_COMBINATION_EVENTS:2003,VIDEO_EVENTS:2004,WEB_PIXEL_COMBINATION_EVENTS:2005,ENGAGEMENT_EVENTS:2006,OFFLINE_EVENTS:2007,PUSH_NOTIFICATIONS:2008,PLATFORM:2009,ENGAGEMENT_EVENT_USERS:2015,CUSTOM_AUDIENCE_USERS:3001,PAGE_FANS:3002,CONVERSION_PIXEL_HITS:3003,APP_USERS:3004,S_EXPR:3005,DYNAMIC_RULE:3006,CAMPAIGN_CONVERSIONS:3007,WEB_PIXEL_HITS_CUSTOM_AUDIENCE_USERS:3008,MOBILE_APP_CUSTOM_AUDIENCE_USERS:3009,COMBINATION_CUSTOM_AUDIENCE_USERS:3010,REV_SHARE_CUSTOM_AUDIENCE_USERS:3011,INTEREST_ENGAGERS:3012,VIDEO_EVENT_USERS:3013,DATA_SET_USERS:3014,FB_PIXEL_HITS:3015,IG_PROMOTED_POST:3016,PLACE_VISITS:3017,OFFLINE_EVENT_USERS:3018,EXPANDED_AUDIENCE:3019,SEED_LIST:3020,PARTNER_CATEGORY_USERS:3021,PAGE_SMART_AUDIENCE:3022,MULTICOUNTRY_COMBINATION:3023,PLATFORM_USERS:3024,MAIL_CHIMP_EMAIL_HASHES:4001,CONSTANT_CONTACTS_EMAIL_HASHES:4002,COPY_PASTE_EMAIL_HASHES:5001,USER_PROPERTIES:6001,CONTACT_IMPORTER:7001,DATA_SET:8001,STUDY_AUDIENCE:9001,BAG_OF_ACCOUNTS:10001,STUDY_RULE_AUDIENCE:11001,INSTANT_STUDY_AUDIENCE:12001};}),null);
__d("CustomAudienceDataSourceType",[],(function a(b,c,d,e,f,g){f.exports={UNKNOWN:"UNKNOWN",FILE_IMPORTED:"FILE_IMPORTED",EVENT_BASED:"EVENT_BASED",SEED_BASED:"SEED_BASED",THIRD_PARTY_IMPORTED:"THIRD_PARTY_IMPORTED",COPY_PASTE:"COPY_PASTE",CLAIM_BASED:"CLAIM_BASED",CONTACT_IMPORTER:"CONTACT_IMPORTER",DATA_SET_IMPORTED:"DATA_SET_IMPORTED",STUDY_AUDIENCE:"STUDY_AUDIENCE",BAG_OF_ACCOUNTS:"BAG_OF_ACCOUNTS",STUDY_RULE_AUDIENCE:"STUDY_RULE_AUDIENCE",INSTANT_STUDY_AUDIENCE:"INSTANT_STUDY_AUDIENCE"};}),null);
__d("CustomAudienceOperationStatus",[],(function a(b,c,d,e,f,g){f.exports={NO_STATUS:0,NORMAL:200,UPDATING:300,WARNING:400,LOW_MATCH_RATE:411,HIGH_INVALID_RATE:412,LOW_UID_VALID_RATE:413,PIXEL_UNVERIFIED:421,PIXEL_NOT_FIRING:422,LEGACY_PIXEL:423,REFRESH_FAIL_SOURCE_DELETED:431,BUILD_FAIL_SOURCE_DELETED:432,BUILD_FAIL_UNKNOWN:433,BUILD_RETRYING:434,PENDING_PREFILL:441,FAILED_PREFILL:442,ERROR:500};}),null);
__d("CustomAudienceRuleAggregationField",[],(function a(b,c,d,e,f,g){f.exports={TYPE:"type",METHOD:"method",FIELD:"field",CONFIG:"config",OPERATOR:"operator",VALUE:"value",TIME_SPENT:"time_spent",LOWER_BOUND:"lower_bound",UPPER_BOUND:"upper_bound"};}),null);
__d("CustomAudienceRuleAggregationFunction",[],(function a(b,c,d,e,f,g){f.exports={SUM:"sum",AVG:"avg",MAX:"max",MIN:"min",LATEST_VALUE:"latest_value",COUNT:"count",TIME_SPENT:"time_spent",LAST_EVENT_TIME_FIELD:"last_event_time_field"};}),null);
__d("CustomAudienceRuleDeviceSource",[],(function a(b,c,d,e,f,g){f.exports={ALL:"all",MOBILE:"mobile",IOS:"ios",ANDROID:"android",DESKTOP:"desktop",GAMES_ON_FACEBOOK:"fbcanvas"};}),null);
__d("CustomAudienceRuleEventSourceField",[],(function a(b,c,d,e,f,g){f.exports={ID:"id",TYPE:"type"};}),null);
__d("CustomAudienceRuleField",[],(function a(b,c,d,e,f,g){f.exports={EVENT:"event",EVENT_SOURCES:"event_sources",EVENT_SOURCE_TYPE:"event_source_type",RETENTION_SECONDS:"retention_seconds",DEVICE:"device_type",FILTER:"filter",AGGREGATION:"aggregation",TEMPLATE:"template",SEGMENT_ID:"segment_id"};}),null);
__d("CustomAudienceRuleFilterField",[],(function a(b,c,d,e,f,g){f.exports={FIELD:"field",OPERATOR:"operator",VALUE:"value",FILTERS:"filters"};}),null);
__d("CustomAudienceRuleMode",[],(function a(b,c,d,e,f,g){f.exports={INCLUSIONS:"inclusions",EXCLUSIONS:"exclusions"};}),null);
__d("CustomAudienceRuleSetField",[],(function a(b,c,d,e,f,g){f.exports={OPERATOR:"operator",RULES:"rules"};}),null);
__d("CustomAudienceRuleSignalSource",[],(function a(b,c,d,e,f,g){f.exports={PAGE:"page",VIDEO:"video",LEAD:"lead",CANVAS:"canvas",APP:"app",OFFLINE_EVENTS:"offline_events",PIXEL:"pixel",STORE_VISITS:"store_visits",DATAFILE:"datafile",INSTANT_ARTICLE:"instant_article"};}),null);
__d("CustomAudienceRuleTemplate",[],(function a(b,c,d,e,f,g){f.exports={ALL_VISITORS:"ALL_VISITORS",TOP_TIME_SPENDERS:"TOP_TIME_SPENDERS",VISITORS_BY_URL:"VISITORS_BY_URL",MACA_APP_LAUNCHED_USERS:"MACA_APP_LAUNCHED_USERS",MACA_MOST_ACTIVE_USERS:"MACA_MOST_ACTIVE_USERS",MACA_TOP_PURCHASE_USERS:"MACA_TOP_PURCHASE_USERS"};}),null);
__d("CustomAudienceUserAttributeTypes",[],(function a(b,c,d,e,f,g){f.exports={LOOKALIKE_VALUE:"LOOKALIKE_VALUE"};}),null);
__d("CustomConversionEventSourceType",[],(function a(b,c,d,e,f,g){f.exports={PIXEL:"pixel",APPLICATION:"application",OFFLINE_CONVERSION_DATA_SET:"offline_conversion_data_set",MULTIPLE_SOURCES:"multiple_sources"};}),null);
__d("CustomEventType",[],(function a(b,c,d,e,f,g){f.exports={ACHIEVEMENT_UNLOCKED:"Achievement Unlocked",ACTIVATE_APP:"Activate App",ADD_PAYMENT_INFO:"Add Payment Info",ADD_TO_CART:"Add to Cart",ADD_TO_WISHLIST:"Add to WishList",COMPLETE_REGISTRATION:"Complete Registration",CONTENT_VIEW:"Content View",INITIATED_CHECKOUT:"Initiated Checkout",LEAD:"Lead",LEVEL_ACHIEVED:"Level Achieved",OTHER:"Other",PURCHASE:"Purchase",RATE:"Rate",SEARCH:"Search",SPENT_CREDITS:"Spent Credits",TUTORIAL_COMPLETION:"Tutorial Completion"};}),null);
__d("IdentityMatchKeyEnum",[],(function a(b,c,d,e,f,g){f.exports={EXTERN_ID:"extern_id",APPUID:"appuid",PAGEUID:"pageuid",EMAIL:"email",PHONE:"phone",EMAIL_MD5:"email_md5",PHONE_MD5:"phone_md5",LN_FN_CT_ST:"ln_fn_ct_st",LN_FN_ZIP:"ln_fn_zip",PARTIALPHONE_COUNTRY:"partialphone_country",PHONEID:"phoneid",MADID:"madid",EMAIL_FN:"email_fn",EMAIL_LN:"email_ln",PHONE_FN:"phone_fn",LN_FN_ZIP_DOBY:"ln_fn_zip_doby",LN_FN_CT_ST_DOBY:"ln_fn_ct_st_doby",LN_FI_ZIP:"ln_fi_zip",LN_FI_CT_ST:"ln_fi_ct_st",LN_FI_ST_DOB:"ln_fi_st_dob",LN_FN_ST_DOBY:"ln_fn_st_doby",LN_FN_COUNTRY_DOB:"ln_fn_country_dob",LN_FN_DOB:"ln_fn_dob",BROWSER_ID:"browserid",INSTAGRAM_ID:"instagramid",LN_STRNAME_CT_ST_ZIP:"ln_strname_ct_st_zip",STRADDR_CT_ST_ZIP:"straddr_ct_st_zip",STRNUM_STRNAME_STRTYPE_CT_ST_ZIP:"strnum_strname_strtype_ct_st_zip",TOTAL:"total"};}),null);
__d("NuxActionType",[],(function a(b,c,d,e,f,g){f.exports={VIEW:"view",DISMISS:"dismiss"};}),null);
__d("SavedTargetSpecSyncStatus",[],(function a(b,c,d,e,f,g){f.exports={SUCCESS:"SUCCESS",FAILURE:"FAILURE"};}),null);
__d("SignalBaseTypeDescriptions",[],(function a(b,c,d,e,f,g){f.exports={currency_code:{label:"Currency",examples:null,noUI:true},date:{label:"Date",examples:null,noUI:true},email:{label:"Email",examples:null,noUI:true},number:{label:"Number",examples:null},string:{label:"Text",examples:null},timestamp:{label:"Timestamp",examples:null,noUI:true},phone_number:{label:"Phone number",examples:null,noUI:true},postal_code:{label:"Postal code",examples:null,noUI:true},fbid:{label:"Facebook ID",examples:null,noUI:true}};}),null);
__d("SignalBaseTypes",[],(function a(b,c,d,e,f,g){f.exports={CURRENCY_CODE:"currency_code",DATE:"date",DATE_MONTH:"date_month",EMAIL:"email",ENUM:"enum",NUMBER:"number",STRING:"string",TIMESTAMP:"timestamp",UNIX_TIME:"unix_time",PHONE_NUMBER:"phone_number",POSTAL_CODE:"postal_code",ANY:"any",LIST:"LIST",BOOL:"bool",FBID:"fbid",VALUE:"value"};}),null);
__d("SignalsBasicPIISchema",[],(function a(b,c,d,e,f,g){f.exports={additionalInfoURL:"https:\/\/www.facebook.com\/help\/606443329504150",id:"basic_pii_schema",version:"0.0.1",type:"pii_keys",exampleFiles:{csv:"\/images\/ads\/signals\/example_files\/example_audience_file.csv"},validIf:{rule:"minValidProps",args:1},transform:["processPIISignalBeforeUpload"],props:[{key:"email",maxOccurrence:3,label:"Email",examples:["Emily\u0040example.com","John\u0040example.com","Helena\u0040example.com"],type:"email"},{key:"phone",maxOccurrence:3,label:"Phone Number",examples:["1(222)333-4444","001(222)333-4444","+12223334444"],type:"phone_number"},{key:"madid",label:"Mobile Advertiser ID",formats:["Android's Advertising ID(AAID)","Apple's Advertising Identifier(IDFA)"],type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^([a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12}|[a-zA-Z0-9]{6}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{13})$"}},{key:"fn",label:"First Name",examples:["John","F.","Fr&eacute;d&eacute;drique"],type:"string",typeParams:{lowercase:true,strip:"whitespace_and_punctuation"}},{key:"ln",label:"Last Name",examples:["Smith","S&oslash;rensen","Jacobs-Anderson"],type:"string",typeParams:{lowercase:true,strip:"whitespace_and_punctuation"}},{key:"zip",label:"ZIP\/Postal Code",examples:["94025","94025-3215","L3T 5M7"],type:"postal_code"},{key:"ct",label:"City",examples:["Menlo Park","Seattle","London"],type:"string",typeParams:{lowercase:true,strip:"all_non_latin_alpha_numeric",test:"^[a-z]+"}},{key:"st",label:"State\/Province",examples:["CA","Califonia","Texas"],type:"string",typeParams:{lowercase:true,truncate:2,strip:"all_non_latin_alpha_numeric",test:"^[a-z]+"}},{key:"country",label:"Country",examples:["US","GB","FR"],type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-zA-Z]{2,2}"}},{key:"dob",label:"Date of Birth",examples:["mm\/dd\/yyyy","mm\/dd\/yy","yyyy-mm-dd","+ 15 more"],type:"date"},{key:"doby",label:"Year of Birth",type:"string",typeParams:{test:"^[0-9]{4,4}$"},examples:["1978","1962","1990"]},{key:"gen",label:"Gender",examples:["M","F"],type:"enum",typeParams:{lowercase:true,options:["f","m"]}},{key:"age",label:"Age",examples:[65,42,21],type:"number",typeParams:{min:0}},{key:"appuid",label:"Facebook App User ID",examples:["1234567890","1443637309","1234567892"],type:"fbid",typeParams:{scoped:true,rejectHashed:true}},{key:"fi",noUI:true,label:"First name initial",type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-z]{1,1}$"}},{key:"f5first",noUI:true,label:"First five letters of first name",type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-z]{5,5}$"}},{key:"f5last",noUI:true,label:"First five letters of last name",type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-z]{5,5}$"}},{key:"pageuid",label:"Facebook Page User ID",examples:["1234567890","1443637309","1234567892"],type:"fbid",typeParams:{scoped:true,rejectHashed:true}}]};}),null);
__d("SignalsEventDataSchema",[],(function a(b,c,d,e,f,g){f.exports={additionalInfoURL:"https:\/\/www.facebook.com\/help\/606443329504150",id:"event_data_schema",version:"0.0.1",exampleFiles:{csv:"\/images\/ads\/signals\/example_files\/example_events_file.csv"},validIf:{rule:"meetAll",args:[{rule:"propValid",name:"valid_match_keys",args:"match_keys"},{rule:"propValid",name:"valid_event_time",args:"event_time"},{rule:"propValid",name:"valid_event_name",args:"event_name"},{rule:"dependentProps",name:"require_value_and_currency_if_purchase",args:[{rule:"propValueIs",args:["event_name","Purchase"]},["value","currency"]]},{rule:"dependentProps",name:"require_currency_if_value",args:[{rule:"propValid",args:"value"},["currency"]]},{rule:"dependentProps",name:"require_value_if_currency",args:[{rule:"propValid",args:"currency"},["value"]]}]},props:[{key:"event_time",label:"Event Time",examples:["2016-06-20T03:21:48+01:00","2016-06-20T03:21:48","1459315678","mm\/dd\/yyyy","+ 15 more"],typeParams:{rejectTimeBefore:6.3072e+10},type:"unix_time"},{key:"event_name",label:"Event Name",formats:["AddPaymentInfo","AddToCart","AddToWishlist","CompleteRegistration","InitiateCheckout","Lead","Purchase","Search","ViewContent","Other"],type:"enum",typeParams:{caseInsensitive:true,options:["AddPaymentInfo","AddToCart","AddToWishlist","CompleteRegistration","InitiateCheckout","Lead","Purchase","Search","ViewContent","Other"]},maxCountOfExamplesToShow:30},{key:"match_keys",label:"Match keys",type:{additionalInfoURL:"https:\/\/www.facebook.com\/help\/606443329504150",id:"extended_pii_schema",version:"0.2.0",type:"pii_keys",exampleFiles:{csv:"\/images\/ads\/signals\/example_files\/example_audience_file.csv"},validIf:{rule:"minValidProps",args:1},transform:["processPIISignalBeforeUpload"],props:[{key:"email",maxOccurrence:3,label:"Email",examples:["Emily\u0040example.com","John\u0040example.com","Helena\u0040example.com"],type:"email"},{key:"phone",maxOccurrence:3,label:"Phone Number",examples:["1(222)333-4444","001(222)333-4444","+12223334444"],type:"phone_number"},{key:"madid",label:"Mobile Advertiser ID",formats:["Android's Advertising ID(AAID)","Apple's Advertising Identifier(IDFA)"],type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^([a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12}|[a-zA-Z0-9]{6}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{13})$"}},{key:"fn",label:"First Name",examples:["John","F.","Fr&eacute;d&eacute;drique"],type:"string",typeParams:{lowercase:true,strip:"whitespace_and_punctuation"}},{key:"ln",label:"Last Name",examples:["Smith","S&oslash;rensen","Jacobs-Anderson"],type:"string",typeParams:{lowercase:true,strip:"whitespace_and_punctuation"}},{key:"zip",label:"ZIP\/Postal Code",examples:["94025","94025-3215","L3T 5M7"],type:"postal_code"},{key:"ct",label:"City",examples:["Menlo Park","Seattle","London"],type:"string",typeParams:{lowercase:true,strip:"all_non_latin_alpha_numeric",test:"^[a-z]+"}},{key:"st",label:"State\/Province",examples:["CA","Califonia","Texas"],type:"string",typeParams:{lowercase:true,truncate:2,strip:"all_non_latin_alpha_numeric",test:"^[a-z]+"}},{key:"country",label:"Country",examples:["US","GB","FR"],type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-zA-Z]{2,2}"}},{key:"dob",label:"Date of Birth",examples:["mm\/dd\/yyyy","mm\/dd\/yy","yyyy-mm-dd","+ 15 more"],type:"date"},{key:"doby",label:"Year of Birth",type:"string",typeParams:{test:"^[0-9]{4,4}$"},examples:["1978","1962","1990"]},{key:"gen",label:"Gender",examples:["M","F"],type:"enum",typeParams:{lowercase:true,options:["f","m"]}},{key:"age",label:"Age",examples:[65,42,21],type:"number",typeParams:{min:0}},{key:"appuid",label:"Facebook App User ID",examples:["1234567890","1443637309","1234567892"],type:"fbid",typeParams:{scoped:true,rejectHashed:true}},{key:"fi",noUI:true,label:"First name initial",type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-z]{1,1}$"}},{key:"f5first",noUI:true,label:"First five letters of first name",type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-z]{5,5}$"}},{key:"f5last",noUI:true,label:"First five letters of last name",type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-z]{5,5}$"}},{key:"pageuid",label:"Facebook Page User ID",examples:["1234567890","1443637309","1234567892"],type:"fbid",typeParams:{scoped:true,rejectHashed:true}},{key:"extern_id",label:"External ID",description:"Advertiser-specific or third-party ID",examples:["ABX1234","99931356","12XYZ981"],type:"string",typeParams:{rejectHashed:true}},{key:"lead_id",label:"Lead ID",description:"Facebook Lead ID",examples:["7543756327866","4234567890123","l:4234567890123"],type:"fbid",typeParams:{rejectHashed:true,stripPrefix:true}}],baseSchema:{id:"basic_pii_schema",version:"0.0.1"}}},{key:"custom_data",label:"CustomData",type:{canHaveExtraProps:true}},{key:"value",label:"Value",examples:"2534",type:"number",typeParams:{moreThan:0}},{key:"currency",label:"Currency",examples:["USD","HUF"],type:"currency_code"}]};}),null);
__d("SignalsExtendedPIISchema",[],(function a(b,c,d,e,f,g){f.exports={additionalInfoURL:"https:\/\/www.facebook.com\/help\/606443329504150",id:"extended_pii_schema",version:"0.2.0",type:"pii_keys",exampleFiles:{csv:"\/images\/ads\/signals\/example_files\/example_audience_file.csv"},validIf:{rule:"minValidProps",args:1},transform:["processPIISignalBeforeUpload"],props:[{key:"email",maxOccurrence:3,label:"Email",examples:["Emily\u0040example.com","John\u0040example.com","Helena\u0040example.com"],type:"email"},{key:"phone",maxOccurrence:3,label:"Phone Number",examples:["1(222)333-4444","001(222)333-4444","+12223334444"],type:"phone_number"},{key:"madid",label:"Mobile Advertiser ID",formats:["Android's Advertising ID(AAID)","Apple's Advertising Identifier(IDFA)"],type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^([a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12}|[a-zA-Z0-9]{6}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{13})$"}},{key:"fn",label:"First Name",examples:["John","F.","Fr&eacute;d&eacute;drique"],type:"string",typeParams:{lowercase:true,strip:"whitespace_and_punctuation"}},{key:"ln",label:"Last Name",examples:["Smith","S&oslash;rensen","Jacobs-Anderson"],type:"string",typeParams:{lowercase:true,strip:"whitespace_and_punctuation"}},{key:"zip",label:"ZIP\/Postal Code",examples:["94025","94025-3215","L3T 5M7"],type:"postal_code"},{key:"ct",label:"City",examples:["Menlo Park","Seattle","London"],type:"string",typeParams:{lowercase:true,strip:"all_non_latin_alpha_numeric",test:"^[a-z]+"}},{key:"st",label:"State\/Province",examples:["CA","Califonia","Texas"],type:"string",typeParams:{lowercase:true,truncate:2,strip:"all_non_latin_alpha_numeric",test:"^[a-z]+"}},{key:"country",label:"Country",examples:["US","GB","FR"],type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-zA-Z]{2,2}"}},{key:"dob",label:"Date of Birth",examples:["mm\/dd\/yyyy","mm\/dd\/yy","yyyy-mm-dd","+ 15 more"],type:"date"},{key:"doby",label:"Year of Birth",type:"string",typeParams:{test:"^[0-9]{4,4}$"},examples:["1978","1962","1990"]},{key:"gen",label:"Gender",examples:["M","F"],type:"enum",typeParams:{lowercase:true,options:["f","m"]}},{key:"age",label:"Age",examples:[65,42,21],type:"number",typeParams:{min:0}},{key:"appuid",label:"Facebook App User ID",examples:["1234567890","1443637309","1234567892"],type:"fbid",typeParams:{scoped:true,rejectHashed:true}},{key:"fi",noUI:true,label:"First name initial",type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-z]{1,1}$"}},{key:"f5first",noUI:true,label:"First five letters of first name",type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-z]{5,5}$"}},{key:"f5last",noUI:true,label:"First five letters of last name",type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-z]{5,5}$"}},{key:"pageuid",label:"Facebook Page User ID",examples:["1234567890","1443637309","1234567892"],type:"fbid",typeParams:{scoped:true,rejectHashed:true}},{key:"extern_id",label:"External ID",description:"Advertiser-specific or third-party ID",examples:["ABX1234","99931356","12XYZ981"],type:"string",typeParams:{rejectHashed:true}},{key:"lead_id",label:"Lead ID",description:"Facebook Lead ID",examples:["7543756327866","4234567890123","l:4234567890123"],type:"fbid",typeParams:{rejectHashed:true,stripPrefix:true}}],baseSchema:{id:"basic_pii_schema",version:"0.0.1"}};}),null);
__d("SignalsNormalizationErrorScope",[],(function a(b,c,d,e,f,g){f.exports={RULE:"rule",PROP:"prop"};}),null);
__d("SignalsPeopleDataSchema",[],(function a(b,c,d,e,f,g){f.exports={id:"people_data_schema",version:"0.0.1",validIf:{rule:"meetAny",args:[{rule:"propValid",args:"match_keys"},{rule:"propValid",args:"external_id"},{rule:"propValid",args:"attributes"}]},props:[{key:"external_id",label:"External ID",examples:"123455",type:"number",typeParams:{integer:true,min:0}},{key:"match_keys",label:"Match keys",type:{additionalInfoURL:"https:\/\/www.facebook.com\/help\/606443329504150",id:"extended_pii_schema",version:"0.2.0",type:"pii_keys",exampleFiles:{csv:"\/images\/ads\/signals\/example_files\/example_audience_file.csv"},validIf:{rule:"minValidProps",args:1},transform:["processPIISignalBeforeUpload"],props:[{key:"email",maxOccurrence:3,label:"Email",examples:["Emily\u0040example.com","John\u0040example.com","Helena\u0040example.com"],type:"email"},{key:"phone",maxOccurrence:3,label:"Phone Number",examples:["1(222)333-4444","001(222)333-4444","+12223334444"],type:"phone_number"},{key:"madid",label:"Mobile Advertiser ID",formats:["Android's Advertising ID(AAID)","Apple's Advertising Identifier(IDFA)"],type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^([a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12}|[a-zA-Z0-9]{6}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{13})$"}},{key:"fn",label:"First Name",examples:["John","F.","Fr&eacute;d&eacute;drique"],type:"string",typeParams:{lowercase:true,strip:"whitespace_and_punctuation"}},{key:"ln",label:"Last Name",examples:["Smith","S&oslash;rensen","Jacobs-Anderson"],type:"string",typeParams:{lowercase:true,strip:"whitespace_and_punctuation"}},{key:"zip",label:"ZIP\/Postal Code",examples:["94025","94025-3215","L3T 5M7"],type:"postal_code"},{key:"ct",label:"City",examples:["Menlo Park","Seattle","London"],type:"string",typeParams:{lowercase:true,strip:"all_non_latin_alpha_numeric",test:"^[a-z]+"}},{key:"st",label:"State\/Province",examples:["CA","Califonia","Texas"],type:"string",typeParams:{lowercase:true,truncate:2,strip:"all_non_latin_alpha_numeric",test:"^[a-z]+"}},{key:"country",label:"Country",examples:["US","GB","FR"],type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-zA-Z]{2,2}"}},{key:"dob",label:"Date of Birth",examples:["mm\/dd\/yyyy","mm\/dd\/yy","yyyy-mm-dd","+ 15 more"],type:"date"},{key:"doby",label:"Year of Birth",type:"string",typeParams:{test:"^[0-9]{4,4}$"},examples:["1978","1962","1990"]},{key:"gen",label:"Gender",examples:["M","F"],type:"enum",typeParams:{lowercase:true,options:["f","m"]}},{key:"age",label:"Age",examples:[65,42,21],type:"number",typeParams:{min:0}},{key:"appuid",label:"Facebook App User ID",examples:["1234567890","1443637309","1234567892"],type:"fbid",typeParams:{scoped:true,rejectHashed:true}},{key:"fi",noUI:true,label:"First name initial",type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-z]{1,1}$"}},{key:"f5first",noUI:true,label:"First five letters of first name",type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-z]{5,5}$"}},{key:"f5last",noUI:true,label:"First five letters of last name",type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-z]{5,5}$"}},{key:"pageuid",label:"Facebook Page User ID",examples:["1234567890","1443637309","1234567892"],type:"fbid",typeParams:{scoped:true,rejectHashed:true}},{key:"extern_id",label:"External ID",description:"Advertiser-specific or third-party ID",examples:["ABX1234","99931356","12XYZ981"],type:"string",typeParams:{rejectHashed:true}},{key:"lead_id",label:"Lead ID",description:"Facebook Lead ID",examples:["7543756327866","4234567890123","l:4234567890123"],type:"fbid",typeParams:{rejectHashed:true,stripPrefix:true}}],baseSchema:{id:"basic_pii_schema",version:"0.0.1"}}},{key:"attributes",label:"Attributes",type:{validIf:{rule:"minValidProps",args:1},canHaveExtraProps:true}}]};}),null);
__d("SignalsPixelDataSchema",[],(function a(b,c,d,e,f,g){f.exports={validIf:{rule:"meetAll",args:[{rule:"propValid",args:"timestamp"},{rule:"propValid",args:"eventName"},{rule:"dependentProps",args:[{rule:"propValueIs",args:["eventName","Purchase"]},["customData.value","customData.currency"]]},{rule:"dependentProps",args:[{rule:"propValueIs",args:["eventName","CustomEvent"]},["customData.event"]]}]},canHaveExtraProps:true,props:[{key:"timestamp",type:"timestamp"},{key:"eventName",type:"enum",typeParams:{options:["ViewContent","Search","AddToCart","AddToWishlist","InitiateCheckout","AddPaymentInfo","Purchase","Lead","CompleteRegistration","CustomConversion","AggregateCustomConversion","Other","PageView","CustomEvent","SubscribedButtonClick","Microdata"]}},{key:"userData",type:{additionalInfoURL:"https:\/\/www.facebook.com\/help\/606443329504150",type:"pii_keys",exampleFiles:{csv:"\/images\/ads\/signals\/example_files\/example_audience_file.csv"},validIf:{rule:"minValidProps",args:1},transform:["processPIISignalBeforeUpload"],props:[{key:"email",maxOccurrence:3,type:"email"},{key:"phone",maxOccurrence:3,type:"phone_number"},{key:"madid",formats:["Android's Advertising ID(AAID)","Apple's Advertising Identifier(IDFA)"],type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^([a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12}|[a-zA-Z0-9]{6}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{13})$"}},{key:"fn",type:"string",typeParams:{lowercase:true,strip:"whitespace_and_punctuation"}},{key:"ln",type:"string",typeParams:{lowercase:true,strip:"whitespace_and_punctuation"}},{key:"zip",type:"postal_code"},{key:"ct",type:"string",typeParams:{lowercase:true,strip:"all_non_latin_alpha_numeric",test:"^[a-z]+"}},{key:"st",type:"string",typeParams:{lowercase:true,truncate:2,strip:"all_non_latin_alpha_numeric",test:"^[a-z]+"}},{key:"country",type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-zA-Z]{2,2}"}},{key:"dob",type:"date"},{key:"doby",type:"string",typeParams:{test:"^[0-9]{4,4}$"}},{key:"gen",type:"enum",typeParams:{lowercase:true,options:["f","m"]}},{key:"age",type:"number",typeParams:{min:0}},{key:"appuid",type:"fbid",typeParams:{scoped:true,rejectHashed:true}},{key:"fi",noUI:true,type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-z]{1,1}$"}},{key:"f5first",noUI:true,type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-z]{5,5}$"}},{key:"f5last",noUI:true,type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-z]{5,5}$"}},{key:"pageuid",type:"fbid",typeParams:{scoped:true,rejectHashed:true}}]}},{key:"customData",type:{canHaveExtraProps:true,props:[{key:"value",type:"number",typeParams:{integer:true,min:0}},{key:"currency",type:"currency_code"},{key:"event",type:{type:"any"}}]}}]};}),null);
__d("SignalsStringStripModes",[],(function a(b,c,d,e,f,g){f.exports={WHITESPACE_ONLY:"whitespace_only",WHITESPACE_AND_PUNCTUATION:"whitespace_and_punctuation",ALL_NON_LATIN_ALPHA_NUMERIC:"all_non_latin_alpha_numeric"};}),null);
__d("SignalsUploaderLoggingKeys",[],(function a(b,c,d,e,f,g){f.exports={SIGNALS_UPLOADER_START_UPLOAD:"signals_uploader_start_upload",SIGNALS_UPLOADER_FINISH_UPLOAD:"signals_uploader_finish_upload",OLD_CA_UPLOADER_START_UPLOAD:"old_ca_uploader_start_upload",OLD_CA_UPLOADER_FINISH_UPLOAD:"old_ca_uploader_finish_upload"};}),null);
__d("SignalsWLALExtendedPIISchema",[],(function a(b,c,d,e,f,g){f.exports={additionalInfoURL:"https:\/\/www.facebook.com\/help\/606443329504150",id:"wlal_pii_schema",version:"0.0.1",type:"pii_keys",exampleFiles:{csv:"\/images\/ads\/signals\/example_files\/example_value_based_audience_file.csv"},validIf:{rule:"meetAll",args:[{rule:"propValid",args:"match_keys"},{rule:"propValid",args:"lookalike_value"}]},props:[{key:"match_keys",label:"Match keys",type:{additionalInfoURL:"https:\/\/www.facebook.com\/help\/606443329504150",id:"basic_pii_schema",version:"0.0.1",type:"pii_keys",exampleFiles:{csv:"\/images\/ads\/signals\/example_files\/example_audience_file.csv"},validIf:{rule:"minValidProps",args:1},transform:["processPIISignalBeforeUpload"],props:[{key:"email",maxOccurrence:3,label:"Email",examples:["Emily\u0040example.com","John\u0040example.com","Helena\u0040example.com"],type:"email"},{key:"phone",maxOccurrence:3,label:"Phone Number",examples:["1(222)333-4444","001(222)333-4444","+12223334444"],type:"phone_number"},{key:"madid",label:"Mobile Advertiser ID",formats:["Android's Advertising ID(AAID)","Apple's Advertising Identifier(IDFA)"],type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^([a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12}|[a-zA-Z0-9]{6}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{13})$"}},{key:"fn",label:"First Name",examples:["John","F.","Fr&eacute;d&eacute;drique"],type:"string",typeParams:{lowercase:true,strip:"whitespace_and_punctuation"}},{key:"ln",label:"Last Name",examples:["Smith","S&oslash;rensen","Jacobs-Anderson"],type:"string",typeParams:{lowercase:true,strip:"whitespace_and_punctuation"}},{key:"zip",label:"ZIP\/Postal Code",examples:["94025","94025-3215","L3T 5M7"],type:"postal_code"},{key:"ct",label:"City",examples:["Menlo Park","Seattle","London"],type:"string",typeParams:{lowercase:true,strip:"all_non_latin_alpha_numeric",test:"^[a-z]+"}},{key:"st",label:"State\/Province",examples:["CA","Califonia","Texas"],type:"string",typeParams:{lowercase:true,truncate:2,strip:"all_non_latin_alpha_numeric",test:"^[a-z]+"}},{key:"country",label:"Country",examples:["US","GB","FR"],type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-zA-Z]{2,2}"}},{key:"dob",label:"Date of Birth",examples:["mm\/dd\/yyyy","mm\/dd\/yy","yyyy-mm-dd","+ 15 more"],type:"date"},{key:"doby",label:"Year of Birth",type:"string",typeParams:{test:"^[0-9]{4,4}$"},examples:["1978","1962","1990"]},{key:"gen",label:"Gender",examples:["M","F"],type:"enum",typeParams:{lowercase:true,options:["f","m"]}},{key:"age",label:"Age",examples:[65,42,21],type:"number",typeParams:{min:0}},{key:"appuid",label:"Facebook App User ID",examples:["1234567890","1443637309","1234567892"],type:"fbid",typeParams:{scoped:true,rejectHashed:true}},{key:"fi",noUI:true,label:"First name initial",type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-z]{1,1}$"}},{key:"f5first",noUI:true,label:"First five letters of first name",type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-z]{5,5}$"}},{key:"f5last",noUI:true,label:"First five letters of last name",type:"string",typeParams:{lowercase:true,strip:"whitespace_only",test:"^[a-z]{5,5}$"}},{key:"pageuid",label:"Facebook Page User ID",examples:["1234567890","1443637309","1234567892"],type:"fbid",typeParams:{scoped:true,rejectHashed:true}}]}},{key:"lookalike_value",label:"Customer Value",description:"We support a numeric value, such as customer lifetime value or predictive lifetime value.",examples:[0,.1,3,20],type:"value",typeParams:{min:0}}]};}),null);
__d("StoreVisitCustomAudiencesConstants",[],(function a(b,c,d,e,f,g){f.exports={RULE_FILTER_EVENT_STORE_VISIT:"store_visit",RULE_FILTER_FIELD_COUNTRY:"store_visit_country"};}),null);
__d("TargetingSuggestionMode",[],(function a(b,c,d,e,f,g){f.exports={BEST_PERFORMING:"best_performing",RECENTLY_USED:"recently_used",RELATED:"related",SUGGESTIONS:"suggestions"};}),null);
__d("TargetingSuggestionSupportedTargetingTypes",[],(function a(b,c,d,e,f,g){f.exports={INTERESTS:"interests",USER_ADCLUSTERS:"user_adclusters",BEHAVIOR_CATEGORIES:"behaviors",ETHNIC_AFFINITY:"ethnic_affinity",FAMILY_STATUSES:"family_statuses",GENERATION:"generation",HOME_OWNERSHIP:"home_ownership",HOME_TYPE:"home_type",HOME_VALUE:"home_value",HOUSEHOLD_COMPOSITION:"household_composition",INCOME:"income",INDUSTRIES:"industries",LIFE_EVENTS:"life_events",MOMS:"moms",NET_WORTH:"net_worth",OFFICE_TYPE:"office_type",POLITICS:"politics",INTERESTED_IN:"interested_in",RELATIONSHIP_STATUSES:"relationship_statuses",EDUCATION_STATUSES:"education_statuses",COLLEGE_YEARS:"college_years",WORK_EMPLOYERS:"work_employers",WORK_JOB_TITLES:"work_positions",EDU_FIELDS_OF_STUDY:"education_majors",EDU_SCHOOLS:"education_schools"};}),null);
__d("WebsiteCustomAudienceTrafficType",[],(function a(b,c,d,e,f,g){f.exports={ALL_WEBSITE_VISITORS:1,SPECIFIC_PAGE_VISITORS:2,SPECIFIC_PAGE_VISITORS_WITH_EXCLUSION:3,CHURNED_VISITORS:4,CUSTOM:5,TIME_SPENT:6};}),null);
__d('AdsPixelCreationConstants',['fbt','ix'],(function a(b,c,d,e,f,g,h,i){'use strict';f.exports={CUSTOM_CONVERSION:{title:h._("Track custom conversions"),message:h._("Track and optimise adverts for customised actions without adding anything to your Facebook pixel code. You can also use custom conversions to apply rules to standard event traffic."),image:i("23250"),key:'custom_conversions'},CUSTOM_AUDIENCE:{title:h._("Create a Custom Audience"),message:h._("Create a Custom Audience to show your adverts to people who take specific actions or visit specific web pages."),image:i("23251"),key:'custom_audiences'},MANUAL_INSTALL:{title:h._("Copy and paste the code"),message:h._("Choose this option if you need to manually insert pixel code snippets into your website code. We'll walk you through how to do it."),image:i("23265"),key:'manual_install'},STANDARD_EVENTS:{title:h._("Track conversions with standard events"),message:h._("Track conversions and optimise adverts for them using one of our 9 standard events. You'll need to modify the Facebook pixel code that you add to your website."),image:i("23256"),key:'standard_events'},TAG_MANAGER:{title:h._("Use an integration or tag manager"),message:h._("Choose this option if you use a tag manager tool or e-commerce platform that offers Facebook integration."),image:i("23266"),key:'tag_manager'},GTM_QUICKINSTALL:{title:h._("Quick installation"),message:h._("Use our interface to publish the Facebook pixel code directly into Google Tag Manager."),image:i("23266"),key:'gtm_quickinstall'},GTM_MANNUALINSTALL:{title:h._("Manual install"),message:h._("Use the Google Tag Manager interface to manually enter the Facebook pixel base code and event code."),image:i("23265"),key:'gtm_mannualinstall'}};}),null);
__d('AdsPixelIntegrationsConstants',['fbt','ix','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=i("23267");f.exports={SHOPIFY:{title:h._("Shopify"),message:c('React').createElement('div',null,c('React').createElement('div',{style:{paddingBottom:'4px'}},h._("The Shopify e-commerce platform natively supports integration with the Facebook pixel."),c('React').createElement('br',null)),h._("You can add your Facebook pixel account ID in your Shopify admin panel to install the pixel code in the necessary locations.")),image:i("23271"),key:'shopify'},GOOGLE:{title:h._("Google Tag Manager"),message:null,image:j,key:'gtm-new'},MAGENTO:{title:h._("Magento"),message:h._("Facebook offers a plug-in to use with the Magento e-commerce platform. The plug-in lets you quickly install the necessary pixel code in your website code."),image:j,key:'magento'},BIGCOMMERCE:{title:h._("BigCommerce"),message:null,image:i("23269"),key:'bigcommerce'},SEGMENT:{title:h._("Segment"),message:null,image:i("23268"),key:'segment'}};}),null);
__d('AdsReachEstimateActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h={LOAD_SUCCESS:'',LOAD_ERROR:'',STARTED_LOAD:''},i=c('keyMirrorRecursive')(h,'REACH_ESTIMATE');f.exports=i;}),null);
__d('AdsReachEstimateServerActions',['AdsDispatcher','AdsReachEstimateActionTypes','immutable'],(function a(b,c,d,e,f,g){'use strict';var h={updateReachEstimate:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({data:j,params:k,type:c('AdsReachEstimateActionTypes').LOAD_SUCCESS});},failReachEstimate:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({error:j,params:k,type:c('AdsReachEstimateActionTypes').LOAD_ERROR});},notifyStartedLoading:function i(j){c('AdsDispatcher').handleUpdateFromInitialServer({params:j,type:c('AdsReachEstimateActionTypes').STARTED_LOAD});}};f.exports=h;}),null);
__d('AdsAMConstants',[],(function a(b,c,d,e,f,g){var h={THIRD_PARTY:'third_party',DATA_FILE:'file'};f.exports={CREATION_STRATEGY:h,FILE_UPLOAD_CONCURRENCY:4};}),null);
__d('AdsAMActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({AM_START_LOADING:'',ACCOUNT_INIT:'',ACCOUNT_ACCEPTED_TOS_ADD:'',AUDIENCE_CHANGE:'',AUDIENCE_INIT:'',AUDIENCE_ADD:'',AUDIENCE_BULK_ADD:'',AUDIENCE_DELETE:'',AUDIENCE_DELETE_START:'',AUDIENCE_BULK_DELETE:'',AUDIENCE_SORT:'',AUDIENCE_SAVE_TO_CA_BUFFER:'',AUDIENCE_SAVE_TO_STS_BUFFER:'',AUDIENCE_GET_OVERLAP:'',AUDIENCE_LOAD_OVERLAP:'',AUDIENCE_DETAILS_DELETE_AUDIENCE_ERROR:'',AUDIENCE_DETAILS_DELETE_AUDIENCE:'',AUDIENCE_DETAILS_DELETE_AUDIENCE_DONE:'',AUDIENCE_DETAILS_APPEND_LOOKALIKE_NAME:'',AUDIENCE_DETAILS_GET_AUDIENCE_ACTIVITIES_ERROR:'',AUDIENCE_DETAILS_GET_AUDIENCE_ACTIVITIES:'',AUDIENCE_DETAILS_GET_AUDIENCE_ERROR:'',AUDIENCE_DETAILS_GET_AUDIENCE_LOOKALIKE_NAMES:'',AUDIENCE_DETAILS_GET_AUDIENCE_LOOKALIKE_IDS:'',AUDIENCE_DETAILS_GET_AUDIENCE_APP:'',AUDIENCE_DETAILS_GET_AUDIENCE_SHARED_WTIH_ACCOUNTS:'',AUDIENCE_DETAILS_GET_AUDIENCE_SHARED_BY_ACCOUNT:'',AUDIENCE_DETAILS_INIT_AUDIENCE:'',AUDIENCE_DETAILS_LOAD_AUDIENCE_APP:'',AUDIENCE_DETAILS_LOAD_AUDIENCE_SHARING_INFO:'',AUDIENCE_DETAILS_LOAD_AUDIENCE_ACTIVITIES:'',AUDIENCE_DETAILS_LOAD_AUDIENCE_LOOKALIKE_NAMES:'',AUDIENCE_DETAILS_UPDATE_AUDIENCE_ERROR:'',AUDIENCE_DETAILS_UPDATE_AUDIENCE:'',ERROR:'',VIEW_CLEAR_ERRORS:'',VIEW_SHOW_SAVED_AUDIENCE_EDIT_DIALOG:'',VIEW_CLOSE_SAVED_AUDIENCE_EDIT_DIALOG:'',VIEW_SHOW_SAVED_AUDIENCE_CREATE_DIALOG:'',VIEW_CLOSE_SAVED_AUDIENCE_CREATE_DIALOG:'',VIEW_SHOW_CREATE_CA_DIALOG:'',VIEW_CLOSE_CREATE_CA_DIALOG:'',VIEW_SHOW_DELETE_AUDIENCE_DIALOG:'',VIEW_CLOSE_DELETE_AUDIENCE_DIALOG:'',VIEW_SHOW_PIXEL_DIALOG:'',VIEW_CLOSE_PIXEL_DIALOG:'',VIEW_SHOW_REGULAR_EDIT_DIALOG:'',VIEW_CLOSE_REGULAR_EDIT_DIALOG:'',VIEW_SHOW_VALUE_BASED_CA_DIALOG:'',VIEW_CLOSE_VALUE_BASED_CA_DIALOG:'',VIEW_SHOW_WCA_DIALOG:'',VIEW_CLOSE_WCA_DIALOG:'',VIEW_SHOW_MACA_DIALOG:'',VIEW_CLOSE_MACA_DIALOG:'',VIEW_SHOW_SHARE_AUDIENCE_DIALOG:'',VIEW_SHOW_BULK_SHARE_AUDIENCE_DIALOG:'',VIEW_CLOSE_SHARE_AUDIENCE_DIALOG:'',VIEW_SHOW_UNSHARE_AUDIENCE_DIALOG:'',VIEW_CLOSE_UNSHARE_AUDIENCE_DIALOG:'',VIEW_SHOW_LOOKALIKE_DIALOG:'',VIEW_CLOSE_LOOKALIKE_DIALOG:'',VIEW_SHOW_SAVED_TARGET_SPEC_DIALOG:'',VIEW_CLOSE_SAVED_TARGET_SPEC_DIALOG:'',VIEW_SHOW_BULK_DELETE_DIALOG:'',VIEW_CLOSE_BULK_DELETE_DIALOG:'',VIEW_CLOSE_BULK_DELETE_DIALOG_AND_CLEAR_SELECTION:'',VIEW_SHOW_OPT_OUT_DIALOG:'',VIEW_CLOSE_OPT_OUT_DIALOG:'',VIEW_CUSTOM_AUDIENCE_CURSOR_CHANGE:'',VIEW_SAVED_TARGET_SPEC_CURSOR_CHANGE:'',VIEW_COLUMN_DISPLAY_CHANGE:'',VIEW_INIT_COLUMN_DISPLAY:'',VIEW_SHOW_FILTER_PANE:'',VIEW_HIDE_FILTER_PANE:'',VIEW_UPDATE_FILTER_SET:'',VIEW_UPDATE_FILTERING_STATE:'',VIEW_UPDATE_LOADING_MORE_AUDIENCES:'',VIEW_CLICK_AUDIENCE_CHECKBOX:'',VIEW_CLEAR_AUDIENCE_SELECTION:'',CREATE_AUDIENCE_RESET:'',CREATE_AUDIENCE_SET_VIEW_STAGE:'',CREATE_AUDIENCE_SET_VIEW_DIALOG_TYPE:'',CREATE_AUDIENCE_SHOW_MACA_DIALOG:'',UPDATE_AUDIENCE_ERROR:'',UPDATE_NAME_DESCRIPTION_COMPLETE:'',FILE_IMPORT_CHECK_FILE:'',FILE_IMPORT_START_UPLOAD:'',FILE_IMPORT_CREATE_AUDIENCE_COMPLETE:'',FILE_IMPORT_UPLOAD_COMPLETE:'',FILE_IMPORT_UPLOAD_PROGRESS:'',FILE_IMPORT_ERROR:'',COPY_PASTE_START_UPLOAD:'',COPY_PASTE_UPLOAD_PROGRESS:'',COPY_PASTE_CREATE_AUDIENCE_COMPLETE:'',COPY_PASTE_UPLOAD_COMPLETE:'',COPY_PASTE_ERROR:'',MAIL_CHIMP_FETCH_COMPLETE:'',MAIL_CHIMP_START_UPLOAD:'',MAIL_CHIMP_UPLOAD_PROGRESS:'',MAIL_CHIMP_UPLOAD_COMPLETE:'',MAIL_CHIMP_ERROR:'',RECEIVE_AD_ACCOUNT_APPS:'',EXPORT_CUSTOM_AUDIENCES:'',RECEIVED_ALL_CUSTOM_AUDIENCES:'',EXPORT_SAVED_AUDIENCES:'',RECEIVED_ALL_SAVED_AUDIENCES:'',FETCH_AUDIENCE_HISTORY_SIZE:'',FETCH_AUDIENCE_HISTORY_SIZE_ERROR:'',CREATE_AUDIENCE_SHOW_DATA_SET_DIALOG:'',RECEIVE_AD_ACCOUNT_DATA_SETS:'',RECEIVE_RECIPIENT_ADACCOUNTS:'',RECEIVE_RECIPIENT_ADACCOUNTS_ERROR:'',ADD_SHARED_AD_ACCOUNT:'',REMOVE_SHARED_AD_ACCOUNT:'',CLEAR_SHARED_AD_ACCOUNTS:'',CHANGE_SHARED_AD_ACCOUNT_PERMISSION:'',BULK_SHARE_AUDIENCES:'',BUSINESS_MANAGER_UPSELL_CLICK:'',BUSINESS_MANAGER_UPSELL_CANCEL:'',CREATE_AUDIENCE_SHOW_ENGAGEMENT_AUDIENCE_DIALOG:'',ENGAGEMENT_AUDIENCE_CREATED:'',CREATE_VIDEO_AUDIENCE_DIALOG:'',RECEIVE_ADCAMPAIGN_ADSET_INFO:'',RECEIVE_ADCAMPAIGN_ADSET_INFO_ERROR:'',CREATE_AUDIENCE_SHOW_PLATFORM_DIALOG:'',CREATE_AUDIENCE_SHOW_STORE_VISIT_AUDIENCE_DIALOG:''});f.exports=h;}),null);
__d('AdsAMAudienceActions',['AdsDispatcher','AdsAMActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h={startLoading:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({startLoadingTime:j,type:c('AdsAMActionTypes').AM_START_LOADING});},initializeAccount:function i(j){c('AdsDispatcher').handleUpdateFromInitialServer({account:j,type:c('AdsAMActionTypes').ACCOUNT_INIT});},addAcceptedTOS:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({addedTOS:j,type:c('AdsAMActionTypes').ACCOUNT_ACCEPTED_TOS_ADD});},initializeAudiences:function i(j,k){c('AdsDispatcher').handleUpdateFromInitialServer({audiences:j,paging:k,type:c('AdsAMActionTypes').AUDIENCE_INIT});},addAudience:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({audience:j,type:c('AdsAMActionTypes').AUDIENCE_ADD});},addAudiences:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({audiences:j,type:c('AdsAMActionTypes').AUDIENCE_BULK_ADD});},receiveAdAccountApps:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({apps:j,type:c('AdsAMActionTypes').RECEIVE_AD_ACCOUNT_APPS});},receiveAdAccountDataSets:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({dataSets:j,type:c('AdsAMActionTypes').RECEIVE_AD_ACCOUNT_DATA_SETS});},exportCustomAudiences:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({audiences:j,type:c('AdsAMActionTypes').EXPORT_CUSTOM_AUDIENCES});},receiveAllCustomAudiences:function i(){c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsAMActionTypes').RECEIVED_ALL_CUSTOM_AUDIENCES});},exportSavedAudiences:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({audiences:j,type:c('AdsAMActionTypes').EXPORT_SAVED_AUDIENCES});},receiveAllSavedAudiences:function i(){c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsAMActionTypes').RECEIVED_ALL_SAVED_AUDIENCES});},deleteAudience:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({audience:j,type:c('AdsAMActionTypes').AUDIENCE_DELETE});},deleteAudiences:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({audiences:j,type:c('AdsAMActionTypes').AUDIENCE_BULK_DELETE});},updateAudience:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({audienceID:j,changedProperties:k,type:c('AdsAMActionTypes').AUDIENCE_CHANGE});},sortAudience:function i(j,k,l){c('AdsDispatcher').handleUpdateFromViewAction({compareFunction:l,sortKey:k,sortOrder:j,type:c('AdsAMActionTypes').AUDIENCE_SORT});},error:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({error:k,rawData:j,type:c('AdsAMActionTypes').ERROR});},clearErrors:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_CLEAR_ERRORS});},saveCustomAudiencesToBuffer:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({audiences:j,type:c('AdsAMActionTypes').AUDIENCE_SAVE_TO_CA_BUFFER});},saveSavedTargetSpecsToBuffer:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({audiences:j,type:c('AdsAMActionTypes').AUDIENCE_SAVE_TO_STS_BUFFER});},fetchAudienceSizeHistory:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({audienceID:j,sizeHistory:k,type:c('AdsAMActionTypes').FETCH_AUDIENCE_HISTORY_SIZE});},fetchAudienceSizeHistoryError:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({error:j,type:c('AdsAMActionTypes').FETCH_AUDIENCE_HISTORY_SIZE_ERROR});}};f.exports=h;}),null);
__d('AdsAMAudienceGraphAPI',['AdsAccountStoreWrapper_DEPRECATED','AdsAMAudienceActions','AdsGraphAPI'],(function a(b,c,d,e,f,g){'use strict';var h=['is_first_party_app'],i=['name','attributes{name, type}','count','match_rate','updated','description'],j={loadAdAccountApps:function k(){c('AdsGraphAPI').get(f.id).adaccount(c('AdsAccountStoreWrapper_DEPRECATED').getAccountID()).edge('advertisable_applications').get({fields:h}).done(function(l){return c('AdsAMAudienceActions').receiveAdAccountApps(l.data);});},loadAdAccountDataSets:function k(){c('AdsGraphAPI').get(f.id).adaccount(c('AdsAccountStoreWrapper_DEPRECATED').getAccountID()).edge('datasets').get({fields:i}).done(function(l){return c('AdsAMAudienceActions').receiveAdAccountDataSets(l.data);});},createCustomAudience:function k(l,m,n){c('AdsGraphAPI').get(f.id).adaccount(c('AdsAccountStoreWrapper_DEPRECATED').getAccountID()).edge('customaudiences').post(l).done(function(o){m(o.id);},function(o){n(o);});},updateCustomAudience:function k(l,m,n){c('AdsGraphAPI').get(f.id).object('audience',l.id).post(l).done(function(o){m(l.id);},function(o){n(o);});},getLeadGenFormNamefromFormID:function k(l,m,n){c('AdsGraphAPI').get(f.id).object('leadgen_form',l).batched().get({fields:['name']}).done(function(o){m(o.name);},function(o){n();});}};f.exports=j;}),null);
__d('AudienceDaoManager',['AdsAMConnectConfig','CurrentLocale','AdsDaoGraph','WebApiApplication'],(function a(b,c,d,e,f,g){var h={},i={initializeAPI:function j(){if(c('WebApiApplication').getAccessToken())return;c('WebApiApplication').init(c('AdsAMConnectConfig').access_token,c('AdsAMConnectConfig').client_id);},getPrimedDao:function j(k){if(!h[k])h[k]=c('AdsDaoGraph').primedForAccount(k).primedForLocale(c('CurrentLocale').get());return h[k];},getDao:function j(){return c('AdsDaoGraph');}};f.exports=i;}),null);
__d('AdsAsyncUtils',['Promise'],(function a(b,c,d,e,f,g){'use strict';var h=30;function i(l,m,n){this.$ParallelForEach1=l;this.$ParallelForEach2=1;this.$ParallelForEach3=m;this.$ParallelForEach4=n;this.$ParallelForEach5=0;this.$ParallelForEach6=0;this.$ParallelForEach7=0;this.$ParallelForEach8=60000;this.$ParallelForEach9=null;}i.prototype.setTimeoutLimit=function(l){this.$ParallelForEach8=l;return this;};i.prototype.setTimeoutHandler=function(l){this.$ParallelForEach9=l;return this;};i.prototype.setContext=function(l){this.$ParallelForEach10=l;return this;};i.prototype.setExceptionHandler=function(l){this.$ParallelForEach11=l;return this;};i.prototype.setConcurrency=function(l){this.$ParallelForEach2=l;return this;};i.prototype.run=function(){var l=this;if(l.$ParallelForEach5<l.$ParallelForEach2)l.hasNext(function(m){if(m){l.$ParallelForEach12(0);l.run();}else if(l.$ParallelForEach5===0)l.$ParallelForEach4.call(l.$ParallelForEach10||null);});};i.prototype.hasNext=function(l){l(this.$ParallelForEach5<this.$ParallelForEach1.length);};i.prototype.numRunning=function(){return this.$ParallelForEach5-this.$ParallelForEach6;};i.prototype.next=function(){return this.$ParallelForEach1[this.$ParallelForEach5++];};i.prototype.$ParallelForEach12=function(l){var m=this.$ParallelForEach5,n=this.next();if(l&&l%h===0){setTimeout(this.$ParallelForEach13.bind(this,n,m,0),1);}else this.$ParallelForEach13(n,m,l);};i.prototype.$ParallelForEach13=function(l,m,n){var o=null;if(this.$ParallelForEach9)setTimeout(this.$ParallelForEach9,this.$ParallelForEach8);try{this.$ParallelForEach3.call(this.$ParallelForEach10||null,l,m,this.$ParallelForEach14.bind(this,n,o));}catch(p){if(this.$ParallelForEach11){this.$ParallelForEach11(p);this.$ParallelForEach14(n,o);}else throw p;}};i.prototype.$ParallelForEach14=function(l,m){if(m)clearTimeout(m);var n=this;++n.$ParallelForEach6;++n.$ParallelForEach7;n.hasNext(function(o){--n.$ParallelForEach7;if(o){n.$ParallelForEach12(l+1);}else if(n.$ParallelForEach7===0&&n.numRunning()===0)n.$ParallelForEach4.call(n.$ParallelForEach10||null);});};var j=function l(m,n,o,p){var q=new i(m,n,o);q.setConcurrency(1).setContext(p).run();};function k(l,m){return new (c('Promise'))(function(n){j(l,function(o,p,q){c('Promise').resolve(m(o)).done(q);},function(){return n();});});}f.exports={forEach:j,promiseAllAsync:k};}),null);
__d('AdsFBBatch_DEPRECATED',['AdsAsyncUtils','ads-lib-connect_DEPRECATED','QueryString','FBTraceIDsForFailedGraphAPIRequests','AdsUtils','chunkArray','flattenObject'],(function a(b,c,d,e,f,g){var h=c('ads-lib-connect_DEPRECATED').FB,i={error:{message:'Error parsing graph response'}};function j(m){try{return m&&JSON.parse(m);}catch(n){return i;}}function k(m){return m.map(function(n){var o={method:n.method},p=c('QueryString').encode(c('flattenObject')(n.params));if((n.method==='GET'||n.method==='DELETE')&&n.params){o.relative_url=n.path+'?'+p;}else{o.relative_url=n.path;o.body=p;}if(n.name){o.name=n.name;o.omit_response_on_success=false;}return o;});}function l(){'use strict';this._requests=[];}l.prototype.add=function(m,n,o,p,q){'use strict';this._requests.push({method:m,path:n,params:o,callback:p,name:q});};l.prototype.run=function(m,n){'use strict';return l.run(this._requests,m,n);};l.run=function(m,n,o){'use strict';var p=[],q=function v(){n&&n(p);};switch(m.length){case 0:q();break;case 1:var r=m[0],s=Date.now();h.api(r.path,r.method,r.params||{},function(v){if(c('ads-lib-connect_DEPRECATED').isError(v)){c('FBTraceIDsForFailedGraphAPIRequests').insert(v.__fb_trace_id__);p.push(v);}r.callback(v,q);if(o){var w=Math.floor((Date.now()-s)/1000);o([r],[v],w,1,1);}});break;default:var t=c('chunkArray')(m,l.MAX_NUM_REQUESTS_BATCH),u=0;c('AdsAsyncUtils').forEach(t,function(v,w,x){var y=k(v),z=Date.now();h.api('/','post',{batch:y},function(aa){c('AdsAsyncUtils').forEach(aa,function(ca,da,ea){var fa=ca&&j(ca.body);if(fa===i){var ga=c('AdsUtils').clone(i);ga.response=ca;p.push(ga);}else if(c('ads-lib-connect_DEPRECATED').isError(fa)){c('FBTraceIDsForFailedGraphAPIRequests').insert(ca.__fb_trace_id__);p.push(fa);}v[da].callback(fa,ea);},x);if(o){var ba=Date.now()-z;u+=y.length;o(y,aa,ba,u,m.length);}});},q);break;}};l.MAX_NUM_REQUESTS_BATCH=50;f.exports=l;}),null);
__d('AudienceManagerRequestBatch',['AsyncRequest','AdsGraphAPI','AdsFBBatch_DEPRECATED'],(function a(b,c,d,e,f,g){var h={execute:function i(j,k,l){var m=new (c('AdsFBBatch_DEPRECATED'))(),n=[],o=false;j.forEach(function(p){var q='/v'+c('AdsGraphAPI').getVersion()+p.getEndpoint();m.add(p.getMethod(),q,p.getParameters(),function(r,s){if(r.error)o=true;n.push(r);s();});});m.run(function(p){if(!o){k(n);}else if(l)l(n);});}};f.exports=h;}),null);
__d('AudienceManagerAPIRequest',[],(function a(b,c,d,e,f,g){function h(i,j){'use strict';this.$AudienceManagerAPIRequest1=i;this.$AudienceManagerAPIRequest2=j;}h.prototype.getMethod=function(){'use strict';return this.$AudienceManagerAPIRequest1;};h.prototype.getParameters=function(){'use strict';return this.$AudienceManagerAPIRequest2;};h.prototype.isParamsValid=function(){'use strict';return true;};h.prototype.getEndpoint=function(){'use strict';return null;};f.exports=h;}),null);
__d('AudienceManagerUpdateRequest',['AudienceManagerAPIRequest'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('AudienceManagerAPIRequest'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,'POST',k);this.$AudienceManagerUpdateRequest1=k.id;}j.prototype.getEndpoint=function(){'use strict';return '/'+this.$AudienceManagerUpdateRequest1;};j.prototype.isParamsValid=function(){'use strict';return this.$AudienceManagerUpdateRequest1;};f.exports=j;}),null);
__d('ads-cluster-constants',[],(function a(b,c,d,e,f,g){var h={CUSTOM_CLUSTER_PARENT_CATEGORY:'Custom',UPLOAD_TYPE_UID:'uids',UPLOAD_TYPE_EMAIL:'emails',UPLOAD_TYPE_PHONE:'phone numbers',UPLOAD_TYPE_MULTIKEY:'multikey',UPLOAD_TYPE_HASH:'hashes',UPLOAD_TYPE_PARTNER_TOKEN:'partner tokens',UPLOAD_TYPE_PLATFORM_ADVERTISER_TOKEN:'custom audience third party ids',UPLOAD_TYPE_MOBILE_ADVERTISER_ID:'mobile advertiser ids',CLUSTER_TYPE_USER_GENERATED:4,MAX_USER_CLUSTERS_TO_DISPLAY:100,SINGLE_PII_TYPE:{EMAIL:'EMAIL',PHONE:'PHONE',GEN:'GEN',DOB:'DOB',LN:'LN',FN:'FN',FI:'FI',CT:'CT',ST:'ST',ZIP:'ZIP',MADID:'MADID',COUNTRY:'COUNTRY'},CLUSTER_API_MAX_SIZE:10000,EMPTY_AUDIENCE_SIZE:20,ERROR_THRESHOLD_RATE:.01,LOOKALIKE_SIMILARITY:'similarity',LOOKALIKE_REACH:'reach',LOOKALIKE_CUSTOM_RATIO:'custom_ratio',LOOKALIKE_COUNTRY_DEFAULT:'US',LOOKALIKE_SOURCE_TYPE:{CUSTOM_AUDIENCE:'ca',CONVERSION_PIXEL:'px',PAGE:'page',APPLICATION:'app',DATA_SET:'ds',FB_PIXEL:'fb_pixel'},UNREADABLE_CUSTOM_AUDIENCES:1,DELETED_CUSTOM_AUDIENCES:2,OPT_OUT_CONFLICT_CUSTOM_AUDIENCES:3,LOOKALIKE_TYPE:2,LOOKALIKE_CUSTOM_RATIO_LIMIT:{TINY_MIN:.005,MIN:.01,MAX:.1,BIG_MAX:.2,GRANULARITY:.01,TIERED_MAX:.6,TIERED_MAX_RANGE:.3,TIERED_GRANULARITY:.05},LOOKALIKE_MIN_THRESHOLD:100,STATUS_READY:'ready',STATUS_WAITING:'waiting',BCT_UI_VARIATIONS:{CONTROL:0,NULL_STATE_BROWSE:1,BROWSE_TREE_HIDDEN:2,BROWSE_TREE_VISIBLE:3}};f.exports=h;}),null);
__d('ads-crypto-email-hash',['sha256'],(function a(b,c,d,e,f,g){var h='sha256',i={getHashType:function j(){return h;},hashEmail:function j(k,l){return c('sha256')(k,true,l);}};f.exports=i;}),null);
__d('isInternationalPhoneNumber',[],(function a(b,c,d,e,f,g){var h=/^1\(?\d{3}\)?\d{7}$/,i=/^47\d{8}$/,j=/^\d{1,4}\(?\d{2,3}\)?\d{4,}$/;function k(l){l=l.replace(/[\-\s]+/g,'').replace(/^\+?0{0,2}/,'');if(l.startsWith('0'))return false;if(l.startsWith('1'))return h.test(l);if(l.startsWith('47'))return i.test(l);return j.test(l);}f.exports=k;}),null);
__d('AudienceTokenProcessor',['invariant','ads-crypto-email-hash','isEmail','isInternationalPhoneNumber','ads-cluster-constants','CustomAudienceHashIdSchemaTypesJS','CustomAudienceSimpleIdSchemaTypesJS'],(function a(b,c,d,e,f,g,h){'use strict';var i=/^\d+$/,j=/^[0-9a-f]{32}$/,k=/^[0-9a-f]{64}$/,l=/^0*/,m=/[\-@#<>'",; ]|\(|\)|\+|[a-z]/gi,n=/[0-9a-z_\-]+/i;function o(p){this._type=p;}o.prototype.processToken=function(p,q){if(!p)return false;if(!this._type)this._type=this._getTypeFromToken(p);switch(this._type){case c('ads-cluster-constants').UPLOAD_TYPE_PHONE:return this._hashPhone(p,q);case c('ads-cluster-constants').UPLOAD_TYPE_EMAIL:return this._hashEmail(p,q);case c('ads-cluster-constants').UPLOAD_TYPE_UID:return this._hashUID(p,q);case c('ads-cluster-constants').UPLOAD_TYPE_PARTNER_TOKEN:return this._hashPartnerToken(p,q);case c('ads-cluster-constants').UPLOAD_TYPE_PLATFORM_ADVERTISER_TOKEN:case c('ads-cluster-constants').UPLOAD_TYPE_MOBILE_ADVERTISER_ID:this._appendUserToken(p,q);return true;}return false;};o.prototype.getPayloadSchema=function(){switch(this._type){case c('ads-cluster-constants').UPLOAD_TYPE_PHONE:return this._userHashType==='md5'?c('CustomAudienceHashIdSchemaTypesJS').PHONE_MD5:c('CustomAudienceHashIdSchemaTypesJS').PHONE_SHA256;case c('ads-cluster-constants').UPLOAD_TYPE_EMAIL:return this._userHashType==='md5'?c('CustomAudienceHashIdSchemaTypesJS').EMAIL_MD5:c('CustomAudienceHashIdSchemaTypesJS').EMAIL_SHA256;case c('ads-cluster-constants').UPLOAD_TYPE_UID:return c('CustomAudienceSimpleIdSchemaTypesJS').UID;case c('ads-cluster-constants').UPLOAD_TYPE_PARTNER_TOKEN:return c('CustomAudienceSimpleIdSchemaTypesJS').TOKEN;case c('ads-cluster-constants').UPLOAD_TYPE_PLATFORM_ADVERTISER_TOKEN:return c('CustomAudienceSimpleIdSchemaTypesJS').THIRD_PARTY_TOKEN;case c('ads-cluster-constants').UPLOAD_TYPE_MOBILE_ADVERTISER_ID:return c('CustomAudienceSimpleIdSchemaTypesJS').MOBILE_ADVERTISER_ID;default:h(0);}};o.prototype.isHash=function(){return !!this._userHashType;};o.prototype._appendUserToken=function(p,q,r,s){r=typeof r==='function'?r:null;s=typeof s==='number'?s:null;if(q.getUserCount()>0)q.appendString(',');q.appendString('"');q.appendUserToken(p,r,s);q.appendString('"');};o.prototype._hashPhone=function(p,q){if(c('isInternationalPhoneNumber')(p)){p=p.replace(m,'').replace(l,'');this._appendUserToken(p,q,c('ads-crypto-email-hash').hashEmail,64);return true;}else if(k.test(p)){this._setUserHashType('sha256');this._appendUserToken(p,q);return true;}else if(j.test(p)){this._setUserHashType('md5');this._appendUserToken(p,q);return true;}return false;};o.prototype._hashUID=function(p,q){if(i.test(p)){this._appendUserToken(p,q);return true;}return false;};o.prototype._hashPartnerToken=function(p,q){if(n.test(p)){this._appendUserToken(p,q);return true;}return false;};o.prototype._hashEmail=function(p,q){p=p.toLowerCase();if(c('isEmail')(p)){this._appendUserToken(p,q,c('ads-crypto-email-hash').hashEmail,64);return true;}else if(k.test(p)){this._setUserHashType('sha256');this._appendUserToken(p,q);return true;}else if(j.test(p)){this._setUserHashType('md5');this._appendUserToken(p,q);return true;}return false;};o.prototype._setUserHashType=function(p){if(this._userHashType)return;this._userHashType=p;};o.prototype._getTypeFromToken=function(p){if(c('isEmail')(p))return c('ads-cluster-constants').UPLOAD_TYPE_EMAIL;if(n.test(p))return c('ads-cluster-constants').UPLOAD_TYPE_PARTNER_TOKEN;return c('ads-cluster-constants').UPLOAD_TYPE_EMAIL;};o.prototype.getType=function(){return this._type;};f.exports=o;}),null);
__d('CAUploadSessionStatus',['invariant','CustomAudienceSessionTypesJS'],(function a(b,c,d,e,f,g,h){function i(k){'use strict';this.seq=k;this.size=0;this.last=false;this.status=i.INIT;this.startTime=0;this.latency=0;}i.prototype.start=function(){'use strict';this.startTime=Date.now();this.status=i.REQUESTED;};i.prototype.end=function(k){'use strict';this.latency=Date.now()-this.startTime;if(k){this.error=k;this.status=i.FAILED;}else this.status=i.SUCCEEDED;};i.prototype.toObject=function(){'use strict';var k={seq:this.seq,size:this.size,status:this.status,start_time:Math.round(this.startTime/1000),latency:this.latency};if(this.error)k.error=this.error;if(this.last)k.last=this.last;return k;};Object.assign(i,{INIT:'INIT',REQUESTED:'REQUESTED',FAILED:'FAILED',SUCCEEDED:'SUCCEEDED'});function j(){'use strict';this.name='ClusterUploadSession';this.clear();}j.prototype.clear=function(){'use strict';this.$CAUploadSessionStatus1=Math.ceil(Math.random()*16777216);this.$CAUploadSessionStatus2=0;this.$CAUploadSessionStatus3=0;this.$CAUploadSessionStatus4=0;this.$CAUploadSessionStatus5=0;this.$CAUploadSessionStatus6=0;this.$CAUploadSessionStatus7=0;this.$CAUploadSessionStatus8={};this.$CAUploadSessionStatus9=null;};j.prototype.isSessionCompleted=function(){'use strict';if(!this.isLastBatch())return false;for(var k in this.$CAUploadSessionStatus8){var l=this.$CAUploadSessionStatus8[k];if(l.status!=i.FAILED&&l.status!=i.SUCCEEDED)return false;}return true;};j.prototype.start=function(){'use strict';this.$CAUploadSessionStatus2=Date.now();};j.prototype.end=function(){'use strict';this.$CAUploadSessionStatus3=Date.now()-this.$CAUploadSessionStatus2;};j.prototype.startBatch=function(k,l){'use strict';this.$CAUploadSessionStatus5+=l;var m=this.$CAUploadSessionStatus10(k);m.size=l;m.start();};j.prototype.setBatchResult=function(k,l){'use strict';var m=this.$CAUploadSessionStatus10(k),n=l&&!l.error;if(n){this.$CAUploadSessionStatus6+=m.size;m.end();}else{this.$CAUploadSessionStatus7+=m.size;m.end(l?l.error:'no response');}};j.prototype.getNumUploadAttempted=function(){'use strict';return this.$CAUploadSessionStatus5;};j.prototype.getNumUploadSucceeded=function(){'use strict';return this.$CAUploadSessionStatus6;};j.prototype.getNumUploadFailed=function(){'use strict';return this.$CAUploadSessionStatus7;};j.prototype.getSessionID=function(){'use strict';return this.$CAUploadSessionStatus1;};j.prototype.getTotalBatchID=function(){'use strict';return this.$CAUploadSessionStatus4;};j.prototype.getCurrentBatchID=function(){'use strict';return this.$CAUploadSessionStatus4;};j.prototype.createNewBatch=function(){'use strict';++this.$CAUploadSessionStatus4;this.$CAUploadSessionStatus8[this.$CAUploadSessionStatus4]=new i(this.$CAUploadSessionStatus4);return this;};j.prototype.markLastBatch=function(){'use strict';this.$CAUploadSessionStatus10(this.$CAUploadSessionStatus4).last=true;return this;};j.prototype.noBatchCreated=function(){'use strict';return this.$CAUploadSessionStatus4===0;};j.prototype.isFirstBatch=function(){'use strict';return this.$CAUploadSessionStatus4===1;};j.prototype.isLastBatch=function(){'use strict';if(this.$CAUploadSessionStatus4===0)return false;return this.$CAUploadSessionStatus10(this.$CAUploadSessionStatus4).last;};j.prototype.getAPISpecForCurrentBatch=function(){'use strict';return {session_type:c('CustomAudienceSessionTypesJS').ACTION_BASED_SESSION,session_id:this.getSessionID(),batch_seq:this.getCurrentBatchID(),last_batch_flag:this.isLastBatch()};};j.prototype.setSessionException=function(k){'use strict';this.$CAUploadSessionStatus9=k;};j.prototype.toObject=function(){'use strict';var k=[],l=0,m=0;for(var n in this.$CAUploadSessionStatus8){var o=this.$CAUploadSessionStatus8[n];if(o.status!==i.SUCCEEDED)k.push(o.toObject());if(o.status===i.SUCCEEDED||o.status===i.FAILED){l+=o.latency;m++;}}var p={local_session_id:this.$CAUploadSessionStatus1,num_batches:this.getTotalBatchID(),time_start_ui:Math.round(this.$CAUploadSessionStatus2/1000),time_upload_ui:Math.round(this.$CAUploadSessionStatus3/1000),num_attempted_ui:this.$CAUploadSessionStatus5,num_succeeded_ui:this.$CAUploadSessionStatus6,num_failed_ui:this.$CAUploadSessionStatus7,batches_detail:JSON.stringify(k),error_msg:this.$CAUploadSessionStatus9};if(m>0)p.avg_batch_latency=Math.round(l/m);return p;};j.prototype.$CAUploadSessionStatus10=function(k){'use strict';Object.prototype.hasOwnProperty.call(this.$CAUploadSessionStatus8,k)||h(0);return this.$CAUploadSessionStatus8[k];};f.exports=j;}),null);
__d('CustomAudienceBigPostPool',['invariant','ads-lib-connect_DEPRECATED','ads-cluster-constants','CustomAudienceGraphVersion','UserAgent_DEPRECATED','UrlMap','URI','WebApiApplication'],(function a(b,c,d,e,f,g,h){var i=c('ads-lib-connect_DEPRECATED').FB,j=c('UserAgent_DEPRECATED').chrome()>22,k=3;function l(n){'use strict';this.$CustomAudienceBigPostPool1=n;this.$CustomAudienceBigPostPool2=0;this.$CustomAudienceBigPostPool3=[];}l.prototype.acquireBigPost=function(){'use strict';this.$CustomAudienceBigPostPool2<this.$CustomAudienceBigPostPool1||h(0);this.$CustomAudienceBigPostPool2++;if(this.$CustomAudienceBigPostPool3.length===0){return new m(this.releaseBigPost.bind(this));}else return this.$CustomAudienceBigPostPool3.shift();};l.prototype.releaseBigPost=function(n){'use strict';var o=false;for(var p=0;p<this.$CustomAudienceBigPostPool3.length;p++)if(this.$CustomAudienceBigPostPool3[p]===n)o=true;!o||h(0);this.$CustomAudienceBigPostPool3.push(n);this.$CustomAudienceBigPostPool2--;};function m(n){'use strict';if(j)this.$CustomAudienceBigPost1=new Uint8Array(c('ads-cluster-constants').CLUSTER_API_MAX_SIZE*500);this.$CustomAudienceBigPost2();this.releaseCallback=n;}m.prototype.$CustomAudienceBigPost2=function(){'use strict';if(j){this.$CustomAudienceBigPost3=0;this.$CustomAudienceBigPost4=0;this.appendString('payload');this.appendRawString('=');}else this.$CustomAudienceBigPost5='';this.$CustomAudienceBigPost6=0;this.appendString('{"data":[');};m.prototype.appendString=function(n){'use strict';if(j)n=encodeURIComponent(n);this.appendRawString(n);};m.prototype.appendRawString=function(n){'use strict';if(j){for(var o=0;o<n.length;o++)this.$CustomAudienceBigPost1[this.$CustomAudienceBigPost3++]=n.charCodeAt(o);}else this.$CustomAudienceBigPost5+=n;};m.prototype.appendMultikeUserToken=function(n){'use strict';this.appendString(n);this.$CustomAudienceBigPost6++;};m.prototype.appendUserToken=function(n,o,p){'use strict';if(o){if(j){var q=new Uint8Array(this.$CustomAudienceBigPost1.buffer,this.$CustomAudienceBigPost3,p);o(n,q);this.$CustomAudienceBigPost3+=p;}else this.$CustomAudienceBigPost5+=o(n);}else this.appendString(n);this.$CustomAudienceBigPost6++;};m.prototype.appendAppIDs=function(n){'use strict';this.appendString('], "app_ids": [');this.appendString(n.join());};m.prototype.appendPayloadSchema=function(n){'use strict';this.appendString('], "schema":"');this.appendString(n);this.appendString('"}');};m.prototype.appendMultikeyPayloadSchema=function(n){'use strict';this.appendString('], "schema":');this.appendString(n);this.appendString('}');};m.prototype.request=function(n,o,p,q){'use strict';if(j){this.$CustomAudienceBigPost7(n,o,p,q);}else{p.payload=this.$CustomAudienceBigPost5;i.api(n,o,p,q);}};m.prototype.$CustomAudienceBigPost7=function(n,o,p,q){'use strict';if(this.$CustomAudienceBigPost4===0){if(!p.access_token)p.access_token=c('WebApiApplication').getAccessToken();p.suppress_http_code=1;o=(o||'get').toLowerCase();p.method=o;o=o==='get'?'get':'post';for(var r in p){this.appendRawString('&');this.appendString(r);this.appendRawString('=');this.appendString(p[r]);}}var s=new (c('URI'))(n),t=c('UrlMap').resolve('graph')+'/'+c('CustomAudienceGraphVersion').GRAPH_VERSION+s.getPath(),u=new XMLHttpRequest();u.open(o,t,true);u.setRequestHeader('Content-type','application/x-www-form-urlencoded');u.onload=function(){var v=JSON.parse(u.responseText);if(!v||v.error)if(this.$CustomAudienceBigPost8(n,o,p,q))return;this.$CustomAudienceBigPost9();q(v);}.bind(this);u.onerror=function(){if(!this.$CustomAudienceBigPost8(n,o,p,q)){this.$CustomAudienceBigPost9();q(JSON.parse(u.responseText));}}.bind(this);u.send(new Uint8Array(this.$CustomAudienceBigPost1.buffer,0,this.$CustomAudienceBigPost3));};m.prototype.$CustomAudienceBigPost8=function(n,o,p,q){'use strict';if(this.$CustomAudienceBigPost4<k){this.$CustomAudienceBigPost4++;this.$CustomAudienceBigPost7(n,o,p,q);return true;}else return false;};m.prototype.$CustomAudienceBigPost9=function(){'use strict';this.$CustomAudienceBigPost2();this.releaseCallback(this);};m.prototype.getUserCount=function(){'use strict';return this.$CustomAudienceBigPost6;};f.exports=l;}),null);
__d('CustomAudienceCreationErrors',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){var h=c('keyMirrorRecursive')({FILE_IMPORT_NO_VALID_ENTRY:'',FILE_IMPORT_TOKEN_ERROR:'',FILE_IMPORT_ERROR_LIMIT_REACH:'',COPY_PASTE_TOKEN_ERROR:'',COPY_PASTE_REQUEST_ERROR:'',FILE_IMPORT_CSV_CONVERT_ERROR:'',FATAL_ERROR:''});f.exports=h;}),null);
__d('AdsMigrationOverrides',[],(function a(b,c,d,e,f,g){var h={};f.exports=Object.keys(h).length?JSON.stringify(h):'';}),null);
__d('PiiKeyConstants',[],(function a(b,c,d,e,f,g){'use strict';var h={SINGLE_PII_KEYTYPE:{EMAIL:'EMAIL',PHONE:'PHONE',GEN:'GEN',DOB:'DOB',DOBYM:'DOBYM',DOBY:'DOBY',DOBM:'DOBM',DOBD:'DOBD',LN:'LN',FN:'FN',FI:'FI',CT:'CT',ST:'ST',ZIP:'ZIP',MADID:'MADID',COUNTRY:'COUNTRY'}};f.exports=h;}),null);
__d('SchemaConstants',['CustomAudienceHashIdSchemaTypesJS','ads-cluster-constants','PiiKeyConstants','Map'],(function a(b,c,d,e,f,g){'use strict';var h={SINGLE_PII_TYPES_TO_KEYTYPES:new (c('Map'))([[c('ads-cluster-constants').SINGLE_PII_TYPE.EMAIL,[c('PiiKeyConstants').SINGLE_PII_KEYTYPE.EMAIL]],[c('ads-cluster-constants').SINGLE_PII_TYPE.PHONE,[c('PiiKeyConstants').SINGLE_PII_KEYTYPE.PHONE]],[c('ads-cluster-constants').SINGLE_PII_TYPE.GEN,[c('PiiKeyConstants').SINGLE_PII_KEYTYPE.GEN]],[c('ads-cluster-constants').SINGLE_PII_TYPE.DOB,[c('PiiKeyConstants').SINGLE_PII_KEYTYPE.DOB,c('PiiKeyConstants').SINGLE_PII_KEYTYPE.DOBY,c('PiiKeyConstants').SINGLE_PII_KEYTYPE.DOBM,c('PiiKeyConstants').SINGLE_PII_KEYTYPE.DOBD]],[c('ads-cluster-constants').SINGLE_PII_TYPE.LN,[c('PiiKeyConstants').SINGLE_PII_KEYTYPE.LN]],[c('ads-cluster-constants').SINGLE_PII_TYPE.FN,[c('PiiKeyConstants').SINGLE_PII_KEYTYPE.FN]],[c('ads-cluster-constants').SINGLE_PII_TYPE.FI,[c('PiiKeyConstants').SINGLE_PII_KEYTYPE.FI]],[c('ads-cluster-constants').SINGLE_PII_TYPE.CT,[c('PiiKeyConstants').SINGLE_PII_KEYTYPE.CT]],[c('ads-cluster-constants').SINGLE_PII_TYPE.ST,[c('PiiKeyConstants').SINGLE_PII_KEYTYPE.ST]],[c('ads-cluster-constants').SINGLE_PII_TYPE.ZIP,[c('PiiKeyConstants').SINGLE_PII_KEYTYPE.ZIP]],[c('ads-cluster-constants').SINGLE_PII_TYPE.MADID,[c('PiiKeyConstants').SINGLE_PII_KEYTYPE.MADID]],[c('ads-cluster-constants').SINGLE_PII_TYPE.COUNTRY,[c('PiiKeyConstants').SINGLE_PII_KEYTYPE.COUNTRY]]]),SINGLE_PII_NAMES:new (c('Map'))([[c('ads-cluster-constants').SINGLE_PII_TYPE.EMAIL,['email','emails']],[c('ads-cluster-constants').SINGLE_PII_TYPE.PHONE,['phone','phones','phone numbers','phone_numbers']],[c('ads-cluster-constants').SINGLE_PII_TYPE.GEN,['gen','gender']],[c('ads-cluster-constants').SINGLE_PII_TYPE.DOB,['dobymd','dob','date of birth','birthday','birthdate']],[c('ads-cluster-constants').SINGLE_PII_TYPE.LN,['lastname','ln','last name']],[c('ads-cluster-constants').SINGLE_PII_TYPE.FN,['firstname','fn','first name']],[c('ads-cluster-constants').SINGLE_PII_TYPE.FI,['firstinit','fi','first name initial']],[c('ads-cluster-constants').SINGLE_PII_TYPE.CT,['city','ct']],[c('ads-cluster-constants').SINGLE_PII_TYPE.ST,['state','st']],[c('ads-cluster-constants').SINGLE_PII_TYPE.ZIP,['zip','zipcode']],[c('ads-cluster-constants').SINGLE_PII_TYPE.MADID,['mobile advertiser id','madid','idfa','aaid','mobile device id']],[c('ads-cluster-constants').SINGLE_PII_TYPE.COUNTRY,['country']]])};f.exports=h;}),null);
__d('StatesConstants',['Map'],(function a(b,c,d,e,f,g){'use strict';var h={TO_STATES_ABBREVIATION:new (c('Map'))([['alabama','al'],['alaska','ak'],['arizona','az'],['arkansas','ar'],['california','ca'],['colorado','co'],['connecticut','ct'],['delaware','de'],['florida','fl'],['georgia','ga'],['hawaii','hi'],['idaho','id'],['illinois','il'],['indiana','in'],['iowa','ia'],['kansas','ks'],['kentucky','ky'],['louisiana','la'],['maine','me'],['maryland','md'],['massachusetts','ma'],['michigan','mi'],['minnesota','mn'],['mississippi','ms'],['missouri','mo'],['montana','mt'],['nebraska','ne'],['nevada','nv'],['newhampshire','nh'],['newjersey','nj'],['newmexico','nm'],['newyork','ny'],['northcarolina','nc'],['northdakota','nd'],['ohio','oh'],['oklahoma','ok'],['oregon','or'],['pennsylvania','pa'],['rhodeisland','ri'],['southcarolina','sc'],['southdakota','sd'],['tennessee','tn'],['texas','tx'],['utah','ut'],['vermont','vt'],['virginia','va'],['washington','wa'],['westvirginia','wv'],['wisconsin','wi'],['wyoming','wy']])};f.exports=h;}),null);
__d('TokenConstants',['Set','StatesConstants'],(function a(b,c,d,e,f,g){'use strict';var h=[];c('StatesConstants').TO_STATES_ABBREVIATION.forEach(function(j,k){h.push(j);});var i={STATES_ABBREVIATION:new (c('Set'))(h),TO_STATES_ABBREVIATION:c('StatesConstants').TO_STATES_ABBREVIATION};f.exports=i;}),null);
__d('TokenNormalizer',['invariant','isEmail','isInternationalPhoneNumber','TokenConstants','ads-cluster-constants'],(function a(b,c,d,e,f,g,h){'use strict';var i=/^[0-9a-f]{32}$/,j=/^[0-9a-f]{64}$/,k=/^0*/,l=/[\-@#<>'",; ]|\(|\)|\+|[a-z]/gi,m=/[^a-zA-Z]/g,n=/[^0-9]/g;function o(){}o.prototype.normalizeKeys=function(p,q){if(p.length!==q.length)return [];return p.map(function(r,s){return this.normalizeKey(r,q[s]);}.bind(this));};o.prototype.normalizeKey=function(p,q){switch(q){case c('ads-cluster-constants').SINGLE_PII_TYPE.PHONE:return this._normalizePhone(p);case c('ads-cluster-constants').SINGLE_PII_TYPE.EMAIL:return this._normalizeEmail(p);case c('ads-cluster-constants').SINGLE_PII_TYPE.LN:return this._normalizeLN_FN_CT_FI_Country(p);case c('ads-cluster-constants').SINGLE_PII_TYPE.FN:return this._normalizeLN_FN_CT_FI_Country(p);case c('ads-cluster-constants').SINGLE_PII_TYPE.CT:return this._normalizeLN_FN_CT_FI_Country(p);case c('ads-cluster-constants').SINGLE_PII_TYPE.ST:return this._normalizeST(p);case c('ads-cluster-constants').SINGLE_PII_TYPE.DOB:return this._normalizeDOB(p);case c('ads-cluster-constants').SINGLE_PII_TYPE.GEN:return this._normalizeGender(p);case c('ads-cluster-constants').SINGLE_PII_TYPE.ZIP:return this._normalizeZIP(p);case c('ads-cluster-constants').SINGLE_PII_TYPE.FI:return this._normalizeLN_FN_CT_FI_Country(p);case c('ads-cluster-constants').SINGLE_PII_TYPE.MADID:return this._normalizeMADID(p);case c('ads-cluster-constants').SINGLE_PII_TYPE.COUNTRY:return this._normalizeLN_FN_CT_FI_Country(p);default:h(0);}};o.prototype._normalizePhone=function(p){if(c('isInternationalPhoneNumber')(p)){return p.replace(l,'').replace(k,'');}else if(i.test(p)||j.test(p)){return p;}else return '';};o.prototype._normalizeEmail=function(p){var q=p.toLowerCase();if(c('isEmail')(q)){return q;}else if(i.test(q)||j.test(q)){return q;}else return '';};o.prototype._normalizeLN_FN_CT_FI_Country=function(p){var q=p.toLowerCase();return q.replace(m,'');};o.prototype._normalizeST=function(p){var q=p.toLowerCase();q=q.replace(m,'');if(c('TokenConstants').STATES_ABBREVIATION.has(q)){return q;}else return this._getStatesAbbreviation(q);};o.prototype._getStatesAbbreviation=function(p){if(c('TokenConstants').TO_STATES_ABBREVIATION.has(p)){return c('TokenConstants').TO_STATES_ABBREVIATION.get(p);}else return '';};o.prototype._normalizeGender=function(p){var q=p.toLowerCase();q=q.replace(m,'');q=q.substr(0,1);if(q==='m'||q==='f'){return q;}else return '';};o.prototype._validateDate=function(p){var q=parseInt(p.slice(0,4),10),r=parseInt(p.slice(4,6),10)-1,s=parseInt(p.slice(6,8),10),t=new Date(q,r,s);return t.getFullYear()===q&&t.getMonth()===r&&t.getDate()===s;};o.prototype._normalizeDOB=function(p){var q=p.toLowerCase();q=q.replace(n,'');if(q.length!==8||!this._validateDate(q)){return '';}else return q;};o.prototype._normalizeZIP=function(p){var q=p.toLowerCase(),r=q.split('-',1);q=r[0];return q.replace(n,'');};o.prototype._normalizeMADID=function(p){return p.toLowerCase();};f.exports=o;}),null);
__d('AudienceMultikeyTokenProcessor',['invariant','ads-crypto-email-hash','AdsUtils','ads-cluster-constants','CustomAudienceHashIdSchemaTypesJS','immutable','Map','StrSet','SchemaConstants','PiiKeyConstants','Set','TokenNormalizer','flattenArray'],(function a(b,c,d,e,f,g,h){'use strict';var i=/^[0-9a-f]{64}$/;function j(){this._type=null;this._normalizedType=null;this._payloadSchema=null;this._normalizer=new (c('TokenNormalizer'))();this._isTypeSupported=false;this._matchKeyMap=this._constructMatchKeyMap();}j.prototype._constructMatchKeyMap=function(){var k={};Object.keys(c('CustomAudienceHashIdSchemaTypesJS')).map(function(l){var m=l;if(m.endsWith('_SHA256')){m=m.slice(0,-7);}else if(m.endsWith('_MD5'))return;k[l]=m.split('_');});return c('immutable').Map(k);};j.prototype.processMultikeyToken=function(k,l){if(!k)return false;if(!this._type){this._isTypeSupported=this._checkAndAssignTypes(k);this._getPayloadSchemaForMultikeyType();return !!this._isTypeSupported;}if(!this._isTypeSupported)return false;if(Array.isArray(this._type))if(this._type.length!==k.length){k.push(' (Explanation: "Number of elements in first line missmatch'+' with number of elements in this line")');return false;}else{!!this._normalizedType||h(0);return this._hashMultikeyToken(k,l,this._normalizedType,this._payloadSchema);}return false;};j.prototype._hashMultikeyToken=function(k,l,m,n){var o=this._normalizer.normalizeKeys(k,m),p=this._explodeToken(o,m);if(!n||!Array.isArray(n)||n.length===0)return false;var q=[];n.forEach(function(r,s){var t=this._createTokenElement(this._matchKeyMap.get(r),p);if(this._isHashedEmailPhone(r,t)){q.push(t);}else{var u=c('ads-crypto-email-hash').hashEmail(t);q.push(u);}}.bind(this));this._appendUserMultikeyToken(q,l);return true;};j.prototype._createTokenElement=function(k,l){var m=false,n=k.map(function(o,p){if(!l.get(o)){m=true;return '';}else return l.get(o);});if(m)return '';return n.toString();};j.prototype._isHashedEmailPhone=function(k,l){return ((k===c('CustomAudienceHashIdSchemaTypesJS').EMAIL_SHA256||k===c('CustomAudienceHashIdSchemaTypesJS').PHONE_SHA256)&&i.test(l));};j.prototype._appendUserMultikeyToken=function(k,l){if(l.getUserCount()>0)l.appendString(',');l.appendString('["');var m=k.join('","');l.appendMultikeUserToken(m);l.appendString('"]');};j.prototype.getPayloadSchema=function(){if(!this._explodedType||!this._payloadSchema)return '';var k='["';k+=this._payloadSchema.join('","')+'"]';return k;};j.prototype._getPayloadSchemaForMultikeyType=function(){if(!this._explodedType)return;this._payloadSchema=[];var k=new (c('StrSet'))(this._explodedType);this._matchKeyMap.forEach(function(l,m){var n=k.difference(new (c('StrSet'))(l)).count()==0;if(n){!!this._payloadSchema||h(0);this._payloadSchema.push(m);}}.bind(this));};j.prototype._checkAndAssignTypes=function(k){var l,m=this;this._type=c('AdsUtils').clone(k);var n=true,o=[];k.forEach(function(q,r){var s=false;c('SchemaConstants').SINGLE_PII_NAMES.forEach(function(t,u){if(t.indexOf(q.toLowerCase())>=0){s=true;o.push(u);}});n==s&&n;});this._normalizedType=o;if(o)(function(){var q=[];o.forEach(function(r){q.push.apply(q,c('SchemaConstants').SINGLE_PII_TYPES_TO_KEYTYPES.get(r));});m._explodedType=q;})();var p=this._allTypesDifferent(k);return n&&p;};j.prototype._allTypesDifferent=function(k){var l=true;k.forEach(function(m,n){k.forEach(function(o,p){if(p!=n&&m==o)l=false;});});return l;};j.prototype._explodeToken=function(k,l){var m=new (c('Map'))();if(k.length!==l.length)return m;k.forEach(function(n,o){m.set(l[o],n);if(l[o]==c('ads-cluster-constants').SINGLE_PII_TYPE.DOB){m.set(c('PiiKeyConstants').SINGLE_PII_KEYTYPE.DOBYM,n.slice(0,6));m.set(c('PiiKeyConstants').SINGLE_PII_KEYTYPE.DOBY,n.slice(0,4));m.set(c('PiiKeyConstants').SINGLE_PII_KEYTYPE.DOBM,n.slice(4,6));m.set(c('PiiKeyConstants').SINGLE_PII_KEYTYPE.DOBD,n.slice(6,8));}});return m;};j.prototype.isHash=function(){return false;};j.prototype.getType=function(){return c('ads-cluster-constants').UPLOAD_TYPE_MULTIKEY;};f.exports=j;}),null);
__d('BufferedMultikeyTokenReader',['invariant','Arbiter','fileSlice'],(function a(b,c,d,e,f,g,h){'use strict';function i(j,k){b.FileReader!==undefined||h(0);this.$BufferedMultikeyTokenReader1=j;this.$BufferedMultikeyTokenReader2=new b.FileReader();this.$BufferedMultikeyTokenReader2.onloadend=this.$BufferedMultikeyTokenReader12.bind(this);this.$BufferedMultikeyTokenReader3=[];this.$BufferedMultikeyTokenReader4='';this.$BufferedMultikeyTokenReader5=0;this.$BufferedMultikeyTokenReader6=1;this.$BufferedMultikeyTokenReader7=0;this.$BufferedMultikeyTokenReader8=k;this.$BufferedMultikeyTokenReader9=0;this.$BufferedMultikeyTokenReader10=null;this.$BufferedMultikeyTokenReader11=null;}i.prototype.nextToken=function(){if(this.$BufferedMultikeyTokenReader13())return this.$BufferedMultikeyTokenReader14();while(this.$BufferedMultikeyTokenReader11){this.$BufferedMultikeyTokenReader10=this.$BufferedMultikeyTokenReader11;this.$BufferedMultikeyTokenReader11=null;this.$BufferedMultikeyTokenReader9=0;this.$BufferedMultikeyTokenReader15();if(this.$BufferedMultikeyTokenReader13())return this.$BufferedMultikeyTokenReader14();}if(!this.currentlyReading()&&!this.hasMore())if(this.$BufferedMultikeyTokenReader3.length!=0||this.$BufferedMultikeyTokenReader4.length!=0){if(this.$BufferedMultikeyTokenReader4.length!=0){this.$BufferedMultikeyTokenReader3.push(this.$BufferedMultikeyTokenReader4);this.$BufferedMultikeyTokenReader4='';}this.$BufferedMultikeyTokenReader5++;return this.$BufferedMultikeyTokenReader14();}else return [i.EOF];this.$BufferedMultikeyTokenReader15();return null;};i.prototype.hasMore=function(){return this.$BufferedMultikeyTokenReader7<this.$BufferedMultikeyTokenReader1.size;};i.prototype.progress=function(){return this.$BufferedMultikeyTokenReader7/this.$BufferedMultikeyTokenReader1.size;};i.prototype.getNumTokens=function(){return this.$BufferedMultikeyTokenReader5;};i.prototype.getLineNumber=function(){return this.$BufferedMultikeyTokenReader6;};i.prototype.getFileSize=function(){return this.$BufferedMultikeyTokenReader1.size;};i.prototype.$BufferedMultikeyTokenReader15=function(){if(this.currentlyReading())return;if(this.hasMore())this.$BufferedMultikeyTokenReader2.readAsText(this.$BufferedMultikeyTokenReader16());};i.prototype.currentlyReading=function(){return this.$BufferedMultikeyTokenReader2.readyState===b.FileReader.LOADING;};i.prototype.$BufferedMultikeyTokenReader13=function(){if(this.$BufferedMultikeyTokenReader10&&this.$BufferedMultikeyTokenReader9<this.$BufferedMultikeyTokenReader10.length)while(this.$BufferedMultikeyTokenReader9<this.$BufferedMultikeyTokenReader10.length){var j=this.$BufferedMultikeyTokenReader10.charAt(this.$BufferedMultikeyTokenReader9);if(i.LINE_BREAKS[j])if(this.$BufferedMultikeyTokenReader3.length!=0||this.$BufferedMultikeyTokenReader4){this.$BufferedMultikeyTokenReader3.push(this.$BufferedMultikeyTokenReader4);this.$BufferedMultikeyTokenReader4='';this.$BufferedMultikeyTokenReader5++;return true;}else{this.$BufferedMultikeyTokenReader6++;this.$BufferedMultikeyTokenReader9++;if(!this.$BufferedMultikeyTokenReader10)return false;var k=this.$BufferedMultikeyTokenReader10.charAt(this.$BufferedMultikeyTokenReader9);if(j!=k&&i.LINE_BREAKS[k])this.$BufferedMultikeyTokenReader9++;continue;}this.$BufferedMultikeyTokenReader9++;if(j==='\0')continue;if(i.ELEMENT_OF_TOKEN_BREAKS[j]){this.$BufferedMultikeyTokenReader3.push(this.$BufferedMultikeyTokenReader4);this.$BufferedMultikeyTokenReader4='';continue;}if(i.TOKEN_BREAKS[j]){this.$BufferedMultikeyTokenReader3.push(this.$BufferedMultikeyTokenReader4);this.$BufferedMultikeyTokenReader4='';this.$BufferedMultikeyTokenReader5++;return true;}this.$BufferedMultikeyTokenReader4+=j;}return false;};i.prototype.$BufferedMultikeyTokenReader14=function(){var j=this.$BufferedMultikeyTokenReader3;this.$BufferedMultikeyTokenReader3=[];return j;};i.prototype.$BufferedMultikeyTokenReader12=function(){!this.$BufferedMultikeyTokenReader11||h(0);this.$BufferedMultikeyTokenReader11=this.$BufferedMultikeyTokenReader2.result;c('Arbiter').inform(i.DATA_LOADED_EVENT);};i.prototype.$BufferedMultikeyTokenReader16=function(){var j=this.$BufferedMultikeyTokenReader7,k=Math.min(this.$BufferedMultikeyTokenReader7+this.$BufferedMultikeyTokenReader8,this.$BufferedMultikeyTokenReader1.size);this.$BufferedMultikeyTokenReader7=k;return c('fileSlice').call(this.$BufferedMultikeyTokenReader1,j,k);};Object.assign(i,{EOF:'\0\0',DATA_LOADED_EVENT:'bufferedlinereader_data_loaded',LINE_BREAKS:{'\r':true,'\n':true},TOKEN_BREAKS:{'\r':true,'\n':true},ELEMENT_OF_TOKEN_BREAKS:{',':true}});f.exports=i;}),null);
__d('BufferedTokenReader',['invariant','ArbiterMixin','fileSlice','mixin'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('mixin')(c('ArbiterMixin')));j=i&&i.prototype;function k(l,m){'use strict';j.constructor.call(this);b.FileReader!==undefined||h(0);this.$BufferedTokenReader1=l;this.$BufferedTokenReader2=new b.FileReader();this.$BufferedTokenReader2.onloadend=this.$BufferedTokenReader3.bind(this);this.$BufferedTokenReader4='';this.$BufferedTokenReader5=0;this.$BufferedTokenReader6=1;this.$BufferedTokenReader7=0;this.$BufferedTokenReader8=m;this.$BufferedTokenReader9=0;this.$BufferedTokenReader10=null;this.$BufferedTokenReader11=null;}k.prototype.nextToken=function(){'use strict';if(this.$BufferedTokenReader12())return this.$BufferedTokenReader13();while(this.$BufferedTokenReader11){this.$BufferedTokenReader10=this.$BufferedTokenReader11;this.$BufferedTokenReader11=null;this.$BufferedTokenReader9=0;this.readLines();if(this.$BufferedTokenReader12())return this.$BufferedTokenReader13();}if(!this.currentlyReading()&&!this.hasMore())if(this.$BufferedTokenReader4){this.$BufferedTokenReader5++;return this.$BufferedTokenReader13();}else return k.EOF;this.readLines();return null;};k.prototype.hasMore=function(){'use strict';return this.$BufferedTokenReader7<this.$BufferedTokenReader1.size;};k.prototype.progress=function(){'use strict';return this.$BufferedTokenReader7/this.$BufferedTokenReader1.size;};k.prototype.getNumTokens=function(){'use strict';return this.$BufferedTokenReader5;};k.prototype.getLineNumber=function(){'use strict';return this.$BufferedTokenReader6;};k.prototype.getFileSize=function(){'use strict';return this.$BufferedTokenReader1.size;};k.prototype.readLines=function(){'use strict';if(this.currentlyReading())return;if(this.hasMore())this.$BufferedTokenReader2.readAsText(this.$BufferedTokenReader14());};k.prototype.currentlyReading=function(){'use strict';return this.$BufferedTokenReader2.readyState===b.FileReader.LOADING;};k.prototype.$BufferedTokenReader12=function(){'use strict';if(this.$BufferedTokenReader10&&this.$BufferedTokenReader9<this.$BufferedTokenReader10.length)while(this.$BufferedTokenReader9<this.$BufferedTokenReader10.length){var l=this.$BufferedTokenReader10.charAt(this.$BufferedTokenReader9);if(k.LINE_BREAKS[l])if(this.$BufferedTokenReader4){this.$BufferedTokenReader5++;return true;}else{this.$BufferedTokenReader6++;this.$BufferedTokenReader9++;var m=this.$BufferedTokenReader10.charAt(this.$BufferedTokenReader9);if(l!=m&&k.LINE_BREAKS[m])this.$BufferedTokenReader9++;continue;}this.$BufferedTokenReader9++;if(l==='\0')continue;if(k.TOKEN_BREAKS[l]){if(this.$BufferedTokenReader4){this.$BufferedTokenReader5++;return true;}continue;}this.$BufferedTokenReader4+=l;}return false;};k.prototype.$BufferedTokenReader13=function(){'use strict';var l=this.$BufferedTokenReader4;this.$BufferedTokenReader4='';return l;};k.prototype.$BufferedTokenReader3=function(){'use strict';!this.$BufferedTokenReader11||h(0);this.$BufferedTokenReader11=this.$BufferedTokenReader2.result;this.inform(k.DATA_LOADED_EVENT);};k.prototype.$BufferedTokenReader14=function(){'use strict';var l=this.$BufferedTokenReader7,m=Math.min(this.$BufferedTokenReader7+this.$BufferedTokenReader8,this.$BufferedTokenReader1.size);this.$BufferedTokenReader7=m;return c('fileSlice').call(this.$BufferedTokenReader1,l,m);};Object.assign(k,{EOF:'\0\0',DATA_LOADED_EVENT:'bufferedlinereader_data_loaded',LINE_BREAKS:{'\r':true,'\n':true},TOKEN_BREAKS:{'<':true,'>':true,'"':true,"'":true,',':true,' ':true,'|':true,';':true,'\t':true}});f.exports=k;}),null);
__d('CustomAudienceUiLogger',['AsyncRequest'],(function a(b,c,d,e,f,g){var h='/ajax/ads/manage/custom_audience/log/',i={EVENT_UI_SESSION_FINISH:'ui_session_finish',log:function j(k){var l=new (c('AsyncRequest'))(h);l.setData(k||{}).send();}};f.exports=i;}),null);
__d('CustomAudienceUploader',['fbt','invariant','ads-cluster-constants','AdsMigrationOverrides','Arbiter','ArbiterMixin','AudienceMultikeyTokenProcessor','AudienceTokenProcessor','CustomAudienceBigPostPool','BufferedMultikeyTokenReader','BufferedTokenReader','CAUploadSessionStatus','CustomAudienceHashIdSchemaTypesJS','CustomAudienceSessionTypesJS','CustomAudienceSimpleIdSchemaTypesJS','CustomAudienceUiLogger','WebApiApplication','mixin','keyMirrorRecursive'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('ads-cluster-constants').ERROR_THRESHOLD_RATE,m=2650,n=c('keyMirrorRecursive')({INIT:'',READING:'',FILE_LOADING:'',WAITING_FOR_ERROR_CHECK:'',WAITING_FOR_REQUEST:'',WAITING_REQUEST_SENT:'',STOPPED:'',DONE:''});j=babelHelpers.inherits(o,c('mixin')(c('ArbiterMixin')));k=j&&j.prototype;function o(p,q){k.constructor.call(this);this.dao=p;this.N_UPLOAD_CONCURRENCY=q;this._clusterReader=null;this._numUploaded=0;this._clusterID='';this._removeUsers=false;this._encOption=null;this._state=n.INIT;this._uploadSession=new (c('CAUploadSessionStatus'))();this._bigPostPool=new (c('CustomAudienceBigPostPool'))(q+2);this._bigPost=this._bigPostPool.acquireBigPost();this._requestNumber=0;this._tokenProcessor=null;this._waitingRequest=null;this._currentLineInfo={lineNum:0,numValidTokens:0,firstInvalidToken:null,firstInvalidTokenLineNum:-1};this._numInvalidLines=0;this._appIDs=null;}o.prototype.createCluster=function(p,q,r){this._encOption=r.encOption;this._uploadType=r.uploadType;this._accountId=r.accountId;this._createCluster=true;this._appIDs=r.appIDs;this.inform(o.PROGRESS_CREATING_CLUSTER);this._readFile(q);this._errorLimitCallback=function(){this.dao.add.createCustomAudience.one(function(s){this._clusterID=s.id;this.inform(o.CREATING_CLUSTER_FINISHED,{audienceId:this._clusterID,audienceName:p});if(this._state!=n.STOPPED)this._continueAfterFirstBatchCheck();}.bind(this),{migrations_override:c('AdsMigrationOverrides'),name:p,accountId:r.accountId,opt_out_link:r.optOutLink,rev_share_policy_id:r.revSharePolicyID,description:r.description,partner_reference_key:r.partnerReferenceKey,is_partner_category:!!r.isPartnerCategory,creation_params:{type:'file',file_name:q.name},subtype:this.inferAudienceSubtype(r),handleError:function(s,t){var u={type:'FatalError',message:t.error.message};this.inform(o.FATAL_ERROR,u);}.bind(this)});}.bind(this);};o.prototype.inferAudienceSubtype=function(p){if(p.revSharePolicyID)return 'managed';return 'custom';};o.prototype.modifyUsers=function(p,q,r){this._accountId=r.accountId;this._uploadType=r.uploadType;this._encOption=r.encOption;this._removeUsers=r.removeUsers;this._clusterID=p;this._appIDs=r.appIDs;this._readFile(q);this._errorLimitCallback=function(){this._continueAfterFirstBatchCheck();}.bind(this);};o.prototype.removeUsersFromAllAudiences=function(p,q){this._accountId=q.accountId;this._uploadType=q.uploadType;this._encOption=q.encOption;this._optOut=true;this._readFile(p);this._errorLimitCallback=function(){this._continueAfterFirstBatchCheck();}.bind(this);};o.prototype.getNumErrors=function(){return this._numInvalidLines;};o.prototype.getNumUploaded=function(){var p=this._uploadSession.getNumUploadSucceeded()-(this._uploadSession.getTotalBatchID()-1);if(p<0)p=0;return p;};o.prototype.getNumFailed=function(){return this._uploadSession.getNumUploadFailed();};o.prototype.getNumTokens=function(){!!this._clusterReader||i(0);return this._clusterReader.getNumTokens();};o.prototype.getNumLines=function(){!!this._clusterReader||i(0);return this._clusterReader.getLineNumber();};o.prototype.getProgress=function(){if(this._uploadSession.isSessionCompleted())return 100;return this._clusterReader?this._clusterReader.progress()*100:0;};o.prototype.stop=function(){this._state==n.READING||this._state==n.FILE_LOADING||this._state==n.WAITING_FOR_REQUEST||this._state==n.WAITING_FOR_ERROR_CHECK||i(0);this._state=n.STOPPED;this._uploadSession.end();this._logToServer(false);this._clusterReader=null;};o.prototype._continueAfterFirstBatchCheck=function(){this._state==n.WAITING_FOR_ERROR_CHECK||i(0);this.inform(o.PROGRESS_START_UPLOADING);if(this._waitingRequest){this._sendWaitingRequest();}else this._endUpload();};o.prototype._getShouldTriggerTokenErrorEvent=function(){return !!this._clusterReader&&this._currentLineInfo.line&&this._clusterReader.getLineNumber()>this._currentLineInfo.line;};o.prototype._handleLine=function(){while(true){if(this._state===n.STOPPED)break;this._state===n.READING||i(0);!!this._clusterReader||i(0);var p=this._clusterReader.nextToken();if(p===null){this._state=n.FILE_LOADING;break;}if(p==c('BufferedTokenReader').EOF){this._mayTriggerTokenErrorEvent();this._endOfFile=true;if(this._bigPost.getUserCount()>0){this._sendRequest();}else if(this._bigPost.getUserCount()===0&&this._uploadSession.noBatchCreated()){this.inform(o.NO_VALID_ENTRIES);return;}break;}if(this._getShouldTriggerTokenErrorEvent())this._mayTriggerTokenErrorEvent();if(p==='')continue;!!this._clusterReader||i(0);this._currentLineInfo.line=this._clusterReader.getLineNumber();!!this._tokenProcessor||i(0);var q=this._tokenProcessor.processToken(p,this._bigPost);if(!q){this._currentLineInfo.firstInvalidToken=p;continue;}this._currentLineInfo.numValidTokens++;if(this._bigPost.getUserCount()==c('ads-cluster-constants').CLUSTER_API_MAX_SIZE){var r=!this._sendRequest();!!this._tokenProcessor||i(0);this._tokenProcessor.processToken(p,this._bigPost);if(r)break;}}this._checkStateAndInform();};o.prototype._handleMultikeyLine=function(){while(true){if(this._state===n.STOPPED)break;this._state===n.READING||i(0);!!this._clusterReader||i(0);var p=this._clusterReader.nextToken();if(p===null){this._state=n.FILE_LOADING;break;}if(p&&p[0]==c('BufferedMultikeyTokenReader').EOF){this._mayTriggerTokenErrorEvent();this._endOfFile=true;if(this._bigPost.getUserCount()>0){this._sendRequest();}else if(this._bigPost.getUserCount()===0&&this._uploadSession.noBatchCreated()){this.inform(o.NO_VALID_ENTRIES);return;}break;}if(this._getShouldTriggerTokenErrorEvent())this._mayTriggerTokenErrorEvent();if(p.length===0)continue;!!this._clusterReader||i(0);this._currentLineInfo.line=this._clusterReader.getLineNumber();!!this._tokenProcessor||i(0);var q=this._tokenProcessor.processMultikeyToken(p,this._bigPost);if(!q){if(this._currentLineInfo.firstInvalidToken===null){this._currentLineInfo.firstInvalidToken=p.toString();if(this._clusterReader&&this._currentLineInfo.firstInvalidTokenLineNum===-1)this._currentLineInfo.firstInvalidTokenLineNum=this._clusterReader.getLineNumber();}continue;}this._currentLineInfo.numValidTokens++;if(this._bigPost.getUserCount()==c('ads-cluster-constants').CLUSTER_API_MAX_SIZE){var r=!this._sendRequest();!!this._tokenProcessor||i(0);this._tokenProcessor.processMultikeyToken(p,this._bigPost);if(r)break;}}this._checkStateAndInform();};o.prototype._checkStateAndInform=function(){if(this._state!=n.STOPPED)this.inform(o.PROGRESS_PARSING);if(this._state==n.WAITING_FOR_ERROR_CHECK)if(this._clusterReader&&this._numInvalidLines/this._clusterReader.getLineNumber()>l){var p=this._clusterReader.getLineNumber();this.inform(o.ERROR_LIMIT_REACHED,{numErrors:this._numInvalidLines,numLines:p,errorRate:this._numInvalidLines/p,continueCallback:this._errorLimitCallback});}else if(this._errorLimitCallback)this._errorLimitCallback();};o.prototype._readFile=function(p){this._endOfFile=false;if(this._uploadType===c('ads-cluster-constants').UPLOAD_TYPE_MULTIKEY){this._tokenProcessor=new (c('AudienceMultikeyTokenProcessor'))();this._clusterReader=new (c('BufferedMultikeyTokenReader'))(p,10000);c('Arbiter').subscribe(c('BufferedMultikeyTokenReader').DATA_LOADED_EVENT,this._continueReadFile.bind(this));}else{this._tokenProcessor=new (c('AudienceTokenProcessor'))(this._uploadType);this._clusterReader=new (c('BufferedTokenReader'))(p,10000);var q=this._clusterReader;q&&q.subscribe(c('BufferedTokenReader').DATA_LOADED_EVENT,this._continueReadFile.bind(this));}this._uploadSession.start();this._continueReadFile();this.inform(o.PROGRESS_START_READING);};o.prototype._continueReadFile=function(){if(this._state==n.INIT||this._state==n.FILE_LOADING||this._state==n.WAITING_REQUEST_SENT){this._state=n.READING;try{if(this._tokenProcessor&&this._tokenProcessor.getType()===c('ads-cluster-constants').UPLOAD_TYPE_MULTIKEY){this._handleMultikeyLine();}else this._handleLine();}catch(p){this._uploadSession.setSessionException(p.message);this._logToServer(false);throw p;}}};o.prototype._onTokenError=function(p,q){!!this._tokenProcessor||i(0);var r=this._tokenProcessor.getType();!!r||i(0);var s=this._getUploadTypeString(r);!!this._tokenProcessor||i(0);if(this._tokenProcessor.isHash()){r=c('ads-cluster-constants').UPLOAD_TYPE_HASH;s=h._("hash");}var t={type:s,message:h._("line {line} contains {token}",[h.param('line',q),h.param('token',p)]),token:p};this._numInvalidLines++;this.inform(o.ERROR,t);};o.prototype._getUploadTypeString=function(p){switch(p){case c('ads-cluster-constants').UPLOAD_TYPE_EMAIL:return h._("email");case c('ads-cluster-constants').UPLOAD_TYPE_UID:return h._("UID");case c('ads-cluster-constants').UPLOAD_TYPE_PHONE:return h._("phone number");case c('ads-cluster-constants').UPLOAD_TYPE_PARTNER_TOKEN:return h._("partner token");case c('ads-cluster-constants').UPLOAD_TYPE_PLATFORM_ADVERTISER_TOKEN:return h._("App User ID");case c('ads-cluster-constants').UPLOAD_TYPE_MOBILE_ADVERTISER_ID:return h._("Mobile Advertising ID");case c('ads-cluster-constants').UPLOAD_TYPE_MULTIKEY:return h._("Multi-key type");}return '';};o.prototype._sendRequest=function(){this._uploadSession.createNewBatch();if(this._endOfFile)this._uploadSession.markLastBatch();this._createCluster&&this._uploadSession.isFirstBatch()||this._clusterID||this._optOut||i(0);this.dao||i(0);this._state==n.READING||i(0);var p=this._bigPost;this._bigPost=this._bigPostPool.acquireBigPost();var q=p.getUserCount();this._endOfFile&&q>0||q==c('ads-cluster-constants').CLUSTER_API_MAX_SIZE||i(0);var r=this._makeUploadingAPIParams(p);if(this._uploadSession.isFirstBatch()||this._requestNumber>=this.N_UPLOAD_CONCURRENCY){this._waitingRequest=function(){this._callUploadingAPI(p,r);}.bind(this);this._state=this._uploadSession.isFirstBatch()?n.WAITING_FOR_ERROR_CHECK:n.WAITING_FOR_REQUEST;return false;}this._callUploadingAPI(p,r);return true;};o.prototype._requestCallback=function(p){return function(q){this._uploadSession.setBatchResult(p,q);this.inform(o.PROGRESS_UPLOADING);if(!q||q.error){var r=h._("Unknown error");if(q&&q.error)r=q.error.message;var s={type:'UploadRequest',message:r};if(q&&q.error&&q.error.code===m){this.inform(o.FATAL_ERROR,s);return;}this.inform(o.ERROR,s);}this._requestNumber--;if(this._uploadSession.isSessionCompleted()){this._endUpload();return;}if(this._state==n.WAITING_FOR_REQUEST)this._sendWaitingRequest();}.bind(this);};o.prototype._sendWaitingRequest=function(){this._state==n.WAITING_FOR_REQUEST||this._state==n.WAITING_FOR_ERROR_CHECK||i(0);var p=this._waitingRequest;this._waitingRequest=null;!!p||i(0);p();this._state=n.WAITING_REQUEST_SENT;this._continueReadFile();};o.prototype._makeUploadingAPIParams=function(p){if(this._appIDs)p.appendAppIDs(this._appIDs);if(this._tokenProcessor&&this._tokenProcessor.getType()===c('ads-cluster-constants').UPLOAD_TYPE_MULTIKEY){p.appendMultikeyPayloadSchema(this._tokenProcessor.getPayloadSchema());}else{!!this._tokenProcessor||i(0);p.appendPayloadSchema(this._tokenProcessor.getPayloadSchema());}var q=this._uploadSession.getAPISpecForCurrentBatch();q.estimated_num_total=Math.round((this._uploadSession.getNumUploadAttempted()+p.getUserCount())/this.getProgress()*100);return q;};o.prototype._callUploadingAPI=function(p,q){this._requestNumber++;this._uploadSession.startBatch(q.batch_seq,p.getUserCount());var r={session:JSON.stringify(q)};if(this._optOut){p.request('/act_'+this._accountId+'/usersofanyaudience','DELETE',r,this._requestCallback(this._uploadSession.getCurrentBatchID()));}else p.request('/'+this._clusterID+'/users',this._removeUsers?'DELETE':'POST',r,this._requestCallback(this._uploadSession.getCurrentBatchID()));};o.prototype._endUpload=function(){this._state=n.DONE;this._uploadSession.end();this._logToServer(true);this.inform(o.FINISHED,{audienceId:this._clusterID,sessionId:this._uploadSession.getSessionID()});};o.prototype._mayTriggerTokenErrorEvent=function(){if(this._currentLineInfo.line&&this._currentLineInfo.numValidTokens===0&&this._currentLineInfo.firstInvalidToken)this._onTokenError(this._currentLineInfo.firstInvalidToken,this._currentLineInfo.line);this._currentLineInfo.line=0;this._currentLineInfo.numValidTokens=0;};o.prototype._logToServer=function(p){var q=this._uploadSession.toObject();q.app_id=c('WebApiApplication').getClientID();q.audience_id=this._clusterID;if(this._accountId)q.ad_account_id=this._accountId;q.event_name=c('CustomAudienceUiLogger').EVENT_UI_SESSION_FINISH;q.num_invalid_ui=this._numInvalidLines;!!this._clusterReader||i(0);q.num_lines_ui=this._clusterReader.getLineNumber();!!this._clusterReader||i(0);q.file_size=this._clusterReader.getFileSize();q.session_type=c('CustomAudienceSessionTypesJS').ACTION_BASED_SESSION;q.action_type=this._getActionType();q.payload_schema=this._getPayloadSchema();if(p){q.upload_progress=100;}else q.upload_progress=Math.round(this.getProgress()/100*99);c('CustomAudienceUiLogger').log(q);};o.prototype._getActionType=function(){if(this._optOut)return 'OPTOUT';if(this._removeUsers)return 'REMOVE_USER';return 'ADD_USER';};o.prototype._getPayloadSchema=function(){switch(this._uploadType){case c('ads-cluster-constants').UPLOAD_TYPE_EMAIL:return c('CustomAudienceHashIdSchemaTypesJS').EMAIL_SHA256;case c('ads-cluster-constants').UPLOAD_TYPE_UID:return c('CustomAudienceSimpleIdSchemaTypesJS').UID;case c('ads-cluster-constants').UPLOAD_TYPE_PHONE:return c('CustomAudienceHashIdSchemaTypesJS').PHONE_SHA256;case c('ads-cluster-constants').UPLOAD_TYPE_PLATFORM_ADVERTISER_TOKEN:return c('CustomAudienceSimpleIdSchemaTypesJS').THIRD_PARTY_TOKEN;case c('ads-cluster-constants').UPLOAD_TYPE_PARTNER_TOKEN:return c('CustomAudienceSimpleIdSchemaTypesJS').TOKEN;case c('ads-cluster-constants').UPLOAD_TYPE_MOBILE_ADVERTISER_ID:return c('CustomAudienceSimpleIdSchemaTypesJS').MOBILE_ADVERTISER_ID;}return c('CustomAudienceHashIdSchemaTypesJS').EMAIL_SHA256;};Object.assign(o,{PROGRESS_START_READING:'progress_reading',PROGRESS_PARSING:'progress_parsing',PROGRESS_START_UPLOADING:'progress_start_uploading',PROGRESS_UPLOADING:'progress_uploading',PROGRESS_CREATING_CLUSTER:'progress_creating_cluster',NO_VALID_ENTRIES:'no_valid_entries_event',ERROR_LIMIT_REACHED:'error_limit_reached_event',ERROR:'error_event',FATAL_ERROR:'fatal_error_event',CREATING_CLUSTER_FINISHED:'creating_cluster_finished_event',FINISHED:'finished_event',STATES:n});f.exports=o;}),null);
__d('AdsAMCreateAudienceServerActions',['invariant','AdsAMActionTypes','AdsAMAudienceGraphAPI','AdsAMConstants','AdsCustomAudienceThirdPartyEmailImportStrategyTypes','AdsDispatcher','AudienceDaoManager','AudienceManagerRequestBatch','AudienceManagerUpdateRequest','AudienceTokenProcessor','CustomAudienceBigPostPool','BusinessURI.brands','CAUploadSessionStatus','CustomAudienceCreationErrors','CustomAudienceUploader','ads-cluster-constants','XAdsCreatorController'],(function a(b,c,d,e,f,g,h){'use strict';var i=10,j={DELETE:'DELETE',POST:'POST'},k={validRecord:0,invalidRecord:0,totalRecord:0},l=null,m={uploadSelectedFileToServer:function aa(ba,ca,da,ea,fa,ga){var ha=c('AudienceDaoManager').getPrimedDao(ba);ha.add.acceptCustomAudiencesTos.one(function(){return p(ea,function(ia){return r(ba,ga,ca,da,ia);});},{tos_id:fa,handleError:function ia(ja,ka){q(ja,ka);}});},continueUploadSelectedFileToServer:function aa(){if(l){l();}else c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsAMActionTypes').FILE_IMPORT_ERROR});},uploadCopyPasteEmailsToServer:function aa(ba,ca,da,ea,fa,ga){var ha=c('AudienceDaoManager').getPrimedDao(ba);ha.add.acceptCustomAudiencesTos.one(function(){return x(ba,ga,ca,da,ea);},{tos_id:fa,handleError:function ia(ja,ka){q(ja,ka);}});},uploadMailChimpListsToServer:function aa(ba,ca,da,ea){var fa=c('AudienceDaoManager').getPrimedDao(ba);fa.add.acceptCustomAudiencesTos.one(function(){return z(ba,ea,ca);},{tos_id:da,handleError:function ga(ha,ia){q(ha,ia);}});},updateAudienceNameDescription:function aa(ba,ca,da){var ea=c('AudienceDaoManager').getPrimedDao(ba);ea.mutate.customAudience.one(function(){var fa=[];fa[ca.id]=ca;c('AdsDispatcher').handleUpdateFromServerResponse({audiences:fa,type:c('AdsAMActionTypes').UPDATE_NAME_DESCRIPTION_COMPLETE});da();},ca);},createCustomAudience:function aa(ba,ca,da){c('AdsAMAudienceGraphAPI').createCustomAudience(ba,ca,da||function(){});},updateCustomAudience:function aa(ba,ca,da){c('AdsAMAudienceGraphAPI').updateCustomAudience(ba,ca,da||function(){});},createdEngagementAudience:function aa(ba,ca){c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsAMActionTypes').ENGAGEMENT_AUDIENCE_CREATED,audienceID:ba,audience:ca});},batchUpdateAudienceNameDescription:function aa(ba,ca,da){var ea=ca.map(function(ha){var ia={id:ha.id,name:ha.name,description:ha.description};return new (c('AudienceManagerUpdateRequest'))(ia);}),fa=function ha(ia){c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsAMActionTypes').MAIL_CHIMP_ERROR});},ga=function ha(ia){c('AdsDispatcher').handleUpdateFromServerResponse({audiences:ca,type:c('AdsAMActionTypes').UPDATE_NAME_DESCRIPTION_COMPLETE});da();};c('AudienceManagerRequestBatch').execute(ea,ga,fa);},batchCreateAd:function aa(ba,ca){var da=[];Object.keys(ca).forEach(function(ga){da.push({id:ca[ga].id,name:ca[ga].name});});var ea={custom_audiences:da},fa=c('BusinessURI.brands')(c('XAdsCreatorController').getURIBuilder().setInt('act',ba).setString('targeting_spec',JSON.stringify(ea)).getURI());window.open(fa,'_blank');},fetchContactListsFromServer:function aa(ba,ca,da){var ea=c('AudienceDaoManager').getPrimedDao(ba),fa={accountId:ba,third_party_data:{strategy_type:c('AdsCustomAudienceThirdPartyEmailImportStrategyTypes').MAILCHIMP,access_token:ca,start_page:da-1}};ea.fetch.contactsLists.one(function(ga){c('AdsDispatcher').handleUpdateFromServerResponse({contactsLists:ga.lists,currentPage:da,totalPage:Math.ceil(ga.total/i),type:c('AdsAMActionTypes').MAIL_CHIMP_FETCH_COMPLETE});},fa);},uploadFileAddUsers:function aa(ba,ca,da,ea,fa){p(fa,function(ga){return s(ba,ca,da,ea,ga);});},uploadFileRemoveUsers:function aa(ba,ca,da,ea,fa){p(fa,function(ga){return t(ba,ca,da,ea,ga);});},copyPasteAddUsers:function aa(ba,ca,da,ea,fa){y(ba,ca,da,ea,fa,j.POST);},copyPasteRemoveUsers:function aa(ba,ca,da,ea,fa){y(ba,ca,da,ea,fa,j.DELETE);},removeUsersFromAllCustomAudiences:function aa(ba,ca,da){u(ba,ca,da);}};function n(){k={validRecord:0,invalidRecord:0,totalRecord:0};}function o(aa){var ba=c('AudienceDaoManager').getPrimedDao(aa),ca=new (c('CustomAudienceUploader'))(ba,c('AdsAMConstants').FILE_UPLOAD_CONCURRENCY),da=[ca.subscribe(c('CustomAudienceUploader').ERROR_LIMIT_REACHED,function(ea,fa){if(fa.numErrors<fa.numLines){c('AdsDispatcher').handleUpdateFromServerResponse({errorDetails:{numErrors:fa.numErrors,numLines:fa.numLines},errorType:c('CustomAudienceCreationErrors').FILE_IMPORT_ERROR_LIMIT_REACH,type:c('AdsAMActionTypes').FILE_IMPORT_ERROR});l=fa.continueCallback;}}),ca.subscribe(c('CustomAudienceUploader').PROGRESS_START_UPLOADING,function(){return c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsAMActionTypes').FILE_IMPORT_START_UPLOAD});}),ca.subscribe(c('CustomAudienceUploader').PROGRESS_UPLOADING,function(){return c('AdsDispatcher').handleUpdateFromServerResponse({progress:ca.getProgress(),type:c('AdsAMActionTypes').FILE_IMPORT_UPLOAD_PROGRESS});}),ca.subscribe(c('CustomAudienceUploader').ERROR,function(ea,fa){return c('AdsDispatcher').handleUpdateFromServerResponse({error:fa,errorType:c('CustomAudienceCreationErrors').FILE_IMPORT_TOKEN_ERROR,type:c('AdsAMActionTypes').FILE_IMPORT_ERROR});}),ca.subscribe(c('CustomAudienceUploader').NO_VALID_ENTRIES,function(){return c('AdsDispatcher').handleUpdateFromServerResponse({errorType:c('CustomAudienceCreationErrors').FILE_IMPORT_NO_VALID_ENTRY,type:c('AdsAMActionTypes').FILE_IMPORT_ERROR});}),ca.subscribe(c('CustomAudienceUploader').FATAL_ERROR,function(ea,fa){return c('AdsDispatcher').handleUpdateFromServerResponse({error:fa,errorType:c('CustomAudienceCreationErrors').FATAL_ERROR,type:c('AdsAMActionTypes').FILE_IMPORT_ERROR});}),ca.subscribe(c('CustomAudienceUploader').CREATING_CLUSTER_FINISHED,function(ea,fa){return c('AdsDispatcher').handleUpdateFromServerResponse({audienceID:fa.audienceId,audienceName:fa.audienceName,type:c('AdsAMActionTypes').FILE_IMPORT_CREATE_AUDIENCE_COMPLETE});}),ca.subscribe(c('CustomAudienceUploader').FINISHED,function(ea,fa){k={validRecord:ca.getNumUploaded(),invalidRecord:ca.getNumFailed(),totalRecord:ca.getNumTokens()};c('AdsDispatcher').handleUpdateFromServerResponse({numberOfRecords:k,type:c('AdsAMActionTypes').FILE_IMPORT_UPLOAD_COMPLETE});n();da.forEach(ca.unsubscribe,ca);})];return ca;}function p(aa,ba){if(w(aa)){v(aa,function(ca){return ba(ca);});}else ba(aa);}function q(aa,ba){ba.error.message+=': upload failed, please try again';c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsAMActionTypes').FILE_IMPORT_ERROR,errorType:c('CustomAudienceCreationErrors').FATAL_ERROR,error:ba.error});}function r(aa,ba,ca,da,ea){var fa=o(aa),ga={uploadType:ca,accountId:aa};if(ca===c('ads-cluster-constants').UPLOAD_TYPE_UID)ga.appIDs=da.map(function(ha){return ha.getUniqueID();});fa.createCluster(ba,ea,ga);}function s(aa,ba,ca,da,ea){var fa=o(aa),ga={uploadType:ca,accountId:aa,removeUsers:false};if(ca===c('ads-cluster-constants').UPLOAD_TYPE_UID)ga.appIDs=da.map(function(ha){return ha.getUniqueID();});fa.modifyUsers(ba,ea,ga);}function t(aa,ba,ca,da,ea){var fa=o(aa),ga={uploadType:ca,accountId:aa,removeUsers:true};if(ca===c('ads-cluster-constants').UPLOAD_TYPE_UID)ga.appIDs=da.map(function(ha){return ha.getUniqueID();});fa.modifyUsers(ba,ea,ga);}function u(aa,ba,ca){var da=o(aa),ea={uploadType:ba,accountId:aa};da.removeUsersFromAllAudiences(ca,ea);}function v(aa,ba){}function w(aa){return aa.name.endsWith('.xls')||aa.name.endsWith('.xlsx');}function x(aa,ba,ca,da,ea){var fa=c('AudienceDaoManager').getPrimedDao(aa);fa.add.createCustomAudience.one(function(ga){y(aa,ga.id,ca,da,ea,j.POST);c('AdsDispatcher').handleUpdateFromServerResponse({audienceID:ga.id,audienceName:ba,type:c('AdsAMActionTypes').COPY_PASTE_CREATE_AUDIENCE_COMPLETE});},{name:ba,subtype:'custom',creation_params:{type:'copy_paste'},handleError:function ga(ha,ia){return (c('AdsDispatcher').handleUpdateFromServerResponse({error:ia.error,errorType:c('CustomAudienceCreationErrors').FATAL_ERROR,type:c('AdsAMActionTypes').FILE_IMPORT_ERROR}));}});}function y(aa,ba,ca,da,ea,fa){var ga=new (c('CustomAudienceBigPostPool'))(1),ha=ga.acquireBigPost(),ia=new (c('AudienceTokenProcessor'))(ca);ea.map(function(oa){var pa=ia.processToken(oa,ha);if(!pa)c('AdsDispatcher').handleUpdateFromServerResponse({error:{token:oa,type:ca},errorType:c('CustomAudienceCreationErrors').COPY_PASTE_TOKEN_ERROR,type:c('AdsAMActionTypes').COPY_PASTE_ERROR});});var ja=new (c('CAUploadSessionStatus'))();ja.createNewBatch();ja.markLastBatch();if(ca===c('ads-cluster-constants').UPLOAD_TYPE_UID){var ka=da.map(function(oa){return oa.getUniqueID();});ha.appendAppIDs(ka);}ha.appendPayloadSchema(ia.getPayloadSchema());var la=ja.getAPISpecForCurrentBatch();la.estimated_num_total=ha.getUserCount();var ma={session:JSON.stringify(la)},na=function oa(pa){ja.setBatchResult(ja.getCurrentBatchID(),pa);c('AdsDispatcher').handleUpdateFromServerResponse({progress:100,type:c('AdsAMActionTypes').COPY_PASTE_UPLOAD_PROGRESS});if(!pa||pa.error)c('AdsDispatcher').handleUpdateFromServerResponse({errorDetails:pa.error,errorType:c('CustomAudienceCreationErrors').COPY_PASTE_REQUEST_ERROR,type:c('AdsAMActionTypes').COPY_PASTE_ERROR});k={validRecord:pa.num_received-pa.num_invalid_entries,invalidRecord:pa.num_invalid_entries,totalRecord:pa.num_received};ja.end();c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsAMActionTypes').COPY_PASTE_UPLOAD_COMPLETE,numberOfRecords:k});n();};ha.request('/'+ba+'/users',fa,ma,na);}function z(aa,ba,ca){var da=ca.length,ea=0,fa={},ga=c('AudienceDaoManager').getPrimedDao(aa);ca.forEach(function(ha){var ia={name:ha.name,third_party_data:{list_id:ha.list_id,strategy_type:c('AdsCustomAudienceThirdPartyEmailImportStrategyTypes').MAILCHIMP,access_token:ba}};ga.add.audiencesImport.one(function(ja){ea++;fa[ja.id]={id:ja.id,name:ha.name};var ka=ea/da*100;c('AdsDispatcher').handleUpdateFromServerResponse({progress:ka,type:c('AdsAMActionTypes').MAIL_CHIMP_UPLOAD_PROGRESS});if(ea===da)c('AdsDispatcher').handleUpdateFromServerResponse({audiences:fa,type:c('AdsAMActionTypes').MAIL_CHIMP_UPLOAD_COMPLETE});},ia);});}f.exports=m;}),null);
__d('AdsAMCreateAudienceViewActions',['AdsAMActionTypes','AdsAMCreateAudienceServerActions','AdsDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h={reset:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').CREATE_AUDIENCE_RESET});},setViewStage:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').CREATE_AUDIENCE_SET_VIEW_STAGE,viewStage:j});},setViewDialogType:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').CREATE_AUDIENCE_SET_VIEW_DIALOG_TYPE,viewDialogType:j});},showMobileAppDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').CREATE_AUDIENCE_SHOW_MACA_DIALOG});},showDataSetDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').CREATE_AUDIENCE_SHOW_DATA_SET_DIALOG});},showEngagementAudienceDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').CREATE_AUDIENCE_SHOW_ENGAGEMENT_AUDIENCE_DIALOG});},showPlatformAudienceDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').CREATE_AUDIENCE_SHOW_PLATFORM_DIALOG});},startFileImport:function i(j,k,l,m,n,o){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').FILE_IMPORT_CHECK_FILE});c('AdsAMCreateAudienceServerActions').uploadSelectedFileToServer(j,k,l,m,n,o);},startCopyPasteUpload:function i(j,k,l,m,n,o){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').COPY_PASTE_START_UPLOAD});c('AdsAMCreateAudienceServerActions').uploadCopyPasteEmailsToServer(j,k,l,m,n,o);},startMailChimpUpload:function i(j,k,l,m){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').MAIL_CHIMP_START_UPLOAD});c('AdsAMCreateAudienceServerActions').uploadMailChimpListsToServer(j,k,l,m);},updateAudiencesNameDescription:function i(j,k,l){if(k.length===0){l();}else if(k.length===1){c('AdsAMCreateAudienceServerActions').updateAudienceNameDescription(j,k[0],l);}else c('AdsAMCreateAudienceServerActions').batchUpdateAudienceNameDescription(j,k,l);},handleMailChimpLogin:function i(j,k){c('AdsAMCreateAudienceServerActions').fetchContactListsFromServer(j,k,1);},loadContactsList:function i(j,k,l){c('AdsAMCreateAudienceServerActions').fetchContactListsFromServer(j,k,l);}};f.exports=h;}),null);
__d('AudienceManagerWorkflowTypes',[],(function a(b,c,d,e,f,g){f.exports={DATA_FILE:'datafile',VALUE_BASED_DATA_FILE:'value_based_data_file',MAIL_CHIMP:'mailchimp',COPY_PASTE:'copypaste',MACA:'maca',WCA:'wca',PIXEL_DETAILS:'pixel',PLATFORM:'platform',LOOKALIKE:'lal',CUSTOM_LIST:'customlist',SAVED_AUDIENCE:'savedaudience',ENGAGEMENT_AUDIENCE:'engagement_audience',STOREVISIT_AUDIENCE:'store_visit_audience'};}),null);
__d('AdsAMViewActions',['AdsAMActionTypes','AdsDispatcher','AudienceManagerWorkflowTypes'],(function a(b,c,d,e,f,g){'use strict';var h={showCreateCustomAudienceDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_SHOW_CREATE_CA_DIALOG});},closeCreateCustomAudienceDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_CLOSE_CREATE_CA_DIALOG});},showDeleteAudienceDialog:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({audienceId:j,type:c('AdsAMActionTypes').VIEW_SHOW_DELETE_AUDIENCE_DIALOG});},closeDeleteAudienceDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_CLOSE_DELETE_AUDIENCE_DIALOG});},showPixelDialog:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({audienceId:j,type:c('AdsAMActionTypes').VIEW_SHOW_PIXEL_DIALOG});},closePixelDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_CLOSE_PIXEL_DIALOG});},showRegularEditDialog:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({audienceId:j,type:c('AdsAMActionTypes').VIEW_SHOW_REGULAR_EDIT_DIALOG});},closeRegularEditDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_CLOSE_REGULAR_EDIT_DIALOG});},showValueBasedCADialog:function i(j){var k={workflow_id:c('AudienceManagerWorkflowTypes').VALUE_BASED_DATA_FILE};c('AdsDispatcher').handleUpdateFromViewAction({audienceId:j,autoLaunch:k,type:c('AdsAMActionTypes').VIEW_SHOW_VALUE_BASED_CA_DIALOG});},closeValueBasedCADialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_CLOSE_VALUE_BASED_CA_DIALOG});},showWCADialog:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({audienceId:j,type:c('AdsAMActionTypes').VIEW_SHOW_WCA_DIALOG});},closeWCADialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_CLOSE_WCA_DIALOG});},showMACADialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_SHOW_MACA_DIALOG});},closeMACADialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_CLOSE_MACA_DIALOG});},showBulkShareAudienceDialog:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({audienceIDs:j,type:c('AdsAMActionTypes').VIEW_SHOW_BULK_SHARE_AUDIENCE_DIALOG});},showShareAudienceDialog:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({audienceId:j,type:c('AdsAMActionTypes').VIEW_SHOW_SHARE_AUDIENCE_DIALOG});},closeShareAudienceDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_CLOSE_SHARE_AUDIENCE_DIALOG});},showUnshareAudienceDialog:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({audienceId:j,type:c('AdsAMActionTypes').VIEW_SHOW_UNSHARE_AUDIENCE_DIALOG});},closeUnshareAudienceDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_CLOSE_UNSHARE_AUDIENCE_DIALOG});},showLookalikeDialog:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({audienceId:j,type:c('AdsAMActionTypes').VIEW_SHOW_LOOKALIKE_DIALOG});},closeLookalikeDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_CLOSE_LOOKALIKE_DIALOG});},showSavedAudienceEditDialog:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({audienceId:j,type:c('AdsAMActionTypes').VIEW_SHOW_SAVED_AUDIENCE_EDIT_DIALOG});},closeSavedAudienceEditDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_CLOSE_SAVED_AUDIENCE_EDIT_DIALOG});},showSavedAudienceCreateDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_SHOW_SAVED_AUDIENCE_CREATE_DIALOG});},closeSavedAudienceCreateDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_CLOSE_SAVED_AUDIENCE_CREATE_DIALOG});},showSavedTargetSpecDialog:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({audienceId:j,type:c('AdsAMActionTypes').VIEW_SHOW_SAVED_TARGET_SPEC_DIALOG});},closeSavedTargetSpecDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_CLOSE_SAVED_TARGET_SPEC_DIALOG});},showBulkDeleteDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_SHOW_BULK_DELETE_DIALOG});},closeBulkDeleteDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_CLOSE_BULK_DELETE_DIALOG});},showOptOutDialog:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({audienceId:j,type:c('AdsAMActionTypes').VIEW_SHOW_OPT_OUT_DIALOG});},closeOptOutDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_CLOSE_OPT_OUT_DIALOG});},updateCustomAudienceAfterCursor:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({paging:j,type:c('AdsAMActionTypes').VIEW_CUSTOM_AUDIENCE_CURSOR_CHANGE});},updateSavedTargetSpecAfterCursor:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({paging:j,type:c('AdsAMActionTypes').VIEW_SAVED_TARGET_SPEC_CURSOR_CHANGE});},initializeColumnsShown:function i(j){c('AdsDispatcher').handleUpdateFromInitialServer({columnsShown:j,type:c('AdsAMActionTypes').VIEW_INIT_COLUMN_DISPLAY});},updateColumnShown:function i(j,k){c('AdsDispatcher').handleUpdateFromViewAction({column:j,show:k,type:c('AdsAMActionTypes').VIEW_COLUMN_DISPLAY_CHANGE});},showFilterPane:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_SHOW_FILTER_PANE});},hideFilterPane:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_HIDE_FILTER_PANE});},updateFilterSet:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_UPDATE_FILTER_SET});},updateFilteringState:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({isFiltering:j,type:c('AdsAMActionTypes').VIEW_UPDATE_FILTERING_STATE});},updateLoadingMoreAudiencesState:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({isLoadingMoreAudiences:j,type:c('AdsAMActionTypes').VIEW_UPDATE_LOADING_MORE_AUDIENCES});},clickAudienceCheckbox:function i(j,k){c('AdsDispatcher').handleUpdateFromViewAction({audienceID:j,selected:k,type:c('AdsAMActionTypes').VIEW_CLICK_AUDIENCE_CHECKBOX});},clearAudienceSelection:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_CLEAR_AUDIENCE_SELECTION});},closeBulkDeleteDialogAndClearSelection:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').VIEW_CLOSE_BULK_DELETE_DIALOG_AND_CLEAR_SELECTION});}};f.exports=h;}),null);
__d('AssetLibraryAPIUtils.brands',['BizSiteIdentifier.brands'],(function a(b,c,d,e,f,g){'use strict';var h={getTagFieldsForAudiences:function i(){var j=[];if(c('BizSiteIdentifier.brands').isBizSite()){var k=c('BizSiteIdentifier.brands').getBusinessID();if(k)j.push('business_object_tags.business_id('+k+').fields(name)');}return j;}};f.exports=h;}),null);
__d('AudienceManagerUIConstants',['fbt','AdsAPISavedAudienceFields','AssetLibraryAPIUtils.brands','GraphSort','ads-cluster-constants'],(function a(b,c,d,e,f,g,h){'use strict';var i={NAME:{label:h._("Name"),description:h._("The name of the audience."),dataKey:'name',columnShownKey:'name'},TYPE:{label:h._("Type"),description:h._("The type of audience, including a Custom Audience, Lookalike Audience or people connected to your Page, event or app."),dataKey:'type',columnShownKey:'type'},SIZE:{label:h._("Size"),description:h._("The number of people Facebook has identified in the audience."),dataKey:'size',columnShownKey:'size'},STATUS:{label:h._("Availability"),description:h._("Whether the audience is available to use for advertising."),dataKey:'status',columnShownKey:'status'},DATE_CREATED:{label:h._("Date Created"),description:h._("The date and time the audience was created."),dataKey:'date_created',columnShownKey:'dateCreated'},AUDIENCE_ID:{label:h._("Audience ID"),description:h._("The ID number that is unique to each audience."),dataKey:'audience_id',columnShownKey:'audienceID'},SHARING:{label:h._("Sharing"),description:h._("The accounts you have shared an audience with or the account that has shared an audience with you."),dataKey:'sharing',columnShownKey:'sharing'},DEBUG:{label:h._("Debug (FB Only)"),description:h._("Showing API data of the audience"),dataKey:'debug',columnShownKey:'debug'}},j={};j[c('ads-cluster-constants').UPLOAD_TYPE_EMAIL]=h._("Emails");j[c('ads-cluster-constants').UPLOAD_TYPE_UID]=h._("App Users");j[c('ads-cluster-constants').UPLOAD_TYPE_PHONE]=h._("Phone Numbers");j[c('ads-cluster-constants').UPLOAD_TYPE_MULTIKEY]=h._("Multi-key");j[c('ads-cluster-constants').UPLOAD_TYPE_MOBILE_ADVERTISER_ID]=h._("Mobile Advertiser IDs");var k=h._("At least one location or Custom Audience must be selected"),l=[c('AdsAPISavedAudienceFields').ID,c('AdsAPISavedAudienceFields').NAME,c('AdsAPISavedAudienceFields').APPROXIMATE_COUNT,c('AdsAPISavedAudienceFields').DESCRIPTION,c('AdsAPISavedAudienceFields').SENTENCE_LINES,c('AdsAPISavedAudienceFields').TARGETING,c('AdsAPISavedAudienceFields').TIME_CREATED,c('AdsAPISavedAudienceFields').TIME_UPDATED].concat(c('AssetLibraryAPIUtils.brands').getTagFieldsForAudiences()),m='--';f.exports={CUSTOM_AUDIENCE_DATA_TYPE_LABEL:j,DEFAULT_DIALOG_WIDTH:600,DEFAULT_DIALOG_TOP_POS:80,STS_DIALOG_WIDTH:850,MAILCHIMP_WINDOW_HEIGHT:510,MAILCHIMP_WINDOW_WIDTH:600,MAX_AUDIENCES_LOAD:100,DEFAULT_ROW_HEIGHT:44,DEFAULT_HEADER_HEIGHT:32,HELP_DIALOG_MAX_HEIGHT:250,HELP_DIALOG_LINGER_TS:250,DATA_SET_DIALOG_WIDTH:750,ENGAGEMENT_AUDIENCE_DIALOG_WIDTH:650,ENGAGEMENT_AUDIENCE_MIN_RETENTION_DAYS:1,ENGAGEMENT_AUDIENCE_DEFAULT_RETENTION_DAYS:365,ENGAGEMENT_AUDIENCE_MAX_RETENTION_DAYS:365,ENGAGEMENT_LEAD_GEN_AUDIENCE_DEFAULT_RETENTION_DAYS:90,ENGAGEMENT_LEAD_GEN_AUDIENCE_MAX_RETENTION_DAYS:90,ENGAGEMENT_PAGE_AUDIENCE_DEFAULT_RETENTION_DAYS:180,ENGAGEMENT_PAGE_AUDIENCE_MAX_RETENTION_DAYS:365,BULK_ACTION_TYPE:{DELETE:'delete',CREATE_AD:'create_ad',AUDIENCES_OVERLAP:'audiences_overlap',SHARE:'share'},CREATE_AUDIENCE_ACTION_TYPE:{CUSTOM_AUDIENCE:'custom_audience',LOOKALIKE:'lookalike',SAVED_AUDIENCE:'saved_audience',SAVED_TARGET_SPEC:'saved_target_spec',VALUE_BASED_CUSTOM_AUDIENCE:'value_based_custom_audience'},HELP_LINK_WIDTH:300,SORT_ORDER:{DESC:'DESC',ASC:'ASC'},ALIGN:{LEFT:'left',CENTER:'center',RIGHT:'right'},TABLE_TOP_PADDING:8,COLUMNS:i,FORM_DISPLAY_TYPE:{IN_LINE:'in_line',DIALOG:'dialog'},LAL_ORIGIN_CUSTOM_AUDIENCE:'custom_audience',AUDIENCE_TYPE:{CUSTOM_AUDIENCE:'custom_audience',SAVED_TARGET_SPEC:'saved_target_spec'},SAVED_AUDIENCE_DISPLAY_NAME:h._("Saved Audience"),STS_FORM_INSTRUCTION:k,STS_DISPLAY_NAME:h._("Saved Target Group"),CA_DISPLAY_NAME:h._("Custom Audience"),PRODUCT_AUDIENCE_DISPLAY_NAME:h._("Product Audience"),LAL_DISPLAY_NAME:h._("Lookalike"),SAVED_AUDIENCE_API_FIELDS:l,SAVED_AUDIENCE_API_SORT_ORDER:c('AdsAPISavedAudienceFields').TIME_CREATED+c('GraphSort').DESC,WCA_ADVANCED_DISPLAY_NAME:h._("Website (advanced)"),SIZE_PLACEHOLDER:m};}),null);
__d('AudiencePropertyConstants',['AdsAPISpec','AdsUtils','AssetLibraryAPIUtils.brands','WeightedLookalikeConfig'],(function a(b,c,d,e,f,g){var h=c('AdsAPISpec').CUSTOM_AUDIENCE_FIELDS_WITH_EXPANSION.map(c('AdsUtils').underscoreKey),i=function j(){var k=['capabilities','shared_account_info','owner_account_info','rule_aggregation','rule_v2'];if(c('WeightedLookalikeConfig').can_account_use_weighted_datafile)k.push('is_value_based');var l=h;k.forEach(function(m){if(l.indexOf(m)===-1)l.push(m);});l=l.concat(c('AssetLibraryAPIUtils.brands').getTagFieldsForAudiences());return l;};f.exports={ACCOUNT_ID:'account_id',APPROXIMATE_COUNT:'approximate_count',DATA_SOURCE:'data_source',DESCRIPTION:'description',ID:'id',NAME:'name',PARENT_AUDIENCE_ID:'parent_audience_id',PARENT_CATEGORY:'parent_category',RETENTION_DAYS:'retention_days',RULE:'rule',STATUS:'status',DELIVERY_STATUS:'delivery_status',OPERATION_STATUS:'operation_status',PERMISSION_FOR_ACTIONS:'permission_for_actions',SUBTYPE:'subtype',SUBTYPE_NAME:'subtype_name',TIME_CONTENT_UPDATED:'time_content_updated',TIME_CREATED:'time_created',TIME_UPDATED:'time_updated',TYPE:'type',TYPE_NAME:'type_name',INCLUDED_CUSTOM_AUDIENCES:'included_custom_audiences',EXCLUDED_CUSTOM_AUDIENCES:'excluded_custom_audiences',LOOKALIKE_SPEC:'lookalike_spec',LOOKALIKE_AUDIENCE_IDS:'lookalike_audience_ids',CAPABILITIES:'capabilities',AUDIENCE_MANAGER_FIELDS:i()};}),null);
__d('SavedTargetSpecAPIFields',[],(function a(b,c,d,e,f,g){var h={ID:'id',AUDIENCE_ID:'audience_id',ACCOUNT_ID:'account_id',AUDIENCE_NAME:'audience_name',TARGET_SPEC:'target_spec',TIME_UPDATED_TIMESTAMP:'time_updated_timestamp',APPROXIMATE_COUNT:'approximate_count',TARGETING_SENTENCE_LINES:'targeting_sentence_lines',IS_SAVED_TARGET_SPEC:'isSavedTargetSpec'};f.exports={FIELDS:h,DEFAULT_FIELDS_FOR_AUDIENCE_MANAGER:[h.ID,h.ACCOUNT_ID,h.AUDIENCE_NAME,h.APPROXIMATE_COUNT,h.TARGET_SPEC,h.TIME_UPDATED_TIMESTAMP,h.TARGETING_SENTENCE_LINES]};}),null);
__d('AdsAudienceDataLoader',['AdsGraphAPI','AudiencePropertyConstants','AudienceManagerUIConstants','GraphEdgeName','SavedTargetSpecAPIFields'],(function a(b,c,d,e,f,g){'use strict';var h=c('AudiencePropertyConstants').AUDIENCE_MANAGER_FIELDS,i=c('SavedTargetSpecAPIFields').DEFAULT_FIELDS_FOR_AUDIENCE_MANAGER,j=c('AudienceManagerUIConstants').SAVED_AUDIENCE_API_FIELDS,k={getPromiseForAudienceUpdate:function l(m,n){for(var o in n)if(n[o]===null||n[o]===undefined)delete n[o];return c('AdsGraphAPI').get(f.id).object('audience',m).post(n);},getPromiseToDeleteAudience:function l(m){return c('AdsGraphAPI').get(f.id).object('audience',m).remove();},fetchAudience:function l(m){return c('AdsGraphAPI').get(f.id).object('audience',m).get({fields:h});},fetchAudiencMetadata:function l(m){return c('AdsGraphAPI').get(f.id).object('audience',m).get({metadata:true});},getPromiseForSavedTargetSpecUpdate:function l(m,n){return c('AdsGraphAPI').get(f.id).object('saved_target_group',m).post({name:n.name,targeting_spec:n.targetSpec});},getPromiseToRemoveCapabilities:function l(m,n){return c('AdsGraphAPI').get(f.id).object('audience',m).edge('capabilities').batched().remove({adaccounts:n});},getPromiseToUpdateCapabilities:function l(m,n){return c('AdsGraphAPI').get(f.id).object('audience',m).edge('capabilities').batched().post({accounts_capabilities:n});},fetchSavedTargetSpec:function l(m){return c('AdsGraphAPI').get(f.id).object('saved_target_group',m).get({fields:i});},fetchSavedAudience:function l(m){return c('AdsGraphAPI').get(f.id).object('saved_audience',m).get({fields:j,date_format:'U'});},fetchLookalikeNames:function l(m){return c('AdsGraphAPI').get(f.id).objects('audience',m).get({fields:['name']});},fetchAppName:function l(m){return c('AdsGraphAPI').get(f.id).object('app_info',m).get({fields:['name']});},fetchAdAccountNames:function l(m){return c('AdsGraphAPI').get(f.id).adaccounts(m).get({fields:['name']});},fetchAdgroupsUsingAudience:function l(m){return c('AdsGraphAPI').get(f.id).object('audience',m).edge(c('GraphEdgeName').ADS).batched().get({adgroup_status:['ACTIVE'],fields:['name']});},fetchAudiencOverlap:function l(m,n,o){return c('AdsGraphAPI').get(f.id).adaccount(m).edge('audienceoverlap').get({pivot_id:n,comparison_ids:o});},fetchAdAccountBusiness:function l(m){return c('AdsGraphAPI').get(f.id).adaccount(m).get({fields:['business']});},fetchRecipientAdAccounts:function l(m){return c('AdsGraphAPI').get(f.id).object('business',m).edge('owned_ad_accounts').get({fields:['account_id','name']});}};f.exports=k;}),null);
__d('AdsAudienceDataSourceUtils',['fbt','CustomAudienceDataSourceType','CustomAudienceDataSourceSubType','CustomAudienceRuleSignalSource','Map','Set','getByPath','CustomAudienceRuleField','CustomAudienceRuleMode','CustomAudienceRuleSetField','CustomAudienceRuleEventSourceField'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('CustomAudienceRuleField').EVENT_SOURCES,j=c('CustomAudienceRuleMode').INCLUSIONS,k=c('CustomAudienceRuleMode').EXCLUSIONS,l=c('CustomAudienceRuleSetField').RULES,m=c('CustomAudienceRuleEventSourceField').TYPE,n=c('CustomAudienceDataSourceType'),o=c('CustomAudienceDataSourceSubType'),p=n.FILE_IMPORTED,q='video_',r='lead_generation_',s=new (c('Map'))([[n.UNKNOWN,h._("Unknown")],[n.FILE_IMPORTED,h._("Data File")],[n.EVENT_BASED,h._("Event")],[n.SEED_BASED,h._("Lookalike")],[n.THIRD_PARTY_IMPORTED,h._("Email Provider")],[n.COPY_PASTE,h._("Copy & Paste")],[n.CLAIM_BASED,h._("Claim")],[n.DATA_SET_IMPORTED,h._("Data set")]]),t=new (c('Map'))([[o.ANYTHING,h._("Anything")],[o.NOTHING,h._("Nothing")],[o.HASHES,h._("Hashes")],[o.USER_IDS,h._("UIDs")],[o.HASHES_OR_USER_IDS,h._("Hashes & UIDs")],[o.MOBILE_ADVERTISER_IDS,h._("Mobile Advertiser IDs")],[o.EXTERNAL_IDS,h._("External IDs")],[o.MULTI_HASHES,h._("Multi Hashes")],[o.TOKENS,h._("Tokens")],[o.WEB_PIXEL_HITS,h._("Website")],[o.WEB_PIXEL_COMBINATION_EVENTS,h._("Website")],[o.MOBILE_APP_EVENTS,h._("App")],[o.MOBILE_APP_COMBINATION_EVENTS,h._("App")],[o.ENGAGEMENT_EVENTS,h._("Engagement")],[o.VIDEO_EVENTS,h._("Video")],[o.OFFLINE_EVENTS,h._("Offline conversion")],[o.PLATFORM,h._("Platform")],[o.CUSTOM_AUDIENCE_USERS,h._("Custom Audience")],[o.PAGE_FANS,h._("Page Fans")],[o.CONVERSION_PIXEL_HITS,h._("Conversion Pixel Hits")],[o.APP_USERS,h._("App Users")],[o.S_EXPR,h._("Saved Target Group")],[o.MAIL_CHIMP_EMAIL_HASHES,h._("MailChimp")],[o.CONSTANT_CONTACTS_EMAIL_HASHES,h._("ConstantContacts")],[o.COPY_PASTE_EMAIL_HASHES,h._("Emails")],[o.USER_PROPERTIES,h._("User Properties")]]),u=h._("Customer list: Value-based"),v=h._("Customer List"),w=new (c('Set'))([n.CLAIM_BASED]),x=new (c('Set'))([o.USER_PROPERTIES]),y=new (c('Set'))([o.WEB_PIXEL_COMBINATION_EVENTS,o.MOBILE_APP_COMBINATION_EVENTS,o.WEB_PIXEL_HITS,o.MOBILE_APP_EVENTS]),z=new (c('Set'))([o.VIDEO_EVENTS,o.ENGAGEMENT_EVENTS]),aa={TYPES:n,SUBTYPES:o,isDisallowedByDataSource:function ba(ca){return w.has(ca.type)||x.has(ca.sub_type);},isDisallowedDynamicCA:function ba(ca){return y.has(ca.sub_type);},isNotExcludableDynamicCA:function ba(ca){return z.has(ca.sub_type);},textByType:function ba(ca){return s.get(ca)||s.get(p);},textBySubType:function ba(ca){return t.get(ca)||'';},textByEngagementType:function ba(ca){if(ca.indexOf(q)!==-1){return h._("Engagement \u2013 Video");}else if(ca.indexOf(r)!==-1)return h._("Engagement \u2013 Lead advert");return h._("Engagement");},getPlatformAudienceSubType:function ba(ca){var da;if(!ca)return null;if(ca.inclusions){var da=function(){var fa=c('getByPath')(ca,[j,l]),ga=c('getByPath')(ca,[k,l]),ha=ga?fa.concat(ga):fa,ia=ha.map(function(ja){var ka=c('getByPath')(ja,[i]);if(Array.isArray(ka)&&ka.length===1)return c('getByPath')(ka[0],[m]);return null;});if(ia.length>0&&ia.every(function(ja){return ja===ia[0];}))return {v:ia[0]};return {v:null};}();if(typeof da==="object")return da.v;}if(ca.event_sources){var ea=c('getByPath')(ca,[i]);if(Array.isArray(ea)&&ea.length===1)return c('getByPath')(ea[0],[m]);}return null;},textByPlatformType:function ba(ca){if(ca==='')return h._("Platform");var da=JSON.parse(ca);switch(this.getPlatformAudienceSubType(da)){case c('CustomAudienceRuleSignalSource').STORE_VISITS:return h._("Store visits");case c('CustomAudienceRuleSignalSource').APP:return h._("App");default:return h._("Platform");}},detailOfAudience:function ba(ca){var da=ca.data_source.type;if(!da)return '';var ea=void 0;switch(da){case n.FILE_IMPORTED:ea=JSON.parse(ca.data_source.creation_params);return ea&&ea.file_name||'';case n.SEED_BASED:var fa=ca.data_source.sub_type,ga='';if(fa)switch(fa){case o.PAGE_FANS:ga='Page: ';break;case o.CUSTOM_AUDIENCE_USERS:case o.WEB_PIXEL_HITS_CUSTOM_AUDIENCE_USERS:case o.MOBILE_APP_CUSTOM_AUDIENCE_USERS:case o.REV_SHARE_CUSTOM_AUDIENCE_USERS:case o.COMBINATION_CUSTOM_AUDIENCE_USERS:case o.DYNAMIC_RULE:case o.VIDEO_EVENT_USERS:case o.ENGAGEMENT_EVENT_USERS:case o.OFFLINE_EVENT_USERS:case o.PARTNER_CATEGORY_USERS:ga='Custom Audience: ';break;case o.CONVERSION_PIXEL_HITS:ga='Pixel: ';break;default:ga='';break;}var ha=ca.lookalike_spec&&ca.lookalike_spec.origin;if(ha&&ha.length){if(ca.is_value_based)ga='Value-based Custom Audience: ';var ia=ga+ha.map(function(ja){return ja.name;}).join(', ');return h._("{name}",[h.param('name',ia)]);}return '';case n.THIRD_PARTY_IMPORTED:ea=JSON.parse(ca.data_source.creation_params);return ea&&ea.list_name||'';default:return '';}},textByDataSource:function ba(ca){var da=aa.textBySubType(ca.sub_type);if(!da)da=aa.textByType(ca.type);return da;},textForTypeInUI:function ba(ca){var da=ca.data_source,ea=ca.rule,fa=ca.rule_v2;if(da.type===n.FILE_IMPORTED){return ca.is_value_based?u:v;}else if(da.sub_type===o.ENGAGEMENT_EVENTS){return aa.textByEngagementType(ea||'');}else if(da.sub_type===o.PLATFORM){return aa.textByPlatformType(fa||'');}else if(da===n.UNKNOWN||da.type===n.EVENT_BASED||da.type===n.THIRD_PARTY_IMPORTED){return aa.textBySubType(da.sub_type);}else return aa.textByType(da.type);}};f.exports=aa;}),null);
__d('AdvertiserActivityLogStore',['Arbiter','adsDaoGraphFetch','CurrentLocale','ImmutableObject'],(function a(b,c,d,e,f,g){var h=c('adsDaoGraphFetch').fetch,i=Object.assign(new (c('Arbiter'))(),{getLogs:function j(k,l,m,n,o,p){m=m||{};m.accountId=k;m.locale=c('CurrentLocale').get();m.since=Math.floor(l.start/1000);m.until=Math.floor(l.end/1000);m.limit=1000;for(var q in m)if(m[q]===null)delete m[q];if(p)m.errorHandler=p;h.logsForAccount.one(this._processLogFromAPI.bind(null,o,n),m);},_processLogFromAPI:function j(k,l,m){var n=m.after,o=m.data,p=o.map(function(r){return new (c('ImmutableObject'))({actorID:r.actor_id,actorName:r.actor_name?r.actor_name:r.actor_id,appID:r.application_id,appName:r.application_name?r.application_name:r.application_id,actionType:r.action_type,objectID:r.object_id,objectName:r.object_name?r.object_name:r.object_id,objectType:r.object_type,eventTime:new Date(r.event_time*1000),eventType:r.event_type,translatedEventType:r.translated_event_type,extraData:JSON.parse(r.extra_data),dateTimeInTimezone:r.date_time_in_timezone});}),q=l?l.concat(p):p;k(q,n);}});f.exports=i;}),null);
__d('AdsAudienceDetailActions',['AdsAMActionTypes','AdsAudienceDataLoader','AdsAudienceDataSourceUtils','AdvertiserActivityLogStore','AdsDispatcher','BUIDetailPaneActions.brands','BusinessURI.brands','d3/time/day','XAdsCreatorController','getByPath','isEmpty'],(function a(b,c,d,e,f,g){'use strict';var h="adaudience",i="savedaudience",j={initializeAudienceDetails:function k(l,m){c('AdsAudienceDataLoader').fetchAudiencMetadata(m).then(function(n){if(n.metadata.type===h){this._initializeAudienceDetailsSavedTargetSpec(m);}else if(n.metadata.type===i){this._initializeAudienceDetailsSavedAudience(m);}else this._initializeAudienceDetailsCustomAudience(l,m);}.bind(this));this.getLogs(l,m);},getLogs:function k(l,m){var n=Date.now(),o=c('d3/time/day').offset(n,-30).getTime();this._loadingAudienceActivities();c('AdvertiserActivityLogStore').getLogs(l,{start:o,end:n},{oid:m,accountId:l},null,this._initializeAudienceActivities,this._initializeAudienceActivitiesError);},_initializeAudienceDetailsCustomAudience:function k(l,m){c('AdsAudienceDataLoader').fetchAudience(m).then(function(n){c('AdsDispatcher').handleUpdateFromInitialServer({audience:n,type:c('AdsAMActionTypes').AUDIENCE_DETAILS_INIT_AUDIENCE});if(n.lookalike_audience_ids){this._loadAudienceLookalikeNames();this._fetchLookalikeNames(n.lookalike_audience_ids);}var o=c('getByPath')(n,['data_source','sub_type']);if(o===c('AdsAudienceDataSourceUtils').SUBTYPES.MOBILE_APP_EVENTS||o===c('AdsAudienceDataSourceUtils').SUBTYPES.MOBILE_APP_COMBINATION_EVENTS){this._loadAudienceApp();var p=this._getAppIDFromAudience(n);this._fetchAppInformation(p);}}.bind(this))['catch'](function(n){return this._errorGettingAudience(n);}.bind(this));},_fetchLookalikeNames:function k(l){c('AdsAudienceDataLoader').fetchLookalikeNames(l).then(function(m){c('AdsDispatcher').handleUpdateFromServerResponse({lookalikeNames:m,type:c('AdsAMActionTypes').AUDIENCE_DETAILS_GET_AUDIENCE_LOOKALIKE_NAMES});})['catch'](function(m){this._errorGettingAudience(m);c('AdsDispatcher').handleUpdateFromServerResponse({lookalikeAudienceIDs:l,type:c('AdsAMActionTypes').AUDIENCE_DETAILS_GET_AUDIENCE_LOOKALIKE_IDS});}.bind(this));},_fetchAppInformation:function k(l){c('AdsAudienceDataLoader').fetchAppName(l).then(function(m){c('AdsDispatcher').handleUpdateFromServerResponse({appName:m.name,type:c('AdsAMActionTypes').AUDIENCE_DETAILS_GET_AUDIENCE_APP});})['catch'](function(m){return this._errorGettingAudience(m);}.bind(this));},_getAppIDFromAudience:function k(l){var m='';if(l.included_custom_audiences){m=c('getByPath')(l,['included_custom_audiences','0','rule']);}else m=l.rule;var n=void 0;try{n=JSON.parse(m);}catch(o){n={};}return n._application;},fetchNewlyCreatedLookalikeName:function k(l){this._loadAudienceLookalikeNames();c('AdsAudienceDataLoader').fetchLookalikeNames([l]).then(function(m){c('AdsDispatcher').handleUpdateFromServerResponse({lookalikeName:m[l],type:c('AdsAMActionTypes').AUDIENCE_DETAILS_APPEND_LOOKALIKE_NAME});})['catch'](function(m){return this._errorGettingAudience(m);}.bind(this));},_initializeAudienceDetailsSavedTargetSpec:function k(l){c('AdsAudienceDataLoader').fetchSavedTargetSpec(l).then(function(m){m.isSavedTargetSpec=true;c('AdsDispatcher').handleUpdateFromInitialServer({audience:m,type:c('AdsAMActionTypes').AUDIENCE_DETAILS_INIT_AUDIENCE});})['catch'](function(m){return this._errorGettingAudience(m);}.bind(this));},_initializeAudienceDetailsSavedAudience:function k(l){c('AdsAudienceDataLoader').fetchSavedAudience(l).then(function(m){m.isSavedAudience=true;m.isSavedTargetSpec=true;c('AdsDispatcher').handleUpdateFromInitialServer({audience:m,type:c('AdsAMActionTypes').AUDIENCE_DETAILS_INIT_AUDIENCE});})['catch'](function(m){return this._errorGettingAudience(m);}.bind(this));},_loadAudienceLookalikeNames:function k(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').AUDIENCE_DETAILS_LOAD_AUDIENCE_LOOKALIKE_NAMES});},_loadAudienceApp:function k(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').AUDIENCE_DETAILS_LOAD_AUDIENCE_APP});},_initializeAudienceActivities:function k(l,m){c('AdsDispatcher').handleUpdateFromServerResponse({activities:l,type:c('AdsAMActionTypes').AUDIENCE_DETAILS_GET_AUDIENCE_ACTIVITIES});},_loadingAudienceActivities:function k(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').AUDIENCE_DETAILS_LOAD_AUDIENCE_ACTIVITIES});},_initializeAudienceActivitiesError:function k(){c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsAMActionTypes').AUDIENCE_DETAILS_GET_AUDIENCE_ACTIVITIES_ERROR});},updateAudience:function k(l,m,n){c('AdsAudienceDataLoader').getPromiseForAudienceUpdate(l,m).then(function(o){c('AdsAudienceDataLoader').fetchAudience(l).then(function(p){c('AdsDispatcher').handleUpdateFromServerResponse({audience:p,type:c('AdsAMActionTypes').AUDIENCE_DETAILS_UPDATE_AUDIENCE,audienceID:l,changedProperties:m});setTimeout(function(){j.getLogs(n,l);},5000);})['catch'](function(p){return this._errorGettingAudience(p);}.bind(this));}.bind(this))['catch'](function(o){return this._errorUpdatingAudience(o);}.bind(this));},updateTargetSpec:function k(l,m){c('AdsAudienceDataLoader').getPromiseForSavedTargetSpecUpdate(l,m).then(function(n){c('AdsAudienceDataLoader').fetchSavedTargetSpec(l).then(function(o){o.isSavedTargetSpec=true;c('AdsDispatcher').handleUpdateFromServerResponse({audience:o,type:c('AdsAMActionTypes').AUDIENCE_DETAILS_UPDATE_AUDIENCE});})['catch'](function(o){return this._errorGettingAudience(o);}.bind(this));}.bind(this))['catch'](function(n){return this._errorUpdatingAudience(n);}.bind(this));},deleteAudience:function k(l){this._deletingAudience();c('AdsAudienceDataLoader').getPromiseToDeleteAudience(l.id).done(function(m){c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsAMActionTypes').AUDIENCE_DETAILS_DELETE_AUDIENCE_DONE});c('AdsDispatcher').handleUpdateFromServerResponse({audience:l,type:c('AdsAMActionTypes').AUDIENCE_DELETE});},function(m){c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsAMActionTypes').AUDIENCE_DETAILS_DELETE_AUDIENCE_ERROR});});},unshareAudience:function k(l,m){c('AdsAudienceDataLoader').getPromiseToRemoveCapabilities(m,[l]).done(function(n){c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsAMActionTypes').AUDIENCE_DETAILS_DELETE_AUDIENCE_DONE});},function(n){this._errorUpdatingAudience(n);}.bind(this));},_deletingAudience:function k(){c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsAMActionTypes').AUDIENCE_DETAILS_DELETE_AUDIENCE});c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsAMActionTypes').AUDIENCE_DELETE_START});c('BUIDetailPaneActions.brands').close();},updateAudienceCapabilities:function k(l,m){if(c('isEmpty')(m))return;c('AdsAudienceDataLoader').getPromiseToUpdateCapabilities(l,m).then(function(n){c('AdsAudienceDataLoader').fetchAudience(l).then(function(o){c('AdsDispatcher').handleUpdateFromServerResponse({audience:o,type:c('AdsAMActionTypes').AUDIENCE_DETAILS_UPDATE_AUDIENCE});})['catch'](function(o){return this._errorGettingAudience(o);}.bind(this));}.bind(this))['catch'](function(n){return this._errorUpdatingAudience(n);}.bind(this));},removeAudienceCapabilities:function k(l,m){if(c('isEmpty')(m))return;c('AdsAudienceDataLoader').getPromiseToRemoveCapabilities(l,m).then(function(n){c('AdsAudienceDataLoader').fetchAudience(l).then(function(o){c('AdsDispatcher').handleUpdateFromServerResponse({audience:o,type:c('AdsAMActionTypes').AUDIENCE_DETAILS_UPDATE_AUDIENCE});})['catch'](function(o){return this._errorGettingAudience(o);}.bind(this));}.bind(this))['catch'](function(n){return this._errorUpdatingAudience(n);}.bind(this));},changeCapabilities:function k(l,m,n){if(c('isEmpty')(m))return this.removeAudienceCapabilities(l,n);if(c('isEmpty')(n.length))return this.updateAudienceCapabilities(l,m);c('AdsAudienceDataLoader').getPromiseToRemoveCapabilities(l,n).then(function(o){this.updateAudienceCapabilities(l,m);}.bind(this))['catch'](function(o){return this._errorUpdatingAudience(o);}.bind(this));},_errorGettingAudience:function k(l){c('AdsDispatcher').handleUpdateFromServerResponse({error:l,type:c('AdsAMActionTypes').AUDIENCE_DETAILS_GET_AUDIENCE_ERROR});},_errorUpdatingAudience:function k(l){c('AdsDispatcher').handleUpdateFromServerResponse({error:l,type:c('AdsAMActionTypes').AUDIENCE_DETAILS_UPDATE_AUDIENCE_ERROR});},createAdFromCustomAudience:function k(l,m,n){var o={custom_audiences:[{id:l,name:m}]},p=c('BusinessURI.brands')(c('XAdsCreatorController').getURIBuilder().setInt('act',n).setString('targeting_spec',JSON.stringify(o)).getURI().toString());window.open(p,'_blank');},createAdFromSavedAudience:function k(l,m){var n=c('BusinessURI.brands')(c('XAdsCreatorController').getURIBuilder().setInt('act',m).setInt('saved_audience',l).getURI().toString());window.open(n,'_blank');}};f.exports=j;}),null);
__d('AdsAudienceOverlapActions',['AdsAMActionTypes','AdsAudienceDataLoader','AdsDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h={getAudienceOverlap:function i(j,k,l){c('AdsAudienceDataLoader').fetchAudiencOverlap(j,k,l).then(function(m){c('AdsDispatcher').handleUpdateFromServerResponse({audienceOverlap:m.data,type:c('AdsAMActionTypes').AUDIENCE_GET_OVERLAP});});},loadAudienceOverlap:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAMActionTypes').AUDIENCE_LOAD_OVERLAP});}};f.exports=h;}),null);
__d('AdsAudienceRuleBuilderActionTypes',['ImmutableObject','keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';f.exports=new (c('ImmutableObject'))(c('keyMirrorRecursive')({createOrUpdateWCA:null,createOrUpdateWCAAbandon:null,openWCACreationDialog:null,openWCAEditDialog:null,createOrUpdateOldWCA:null,createOrUpdateOldWCAAbandon:null,openOldWCACreationDialog:null,openOldWCAEditDialog:null,componentWillMount:null,componentDidMount:null}));}),null);
__d('AdsAudienceRuleBuilderActions',['AdsAudienceRuleBuilderActionTypes','AdsDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h={openWCACreationDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({methodName:c('AdsAudienceRuleBuilderActionTypes').openWCACreationDialog,type:c('AdsAudienceRuleBuilderActionTypes').openWCACreationDialog});},openWCAEditDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({methodName:c('AdsAudienceRuleBuilderActionTypes').openWCAEditDialog,type:c('AdsAudienceRuleBuilderActionTypes').openWCAEditDialog});},createOrUpdateWCAAbandon:function i(){c('AdsDispatcher').handleUpdateFromViewAction({methodName:c('AdsAudienceRuleBuilderActionTypes').createOrUpdateWCAAbandon,type:c('AdsAudienceRuleBuilderActionTypes').createOrUpdateWCAAbandon});},createOrUpdateWCA:function i(){c('AdsDispatcher').handleUpdateFromViewAction({methodName:c('AdsAudienceRuleBuilderActionTypes').createOrUpdateWCA,type:c('AdsAudienceRuleBuilderActionTypes').createOrUpdateWCA});},openOldWCACreationDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({methodName:c('AdsAudienceRuleBuilderActionTypes').openOldWCACreationDialog,type:c('AdsAudienceRuleBuilderActionTypes').openOldWCACreationDialog});},openOldWCAEditDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({methodName:c('AdsAudienceRuleBuilderActionTypes').openOldWCAEditDialog,type:c('AdsAudienceRuleBuilderActionTypes').openOldWCAEditDialog});},createOrUpdateOldWCAAbandon:function i(){c('AdsDispatcher').handleUpdateFromViewAction({methodName:c('AdsAudienceRuleBuilderActionTypes').createOrUpdateOldWCAAbandon,type:c('AdsAudienceRuleBuilderActionTypes').createOrUpdateOldWCAAbandon});},createOrUpdateOldWCA:function i(){c('AdsDispatcher').handleUpdateFromViewAction({methodName:c('AdsAudienceRuleBuilderActionTypes').createOrUpdateOldWCA,type:c('AdsAudienceRuleBuilderActionTypes').createOrUpdateOldWCA});},componentWillMount:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAudienceRuleBuilderActionTypes').componentWillMount,methodName:c('AdsAudienceRuleBuilderActionTypes').componentWillMount,componentName:j});},componentDidMount:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsAudienceRuleBuilderActionTypes').componentDidMount,methodName:c('AdsAudienceRuleBuilderActionTypes').componentDidMount,componentName:j});}};f.exports=h;}),null);
__d('AdsAMFilterAPIParamConsts',[],(function a(b,c,d,e,f,g){var h={TYPE:'type',SOURCE:'source',AVAILABILITY:'availability',QUICK_LOOK:'quicklook',BUSINESS_TAG:'business_tag_id',RULE:'rule',ADVANCED:'advanced',BUSINESS_SMART_FOLDER:'business_smart_folder'},i={TYPE_CUSTOM_AUDIENCE:'CUSTOM_AUDIENCE',TYPE_LOOKALIKE:'LOOKALIKE',TYPE_SAVED_AUDIENCE:'SAVED_AUDIENCE',QUICKLOOK_RECENTLY_USED:'recently_used',QUICKLOOK_IN_ACTIVE_ADS:'in_active_ads',QUICKLOOK_ACTION_NEEDED:'action_needed',QUICKLOOK_SHARED:'shared',RULE_VIDEO_EVENT_PREFIX:'video_',RULE_LEAD_ADS_EVENT_PREFIX:'lead_generation_'},j={VALUES:i,UI_FIELD_NAME:h};f.exports=j;}),null);
__d('AdsAMFilterValueConfig',['fbt','AdsAMFilterAPIParamConsts','AudienceManagerUIConstants','CustomAudienceDataSourceSubTypeInt','CustomAudienceDeliveryStatus'],(function a(b,c,d,e,f,g,h){'use strict';var i=function k(l,m,n){return {value:l,text:m,filteringParamValues:n};},j={TYPE_CUSTOM_AUDIENCE:i('TYPE_CUSTOM_AUDIENCE',c('AudienceManagerUIConstants').CA_DISPLAY_NAME,[c('AdsAMFilterAPIParamConsts').VALUES.TYPE_CUSTOM_AUDIENCE]),TYPE_LOOKALIKE:i('TYPE_LOOKALIKE',c('AudienceManagerUIConstants').LAL_DISPLAY_NAME,[c('AdsAMFilterAPIParamConsts').VALUES.TYPE_LOOKALIKE]),TYPE_SAVED_AUDIENCE:i('TYPE_SAVED_AUDIENCE',c('AudienceManagerUIConstants').SAVED_AUDIENCE_DISPLAY_NAME,[c('AdsAMFilterAPIParamConsts').VALUES.TYPE_SAVED_AUDIENCE]),AVAILABILITY_READY:i('AVAILABILITY_READY',h._("Ready"),[c('CustomAudienceDeliveryStatus').ACTIVE]),AVAILABILITY_NOT_READY:i('AVAILABILITY_NOT_READY',h._("Not Ready"),[c('CustomAudienceDeliveryStatus').INACTIVE]),AVAILABILITY_ERROR:i('AVAILABILITY_ERROR',h._("Error"),[c('CustomAudienceDeliveryStatus').INVALID,c('CustomAudienceDeliveryStatus').INVALID_FOR_SAME_FIRST_OR_LAST_NAME]),SOURCE_DATA_FILE:i('SOURCE_DATA_FILE',h._("Data File"),[c('CustomAudienceDataSourceSubTypeInt').HASHES,c('CustomAudienceDataSourceSubTypeInt').USER_IDS,c('CustomAudienceDataSourceSubTypeInt').HASHES_OR_USER_IDS,c('CustomAudienceDataSourceSubTypeInt').MOBILE_ADVERTISER_IDS,c('CustomAudienceDataSourceSubTypeInt').EXTERNAL_IDS,c('CustomAudienceDataSourceSubTypeInt').MULTI_HASHES]),SOURCE_WEBSITE:i('SOURCE_WEBSITE',h._("Website"),[c('CustomAudienceDataSourceSubTypeInt').WEB_PIXEL_HITS,c('CustomAudienceDataSourceSubTypeInt').WEB_PIXEL_COMBINATION_EVENTS]),SOURCE_WEBSITE_ADVANCED:i('SOURCE_WEBSITE_ADVANCED',h._("Website (advanced)"),'true'),SOURCE_MOBILE_APP:i('SOURCE_MOBILE_APP',h._("Mobile App"),[c('CustomAudienceDataSourceSubTypeInt').MOBILE_APP_EVENTS,c('CustomAudienceDataSourceSubTypeInt').MOBILE_APP_COMBINATION_EVENTS]),SOURCE_SAVED_AUDIENCE:i('SOURCE_SAVED_AUDIENCE',c('AudienceManagerUIConstants').SAVED_AUDIENCE_DISPLAY_NAME,[c('CustomAudienceDataSourceSubTypeInt').S_EXPR]),SOURCE_PAGE_AUDIENCE:i('SOURCE_PAGE_AUDIENCE',h._("Page Fan"),[c('CustomAudienceDataSourceSubTypeInt').PAGE_FANS]),SOURCE_EVENT_AUDIENCE:i('SOURCE_EVENT_AUDIENCE',h._("Event Audience"),[c('CustomAudienceDataSourceSubTypeInt').WEB_PIXEL_HITS,c('CustomAudienceDataSourceSubTypeInt').WEB_PIXEL_COMBINATION_EVENTS,c('CustomAudienceDataSourceSubTypeInt').MOBILE_APP_EVENTS,c('CustomAudienceDataSourceSubTypeInt').MOBILE_APP_COMBINATION_EVENTS]),SOURCE_CUSTOM_AUDIENCE:i('SOURCE_CUSTOM_AUDIENCE',h._("Custom Audience User"),[c('CustomAudienceDataSourceSubTypeInt').CUSTOM_AUDIENCE_USERS]),SOURCE_CONVERSION_PIXEL:i('SOURCE_CONVERSION_PIXEL',h._("Conversion Pixel"),[c('CustomAudienceDataSourceSubTypeInt').CONVERSION_PIXEL_HITS]),SOURCE_VIDEOS:i('SOURCE_VIDEOS',h._("Video"),c('AdsAMFilterAPIParamConsts').VALUES.RULE_VIDEO_EVENT_PREFIX),SOURCE_LEAD_ADS:i('SOURCE_LEAD_ADS',h._("Lead Advert"),c('AdsAMFilterAPIParamConsts').VALUES.RULE_LEAD_ADS_EVENT_PREFIX),QUICKLOOK_RECENTLY_USED:i('QUICKLOOK_RECENTLY_USED',h._("Recently Used"),[c('AdsAMFilterAPIParamConsts').VALUES.QUICKLOOK_RECENTLY_USED]),QUICKLOOK_IN_ACTIVE_ADS:i('QUICKLOOK_IN_ACTIVE_ADS',h._("In Active Adverts"),[c('AdsAMFilterAPIParamConsts').VALUES.QUICKLOOK_IN_ACTIVE_ADS]),QUICKLOOK_ACTION_NEEDED:i('QUICKLOOK_ACTION_NEEDED',h._("Action Needed"),[c('AdsAMFilterAPIParamConsts').VALUES.QUICKLOOK_ACTION_NEEDED]),QUICKLOOK_SHARED:i('QUICKLOOK_SHARED',h._("Shared"),[c('AdsAMFilterAPIParamConsts').VALUES.QUICKLOOK_SHARED])};f.exports=j;}),null);
__d('AdsAMFilterFieldConfig',['fbt','ix','AdsAMFilterAPIParamConsts','AdsAMFilterValueConfig','AdsGenericFilterFieldType','AdsGenericFilterField','AdsGenericFilterOperatorConfig'],(function a(b,c,d,e,f,g,h,i){var j=function l(m){if(!c('AdsAMFilterValueConfig')[m])return m;return c('AdsAMFilterValueConfig')[m].text;},k={AUDIENCE_TYPE:{text:h._("Type"),field:new (c('AdsGenericFilterField'))(c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.TYPE,c('AdsGenericFilterFieldType').STRING_SET),operators:[c('AdsGenericFilterOperatorConfig').IN],values:[c('AdsAMFilterValueConfig').TYPE_CUSTOM_AUDIENCE,c('AdsAMFilterValueConfig').TYPE_LOOKALIKE,c('AdsAMFilterValueConfig').TYPE_SAVED_AUDIENCE],iconURI:i("29145"),valueRenderer:j},AVAILABILITY:{text:h._("Availability"),field:new (c('AdsGenericFilterField'))(c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.AVAILABILITY,c('AdsGenericFilterFieldType').STRING_SET),operators:[c('AdsGenericFilterOperatorConfig').IN],values:[c('AdsAMFilterValueConfig').AVAILABILITY_READY,c('AdsAMFilterValueConfig').AVAILABILITY_ERROR,c('AdsAMFilterValueConfig').AVAILABILITY_NOT_READY],iconURI:i("29144"),valueRenderer:j},SOURCE:{text:h._("Source"),field:new (c('AdsGenericFilterField'))(c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.SOURCE,c('AdsGenericFilterFieldType').STRING_SET),operators:[c('AdsGenericFilterOperatorConfig').IN],values:[c('AdsAMFilterValueConfig').SOURCE_DATA_FILE,c('AdsAMFilterValueConfig').SOURCE_WEBSITE,c('AdsAMFilterValueConfig').SOURCE_MOBILE_APP,c('AdsAMFilterValueConfig').SOURCE_SAVED_AUDIENCE,c('AdsAMFilterValueConfig').SOURCE_PAGE_AUDIENCE,c('AdsAMFilterValueConfig').SOURCE_EVENT_AUDIENCE,c('AdsAMFilterValueConfig').SOURCE_CUSTOM_AUDIENCE,c('AdsAMFilterValueConfig').SOURCE_CONVERSION_PIXEL],iconURI:i("29145"),valueRenderer:j},ADVANCED:{text:h._("Source"),field:new (c('AdsGenericFilterField'))(c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.ADVANCED,c('AdsGenericFilterFieldType').STRING),operators:[c('AdsGenericFilterOperatorConfig').EQUAL],values:[true,false],iconURI:i("29145"),valueRenderer:j},RULE:{text:h._("SOURCE"),field:new (c('AdsGenericFilterField'))(c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.RULE,c('AdsGenericFilterFieldType').STRING_SET),operators:[c('AdsGenericFilterOperatorConfig').IN],values:[c('AdsAMFilterValueConfig').SOURCE_VIDEOS,c('AdsAMFilterValueConfig').SOURCE_LEAD_ADS],iconURI:i("29145"),valueRenderer:j},QUICK_LOOK:{text:h._("Quick Look"),field:new (c('AdsGenericFilterField'))(c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.QUICK_LOOK,c('AdsGenericFilterFieldType').STRING_SET),operators:[c('AdsGenericFilterOperatorConfig').IN],values:[c('AdsAMFilterValueConfig').QUICKLOOK_RECENTLY_USED,c('AdsAMFilterValueConfig').QUICKLOOK_IN_ACTIVE_ADS,c('AdsAMFilterValueConfig').QUICKLOOK_ACTION_NEEDED,c('AdsAMFilterValueConfig').QUICKLOOK_SHARED],iconURI:i("29178"),valueRenderer:j}};f.exports=k;}),null);
__d('AdsAMPresetFilterConfig',['AdsAMFilterFieldConfig','AdsAMFilterValueConfig','AdsGenericFilter','AdsGenericFilterOperator','AdsGenericFilterSet','AdsGenericFilterSetUtil'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsGenericFilter'),i=c('AdsGenericFilterSet'),j=c('AdsAMFilterFieldConfig'),k=c('AdsGenericFilterOperator').IN,l=c('AdsGenericFilterOperator').CONTAIN,m={TYPE_CUSTOM_AUDIENCE:{text:c('AdsAMFilterValueConfig').TYPE_CUSTOM_AUDIENCE.text,shouldCheck:c('AdsGenericFilterSetUtil').contains,filterSet:new i([new h(j.AUDIENCE_TYPE.field,k,[c('AdsAMFilterValueConfig').TYPE_CUSTOM_AUDIENCE.value])])},TYPE_LOOKALIKE:{text:c('AdsAMFilterValueConfig').TYPE_LOOKALIKE.text,shouldCheck:c('AdsGenericFilterSetUtil').contains,filterSet:new i([new h(j.AUDIENCE_TYPE.field,k,[c('AdsAMFilterValueConfig').TYPE_LOOKALIKE.value])])},TYPE_SAVED_AUDIENCE:{text:c('AdsAMFilterValueConfig').TYPE_SAVED_AUDIENCE.text,shouldCheck:c('AdsGenericFilterSetUtil').contains,filterSet:new i([new h(j.AUDIENCE_TYPE.field,k,[c('AdsAMFilterValueConfig').TYPE_SAVED_AUDIENCE.value])])},AVAILABILITY_READY:{text:c('AdsAMFilterValueConfig').AVAILABILITY_READY.text,shouldCheck:c('AdsGenericFilterSetUtil').contains,filterSet:new i([new h(j.AVAILABILITY.field,k,[c('AdsAMFilterValueConfig').AVAILABILITY_READY.value])])},AVAILABILITY_NOT_READY:{text:c('AdsAMFilterValueConfig').AVAILABILITY_NOT_READY.text,shouldCheck:c('AdsGenericFilterSetUtil').contains,filterSet:new i([new h(j.AVAILABILITY.field,k,[c('AdsAMFilterValueConfig').AVAILABILITY_NOT_READY.value])])},AVAILABILITY_ERROR:{text:c('AdsAMFilterValueConfig').AVAILABILITY_ERROR.text,shouldCheck:c('AdsGenericFilterSetUtil').contains,filterSet:new i([new h(j.AVAILABILITY.field,k,[c('AdsAMFilterValueConfig').AVAILABILITY_ERROR.value])])},SOURCE_DATA_FILE:{text:c('AdsAMFilterValueConfig').SOURCE_DATA_FILE.text,shouldCheck:c('AdsGenericFilterSetUtil').contains,filterSet:new i([new h(j.SOURCE.field,k,[c('AdsAMFilterValueConfig').SOURCE_DATA_FILE.value])])},SOURCE_WEBSITE:{text:c('AdsAMFilterValueConfig').SOURCE_WEBSITE.text,shouldCheck:c('AdsGenericFilterSetUtil').contains,filterSet:new i([new h(j.SOURCE.field,k,[c('AdsAMFilterValueConfig').SOURCE_WEBSITE.value])])},SOURCE_WEBSITE_ADVANCED:{text:c('AdsAMFilterValueConfig').SOURCE_WEBSITE_ADVANCED.text,shouldCheck:c('AdsGenericFilterSetUtil').contains,filterSet:new i([new h(j.ADVANCED.field,c('AdsGenericFilterOperator').EQUAL,c('AdsAMFilterValueConfig').SOURCE_WEBSITE_ADVANCED.value)])},SOURCE_MOBILE_APP:{text:c('AdsAMFilterValueConfig').SOURCE_MOBILE_APP.text,shouldCheck:c('AdsGenericFilterSetUtil').contains,filterSet:new i([new h(j.SOURCE.field,k,[c('AdsAMFilterValueConfig').SOURCE_MOBILE_APP.value])])},SOURCE_SAVED_AUDIENCE:{text:c('AdsAMFilterValueConfig').SOURCE_SAVED_AUDIENCE.text,shouldCheck:c('AdsGenericFilterSetUtil').contains,filterSet:new i([new h(j.SOURCE.field,k,[c('AdsAMFilterValueConfig').SOURCE_SAVED_AUDIENCE.value])])},SOURCE_PAGE_AUDIENCE:{text:c('AdsAMFilterValueConfig').SOURCE_PAGE_AUDIENCE.text,shouldCheck:c('AdsGenericFilterSetUtil').contains,filterSet:new i([new h(j.SOURCE.field,k,[c('AdsAMFilterValueConfig').SOURCE_PAGE_AUDIENCE.value])])},SOURCE_EVENT_AUDIENCE:{text:c('AdsAMFilterValueConfig').SOURCE_EVENT_AUDIENCE.text,shouldCheck:c('AdsGenericFilterSetUtil').contains,filterSet:new i([new h(j.SOURCE.field,k,[c('AdsAMFilterValueConfig').SOURCE_EVENT_AUDIENCE.value])])},SOURCE_CUSTOM_AUDIENCE:{text:c('AdsAMFilterValueConfig').SOURCE_CUSTOM_AUDIENCE.text,shouldCheck:c('AdsGenericFilterSetUtil').contains,filterSet:new i([new h(j.SOURCE.field,k,[c('AdsAMFilterValueConfig').SOURCE_CUSTOM_AUDIENCE.value])])},SOURCE_CONVERSION_PIXEL:{text:c('AdsAMFilterValueConfig').SOURCE_CONVERSION_PIXEL.text,shouldCheck:c('AdsGenericFilterSetUtil').contains,filterSet:new i([new h(j.SOURCE.field,k,[c('AdsAMFilterValueConfig').SOURCE_CONVERSION_PIXEL.value])])},SOURCE_VIDEOS:{text:c('AdsAMFilterValueConfig').SOURCE_VIDEOS.text,shouldCheck:c('AdsGenericFilterSetUtil').contains,filterSet:new i([new h(j.RULE.field,l,c('AdsAMFilterValueConfig').SOURCE_VIDEOS.value)])},SOURCE_LEAD_ADS:{text:c('AdsAMFilterValueConfig').SOURCE_LEAD_ADS.text,shouldCheck:c('AdsGenericFilterSetUtil').contains,filterSet:new i([new h(j.RULE.field,l,c('AdsAMFilterValueConfig').SOURCE_LEAD_ADS.value)])},QUICKLOOK_RECENTLY_USED:{text:c('AdsAMFilterValueConfig').QUICKLOOK_RECENTLY_USED.text,shouldCheck:c('AdsGenericFilterSetUtil').contains,filterSet:new i([new h(j.QUICK_LOOK.field,k,[c('AdsAMFilterValueConfig').QUICKLOOK_RECENTLY_USED.value])])},QUICKLOOK_IN_ACTIVE_ADS:{text:c('AdsAMFilterValueConfig').QUICKLOOK_IN_ACTIVE_ADS.text,shouldCheck:c('AdsGenericFilterSetUtil').contains,filterSet:new i([new h(j.QUICK_LOOK.field,k,[c('AdsAMFilterValueConfig').QUICKLOOK_IN_ACTIVE_ADS.value])])},QUICKLOOK_ACTION_NEEDED:{text:c('AdsAMFilterValueConfig').QUICKLOOK_ACTION_NEEDED.text,shouldCheck:c('AdsGenericFilterSetUtil').contains,filterSet:new i([new h(j.QUICK_LOOK.field,k,[c('AdsAMFilterValueConfig').QUICKLOOK_ACTION_NEEDED.value])])},QUICKLOOK_SHARED:{text:c('AdsAMFilterValueConfig').QUICKLOOK_SHARED.text,shouldCheck:c('AdsGenericFilterSetUtil').contains,filterSet:new i([new h(j.QUICK_LOOK.field,k,[c('AdsAMFilterValueConfig').QUICKLOOK_SHARED.value])])}};f.exports=m;}),null);
__d('AdsAMPresetFilters.react',['fbt','AdsAMPresetFilterConfig','AdsGenericFilterSet','AdsGenericFilterSetUtil','BUIPresetFilters.react','BUIPresetFiltersGroup','BUIPresetFiltersItem','React','ReactDOM','Style'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;function l(){return 0;}i=babelHelpers.inherits(m,c('React').PureComponent);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$AdsAMPresetFilters1=function(s){var t=[this.$AdsAMPresetFilters2(s),this.$AdsAMPresetFilters3(s),this.$AdsAMPresetFilters4(s),this.$AdsAMPresetFilters5(s)];return {filterSections:t};}.bind(this),this.$AdsAMPresetFilters2=function(s){return this.$AdsAMPresetFilters6(s,'quicklook',h._("Quick Look"),c('AdsAMPresetFilterConfig').QUICKLOOK_RECENTLY_USED,c('AdsAMPresetFilterConfig').QUICKLOOK_IN_ACTIVE_ADS,c('AdsAMPresetFilterConfig').QUICKLOOK_ACTION_NEEDED,c('AdsAMPresetFilterConfig').QUICKLOOK_SHARED);}.bind(this),this.$AdsAMPresetFilters3=function(s){return this.$AdsAMPresetFilters6(s,'type',h._("Type"),c('AdsAMPresetFilterConfig').TYPE_CUSTOM_AUDIENCE,c('AdsAMPresetFilterConfig').TYPE_LOOKALIKE,c('AdsAMPresetFilterConfig').TYPE_SAVED_AUDIENCE);}.bind(this),this.$AdsAMPresetFilters4=function(s){return this.$AdsAMPresetFilters6(s,'availability',h._("Availability"),c('AdsAMPresetFilterConfig').AVAILABILITY_READY,c('AdsAMPresetFilterConfig').AVAILABILITY_NOT_READY,c('AdsAMPresetFilterConfig').AVAILABILITY_ERROR);}.bind(this),this.$AdsAMPresetFilters5=function(s){return this.$AdsAMPresetFilters6(s,'source',h._("Source"),c('AdsAMPresetFilterConfig').SOURCE_DATA_FILE,c('AdsAMPresetFilterConfig').SOURCE_WEBSITE,c('AdsAMPresetFilterConfig').SOURCE_WEBSITE_ADVANCED,c('AdsAMPresetFilterConfig').SOURCE_MOBILE_APP,c('AdsAMPresetFilterConfig').SOURCE_VIDEOS,c('AdsAMPresetFilterConfig').SOURCE_LEAD_ADS,c('AdsAMPresetFilterConfig').SOURCE_CUSTOM_AUDIENCE,c('AdsAMPresetFilterConfig').SOURCE_PAGE_AUDIENCE,c('AdsAMPresetFilterConfig').SOURCE_CONVERSION_PIXEL);}.bind(this),this.$AdsAMPresetFilters6=function(s,t,u){var v=s.filterSet;for(var w=arguments.length,x=Array(w>3?w-3:0),y=3;y<w;y++)x[y-3]=arguments[y];var z=x.map(function(aa){var ba=v?aa.shouldCheck(v,aa.filterSet):false,ca=new (c('BUIPresetFiltersItem'))(aa.text,ba,false,aa);return ca;});return new (c('BUIPresetFiltersGroup'))(u,z,this.$AdsAMPresetFilters7,0,l,t);}.bind(this),this.$AdsAMPresetFilters7=function(s,t,u){var v=t.map(function(x){return x.getFilterReference().filterSet;}),w=v.reduce(function(x,y){return c('AdsGenericFilterSetUtil').mergeByField(x,y);});u?this.$AdsAMPresetFilters8(w):this.$AdsAMPresetFilters9(w);}.bind(this),this.$AdsAMPresetFilters8=function(s){var t=this.props.filterSet,u=t?c('AdsGenericFilterSetUtil').mergeByField(t,s):s;this.props.onChange(u);}.bind(this),this.$AdsAMPresetFilters9=function(s){var t=c('AdsGenericFilterSetUtil').exclude(this.props.filterSet,s);this.props.onChange(t);}.bind(this),this.state=this.$AdsAMPresetFilters1(this.props),o;}m.prototype.componentWillReceiveProps=function(n){this.setState(this.$AdsAMPresetFilters1(n));};m.prototype.render=function(){return c('React').createElement(c('BUIPresetFilters.react'),{filterGroups:this.state.filterSections});};m.propTypes={filterSet:k.instanceOf(c('AdsGenericFilterSet')),selectedFilters:k.arrayOf(k.instanceOf(c('BUIPresetFiltersItem'))),onChange:k.func.isRequired};f.exports=m;}),null);
__d('AdsAMTypeaheadViewItemFactory',['cx','BackgroundImage.react','ImageBlock.react','React','TextWithEmoticons.react','TypeaheadViewItem','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes;function j(l){var m=l.entry,n=l.splitSubtext?m.getSubtitle().split(' \u00b7 ')[0]:m.getSubtitle(),o=m.getPhoto()?c('React').createElement(c('BackgroundImage.react'),{backgroundSize:'cover',height:32,src:m.getPhoto(),width:32}):c('React').createElement('span',null),p=n?c('React').createElement('div',{className:"_599q"},l.children,n):null;return (c('React').createElement(c('ImageBlock.react'),{spacing:'medium'},o,c('React').createElement('div',null,c('React').createElement('div',{className:"_599p"},c('React').createElement(c('TextWithEmoticons.react'),{renderEmoji:true,renderEmoticons:false,text:m.getTitle()})),p)));}function k(){var l=arguments.length<=0||arguments[0]===undefined?j:arguments[0],m=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];return c('React').createClass({mixins:[c('TypeaheadViewItem').Mixin],propTypes:babelHelpers['extends']({},c('TypeaheadViewItem').propTypes,{splitText:i.bool}),render:function n(){var o=this.props,p=o.entry,q=o.highlighted,r=this.props.splitSubtext?p.getSubtitle().split(' \u00b7 ')[0]:p.getSubtitle(),s=r?c('React').createElement('div',{className:"_599q"},this.props.children,r):null,t=c('joinClasses')("_599m"+(!s?' '+"_5mne":'')+(q?' '+"_599n":''),this.props.className);return (c('React').createElement('li',{'aria-selected':q,className:t,role:this.props.role,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight},c('React').createElement(l,this.props)));}});}f.exports={create:k};}),null);
__d('AdsAMTypeaheadView.react',['ix','cx','fbt','AdsAMTypeaheadViewItemFactory','CenteredContainer.react','Image.react','LeftRight.react','React','XUITypeaheadViewContainer.react','XUITypeaheadViewItem.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PureComponent,n=100;function o(s){var t=!s.entries.length?"_599s":'';return (c('React').createElement(c('XUITypeaheadViewContainer.react'),{className:t,id:s.ariaOwneeID,role:s.role},s.children));}function p(s){return (c('React').createElement(c('XUITypeaheadViewItem.react'),{entry:s.entry,highlighted:s.highlighted,key:s.entry.getUniqueID(),onHighlight:s.onHighlight,onRenderHighlight:s.onRenderHighlight,onSelect:s.onSelect}));}function q(s){var t=c('React').createElement(c('Image.react'),{src:h("139157")});return (c('React').createElement(c('XUITypeaheadViewContainer.react'),{id:s.ariaOwneeID,role:s.role},c('React').createElement(c('CenteredContainer.react'),{fullHeight:true,horizontal:true,style:{height:n},vertical:true},c('React').createElement(c('LeftRight.react'),null,t,j._("No results found")))));}k=babelHelpers.inherits(r,m);l=k&&k.prototype;r.prototype.render=function(){var s,t=this,u=this.props,v=u.entries,w=u.highlightedEntry,x=u.queryString,y=u.shouldShowNullStateView,z=u.shouldShowEmptyStateView,aa=v.length===0,ba=x.length===0,ca=this.props.renderers||{};if(y&&ba&&aa){var da=ca.NullStateRenderer||q;return c('React').createElement(da,this.props);}else if(z&&!ba&&aa){var ea=ca.EmptyStateRenderer||q;return c('React').createElement(ea,this.props);}else{var s=function(){var fa=ca.ContainerRenderer,ga=ca.ItemRenderer,ha=fa||o,ia=ga?c('AdsAMTypeaheadViewItemFactory').create(ga):p,ja=v.map(function(ka){var la=ka===w;return (c('React').createElement(ia,{entry:ka,highlighted:la,key:ka.getUniqueID(),onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight,onSelect:this.props.onSelect}));}.bind(t));return {v:c('React').createElement(ha,t.props,ja)};}();if(typeof s==="object")return s.v;}};function r(){k.apply(this,arguments);}r.defaultProps={role:'listbox'};f.exports=r;}),null);
__d('AdsAMTypeahead.react',['AbstractSearchSource','AdsAMTypeaheadView.react','React','XUITypeahead.react','mergeDeep'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PureComponent,k={alwaysVisibleOnFocus:true,useLayer:true,ViewRenderer:c('AdsAMTypeaheadView.react'),extraRendererProps:{shouldShowEmptyStateView:false,shouldShowNullStateView:false}};h=babelHelpers.inherits(l,j);i=h&&h.prototype;function l(m){i.constructor.call(this,m);this.$AdsAMTypeahead1=false;this.onClear=function(){if(this.props.shouldSaveLastQuery&&this.state.selectedEntry){this.setState({query:this.state.lastSavedQuery||''});}else this.setState({query:''});this.setState({selectedEntry:null});if(this.props.onClear)this.props.onClear();}.bind(this);this.onChange=function(n){this.setState({query:n.target.value,selectedEntry:null});this.props.onChange&&this.props.onChange(n);}.bind(this);this.onSelectAttempt=function(n){var o=this.state.query;this.setState({lastSavedQuery:o,query:n.getTitle(),selectedEntry:n});this.props.onSelectAttempt&&this.props.onSelectAttempt(n);}.bind(this);this.state={lastSavedQuery:'',selectedEntry:null,query:''};}l.prototype.componentDidMount=function(){this.$AdsAMTypeahead1=true;if(this.props.defaultID)this.$AdsAMTypeahead2(this.props.defaultID);};l.prototype.componentWillUnmount=function(){this.$AdsAMTypeahead1=false;};l.prototype.$AdsAMTypeahead2=function(m){this.props.searchSource.search(m,function(n){if(this.$AdsAMTypeahead1)n.forEach(function(o){if(o.getUniqueID()===m)this.onSelectAttempt(o);}.bind(this));}.bind(this));};l.prototype.render=function(){var m=this.props,n=m.presenter,o=babelHelpers.objectWithoutProperties(m,['presenter']),p=c('mergeDeep')(k,n);return c('React').createElement(c('XUITypeahead.react'),babelHelpers['extends']({clearable:true,focusedOnInit:true,highlightOnSelect:true,presenter:p,showEntriesOnFocus:true},o,{queryString:this.state.query,selectedEntry:this.state.selectedEntry,onChange:this.onChange,onClear:this.onClear,onSelectAttempt:this.onSelectAttempt}));};f.exports=l;}),null);
__d('AdsAMTypeaheadActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({LOADED:'LOADED',LOAD_ERROR:'LOAD_ERROR'},'AdsAMTypeahead');f.exports=h;}),null);
__d('AdsAMTypeaheadActions',['AdsAMTypeaheadActionTypes','AdsDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h={resultsLoaded:function i(j,k,l,m){c('AdsDispatcher').handleUpdateFromServerResponse({searchSourceConfig:j,query:k,results:l,extraData:m,type:c('AdsAMTypeaheadActionTypes').LOADED});},loadError:function i(j,k,l){c('AdsDispatcher').handleUpdateFromServerResponse({searchSourceConfig:j,query:k,error:l,type:c('AdsAMTypeaheadActionTypes').LOAD_ERROR});}};f.exports=h;}),null);
__d('AdsAMTypeaheadDataManager',['AdsAMTypeaheadActions'],(function a(b,c,d,e,f,g){'use strict';var h={request:function i(j,k,l,m){l(k,m).done(function(n){return c('AdsAMTypeaheadActions').resultsLoaded(j,k,n.data,m);},function(n){return c('AdsAMTypeaheadActions').loadError(j,k,n);});}};f.exports=h;}),null);
__d('AdsAMTypeaheadUtil',[],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k){var l=i+'_'+j+'_',m=Object.keys(k).concat(Object.values(k)).join('_');return l+m;}f.exports={getCacheKey:h};}),null);
__d('AdsAMTypeaheadStore',['AdsAMTypeaheadActionTypes','AdsAMTypeaheadDataManager','AdsDispatcher','AdsInterfacesLogger','AdsInterfacesLogEvents','FluxStore','LFUCache','LoadObject','Map','SearchableEntry','AdsAMTypeaheadUtil'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('AdsInterfacesLogEvents').Event,k=c('AdsInterfacesLogEvents').EventCategory,l=c('AdsAMTypeaheadUtil').getCacheKey;h=babelHelpers.inherits(m,c('FluxStore'));i=h&&h.prototype;function m(){i.constructor.call(this,c('AdsDispatcher'));this.$AdsAMTypeaheadStore2=new (c('LFUCache'))();this.$AdsAMTypeaheadStore1=new (c('Map'))();}m.prototype.getQueryResultReadyStates=function(){return this.$AdsAMTypeaheadStore1;};m.prototype.__onDispatch=function(n){var o=n.action;switch(o.type){case c('AdsAMTypeaheadActionTypes').LOADED:this.$AdsAMTypeaheadStore3(o.searchSourceConfig,o.query,o.results,o.extraData);break;case c('AdsAMTypeaheadActionTypes').LOAD_ERROR:this.$AdsAMTypeaheadStore4(o.searchSourceConfig,o.query,o.error,o.extraData);break;}};m.prototype.search=function(n,o,p){var q=o||'';return this.$AdsAMTypeaheadStore5(n,q,p);};m.prototype.$AdsAMTypeaheadStore5=function(n,o,p){var q=n.getTypeaheadType(),r=l(q,o,p),s=this.$AdsAMTypeaheadStore2.get(r);if(s&&s.value){this.$AdsAMTypeaheadStore1.set(r,true);}else{s=c('LoadObject').loading();this.$AdsAMTypeaheadStore2.set(r,s);c('AdsAMTypeaheadDataManager').request(n,o,n.sendRequest,p);}return s;};m.prototype.$AdsAMTypeaheadStore3=function(n,o,p,q){var r=n.getTypeaheadType(),s=l(r,o,q),t=p.map(function(u){return n.normalizeResult(u,q);});this.$AdsAMTypeaheadStore2.set(s,c('LoadObject').empty().setValue(t));this.$AdsAMTypeaheadStore1.set(s,true);this.__emitChange();};m.prototype.$AdsAMTypeaheadStore4=function(n,o,p,q){var r=n.getTypeaheadType(),s=l(r,o,q);this.$AdsAMTypeaheadStore1.set(s,true);this.$AdsAMTypeaheadStore2.set(s,c('LoadObject').empty().setError(p));this.$AdsAMTypeaheadStore6(p,n.getTypeaheadType());this.__emitChange();};m.prototype.$AdsAMTypeaheadStore6=function(n,o){c('AdsInterfacesLogger').log({eventName:j.AD_AUDIENCE_SEARCH_SOURCE_LOAD_ERROR,eventCategory:k.ERROR},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};f.exports=new m();}),null);
__d('AdsAMTypeaheadSearchSource',['AdsFluxStoreSearchSource','AdsAMTypeaheadStore','Map'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsFluxStoreSearchSource'));i=h&&h.prototype;j.prototype.getQueryResultReadyStates=function(){return c('AdsAMTypeaheadStore').getQueryResultReadyStates();};function j(k){var l=babelHelpers['extends']({getAllForEmptyQuery:true},k,{queryRequests:[{store:c('AdsAMTypeaheadStore'),getData:function m(n){return c('AdsAMTypeaheadStore').search(k.searchSourceConfig,n,k.extraData||{});}}]});i.constructor.call(this,l);}f.exports=j;}),null);
__d('AdsAMTypeaheadTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({APP:'APP',APP_SEGMENT:'APP_SEGMENT',CAMPAIGN_VIDEO:'CAMPAIGN_VIDEO',WEBSITE_DOMAIN:'WEBSITE_DOMAIN',WEBSITE_EVENT:'WEBSITE_EVENT',WEBSITE_EVENT_PARAMETER:'WEBSITE_EVENT_PARAMETER',WEBSITE_TRAFFIC:'WEBSITE_TRAFFIC',CANVAS:'CANVAS'});f.exports=h;}),null);
__d('AdsAudienceCampaignVideoSearchSource',['fbt','AdsAMTypeaheadTypes','AdsAMTypeaheadSearchSource','AdsAPIAdCampaignGroupFields','AdsGraphAPI','DateTime','Instant','SearchableEntry'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=[c('AdsAPIAdCampaignGroupFields').ID,c('AdsAPIAdCampaignGroupFields').NAME,c('AdsAPIAdCampaignGroupFields').START_TIME,c('AdsAPIAdCampaignGroupFields').STOP_TIME],l='CONTAIN',m='GREATER_THAN',n={getTypeaheadType:function p(){return c('AdsAMTypeaheadTypes').CAMPAIGN_VIDEO;},sendRequest:function p(q,r){var s=r.accountID,t=q.trim().split(' '),u=t.length===1&&t[0]===''?[]:t.map(function(w){return {field:'campaign.'+c('AdsAPIAdCampaignGroupFields').NAME,operator:l,value:w};}),v=c('Instant').fromISOString('1970-01-01T00:00:00-00:00');u.push({field:'campaign.'+c('AdsAPIAdCampaignGroupFields').START_TIME,operator:m,value:v});return c('AdsGraphAPI').get(f.id).adaccount(s).edge('campaigns').get({fields:k,filtering:u,limit:10,sort:'start_time_descending'});},normalizeResult:function p(q,r){var s=r.timezone,t=q.id,u=q.name,v=q.start_time,w=q.stop_time,x=c('DateTime').fromISOString(v,s).format('F j, Y'),y=h._("-"),z=w===undefined?h._("Ongoing"):c('DateTime').fromISOString(w,s).format('F j, Y');return new (c('SearchableEntry'))({title:u,subtitle:x+' '+y+' '+z,uniqueID:t});}};i=babelHelpers.inherits(o,c('AdsAMTypeaheadSearchSource'));j=i&&i.prototype;function o(p){j.constructor.call(this,{extraData:p,searchSourceConfig:n});}f.exports=o;}),null);
__d('AdsAudienceCanvasSearchSource',['AdsAMTypeaheadSearchSource','AdsAMTypeaheadTypes','AdsGraphAPI','SearchableEntry'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=['id','name','owner'],k={getTypeaheadType:function m(){return c('AdsAMTypeaheadTypes').CANVAS;},sendRequest:function m(n,o){return c('AdsGraphAPI').get(f.id).me().edge('rich_media_documents').get({fields:j,query:n});},normalizeResult:function m(n,o){var p=n.id,q=n.name,r=n.owner,s=q||p;return new (c('SearchableEntry'))({title:s,subtitle:r.name,uniqueID:p,auxiliaryData:{pageID:r.id}});}};h=babelHelpers.inherits(l,c('AdsAMTypeaheadSearchSource'));i=h&&h.prototype;function l(){i.constructor.call(this,{searchSourceConfig:k});}f.exports=l;}),null);
__d('AdsAudienceRuleBuilderResource',['CustomAudienceRuleSignalSource','JSResource'],(function a(b,c,d,e,f,g){'use strict';var h;f.exports=(h={},h[c('CustomAudienceRuleSignalSource').PAGE]=null,h[c('CustomAudienceRuleSignalSource').VIDEO]=null,h[c('CustomAudienceRuleSignalSource').LEAD]=null,h[c('CustomAudienceRuleSignalSource').CANVAS]=null,h[c('CustomAudienceRuleSignalSource').OFFLINE_EVENTS]=null,h[c('CustomAudienceRuleSignalSource').PIXEL]=c('JSResource')('AdsAudienceRuleBuilderWebsiteContainer.react').__setRef('AdsAudienceRuleBuilderResource'),h[c('CustomAudienceRuleSignalSource').APP]=c('JSResource')('AdsAudienceRuleBuilderAppContainer.react').__setRef('AdsAudienceRuleBuilderResource'),h[c('CustomAudienceRuleSignalSource').STORE_VISITS]=null,h[c('CustomAudienceRuleSignalSource').DATAFILE]=null,h);}),null);
__d('AdsAudienceRuleBuilderEventTemplates',['fbt','CustomAudienceRuleTemplate'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=(i={},i[c('CustomAudienceRuleTemplate').ALL_VISITORS]={uniqueID:c('CustomAudienceRuleTemplate').ALL_VISITORS,title:h._("All website visitors")},i[c('CustomAudienceRuleTemplate').VISITORS_BY_URL]={uniqueID:c('CustomAudienceRuleTemplate').VISITORS_BY_URL,title:h._("Visitors by URL")},i[c('CustomAudienceRuleTemplate').TOP_TIME_SPENDERS]={uniqueID:c('CustomAudienceRuleTemplate').TOP_TIME_SPENDERS,title:h._("Visitors by time spent")},i),l=(j={},j[c('CustomAudienceRuleTemplate').MACA_APP_LAUNCHED_USERS]={uniqueID:c('CustomAudienceRuleTemplate').MACA_APP_LAUNCHED_USERS,title:h._("Who launched the app")},j[c('CustomAudienceRuleTemplate').MACA_MOST_ACTIVE_USERS]={uniqueID:c('CustomAudienceRuleTemplate').MACA_MOST_ACTIVE_USERS,title:h._("Most active users")},j[c('CustomAudienceRuleTemplate').MACA_TOP_PURCHASE_USERS]={uniqueID:c('CustomAudienceRuleTemplate').MACA_TOP_PURCHASE_USERS,title:h._("Users by purchase amount")},j);f.exports={AdsAudienceRuleBuilderPixelTemplatesEntries:k,AdsAudienceRuleBuilderAppTemplatesEntries:l};}),null);
__d('AdsAudienceStaticSearchableEntries',['fbt','AdsAudienceRuleBuilderEventTemplates'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('AdsAudienceRuleBuilderEventTemplates').AdsAudienceRuleBuilderPixelTemplatesEntries,j=c('AdsAudienceRuleBuilderEventTemplates').AdsAudienceRuleBuilderAppTemplatesEntries,k=Object.keys(i).map(function(o){return i[o];}),l=Object.keys(j).map(function(o){return j[o];}),m={uniqueID:'url',title:h._("URL")},n={uniqueID:'segment',title:h._("Segment")};f.exports={AdsAudienceURLSearchableEntry:m,AdsAudienceSegmentSearchableEntry:n,AdsAudienceTemplateAppEventSearchableEntries:l,AdsAudienceTemplateWebsiteEventSearchableEntries:k};}),null);
__d('AdsCustomConversionAdvancedAggregationFunctions',[],(function a(b,c,d,e,f,g){'use strict';var h={COUNT:'count',SUM:'sum'};f.exports=h;}),null);
__d('AdsCustomConversionAdvancedOperators',['fbt','AdsCustomConversionAdvancedAggregationFunctions'],(function a(b,c,d,e,f,g,h){'use strict';var i={EQ:{value:'eq',label:'=',isNumeric:false},NEQ:{value:'neq',label:'\u2260',isNumeric:false},LT:{value:'lt',label:'<',isNumeric:true},GT:{value:'gt',label:'>',isNumeric:true},GTE:{value:'gte',label:'\u2265',isNumeric:true},LTE:{value:'lte',label:'\u2264',isNumeric:true},CONTAINS:{value:'i_contains',label:h._("contains"),isNumeric:false},NOT_CONTAINS:{value:'i_not_contains',label:h._("doesn't contain"),isNumeric:false}},j={EQ:{value:'eq',label:h._("Equals"),isNumeric:false},CONTAINS:{value:'i_contains',label:h._("Contains"),isNumeric:false}},k={EQ:{value:'eq',label:h._("URL equals"),isNumeric:false},CONTAINS:{value:'i_contains',label:h._("URL contains"),isNumeric:false}},l={IS:{value:'is',label:h._("is"),isNumeric:false}},m={SUM:{value:c('AdsCustomConversionAdvancedAggregationFunctions').SUM,label:h._("sum is"),isNumeric:true}},n={'=':i.EQ.value,'!=':i.NEQ.value,'<':i.LT.value,'>':i.GT.value,'>=':i.GTE.value,'<=':i.LTE.value},o=function r(s){return (s===i.CONTAINS.value||s===i.NOT_CONTAINS.value);},p=function r(s){return Object.keys(m).some(function(t){return m[t].value===s;},s);},q=function r(s){for(var t in n)if(n[t]===s)return t;return null;};f.exports={GenericOperators:i,SimpleOperators:j,URLOperators:k,Placeholder:l,AggregationOperators:m,OperatorMapping:n,isContainsOperator:o,isAggregationOperator:p,getMathOperator:q};}),null);
__d('AdsAudienceRuleBuilderConstant',['ix','fbt','AdsAudienceStaticSearchableEntries','CustomAudienceRuleSignalSource','CustomAudienceRuleDeviceSource','CustomAudienceRuleAggregationField','CustomAudienceRuleField','CustomAudienceRuleFilterField','AdsCustomConversionAdvancedOperators','immutable','fbglyph','keyMirrorRecursive'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l,m,n,o,p,q,r,s,t,u,v,w=c('AdsAudienceStaticSearchableEntries').AdsAudienceSegmentSearchableEntry,x=c('AdsAudienceStaticSearchableEntries').AdsAudienceURLSearchableEntry,y=c('AdsCustomConversionAdvancedOperators').GenericOperators,z=5,aa={CONTAINS:{value:'i_contains',label:i._("contains")},NOT_CONTAINS:{value:'i_not_contains',label:i._("doesn't contain")}},ba={AT_LEAST:{value:'>=',label:i._("is greater than or equal to (\u2265)")},MORE_THAN:{value:'>',label:i._("is greater than (>)")},EQUAL_TO:{value:'=',label:i._("equals")},NOT_EQUAL_TO:{value:'!=',label:i._("doesn't equal")},NO_MORE_THAN:{value:'<=',label:i._("is less than or equal to (\u2264)")},LESS_THAN:{value:'<',label:i._("is less than (\u003C)")}},ca=c('keyMirrorRecursive')({IN_THE_PAST:'IN_THE_PAST',BETWEEN:'BETWEEN'}),da=(j={},j[ca.BETWEEN]=i._("Between"),j[ca.IN_THE_PAST]=i._("In the past"),j),ea=c('immutable').fromJS((k={},k[c('CustomAudienceRuleFilterField').FIELD]=x.uniqueID,k[c('CustomAudienceRuleFilterField').OPERATOR]=aa.CONTAINS.value,k[c('CustomAudienceRuleFilterField').VALUE]=[],k)),fa={OR:'or',AND:'and',NOT:'not'},ga=(l={},l[fa.OR]={value:fa.OR,title:i._("include header"),subtitle:i._("include description")},l[fa.AND]={value:fa.AND,title:i._("only include header"),subtitle:i._("only include description")},l[fa.NOT]={value:fa.NOT,title:i._("exclude header"),subtitle:i._("exclude description")},l),ha=(m={},m[c('CustomAudienceRuleDeviceSource').ALL]={value:c('CustomAudienceRuleDeviceSource').ALL,label:i._("All")},m[c('CustomAudienceRuleDeviceSource').MOBILE]={value:c('CustomAudienceRuleDeviceSource').MOBILE,label:i._("All mobile devices")},m[c('CustomAudienceRuleDeviceSource').IOS]={value:c('CustomAudienceRuleDeviceSource').IOS,label:i._("iOS")},m[c('CustomAudienceRuleDeviceSource').ANDROID]={value:c('CustomAudienceRuleDeviceSource').ANDROID,label:i._("Android")},m[c('CustomAudienceRuleDeviceSource').DESKTOP]={value:c('CustomAudienceRuleDeviceSource').DESKTOP,label:i._("Desktop")},m[c('CustomAudienceRuleDeviceSource').GAMES_ON_FACEBOOK]={value:c('CustomAudienceRuleDeviceSource').GAMES_ON_FACEBOOK,label:i._("Games on Facebook")},m),ia=(n={},n[c('CustomAudienceRuleSignalSource').PAGE]={value:c('CustomAudienceRuleSignalSource').PAGE,label:i._("Page"),glyph:h("123866")},n[c('CustomAudienceRuleSignalSource').VIDEO]={value:c('CustomAudienceRuleSignalSource').VIDEO,label:i._("Video"),glyph:h("124125")},n[c('CustomAudienceRuleSignalSource').LEAD]={value:c('CustomAudienceRuleSignalSource').LEAD,label:i._("Lead"),glyph:h("124620")},n[c('CustomAudienceRuleSignalSource').CANVAS]={value:c('CustomAudienceRuleSignalSource').CANVAS,label:i._("Canvas"),glyph:h("124620")},n[c('CustomAudienceRuleSignalSource').APP]={value:c('CustomAudienceRuleSignalSource').APP,label:i._("App"),glyph:h("123894")},n[c('CustomAudienceRuleSignalSource').OFFLINE_EVENTS]={value:c('CustomAudienceRuleSignalSource').OFFLINE_EVENTS,label:i._("Offline events"),glyph:h("124389")},n[c('CustomAudienceRuleSignalSource').PIXEL]={value:c('CustomAudienceRuleSignalSource').PIXEL,label:i._("Website traffic"),glyph:h("124998")},n[c('CustomAudienceRuleSignalSource').STORE_VISITS]={value:c('CustomAudienceRuleSignalSource').STORE_VISITS,label:i._("Store visits"),glyph:h("124836")},n[c('CustomAudienceRuleSignalSource').DATAFILE]={value:c('CustomAudienceRuleSignalSource').DATAFILE,label:i._("Datafile"),glyph:h("124910")},n),ja={DOMAIN:'domain',PARAMETER:'parameter',TOP_PERCENTILE:'top_percentile',SEGMENT:w.uniqueID,URL:x.uniqueID},ka=c('keyMirrorRecursive')({PARAMETER:'',AGGREGATION:'',DEVICE:''}),la=(o={},o[ka.PARAMETER]={field:c('CustomAudienceRuleField').FILTER,label:i._("Parameter"),value:ka.PARAMETER},o[ka.AGGREGATION]={field:c('CustomAudienceRuleField').AGGREGATION,label:i._("Aggregated value"),value:ka.AGGREGATION},o[ka.DEVICE]={field:c('CustomAudienceRuleField').DEVICE,label:i._("Device"),value:ka.DEVICE},o),ma=c('keyMirrorRecursive')({COUNT:'',SUM:'',AVG:'',MIN:'',MAX:''}),na={COUNT:{label:i._("Frequency"),value:'count'},SUM:{label:i._("Sum of"),value:'sum'},AVG:{label:i._("Average of"),value:'avg'},MIN:{label:i._("Minimum of"),value:'min'},MAX:{label:i._("Maximum of"),value:'max'}},oa=(u={},u[na.COUNT.value]=c('immutable').Map((p={},p[c('CustomAudienceRuleAggregationField').TYPE]=na.COUNT.value,p[c('CustomAudienceRuleAggregationField').METHOD]='absolute',p[c('CustomAudienceRuleAggregationField').OPERATOR]=ba.AT_LEAST.value,p[c('CustomAudienceRuleAggregationField').VALUE]=2,p)),u[na.SUM.value]=c('immutable').Map((q={},q[c('CustomAudienceRuleAggregationField').TYPE]=na.SUM.value,q[c('CustomAudienceRuleAggregationField').METHOD]='absolute',q)),u[na.AVG.value]=c('immutable').Map((r={},r[c('CustomAudienceRuleAggregationField').TYPE]=na.AVG.value,r[c('CustomAudienceRuleAggregationField').METHOD]='absolute',r)),u[na.MIN.value]=c('immutable').Map((s={},s[c('CustomAudienceRuleAggregationField').TYPE]=na.MIN.value,s[c('CustomAudienceRuleAggregationField').METHOD]='absolute',s)),u[na.MAX.value]=c('immutable').Map((t={},t[c('CustomAudienceRuleAggregationField').TYPE]=na.MAX.value,t[c('CustomAudienceRuleAggregationField').METHOD]='absolute',t)),u),pa=c('keyMirrorRecursive')({FIVE:'',TEN:'',TWENTY_FIVE:''}),qa=(v={},v[pa.TWENTY_FIVE]={label:i._("25\u0025"),value:'25'},v[pa.TEN]={label:i._("10\u0025"),value:'10'},v[pa.FIVE]={label:i._("5\u0025"),value:'5'},v),ra={AggregationDefaultValue:oa,AggregationType:ma,AggregationTypeOption:na,DefaultClause:ea,EditorOperator:fa,EditorSet:ga,FilterField:ja,GenericOperators:y,MaxNumOfRules:z,NumericOperator:ba,RetentionOption:ca,RetentionOptionLabel:da,RuleCondition:ka,RuleConditionOption:la,SignalLabel:ia,DeviceLabel:ha,TimeSpentMode:pa,TimeSpentOption:qa,URLOperators:aa};f.exports=ra;}),null);
__d('AdsAudienceRuleBuilderDeviceTypeUtil',['AdsAudienceRuleBuilderConstant','AdsPixelDeviceTypes','AnalyticsOSType','AppEventFPDPEventFields','CustomAudienceRuleDeviceSource','CustomAudienceRuleField','CustomAudienceRuleFilterField','CustomAudienceRuleSignalSource','immutable','CustomAudienceRuleEventSourceField'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k,l=c('CustomAudienceRuleFilterField').FIELD,m=c('CustomAudienceRuleFilterField').FILTERS,n=c('CustomAudienceRuleFilterField').VALUE,o=c('CustomAudienceRuleEventSourceField').TYPE,p=c('AdsAudienceRuleBuilderConstant').GenericOperators.EQ.value,q=c('AdsAudienceRuleBuilderConstant').EditorOperator.OR,r=(h={},h[c('CustomAudienceRuleSignalSource').PIXEL]='device_type',h[c('CustomAudienceRuleSignalSource').APP]=c('AppEventFPDPEventFields').DEVICE_OS_TYPE_NAME,h),s=(k={},k[c('CustomAudienceRuleSignalSource').PIXEL]=(i={},i[c('CustomAudienceRuleDeviceSource').ANDROID]=[c('AdsPixelDeviceTypes').MOBILE_ANDROID_PHONE,c('AdsPixelDeviceTypes').MOBILE_ANDROID_TABLET],i[c('CustomAudienceRuleDeviceSource').IOS]=[c('AdsPixelDeviceTypes').MOBILE_IPAD,c('AdsPixelDeviceTypes').MOBILE_IPHONE,c('AdsPixelDeviceTypes').MOBILE_IPOD],i[c('CustomAudienceRuleDeviceSource').DESKTOP]=[c('AdsPixelDeviceTypes').DESKTOP],i[c('CustomAudienceRuleDeviceSource').MOBILE]=[c('AdsPixelDeviceTypes').MOBILE_ANDROID_PHONE,c('AdsPixelDeviceTypes').MOBILE_ANDROID_TABLET,c('AdsPixelDeviceTypes').MOBILE_IPAD,c('AdsPixelDeviceTypes').MOBILE_IPHONE,c('AdsPixelDeviceTypes').MOBILE_IPOD,c('AdsPixelDeviceTypes').MOBILE_PHONE,c('AdsPixelDeviceTypes').MOBILE_TABLET,c('AdsPixelDeviceTypes').MOBILE_WINDOWS_PHONE],i),k[c('CustomAudienceRuleSignalSource').APP]=(j={},j[c('CustomAudienceRuleDeviceSource').MOBILE]=[c('AnalyticsOSType').IOS,c('AnalyticsOSType').ANDROID,c('AnalyticsOSType').WINDOWS_PHONE],j[c('CustomAudienceRuleDeviceSource').ANDROID]=[c('AnalyticsOSType').ANDROID],j[c('CustomAudienceRuleDeviceSource').IOS]=[c('AnalyticsOSType').IOS],j[c('CustomAudienceRuleDeviceSource').GAMES_ON_FACEBOOK]=[c('CustomAudienceRuleDeviceSource').GAMES_ON_FACEBOOK],j),k);function t(y,z){return (z===r[y]||y===c('CustomAudienceRuleSignalSource').APP&&z===c('AppEventFPDPEventFields').CLIENT_TYPE_NAME);}function u(y,z){return s[y][z];}function v(y,z){var aa=Object.keys(s[y]).find(function(ba){return s[y][ba].length===z.length&&s[y][ba].every(function(ca){return z.includes(ca);});});if(aa)return aa;throw new Error('UI not able to render current device type');}function w(y,z){var aa=u(y,z).map(function(ba){var ca=r[y];if(y===c('CustomAudienceRuleSignalSource').APP&&ba===c('CustomAudienceRuleDeviceSource').GAMES_ON_FACEBOOK)ca=c('AppEventFPDPEventFields').CLIENT_TYPE_NAME;return {operator:p,field:ca,value:ba};});return {operator:q,filters:aa};}function x(y){var z=y.getIn([c('CustomAudienceRuleField').EVENT_SOURCES,0,o]),aa=y.getIn([c('CustomAudienceRuleField').FILTER,m],[]),ba=aa.filter(function(fa){return fa.get(m)&&fa.get(m).every(function(ga){return t(z,ga.get(l));});});if(ba.size!==1)return y;var ca=ba.getIn(['0',m],[]).map(function(fa){return (fa.get(n));}),da=void 0;try{da=v(z,ca.toJS());}catch(ea){da=c('CustomAudienceRuleDeviceSource').ALL;}y=y.updateIn([c('CustomAudienceRuleField').FILTER,m],function(fa){return fa.filter(function(ga){return !ga.get(m)||!ga.get(m).every(function(ha){return t(z,ha.get(l));});});});if(da!==c('CustomAudienceRuleDeviceSource').ALL)y=y.updateIn([c('CustomAudienceRuleField').FILTER,m],function(fa){return fa.push(c('immutable').fromJS({operator:p,field:r[z],value:da}));});return y;}f.exports={denormalizeDeviceType:x,isFieldNameDevice:t,normalizeDeviceType:w,transfromToGranularTypes:u,transformToGeneralType:v,DEVICE_FIELD_NAME_MAP:r};}),null);
__d('AdsAudienceRuleBuilderTemplateUtil',['CustomAudienceRuleAggregationField','CustomAudienceRuleField','CustomAudienceRuleTemplate','CustomAudienceRuleSignalSource','immutable','WebsiteCustomAudienceTrafficType','getByPath','setByPath','AdsAudienceRuleBuilderConstant','CustomAudienceRuleFilterField','CustomAudienceRuleEventSourceField'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k,l,m,n,o=c('CustomAudienceRuleField').EVENT_SOURCES,p=c('CustomAudienceRuleField').FILTER,q=c('AdsAudienceRuleBuilderConstant').FilterField,r=c('CustomAudienceRuleFilterField').FIELD,s=c('CustomAudienceRuleFilterField').FILTERS,t=c('CustomAudienceRuleFilterField').OPERATOR,u=c('CustomAudienceRuleFilterField').VALUE,v=c('CustomAudienceRuleEventSourceField').TYPE,w=25,x=100,y=x-w,z='top_percentile',aa={FROM:'from',PERCENTILE:'percentile'},ba=(j={},j[c('CustomAudienceRuleSignalSource').PIXEL]=(h={},h[c('CustomAudienceRuleTemplate').ALL_VISITORS]={filter:{field:'url',operator:'i_contains',value:''}},h[c('CustomAudienceRuleTemplate').TOP_TIME_SPENDERS]={filter:{field:'url',operator:'i_contains',value:''},aggregation:{type:'time_spent',method:'percentile',operator:'in_range',value:{from:y,to:x}}},h[c('CustomAudienceRuleTemplate').VISITORS_BY_URL]={filter:{field:'url',operator:'i_contains',value:''}},h),j[c('CustomAudienceRuleSignalSource').APP]=(i={},i[c('CustomAudienceRuleTemplate').MACA_APP_LAUNCHED_USERS]={filter:{field:'event',operator:'eq',value:'fb_mobile_activate_app'}},i[c('CustomAudienceRuleTemplate').MACA_MOST_ACTIVE_USERS]={filter:{field:'event',operator:'eq',value:'fb_mobile_activate_app'},aggregation:{type:'count',method:'percentile',operator:'in_range',value:{from:y,to:x}}},i[c('CustomAudienceRuleTemplate').MACA_TOP_PURCHASE_USERS]={filter:{field:'event',operator:'eq',value:'fb_mobile_purchase'},aggregation:{type:'sum',field:'_valueToSumInUSD',method:'percentile',operator:'in_range',value:{from:y,to:x}}},i),j),ca=(m={},m[c('CustomAudienceRuleSignalSource').PIXEL]=(k={},k[c('CustomAudienceRuleTemplate').ALL_VISITORS]={filter:{field:'event',operator:'eq',value:c('CustomAudienceRuleTemplate').ALL_VISITORS}},k[c('CustomAudienceRuleTemplate').TOP_TIME_SPENDERS]={filter:{field:'event',operator:'eq',value:c('CustomAudienceRuleTemplate').TOP_TIME_SPENDERS},percentile:{field:z,operator:'eq',value:w.toString()}},k[c('CustomAudienceRuleTemplate').VISITORS_BY_URL]={filter:{field:'event',operator:'eq',value:c('CustomAudienceRuleTemplate').VISITORS_BY_URL}},k),m[c('CustomAudienceRuleSignalSource').APP]=(l={},l[c('CustomAudienceRuleTemplate').MACA_APP_LAUNCHED_USERS]={filter:{field:'event',operator:'eq',value:c('CustomAudienceRuleTemplate').MACA_APP_LAUNCHED_USERS}},l[c('CustomAudienceRuleTemplate').MACA_MOST_ACTIVE_USERS]={filter:{field:'event',operator:'eq',value:c('CustomAudienceRuleTemplate').MACA_MOST_ACTIVE_USERS},percentile:{field:z,operator:'eq',value:w.toString()}},l[c('CustomAudienceRuleTemplate').MACA_TOP_PURCHASE_USERS]={filter:{field:'event',operator:'eq',value:c('CustomAudienceRuleTemplate').MACA_TOP_PURCHASE_USERS},percentile:{field:z,operator:'eq',value:w.toString()}},l),m),da=(n={},n[c('WebsiteCustomAudienceTrafficType').ALL_WEBSITE_VISITORS]=c('CustomAudienceRuleTemplate').ALL_VISITORS,n[c('WebsiteCustomAudienceTrafficType').SPECIFIC_PAGE_VISITORS]=c('CustomAudienceRuleTemplate').VISITORS_BY_URL,n[c('WebsiteCustomAudienceTrafficType').TIME_SPENT]=c('CustomAudienceRuleTemplate').TOP_TIME_SPENDERS,n);function ea(ra){var sa=ra.getIn([p,s],[]),ta=sa.find(function(ua){return ua.get(r)===c('CustomAudienceRuleField').EVENT;});return ta&&ta.get(u)||'';}function fa(ra,sa,ta){var ua=c('getByPath')(ra,[p,s],[]);ua=ua.map(function(va){return JSON.stringify(va)===JSON.stringify(sa)?ta:va;});c('setByPath')(ra,[p,s],ua);return ra;}function ga(ra){return Object.prototype.hasOwnProperty.call(c('CustomAudienceRuleTemplate'),ea(ra));}function ha(ra){return c('CustomAudienceRuleTemplate')[ea(ra)];}function ia(ra){var sa=ra.getIn([o,0,v]),ta=ha(ra);ra=ra.toJS();c('setByPath')(ra,[c('CustomAudienceRuleField').TEMPLATE],ta);fa(ra,ca[sa][ta].filter,ba[sa][ta].filter);if(ba[sa][ta].aggregation)ra.aggregation=ba[sa][ta].aggregation;ra=c('immutable').fromJS(ra);switch(ta){case c('CustomAudienceRuleTemplate').TOP_TIME_SPENDERS:case c('CustomAudienceRuleTemplate').MACA_MOST_ACTIVE_USERS:case c('CustomAudienceRuleTemplate').MACA_TOP_PURCHASE_USERS:return ja(ra);default:return ra;}}function ja(ra){ra=ra.toJS();var sa=c('getByPath')(ra,[p,s],[]),ta=sa.find(function(va){return va.field===z;}),ua=ta&&ta.value?ta.value:w;c('setByPath')(ra,[c('CustomAudienceRuleField').AGGREGATION,c('CustomAudienceRuleAggregationField').VALUE,aa.FROM],x-ua);c('setByPath')(ra,[p,s],sa.filter(function(va){return va.field!==z;}));return c('immutable').fromJS(ra);}function ka(ra){var sa=ra.getIn([o,0,v]);ra=ra.toJS();var ta=ra.template;fa(ra,ba[sa][ta].filter,ca[sa][ta].filter);ra=c('immutable').fromJS(ra);switch(ta){case c('CustomAudienceRuleTemplate').TOP_TIME_SPENDERS:case c('CustomAudienceRuleTemplate').MACA_TOP_PURCHASE_USERS:case c('CustomAudienceRuleTemplate').MACA_MOST_ACTIVE_USERS:return la(ra);default:return ra;}}function la(ra){var sa=ra.getIn([o,0,v]);ra=ra.toJS();var ta=c('getByPath')(ra,[c('CustomAudienceRuleField').AGGREGATION,c('CustomAudienceRuleAggregationField').VALUE,aa.FROM],y),ua=Object.assign({},ca[sa]);c('setByPath')(ua,[ra.template,aa.PERCENTILE,u],(x-ta).toString(10));var va=c('getByPath')(ra,[p,s],[]);va.push(ca[sa][ra.template].percentile);return c('immutable').fromJS(ra);}function ma(ra){if(!ga(ra))return ra;return ia(ra);}function na(ra){return ra&&ra.get(c('CustomAudienceRuleField').TEMPLATE)&&Object.prototype.hasOwnProperty.call(c('CustomAudienceRuleTemplate'),ra.get(c('CustomAudienceRuleField').TEMPLATE));}function oa(ra){if(!na(ra))return ra;ra=ka(ra);return ra['delete'](c('CustomAudienceRuleField').TEMPLATE)['delete'](c('CustomAudienceRuleField').AGGREGATION);}function pa(ra){var sa=JSON.parse(ra.rule_v2),ta=JSON.parse(ra.data_source.creation_params),ua=parseInt(ta.traffic_type,10),va=sa.inclusions.rules[0];if(qa(va)&&Object.prototype.hasOwnProperty.call(da,ua)){c('setByPath')(va,['template'],da[ua]);var wa=c('getByPath')(va,[p,s],[]);if(ua===c('WebsiteCustomAudienceTrafficType').ALL_WEBSITE_VISITORS)for(var xa=0;xa<wa.length;xa+=1){var ya=c('getByPath')(wa[xa],[s]);for(var za=0;za<ya.length;za+=1)if(c('getByPath')(ya[za],[r])===q.URL)c('setByPath')(ya[za],[r],q.DOMAIN);}wa.push(ba[c('CustomAudienceRuleSignalSource').PIXEL][c('CustomAudienceRuleTemplate').VISITORS_BY_URL][p]);}return sa;}function qa(ra){var sa=c('getByPath')(ra,[p,s],[]);for(var ta=0;ta<sa.length;ta+=1){var ua=sa[ta];if(c('getByPath')(ua,[t])&&c('getByPath')(ua,[s])){var va=c('getByPath')(ua,[s]);for(var wa=0;wa<va.length;wa+=1){var xa=va[wa],ya=c('getByPath')(xa,[r]);if(ya!==q.URL&&ya!=='')return false;}}else{var za=c('getByPath')(ua,[r]);if(za!==q.URL&&za!=='')return false;}}return true;}f.exports={denormalizeTemplateSpec:oa,inferTemplateSpecFromOldWCA:pa,normalizeTemplateSpec:ma};}),null);
__d('AdsAudienceRuleBuilderUtil',['AdsAudienceRuleBuilderDeviceTypeUtil','AdsAudienceRuleBuilderTemplateUtil','CustomAudienceRuleDeviceSource','CustomAudienceRuleField','CustomAudienceRuleFilterField','immutable','getByPath','setByPath','AdsAudienceRuleBuilderConstant','CustomAudienceRuleEventSourceField'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsAudienceRuleBuilderDeviceTypeUtil').isFieldNameDevice,i=c('AdsAudienceRuleBuilderDeviceTypeUtil').DEVICE_FIELD_NAME_MAP,j=c('AdsAudienceRuleBuilderConstant').EditorOperator,k=c('AdsAudienceRuleBuilderConstant').FilterField,l=c('AdsAudienceRuleBuilderConstant').GenericOperators,m=c('CustomAudienceRuleField').EVENT_SOURCES,n=c('CustomAudienceRuleEventSourceField').TYPE,o=c('CustomAudienceRuleFilterField').FIELD,p=c('CustomAudienceRuleFilterField').FILTERS,q=c('CustomAudienceRuleFilterField').OPERATOR,r=c('CustomAudienceRuleFilterField').VALUE,s='filter_',t=0;function u(){return s+'_'+t++;}function v(ea,fa){return (fa===c('CustomAudienceRuleField').FILTER&&c('immutable').List.isList(ea.getIn([fa,p])));}function w(ea){if(!c('immutable').List.isList(ea.get(p)))return ea;var fa=ea.get(p).toJS().reduce(function(ga,ha){var ia;return Object.assign({},ha,(ia={},ia[r]=[].concat(ga[r],ha[r]).filter(Boolean),ia));},[]);return fa;}function x(ea){var fa=c('AdsAudienceRuleBuilderTemplateUtil').denormalizeTemplateSpec(ea);fa=c('AdsAudienceRuleBuilderDeviceTypeUtil').denormalizeDeviceType(fa);var ga=fa.getIn([m,0,n]),ha=fa.keySeq().reduce(function(ia,ja){if(v(fa,ja)){fa.getIn([ja,p]).forEach(function(ka){if(ka.get(o)===c('CustomAudienceRuleField').EVENT){var event=ka.get(r);ia[c('CustomAudienceRuleField').EVENT]=event;}else if(ka.get(o)===c('CustomAudienceRuleField').SEGMENT_ID){var la=ka.get(r),ma=c('CustomAudienceRuleField').EVENT,na=c('CustomAudienceRuleField').SEGMENT_ID;ia[ma]=k.SEGMENT;ia[na]=la;}else if(ga&&h(ga,ka.get(o))){ia[i[ga]]=ka.get(r);}else ia[u()]=w(ka);});}else ia[ja]=fa.get(ja);return ia;},{});return c('immutable').fromJS(ha);}function y(ea){if(!ea[c('CustomAudienceRuleField').FILTER]){var fa;c('setByPath')(ea,[c('CustomAudienceRuleField').FILTER],(fa={},fa[q]=j.AND,fa[p]=[],fa));}return c('getByPath')(ea,[c('CustomAudienceRuleField').FILTER,p]);}function z(ea){var fa,ga=Array.isArray(ea[r]);if(!ga)return ea;return ea[r].reduce(function(ha,ia){var ja;ha[p].push(Object.assign({},ea,(ja={},ja[r]=ia,ja)));return ha;},(fa={},fa[q]=j.OR,fa[p]=[],fa));}function aa(ea){var fa=ea.getIn([m,0,n]),ga=ea.toJS(),ha=Object.keys(ga).reduce(function(ia,ja){if(ja.startsWith(s)){var ka=y(ia);ka.push(z(ga[ja]));}else if(ja===c('CustomAudienceRuleField').EVENT){var la=y(ia),event=ga[c('CustomAudienceRuleField').EVENT];if(event!==k.SEGMENT){var ma;la.unshift((ma={},ma[o]=c('CustomAudienceRuleField').EVENT,ma[q]=l.EQ.value,ma[r]=event,ma));}}else if(ja===c('CustomAudienceRuleField').SEGMENT_ID){var na,oa=ga[c('CustomAudienceRuleField').SEGMENT_ID],pa=y(ia);pa.unshift((na={},na[o]=c('CustomAudienceRuleField').SEGMENT_ID,na[q]=l.EQ.value,na[r]=oa,na));}else if(fa&&ja===i[fa]){var qa=y(ia),ra=ga[i[fa]];if(ra!==c('CustomAudienceRuleDeviceSource').ALL)qa.unshift(c('AdsAudienceRuleBuilderDeviceTypeUtil').normalizeDeviceType(fa,ra));}else ia[ja]=ga[ja];return ia;},{});ha=c('immutable').fromJS(ha);return c('AdsAudienceRuleBuilderTemplateUtil').normalizeTemplateSpec(ha);}function ba(ea,fa){var ga=ca(ea,fa);if(ga){return ea.keyOf(ga);}else{var ha=u();ea.set(ha,null);return ha;}}function ca(ea,fa){return ea.find(function(ga){return (c('immutable').Map.isMap(ga)&&(ga.get(o)===fa||ga.get(p)&&ga.every(function(ha){return ha.get(o)===fa;})));});}function da(ea){return ea.filter(function(fa,ga){return (ga.startsWith(s)&&c('immutable').Map.isMap(fa));});}f.exports={createFilterKey:u,getFilters:da,getFilterValue:ca,getFilterKeyX:ba,toAPISpec:aa,toViewSpec:x};}),null);
__d('AdsAudienceSignalSourcePicker.react',['fbt','AdsAudienceRuleBuilderConstant','CustomAudienceRuleField','CustomAudienceRuleSignalSource','Image.react','immutable','React','SUIBusinessTheme','SUISelector.react','SUISelectorButton.react','SUISelectorOption.react','SUISelectorOptionGroup.react','CustomAudienceRuleEventSourceField'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsAudienceRuleBuilderConstant').SignalLabel,l=c('React').Element,m=c('React').PureComponent,n=c('CustomAudienceRuleField').EVENT_SOURCES,o=c('CustomAudienceRuleEventSourceField').ID,p=c('CustomAudienceRuleEventSourceField').TYPE;function q(v){var w=k[v],x=w.glyph,y=w.label,z=w.value;return (c('React').createElement(c('SUISelectorOption.react'),{icon:c('React').createElement(c('Image.react'),{src:x}),key:v,value:z},y));}var r=h._("Facebook products"),s=h._("Off Facebook"),t=h._("Choose a source");i=babelHelpers.inherits(u,m);j=i&&i.prototype;function u(){var v,w;for(var x=arguments.length,y=Array(x),z=0;z<x;z++)y[z]=arguments[z];return w=(v=j.constructor).call.apply(v,[this].concat(y)),this.$AdsAudienceSignalSourcePicker1=function(aa){var ba,ca=c('immutable').fromJS([(ba={},ba[p]=aa,ba)]),da=this.props.spec.filter(function(ea,fa){return fa===n;}).setIn([n],ca).deleteIn([n,0,o]);this.props.onChange(da);}.bind(this),w;}u.prototype.render=function(){var v=this.props.spec,w=c('CustomAudienceRuleSignalSource').PAGE,x=c('CustomAudienceRuleSignalSource').VIDEO,y=c('CustomAudienceRuleSignalSource').LEAD,z=c('CustomAudienceRuleSignalSource').CANVAS,aa=c('CustomAudienceRuleSignalSource').APP,ba=c('CustomAudienceRuleSignalSource').PIXEL,ca=c('CustomAudienceRuleSignalSource').STORE_VISITS,da=c('CustomAudienceRuleSignalSource').DATAFILE,ea=v.getIn([n,0,p]),fa=c('React').createElement(c('SUISelectorButton.react'),{label:t});if(ea){var ga=k[ea],ha=ga.glyph,ia=ga.label;fa=c('React').createElement(c('SUISelectorButton.react'),{icon:c('React').createElement(c('Image.react'),{src:ha}),label:ia});}var ja=this.props.className||undefined;return c('React').createElement(c('SUISelector.react'),{button:fa,canCollapseGroups:false,className_DEPRECATED:ja,theme:c('SUIBusinessTheme'),value:ea,onChange:this.$AdsAudienceSignalSourcePicker1},c('React').createElement(c('SUISelectorOptionGroup.react'),{label:r},[w,x,y,z].map(q)),c('React').createElement(c('SUISelectorOptionGroup.react'),{label:s},[aa,ba,ca,da].map(q)));};f.exports=u;}),null);
__d('AdsAudienceRuleBuilder.react',['cx','AdsAudienceRuleBuilderResource','AdsAudienceRuleBuilderUtil','AdsAudienceSignalSourcePicker.react','AdsSpinnerCover.react','BootloadedComponent.react','CustomAudienceRuleField','immutable','Layout.react','React','SUICloseButton.react','CustomAudienceRuleEventSourceField'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('Layout.react').Column,l=c('Layout.react').FillColumn,m=c('React').Element,n=c('React').PureComponent,o=c('CustomAudienceRuleField').EVENT_SOURCES,p=c('CustomAudienceRuleEventSourceField').TYPE;i=babelHelpers.inherits(q,n);j=i&&i.prototype;function q(r){j.constructor.call(this,r);this.$AdsAudienceRuleBuilder1=function(s){this.setState({spec:s});this.props.onChange(this.props.ruleKey,c('AdsAudienceRuleBuilderUtil').toAPISpec(s));}.bind(this);this.$AdsAudienceRuleBuilder2=function(){this.props.onRemove(this.props.ruleKey);}.bind(this);this.state={spec:c('AdsAudienceRuleBuilderUtil').toViewSpec(r.defaultSpec||c('immutable').Map({}))};}q.prototype.componentWillMount=function(){var r=this.props.signalSourceType;if(r){var s,t=c('immutable').fromJS([(s={},s[p]=r,s)]),u=this.state.spec.setIn([o],t);this.$AdsAudienceRuleBuilder1(u);}};q.prototype.render=function(){var r=this.state.spec,s=this.props.signalSourceType,t=s?s:r.getIn([o,0,p]),u=t&&c('AdsAudienceRuleBuilderResource')[t],v="_vvt"+(!!t?' '+"_vvu":''),w=s?null:c('React').createElement(c('AdsAudienceSignalSourcePicker.react'),{className:v,spec:r,onChange:this.$AdsAudienceRuleBuilder1}),x=u?c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:u,bootloadPlaceholder:c('React').createElement(c('AdsSpinnerCover.react'),{show:true}),ruleKey:this.props.ruleKey,spec:r,onChange:this.$AdsAudienceRuleBuilder1}):null,y=this.props.isRemovable?c('React').createElement(c('SUICloseButton.react'),{size:'small',onClick:this.$AdsAudienceRuleBuilder2,useLegacyPadding:true}):null;return c('React').createElement(c('Layout.react'),{className:"_vvv"},c('React').createElement(l,null,w,x),c('React').createElement(k,null,y));};f.exports=q;}),null);
__d('AdsAudienceRuleBuilderSetUtil',['CustomAudienceRuleMode','CustomAudienceRuleSetField','immutable','getByPath','setByPath'],(function a(b,c,d,e,f,g){'use strict';var h=c('CustomAudienceRuleMode').INCLUSIONS,i=c('CustomAudienceRuleMode').EXCLUSIONS,j=c('CustomAudienceRuleSetField').RULES,k='inclusion_',l='exclusion_',m=0,n=0;function o(){return k+'_'+m++;}function p(){return l+'_'+n++;}function q(w){return w.startsWith(k);}function r(w){var x=c('getByPath')(w,[h,j]),y=c('getByPath')(w,[i]),z={};if(Array.isArray(x))x.forEach(function(aa){z[o()]=aa;});if(y&&Array.isArray(y[j]))y[j].forEach(function(aa){z[p()]=aa;});return c('immutable').fromJS(z);}function s(w,x){if(!w||!w[x])c('setByPath')(w,[x],{operator:'or',rules:[]});return c('getByPath')(w,[x,j]);}function t(w){var x=w.toJS();return Object.keys(x).reduce(function(y,z){var aa=x[z];if(z.startsWith(k)){var ba=s(y,h);ba.push(aa);}else if(z.startsWith(l)){var ca=s(y,i);ca.push(aa);}else y[z]=aa;return y;},{});}function u(w){return w.filter(function(x,y){return (y.startsWith(k));});}function v(w){return w.filter(function(x,y){return (y.startsWith(l));});}f.exports={createInclusionKey:o,createExclusionKey:p,getIncludedRules:u,getExcludedRules:v,isInclusion:q,toRuleSetAPISpec:t,toRuleSetViewSpec:r};}),null);
__d('AudienceManagerLoggingEvents',[],(function a(b,c,d,e,f,g){'use strict';f.exports={AM_MACA_EDITOR_APP_NO_EVENTS:'am_maca_editor_app_no_events',AM_MACA_EDITOR_APP_SELECTED:'am_maca_editor_app_selected',AM_MACA_EDITOR_VALIDATION_FAILURE:'am_maca_editor_validation_failure',AM_MACA_EDITOR_CREATE_AUDIENCE:'am_maca_editor_create_audience',AM_MACA_EDITOR_CREATE_SUCCESS:'am_maca_editor_create_success',AM_MACA_EDITOR_INCLUSIVE_EVENT_SELECTED:'am_maca_editor_event_selected',AM_MACA_EDITOR_EXCLUSIVE_EVENT_SELECTED:'am_maca_editor_exclusive_event_selected',AM_MACA_EDITOR_ACTION_TAKEN_ACTIVITY_SELECTED:'am_maca_editor_action_taken_activity_selected',AM_MACA_EDITOR_ACTION_NOT_TAKEN_ACTIVITY_SELECTED:'am_maca_editor_action_not_taken_activity_selected',AM_MACA_EDITOR_COMBINATION_ACTION_ACTIVITY_SELECTED:'am_maca_editor_combination_action_activity_selected',AM_MACA_EDITOR_INCLUDE_MOST_ACTIVE:'am_maca_editor_include_most_active',AM_MACA_EDITOR_INCLUDE_HIGHEST_VALUE:'am_maca_editor_include_highest_value',AM_MACA_EDITOR_SHOW_PERCENTILE_CHART:'am_maca_editor_show_percentile_chart',AM_MACA_EDITOR_NO_PERCENTILE_DATA:'am_maca_editor_no_percentile_data',AM_MACA_EDITOR_CREATE_WHALE_AUDIENCE_ATTEMPT:'am_maca_editor_create_whale_audience_attempt',AM_MACA_ACTIVATE_APP_UPSELL_SHOWN:'am_maca_editor_activate_app_upsell_shown',AM_MACA_NUX_CREATE_AUDIENCE:'am_maca_nux_create_audience',AM_WCA_NUX_CREATE_AUDIENCE:'am_wca_nux_create_audience',AM_WCA_NUX_VIEW_PIXEL:'am_wca_nux_view_pixel',AM_WCA_EDITOR_VALIDATION_FAILURE:'am_wca_editor_validation_failure',AM_WCA_EDITOR_CREATE_AUDIENCE:'am_wca_editor_create_audience',AM_WCA_EDITOR_CREATE_FAIL:'am_wca_editor_create_fail',AM_WCA_EDITOR_CREATE_SUCCESS:'am_wca_editor_create_success',AM_WCA_EDITOR_AUDIENCE_TYPE_ALL_WEBSITE_VISITORS:'am_wca_editor_audience_type_all_website_visitors',AM_WCA_EDITOR_AUDIENCE_TYPE_ALL_WEBSITE_VISITORS_WITH_DOMAIN:'am_wca_editor_audience_type_all_website_visitors_with_domain',AM_WCA_EDITOR_DOMAIN_SELECTOR_SHOWN:'am_wca_editor_audience_domain_selector_shown',AM_WCA_EDITOR_DOMAIN_SELECTOR_HIDDEN:'am_wca_editor_audience_domain_selector_hidden',AM_WCA_EDITOR_AUDIENCE_TYPE_RULES:'am_wca_editor_audience_type_rules',AM_WCA_EDITOR_AUDIENCE_TYPE_SPECIFIC_PAGES:'am_wca_editor_audience_type_specific_pages',AM_WCA_EDITOR_AUDIENCE_TYPE_INC_EXC:'am_wca_editor_audience_type_inc_exc',AM_WCA_EDITOR_AUDIENCE_TYPE_CHURNED:'am_wca_editor_audience_type_churned',AM_WCA_EDITOR_AUDIENCE_TYPE_TIME_SPENT:'am_wca_editor_audience_type_time_spent',WCA_NUX_CONFIRM:'wca_nux_confirm',WCA_EMAIL_PIXEL:'am_wca_email_pixel',AM_CA_NUX_CREATE_AUDIENCE:'am_ca_nux_create_audience',AM_CA_CREATE_AUDIENCE_CLICK:'am_ca_create_audience_click',AM_AUDIENCE_SHARING_NUX_CLOSED:'am_audience_sharing_nux_closed',AM_LAL_NUX_CREATE_AUDIENCE:'am_lal_nux_create_audience',AM_LAL_CREATE_AUDIENCE_CLICK:'am_lal_create_audience_click',AM_LAL_DIALOG_CLOSE_SUCCESS:'am_lal_dialog_close_success',AM_LAL_DIALOG_CLOSE_CANCEL:'am_lal_dialog_close_cancel',AM_LAL_DIALOG_ERROR:'am_lal_dialog_error',AM_LAL_WEIGHTABLE_ATTR_LOADING_ERROR:'am_lal_weightable_attr_loading_error',AM_LAL_CA_SUBTYPE_LOADING_ERROR:'am_lal_ca_subtype_loading_error',AM_LAL_CA_DATA_SPEC_LOADING_ERROR:'am_lal_ca_data_spec_loading_error',AM_CA_CREATE_VALUE_BASED_FILE_IMPORT_CLICK:'am_ca_create_value_based_file_import_click',AM_CA_VALUE_BASED_TOS_ACCEPT:'am_ca_value_based_tos_accept',AM_CA_VALUE_BASED_CREATE_LOOKALIKE_CLICK:'am_ca_value_based_create_lookalike_click',AM_CA_CREATE_DIALOG_LOAD:'am_ca_create_dialog_load',AM_CA_CREATE_CUSTOMER_LIST_CLICK:'am_ca_create_customer_list_click',AM_CA_CREATE_WCA_CLICK:'am_ca_create_wca_click',AM_CA_CREATE_MACA_CLICK:'am_ca_create_maca_click',AM_CA_CREATE_FILE_IMPORT_CLICK:'am_ca_create_file_import_click',AM_CA_CREATE_COPY_PASTE_CLICK:'am_ca_create_copy_paste_click',AM_CA_CREATE_MAIL_CHIMP_CLICK:'am_ca_create_mail_chimp_click',AM_CA_CREATE_MACA_BACK_CLICK:'am_ca_create_maca_back_click',AM_CA_CREATE_CUSTOMER_LIST_BACK_CLICK:'am_ca_create_customer_list_back_click',AM_CA_CREATE_STORE_VISIT_BACK_CLICK:'am_ca_create_store_visit_back_click',AM_CA_CREATE_PLATFORM_AUDIENCE_CLICK:'am_ca_create_platform_audience_click',AM_CA_CREATE_PLATFORM_AUDIENCE_BACK_CLICK:'am_ca_create_platform_audience_back_click',AM_CA_CREATE_BACK_TO_CUSTOMER_LIST_CLICK:'am_ca_create_back_to_customer_list_click',AM_CA_CREATE_FILE_IMPORT_CREATE_AUDIENCE_CLICK:'am_ca_create_file_import_create_audience_click',AM_CA_CREATE_FILE_IMPORT_CONTINUE_CREATE_AUDIENCE_CLICK:'am_ca_create_file_import_continue_create_audience_click',AM_CA_CREATE_FILE_IMPORT_CHOOSE_ANOTHER_FILE_CLICK:'am_ca_create_file_import_choose_another_file_click',AM_CA_CREATE_COPY_PASTE_CREATE_AUDIENCE_CLICK:'am_ca_create_copy_paste_create_audience_click',AM_CA_CREATE_LOG_INTO_MAIL_CHIMP_CLICK:'am_ca_create_log_into_mail_chimp_click',AM_CA_CREATE_MAIL_CHIMP_CREATE_AUDIENCE_CLICK:'am_ca_create_mail_chimp_create_audience_click',AM_CA_CREATE_UPLOAD_COMPLETE_CLICK:'am_ca_create_upload_complete_click',AM_CA_CREATE_CREATE_AD_CLICK:'am_ca_create_create_ad_click',AM_CA_CREATE_CREATE_LAL_CLICK:'am_ca_create_create_lal_click',AM_CA_CREATE_FINISH_CREATION_SUCCESS:'am_ca_create_finish_creation_success',AM_CA_CREATE_CLOSE_DIALOG:'am_ca_create_close_dialog',AM_CA_CREATE_VIEW_EXAMPLE_CLICK:'am_ca_create_view_example_click',AM_CA_CREATE_UPLOAD_FILE:'am_ca_create_upload_file',AM_CA_CREATE_VIEW_ERROR_REPORT:'am_ca_create_view_error_report',AM_CA_CREATE_UPLOAD_FILE_ERROR:'am_ca_create_upload_file_error',AM_CA_EDIT_UPDATE_META_DATA:'am_ca_edit_update_meta_data',AM_CA_EDIT_UPDATE_META_DATA_ONLY:'am_ca_edit_update_meta_data_only',AM_CA_EDIT_FILE_IMPORT_ADD_USERS:'am_ca_edit_file_import_add_users',AM_CA_EDIT_FILE_IMPORT_REMOVE_USERS:'am_ca_edit_file_import_remove_users',AM_CA_EDIT_COPY_PASTE_ADD_USERS:'am_ca_edit_copy_paste_add_users',AM_CA_EDIT_COPY_PASTE_REMOVE_USERS:'am_ca_edit_copy_paste_remove_users',AM_CA_EDIT_FILE_IMPORT_CHOOSE_ANOTHER_FILE_CLICK:'am_ca_edit_file_import_choose_another_file_click',AM_CA_EDIT_FILE_IMPORT_CONTINUE_EDIT_AUDIENCE_CLICK:'am_ca_edit_file_import_continue_edit_audience_click',AM_CA_EDIT_FINISH_SUCCESS:'am_ca_edit_finish_success',AM_CA_EDIT_FINISH_ERROR:'am_ca_edit_finish_error',AM_CA_EDIT_CLOSE_DIALOG:'am_ca_edit_close_dialog',AM_CA_OPT_OUT_USER_FINISH_SUCCESS:'am_ca_opt_out_user_finish_success',AM_CA_OPT_OUT_USER_CLOSE_DIALOG:'am_ca_opt_out_user_close_dialog',AM_CA_OPT_OUT_USER_CONTINUE_EDIT_AUDIENCE_CLICK:'am_ca_opt_out_user_continue_edit_audience_click',AM_CA_OPT_OUT_USER_CHOOSE_ANOTHER_FILE_CLICK:'am_ca_opt_out_user_choose_another_file_click',AM_CA_IMPORT_COMPLETE:'am_ca_import_complete',AM_AUDIENCE_MANAGER_VIEW:'am_audience_manager_view',AM_FILTER_BUTTON_CLICKED:'am_filter_button_clicked',AM_FILTER_LEFT_PRESET_CHANGED:'am_filter_left_preset_changed',AM_FILTER_TOKENIZER_CHANGED:'am_filter_tokenizer_changed',AM_FILTER_NAME_SEARCH:'am_filter_name_search',AM_HELP_FLYOUT_SHOW:'am_help_flyout_show',AM_HELP_FLYOUT_CLICKED:'am_help_flyout_clicked',AM_HELP_BLANK_STATE_CLICKED:'am_help_blank_state_clicked',AM_TABLE_ACTION_CREATE_AD_CLICKED:'am_table_action_create_ad_clicked',AM_TABLE_COLUMN_CUSTOMIZE:'am_table_column_customize',AM_TABLE_ACTION_BULK_DELETE_CLICKED:'am_table_action_bulk_delete_clicked',AM_TABLE_ACTION_CREATE_LAL_CLICKED:'am_table_action_create_lal_clicked',AM_TABLE_ACTION_DELETE_CLICKED:'am_table_action_delete_clicked',AM_TABLE_ACTION_EDIT_CLICKED:'am_table_action_edit_clicked',AM_TABLE_ACTION_VIEW_PIXEL_CLICKED:'am_table_action_view_pixel_clicked',AM_TABLE_ACTION_SHARE_CLICKED:'am_table_action_share_clicked',AM_TABLE_ACTION_UNSHARE_CLICKED:'am_table_action_unshare_clicked',AM_TABLE_ACTION_VIEW_OVERLAP:'am_table_action_view_overlap',AM_TABLE_SCROLLING_FETCH:'am_table_scrolling_fetch',AM_CREATE_SAVED_AUDIENCE_CLICKED:'am_create_saved_audience_clicked',AM_CREATE_SAVED_AUDIENCE_COMPLETED:'am_create_saved_audience_completed',AM_NUX_CREATE_SAVED_AUDIENCE_CLICKED:'am_nux_create_saved_audience_clicked',AM_OVERLAP_SHOW_ADD_AUDIENCE:'am_overlap_show_add_audience',AM_OVERLAP_CHANGE_TYPEAHEAD:'am_overlap_change_typeahead',AM_OVERLAP_CLEAR_TYPEAHEAD:'am_overlap_clear_typeahead',AM_OVERLAP_COMPARE_CLICK:'am_overlap_compare_click',AM_OVERLAP_UPDATE_SELECTED_AUDIENCE:'am_overlap_update_selected_audience',AM_OVERLAP_REMOVE_AUDIENCE:'am_overlap_remove_audience',AM_OVERLAP_ADD_AUDIENCE:'am_overlap_add_audience',AM_DETAILS_AUDIENCE_VIEW:'am_details_audience_view',AM_DETAILS_ACTION_CREATE_AD_CLICKED:'am_details_action_create_ad_clicked',AM_DETAILS_SHARE_CLICKED:'am_details_share_clicked',AM_DETAILS_CREATE_LAL_CLICKED:'am_details_create_lal_clicked',AM_DETAILS_DELETE_CLICKED:'am_details_delete_clicked',AM_DETAILS_EDIT_CLICKED:'am_details_edit_clicked',AM_CA_CREATE_DATA_SET_CLICK:'am_ca_create_data_set_click',AM_CA_CREATE_DATA_SET_CREATE_AUDIENCE_CLICK:'am_ca_create_data_set_create_audience_click',AM_CA_CREATE_VIDEO_AUDIENCE_CLICK:'am_ca_create_video_audience_click',AM_CA_CREATE_LEAD_AUDIENCE_CLICK:'am_ca_create_lead_audience_click',AM_CA_CREATE_PAGE_AUDIENCE_CLICK:'am_ca_create_page_audience_click',AM_CA_CREATE_PAGE_ENGAGEMENT_AUDIENCE_CLICK:'am_ca_create_page_engagement_audience_click',AM_CA_CREATE_CANVAS_AUDIENCE_CLICK:'am_ca_create_canvas_audience_click',AM_CA_CREATE_STORE_VISIT_AUDIENCE_CLICK:'am_ca_create_store_visit_audience_click',WCA_ADVANCED_MODE_SWITCH_TOGGLED:'wca_advanced_mode_switch_toggled',WCA_ADVANCED_BLUETIP_NUX_CLOSED:'wca_advanced_bluetip_closed',WCA_ADVANCED_BANNER_NUX_CLOSED:'wca_advanced_banner_nux_closed',WCA_TRAFFIC_SELECTOR_ALL_WEBSITE_VISITORS_CLICK:'wca_traffic_selector_all_website_visitors_click',WCA_TRAFFIC_SELECTOR_SPECIFIC_PAGES_CLICK:'wca_traffic_selector_specific_pages_click',WCA_TRAFFIC_SELECTOR_INC_EXC_CLICK:'wca_traffic_selector_inc_exc_click',WCA_TRAFFIC_SELECTOR_CHURNED_CLICK:'wca_traffic_selector_churned_click',WCA_TRAFFIC_SELECTOR_TIME_SPENT_CLICK:'wca_traffic_selector_time_spent_click',WCA_TRAFFIC_SELECTOR_CUSTOM_CLICK:'wca_traffic_selector_custom_click',WCA_TIME_SPENT_PERCENTILE_SELECT:'wca_time_spent_percentile_select',AM_START_LOADING:'am_start_loading',AM_ACCOUNT_LOADED:'am_account_loaded',AM_AUDIENCE_LOADED:'am_audience_loaded',LS_CREATE_AUDIENCE_CLICK:'ls_create_audience_click',LS_CREATE_AUDIENCE_REQUEST_SENT:'ls_create_audience_request_sent',LS_CREATE_AUDIENCE_REQUEST_SUCCESS:'ls_create_audience_request_success',LS_CREATE_AUDIENCE_REQUEST_FAILURE:'ls_create_audience_request_failure',LS_CREATE_FROM_SHARING_INSIGHTS_OVERVIEW:'ls_create_from_sharing_insights_overview',LS_CREATE_FROM_ADS_MANAGER_FLOW:'ls_create_from_ads_manager_flow',RULE_BUILDER_EVENT_SELECTOR_OPEN:'audience.rule_builder_event_selector.open',RULE_BUILDER_EVENT_SELECTOR_SELECT:'audience.rule_builder_event_selector.select',RULE_BUILDER_PARAMETER_FIELD_SELECTOR_SELECT:'audience.rule_builder_parameter_field_selector.select',RULE_BUILDER_PARAMETER_OPERATOR_SELECTOR_SELECT:'audience.rule_builder_parameter_operator_selector.select',RULE_BUILDER_PARAMETER_VALUE_TOKENIZER_CHANGE:'audience.rule_builder_parameter_value_tokenizer.change',RULE_BUILDER_PARAMETER_SECTION_ADD:'audience.rule_builder_parameter_section.add',RULE_BUILDER_PARAMETER_SECTION_REMOVE:'audience.rule_builder_parameter_section.remove',RULE_BUILDER_AGGREGATION_FIELD_SELECTOR_SELECT:'audience.rule_builder_aggregation_field_selector.select',RULE_BUILDER_AGGREGATION_OPERATOR_SELECTOR_SELECT:'audience.rule_builder_aggregation_operator_selector.select',RULE_BUILDER_AGGREGATION_VALUE_TOKENIZER_CHANGE:'audience.rule_builder_aggregation_value_tokenizer.change',RULE_BUILDER_AGGREGATION_SECTION_REMOVE:'audience.rule_builder_aggregation_section.remove',RULE_BUILDER_INCLUSION_SECTION_ADD:'audience.rule_builder_include_section.add',RULE_BUILDER_EXCLUSION_SECTION_ADD:'audience.rule_builder_include_section.add',RULE_BUILDER_SECTION_REMOVE:'audience.rule_builder_section.remove',RULE_BUILDER_AUDIENCE_CREATED:'audience.rule_builder.audience_created',RULE_BUILDER_AUDIENCE_CREATION_FAILED:'audience.rule_builder.audience_creation_failed',RULE_BUILDER_CREATE_AUDIENCE_BUTTON_CLICK:'audience.rule_builder_create_audience_button.click',RULE_BUILDER_CONDITION_SELECTOR_SELECT:'audience.rule_builder_condition_selector.select',RULE_BUILDER_DEVICE_SELECTOR_SELECT:'audience.rule_builder_device_selector.select',RULE_BUILDER_DEVICE_SECTION_REMOVE:'audience.rule_builder_device_section.remove',RULE_BUILDER_DOMAIN_TOKENIZER_OPEN:'audience.rule_builder_domain_tokenizer.open',RULE_BUILDER_DOMAIN_TOKENIZER_CHANGE:'audience.rule_builder_domain_tokenizer.change',RULE_BUILDER_DOMAIN_TOKENIZER_CLOSE:'audience.rule_builder_domain_tokenizer.close',RULE_BUILDER_SOURCE_ID_SELECTOR_SELECT:'audience.rule_builder_source_id_selector.select'};}),null);
__d('AudienceManagerCustomAudienceLoggerActions',['AdsDispatcher','AudienceManagerLoggingEvents'],(function a(b,c,d,e,f,g){'use strict';function h(j,k){c('AdsDispatcher').handleUpdateFromViewAction({type:j,data:k});}var i={acceptWeighteCustomAudienceTOS:function j(k){h(c('AudienceManagerLoggingEvents').AM_CA_VALUE_BASED_TOS_ACCEPT,{accountID:k});},logWithScenarioInfo:function j(k,l){c('AdsDispatcher').handleUpdateFromViewAction({type:k,extraData:l});}};f.exports=i;}),null);
__d('AdsAudienceRuleBuilderSet.react',['cx','fbt','ix','AdsAudienceRuleBuilder.react','AdsAudienceRuleBuilderSetUtil','AudienceManagerCustomAudienceLoggerActions','AudienceManagerLoggingEvents','InlineBlock.react','Image.react','immutable','React','SUILink.react','SUIText.react','AdsAudienceRuleBuilderConstant'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').Element,n=c('React').PureComponent,o=c('AdsAudienceRuleBuilderConstant').MaxNumOfRules,p=i._("Include people who meet the following criteria"),q=i._("Exclude people who meet the following criteria"),r=i._("Include more"),s=i._("Exclude"),t=i._("Exclude more"),u=i._("Or"),v=j("21707"),w=j("21703"),x=j("21705"),y=j("21708"),z=j("21704");k=babelHelpers.inherits(aa,n);l=k&&k.prototype;function aa(){var ba,ca;for(var da=arguments.length,ea=Array(da),fa=0;fa<da;fa++)ea[fa]=arguments[fa];return ca=(ba=l.constructor).call.apply(ba,[this].concat(ea)),this.$AdsAudienceRuleBuilderSet9=function(){var ga=c('AdsAudienceRuleBuilderSetUtil').createInclusionKey();this.$AdsAudienceRuleBuilderSet10(ga);c('AudienceManagerCustomAudienceLoggerActions').logWithScenarioInfo(c('AudienceManagerLoggingEvents').RULE_BUILDER_INCLUSION_SECTION_ADD,{section_key:ga});}.bind(this),this.$AdsAudienceRuleBuilderSet8=function(){var ga=c('AdsAudienceRuleBuilderSetUtil').createExclusionKey();this.$AdsAudienceRuleBuilderSet10(ga);c('AudienceManagerCustomAudienceLoggerActions').logWithScenarioInfo(c('AudienceManagerLoggingEvents').RULE_BUILDER_EXCLUSION_SECTION_ADD,{section_key:ga});}.bind(this),this.$AdsAudienceRuleBuilderSet5=function(ga,ha){var ia=this.props.spec.set(ga,ha);this.props.onChange(ia);}.bind(this),this.$AdsAudienceRuleBuilderSet6=function(ga){var ha=this.props.spec['delete'](ga);this.props.onChange(ha);c('AudienceManagerCustomAudienceLoggerActions').logWithScenarioInfo(c('AudienceManagerLoggingEvents').RULE_BUILDER_SECTION_REMOVE,{section_key:ga});}.bind(this),ca;}aa.prototype.render=function(){var ba=c('AdsAudienceRuleBuilderSetUtil').getIncludedRules(this.props.spec),ca=c('AdsAudienceRuleBuilderSetUtil').getExcludedRules(this.props.spec),da=ca.count()>0,ea=ba.count()+ca.count()<o;return c('React').createElement('div',null,this.$AdsAudienceRuleBuilderSet1(false),c('React').createElement('div',{className:"_5zql"},this.$AdsAudienceRuleBuilderSet2(ba,false),this.$AdsAudienceRuleBuilderSet3(ea,false,da)),this.$AdsAudienceRuleBuilderSet4(ea,ca,da));};aa.prototype.$AdsAudienceRuleBuilderSet4=function(ba,ca,da){if(!da)return null;return c('React').createElement('div',null,this.$AdsAudienceRuleBuilderSet1(true),c('React').createElement('div',{className:"_5zql"},this.$AdsAudienceRuleBuilderSet2(ca,true),this.$AdsAudienceRuleBuilderSet3(ba,true,da)));};aa.prototype.$AdsAudienceRuleBuilderSet1=function(ba){return c('React').createElement('div',null,c('React').createElement(c('Image.react'),{className:"_3-8_",src:ba?w:v}),c('React').createElement(c('InlineBlock.react'),null,c('React').createElement(c('SUIText.react'),{shade:'dark',size:'small',weight:'bold'},ba?q:p)));};aa.prototype.$AdsAudienceRuleBuilderSet2=function(ba,ca){if(!ba||ba.count()===0)return null;var da=[],ea=ba.count(),fa=ca||ea>1,ga=0;ba.forEach(function(ha,ia){var ja=c('React').createElement(c('AdsAudienceRuleBuilder.react'),{defaultSpec:ha,isRemovable:fa,ruleKey:ia,signalSourceType:this.props.signalSourceType,onChange:this.$AdsAudienceRuleBuilderSet5,onRemove:this.$AdsAudienceRuleBuilderSet6}),ka=null;if(ga!==ea-1)ka=this.$AdsAudienceRuleBuilderSet7(ca);da.push(c('React').createElement('div',{key:ia},ja,ka));ga+=1;}.bind(this));return c('React').createElement('div',null,da);};aa.prototype.$AdsAudienceRuleBuilderSet3=function(ba,ca,da){if(!ba)return null;if(ca)return da?c('React').createElement('div',{className:"_5znx"},c('React').createElement(c('Image.react'),{className:"_3-8_",src:z}),c('React').createElement(c('SUILink.react'),{onClick:this.$AdsAudienceRuleBuilderSet8},c('React').createElement(c('SUIText.react'),{shade:'link',size:'small'},t))):null;var ea=c('React').createElement(c('InlineBlock.react'),{className:"_3-9c"},c('React').createElement(c('Image.react'),{className:"_3-8_",src:x}),c('React').createElement(c('SUILink.react'),{onClick:this.$AdsAudienceRuleBuilderSet8},c('React').createElement(c('SUIText.react'),{shade:'link',size:'small'},s)));return c('React').createElement('div',{className:"_5znx"},c('React').createElement(c('InlineBlock.react'),null,c('React').createElement(c('Image.react'),{className:"_3-8_",src:y}),c('React').createElement(c('SUILink.react'),{onClick:this.$AdsAudienceRuleBuilderSet9},c('React').createElement(c('SUIText.react'),{shade:'link',size:'small'},r))),da?null:ea);};aa.prototype.$AdsAudienceRuleBuilderSet7=function(ba){var ca=ba?z:y;return c('React').createElement('div',null,c('React').createElement(c('Image.react'),{className:"_3-8_",src:ca}),c('React').createElement(c('InlineBlock.react'),null,c('React').createElement(c('SUIText.react'),{shade:'light',size:'small',weight:'bold'},u)));};aa.prototype.$AdsAudienceRuleBuilderSet10=function(ba){var ca=this.props.spec.set(ba,c('immutable').Map({}));this.props.onChange(ca);};f.exports=aa;}),null);
__d('AdsAudienceRuleBuilderPlatform.react',['AdsAudienceRuleBuilderActions','AdsAudienceRuleBuilderSetUtil','AdsAudienceRuleBuilderSet.react','SUIBusinessTheme','SUIThemeContainer.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Element,k=c('React').PureComponent;h=babelHelpers.inherits(l,k);i=h&&h.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.state={spec:c('AdsAudienceRuleBuilderSetUtil').toRuleSetViewSpec(this.props.defaultSpec||{})},this.$AdsAudienceRuleBuilderPlatform1=function(r){this.setState({spec:r});var s=c('AdsAudienceRuleBuilderSetUtil').toRuleSetAPISpec(r);this.props.onChange(s);}.bind(this),n;}l.prototype.componentWillMount=function(){c('AdsAudienceRuleBuilderActions').componentWillMount('AdsAudienceRuleBuilderPlatform');};l.prototype.componentDidMount=function(){c('AdsAudienceRuleBuilderActions').componentDidMount('AdsAudienceRuleBuilderPlatform');};l.prototype.render=function(){return c('React').createElement(c('SUIThemeContainer.react'),{theme:c('SUIBusinessTheme')},c('React').createElement(c('AdsAudienceRuleBuilderSet.react'),{signalSourceType:this.props.signalSourceType,spec:this.state.spec,onChange:this.$AdsAudienceRuleBuilderPlatform1}));};f.exports=l;}),null);
__d('AdsAudienceScenarioLoggerStore',['AdsScenarios','AdsAudienceRuleBuilderActionTypes','AdsBaseScenarioLoggerStore','AdsInterfacesLogger','AdsInterfacesLoggerConfigColumns','DateConsts','URIInitDataUtil'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('AdsScenarios').ActionFunction,k=c('AdsScenarios').ActionOr,l=['AdsAudienceRuleBuilderPlatform','AdsAudienceRuleBuilderEvent','AdsAudienceRuleBuilderAggregationSection','AdsAudienceRuleBuilderWebsiteEventClause'];h=babelHelpers.inherits(m,c('AdsBaseScenarioLoggerStore'));i=h&&h.prototype;function m(){i.constructor.call(this);var o=[],p=l.map(function(q){return {name:'audience.'+q+'_did_mount',start:new j(function(r){return (r.type===c('AdsAudienceRuleBuilderActionTypes').componentWillMount&&r.componentName===q);}),success:new j(function(r){return (r.type===c('AdsAudienceRuleBuilderActionTypes').componentDidMount&&r.componentName===q);}),abandon:new k(o),timeout:c('DateConsts').SEC_PER_MIN};});this.prepareScenarios([{name:'audience.rule_builder_wca_creation_flow',start:new k([c('AdsAudienceRuleBuilderActionTypes').openWCACreationDialog]),success:new k([c('AdsAudienceRuleBuilderActionTypes').createOrUpdateWCA]),abandon:new k([c('AdsAudienceRuleBuilderActionTypes').createOrUpdateWCAAbandon]),timeout:c('DateConsts').SEC_PER_MIN*30},{name:'audience.rule_builder_wca_edit_flow',start:new k([c('AdsAudienceRuleBuilderActionTypes').openWCAEditDialog]),success:new k([c('AdsAudienceRuleBuilderActionTypes').createOrUpdateWCA]),abandon:new k([c('AdsAudienceRuleBuilderActionTypes').createOrUpdateWCAAbandon]),timeout:c('DateConsts').SEC_PER_MIN*30},{name:'audience.rule_builder_old_wca_creation_flow',start:new k([c('AdsAudienceRuleBuilderActionTypes').openOldWCACreationDialog]),success:new k([c('AdsAudienceRuleBuilderActionTypes').createOrUpdateOldWCA]),abandon:new k([c('AdsAudienceRuleBuilderActionTypes').createOrUpdateOldWCAAbandon]),timeout:c('DateConsts').SEC_PER_MIN*30},{name:'audience.rule_builder_old_wca_edit_flow',start:new k([c('AdsAudienceRuleBuilderActionTypes').openOldWCAEditDialog]),success:new k([c('AdsAudienceRuleBuilderActionTypes').createOrUpdateOldWCA]),abandon:new k([c('AdsAudienceRuleBuilderActionTypes').createOrUpdateOldWCAAbandon]),timeout:c('DateConsts').SEC_PER_MIN*30}].concat(p));}m.prototype.getStoreName=function(){return 'AdsAudienceScenarioLoggerStore';};m.prototype.getStateData=function(){return {};};m.prototype.log=function(event,o){var p,q=babelHelpers['extends']({},o,(p={},p[c('AdsInterfacesLoggerConfigColumns').AD_ACCOUNT_ID]=c('URIInitDataUtil').getAccountID(),p));c('AdsInterfacesLogger').log({eventName:event,data:q},c('AdsInterfacesLogger').LOG_TYPE_SECONDARY_APP);};var n=new m();f.exports=n;}),null);
__d('AudienceManagerColumnHeaderRenderers',['cx','AdsAMAudienceActions','AudienceManagerUIConstants','FixedDataTableSortableHeader.react','React'],(function a(b,c,d,e,f,g,h){var i=c('AudienceManagerUIConstants').ALIGN,j=c('AudienceManagerUIConstants').SORT_ORDER,k=function m(n){var o=n.headerAlign;if(!o)return null;return (o===i.CENTER?"_2csv":'')+(o===i.LEFT?' '+"_3ohp":'')+(o===i.RIGHT?' '+"_3ohq":'');},l={renderHeader:function m(n,o,p,q){n=n?c('React').createElement('div',{className:k(p)},n):null;return n;},renderSortableHeader:function m(n,o,p,q){var r=p.currentSortState.sortKey===p.sortKey,s=r?p.currentSortState.sortOrder:null,t=function u(){var v=r&&p.currentSortState.sortOrder===j.ASC?j.DESC:j.ASC;c('AdsAMAudienceActions').sortAudience(v,p.sortKey,p.compareFunction);};return (c('React').createElement(c('FixedDataTableSortableHeader.react'),{className:k(p),sorting:s,onClick:t},n));}};f.exports=l;}),null);
__d('AudienceManagerFBCustomAudienceTerm.react',['fbt','BusinessURI.brands','Link.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){if(this.props.termsAlreadyAccepted)return null;return (c('React').createElement('div',null,c('React').createElement('input',{checked:this.props.termsBoxChecked,id:'termsOfService',type:'checkbox',onChange:this.props.onTermsCheckboxChanged}),c('React').createElement('label',{htmlFor:'termsOfService'},h._("I agree to the {link}",[h.param('link',c('React').createElement(c('Link.react'),{href:c('BusinessURI.brands')('/ads/manage/customaudiences/tos.php?act='+this.props.accountID),target:'_blank'},'Facebook Custom Audiences Terms'))]))));};function l(){i.apply(this,arguments);}l.propTypes={accountID:k.string.isRequired,termsAlreadyAccepted:k.bool.isRequired,termsBoxChecked:k.bool.isRequired,onTermsCheckboxChanged:k.func.isRequired};l.defaultProps={termsAlreadyAccepted:false};f.exports=l;}),null);
__d('FBActionSelector.react',['cx','ContextualLayer.react','LayerHideOnBlur','Link.react','React','XUIPopoverButton.react','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l,m=c('React').PropTypes,n=c('React').Component,o=c('React').createClass({displayName:'FBActionSelector',statics:{getButtonSize:function p(q){return c('XUIPopoverButton.react').getButtonSize(q);}},propTypes:{alignment:m.oneOf(['left','right','center']),disabled:m.bool,maxHeight:m.number,onAction:m.func.isRequired,position:m.oneOf(['above','below','left','right']),size:m.oneOf(['small','medium','large','xlarge','xxlarge'])},getInitialState:function p(){return {showMenu:false};},render:function p(){var q=this.props,r=q.className,s=q.disabled,t=q.use,u=babelHelpers.objectWithoutProperties(q,['className','disabled','use']);r=c('joinClasses')("_hbk","_hbl",r);t=t||'default';return (c('React').createElement('span',null,c('React').createElement(c('XUIPopoverButton.react'),babelHelpers['extends']({},u,{className:r,depressed:t=='default'&&this.state.showMenu,disabled:s,onClick:s?null:this._showMenu,ref:'menuOpener',use:t})),this.renderLayers()));},renderLayers:function p(){if(this.state.showMenu&&!this.props.disabled){var q=c('React').Children.map(this.props.children,function(s,t){return c('React').cloneElement(s,{optionName:'option_'+t,onOptionSelect:this._onOptionSelect});}.bind(this)),r=this.props.maxHeight?{maxHeight:this.props.maxHeight,overflow:'auto'}:undefined;return (c('React').createElement(c('ContextualLayer.react'),{alignment:this.props.alignment,key:'menu',behaviors:{LayerHideOnBlur:c('LayerHideOnBlur')},contextRef:function(){return this.refs.menuOpener;}.bind(this),position:this.props.position?this.props.position:'below',onToggle:this._onMenuToggle,shown:true},c('React').createElement('div',{className:"_hbm",style:r,role:'menu'},q)));}else return null;},_showMenu:function p(){if(!this.state.showMenu)this.setState({showMenu:true});},_removeMenu:function p(){if(this.state.showMenu&&this.isMounted())this.setState({showMenu:false});},_onMenuToggle:function p(q){if(!q)setTimeout(this._removeMenu,16);},_onOptionSelect:function p(q){this.setState({showMenu:false});this.props.onAction(q);}});o.Option=(j=i=function(){var p,q;p=babelHelpers.inherits(r,n);q=p&&p.prototype;function r(){var s,t;'use strict';for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=q.constructor).call.apply(s,[this].concat(v)),this.$_class1=function(event){event.preventDefault();var x=this.props,y=x.onOptionSelect,z=x.value;if(y)y(z);}.bind(this),t;}r.prototype.render=function(){'use strict';if(this.props.disabled)return c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')("_hbn",this.props.className)}),this.props.children);return c('React').createElement(c('Link.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')("_hbo",this.props.className),onClick:this.$_class1}),this.props.children);};return r;}(),i.propTypes={children:m.any,className:m.string,disabled:m.bool,onOptionSelect:m.func,value:m.string.isRequired},j);o.Separator=(l=k=function(){var p,q;p=babelHelpers.inherits(r,n);q=p&&p.prototype;r.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:c('joinClasses')("_hbp",this.props.className)}));};function r(){'use strict';p.apply(this,arguments);}return r;}(),k.propTypes={className:m.string},l);f.exports=o;}),null);
__d('AdsCreateAudienceActionSelector.react',['fbt','AdsLookalikeWWWBuddyIDs','AudienceManagerUIConstants','FBActionSelector.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=c('FBActionSelector.react').Option,m=c('AudienceManagerUIConstants').CREATE_AUDIENCE_ACTION_TYPE;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$AdsCreateAudienceActionSelector2=function(){if(this.props.useSavedAudience)return (c('React').createElement(l,{key:m.SAVED_AUDIENCE,value:m.SAVED_AUDIENCE},c('AudienceManagerUIConstants').SAVED_AUDIENCE_DISPLAY_NAME));return (c('React').createElement(l,{key:m.SAVED_TARGET_SPEC,value:m.SAVED_TARGET_SPEC},c('AudienceManagerUIConstants').STS_DISPLAY_NAME));}.bind(this),p;}n.prototype.render=function(){var o=h._("Create Audience");return c('React').createElement(c('FBActionSelector.react'),babelHelpers['extends']({'data-testid':c('AdsLookalikeWWWBuddyIDs').AUDIENCE_CREATION_SELECTION,use:'special'},this.props,{label:o}),this.$AdsCreateAudienceActionSelector1());};n.prototype.$AdsCreateAudienceActionSelector1=function(){var o=[c('React').createElement(l,{key:m.CUSTOM_AUDIENCE,value:m.CUSTOM_AUDIENCE},h._("Custom Audience")),c('React').createElement(l,{'data-testid':c('AdsLookalikeWWWBuddyIDs').LOOKALIKE_AUDIENCE_OPTION,key:m.LOOKALIKE,value:m.LOOKALIKE},h._("Lookalike Audience")),this.$AdsCreateAudienceActionSelector2()];return o;};n.propTypes={onAction:k.func.isRequired,disabled:k.bool,useSavedAudience:k.bool.isRequired};f.exports=n;}),null);
__d('AudienceManagerPETopNavigation.react',['cx','fbt','AdsCreateAudienceActionSelector.react','LeftRight.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n=this.props.isBlankState?null:c('React').createElement(c('AdsCreateAudienceActionSelector.react'),{disabled:!this.props.canWrite,useSavedAudience:this.props.useSavedAudience,onAction:this.props.onAction});return (c('React').createElement('div',{className:"_2pi3 _2pia"},c('React').createElement(c('LeftRight.react'),null,c('React').createElement('div',{className:"_3dke"},i._("Audience Home")),n)));};function m(){j.apply(this,arguments);}m.propTypes={accountID:l.string.isRequired,onAction:l.func.isRequired,canWrite:l.bool.isRequired,isBlankState:l.bool.isRequired,useSavedAudience:l.bool.isRequired};f.exports=m;}),null);
__d('AudienceManagerPopoverButton.react',['cx','ContextualLayer.react','emptyFunction','LayerHideOnBlur','React','XUIPopoverButton.react'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={showLayer:false},this.$AudienceManagerPopoverButton2=function(){if(!this.state.showLayer)this.setState({showLayer:true});}.bind(this),this.$AudienceManagerPopoverButton3=function(){if(this.state.showLayer)this.setState({showLayer:false});}.bind(this),this.renderLayers=function(){if(!this.state.showLayer)return null;return (c('React').createElement(c('ContextualLayer.react'),{alignment:this.props.alignment,behaviors:{LayerHideOnBlur:c('LayerHideOnBlur')},contextRef:function(){return this.refs.layerButton;}.bind(this),key:'layerContent',position:"below",shown:true,onToggle:this.$AudienceManagerPopoverButton4},c('React').createElement('div',{className:"_50dm"},this.props.children)));}.bind(this),this.$AudienceManagerPopoverButton4=function(r){if(!r)setTimeout(this.$AudienceManagerPopoverButton3,20);}.bind(this),this.$AudienceManagerPopoverButton1=function(){this.$AudienceManagerPopoverButton2();this.props.logClickEvent();}.bind(this),n;}l.prototype.render=function(){'use strict';return c('React').createElement('span',null,c('React').createElement(c('XUIPopoverButton.react'),{haschevron:true,image:this.props.image,label:this.props.label,ref:'layerButton',use:this.props.use,onClick:this.$AudienceManagerPopoverButton1}),this.renderLayers());};l.propTypes={label:k.string.isRequired,image:k.object,logClickEvent:k.func};l.defaultProps={logClickEvent:c('emptyFunction')};f.exports=l;}),null);
__d('AudienceManagerSearchBar.react',['cx','fbt','Keys','Link.react','React','XUITextInput.react'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AudienceManagerSearchBar1=function(event){if(event.keyCode!==c('Keys').RETURN){this.props.onKeywordsChanged(event);return;}event.preventDefault();this.props.onKeywordsComplete(event);}.bind(this),o;}m.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_1q48"},c('React').createElement(c('XUITextInput.react'),{className:"_1q49",placeholder:i._("Search by name"),onKeyUp:this.$AudienceManagerSearchBar1}),c('React').createElement(c('Link.react'),{className:"_1q4a",onClick:this.props.onKeywordsComplete}));};m.propTypes={onKeywordsChanged:l.func.isRequired,onKeywordsComplete:l.func.isRequired};f.exports=m;}),null);
__d('AdsAMAudienceUtils',['AdsAudienceDataSourceUtils','AdsCustomAudienceType','AudienceManagerUIConstants','BusinessURI.brands'],(function a(b,c,d,e,f,g){'use strict';var h='/ads/manager/audiences/detail',i=c('AdsCustomAudienceType').SUBTYPES,j={isSavedTargetSpec:function k(l){return !!l.isSavedTargetSpec;},isSavedAudience:function k(l){return !!l.isSavedAudience;},isValueBasedCustomAudience:function k(l){return !!l.is_value_based;},isWCAWithAdvancedRule:function k(l){var m=l.data_source;if(!m)return false;var n=m.type,o=m.sub_type,p=c('AdsAudienceDataSourceUtils').TYPES,q=c('AdsAudienceDataSourceUtils').SUBTYPES;if(n===p.EVENT_BASED&&(o===q.WEB_PIXEL_HITS||o===q.WEB_PIXEL_COMBINATION_EVENTS)){if(l.rule_aggregation)return true;return [].concat(l.included_custom_audiences||[]).concat(l.excluded_custom_audiences||[]).filter(function(r){return !!r.rule_aggregation;}).length>0;}return false;},isAudienceCreatedFromFile:function k(l){if(!l.data_source||l.subtype!==i.REGULAR)return false;var m=l.data_source.type;if(m===c('AdsAudienceDataSourceUtils').TYPES.FILE_IMPORTED||m===c('AdsAudienceDataSourceUtils').TYPES.UNKNOWN)return true;return false;},getAudienceDetailsURI:function k(l,m){var n=new (c('BusinessURI.brands'))(h);n.addQueryData({ids:l,audience_id:l,act:m});return n;},getAudienceType:function k(l){if(j.isSavedTargetSpec(l))if(j.isSavedAudience(l)){return c('AudienceManagerUIConstants').SAVED_AUDIENCE_DISPLAY_NAME;}else return c('AudienceManagerUIConstants').STS_DISPLAY_NAME;var m=l.data_source||{};switch(m&&m.type){case c('AdsAudienceDataSourceUtils').TYPES.SEED_BASED:return c('AudienceManagerUIConstants').LAL_DISPLAY_NAME;case c('AdsAudienceDataSourceUtils').TYPES.CLAIM_BASED:return c('AudienceManagerUIConstants').PRODUCT_AUDIENCE_DISPLAY_NAME;default:return c('AudienceManagerUIConstants').CA_DISPLAY_NAME;}}};f.exports=j;}),null);
__d('AdsSavedAudienceActions',['AdsDispatcher','AdsSavedAudienceActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h={savedAudiencesLoaded:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({savedAudiences:j,type:c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.BATCH_LOADED});},savedAudiencesLoadError:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({errors:j,type:c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.BATCH_LOAD_ERROR});},savedAudienceListLoaded:function i(j,k,l){c('AdsDispatcher').handleUpdateFromServerResponse({accountID:j,queryString:l,savedAudiences:k,type:c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.LIST.LOADED});},savedAudienceListLoadError:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({accountID:j,type:c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.LIST.LOAD_ERROR});},savedAudienceListPartialLoad:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({accountID:j,savedAudiences:k,type:c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.LIST.PARTIAL_LOAD});},createSavedAudiences:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({savedAudiences:j,type:c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.CREATE_BATCH});},savedAudiencesCreated:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({savedAudiences:j,type:c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.BATCH_CREATED});},savedAudiencesCreateError:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({errors:j,type:c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.BATCH_CREATE_ERROR});},updateSavedAudiences:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({savedAudiences:j,type:c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.UPDATE_BATCH});},updateSavedAudiencesListBasedOnSearch:function i(j,k,l){c('AdsDispatcher').handleUpdateFromServerResponse({accountID:j,queryString:k,defaultShowList:l,type:c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.LIST.UPDATE_SEARCH_TEXT});},cacheTopAudiencesForAccount:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({accountID:j,audiences:k,type:c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.LIST.CACHE_TOP_AUDIENCES_EMPTY_SEARCH});},cacheRemainingAudiencesForAccount:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({accountID:j,audiences:k,type:c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.LIST.CACHE_REMAINING_AUDIENCES_EMPTY_SEARCH});},updateLoadingStartTime:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({time:j,type:c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.LIST.START_TIMER});},updateLoadingEndTime:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({accountID:j,time:k,type:c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.LIST.STOP_TIMER});},savedAudiencesUpdated:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({savedAudiences:j,type:c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.BATCH_UPDATED});},savedAudiencesUpdateError:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({errors:j,type:c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.BATCH_UPDATE_ERROR});},deleteSavedAudiences:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({savedAudienceIDs:j,type:c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.DELETE_BATCH});},savedAudiencesDeleted:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({savedAudienceIDs:j,type:c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.BATCH_DELETED});},savedAudiencesDeleteError:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({errors:j,type:c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.BATCH_DELETE_ERROR});},userFocusOnSavedAudienceSearchBar:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.LIST.FOCUS_SEARCH_BAR});}};f.exports=h;}),null);
__d('AdsTargetingSavedAudienceDataLoader',['Promise','AdsAPIAdAccountFields','AdsAPIAdCampaignFields','AdsAPISavedAudienceFields','AdsDynamicTargetingUtils','AdsGenericFilterOperator','AdsGraphAPI','AdsSavedAudienceActions','GraphAPIFieldUtils','GraphEdgeName','GraphSort','Map','isValidID'],(function a(b,c,d,e,f,g){'use strict';var h=c('Promise').resolve(new (c('Map'))()),i={loadSavedAudiencesForAccount:function j(k){return c('AdsGraphAPI').get(f.id).adaccount(k).edge(c('AdsAPIAdAccountFields').SAVED_AUDIENCES).batched().get({fields:['id']});},searchSavedAudiencesForAccount:function j(k,l){return c('AdsGraphAPI').get(f.id).adaccount(k).edge(c('AdsAPIAdAccountFields').SAVED_AUDIENCES).get({fields:[c('AdsAPISavedAudienceFields').ID,c('AdsAPISavedAudienceFields').NAME],filtering:l===''?null:[{field:'name',operator:c('AdsGenericFilterOperator').CONTAIN,value:l}],sort:c('AdsAPISavedAudienceFields').TIME_CREATED+c('GraphSort').DESC});},loadSavedAudienceByID:function j(k){if(!c('isValidID')(k))return h;return c('AdsGraphAPI').get(f.id).object('saved_audience',k).batched().get({fields:[c('AdsAPISavedAudienceFields').ID,c('AdsAPISavedAudienceFields').NAME,c('AdsAPISavedAudienceFields').APPROXIMATE_COUNT,c('AdsAPISavedAudienceFields').SENTENCE_LINES,c('AdsAPISavedAudienceFields').TARGETING,c('GraphAPIFieldUtils').getFieldWithSubfields(c('GraphEdgeName').ADSETS,[c('AdsAPIAdCampaignFields').NAME,c('AdsAPIAdCampaignFields').END_TIME,c('AdsAPIAdCampaignFields').START_TIME])]});},createSavedAudience:function j(k,l,m){var n=c('AdsDynamicTargetingUtils').targetingWithoutProductAudience(m);return c('AdsGraphAPI').get(f.id).adaccount(k).edge(c('AdsAPIAdAccountFields').SAVED_AUDIENCES).batched().post({name:l,targeting:n}).then(function(o){var p=new (c('Map'))();p.set(o.id,{id:o.id,accountID:k});c('AdsSavedAudienceActions').savedAudiencesCreated(p);return o;});}};f.exports=i;}),null);
__d('AdsSavedAudienceDataManager',['fbt','AdsAPIAdAccountFields','AdsBaseDataManager','AdsSavedAudienceActions','AdsTargetingSavedAudienceDataLoader','AdsGraphAPI'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('AdsBaseDataManager'));j=i&&i.prototype;k.prototype.loadAll=function(l){l.forEach(function(m){return this.load(m);}.bind(this));};k.prototype.load=function(l){c('AdsTargetingSavedAudienceDataLoader').loadSavedAudienceByID(l).done(function(m){return this.__handleSuccess(['load'],l,null,m);}.bind(this),function(m){return this.__handleError(['load'],l,null,m);}.bind(this));};k.prototype.__onBatchLoaded=function(l){c('AdsSavedAudienceActions').savedAudiencesLoaded(l);};k.prototype.__onBatchLoadError=function(l){c('AdsSavedAudienceActions').savedAudiencesLoadError(l);};k.prototype.__onBatchCreated=function(l){c('AdsSavedAudienceActions').savedAudiencesCreated(l);};k.prototype.__onBatchCreateError=function(l){c('AdsSavedAudienceActions').savedAudiencesCreateError(l);};k.prototype.__onBatchUpdated=function(l){c('AdsSavedAudienceActions').savedAudiencesUpdated(l);};k.prototype.__onBatchUpdateError=function(l){c('AdsSavedAudienceActions').savedAudiencesUpdateError(l);};k.prototype.__onBatchDeleted=function(l){c('AdsSavedAudienceActions').savedAudiencesDeleted(Array.from(l.keys()));};k.prototype.__onBatchDeleteError=function(l){c('AdsSavedAudienceActions').savedAudiencesDeleteError(l);};k.prototype.__getObjectTypeLabel=function(){return h._("Saved Audience");};k.prototype.create=function(l){c('AdsGraphAPI').get(f.id).adaccount(l.accountID).edge(c('AdsAPIAdAccountFields').SAVED_AUDIENCES).batched().post({name:l.name,targeting:l.targeting}).done(function(m){this.__handleSuccess(['create'],l.tempID,null,{accountID:l.accountID,id:m.id,name:l.name,targeting:l.targeting,tempID:l.tempID});}.bind(this),function(m){m.accountID=l.accountID;this.__handleError(['create'],l.tempID,null,m);}.bind(this));};k.prototype.update=function(l){c('AdsGraphAPI').get(f.id).object('saved_audience',l.id).batched().post({name:l.name,targeting:l.targeting}).done(function(m){this.__handleSuccess(['update'],l.id,null,{id:l.id,name:l.name,targeting:l.targeting,sync_status:m.sync_status});}.bind(this),function(m){this.__handleError(['update'],l.id,null,m);}.bind(this));};k.prototype['delete']=function(l){c('AdsGraphAPI').get(f.id).object('saved_audience',l).batched().remove().done(function(m){this.__handleSuccess(['delete'],l,null,{id:l});}.bind(this),function(m){this.__handleError(['delete'],l,null,m);}.bind(this));};function k(){i.apply(this,arguments);}f.exports=new k();}),null);
__d('AdsSavedAudienceStore',['AdsBaseDataStore','AdsLoadState','AdsSavedAudienceActionTypes','AdsSavedAudienceDataManager'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseDataStore'));i=h&&h.prototype;j.prototype.getDataManager=function(){return c('AdsSavedAudienceDataManager');};j.prototype.__onDispatch=function(k){var l=k.action,m=[];switch(l.actionType){case c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.BATCH_LOADED:this.__handleData(l.savedAudiences,c('AdsLoadState').LOADED);break;case c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.BATCH_CREATED:this.__handleData(l.savedAudiences,c('AdsLoadState').LOADED);m=this.$AdsSavedAudienceStore1(l.savedAudiences);this.__invalidateAll(m);this.getAll(m);break;case c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.BATCH_UPDATED:m=this.$AdsSavedAudienceStore1(l.savedAudiences);this.__invalidateAll(m);this.getAll(m);break;case c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.BATCH_DELETED:this.__invalidateAll(l.savedAudienceIDs);break;case c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.BATCH_CREATE_ERROR:case c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.BATCH_DELETE_ERROR:case c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.BATCH_LOAD_ERROR:case c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.BATCH_UPDATE_ERROR:this.__handleData(l.errors,c('AdsLoadState').ERROR);break;case c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.CREATE_BATCH:this.__updateLoading(l.savedAudiences.map(function(n){return n.tempID;}));l.savedAudiences.forEach(function(n){return c('AdsSavedAudienceDataManager').create(n);});break;case c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.DELETE_BATCH:l.savedAudienceIDs.forEach(function(n){return this.__delete(n);}.bind(this));break;case c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.UPDATE_BATCH:this.__updatePendingWrite(l.savedAudiences.map(function(n){return n.id;}));l.savedAudiences.forEach(function(n){return c('AdsSavedAudienceDataManager').update(n);});break;}};j.prototype.$AdsSavedAudienceStore1=function(k){var l=Array.from(k.values()),m=l.map(function(n){return n.id;});return m;};function j(){h.apply(this,arguments);}f.exports=new j();}),null);
__d('AudienceManagerErrorTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){var h=c('keyMirrorRecursive')({ACCOUNT_INIT:'',ACCOUNT_BUSINESS_GET:'',AUDIENCE_INIT:'',AUDIENCE_DELETE:'',AUDIENCE_ADD:'',AUDIENCE_UPDATE:'',AUDIENCE_GET:'',CAPABILITY_REMOVE:'',CAPABILITY_UPDATE:'',PIXEL_GET:'',STS_GET:''}),i=c('keyMirrorRecursive')({INIT_ERRORS:'',NON_INIT_ERRORS:''}),j={};j[i.INIT_ERRORS]=[h.ACCOUNT_INIT,h.AUDIENCE_INIT,h.PIXEL_GET];j[i.NON_INIT_ERRORS]=[h.AUDIENCE_DELETE,h.AUDIENCE_UPDATE,h.AUDIENCE_ADD,h.AUDIENCE_GET,h.CAPABILITY_REMOVE,h.CAPABILITY_UPDATE];f.exports={Errors:h,ErrorTypes:i,ErrorTypeToErrors:j};}),null);
__d('AudienceManagerSavedTargetSpecUtils',[],(function a(b,c,d,e,f,g){var h=['AudienceEditor','LocationEditor','AgeEditor','GenderEditor','LanguagesEditor','AdvancedDemographicsDropdownEditor','SectionDivider','InterestsEditor','SectionDivider','BehaviorsEditor','SectionDivider','CategoriesEditor','ConnectionsEditor'],i=['AudienceEditor','LocationEditor','AgeEditor','GenderEditor','LanguagesEditor','AdvancedDemographicsDropdownEditor','SectionDivider','InterestsEditor','SectionDivider','BehaviorsEditor','SectionDivider','CategoriesEditor','ConnectionsEditor'],j=['TargetingSentences'],k={getDetailsViewConfiguration:function l(){var m=h.map(function(n){return {component:n};});return m;},getDialogLeftSideConfiguration:function l(){var m=i.map(function(n){return {component:n};});return m;},getDialogRightSideConfiguration:function l(){var m=j.map(function(n){return {component:n};});return m;},validateSpec:function l(m){var n=m.geo_locations||m.custom_audiences;return !!n;},toLegacy:function l(m){return babelHelpers['extends']({},m,{isSavedTargetSpec:true,targeting_sentence_lines:m.sentence_lines,target_spec:m.targeting,time_updated_timestamp:m.time_updated||0});}};f.exports=k;}),null);
__d('AdsAMAudienceStore',['invariant','AdsInterfacesLogger','AdsAMActionTypes','AdsAMAudienceGraphAPI','AdsAMAudienceUtils','AdsDispatcher','AdsLoadState','AdsSavedAudienceActionTypes','AdsSavedAudienceStore','AudienceManagerLoggingEvents','AudienceManagerSavedTargetSpecUtils','AudienceManagerUIConstants','AudiencePropertyConstants','AudienceManagerErrorTypes','FixedDataTableSortFunctions','FluxStore','ImmutableObject','adsBaseStoreMixin','adsGKCheck','performanceNow'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AudienceManagerErrorTypes').ErrorTypeToErrors,l=c('AudienceManagerUIConstants').SORT_ORDER;i=babelHelpers.inherits(m,c('FluxStore'));j=i&&i.prototype;function m(){j.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$AdsAMAudienceStoreClass5={};this.$AdsAMAudienceStoreClass6={customAudiences:[],savedTargetSpecs:[]};this.$AdsAMAudienceStoreClass11();this.$AdsAMAudienceStoreClass12();}m.prototype.$AdsAMAudienceStoreClass11=function(){this.$AdsAMAudienceStoreClass8=false;this.$AdsAMAudienceStoreClass4={};this.$AdsAMAudienceStoreClass10={sortOrder:l.DESC,sortKey:c('AudiencePropertyConstants').TIME_CREATED,compareFunction:c('FixedDataTableSortFunctions').compareNumber};};m.prototype.$AdsAMAudienceStoreClass12=function(){this.$AdsAMAudienceStoreClass7=false;this.$AdsAMAudienceStoreClass3={};this.$AdsAMAudienceStoreClass1={apps:{},state:c('AdsLoadState').NOT_LOADED};this.$AdsAMAudienceStoreClass2={dataSets:{},state:c('AdsLoadState').NOT_LOADED};};m.prototype.$AdsAMAudienceStoreClass13=function(o){o[c('AudiencePropertyConstants').NAME]=o.audience_name||o.name;if(!o[c('AudiencePropertyConstants').TIME_CREATED])o[c('AudiencePropertyConstants').TIME_CREATED]=o.time_updated_timestamp;};m.prototype.$AdsAMAudienceStoreClass14=function(o){(o||[]).forEach(function(p){var q=c('adsGKCheck')('can_account_see_time_content_updated');if(!q&&!c('AdsAMAudienceUtils').isAudienceCreatedFromFile(p))p.time_content_updated=null;if(c('AdsAMAudienceUtils').isSavedTargetSpec(p))this.$AdsAMAudienceStoreClass13(p);this.$AdsAMAudienceStoreClass4[p.id]=p;}.bind(this));};m.prototype.$AdsAMAudienceStoreClass15=function(o,p){this.$AdsAMAudienceStoreClass4[o]=babelHelpers['extends']({},this.$AdsAMAudienceStoreClass4[o],p);};m.prototype.$AdsAMAudienceStoreClass16=function(o,p){var q=this.$AdsAMAudienceStoreClass10.compareFunction(o[this.$AdsAMAudienceStoreClass10.sortKey],p[this.$AdsAMAudienceStoreClass10.sortKey]);return this.$AdsAMAudienceStoreClass10.sortOrder===l.ASC?q:-q;};m.prototype.getState=function(o){var p=this.$AdsAMAudienceStoreClass4[o];p||h(0);return new (c('ImmutableObject'))(p);};m.prototype.getStates=function(o){var p=o.map(function(q){var r=this.$AdsAMAudienceStoreClass4[q];r||h(0);return new (c('ImmutableObject'))(r);}.bind(this));return p;};m.prototype.getAllAudiences=function(){var o=[];for(var p in this.$AdsAMAudienceStoreClass4)o.push(new (c('ImmutableObject'))(this.$AdsAMAudienceStoreClass4[p]));o.sort(function(q,r){return this.$AdsAMAudienceStoreClass16(q,r);}.bind(this));return o;};m.prototype.getAdAccountApps=function(){if(this.$AdsAMAudienceStoreClass1.state===c('AdsLoadState').NOT_LOADED){this.$AdsAMAudienceStoreClass1.state=c('AdsLoadState').LOADING;c('AdsAMAudienceGraphAPI').loadAdAccountApps();}return this.$AdsAMAudienceStoreClass1.apps;};m.prototype.getAdAccountAppsIsLoaded=function(){return this.getAdAccountAppsLoadState()===c('AdsLoadState').LOADED;};m.prototype.getAdAccountAppsLoadState=function(){return this.$AdsAMAudienceStoreClass1.state;};m.prototype.getAdAccountDataSets=function(){if(this.$AdsAMAudienceStoreClass2.state===c('AdsLoadState').NOT_LOADED){this.$AdsAMAudienceStoreClass2.state=c('AdsLoadState').LOADING;c('AdsAMAudienceGraphAPI').loadAdAccountDataSets();}return this.$AdsAMAudienceStoreClass2.dataSets;};m.prototype.getAdAccountDataSetsLoadState=function(){return this.$AdsAMAudienceStoreClass2.state;};m.prototype.hasAllContent=function(){return this.$AdsAMAudienceStoreClass8&&this.$AdsAMAudienceStoreClass7;};m.prototype.hasError=function(o){return !!this.$AdsAMAudienceStoreClass5[o];};m.prototype.getErrorsByType=function(o){var p=[],q=k[o]||[];for(var r=0;r<q.length;r++)if(this.$AdsAMAudienceStoreClass5[q[r]])p.push(this.$AdsAMAudienceStoreClass5[q[r]]);return p;};m.prototype.getAccount=function(){return new (c('ImmutableObject'))(this.$AdsAMAudienceStoreClass3);};m.prototype.getSortState=function(){return this.$AdsAMAudienceStoreClass10;};m.prototype.getCustomAudiencesFromBuffer=function(){return this.$AdsAMAudienceStoreClass6.customAudiences;};m.prototype.getSavedTargetSpecFromBuffer=function(){return this.$AdsAMAudienceStoreClass6.savedTargetSpecs;};m.prototype.$AdsAMAudienceStoreClass17=function(o){var p=c('AdsSavedAudienceStore').getAll(o);p.forEach(function(q){q=c('AudienceManagerSavedTargetSpecUtils').toLegacy(q);q.isSavedAudience=true;this.$AdsAMAudienceStoreClass15(q.id,q);}.bind(this));};m.prototype.$AdsAMAudienceStoreClass18=function(o){o.forEach(function(p){this.$AdsAMAudienceStoreClass1.apps[p.id]=new (c('ImmutableObject'))(p);}.bind(this));this.$AdsAMAudienceStoreClass1.state=c('AdsLoadState').LOADED;};m.prototype.$AdsAMAudienceStoreClass19=function(o){o.forEach(function(p){this.$AdsAMAudienceStoreClass2.dataSets[p.id]=new (c('ImmutableObject'))(p);}.bind(this));this.$AdsAMAudienceStoreClass2.state=c('AdsLoadState').LOADED;};m.prototype.__onDispatch=function(o){var p=o.action,q=false;switch(p.actionType){case c('AdsAMActionTypes').AM_START_LOADING:this.$AdsAMAudienceStoreClass9=p.startLoadingTime;c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_START_LOADING},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case c('AdsAMActionTypes').ACCOUNT_INIT:this.$AdsAMAudienceStoreClass12();this.$AdsAMAudienceStoreClass3=p.account;this.$AdsAMAudienceStoreClass7=true;q=true;c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_ACCOUNT_LOADED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case c('AdsAMActionTypes').ACCOUNT_ACCEPTED_TOS_ADD:this.$AdsAMAudienceStoreClass3.tos_accepted=this.$AdsAMAudienceStoreClass3.tos_accepted?this.$AdsAMAudienceStoreClass3.tos_accepted:Object();this.$AdsAMAudienceStoreClass3.tos_accepted=Object.assign({},this.$AdsAMAudienceStoreClass3.tos_accepted,p.addedTOS);q=true;break;case c('AdsAMActionTypes').AUDIENCE_INIT:this.$AdsAMAudienceStoreClass11();this.$AdsAMAudienceStoreClass14(p.audiences);this.$AdsAMAudienceStoreClass8=true;q=true;c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_AUDIENCE_LOADED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case c('AdsAMActionTypes').AUDIENCE_ADD:this.$AdsAMAudienceStoreClass14([p.audience]);q=true;break;case c('AdsAMActionTypes').AUDIENCE_BULK_ADD:this.$AdsAMAudienceStoreClass14(p.audiences);q=true;break;case c('AdsAMActionTypes').AUDIENCE_DELETE:delete this.$AdsAMAudienceStoreClass4[p.audience.id];q=true;this.$AdsAMAudienceStoreClass8=true;break;case c('AdsAMActionTypes').AUDIENCE_DELETE_START:this.$AdsAMAudienceStoreClass8=false;q=true;break;case c('AdsAMActionTypes').AUDIENCE_DETAILS_DELETE_AUDIENCE_ERROR:this.$AdsAMAudienceStoreClass8=true;q=true;break;case c('AdsAMActionTypes').AUDIENCE_BULK_DELETE:p.audiences.forEach(function(s){delete this.$AdsAMAudienceStoreClass4[s.id];}.bind(this));q=true;break;case c('AdsAMActionTypes').AUDIENCE_CHANGE:case c('AdsAMActionTypes').AUDIENCE_DETAILS_UPDATE_AUDIENCE:this.$AdsAMAudienceStoreClass15(p.audienceID,p.changedProperties);q=true;break;case c('AdsAMActionTypes').AUDIENCE_SAVE_TO_CA_BUFFER:this.$AdsAMAudienceStoreClass6.customAudiences=p.audiences;break;case c('AdsAMActionTypes').AUDIENCE_SAVE_TO_STS_BUFFER:this.$AdsAMAudienceStoreClass6.savedTargetSpecs=p.audiences;break;case c('AdsAMActionTypes').AUDIENCE_SORT:this.$AdsAMAudienceStoreClass10.sortOrder=p.sortOrder;this.$AdsAMAudienceStoreClass10.sortKey=p.sortKey;this.$AdsAMAudienceStoreClass10.compareFunction=p.compareFunction;q=true;break;case c('AdsAMActionTypes').ERROR:this.$AdsAMAudienceStoreClass5[p.error]=p.rawData.error;q=true;break;case c('AdsAMActionTypes').VIEW_CLEAR_ERRORS:this.$AdsAMAudienceStoreClass5={};q=true;break;case c('AdsAMActionTypes').RECEIVE_AD_ACCOUNT_APPS:this.$AdsAMAudienceStoreClass18(p.apps);q=true;break;case c('AdsAMActionTypes').RECEIVE_AD_ACCOUNT_DATA_SETS:this.$AdsAMAudienceStoreClass19(p.dataSets);q=true;break;case c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.BATCH_DELETED:p.savedAudienceIDs.forEach(function(s){delete this.$AdsAMAudienceStoreClass4[s];}.bind(this));q=true;break;case c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.BATCH_LOADED:c('AdsDispatcher').waitFor([c('AdsSavedAudienceStore').getDispatchToken()]);var r=Array.from(p.savedAudiences.keys());this.$AdsAMAudienceStoreClass17(r);q=true;break;case c('AdsAMActionTypes').VIEW_UPDATE_FILTERING_STATE:if(p.isFiltering)this.$AdsAMAudienceStoreClass8=false;break;}if(q)this.__emitChange();};var n=new m();f.exports=n;}),null);
__d('AdsAMViewStore',['AdsAMActionTypes','AdsDispatcher','Arbiter','ImmutableObject','StrSet','getByPath'],(function a(b,c,d,e,f,g){'use strict';var h=void 0,i=void 0,j=void 0,k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0,r=void 0,s=void 0;function t(){i={showCreateCustomAudienceDialog:false,showDeleteDialog:false,showPixelDialog:false,showRegularEditDialog:false,showSavedAudienceEditDialog:false,showSavedAudienceCreateDialog:false,showWCADialog:false,showMACADialog:false,showShareDialog:false,showUnshareDialog:false,showLookalikeDialog:false,showSavedTargetSpecDialog:false,showBulkDeleteDialog:false,showOptOutDialog:false,showFilterPane:false};h=null;j=null;k=null;l=null;m=null;n={name:true,type:true,source:true,size:true,status:true,dateCreated:true,audienceID:false,sharing:true,debug:true};o=false;p=false;q=null;r=false;s=new (c('StrSet'))();}t();var u=Object.assign(new (c('Arbiter'))(),{getViewState:function v(){return new (c('ImmutableObject'))(i);},getAudienceIdClicked:function v(){return j;},hasFilterContent:function v(){return r;},getNameFilter:function v(){return k?k.name:null;},setNameFilter:function v(w){r=true;k=k||{};k.name=w;},setFilterSet:function v(w){q=w;},getAutoLaunch:function v(){return h;},getCustomAudienceAfterCursor:function v(){return l;},getSavedTargetSpecAfterCursor:function v(){return m;},getColumnsShown:function v(){if(!n.name)n.name=true;return n;},getFilterSet:function v(){return q;},getSelectedAudienceIDs:function v(){return s.toArray();},isFiltering:function v(){return o;},isLoadingMoreAudiences:function v(){return p;},dispatchToken:c('AdsDispatcher').register(function(v){var w=v.action,x=true;switch(w.actionType){case c('AdsAMActionTypes').VIEW_SHOW_CREATE_CA_DIALOG:i.showCreateCustomAudienceDialog=true;break;case c('AdsAMActionTypes').VIEW_SHOW_VALUE_BASED_CA_DIALOG:i.showCreateCustomAudienceDialog=true;h=w.autoLaunch;break;case c('AdsAMActionTypes').VIEW_CLOSE_CREATE_CA_DIALOG:i.showCreateCustomAudienceDialog=false;h=null;break;case c('AdsAMActionTypes').VIEW_SHOW_DELETE_AUDIENCE_DIALOG:i.showDeleteDialog=true;j=w.audienceId;break;case c('AdsAMActionTypes').VIEW_CLOSE_DELETE_AUDIENCE_DIALOG:i.showDeleteDialog=false;j=null;break;case c('AdsAMActionTypes').VIEW_SHOW_PIXEL_DIALOG:i.showPixelDialog=true;j=w.audienceId;break;case c('AdsAMActionTypes').VIEW_CLOSE_PIXEL_DIALOG:i.showPixelDialog=false;break;case c('AdsAMActionTypes').VIEW_SHOW_REGULAR_EDIT_DIALOG:i.showRegularEditDialog=true;j=w.audienceId;break;case c('AdsAMActionTypes').VIEW_CLOSE_REGULAR_EDIT_DIALOG:i.showRegularEditDialog=false;j=null;break;case c('AdsAMActionTypes').VIEW_SHOW_WCA_DIALOG:i.showWCADialog=true;j=w.audienceId;break;case c('AdsAMActionTypes').VIEW_CLOSE_WCA_DIALOG:i.showWCADialog=false;j=null;break;case c('AdsAMActionTypes').VIEW_SHOW_MACA_DIALOG:i.showMACADialog=true;break;case c('AdsAMActionTypes').VIEW_CLOSE_MACA_DIALOG:i.showMACADialog=false;break;case c('AdsAMActionTypes').VIEW_SHOW_BULK_SHARE_AUDIENCE_DIALOG:i.showShareDialog=true;break;case c('AdsAMActionTypes').VIEW_SHOW_SHARE_AUDIENCE_DIALOG:i.showShareDialog=true;j=w.audienceId;break;case c('AdsAMActionTypes').VIEW_CLOSE_SHARE_AUDIENCE_DIALOG:i.showShareDialog=false;j=null;break;case c('AdsAMActionTypes').VIEW_SHOW_UNSHARE_AUDIENCE_DIALOG:i.showUnshareDialog=true;j=w.audienceId;break;case c('AdsAMActionTypes').VIEW_CLOSE_UNSHARE_AUDIENCE_DIALOG:i.showUnshareDialog=false;j=null;break;case c('AdsAMActionTypes').VIEW_SHOW_LOOKALIKE_DIALOG:i.showLookalikeDialog=true;j=w.audienceId;break;case c('AdsAMActionTypes').VIEW_CLOSE_LOOKALIKE_DIALOG:i.showLookalikeDialog=false;j=null;break;case c('AdsAMActionTypes').VIEW_SHOW_SAVED_AUDIENCE_EDIT_DIALOG:i.showSavedAudienceEditDialog=true;j=w.audienceId;break;case c('AdsAMActionTypes').VIEW_CLOSE_SAVED_AUDIENCE_EDIT_DIALOG:i.showSavedAudienceEditDialog=false;break;case c('AdsAMActionTypes').VIEW_SHOW_SAVED_AUDIENCE_CREATE_DIALOG:i.showSavedAudienceCreateDialog=true;break;case c('AdsAMActionTypes').VIEW_CLOSE_SAVED_AUDIENCE_CREATE_DIALOG:i.showSavedAudienceCreateDialog=false;break;case c('AdsAMActionTypes').VIEW_SHOW_SAVED_TARGET_SPEC_DIALOG:i.showSavedTargetSpecDialog=true;j=w.audienceId;break;case c('AdsAMActionTypes').VIEW_CLOSE_SAVED_TARGET_SPEC_DIALOG:i.showSavedTargetSpecDialog=false;j=null;break;case c('AdsAMActionTypes').VIEW_SHOW_BULK_DELETE_DIALOG:i.showBulkDeleteDialog=true;break;case c('AdsAMActionTypes').VIEW_CLOSE_BULK_DELETE_DIALOG:i.showBulkDeleteDialog=false;break;case c('AdsAMActionTypes').VIEW_CLOSE_BULK_DELETE_DIALOG_AND_CLEAR_SELECTION:i.showBulkDeleteDialog=false;s=new (c('StrSet'))();break;case c('AdsAMActionTypes').VIEW_SHOW_OPT_OUT_DIALOG:i.showOptOutDialog=true;j=w.audienceId;break;case c('AdsAMActionTypes').VIEW_CLOSE_OPT_OUT_DIALOG:i.showOptOutDialog=false;j=null;break;case c('AdsAMActionTypes').AUDIENCE_DELETE:s.remove(w.audience.id);x=true;break;case c('AdsAMActionTypes').VIEW_CUSTOM_AUDIENCE_CURSOR_CHANGE:if(c('getByPath')(w,['paging','cursors','after'])){l=c('getByPath')(w,['paging','cursors','after']);}else l=null;x=false;break;case c('AdsAMActionTypes').VIEW_SAVED_TARGET_SPEC_CURSOR_CHANGE:if(c('getByPath')(w,['paging','cursors','after'])){m=c('getByPath')(w,['paging','cursors','after']);}else m=null;x=false;break;case c('AdsAMActionTypes').VIEW_INIT_COLUMN_DISPLAY:n=w.columnsShown;x=false;break;case c('AdsAMActionTypes').VIEW_COLUMN_DISPLAY_CHANGE:n[w.column]=w.show;break;case c('AdsAMActionTypes').VIEW_SHOW_FILTER_PANE:i.showFilterPane=true;break;case c('AdsAMActionTypes').VIEW_HIDE_FILTER_PANE:i.showFilterPane=false;break;case c('AdsAMActionTypes').VIEW_UPDATE_FILTER_SET:r=true;break;case c('AdsAMActionTypes').VIEW_UPDATE_FILTERING_STATE:o=w.isFiltering;break;case c('AdsAMActionTypes').VIEW_UPDATE_LOADING_MORE_AUDIENCES:p=w.isLoadingMoreAudiences;break;case c('AdsAMActionTypes').VIEW_CLICK_AUDIENCE_CHECKBOX:if(w.selected){s.add(w.audienceID);}else s.remove(w.audienceID);break;case c('AdsAMActionTypes').VIEW_CLEAR_AUDIENCE_SELECTION:s=new (c('StrSet'))();break;default:x=false;break;}if(x)u.inform('change');})});f.exports=u;}),null);
__d('AdsAudienceDeliveryStatusUtils',['fbt','CustomAudienceDeliveryStatus'],(function a(b,c,d,e,f,g,h){var i={};i[c('CustomAudienceDeliveryStatus').ACTIVE]=h._("Ready");i[c('CustomAudienceDeliveryStatus').INACTIVE]=h._("Not Ready");var j=function n(o){return i[o]?i[o]:h._("Error");},k=function n(o){return o!==c('CustomAudienceDeliveryStatus').ACTIVE&&o!==c('CustomAudienceDeliveryStatus').INACTIVE;},l=function n(o){return o===c('CustomAudienceDeliveryStatus').ACTIVE;},m=function n(o){return o===c('CustomAudienceDeliveryStatus').INACTIVE;};f.exports={textByStatus:j,isError:k,isActive:l,isInactive:m};}),null);
__d('AdInterfacesAppNames',[],(function a(b,c,d,e,f,g){f.exports={ATLAS:'atlas',AUDIENCE_INSIGHTS:'audience-insights',AUDIENCE_MANAGER_CM:'ads-audiencesmanager-cm',AUDIENCE_MANAGER_V3:'ads-audiencesmanager',AUDIENCE_MANAGER:'ads-customaudiencesmanager',AUDIENCE_NETWORK_DIRECT:'audience_network_direct',AUDIENCE_PLATFORM:'audience-platform',BOOSTED_POSTS:'ads-boostedposts',BUSINESS_MANAGER:'business-manager',CAMPAIGN_MANAGER:'ads-campaign-manager',CONVERSION_TRACKING:'ads-conversion-tracking',CREATE_FLOW:'ads-adscreator',LIGHTWEIGHT_INTERFACES:'ads-lightweight-interfaces',MODULAR_TARGETING_COMPONENT:'modular_targeting_component',POWER_EDITOR:'ads-powereditor',UI_COMPONENT_EXPLORER:'intern-ui-component-explorer'};}),null);
__d('AdsPixelAndAudienceContextUtils',['BusinessURI.brands','Link.react','React','URI','XAdsManagerPixelsController'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes;function i(r){var s=r.audienceID?new (c('BusinessURI.brands'))('/ads/manager/audiences/detail'):new (c('URI'))('/ads/audience_manager/'),t=babelHelpers['extends']({act:r.accountID,no_redirect:new (c('URI'))(window.location.href).getQueryData().no_redirect},{});if(r.audienceID)t.audience_id=r.audienceID;return s.addQueryData(t);}function j(r){var s=new (c('URI'))(window.location.href).getQueryData().no_redirect;if(s)r.setBool('no_redirect',s?true:false);return r.getURI();}function k(){return {appLink:h.any.isRequired,interfaceAppName:h.string,getPixelDetailURI:h.func.isRequired,getDataSourceURI:h.func.isRequired,getAudienceURI:h.func.isRequired};}function l(r){var s=c('XAdsManagerPixelsController').getURIBuilder().setInt('act',r.accountID).setInt('pixel_id',r.pixelID).setInt('business_id',r.businessID);return j(s);}function m(r){var s=c('XAdsManagerPixelsController').getURIBuilder().setInt('act',r.accountID);return j(s);}function n(){return {appLink:c('Link.react'),getPixelDetailURI:function r(s){return l(s);},getDataSourceURI:function r(s){return m(s);},getAudienceURI:function r(s){return i(s);}};}var o={childContextTypes:k(),getChildContext:n,render:function r(){return c('React').Children.only(this.props.children);}},p=c('React').createClass(o),q={getContextTypes:k,getDefaultChildContext:n,AdsPixelDefaultContextProvider:p,getAudienceURI:i};f.exports=q;}),null);
__d('AudienceManagerAppRemarketingOperatorConfig',[],(function a(b,c,d,e,f,g){var h=[{value:'eq',text:'is equal to'},{value:'neq',text:'is not equal to'},{value:'lt',text:'is less than'},{value:'gt',text:'is greater than'},{value:'gte',text:'is greater than or equals'},{value:'lte',text:'is less than or equals'},{value:'is_any',text:'is any of'},{value:'is_not_any',text:'is not any of'},{value:'contains',text:'contains substring'},{value:'not_contains',text:'does not contain substring'}];g.operators=h;g.labels={eq:'=',neq:'!=',lt:'<',gt:'>',gte:'>=',lte:'<=',is_any:'any',is_not_any:'not any',contains:'cont.',not_contains:'not cont.'};g.isArray={is_any:true,is_not_any:true};g.getLabelForOperator=function(i){for(var j=0;j<h.length;++j)if(h[j].value===i)return h[j].text;};g.defaultValue='eq';}),null);
__d('MobileAppSegmentRuleDescriptionView.react',['cx','BonsaiAppEventTypesUtils','FalcorSegmentRuleUtils','FalcorSegmentTextUtils','InsightsGraphAPI','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'MobileAppSegmentRuleDescriptionView',propTypes:{appID:i.string.isRequired,audience:i.object.isRequired,isInclusion:i.bool.isRequired},getInitialState:function k(){return {typesLoaded:false};},componentWillMount:function k(){c('InsightsGraphAPI').setInsightsObjectID(this.props.appID);c('BonsaiAppEventTypesUtils').forceInit().done(function(){if(this.isMounted())this.setState({typesLoaded:true});}.bind(this));},render:function k(){if(!this.state.typesLoaded)return null;var l=JSON.parse(this.props.audience.rule),m=l._segmentRule.description,n=c('FalcorSegmentRuleUtils').parseSerializedDescription(m),o=this.props.isInclusion?"_3-8x":null;return (c('React').createElement('div',{className:o},c('React').createElement('ul',{className:"_5o5f"},n.map(function(p,q){if(!this.props.isInclusion)p.negate_rule=true;var r=c('FalcorSegmentTextUtils').getTokenLabel(p);return (c('React').createElement('li',{key:'segmentRule_'+q},r));}.bind(this)))));}});f.exports=j;}),null);
__d('MobileAppCombinationRuleDescriptionView.react',['cx','fbt','AppCustomEventType','AudienceManagerAppRemarketingOperatorConfig','BonsaiText','LoadingIndicator.react','MobileAppSegmentRuleDescriptionView.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('React').createClass({displayName:'MobileAppCombinationRuleDescriptionView',propTypes:{audience:j.object.isRequired,dao:j.object.isRequired},getInitialState:function l(){return {dataReady:false,appInfo:null,appEventTypes:null};},componentDidMount:function l(){this._updateAppInfo(this.props);},componentWillReceiveProps:function l(m){this._updateAppInfo(m);},render:function l(){if(!this.state.dataReady)return c('React').createElement(c('LoadingIndicator.react'),{color:'blue',size:'small'});var m=this.props.audience,n=[],o=[];if(m.included_custom_audiences){m.included_custom_audiences.forEach(function(p){n.push(this._renderSubAudience(p,true));}.bind(this));}else n.push(this._renderSubAudience(m,true));if(m.excluded_custom_audiences)m.excluded_custom_audiences.forEach(function(p){o.push(this._renderSubAudience(p,false));}.bind(this));return (c('React').createElement('div',null,c('React').createElement('div',null,i._("From application: {appName}",[i.param('appName',c('React').createElement('span',{className:"_5wb_"},this.state.appInfo.name))])),n,o,this._renderSegmentRetention(this.props.audience)));},_renderSubAudience:function l(m,n){var o=m.retention_days,p=this._decodeRule(m.rule);if(p._segmentRule)return (c('React').createElement(c('MobileAppSegmentRuleDescriptionView.react'),{appID:p._application,audience:m,isInclusion:n,key:p._application}));var q=this.state.appEventTypes||[],r=q.filter(function(event){return event.event_name===p._eventName;})[0],s=r.parameters||[],t=r.display_name||p._eventName,u=n?i._("Action taken: {action name}",[i.param('action name',c('React').createElement('span',{className:"_5wb_"},t))]):i._("Action not taken: {action name}",[i.param('action name',c('React').createElement('span',{className:"_5wb_"},t))]),v=[];this._extractParameters(v,p);return (c('React').createElement('div',{className:'mtm',key:'subAudience_'+String(n)},c('React').createElement('div',null,u),c('React').createElement('ul',{className:"_5o5f"},v.map(function(w,x){var y=s.filter(function(ca){return ca.parameter_name===w.key;})[0],z=y&&y.display_name||w.key,aa=w.label,ba=w.value;if(typeof aa==='object'||typeof ba==='object')return null;return (c('React').createElement('li',{key:w.key+x.toString()},z,' ',aa,' ',ba));})),this._getCumulativeRuleSentence(p),this._getClientFilters(p),c('React').createElement('div',null,this._renderRetentionDaysSentence(o))));},_decodeRule:function l(m){var n=void 0;try{n=JSON.parse(m);}catch(o){n={};}return n;},_updateAppInfo:function l(m){var n=void 0;if(m.audience.included_custom_audiences){n=m.audience.included_custom_audiences[0].rule;}else n=m.audience.rule;if(!n)return;var o=this._decodeRule(n)._application;if(!o)return;this.props.dao.fetch.objectByFBID.one(function(p){if(!this.isMounted())return;this.setState({appInfo:p,dataReady:this.state.appEventTypes&&p});}.bind(this),{fbid:o,fields:['name']});this.props.dao.fetch.appEventTypesForApp.one(function(p){if(!this.isMounted())return;this.setState({appEventTypes:p,dataReady:p&&this.state.appInfo});}.bind(this),{fbid:o});this.setState(this.getInitialState());},_extractParameters:function l(m,n){var o=n;if(Array.isArray(o)){o.forEach(this._extractParameters.bind(this,m));return;}Object.keys(o).forEach(function(p){if(p==='and'){m=m.concat(this._extractParameters(m,o[p]));return;}else if(p==='_cumulativeRule'){return;}else if(p==='_clientFilters')return;var q=o[p];if(typeof q!=='object')return;var r=Object.keys(q)[0],s=q[r];if(Array.isArray(s))s=s.join(', ');m.push({key:p,value:s,label:c('AudienceManagerAppRemarketingOperatorConfig').getLabelForOperator(r)});},this);},_getCumulativeRuleSentence:function l(m){if(!m._cumulativeRule)return null;var n=null,o=100-m._cumulativeRule.technique.lower_bound;if(m._cumulativeRule.metric==='count'){n=i._("Top {percentage} by actions taken",[i.param('percentage',o+'%')]);}else if(m._eventName===c('AppCustomEventType').FB_MOBILE_PURCHASE){n=i._("Top {percentage} by money spent",[i.param('percentage',o+'%')]);}else n=i._("Top {percentage} by action value",[i.param('percentage',o+'%')]);return (c('React').createElement('div',null,n));},_getClientFilters:function l(m){if(!m._clientFilters)return null;var n=m._clientFilters.map(function(o){return c('BonsaiText').breakdown.client[o];});return (c('React').createElement('div',null,i._("Platforms:"),' ',n.join(', ')));},_renderRetentionDaysSentence:function l(m){var n=null;if(m===1){n=i._("Over the last 24 hours.");}else n=i._({"*":"Over the last {retention_days} days."},[i.param('retention_days',m,[0])]);return n;},_isSegmentAudience:function l(m){if(!m.rule)return false;var n=this._decodeRule(m.rule);return !!n._segmentRule;},_renderSegmentRetention:function l(m){var n=false;if(m.included_custom_audiences){n=m.included_custom_audiences.some(function(o){return this._isSegmentAudience(o);}.bind(this));m=m.included_custom_audiences[0];}else n=this._isSegmentAudience(m);if(!n)return null;return (c('React').createElement('div',null,this._renderRetentionDaysSentence(m.retention_days)));}});f.exports=k;}),null);
__d('WebsiteCustomAudienceDeviceTypes',['fbt','AdsPixelDeviceTypes'],(function a(b,c,d,e,f,g,h){'use strict';var i={ALL:{label:h._("All"),value:'all'},MOBILE:{label:h._("Mobile"),value:'mobile'},DESKTOP:{label:h._("Desktop"),value:'desktop',subtypes:[c('AdsPixelDeviceTypes').DESKTOP]},ALL_MOBILE:{label:h._("All mobile devices"),value:'all_mobile',subtypes:[c('AdsPixelDeviceTypes').MOBILE_ANDROID_PHONE,c('AdsPixelDeviceTypes').MOBILE_ANDROID_TABLET,c('AdsPixelDeviceTypes').MOBILE_IPAD,c('AdsPixelDeviceTypes').MOBILE_IPHONE,c('AdsPixelDeviceTypes').MOBILE_IPOD,c('AdsPixelDeviceTypes').MOBILE_PHONE,c('AdsPixelDeviceTypes').MOBILE_TABLET,c('AdsPixelDeviceTypes').MOBILE_WINDOWS_PHONE]},ANDROID:{label:h._("Android devices only"),value:'android',subtypes:[c('AdsPixelDeviceTypes').MOBILE_ANDROID_PHONE,c('AdsPixelDeviceTypes').MOBILE_ANDROID_TABLET]},IOS:{label:h._("iOS devices only"),value:'ios',subtypes:[c('AdsPixelDeviceTypes').MOBILE_IPAD,c('AdsPixelDeviceTypes').MOBILE_IPHONE,c('AdsPixelDeviceTypes').MOBILE_IPOD]},OTHER_MOBILE:{label:h._("Other mobile devices"),value:'other_mobile',subtypes:[c('AdsPixelDeviceTypes').MOBILE_PHONE,c('AdsPixelDeviceTypes').MOBILE_TABLET,c('AdsPixelDeviceTypes').MOBILE_WINDOWS_PHONE]}},j=function l(m){return Object.keys(i).reduce(function(n,o){return (i[o].value===m?i[o].subtypes:n);},null);},k=function l(m){return Object.keys(i).reduce(function(n,o){return (i[o].value===m?i[o].label:n);},null);};f.exports={DeviceTypes:i,getPixelDeviceTypes:j,getDeviceText:k};}),null);
__d('WebsiteCustomAudienceAggregationFunctions',[],(function a(b,c,d,e,f,g){'use strict';var h={COUNT:'count',SUM:'sum',AVG:'avg',MAX:'max',MIN:'min',TIME_SPENT:'time_spent'};f.exports=h;}),null);
__d('WebsiteCustomAudienceOperators',['fbt','WebsiteCustomAudienceAggregationFunctions'],(function a(b,c,d,e,f,g,h){'use strict';var i={EQ:{value:'eq',label:'=',isNumeric:false},NEQ:{value:'neq',label:'\u2260',isNumeric:false},LT:{value:'lt',label:'<',isNumeric:true},GT:{value:'gt',label:'>',isNumeric:true},GTE:{value:'gte',label:'\u2265',isNumeric:true},LTE:{value:'lte',label:'\u2264',isNumeric:true},CONTAINS:{value:'i_contains',label:h._("contains"),isNumeric:false},NOT_CONTAINS:{value:'i_not_contains',label:h._("doesn't contain"),isNumeric:false}},j={EQ:{value:'eq',label:h._("Equals"),isNumeric:false},CONTAINS:{value:'i_contains',label:h._("Contains"),isNumeric:false}},k={EQ:{value:'eq',label:h._("URL equals"),isNumeric:false},CONTAINS:{value:'i_contains',label:h._("URL contains"),isNumeric:false},NOT_CONTAINS:{value:'i_not_contains',label:h._("URL does not contain"),isNumeric:false},REGEX_MATCH:{value:'regex_match',label:h._("URL matches regular expression"),isNumeric:false}},l={IS:{value:'is',label:h._("is"),isNumeric:false}},m={SUM:{value:c('WebsiteCustomAudienceAggregationFunctions').SUM,label:h._("sum is"),isNumeric:true},AVG:{value:c('WebsiteCustomAudienceAggregationFunctions').AVG,label:h._("average is"),isNumeric:true},MIN:{value:c('WebsiteCustomAudienceAggregationFunctions').MIN,label:h._("minimum is"),isNumeric:true},MAX:{value:c('WebsiteCustomAudienceAggregationFunctions').MAX,label:h._("maximum is"),isNumeric:true}},n={'=':i.EQ.value,'!=':i.NEQ.value,'<':i.LT.value,'>':i.GT.value,'>=':i.GTE.value,'<=':i.LTE.value},o=function r(s){return (s===i.CONTAINS.value||s===i.NOT_CONTAINS.value);},p=function r(s){return Object.keys(m).some(function(t){return m[t].value===s;},s);},q=function r(s){return Object.keys(n).reduce(function(t,u){return n[u]===s?u:t;},null);};f.exports={GenericOperators:i,SimpleOperators:j,URLOperators:k,Placeholder:l,AggregationOperators:m,OperatorMapping:n,isContainsOperator:o,isAggregationOperator:p,getMathOperator:q};}),null);
__d('WebsiteCustomAudiencePercentileOptions',['fbt'],(function a(b,c,d,e,f,g,h){'use strict';var i={TOP_5:{label:h._("Top 5\u0025"),value:'top_5',boundaries:{upperBound:100,lowerBound:95}},TOP_10:{label:h._("Top 10\u0025"),value:'top_10',boundaries:{upperBound:100,lowerBound:90}},TOP_25:{label:h._("Top 25\u0025"),value:'top_25',boundaries:{upperBound:100,lowerBound:75}},TOP_50:{label:h._("Top 50\u0025"),value:'top_50',boundaries:{upperBound:100,lowerBound:50}}};f.exports=i;}),null);
__d('WebsiteCustomAudiencePercentileUtils',['WebsiteCustomAudiencePercentileOptions'],(function a(b,c,d,e,f,g){'use strict';var h=function j(k){return (Object.keys(c('WebsiteCustomAudiencePercentileOptions')).reduce(function(l,m){return (c('WebsiteCustomAudiencePercentileOptions')[m].value===k?c('WebsiteCustomAudiencePercentileOptions')[m].boundaries:l);},null));},i=function j(k,l){k=k?k:100;l=l?l:0;return Object.keys(c('WebsiteCustomAudiencePercentileOptions')).reduce(function(m,n){return c('WebsiteCustomAudiencePercentileOptions')[n].boundaries.upperBound===k&&c('WebsiteCustomAudiencePercentileOptions')[n].boundaries.lowerBound===l?c('WebsiteCustomAudiencePercentileOptions')[n].value:m;},null);};f.exports={getPercentileBoundaries:h,getPercentileOption:i};}),null);
__d('WebsiteCustomAudienceModel',['invariant','isEmpty','WebsiteCustomAudienceTrafficType','WebsiteCustomAudienceAggregationFunctions','WebsiteCustomAudienceDeviceTypes','WebsiteCustomAudienceOperators','WebsiteCustomAudiencePercentileUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('WebsiteCustomAudienceOperators').GenericOperators,j=c('WebsiteCustomAudienceOperators').URLOperators,k=c('WebsiteCustomAudienceOperators').OperatorMapping,l=c('WebsiteCustomAudienceOperators').getMathOperator,m=c('WebsiteCustomAudienceOperators').isAggregationOperator,n=c('WebsiteCustomAudienceDeviceTypes').DeviceTypes,o=c('WebsiteCustomAudienceDeviceTypes').getPixelDeviceTypes,p=function w(){this.id=null;this.name='';this.description='';this.inclusion_rules=[new s()];this.exclusion_rules=[new s()];this.duration=30;this.trafficType=c('WebsiteCustomAudienceTrafficType').ALL_WEBSITE_VISITORS;this.isRuleEditable=true;this.device=n.ALL.value;},q=0;function r(){this.key=q++;this.filter=i.CONTAINS.value;this.tokens=[];this.customfield=null;this.aggregationType=null;}function s(){this.key=q++;this.scope='url';this.clauses=[new r()];this.event=null;this.id=null;this.duration=30;this.aggregation=new t();}function t(){this.key=q++;this.type=c('WebsiteCustomAudienceAggregationFunctions').COUNT;this.operator=i.GTE.value;this.customfield=null;this.value=1;}var u={getAllVisitors:function w(){var x=new s();x.clauses[0].tokens.push('');return x;},getDeprecatedAllVisitors:function w(){var x=new s();x.clauses[0].tokens.push('/');return x;},getTimeSpentPercentile:function w(x,y){var z=v.validateRule(x)?x:u.getAllVisitors(),aa=c('WebsiteCustomAudiencePercentileUtils').getPercentileBoundaries(y);if(!aa)return {rule:z,aggregation:null};var ba={type:c('WebsiteCustomAudienceAggregationFunctions').TIME_SPENT,method:'percentile',upper_bound:aa.upperBound,lower_bound:aa.lowerBound};return {rule:z,aggregation:ba};},isDeprecatedAllVisitors:function w(x){return x===v.serializeRule(u.getDeprecatedAllVisitors());},isAllVisitors:function w(x){return u.isDeprecatedAllVisitors(x)||v.serializeRule(u.getAllVisitors())===x;},isTimeSpentPercentile:function w(x){if(!x.rule||!x.rule_aggregation)return false;var y=v.deserializeRule(x.rule);if(!y||y.scope!=='url'||!Array.isArray(y.clauses)||y.clauses.length!==1||y.clauses[0].filter!==i.CONTAINS.value)return false;var z=JSON.parse(x.rule_aggregation);if(z.type!==c('WebsiteCustomAudienceAggregationFunctions').TIME_SPENT||z.method!=='percentile'||!c('WebsiteCustomAudiencePercentileUtils').getPercentileOption(z.upper_bound,z.lower_bound))return false;return true;}},v={isEventBasedRule:function w(x){return x.scope==='event';},migrateAtomicRule:function w(x){if(c('isEmpty')(x))return null;var y=Object.keys(x)[0];if(y.toLowerCase()==='domain'||y.toLowerCase()==='path')if(Object.keys(x)[0]=='i_not_contains'){return null;}else{x.url=x[y];y='url';}if(y.toLowerCase()!='url')return null;var z=x[y],aa=Object.keys(z)[0],ba=z[aa];if(!v._containsOperator(j,aa))return null;return {scope:y,operator:aa,token:ba};},migrateRule:function w(x){var y=new s(),z;if(v._isAtomic(x)){return this.migrateAtomicRule(x);}else if(x.and){for(var aa=0;aa<x.and.length;aa++){var ba=x.and[aa];if(v._isAtomic(ba))ba={or:[ba]};z=this.migrateRule(ba);if(!z)return null;v._updateRuleClauseWithOrParse(z,y);}y.clauses=y.clauses.filter(function(ga){return (v.validateRuleClauseWhenDeserialize(y,ga));});}else if(x.or){var ca=[],da=null,ea=null;for(var fa=0;fa<x.or.length;fa++){if(!v._isAtomic(x.or[fa]))return null;z=this.migrateAtomicRule(x.or[fa]);if(!z)return null;if(!da){da=z.scope;}else if(da!==z.scope)return null;ea=z.operator;ca.push(z.token);}return {tokens:ca,scope:da,filter:ea};}if(v.isEventBasedRule(y)&&y.clauses.length===0)y.clauses=[new r()];return y;},validateRule:function w(x){var y=x.clauses.filter(function(z){return v.validateRuleClause(x,z);});if(v.isEventBasedRule(x)){if(!x.event)return false;if(x.clauses.length)return y.length>0;return true;}return y.length>0;},validateRuleClause:function w(x,y){return y.tokens.length>0||v.isEventBasedRule(x)&&!y.customfield;},validateRuleClauseWhenDeserialize:function w(x,y){return y.tokens.length>0;},serializeRule:function w(x,y){if(v.isEventBasedRule(x))return v._serializeCustomEventRule(x,y);var z=[];for(var aa=0;aa<x.clauses.length;aa++){var ba=x.clauses[aa];z.push(v.serializeClause(ba,x.scope));}z.push(v._serializeDeviceType(y));z=z.filter(function(ca){return !!ca;});if(z.length)return JSON.stringify({and:z});},_serializeCustomEventRule:function w(x,y){var z=x.clauses.filter(function(aa){return aa.aggregationType===null;}).map(function(aa){return v.serializeClause(aa,aa.customfield);});z.push(v._serializeRuleUnit(x.scope,i.EQ.value,x.event));z.push(v._serializeDeviceType(y));z=z.filter(function(aa){return !!aa;});return JSON.stringify({and:z});},serializeClause:function w(x,y){var z=[];for(var aa=0;aa<x.tokens.length;aa++){var ba=x.tokens[aa];z.push(v._serializeRuleUnit(y,x.filter,ba));}if(z.length)return {or:z};},_serializeDeviceType:function w(x){if(!x||!o(x))return null;var y=o(x)||[],z=y.map(function(aa){return v._serializeRuleUnit('device_type',i.EQ.value,aa);});return z.length?{or:z}:null;},_serializeRuleUnit:function w(x,y,z){var aa={};aa[y]=z;var ba={};ba[x]=aa;return ba;},serializeAggregationForCustomConversion:function w(x){if(!x)return null;var y={type:x.type,operator:l(x.operator),value:x.value};if(x.customfield)y.config={field:x.customfield};return JSON.stringify(y);},serializeAggregation:function w(x){if(!x||v._isDummyAggregation(x))return null;var y={type:x.type,operator:l(x.operator),value:x.value};if(x.customfield)y.config={field:x.customfield};return JSON.stringify(y);},_isDummyAggregation:function w(x){if(x.type===c('WebsiteCustomAudienceAggregationFunctions').COUNT&&x.operator===i.GTE.value&&x.value===1)return true;return false;},serializePercentileAggregation:function w(x){return JSON.stringify(x);},deserializeRule:function w(x){try{if(u.isDeprecatedAllVisitors(x))return u.getAllVisitors();var z,aa=JSON.parse(x);if(aa.and){z=v._deserializeClausesFromAnd(aa);}else if(aa.or){var ba=v._deserializeTokensFromOr(aa);if(ba){z=new s();v._updateRuleClauseWithOrParse(ba,z);z.clauses=z.clauses.filter(function(ca){return (v.validateRuleClauseWhenDeserialize(z,ca));});}}else if(aa.url||aa.device_type||aa.event)z=this._deserializeClausesFromAnd({and:[aa]});if(!z)return z;if(v.isEventBasedRule(z)&&z.clauses.length===0)z.clauses=[new r()];return z;}catch(y){}},_deserializeClausesFromAnd:function w(x){var y=new s();for(var z=0;z<x.and.length;z++){var aa=x.and[z];if(aa.or){var ba=this._deserializeTokensFromOr(aa);if(!ba)return;v._updateRuleClauseWithOrParse(ba,y);}else if(v._isAtomic(aa)){ba=this._deserializeTokensFromOr({or:[aa]});if(!ba)return;v._updateRuleClauseWithOrParse(ba,y);}}y.clauses=y.clauses.filter(function(ca){return v.validateRuleClauseWhenDeserialize(y,ca);});return y;},_deserializeTokensFromOr:function w(x){var y=[],z=null,aa=null;for(var ba=0;ba<x.or.length;ba++){var ca=x.or[ba];if(!v._isAtomic(ca))return;var da=v._deserializeAtomicRule(ca);if(!da)return;if(!z){z=da.scope;}else if(z!==da.scope)return;aa=da.operator;y.push(da.token);}return {tokens:y,scope:z,filter:aa};},_updateRuleClauseWithOrParse:function w(x,y){if(!x||!x.tokens||!x.tokens.length)return;var z=new r();switch(x.scope){case 'event':y.event=x.tokens[0];y.scope='event';return;case 'url':y.scope=x.scope;break;case 'device_type':return;default:z.customfield=x.scope;}z.tokens=x.tokens;z.filter=x.filter;y.clauses.push(z);},_deserializeAtomicRule:function w(x){if(c('isEmpty')(x))return;var y=Object.keys(x)[0];if(y.toLowerCase()==='domain'||y.toLowerCase()==='path')return;var z=x[y],aa=Object.keys(z)[0],ba=String(z[aa]);if(y.toLowerCase()==='url'&&!v._containsOperator(j,aa))return;return {scope:y,operator:aa,token:ba};},_isAtomic:function w(x){return !x.or&&!x.and;},deserializeAggregation:function w(x){var y=new t();if(x)try{var aa=JSON.parse(x);y.type=aa.type;y.operator=k[aa.operator];y.value=parseInt(aa.value,10);if(aa.config&&aa.config.field)y.customfield=aa.config.field;}catch(z){}return y;},getAggregationClause:function w(x){var y=null;if(x&&m(x.type)){y=new r();y.aggregationType=x.type;y.filter=x.operator;y.customfield=x.customfield;y.tokens=[x.value.toString()];}return y;},findRule:function w(x,y){var z=v._findRuleInArray(x.inclusion_rules,y);if(!z)z=v._findRuleInArray(x.exclusion_rules,y);return z;},_findRuleInArray:function w(x,y){for(var z=0;z<x.length;z++)if(x[z].key==y)return x[z];return null;},findRuleClause:function w(x,y){return v.findRuleClauseInArray(x.inclusion_rules,y)||v.findRuleClauseInArray(x.exclusion_rules,y);},findRuleClauseInArray:function w(x,y){for(var z=0;z<x.length;z++){var aa=x[z];for(var ba=0;ba<aa.clauses.length;ba++){var ca=aa.clauses[ba];if(ca.key==y)return ca;}}return null;},getOperatorLabel:function w(x,y){return Object.keys(x).filter(function(z){return (x[z].value===y);}).reduce(function(z,aa){return x[aa].label;},null);},_containsOperator:function w(x,y){return Object.keys(x).some(function(z){return x[z].value===y;});},deserializePercentileAggregation:function w(x){if(!x)return null;var y=JSON.parse(x);return c('WebsiteCustomAudiencePercentileUtils').getPercentileOption(y.upper_bound,y.lower_bound);}};f.exports={Audience:p,Operations:v,Rule:s,RuleClause:r,RuleTemplates:u,Aggregation:t};}),null);
__d('WebsiteCustomAudienceRuleSentence.react',['fbt','invariant','intlList','React','WebsiteCustomAudienceDeviceTypes','WebsiteCustomAudienceTrafficType','WebsiteCustomAudienceModel','getByPath'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('WebsiteCustomAudienceModel').Operations,m=c('WebsiteCustomAudienceDeviceTypes').DeviceTypes,n=c('WebsiteCustomAudienceDeviceTypes').getDeviceText,o=c('React').PropTypes,p=100;j=babelHelpers.inherits(q,c('React').Component);k=j&&j.prototype;function q(s,t){k.constructor.call(this,s,t);r.call(this);var u=this.$WebsiteCustomAudienceRuleSentence1(s.audience);this.state={audience:u};}q.prototype.componentWillReceiveProps=function(s){if(this.props.audience&&this.props.audience!=s.audience){var t=this.$WebsiteCustomAudienceRuleSentence1(s.audience);this.setState({audience:t});}};q.prototype.$WebsiteCustomAudienceRuleSentence1=function(s){var t={};t.retention_days=s.retention_days;var u=c('getByPath')(s,['data_source','creation_params']);if(!u)return null;var v=JSON.parse(u);t.device=v.device_type;if(s.rule){var w=l.deserializeRule(s.rule);if(!w||!l.validateRule(w))return null;t.inclusion_rules=[w];if(w.event||w.clauses.length>1){t.trafficType=c('WebsiteCustomAudienceTrafficType').CUSTOM;}else if(parseInt(v.traffic_type,10)===1||c('WebsiteCustomAudienceModel').RuleTemplates.isAllVisitors(s.rule)){t.trafficType=c('WebsiteCustomAudienceTrafficType').ALL_WEBSITE_VISITORS;}else t.trafficType=c('WebsiteCustomAudienceTrafficType').SPECIFIC_PAGE_VISITORS;}else if(s.included_custom_audiences){t.inclusion_rules=[];t.exclusion_rules=[];t.trafficType=Number(v.traffic_type);var x=s.included_custom_audiences,y=s.excluded_custom_audiences||[];for(var z=0;z<x.length;z++){var aa=x[z];t.retention_days=aa.retention_days;var ba=l.deserializeRule(aa.rule);if(ba){ba.id=aa.id;t.inclusion_rules.push(ba);}}for(z=0;z<y.length;z++){var ca=y[z];ba=l.deserializeRule(ca.rule);if(ba){ba.id=ca.id;t.exclusion_rules.push(ba);}}if(t.trafficType==c('WebsiteCustomAudienceTrafficType').CHURNED_VISITORS)t.retention_days=y[0].retention_days;}return t;};q.prototype.render=function(){var s=this.state.audience;if(!s)return c('React').createElement('div',null,'--');try{switch(s.trafficType){case c('WebsiteCustomAudienceTrafficType').ALL_WEBSITE_VISITORS:return this.$WebsiteCustomAudienceRuleSentence2(s);case c('WebsiteCustomAudienceTrafficType').SPECIFIC_PAGE_VISITORS:return this.$WebsiteCustomAudienceRuleSentence3(s);case c('WebsiteCustomAudienceTrafficType').SPECIFIC_PAGE_VISITORS_WITH_EXCLUSION:return this.$WebsiteCustomAudienceRuleSentence4(s);case c('WebsiteCustomAudienceTrafficType').CHURNED_VISITORS:return this.$WebsiteCustomAudienceRuleSentence5(s);case c('WebsiteCustomAudienceTrafficType').CUSTOM:return this.$WebsiteCustomAudienceRuleSentence6(s);default:}}catch(t){}return c('React').createElement('div',null,'--');};q.prototype.$WebsiteCustomAudienceRuleSentence8=function(s,t,u){var v=s.clauses[0].tokens,w=s.clauses[0].filter,x=v.length<p?c('intlList')(v,c('intlList').CONJUNCTIONS.OR):v.join(', '),y=c('React').createElement('div',null,h._("People who visited: {websites}",[h.param('websites',x)]),c('React').createElement('br',null),h._("In the last {number of days} days.",[h.param('number of days',t)])),z=c('React').createElement('div',null,h._("But who did not visit: {websites}",[h.param('websites',x)]),c('React').createElement('br',null),h._("In the last {number of days} days.",[h.param('number of days',t)]));if(w=='i_contains'){y=c('React').createElement('div',null,h._("People who visited URLs containing: {websites}",[h.param('websites',x)]),c('React').createElement('br',null),h._("In the last {number of days} days.",[h.param('number of days',t)]));z=c('React').createElement('div',null,h._("But did not visit URLs containing: {websites}",[h.param('websites',x)]),c('React').createElement('br',null),h._("In the last {number of days} days.",[h.param('number of days',t)]));}return u?y:z;};q.prototype.$WebsiteCustomAudienceRuleSentence11=function(s,t,u){var v=s.tokens,w=v.length<p?c('intlList')(v,c('intlList').CONJUNCTIONS.OR):v.join(', ');if(t!=='event'){return (c('React').createElement('div',null,h._({"":"{scope} {operator} {key words}"," And":"{scope} {operator} {key words} And"},[h.param('scope',this.$WebsiteCustomAudienceRuleSentence12(t)),h.param('operator',this.$WebsiteCustomAudienceRuleSentence13(s.filter)),h.param('key words',w),h['enum'](u?'':' And',{'':'',' And':' And'})])));}else return (c('React').createElement('div',null,h._({"":"Event {custom_field} {operator} {key words}"," And":"Event {custom_field} {operator} {key words} and"},[h.param('custom_field',s.customfield),h.param('operator',this.$WebsiteCustomAudienceRuleSentence13(s.filter)),h.param('key words',w),h['enum'](u?'':' And',{'':'',' And':' And'})])));};q.propTypes={audience:o.object.isRequired};var r=function s(){this.$WebsiteCustomAudienceRuleSentence2=function(t){var u=h._("Anyone who visited your website");return c('React').createElement('div',null,u,c('React').createElement('br',null),h._("In the last: {number of days} days.",[h.param('number of days',t.retention_days)]),c('React').createElement('br',null),this.$WebsiteCustomAudienceRuleSentence7(t));}.bind(this);this.$WebsiteCustomAudienceRuleSentence3=function(t){return c('React').createElement('div',null,this.$WebsiteCustomAudienceRuleSentence8(t.inclusion_rules[0],t.retention_days,true),c('React').createElement('br',null),this.$WebsiteCustomAudienceRuleSentence7(t));}.bind(this);this.$WebsiteCustomAudienceRuleSentence4=function(t){var u=this.$WebsiteCustomAudienceRuleSentence8(t.inclusion_rules[0],t.retention_days,true),v=this.$WebsiteCustomAudienceRuleSentence8(t.exclusion_rules[0],t.retention_days,false);return c('React').createElement('div',null,u,c('React').createElement('br',null),v,c('React').createElement('br',null),this.$WebsiteCustomAudienceRuleSentence7(t));}.bind(this);this.$WebsiteCustomAudienceRuleSentence5=function(t){var u=t.retention_days;return c('React').createElement('div',null,h._("People who visited your website"),c('React').createElement('br',null),h._("In the last 180 days."),c('React').createElement('br',null),h._("But haven't returned in: {notDuration} days",[h.param('notDuration',u)]));};this.$WebsiteCustomAudienceRuleSentence6=function(t){var u=t.retention_days,v=null,w=null;if(t.inclusion_rules)v=this.$WebsiteCustomAudienceRuleSentence9(t.inclusion_rules,true);if(t.exclusion_rules)w=this.$WebsiteCustomAudienceRuleSentence9(t.exclusion_rules,false);return c('React').createElement('div',null,v,c('React').createElement('br',null),w,c('React').createElement('br',null),this.$WebsiteCustomAudienceRuleSentence7(t),c('React').createElement('div',null,h._("In the last {number of days} days.",[h.param('number of days',u)])));}.bind(this);this.$WebsiteCustomAudienceRuleSentence9=function(t,u){var v=t.length,w=[];for(var x=0;x<v;x++){if(x===0){w.push(c('React').createElement('div',{key:"condition_text_"+x},h._({"Include":"Include traffic that meets the following conditions:","Exclude":"Exclude traffic that meets the following conditions:"},[h['enum'](u?'Include':'Exclude',{Include:'Include',Exclude:'Exclude'})])));}else w.push(c('React').createElement('div',{key:"condition_text_"+x},h._("Or, traffic that meets the following conditions:")));w.push(this.$WebsiteCustomAudienceRuleSentence10(t[x]));}return c('React').createElement('div',null,w);}.bind(this);this.$WebsiteCustomAudienceRuleSentence10=function(t){var u=t.clauses.length,v=[];for(var w=0;w<u;w++)v.push(c('React').createElement('div',{key:"rule_clause_"+w},this.$WebsiteCustomAudienceRuleSentence11(t.clauses[w],t.scope,w===u-1)));return v;}.bind(this);this.$WebsiteCustomAudienceRuleSentence12=function(t){if(t==='device_type')return h._("Device");return h._("URL");};this.$WebsiteCustomAudienceRuleSentence13=function(t){switch(t){case 'i_contains':return h._("Contains (not case sensitive)");case 'i_not_contains':return h._("Does not contain (not case sensitive)");case 'contains':return h._("Contains (case sensitive)");case 'not_contains':return h._("Does not contain (case sensitive)");case 'eq':return h._("Equal to (case sensitive)");case 'neq':return h._("Not equal to (case sensitive)");case 'lt':return h._("Less than");case 'lte':return h._("Less than or equal to");case 'gt':return h._("Greater than");case 'gte':return h._("Greater than or equal to");case 'regex_match':return h._("Matches regular expression");default:}};this.$WebsiteCustomAudienceRuleSentence7=function(t){if(!t.device||t.device===m.ALL.value)return null;var u=n(t.device);return (c('React').createElement('div',null,h._("Visited website on:"),' ',u));};};f.exports=q;}),null);
__d('AudienceManagerAudienceNameContextualHelpDialog.react',['cx','fbt','AdsAccountCapabilities','AdsAccountUtils','AdsAMAudienceStore','AdsAMAudienceUtils','AdsAudienceDataSourceUtils','AdsAudienceDeliveryStatusUtils','AdsCommonTargetingSentencesRenderer.react','AudienceManagerUIConstants','BUIAdoptionXUIText.react','MobileAppCombinationRuleDescriptionView.react','React','ScrollableArea.react','WebsiteCustomAudienceRuleSentence.react','adsGKCheck','ads-lib-formatters','getByPath'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=c('ads-lib-formatters').createIntlNumberFormatter(0),n=c('AudienceManagerUIConstants').HELP_DIALOG_MAX_HEIGHT,o=c('AudienceManagerUIConstants').SIZE_PLACEHOLDER;j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.$AudienceManagerAudienceNameContextualHelpDialog1=function(){var v=this.props.audience.approximate_count||0,w='';if(c('AdsAMAudienceUtils').isSavedTargetSpec(this.props.audience)){w=v>=0?m(v):o;}else w=c('AdsAudienceDeliveryStatusUtils').isActive(this.props.audience.delivery_status.code)?m(v):o;return (c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIText.react'),{display:'block',weight:'bold'},i._("Size")),w));}.bind(this),this.$AudienceManagerAudienceNameContextualHelpDialog2=function(){if(this.props.audience.description)return (c('React').createElement('div',{className:"mtm"},c('React').createElement(c('BUIAdoptionXUIText.react'),{display:'block',weight:'bold'},i._("Description")),this.props.audience.description));return null;}.bind(this),this.$AudienceManagerAudienceNameContextualHelpDialog3=function(){var v=c('AdsAMAudienceUtils').getAudienceType(this.props.audience);return (c('React').createElement('div',{className:"mtm"},c('React').createElement(c('BUIAdoptionXUIText.react'),{display:'block',weight:'bold'},i._("Type")),v));}.bind(this),this.$AudienceManagerAudienceNameContextualHelpDialog4=function(){if(!c('AdsAMAudienceUtils').isSavedAudience(this.props.audience))return null;return (c('React').createElement('div',{className:"mtm"},c('React').createElement(c('BUIAdoptionXUIText.react'),{display:'block',weight:'bold'},i._("Details")),c('React').createElement(c('AdsCommonTargetingSentencesRenderer.react'),{sentences:this.props.audience.targeting_sentence_lines})));}.bind(this),this.$AudienceManagerAudienceNameContextualHelpDialog5=function(){var v=this.props.audience,w=null,x=c('getByPath')(v,['data_source','sub_type']);if(c('AdsAMAudienceUtils').isSavedAudience(v))return null;if(x!=c('AdsAudienceDataSourceUtils').SUBTYPES.MOBILE_APP_EVENTS)w=c('AdsAudienceDataSourceUtils').detailOfAudience(v);if(w)return (c('React').createElement('div',{className:"mtm"},c('React').createElement(c('BUIAdoptionXUIText.react'),{display:'block',weight:'bold'},i._("Source")),w));return null;}.bind(this),this.$AudienceManagerAudienceNameContextualHelpDialog6=function(){if(this.props.audience.account_id==this.props.accountID)return null;if(c('AdsAMAudienceUtils').isSavedTargetSpec(this.props.audience))return null;return (c('React').createElement('div',{className:"mtm"},c('React').createElement(c('BUIAdoptionXUIText.react'),{display:'block',weight:'bold'},i._("Shared by")),this.props.audience.account_id));}.bind(this),this.$AudienceManagerAudienceNameContextualHelpDialog7=function(){var v=c('adsGKCheck')('financial_service_lookalike')||c('AdsAccountUtils').hasCapability(c('AdsAMAudienceStore').getAccount(),c('AdsAccountCapabilities').AD_BUSINESS_FINANCIAL_SERVICE_LOOKALIKE);if(!v)return null;if(c('AdsAMAudienceUtils').isSavedTargetSpec(this.props.audience))return null;if(this.props.audience.data_source.type!==c('AdsAudienceDataSourceUtils').TYPES.SEED_BASED)return null;if(this.props.audience.lookalike_spec){var w=this.props.audience.lookalike_spec.is_financial_service?i._("True"):i._("False");return (c('React').createElement('div',{className:"mtm"},c('React').createElement(c('BUIAdoptionXUIText.react'),{display:'block',weight:'bold'},i._("FCRA-compliant Lookalike")),w));}}.bind(this),r;}p.prototype.render=function(){return c('React').createElement(c('ScrollableArea.react'),{maxHeight:n},c('React').createElement('div',{className:"_5o5e"},this.$AudienceManagerAudienceNameContextualHelpDialog1(),this.$AudienceManagerAudienceNameContextualHelpDialog2(),this.$AudienceManagerAudienceNameContextualHelpDialog3(),this.$AudienceManagerAudienceNameContextualHelpDialog4(),this.$AudienceManagerAudienceNameContextualHelpDialog5(),this.$AudienceManagerAudienceNameContextualHelpDialog6(),this.$AudienceManagerAudienceNameContextualHelpDialog7(),this.$AudienceManagerAudienceNameContextualHelpDialog8(),this.$AudienceManagerAudienceNameContextualHelpDialog9()));};p.prototype.$AudienceManagerAudienceNameContextualHelpDialog8=function(){var q=c('getByPath')(this.props.audience,['data_source','sub_type']),r=null;if(q===c('AdsAudienceDataSourceUtils').SUBTYPES.MOBILE_APP_EVENTS||q===c('AdsAudienceDataSourceUtils').SUBTYPES.MOBILE_APP_COMBINATION_EVENTS){r=c('React').createElement(c('MobileAppCombinationRuleDescriptionView.react'),{audience:this.props.audience,dao:this.props.dao});}else if(q===c('AdsAudienceDataSourceUtils').SUBTYPES.WEB_PIXEL_HITS||q===c('AdsAudienceDataSourceUtils').SUBTYPES.WEB_PIXEL_COMBINATION_EVENTS)r=c('React').createElement(c('WebsiteCustomAudienceRuleSentence.react'),{audience:this.props.audience});if(r)return (c('React').createElement('div',{className:"mtm"},c('React').createElement(c('BUIAdoptionXUIText.react'),{display:'block',weight:'bold'},i._("Rule")),r));return null;};p.prototype.$AudienceManagerAudienceNameContextualHelpDialog9=function(){var q=this.props.audience.rule_aggregation;if(q)return (c('React').createElement('div',{className:"mtm"},c('React').createElement(c('BUIAdoptionXUIText.react'),{display:'block',weight:'bold'},i._("Aggregation")),q));return null;};p.propTypes={accountID:l.string.isRequired,audience:l.object.isRequired,dao:l.object.isRequired};f.exports=p;}),null);
__d('AudienceManagerPlacement',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){var h=c('keyMirrorRecursive')({BIZ_ASSET_LIBRARY:'',NEW_ADS_MANAGER:'',POWER_EDITOR:'',STAND_ALONE:''});f.exports=h;}),null);
__d('AudienceManagerAudienceNameColumnCellRenderer',['cx','AdInterfacesAppNames','AdsInterfacesLogger','AdsInterfacesLoggerConfigColumns','AdsAMAudienceUtils','AdsAudienceDetailActions','AdsPixelAndAudienceContextUtils','AudienceManagerAudienceNameContextualHelpDialog.react','AudienceManagerLoggingEvents','AudienceManagerPlacement','AudienceManagerUIConstants','BUIDetailPaneActions.brands','BusinessGK.brands','ContextualLayerAutoFlip','JSResource','LayerHideOnBlur','React','XUIContextualDialog.react','goURI'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=80,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={showHelpDialog:false},this.$AudienceManagerAudienceNameColumnCellRenderer1=0,this.$AudienceManagerAudienceNameColumnCellRenderer3=function(){var s=this.context.appLink,t=this.context.getAudienceURI({accountID:this.props.accountID,audienceID:this.props.audience.id});return (c('React').createElement(s,{href:t,onClick:this.$AudienceManagerAudienceNameColumnCellRenderer6},this.props.audience.name));}.bind(this),this.$AudienceManagerAudienceNameColumnCellRenderer6=function(){var s;if(this.props.placement===c('AudienceManagerPlacement').BIZ_ASSET_LIBRARY)if(!c('BusinessGK.brands')('asset_library_audience_detail_pane')){c('goURI')(this.context.getAudienceURI({accountID:this.props.accountID,audienceID:this.props.audience.id}));}else c('BUIDetailPaneActions.brands').open({key:'audience_manage_detail_pane',isAsync:true,paneResource:c('JSResource')('AssetLibraryAudienceDetailPane.brands').__setRef('AudienceManagerAudienceNameColumnCellRenderer'),paneProps:{accountID:this.props.accountID,audienceID:this.props.audience.id},top:43,width:720});c('AdsAudienceDetailActions').initializeAudienceDetails(this.props.accountID,this.props.audience.id);var t=c('AdsAMAudienceUtils').isSavedTargetSpec(this.props.audience)?c('AudienceManagerUIConstants').AUDIENCE_TYPE.SAVED_TARGET_SPEC:c('AudienceManagerUIConstants').AUDIENCE_TYPE.CUSTOM_AUDIENCE;c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_DETAILS_AUDIENCE_VIEW,data:(s={},s[c('AdsInterfacesLoggerConfigColumns').SIGNALS_UI_EVENT_DATA]=JSON.stringify({audience_type:t}),s)});}.bind(this),this.$AudienceManagerAudienceNameColumnCellRenderer2=function(){return (this.context.interfaceAppName!==c('AdInterfacesAppNames').POWER_EDITOR);}.bind(this),this.$AudienceManagerAudienceNameColumnCellRenderer4=function(){clearTimeout(this.$AudienceManagerAudienceNameColumnCellRenderer1);this.setState({showHelpDialog:true});}.bind(this),this.$AudienceManagerAudienceNameColumnCellRenderer5=function(){clearTimeout(this.$AudienceManagerAudienceNameColumnCellRenderer1);this.$AudienceManagerAudienceNameColumnCellRenderer1=setTimeout(function(){return this.setState({showHelpDialog:false});}.bind(this),c('AudienceManagerUIConstants').HELP_DIALOG_LINGER_TS);}.bind(this),o;}m.prototype.render=function(){var n=this.props.audience,o=n.description||'',p=o.substring(0,k)+(o.length>k?'...':''),q=this.$AudienceManagerAudienceNameColumnCellRenderer2()?c('React').createElement('div',{className:"_4fqh"},this.$AudienceManagerAudienceNameColumnCellRenderer3()):c('React').createElement('div',{className:"_4fqk"},n.name);return c('React').createElement('div',{className:"_ia5"},c('React').createElement('div',{className:"_ia6",ref:'nameAndSubtext',tabIndex:'0',onMouseEnter:this.$AudienceManagerAudienceNameColumnCellRenderer4,onMouseLeave:this.$AudienceManagerAudienceNameColumnCellRenderer5},q,c('React').createElement('div',{className:"_ia8"},p)),this.renderLayers());};m.prototype.renderLayers=function(){return c('React').createElement(c('XUIContextualDialog.react'),{alignment:'center',behaviors:{ContextualLayerAutoFlip:c('ContextualLayerAutoFlip'),LayerHideOnBlur:c('LayerHideOnBlur')},contextRef:function(){return this.refs.nameAndSubtext;}.bind(this),position:'above',shown:this.state.showHelpDialog,width:c('XUIContextualDialog.react').WIDTH.NORMAL,key:'helpDialog'},c('React').createElement('div',{onMouseEnter:this.$AudienceManagerAudienceNameColumnCellRenderer4,onMouseLeave:this.$AudienceManagerAudienceNameColumnCellRenderer5},c('React').createElement(c('AudienceManagerAudienceNameContextualHelpDialog.react'),{accountID:this.props.accountID,audience:this.props.audience,dao:this.props.dao})));};m.prototype.componentWillUnmount=function(){clearTimeout(this.$AudienceManagerAudienceNameColumnCellRenderer1);};m.contextTypes=c('AdsPixelAndAudienceContextUtils').getContextTypes();m.propTypes={audience:l.object.isRequired,accountID:l.string.isRequired,dao:l.object.isRequired,placement:l.oneOf([c('AudienceManagerPlacement').NEW_ADS_MANAGER,c('AudienceManagerPlacement').STAND_ALONE,c('AudienceManagerPlacement').POWER_EDITOR,c('AudienceManagerPlacement').BIZ_ASSET_LIBRARY])};m.defaultProps={placement:c('AudienceManagerPlacement').STAND_ALONE};f.exports=m;}),null);
__d('AudienceManagerDebugAPIDataColumnCellRenderer.react',['cx','fbt','AdsAMAudienceUtils','BUIAdoptionButton.react','List.react','Link.react','React','URI','XUIDialog.react','XUIDialogBody.react','XUIDialogCloseButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;function m(o,p){if(typeof o!=='object')return o+"\n";p=p||0;var q='';for(var r in o){if(!Object.prototype.hasOwnProperty.call(o,r))continue;q+=new Array(p+1).join('  ')+r+': ';if(typeof o[r]==='object')q+="\n";q+=m(o[r],p+1);}return q;}j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={dialogShown:false},this.renderLayers=function(){if(!this.state.dialogShown)return null;var t=this.props.audience,u;if(c('AdsAMAudienceUtils').isSavedTargetSpec(t)){u=c('React').createElement('span',null);}else{var v=new (c('URI'))('/intern/ads/eagle/audience_history').addQueryData({cluster_id:t.id});u=c('React').createElement(c('Link.react'),{href:v,target:'_blank'},'History');}var w=new (c('URI'))('/intern/id2').addQueryData({id:t.id});return (c('React').createElement(c('XUIDialog.react'),{shown:this.state.dialogShown,width:500,onToggle:this.$AudienceManagerDebugAPIDataColumnCellRenderer2,key:'dialog'},c('React').createElement(c('XUIDialogTitle.react'),null,i._("API Data")),c('React').createElement(c('XUIDialogBody.react'),{className:"_53sz"},c('React').createElement('pre',null,m(t)),c('React').createElement('div',null,c('React').createElement(c('List.react'),{border:'none',direction:'horizontal',spacing:'large'},c('React').createElement('li',null,c('React').createElement(c('Link.react'),{href:w,target:'_blank'},'FBObj')),c('React').createElement('li',null,u)))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCloseButton.react'),{action:'close',use:'default',onClick:this.$AudienceManagerDebugAPIDataColumnCellRenderer2}))));}.bind(this),this.$AudienceManagerDebugAPIDataColumnCellRenderer1=function(){this.setState({dialogShown:true});}.bind(this),this.$AudienceManagerDebugAPIDataColumnCellRenderer2=function(){this.setState({dialogShown:false});}.bind(this),p;}n.prototype.render=function(){'use strict';var o=i._("API Data");return c('React').createElement('span',null,c('React').createElement(c('BUIAdoptionButton.react'),{height:'short',label:o,use:'default',onClick:this.$AudienceManagerDebugAPIDataColumnCellRenderer1}),this.renderLayers());};n.propTypes={audience:l.object.isRequired};f.exports=n;}),null);
__d('AudienceManagerSharingColumnCellRenderer.react',['cx','fbt','AdsAMViewActions','AdsAMAudienceUtils','AudienceManagerLoggingEvents','AdsInterfacesLogger','Link.react','React','TooltipData','getByPath'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$AudienceManagerSharingColumnCellRenderer3=function(){c('AdsAMViewActions').showUnshareAudienceDialog(this.props.audience.id);c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_TABLE_ACTION_UNSHARE_CLICKED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);}.bind(this),n;}l.prototype.$AudienceManagerSharingColumnCellRenderer1=function(){var m=c('getByPath')(this.props.audience,['owner_account_info'])||{},n=!m.account_name?m.account_id:m.account_name,o=i._("Shared by {account name or id}",[i.param('account name or id',n)]),p='';if(m.business_name!==undefined)p=i._("{business name}",[i.param('business name',m.business_name)]);return c('React').createElement('div',null,c('React').createElement('div',babelHelpers['extends']({className:"ellipsis"},c('TooltipData').propsFor(o),{'data-tooltip-display':'overflow','data-tooltip-position':'above'}),o),c('React').createElement('div',babelHelpers['extends']({className:"_57rh"},c('TooltipData').propsFor(p),{'data-tooltip-display':'overflow','data-tooltip-position':'above'}),p));};l.prototype.$AudienceManagerSharingColumnCellRenderer2=function(){var m='--',n=c('getByPath')(this.props.audience,['shared_account_info','data'])||{};if(!n||n.length===undefined)return c('React').createElement('div',null,'--');if(n.length===1){m=i._("Shared with 1 advert account");}else if(n.length>1)m=i._("Shared with {number of ad accounts} advert accounts",[i.param('number of ad accounts',n.length)]);var o={};n.forEach(function(s){if(s.business_id)o[s.business_id]=s.business_name;});var p='',q=Object.keys(o);if(q.length===1){p=o[q[0]];}else if(q.length>1)p=i._({"*":"{number of businesses} businesses"},[i.param('number of businesses',q.length,[0,q.length])]);var r=c('React').createElement(c('Link.react'),{href:'#',onClick:this.$AudienceManagerSharingColumnCellRenderer3},m);return c('React').createElement('div',null,c('React').createElement('div',null,r),c('React').createElement('div',{className:"_57rh"},p));};l.prototype.render=function(){if(c('AdsAMAudienceUtils').isSavedTargetSpec(this.props.audience))return c('React').createElement('div',null,'--');return this.props.accountID===this.props.audience.account_id?this.$AudienceManagerSharingColumnCellRenderer2():this.$AudienceManagerSharingColumnCellRenderer1();};f.exports=l;}),null);
__d('AdsAudienceOperationStatusUtils',['fbt','CustomAudienceOperationStatus'],(function a(b,c,d,e,f,g,h){var i=function n(o){return Math.floor(o/100)===Math.floor(c('CustomAudienceOperationStatus').ERROR/100);},j=function n(o){return Math.floor(o/100)===Math.floor(c('CustomAudienceOperationStatus').WARNING/100);},k=function n(o){return o===c('CustomAudienceOperationStatus').NORMAL||o===c('CustomAudienceOperationStatus').NO_STATUS;},l=function n(o){return o===c('CustomAudienceOperationStatus').REFRESH_FAIL_SOURCE_DELETED;},m=function n(o){switch(o){case c('CustomAudienceOperationStatus').WARNING:return h._("Warning");case c('CustomAudienceOperationStatus').LOW_MATCH_RATE:return h._("Low match rate");case c('CustomAudienceOperationStatus').HIGH_INVALID_RATE:case c('CustomAudienceOperationStatus').LOW_UID_VALID_RATE:return h._("High invalidation rate");case c('CustomAudienceOperationStatus').ERROR:return h._("Error");case c('CustomAudienceOperationStatus').PIXEL_UNVERIFIED:return h._("Pixel not installed");case c('CustomAudienceOperationStatus').PIXEL_NOT_FIRING:return h._("Pixel not active");case c('CustomAudienceOperationStatus').LEGACY_PIXEL:return h._("Migration required");case c('CustomAudienceOperationStatus').BUILD_FAIL_SOURCE_DELETED:case c('CustomAudienceOperationStatus').BUILD_FAIL_UNKNOWN:return h._("Audience not created");case c('CustomAudienceOperationStatus').BUILD_RETRYING:return h._("Creating audience");default:return h._("Unknown issues");}};f.exports={isNormal:k,isError:i,isWarning:j,useLastUpdateTime:l,getProblemShortDesc:m};}),null);
__d('AudienceManagerStatusFlyoutDialog.react',['cx','fbt','AdsAMViewActions','AdsAudienceDataSourceUtils','AdsAudienceDeliveryStatusUtils','AdsAudienceOperationStatusUtils','AdsInterfacesLogger','AdsPixelDialogTypes','AdsPixelViewActions','AudienceManagerLoggingEvents','CustomAudienceOperationStatus','Link.react','React','URI','adsGKCheck','arrayContains'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m='basecode-new',n='00NA0000005jYac',o=[c('CustomAudienceOperationStatus').LOW_MATCH_RATE,c('CustomAudienceOperationStatus').HIGH_INVALID_RATE,c('CustomAudienceOperationStatus').PIXEL_UNVERIFIED,c('CustomAudienceOperationStatus').PIXEL_NOT_FIRING];j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.$AudienceManagerStatusFlyoutDialog1=function(){var v=this.props.audience.operation_status.code;if(c('AdsAudienceDeliveryStatusUtils').isError(this.props.audience.delivery_status.code)||c('AdsAudienceOperationStatusUtils').isNormal(v))return this.props.audience.delivery_status.description;return this.props.audience.operation_status.description;}.bind(this),this.$AudienceManagerStatusFlyoutDialog2=function(){var v=this.props.audience.data_source.sub_type;if(!this.$AudienceManagerStatusFlyoutDialog4(v))return;if(!this.props.audience.permission_for_actions.can_edit)return;if(c('arrayContains')(o,this.props.audience.operation_status.code))return (c('React').createElement('div',{className:"mtm"},c('React').createElement(c('Link.react'),{onClick:this.$AudienceManagerStatusFlyoutDialog5},this.$AudienceManagerStatusFlyoutDialog6())));}.bind(this),this.$AudienceManagerStatusFlyoutDialog4=function(v){switch(v){case c('AdsAudienceDataSourceUtils').SUBTYPES.COPY_PASTE_EMAIL_HASHES:case c('AdsAudienceDataSourceUtils').SUBTYPES.MAIL_CHIMP_EMAIL_HASHES:return false;}return true;},this.$AudienceManagerStatusFlyoutDialog6=function(){switch(this.props.audience.operation_status.code){case c('CustomAudienceOperationStatus').PIXEL_UNVERIFIED:case c('CustomAudienceOperationStatus').PIXEL_NOT_FIRING:return i._("View pixel code");case c('CustomAudienceOperationStatus').LOW_MATCH_RATE:case c('CustomAudienceOperationStatus').HIGH_INVALID_RATE:return i._("Upload Data File");}}.bind(this),this.$AudienceManagerStatusFlyoutDialog5=function(){switch(this.props.audience.operation_status.code){case c('CustomAudienceOperationStatus').PIXEL_UNVERIFIED:case c('CustomAudienceOperationStatus').PIXEL_NOT_FIRING:c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').INTEGRATIONS_CMS,{integrationName:m});c('AdsPixelViewActions').updateViewPixelCodeSelection(this.props.audience.external_event_source.id);break;case c('CustomAudienceOperationStatus').LOW_MATCH_RATE:case c('CustomAudienceOperationStatus').HIGH_INVALID_RATE:c('AdsAMViewActions').showRegularEditDialog(this.props.audience.id);break;}}.bind(this),r;}p.prototype.render=function(){return c('React').createElement('div',{className:"_2f6l"},c('React').createElement('div',null,this.$AudienceManagerStatusFlyoutDialog1()),this.$AudienceManagerStatusFlyoutDialog2(),this.$AudienceManagerStatusFlyoutDialog3());};p.prototype.$AudienceManagerStatusFlyoutDialog3=function(){if(!c('adsGKCheck')('hand_raiser_program_test_custom_audience'))return null;var q=new (c('URI'))('/business/a/facebook-marketing-expert').addQueryData(n,this.props.accountID).addQueryData('lead_source','custom_audience_error').toString();return c('React').createElement('div',null,c('React').createElement('div',{className:"mtm"},i._("{link} with a Facebook Marketing Expert to get one-on-one help with your audience.",[i.param('link',c('React').createElement(c('Link.react'),{href:q,target:'_blank',onClick:this.$AudienceManagerStatusFlyoutDialog7},i._("Schedule a call")))])));};p.prototype.$AudienceManagerStatusFlyoutDialog7=function(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_HELP_FLYOUT_CLICKED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};p.propTypes={accountID:l.string.isRequired,audience:l.object.isRequired};f.exports=p;}),null);
__d('BUIStatusCircle.react',['cx','invariant','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n=void 0;switch(this.props.color){case 'gray':n="_3-km";break;case 'green':n="_3-kn";break;case 'yellow':n="_1o_s";break;case 'red':n="_3-kp";break;case 'blue':n="_2dm9";break;default:i(0);}var o=c('joinClasses')("_3-kq",n,this.props.hasFill?"_3-kr":"_3-ks");return c('React').createElement('div',{className:o});};function m(){j.apply(this,arguments);}m.propTypes={color:l.oneOf(['gray','green','yellow','red','blue']).isRequired,hasFill:l.bool.isRequired};f.exports=m;}),null);
__d('AudienceStatus',['cx','fbt','ix','BUIStatusCircle.react','CustomAudienceDeliveryStatus','CustomAudienceOperationStatus','Image.react','React','formatDate'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=i._("Ready"),l=i._("Not Ready"),m=i._("Audience too small"),n=i._("Updating audience");function o(p,q,r){this.$AudienceStatus1=p;this.$AudienceStatus2=q;if(r)this.$AudienceStatus3=new Date(r);}o.prototype.getUserFacingStatus=function(){if(this.isAnomalousOperationStatus()){return this.$AudienceStatus4();}else if(this.isAnomalousAudienceSize())return m;return this.$AudienceStatus5();};o.prototype.getUserFacingUpdateTime=function(){if(this.$AudienceStatus2===c('CustomAudienceOperationStatus').UPDATING){return n;}else if(this.$AudienceStatus3){var p=c('formatDate')(this.$AudienceStatus3,'m/d/Y');return i._("Last updated {date}",[i.param('date',p)]);}return null;};o.prototype.getIcon=function(){var p=null;if(this.$AudienceStatus2===c('CustomAudienceOperationStatus').PENDING_PREFILL)return (c('React').createElement('div',{className:"_3-8_ _3-8w"},c('React').createElement(c('BUIStatusCircle.react'),{color:'blue',hasFill:true})));if(this.$AudienceStatus1===c('CustomAudienceDeliveryStatus').ACTIVE&&this.isOperationStatusNormal()){p=j("21720");}else p=j("21721");return c('React').createElement(c('Image.react'),{className:"_3-8_",src:p});};o.prototype.isUserActionNeeded=function(){return (this.isAnomalousOperationStatus()||this.isAnomalousDeliveryStatus()||this.isAnomalousAudienceSize());};o.prototype.$AudienceStatus5=function(){if(this.$AudienceStatus1===c('CustomAudienceDeliveryStatus').ACTIVE)return k;return l;};o.prototype.$AudienceStatus4=function(){switch(this.$AudienceStatus2){case c('CustomAudienceOperationStatus').WARNING:return i._("Warning");case c('CustomAudienceOperationStatus').LOW_MATCH_RATE:return i._("Low match rate");case c('CustomAudienceOperationStatus').HIGH_INVALID_RATE:case c('CustomAudienceOperationStatus').LOW_UID_VALID_RATE:return i._("High invalidation rate");case c('CustomAudienceOperationStatus').ERROR:return i._("Error");case c('CustomAudienceOperationStatus').PIXEL_UNVERIFIED:return i._("Pixel not installed");case c('CustomAudienceOperationStatus').PIXEL_NOT_FIRING:return i._("Pixel not active");case c('CustomAudienceOperationStatus').LEGACY_PIXEL:return i._("Migration required");case c('CustomAudienceOperationStatus').BUILD_FAIL_SOURCE_DELETED:case c('CustomAudienceOperationStatus').BUILD_FAIL_UNKNOWN:return i._("Audience not created");case c('CustomAudienceOperationStatus').BUILD_RETRYING:return i._("Creating audience");case c('CustomAudienceOperationStatus').PENDING_PREFILL:return i._("Populating");default:return i._("Unknown issues");}};o.prototype.isOperationStatusError=function(){return Math.floor(this.$AudienceStatus2/100)===Math.floor(c('CustomAudienceOperationStatus').ERROR/100);};o.prototype.isOperationStatusWarning=function(){return Math.floor(this.$AudienceStatus2/100)===Math.floor(c('CustomAudienceOperationStatus').WARNING/100);};o.prototype.isOperationStatusNormal=function(){return this.$AudienceStatus2===c('CustomAudienceOperationStatus').NORMAL||this.$AudienceStatus2===c('CustomAudienceOperationStatus').NO_STATUS;};o.prototype.isAnomalousOperationStatus=function(){return this.isOperationStatusError()||this.isOperationStatusWarning();};o.prototype.isAnomalousDeliveryStatus=function(){return (this.$AudienceStatus1!==c('CustomAudienceDeliveryStatus').ACTIVE&&this.$AudienceStatus1!==c('CustomAudienceDeliveryStatus').INACTIVE);};o.prototype.isAnomalousAudienceSize=function(){return (this.$AudienceStatus2!==c('CustomAudienceOperationStatus').UPDATING&&this.isOperationStatusNormal()&&this.$AudienceStatus1===c('CustomAudienceDeliveryStatus').INACTIVE);};f.exports=o;}),null);
__d('AudienceManagerStatusColumnRenderer.react',['ix','cx','fbt','AudienceStatus','AdsInterfacesLogger','AdsAMAudienceUtils','AdsPixelAndAudienceContextUtils','AudienceManagerLoggingEvents','AudienceManagerStatusFlyoutDialog.react','AudienceManagerUIConstants','CustomAudienceDataSourceSubType','CustomAudienceDeliveryStatus','CustomAudienceOperationStatus','DateConsts','ImageBlock.react','LayerHideOnBlur','Link.react','ReactLayeredComponentMixin_DEPRECATED','React','Image.react','XUIContextualDialog.react','getByPath','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('React').PropTypes,l=c('React').createClass({displayName:'AudienceManagerStatusColumnRenderer',contextTypes:c('AdsPixelAndAudienceContextUtils').getContextTypes(),mixins:[c('ReactLayeredComponentMixin_DEPRECATED')],_lingerTimeout:0,propTypes:{accountID:k.string.isRequired,audience:k.object.isRequired},getInitialState:function m(){return {showHelpDialog:false};},render:function m(){var n=c('getByPath')(this.props.audience,['delivery_status','code']),o=c('getByPath')(this.props.audience,['operation_status','code']),p=this.props.audience.time_content_updated*c('DateConsts').MS_PER_SEC;if(c('AdsAMAudienceUtils').isSavedTargetSpec(this.props.audience)){n=c('CustomAudienceDeliveryStatus').ACTIVE;o=c('CustomAudienceOperationStatus').NORMAL;p=this.props.audience.time_updated_timestamp*c('DateConsts').MS_PER_SEC;}var q=new (c('AudienceStatus'))(n,o,p);return (c('React').createElement('div',{className:"_240f"},c('React').createElement(c('ImageBlock.react'),{spacing:'medium'},q.getIcon(),this._getAudienceComponent(q))));},renderLayers:function m(){if(!this.state.showHelpDialog)return null;return {helpDialog:c('React').createElement(c('XUIContextualDialog.react'),{alignment:'center',behaviors:{LayerHideOnBlur:c('LayerHideOnBlur')},contextRef:function(){return this.refs.statusAndSubtext;}.bind(this),position:'right',shown:true,width:c('XUIContextualDialog.react').WIDTH.NORMAL},c('React').createElement('div',{onMouseEnter:this._onMouseEnterFlyOut,onMouseLeave:this._onMouseLeave},c('React').createElement(c('AudienceManagerStatusFlyoutDialog.react'),{accountID:this.props.accountID,audience:this.props.audience})))};},_getAudienceComponent:function m(n){var o=this.props.audience,p=n.isUserActionNeeded(),q=o.data_source,r=false;if(q&&q.sub_type==c('CustomAudienceDataSourceSubType').WEB_PIXEL_COMBINATION_EVENTS&&q.sub_type==c('CustomAudienceDataSourceSubType').WEB_PIXEL_HITS)r=true;if(!r||!p)return (c('React').createElement('div',null,n.getUserFacingStatus(),c('React').createElement('div',{className:p?"_2k7g":''},this._getSubTextComponent(n))));return (c('React').createElement('div',null,n.getUserFacingStatus(),c('React').createElement('div',{className:"_5sbo _5sbq"},'|'),c('React').createElement('div',{className:"_5sbo"},this._getSubTextComponent(n)),c('React').createElement('div',null,this._getPixelComponent())));},_getPixelComponent:function m(){return (c('React').createElement('div',{className:"_240n"},j._("Pixel:"),this._getPixelLink()));},_getPixelLink:function m(){var n=this.context.getAudienceURI({accountID:this.props.accountID,audienceID:this.props.audience.id});return (c('React').createElement(c('Link.react'),{className:"_5sbr",href:n,target:'_blank',onClick:this._onClickLink},this.props.audience.name));},_getSubTextComponent:function m(n){var o=n.isUserActionNeeded(),p=(o?"_240o":'')+(!o?' '+"_240n":'')+(' '+"_5sbo");return (c('React').createElement('div',{className:p,ref:'statusAndSubtext',onMouseEnter:function(){return this._onMouseEnter(n);}.bind(this),onMouseLeave:this._onMouseLeave},this._getSubText(n)));},componentWillUnmount:function m(){clearTimeout(this._lingerTimeout);},_onMouseEnter:function m(n){clearTimeout(this._lingerTimeout);if(n.isUserActionNeeded()){this.setState({showHelpDialog:true});c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_HELP_FLYOUT_SHOW},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);}},_onMouseEnterFlyOut:function m(){clearTimeout(this._lingerTimeout);this.setState({showHelpDialog:true});},_onMouseLeave:function m(){clearTimeout(this._lingerTimeout);this._lingerTimeout=setTimeout(function(){return this.setState({showHelpDialog:false});}.bind(this),c('AudienceManagerUIConstants').HELP_DIALOG_LINGER_TS);},_getSubText:function m(n){if(n.isAnomalousDeliveryStatus()){return j._("Disabled");}else if(n.isUserActionNeeded())return (c('React').createElement(c('Image.react'),{src:h("124738")}));return n.getUserFacingUpdateTime();}});f.exports=l;}),null);
__d('AudienceManagerTimeCreatedColumnRenderer.react',['cx','fbt','React','formatDate'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';var n=this.props.timeCreated;if(!n)return (c('React').createElement('div',null,i._("Not Available")));var o=new Date(n*1000),p=c('formatDate')(o,'m/d/Y'),q=c('formatDate')(o,'g:ia');return (c('React').createElement('div',null,c('React').createElement('div',null,p),c('React').createElement('div',{className:"_3imx"},q)));};function m(){'use strict';j.apply(this,arguments);}m.propTypes={timeCreated:l.number};f.exports=m;}),null);
__d('AudienceManagerTypeColumnCellRenderer.react',['cx','AdsAMAudienceUtils','AdsAudienceDataSourceUtils','AudienceManagerUIConstants','React','TooltipData'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=35;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;m.prototype.render=function(){var n=c('AdsAMAudienceUtils').getAudienceType(this.props.audience),o=this.$AudienceManagerTypeColumnCellRenderer1(this.props.audience);return (c('React').createElement('div',null,c('React').createElement('div',babelHelpers['extends']({className:"ellipsis"},c('TooltipData').propsFor(n),{'data-tooltip-display':'overflow','data-tooltip-position':'above'}),n),c('React').createElement('div',babelHelpers['extends']({className:"_33wh ellipsis"},c('TooltipData').propsFor(o),{'data-tooltip-display':'overflow','data-tooltip-position':'above'}),o)));};m.prototype.$AudienceManagerTypeColumnCellRenderer1=function(n){if(c('AdsAMAudienceUtils').isSavedTargetSpec(n))return '';var o=c('AdsAMAudienceUtils').getAudienceType(n);if(o.toString()===c('AudienceManagerUIConstants').LAL_DISPLAY_NAME.toString())return c('AdsAudienceDataSourceUtils').detailOfAudience(n);if(c('AdsAMAudienceUtils').isWCAWithAdvancedRule(n))return c('AudienceManagerUIConstants').WCA_ADVANCED_DISPLAY_NAME;return c('AdsAudienceDataSourceUtils').textForTypeInUI(n);};function m(){i.apply(this,arguments);}m.propTypes={audience:k.object.isRequired};f.exports=m;}),null);
__d('AssetLibraryAudienceColumnsConfig',['cx','AdsAMAudienceUtils','AdsAudienceDeliveryStatusUtils','AudienceManagerAudienceNameColumnCellRenderer','AudienceManagerColumnHeaderRenderers','AudienceManagerTypeColumnCellRenderer.react','AudienceManagerDebugAPIDataColumnCellRenderer.react','AudienceManagerSharingColumnCellRenderer.react','AudienceManagerStatusColumnRenderer.react','AudienceManagerTimeCreatedColumnRenderer.react','AudienceManagerUIConstants','AudiencePropertyConstants','CurrentUser','FixedDataTableSortFunctions','React','ads-lib-formatters','emptyFunction'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('ads-lib-formatters').createIntlNumberFormatter(0),j=c('AudienceManagerUIConstants').ALIGN,k=c('AudienceManagerUIConstants').COLUMNS,l=c('AudienceManagerUIConstants').SIZE_PLACEHOLDER,m=80,n=300,o=180,p=160,q=200,r=112,s=112,t=200,u=[{cellRenderer:function v(w,x,y,z,aa){return (c('React').createElement('div',{className:"_ewc"},c('React').createElement(c('AudienceManagerAudienceNameColumnCellRenderer'),{accountID:y.accountID,audience:y,dao:y.dao,placement:y.placement})));},headerRenderer:c('AudienceManagerColumnHeaderRenderers').renderSortableHeader,dataKey:k.NAME.dataKey,key:k.NAME.dataKey,columnShownKey:k.NAME.columnShownKey,label:k.NAME.label,width:n,fixed:true,sortable:true,sortKey:c('AudiencePropertyConstants').NAME,compareFunction:c('FixedDataTableSortFunctions').compareString,headerAlign:j.LEFT},{cellRenderer:function v(w,x,y,z,aa){return (c('React').createElement('div',{className:"_ewc"},c('React').createElement(c('AudienceManagerTypeColumnCellRenderer.react'),{audience:y})));},headerRenderer:c('AudienceManagerColumnHeaderRenderers').renderSortableHeader,dataKey:k.TYPE.dataKey,key:k.TYPE.dataKey,columnShownKey:k.TYPE.columnShownKey,label:k.TYPE.label,width:o,fixed:false,sortable:true,sortKey:c('AudiencePropertyConstants').SUBTYPE,compareFunction:c('FixedDataTableSortFunctions').compareString,headerAlign:j.LEFT},{cellRenderer:function v(w,x,y,z,aa){var ba=void 0,ca=y.approximate_count||0;if(c('AdsAMAudienceUtils').isSavedTargetSpec(y)){ba=ca>=0?i(ca):l;}else ba=c('AdsAudienceDeliveryStatusUtils').isActive(y.delivery_status.code)?i(ca):l;return (c('React').createElement('div',{className:"_ewd"},ba));},headerRenderer:c('AudienceManagerColumnHeaderRenderers').renderSortableHeader,dataKey:k.SIZE.dataKey,key:k.SIZE.dataKey,columnShownKey:k.SIZE.columnShownKey,label:k.SIZE.label,width:p,fixed:false,sortable:true,sortKey:c('AudiencePropertyConstants').APPROXIMATE_COUNT,compareFunction:c('FixedDataTableSortFunctions').compareNumber,headerAlign:j.RIGHT},{cellRenderer:function v(w,x,y,z,aa){return (c('React').createElement('div',{className:"_ewc"},c('React').createElement(c('AudienceManagerStatusColumnRenderer.react'),{accountID:y.accountID,audience:y})));},headerRenderer:c('AudienceManagerColumnHeaderRenderers').renderHeader,dataKey:k.STATUS.dataKey,key:k.STATUS.dataKey,columnShownKey:k.STATUS.columnShownKey,label:k.STATUS.label,width:q,fixed:false,sortable:false,sortKey:null,compareFunction:c('emptyFunction'),headerAlign:j.LEFT},{cellRenderer:function v(w,x,y,z,aa){return (c('React').createElement('div',{className:"_ewc"},c('React').createElement(c('AudienceManagerTimeCreatedColumnRenderer.react'),{timeCreated:y.time_created})));},headerRenderer:c('AudienceManagerColumnHeaderRenderers').renderSortableHeader,dataKey:k.DATE_CREATED.dataKey,key:k.DATE_CREATED.dataKey,columnShownKey:k.DATE_CREATED.columnShownKey,label:k.DATE_CREATED.label,width:r,fixed:false,sortable:true,sortKey:c('AudiencePropertyConstants').TIME_CREATED,compareFunction:c('FixedDataTableSortFunctions').compareNumber,headerAlign:j.LEFT},{cellRenderer:function v(w,x,y,z,aa){return (c('React').createElement('div',{className:"_ewc _ewd"},y.id));},headerRenderer:c('AudienceManagerColumnHeaderRenderers').renderSortableHeader,dataKey:k.AUDIENCE_ID.dataKey,key:k.AUDIENCE_ID.dataKey,columnShownKey:k.AUDIENCE_ID.columnShownKey,label:k.AUDIENCE_ID.label,width:s,flexGrow:1,fixed:false,sortable:true,sortKey:c('AudiencePropertyConstants').ID,compareFunction:c('FixedDataTableSortFunctions').compareNumber,headerAlign:j.RIGHT},{cellRenderer:function v(w,x,y,z,aa){return (c('React').createElement('div',{className:"_ewc"},c('React').createElement(c('AudienceManagerSharingColumnCellRenderer.react'),{accountID:y.accountID,audience:y})));},headerRenderer:c('AudienceManagerColumnHeaderRenderers').renderHeader,dataKey:k.SHARING.dataKey,key:k.SHARING.dataKey,columnShownKey:k.SHARING.columnShownKey,label:k.SHARING.label,width:t,flexGrow:1,fixed:false,sortable:false,sortKey:null,compareFunction:c('emptyFunction'),headerAlign:j.LEFT}];if(c('CurrentUser').isEmployee())u.push({cellRenderer:function v(w,x,y,z,aa){return (c('React').createElement(c('AudienceManagerDebugAPIDataColumnCellRenderer.react'),{audience:y}));},headerRenderer:c('AudienceManagerColumnHeaderRenderers').renderHeader,dataKey:k.DEBUG.dataKey,key:k.DEBUG.dataKey,columnShownKey:k.DEBUG.columnShownKey,label:k.DEBUG.label,width:2*m,flexGrow:1,fixed:false,sortable:false,sortKey:null,compareFunction:c('emptyFunction'),headerAlign:j.CENTER});f.exports=u;}),null);
__d('AudienceManagerSelectableTable.react',['cx','fbt','ix','AdsAMViewActions','AdsAMViewStore','AdsAMAudienceStore','AdsCreateAudienceActionSelector.react','AssetLibraryAudienceColumnsConfig','AssetLibraryTable.react','AudienceManagerPlacement','AudienceManagerUIConstants','BUIAdoptionXUIGrayText.react','BUIAdoptionXUISpinner.react','Image.react','PureStoreBasedStateMixin','React','ReactComponentWithPureRenderMixin','Set'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=100,l=c('AudienceManagerUIConstants').DEFAULT_ROW_HEIGHT,m=c('React').PropTypes,n=c('React').createClass({displayName:'AudienceManagerSelectableTable',mixins:[c('PureStoreBasedStateMixin')(c('AdsAMViewStore'),c('AdsAMAudienceStore')),c('ReactComponentWithPureRenderMixin')],propTypes:{account:m.object.isRequired,canWrite:m.bool.isRequired,dao:m.object.isRequired,height:m.number.isRequired,placement:m.oneOf([c('AudienceManagerPlacement').NEW_ADS_MANAGER,c('AudienceManagerPlacement').STAND_ALONE,c('AudienceManagerPlacement').POWER_EDITOR,c('AudienceManagerPlacement').BIZ_ASSET_LIBRARY]),useSavedAudience:m.bool.isRequired,width:m.number.isRequired,onCreateAudienceClicked:m.func.isRequired,onLastRowReached:m.func},statics:{calculateState:function o(){var p=c('AdsAMViewStore').getColumnsShown(),q=new (c('Set'))();Object.entries(p).forEach(function(r){var s=r[0],t=r[1];if(t)q.add(s);});return {audiences:c('AdsAMAudienceStore').getAllAudiences(),displayLoading:c('AdsAMViewStore').isFiltering(),displayScrollLoading:c('AdsAMViewStore').isLoadingMoreAudiences(),columnsShown:q,sortState:c('AdsAMAudienceStore').getSortState()};}},getDefaultProps:function o(){return {placement:c('AudienceManagerPlacement').STAND_ALONE};},_rowRenderer:function o(p){return babelHelpers['extends']({accountID:this.props.account.account_id,dao:this.props.dao,placement:this.props.placement},p);},render:function o(){return (c('React').createElement('div',{className:"_5pvk"},this._renderTable(),this._renderLoading(),this._renderScrollLoading(),this._renderEmpty()));},_renderLoading:function o(){if(this.state.displayLoading)return (c('React').createElement(c('BUIAdoptionXUISpinner.react'),{className:"_2aah",size:'large'}));return null;},_renderScrollLoading:function o(){if(this.state.displayScrollLoading)return (c('React').createElement('div',{className:"_4u_-"},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'}),c('React').createElement('div',null,i._("Loading more audiences"),'...')));return null;},_renderEmpty:function o(){if(!this.state.displayLoading&&this.state.audiences.length===0){var p=i._("No Results Found"),q=i._("Try searching again or using different filters."),r=j("21712");return (c('React').createElement('div',{className:"_4udf",style:{width:this.props.width}},c('React').createElement(c('Image.react'),{height:k,src:r,width:k}),c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-8n",display:'block',shade:'light',size:'large',textAlign:'center',weight:'bold'},p),c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'light',size:'medium',textAlign:'center'},q),c('React').createElement(c('AdsCreateAudienceActionSelector.react'),{className:"_3-8-",disabled:!this.props.canWrite,use:'default',useSavedAudience:this.props.useSavedAudience,onAction:this.props.onCreateAudienceClicked})));}return null;},_renderTable:function o(){if(this.state.displayLoading)return null;return (c('React').createElement(c('AssetLibraryTable.react'),{columnsConfig:c('AssetLibraryAudienceColumnsConfig'),columnsData:this.state.audiences,emptyView:c('React').createElement('div',null),rowHeight:l,rowRenderer:this._rowRenderer,sort:this.state.sortState,tableHeight:this.props.height,tableWidth:this.props.width,visibleColumns:this.state.columnsShown,onCheckboxSelect:this._onCheckboxSelect,onLoadMore:this._onLoadMore,onSelectAll:this._onSelectAll}));},_onLoadMore:function o(){this.props.onLastRowReached&&setTimeout(this.props.onLastRowReached,1);},_onCheckboxSelect:function o(p){c('AdsAMViewActions').clickAudienceCheckbox(p.target.value,p.target.checked);},_onSelectAll:function o(p){this.state.audiences.forEach(function(q){c('AdsAMViewActions').clickAudienceCheckbox(q.id,p.target.checked);});}});f.exports=n;}),null);
__d('AudienceManagerSeparator.react',['cx','React'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=null;if(this.props.marginTop!==undefined){m=m||{};m.marginTop=this.props.marginTop;}if(this.props.marginBottom!==undefined){m=m||{};m.marginBottom=this.props.marginBottom;}return (c('React').createElement('div',{className:"_51y0",style:m}));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={marginTop:k.number,marginBottom:k.number};f.exports=l;}),null);
__d('AdsCMAccountID.react',['fbt','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement('span',null,h._("Advert Account: {Ad account ID} ({Currency symbol e.g. USD})",[h.param('Ad account ID',this.props.accountID),h.param('Currency symbol e.g. USD',this.props.currency)])));};function l(){i.apply(this,arguments);}l.propTypes={accountID:k.string.isRequired,currency:k.string.isRequired};f.exports=l;}),null);
__d('AudienceManagerTableHeader.react',['cx','fbt','AdsCMAccountID.react','BUIAdoptionXUIGrayText.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AudienceManagerTableHeader1=function(){if(!this.props.account.account_id||!this.props.account.currency)return null;return (c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_1_jj",key:'accountID',shade:'light'},c('React').createElement(c('AdsCMAccountID.react'),{accountID:this.props.account.account_id,currency:this.props.account.currency})));}.bind(this),o;}m.prototype.render=function(){return c('React').createElement('div',{className:"_2pib _2pie _2pim clearfix"},c('React').createElement('div',{className:"_1_jg"},this.$AudienceManagerTableHeader1()),c('React').createElement('div',{className:"_5w-l"},i._("Audiences")));};m.propTypes={account:l.object.isRequired};f.exports=m;}),null);
__d('AudienceManagerTopNavigation.react',['cx','fbt','AdsCreateAudienceActionSelector.react','LeftRight.react','BusinessURI.brands','Link.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){var n=this.props.isBlankState?c('React').createElement('div',null):c('React').createElement(c('AdsCreateAudienceActionSelector.react'),{disabled:!this.props.canWrite,useSavedAudience:this.props.useSavedAudience,onAction:this.props.onAction}),o=c('BusinessURI.brands')('/ads/manage/').addQueryData({act:this.props.accountID});return (c('React').createElement('div',{className:"_2pi3 _2pia"},c('React').createElement(c('LeftRight.react'),null,c('React').createElement('div',{className:"_3p18"},c('React').createElement(c('Link.react'),{href:o},i._("Adverts Manager")),c('React').createElement('span',{className:"_3jw5"},'>'),c('React').createElement('span',{className:"_3jw6"},i._("Audiences"))),n)));};function m(){j.apply(this,arguments);}m.propTypes={accountID:l.string.isRequired,onAction:l.func.isRequired,canWrite:l.bool.isRequired,isBlankState:l.bool.isRequired,useSavedAudience:l.bool.isRequired};f.exports=m;}),null);
__d("AudienceManagerStages",[],(function a(b,c,d,e,f,g){f.exports={IDLE:1,PROCESSING:2,ERROR:3};}),null);
__d('AudienceManagerTransactionDialog.react',['cx','AudienceManagerStages','BUIAdoptionXUINotice.react','BUIAdoptionXUISpinner.react','React','XUIDialog.react','XUIDialogBody.react'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$AudienceManagerTransactionDialog3=function(){this.$AudienceManagerTransactionDialog1(false);}.bind(this),this.$AudienceManagerTransactionDialog1=function(r){if(!r)this.props.onCancelError&&this.props.onCancelError();}.bind(this),n;}l.prototype.render=function(){'use strict';var m=this.props.stage===c('AudienceManagerStages').PROCESSING||this.props.stage===c('AudienceManagerStages').ERROR;return c('React').createElement(c('XUIDialog.react'),{shown:m,width:600,onToggle:this.$AudienceManagerTransactionDialog1,key:'dialog'},c('React').createElement(c('XUIDialogBody.react'),null,this.$AudienceManagerTransactionDialog2()));};l.prototype.$AudienceManagerTransactionDialog2=function(){'use strict';switch(this.props.stage){case c('AudienceManagerStages').PROCESSING:return c('React').createElement('div',{className:"_5oe3"},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{background:'light',size:'large'}));case c('AudienceManagerStages').ERROR:return c('React').createElement('div',{className:"_5oe3"},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'error',onClose:this.$AudienceManagerTransactionDialog3},this.props.error.message));default:return c('React').createElement('span',null);}};l.propTypes={error:k.object,stage:k.number.isRequired,onCancelError:k.func.isRequired};f.exports=l;}),null);
__d('AudienceManagerWeightedCustomAudienceTerm.react',['fbt','BusinessURI.brands','Link.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){if(this.props.termsAlreadyAccepted)return (c('React').createElement('div',null,c('React').createElement('label',{htmlFor:'termsOfService'},h._("You have already accepted {link}",[h.param('link',c('React').createElement(c('Link.react'),{href:c('BusinessURI.brands')('/customaudiences/value_based/tos?act='+this.props.accountID),target:'_blank'},'Facebook Value-based Lookalikes Terms'))]))));return (c('React').createElement('div',null,c('React').createElement('input',{checked:this.props.termsBoxChecked,id:'termsOfService',type:'checkbox',onChange:this.props.onTermsCheckboxChanged}),c('React').createElement('label',{htmlFor:'termsOfService'},h._("I agree to the {link}",[h.param('link',c('React').createElement(c('Link.react'),{href:c('BusinessURI.brands')('/customaudiences/value_based/tos?act='+this.props.accountID),target:'_blank'},'Facebook Weighted Custom Audiences Terms'))]))));};function l(){i.apply(this,arguments);}l.propTypes={accountID:k.string.isRequired,termsAlreadyAccepted:k.bool.isRequired,termsBoxChecked:k.bool.isRequired,onTermsCheckboxChanged:k.func.isRequired};l.defaultProps={termsAlreadyAccepted:false};f.exports=l;}),null);
__d('AdsSavedAudienceLoggingEvents',[],(function a(b,c,d,e,f,g){'use strict';var h={CANCEL_IN_CAMPAIGN_LIST_DIALOG:'sa_cancel_in_campaign_list_dialog',SAVE_AS_IN_CAMPAIGN_LIST_DIALOG:'sa_save_as_in_campaign_list_dialog',UPDATE_IN_CAMPAIGN_LIST_DIALOG:'sa_update_in_campaign_list_dialog',SAVE_AS_IN_EDIT_DIALOG:'sa_save_as_in_edit_dialog',UPDATE_IN_EDIT_DIALOG_NO_ADS:'sa_update_in_edit_dialog_no_ads',UPDATE_IN_EDIT_DIALOG_WITH_ADS:'sa_update_in_edit_dialog_with_ads',CHECK_SAVE_THIS_AUDIENCE:'sa_save_this_audience_box_checked',SELECT_NEW_AUDIENCE:'sa_new_audience_item_selected',SELECT_SAVED_AUDIENCES:'sa_saved_audiences_item_selected',SAVE_TARGETING_CLICKED:'sa_save_targeting_clicked',SAVE_TARGETING_COMPLETE:'sa_save_targeting_complete',SAVE_AS_COMPLETE:'sa_save_as_complete',SAVE_AS_CANCEL:'sa_save_as_cancel',SAVED_AUDIENCE_TAB_OPENED:'sa_saved_audience_tab_opened',CREATE_NEW_TAB_OPENED:'sa_create_new_tab_opened',CREATE_FROM_AM_CLICKED:'sa_create_from_am_clicked',CREATE_FROM_AM_COMPLETED:'sa_create_from_am_completed',ALL_AUDIENCES_LOADED:'saved_audience_editor_loaded'};f.exports=h;}),null);
__d('AdsTargetingBootloadDialog.react',['regeneratorRuntime','BUIAdoptionXUISpinner.react','LayerFadeOnHide','React','XUIDialog.react','XUIDialogBody.react','emptyFunction'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.$AdsTargetingBootloadDialog1=function(){this.props.onCancel();}.bind(this);this.state={loadedComponent:null};}k.prototype.componentWillMount=function(){(function l(){var m;return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return c('regeneratorRuntime').awrap(this.props.bootloadLoader.load());case 2:m=o.sent;if(!this.$AdsTargetingBootloadDialog2){o.next=5;break;}return o.abrupt('return');case 5:this.setState({loadedComponent:m});case 6:case 'end':return o.stop();}},null,this);}).bind(this)();};k.prototype.componentWillUnmount=function(){this.$AdsTargetingBootloadDialog2=true;};k.prototype.render=function(){if(!this.state.loadedComponent)return this.$AdsTargetingBootloadDialog3();return this.$AdsTargetingBootloadDialog4();};k.prototype.$AdsTargetingBootloadDialog3=function(){var l=this.props,m=l.bootloadLoader,n=l.bootloadPlaceholder,o=l.onToggle,p=l.dialogTitle,q=l.dialogFooter,r=babelHelpers.objectWithoutProperties(l,['bootloadLoader','bootloadPlaceholder','onToggle','dialogTitle','dialogFooter']),s=n;return c('React').createElement(c('XUIDialog.react'),babelHelpers['extends']({behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},onToggle:this.$AdsTargetingBootloadDialog1},r),p||null,c('React').createElement(c('XUIDialogBody.react'),{style:{textAlign:'center'}},s),q||null);};k.prototype.$AdsTargetingBootloadDialog4=function(){var l=this.state.loadedComponent,m=this.props,n=m.children,o=m.dialogTitle,p=m.dialogFooter;return (c('React').createElement(l,this.props,o||null,n,p||null));};k.defaultProps={onCancel:c('emptyFunction'),bootloadPlaceholder:c('React').createElement('div',{style:{padding:100}},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'}))};f.exports=k;}),null);
__d('AdsTargetingEstimatedReach.react',['fbt','AdsGraphAPI','BUIAdoptionXUINoticeSmall.react','LoadingIndicator.react','React','adsFormatErrorMessage','areEqual','cachedGraphAPI','ads-lib-formatters','isValidTargetingSpec','AdsAPIOptimizationGoals','getByPath'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('ads-lib-formatters').createIntlLongNumberFormatter(0),k=c('React').createClass({displayName:'AdsTargetingEstimatedReach',propTypes:{accountID:i.string.isRequired,errorRenderer:i.func,objectStoreUrl:i.string,optimizeFor:i.string,renderer:i.func,showDAP:i.bool,targetingApiSpec:i.object.isRequired,width:i.number},getInitialState:function l(){return {loading:false,estimates:null,error:null};},componentWillMount:function l(){this.setState({loading:true,estimates:null,error:null});this._updateEstimatedReach(this.props);},componentWillReceiveProps:function l(m){if(c('areEqual')(this.props,m))return;this.setState({loading:true,estimates:null,error:null},function(){return this._updateEstimatedReach(m);}.bind(this));},_updateEstimatedReach:function l(m){if(!c('isValidTargetingSpec')(m.targetingApiSpec)){this.setState({loading:false,estimates:null,error:c('isValidTargetingSpec').errorMessage});return;}if(m.targetingApiSpec.product_audience_specs&&!(m.targetingApiSpec.product_audience_specs[0]&&m.targetingApiSpec.product_audience_specs[0].product_set_id)){var n=h._("Your audience targeting is incomplete. Select a product set to see your potential audience.");this.setState({loading:false,estimates:null,error:n});return;}var o={targeting_spec:m.targetingApiSpec};if(m.optimizeFor){o.optimize_for=m.optimizeFor;}else o.optimize_for=c('AdsAPIOptimizationGoals').NONE;if(m.objectStoreUrl)o.object_store_url=m.objectStoreUrl;c('cachedGraphAPI')(c('AdsGraphAPI').get(f.id).adaccount(m.accountID).edge('reachestimate')).get(o).done(function(p){if(!this.isMounted())return;p=p.data;var q=null;if(!p.estimate_ready){q=h._("It will take up to 30 minutes to calculate the size of this audience. You can continue creating this advert or come back and select this audience again to view the potential reach.");p=null;}this.setState({loading:false,estimates:p,error:q});}.bind(this),function(p){if(!this.isMounted())return;this.setState({loading:false,estimates:null,error:c('adsFormatErrorMessage')(p)});}.bind(this));},render:function l(){return (c('React').createElement('div',{style:{width:this.props.width}},this._renderLoadingIndicator(),this._renderEstimatedReach(),this._renderError()));},_renderLoadingIndicator:function l(){if(this.state.loading)return c('React').createElement(c('LoadingIndicator.react'),{color:'blue',size:'small'});return null;},_renderEstimatedReach:function l(){var m=this.state.estimates;if(!m)return null;var n=this.props.showDAP?c('getByPath')(m,['bid_estimations',0,'estimate_DAU']):m.users;if(this.props.renderer)return this.props.renderer(n);return (c('React').createElement('div',null,h._("Potential reach:")," ",h._({"*":"{num_of_people} people"},[h.param('num_of_people',j(n),[0,n])])));},_renderError:function l(){if(!this.state.error)return null;if(this.props.errorRenderer)return this.props.errorRenderer(this.state.error);return (c('React').createElement(c('BUIAdoptionXUINoticeSmall.react'),{type:'information'},this.state.error));}});f.exports=k;}),null);
__d('TargetingSectionDivider.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement('hr',{className:"_3nv9"}));};function l(){i.apply(this,arguments);}l.displayName='TargetingSectionDivider';l.targetingSpecFields={};f.exports=l;}),null);
__d('TargetingSentences.react',['cx','fbt','AdsGraphAPI','React','cachedGraphAPI','isValidTargetingSpec'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('React').createClass({displayName:'TargetingSentences',propTypes:{targetingApiSpec:j.object.isRequired,accountID:j.string.isRequired},getInitialState:function l(){return {sentences:[]};},componentWillMount:function l(){this._updateTargetingSentencesIfValid(this.props);},componentWillReceiveProps:function l(m){this._updateTargetingSentencesIfValid(m);},_updateTargetingSentencesIfValid:function l(m){if(!c('isValidTargetingSpec')(m.targetingApiSpec))return;c('cachedGraphAPI')(c('AdsGraphAPI').get(f.id).adaccount(m.accountID).edge('targetingsentencelines')).get({discard_placements:true,targeting_spec:m.targetingApiSpec}).done(function(n){if(this.isMounted())this.setState({sentences:n.targetingsentencelines});}.bind(this));},render:function l(){var m=[];if(!this.state.sentences.length){m.push(c('React').createElement('li',{key:'all'},i._("Everyone")));}else m=this.state.sentences.map(function(n,o){if(!n.content)return c('React').createElement('li',{key:n},n);return (c('React').createElement('li',{key:n.content+'.'+o},c('React').createElement('div',null,n.content),c('React').createElement('ul',{className:"_xg0 pll"},(n.children||[]).map(function(p,q){return (c('React').createElement('li',{key:p},p));}))));});return (c('React').createElement('div',{className:"_xg1",'data-testid':'targeting-estimate-feedback'},c('React').createElement('span',{className:"_hq- fwb"},i._("Audience Details:")),c('React').createElement('ul',{className:"_xg2 pll pts"},m)));}});f.exports=k;}),null);
__d('AdsSavedAudienceTargetingDialogBody.react',['cx','fbt','AdsAccountStore_DEPRECATED','AdsInfoTable.react','AdsInfoTableRow.react','AdsInfoTableSection.react','AdsLoadState','AdsTargetingBootloadDialog.react','AdsTargetingEstimatedReach.react','AdsTextInput.react','BUIAdoptionXUISpinner.react','FluxMixinLegacy','JSResource','LeftRight.react','React','TargetingSectionDivider.react','TargetingSentences.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=600,l=c('React').createClass({displayName:'AdsSavedAudienceTargetingDialogBody',mixins:[c('FluxMixinLegacy')([c('AdsAccountStore_DEPRECATED')],{withProps:true})],propTypes:{accountID:j.string.isRequired,audienceName:j.oneOfType([j.string,j.oneOf([null])]),dynamicTargetingContext:j.object.isRequired,hideName:j.bool,isReachFrequency:j.bool.isRequired,reachFrequencySupportedCountries:j.arrayOf(j.string),targetingAPISpec:j.object.isRequired,width:j.number,onAudienceNameChange:j.func.isRequired,onTargetingChange:j.func.isRequired},getDefaultProps:function m(){return {isReachFrequency:false,dynamicTargetingContext:{productAdBehavior:null,productCatalogID:null,promotedProductSetID:null}};},statics:{calculateState:function m(n,o){var p=c('AdsAccountStore_DEPRECATED').get(o.accountID);return {account:p,loading:p.loadState===c('AdsLoadState').LOADING};}},render:function m(){return (c('React').createElement('div',null,c('React').createElement(c('LeftRight.react'),null,c('React').createElement('div',{style:{width:k}},this._renderTopRow(),this._renderEditor()),c('React').createElement('div',{className:"_1s96"},this._renderReach(),this._renderTargetingSentences()))));},_renderEditor:function m(){if(this.state.loading)return c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'});return (c('React').createElement(c('AdsTargetingBootloadDialog.react'),{account:this.state.account,bootloadLoader:c('JSResource')('AdsSavedAudienceTargetingEditingSection.react').__setRef('AdsSavedAudienceTargetingDialogBody.react'),dynamicTargetingContext:this.props.dynamicTargetingContext,isReachFrequency:this.props.isReachFrequency,reachFrequencySupportedCountries:this.props.reachFrequencySupportedCountries,targetingAPISpec:this.props.targetingAPISpec,width:this.props.width,onTargetingChange:this.props.onTargetingChange}));},_renderTopRow:function m(){if(this.props.hideName)return null;return (c('React').createElement('div',{style:{width:k}},c('React').createElement(c('AdsInfoTable.react'),null,c('React').createElement(c('AdsInfoTableSection.react'),null,c('React').createElement(c('AdsInfoTableRow.react'),{className:"_1s97",label:i._("Audience Name")},c('React').createElement(c('AdsTextInput.react'),{placeholder:i._("Name your audience"),value:this.props.audienceName||'',onChange:this.props.onAudienceNameChange})))),c('React').createElement(c('TargetingSectionDivider.react'),null)));},_renderReach:function m(){return (c('React').createElement('div',null,c('React').createElement('div',{className:"_5llx"},i._("Potential Audience")),c('React').createElement(c('AdsTargetingEstimatedReach.react'),{accountID:this.props.accountID,targetingApiSpec:this.props.targetingAPISpec})));},_renderTargetingSentences:function m(){return (c('React').createElement(c('TargetingSentences.react'),{accountID:this.props.accountID,targetingApiSpec:this.props.targetingAPISpec}));}});f.exports=l;}),null);
__d('AdsCreateSavedAudienceTargetingDialog.react',['fbt','AdsInterfacesLogger','AdsCommonTargetingUtils','AdsSavedAudienceLoggingEvents','AdsSavedAudienceTargetingDialogBody.react','LayerFadeOnHide','LayerHideOnEscape','React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','isValidTargetingSpec'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=910;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={audienceName:'',loadedTargetingAPISpec:false,targetingAPISpec:null},this.$AdsCreateSavedAudienceTargetingDialog4=function(){return (this.state.audienceName.trim().length>0&&c('isValidTargetingSpec')(this.state.targetingAPISpec));}.bind(this),this.$AdsCreateSavedAudienceTargetingDialog1=function(s){if(!s)this.props.onCancel();}.bind(this),this.$AdsCreateSavedAudienceTargetingDialog5=function(){c('AdsInterfacesLogger').log({eventName:c('AdsSavedAudienceLoggingEvents').CREATE_FROM_AM_COMPLETED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.props.onCreate(this.state.audienceName,this.state.targetingAPISpec);}.bind(this),this.$AdsCreateSavedAudienceTargetingDialog2=function(s){this.setState({audienceName:s});}.bind(this),this.$AdsCreateSavedAudienceTargetingDialog3=function(s){this.setState({targetingAPISpec:s});}.bind(this),o;}m.prototype.componentDidMount=function(){if(this.props.autoLaunch&&this.props.autoLaunch.workflow_config){this.setState({loadedTargetingAPISpec:true,targetingAPISpec:this.props.autoLaunch.workflow_config});}else c('AdsCommonTargetingUtils').getDefaultTargeting(this.props.accountInfo).done(function(n){this.setState({loadedTargetingAPISpec:true,targetingAPISpec:n});}.bind(this));};m.prototype.render=function(){if(!this.state.loadedTargetingAPISpec)return null;return c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide'),LayerHideOnEscape:c('LayerHideOnEscape')},shown:this.props.isShown,width:l,onToggle:this.$AdsCreateSavedAudienceTargetingDialog1,key:'dialog'},c('React').createElement(c('XUIDialogTitle.react'),null,h._("Create a saved audience")),c('React').createElement(c('XUIDialogBody.react'),{fontSize:"inherit"},c('React').createElement(c('AdsSavedAudienceTargetingDialogBody.react'),{accountID:this.props.accountID,audienceName:this.state.audienceName,targetingAPISpec:this.state.targetingAPISpec,onAudienceNameChange:this.$AdsCreateSavedAudienceTargetingDialog2,onTargetingChange:this.$AdsCreateSavedAudienceTargetingDialog3})),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:h._("Cancel"),use:'default',onClick:this.props.onCancel}),c('React').createElement(c('XUIDialogButton.react'),{disabled:!this.$AdsCreateSavedAudienceTargetingDialog4(),label:h._("Create Audience"),use:'confirm',onClick:this.$AdsCreateSavedAudienceTargetingDialog5})));};m.propTypes={accountID:k.string.isRequired,accountInfo:k.object.isRequired,autoLaunch:k.object,isShown:k.bool.isRequired,onCancel:k.func.isRequired,onCreate:k.func.isRequired};f.exports=m;}),null);
__d('AdsManagerEmptyStateInfo.react',['cx','invariant','Button.react','Image.react','ImageBlock.react','React','XUIButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;function m(p){return !!(p.type===c('Button.react')||p.type===c('XUIButton.react'));}function n(p){var q=p.props&&p.props.children,r=0;if(q)c('React').Children.forEach(q,function(s){if(m(s))r++;});return !!r;}j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$AdsManagerEmptyStateInfo1=function(){var u=this.props.actions;if(!u||!u.length)return;var v=[];u.forEach(function(w){if(m(w)){var x=v.length?'default':'special';v.push(c('React').cloneElement(w,{use:x,size:'large'}));}});if(!v.length)return;return (c('React').createElement('div',{className:"_5hbw"},v));}.bind(this),q;}o.prototype.render=function(){var p=[],q=this.props.imgsrc;if(q)p.push(c('React').createElement(c('Image.react'),{className:"_5hbd",src:q}));var r=this.props.children;if(r){!m(r)&&!n(r)||i(0);r=c('React').createElement('div',{className:"_5hbv"},r);}p.push([c('React').createElement('h3',{className:"_5xay"},this.props.message),r,this.$AdsManagerEmptyStateInfo1()]);var s="_5hb9"+(this.props.align==='center'?' '+"_5hbc":'');if(this.props.imgsrc&&this.props.align!=='center'){return c('React').createElement(c('ImageBlock.react'),{className:s,spacing:'large'},p);}else return c('React').createElement('div',{className:s},p);};o.propTypes={actions:l.array,align:l.oneOf(['center','left']),imgsrc:c('Image.react').validateImageSrcPropType,message:l.string.isRequired};f.exports=o;}),null);
__d('CreateCADialogTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({MACA:'',CUSTOMER_LIST:'',LOOKALIKE:'',DATA_SET:'',ENGAGEMENT_AUDIENCE:'',WCA:'',PLATFORM_AUDIENCE:'',STOREVISIT_AUDIENCE:''});f.exports=h;}),null);
__d('CreateCAStages',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({CREATE_AUDIENCE_INIT:'',CUSTOMER_LIST:'',COPY_PASTE_INIT:'',COPY_PASTE_UPLOAD:'',COPY_PASTE_UPLOAD_COMPLETE:'',FILE_MULTIKEY_IMPORT_INIT:'',FILE_VALUE_BASED_MULTIKEY_IMPORT_INIT:'',FILE_VALUE_BASED_MULTIKEY_NUX:'',FILE_VALUE_BASED_MULTIKEY_TOS:'',FILE_IMPORT_INIT:'',FILE_IMPORT_CHECK_FILE:'',FILE_IMPORT_UPLOAD:'',FILE_IMPORT_UPLOAD_CONVERT_ERROR:'',FILE_IMPORT_NO_VALID_ENTRY:'',FILE_IMPORT_UPLOAD_COMPLETE:'',FILE_IMPORT_UPLOAD_ERROR:'',MAIL_CHIMP_INIT:'',MAIL_CHIMP_AUTHENTICATE:'',MAIL_CHIMP_FETCH_COMPLETE:'',MAIL_CHIMP_UPLOAD:'',MAIL_CHIMP_UPLOAD_COMPLETE:'',CREATION_COMPLETE_NEXT_STEP:'',EDIT_AUDIENCE_INIT:'',EDIT_ENGAGEMENT_AUDIENCE_INIT:'',EDIT_PLATFORM_AUDIENCE_INIT:'',OPT_OUT_USER_FILE_IMPORT_INIT:'',FATAL_ERROR:'',ENGAGEMENT_AUDIENCE_CREATED:'',CREATE_ENGAGEMENT_AUDIENCE:'',CREATE_VIDEO_AUDIENCE:'',CREATE_LEAD_GEN_AUDIENCE:'',CREATE_CANVAS_AUDIENCE:'',CREATE_PAGE_AUDIENCE:'',CREATE_PAGE_ENGAGEMENT_AUDIENCE:'',CREATE_LINK_SHARING_AUDIENCE:'',CREATE_STORE_VISIT_AUDIENCE:''});f.exports=h;}),null);
__d('SignalsValidationUtils',['SignalsStringStripModes'],(function a(b,c,d,e,f,g){'use strict';var h=/^[a-f0-9]{64}$/i,i=/^\s+|\s+$/g,j=/\s+/g,k=/[!"#\$%&'\(\)\*\+,\-\.\/:;<=>\?@ \[\\\]\^_`\{\|\}~\s]+/g,l=/\W+/g;function m(z){return z!=null&&z.constructor===Array;}function n(z){return typeof z==='string';}function o(z){return typeof z==='string'?z.replace(i,''):undefined;}function p(z){var aa=arguments.length<=1||arguments[1]===undefined?c('SignalsStringStripModes').WHITESPACE_ONLY:arguments[1],ba=void 0;if(typeof z==='string')switch(aa){case c('SignalsStringStripModes').WHITESPACE_ONLY:ba=z.replace(j,'');break;case c('SignalsStringStripModes').WHITESPACE_AND_PUNCTUATION:ba=z.replace(k,'');break;case c('SignalsStringStripModes').ALL_NON_LATIN_ALPHA_NUMERIC:ba=z.replace(l,'');break;}return ba;}function q(z){return typeof z==='string'?z.toLowerCase():undefined;}function r(z,aa){var ba=z.indexOf(aa);if(ba>-1)z.splice(ba,1);return z;}function s(z,aa){if(m(aa)){return m(z)?z.push.apply(z,aa):aa;}else return m(z)?z:[];}function t(z){return (Object.prototype.toString.call(z)==='[object Object]');}function u(z,aa){return t(z)&&Object.prototype.hasOwnProperty.call(z,aa);}function v(z,aa,ba){var ca=aa.split('.');if(ba===undefined)ba=null;for(var da=0;da<ca.length-1;da++){var ea=ca.shift();z=z[ea]||(z[ea]={});}var fa=ca[0];if(!u(z,fa)){z[fa]=ba;}else{var ga=z[fa];if(m(ga)){ga.push(ba);}else z[fa]=[ga,ba];}return z;}function w(z){return h.test(z);}function x(z){return b.File&&z instanceof File||z instanceof Object;}function y(z){var aa=arguments.length<=1||arguments[1]===undefined?null:arguments[1];throw new Error('Fatal: '+z+', detail='+JSON.stringify(aa));}f.exports={addToArray:s,addValueAtPath:v,arrayDelete:r,hasProp:u,isArray:m,isFile:x,isObject:t,isString:n,looksLikeHashed:w,lower:q,strip:p,throwFatalError:y,trim:o,STRIP_MODES:c('SignalsStringStripModes')};}),null);
__d('SignalsUploaderErrorUtils',['immutable','SignalsNormalizationErrorScope','SignalsValidationUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').List;function i(l,m,n){m.errors.forEach(function(r){if(r.where===c('SignalsNormalizationErrorScope').PROP){if(m.type==='prop'){var s=r.propError&&r.propError.badValues||[];s.forEach(function(w){var x=w.rawPosition!=null?Array.isArray(w.rawPosition)?w.rawPosition:[w.rawPosition]:[];l.invalidColumns=l.invalidColumns.withMutations(function(y){x.forEach(function(z){var aa=y.get(z);if(aa==null){y.set(z,{propPath:n,count:1});}else{var ba=aa.propPath,ca=aa.count;y.set(z,{propPath:ba,count:ca+1});}});});});}}else if(r.where===c('SignalsNormalizationErrorScope').RULE){var t=r.ruleError&&r.ruleError.ruleSpecs.name;if(t!=null){var u=n.length===0?t:n+'.'+t,v=l.namedRuleErrors.get(u);if(v!=null){v=v.push(r);}else v=h([r]);l.namedRuleErrors=l.namedRuleErrors.set(u,v);}else l.otherErrors=l.otherErrors.push(r);}else l.otherErrors=l.otherErrors.push(r);});if(m.type==='compound')for(var o in m.nodes){var p=m.nodes[o],q=n.length===0?o:n+'.'+o;i(l,p,q);}}function j(l){var m={invalidColumns:c('immutable').Map(),namedRuleErrors:c('immutable').Map(),otherErrors:h(),fatalErrors:h()};l.forEach(function(n){if(n.tree!=null)i(m,n.tree,'');if(n.fatalError!=null)m.fatalErrors=m.fatalErrors.push(n.fatalError);});return m;}function k(l){if(l)if(typeof l==='string'){return l;}else if(l.error_user_msg){return l.error_user_msg;}else return l.message;return null;}f.exports={getErrorSummary:j,getHumanFriendlyAPIErrorMessage:k};}),null);
__d("XSignalsUploaderLoggerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ads\/signals\/uploader-basic-logging\/",{key:{type:"Enum",required:true,enumType:1}});}),null);
__d('SignalsUILogger',['AdsInterfacesLogEvents','AdsInterfacesLogger','AsyncRequest','AdsInterfacesLoggerConfigColumns','SignalsUploaderErrorUtils','XSignalsUploaderLoggerController'],(function a(b,c,d,e,f,g){'use strict';var h=c('SignalsUploaderErrorUtils').getHumanFriendlyAPIErrorMessage,i=c('AdsInterfacesLogEvents').EventCategory,j={};function k(l,m,n){this.$SignalsUILogger1=l;this.$SignalsUILogger3=m||Date.now();this.$SignalsUILogger2=n;this.$SignalsUILogger5=0;this.$SignalsUILogger4={};}k.prototype.$SignalsUILogger6=function(l){this.$SignalsUILogger5++;this.$SignalsUILogger4[l]=this.$SignalsUILogger4[l]||0;this.$SignalsUILogger4[l]++;};k.prototype.log=function(l,m,n){var o;m=m||{};this.$SignalsUILogger6(l);var p=this.$SignalsUILogger2,q=Object.assign({},n,p!=null?{containerContext:p}:null);q.eventIndex=this.$SignalsUILogger5;q.eventCounts=this.$SignalsUILogger4;q.details=m;c('AdsInterfacesLogger').log({eventName:l,eventCategory:i.USER_ACTION,data:(o={},o[c('AdsInterfacesLoggerConfigColumns').EVENT_SOURCE]=this.$SignalsUILogger1,o[c('AdsInterfacesLoggerConfigColumns').ACTUAL_EVENT_TIME]=Date.now(),o[c('AdsInterfacesLoggerConfigColumns').SIGNALS_UI_EVENT_DATA]=JSON.stringify(q),o[c('AdsInterfacesLoggerConfigColumns').SIGNALS_UI_LOGGER_SESSION_ID]=this.$SignalsUILogger3,o[c('AdsInterfacesLoggerConfigColumns').AT_SECTION]=m.atSection,o[c('AdsInterfacesLoggerConfigColumns').TO_SECTION]=m.toSection,o[c('AdsInterfacesLoggerConfigColumns').ERROR_TYPE]=m.errorType,o[c('AdsInterfacesLoggerConfigColumns').ERROR_CODE]=m.errorCode,o[c('AdsInterfacesLoggerConfigColumns').MESSAGE]=m.errorMessage,o)},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};k.prototype.logEvent=function(l,m){this.log(l,null,m);};k.prototype.logError=function(l,m,n,o){var p={errorCode:m.code,errorFBTraceID:m.fbtrace_id,errorMessage:h(m),errorStackTrace:m.stack,errorSubCode:m.error_subcode,errorType:m.type},q=Object.assign({},p,o);this.log(l,q,n);};k.prototype.getContainerContext=function(){return this.$SignalsUILogger2;};k.prototype.setContainerContext=function(l){this.$SignalsUILogger2=l;};k.logToCounter=function(l){new (c('AsyncRequest'))().setAllowCrossOrigin(true).setURI(c('XSignalsUploaderLoggerController').getURIBuilder().setEnum('key',l).getURI()).setErrorHandler(function(m){}).send();};k.getAppLogger=function(l){if(j[l]==null)j[l]=new k(l);return j[l];};k.getDefaultLogger=function(){return k.getAppLogger('_default_');};f.exports=k;}),null);
__d('AdsAMCreateAudienceStore',['fbt','AdsAMActionTypes','AdsDispatcher','Arbiter','CreateCAStages','CreateCADialogTypes','CustomAudienceCreationErrors','ImmutableObject','SignalsUILogger','SignalsUploaderLoggingKeys'],(function a(b,c,d,e,f,g,h){'use strict';var i=void 0,j=void 0,k=void 0,l=void 0,m=void 0,n=void 0,o=void 0,p=void 0,q=void 0,r=void 0,s=void 0,t=void 0,u=void 0,v=void 0,w=void 0,x=void 0;function y(){i=0;k=c('CreateCADialogTypes').CUSTOMER_LIST;j=c('CreateCAStages').CREATE_AUDIENCE_INIT;l={validRecord:0,invalidRecord:0,totalRecord:0};m=0;q=[];r={};s=0;t=0;n={};o=[];p={};u='';v=false;w=false;x=false;}function z(ba){switch(ba.errorType){case c('CustomAudienceCreationErrors').FILE_IMPORT_CSV_CONVERT_ERROR:j=c('CreateCAStages').FILE_IMPORT_UPLOAD_CONVERT_ERROR;u=ba.errorDetails;break;case c('CustomAudienceCreationErrors').FILE_IMPORT_NO_VALID_ENTRY:j=c('CreateCAStages').FILE_IMPORT_NO_VALID_ENTRY;u=h._("No valid entries were found. Please upload a different file.");break;case c('CustomAudienceCreationErrors').FILE_IMPORT_TOKEN_ERROR:case c('CustomAudienceCreationErrors').COPY_PASTE_TOKEN_ERROR:o.push(ba.error);return;case c('CustomAudienceCreationErrors').FILE_IMPORT_ERROR_LIMIT_REACH:p=ba.errorDetails;j=c('CreateCAStages').FILE_IMPORT_UPLOAD_ERROR;return;case c('CustomAudienceCreationErrors').FATAL_ERROR:u=ba.error.message;j=c('CreateCAStages').FATAL_ERROR;return;}}y();var aa=Object.assign(new (c('Arbiter'))(),{getViewDialogType:function ba(){return k;},getViewStage:function ba(){return j;},getNumberOfRecords:function ba(){return new (c('ImmutableObject'))(l);},getNumberOfVideosSelected:function ba(){return m;},getContactsLists:function ba(){return q;},getTotalPage:function ba(){return s;},getCurrentPage:function ba(){return t;},getProgress:function ba(){return i;},getSelectableContactsLists:function ba(){var ca={};for(var da in r)ca[da]=new (c('ImmutableObject'))(r[da]);return ca;},getAudiences:function ba(){return n;},getErrorTokenLists:function ba(){var ca=[];ca=o.map(function(da){return da.token;});return ca;},getErrorDetailsForLimitReach:function ba(){return new (c('ImmutableObject'))(p);},getErrorMessage:function ba(){return u;},getIsLeadAd:function ba(){return v;},getIsPageAd:function ba(){return w;},getIsVideoAudience:function ba(){return x;},dispatchToken:c('AdsDispatcher').register(function(ba){var ca=ba.action,da=true;switch(ca.actionType){case c('AdsAMActionTypes').CREATE_AUDIENCE_RESET:y();break;case c('AdsAMActionTypes').CREATE_AUDIENCE_SET_VIEW_STAGE:j=ca.viewStage;if(ca.viewStage==c('CreateCAStages').CREATE_LEAD_GEN_AUDIENCE){v=true;}else if(ca.viewStage==c('CreateCAStages').CREATE_PAGE_AUDIENCE){w=true;}else if(ca.viewStage==c('CreateCAStages').CREATE_VIDEO_AUDIENCE)x=true;break;case c('AdsAMActionTypes').CREATE_AUDIENCE_SET_VIEW_DIALOG_TYPE:k=ca.viewDialogType;break;case c('AdsAMActionTypes').CREATE_AUDIENCE_SHOW_MACA_DIALOG:k=c('CreateCADialogTypes').MACA;break;case c('AdsAMActionTypes').CREATE_AUDIENCE_SHOW_PLATFORM_DIALOG:k=c('CreateCADialogTypes').PLATFORM_AUDIENCE;break;case c('AdsAMActionTypes').FILE_IMPORT_CHECK_FILE:j=c('CreateCAStages').FILE_IMPORT_CHECK_FILE;break;case c('AdsAMActionTypes').FILE_IMPORT_START_UPLOAD:j=c('CreateCAStages').FILE_IMPORT_UPLOAD;c('SignalsUILogger').logToCounter(c('SignalsUploaderLoggingKeys').OLD_CA_UPLOADER_START_UPLOAD);break;case c('AdsAMActionTypes').FILE_IMPORT_UPLOAD_PROGRESS:case c('AdsAMActionTypes').COPY_PASTE_UPLOAD_PROGRESS:case c('AdsAMActionTypes').MAIL_CHIMP_UPLOAD_PROGRESS:i=ca.progress;break;case c('AdsAMActionTypes').FILE_IMPORT_CREATE_AUDIENCE_COMPLETE:n[ca.audienceID]={id:ca.audienceID,name:ca.audienceName};break;case c('AdsAMActionTypes').FILE_IMPORT_UPLOAD_COMPLETE:j=c('CreateCAStages').FILE_IMPORT_UPLOAD_COMPLETE;l=ca.numberOfRecords;c('SignalsUILogger').logToCounter(c('SignalsUploaderLoggingKeys').OLD_CA_UPLOADER_FINISH_UPLOAD);break;case c('AdsAMActionTypes').ENGAGEMENT_AUDIENCE_CREATED:k=c('CreateCADialogTypes').CUSTOMER_LIST;j=c('CreateCAStages').ENGAGEMENT_AUDIENCE_CREATED;n[ca.audienceID]=ca.audience;m=ca.audience.videoGroupCount?ca.audience.videoGroupCount:0;break;case c('AdsAMActionTypes').COPY_PASTE_START_UPLOAD:j=c('CreateCAStages').COPY_PASTE_UPLOAD;break;case c('AdsAMActionTypes').COPY_PASTE_CREATE_AUDIENCE_COMPLETE:n[ca.audienceID]={id:ca.audienceID,name:ca.audienceName};break;case c('AdsAMActionTypes').COPY_PASTE_UPLOAD_COMPLETE:j=c('CreateCAStages').COPY_PASTE_UPLOAD_COMPLETE;l=ca.numberOfRecords;break;case c('AdsAMActionTypes').MAIL_CHIMP_FETCH_COMPLETE:j=c('CreateCAStages').MAIL_CHIMP_FETCH_COMPLETE;s=ca.totalPage;t=ca.currentPage;q=ca.contactsLists;q.forEach(function(ea){r[ea.list_id]=ea;});break;case c('AdsAMActionTypes').MAIL_CHIMP_START_UPLOAD:j=c('CreateCAStages').MAIL_CHIMP_UPLOAD;break;case c('AdsAMActionTypes').MAIL_CHIMP_UPLOAD_COMPLETE:j=c('CreateCAStages').MAIL_CHIMP_UPLOAD_COMPLETE;n=ca.audiences;break;case c('AdsAMActionTypes').FILE_IMPORT_ERROR:case c('AdsAMActionTypes').COPY_PASTE_ERROR:z(ca);break;case c('AdsAMActionTypes').UPDATE_NAME_DESCRIPTION_COMPLETE:Object.keys(ca.audiences).forEach(function(ea){n[ea]=ca.audiences[ea];});break;case c('AdsAMActionTypes').CREATE_AUDIENCE_SHOW_DATA_SET_DIALOG:k=c('CreateCADialogTypes').DATA_SET;break;case c('AdsAMActionTypes').CREATE_AUDIENCE_SHOW_ENGAGEMENT_AUDIENCE_DIALOG:k=c('CreateCADialogTypes').ENGAGEMENT_AUDIENCE;break;case c('AdsAMActionTypes').CREATE_AUDIENCE_SHOW_STORE_VISIT_AUDIENCE_DIALOG:k=c('CreateCADialogTypes').STOREVISIT_AUDIENCE;break;default:da=false;break;}if(da)aa.inform('change');})});f.exports=aa;}),null);
__d('ads-destinationType',['fbt','AdsDestinationTypes'],(function a(b,c,d,e,f,g,h){var i={};i[c('AdsDestinationTypes').EXTERNAL_WEBPAGE]=h._("URL");i[c('AdsDestinationTypes').PAGE]=h._("Page");i[c('AdsDestinationTypes').APP]=h._("Application");i[c('AdsDestinationTypes').EVENT]=h._("Event");i[c('AdsDestinationTypes').GROUP]=h._("Group");i[c('AdsDestinationTypes').REVIEW]=h._("Review");i[c('AdsDestinationTypes').PLACE]=h._("Place");i[c('AdsDestinationTypes').DOMAIN]=h._("Domain");i[c('AdsDestinationTypes').SEARCH]=h._("Search");i[c('AdsDestinationTypes').ENTER_URL]=h._("Search by URL");i[c('AdsDestinationTypes').SEARCH_BY_ID]=h._("Search by destination ID");var j={};j[c('AdsDestinationTypes').EXTERNAL_WEBPAGE]=h._("URL");j[c('AdsDestinationTypes').PAGE]=h._("Pages");j[c('AdsDestinationTypes').APP]=h._("Applications");j[c('AdsDestinationTypes').EVENT]=h._("Events");j[c('AdsDestinationTypes').GROUP]=h._("Groups");j[c('AdsDestinationTypes').REVIEW]=h._("Reviews");j[c('AdsDestinationTypes').PLACE]=h._("Places");j[c('AdsDestinationTypes').DOMAIN]=h._("Domains");j[c('AdsDestinationTypes').PAGE_AND_PLACE]=h._("Pages and places");j[c('AdsDestinationTypes').SEARCH]=h._("Search");j[c('AdsDestinationTypes').ENTER_URL]=h._("Search by URL");j[c('AdsDestinationTypes').SEARCH_BY_ID]=h._("Search by destination ID");f.exports={DEST_TYPE_TO_NAME:i,DEST_TYPE_TO_NAME_PLURAL:j};}),null);
__d('AdsMobileRemarketingAppNameSearchSource',['AbstractSearchSource','AdsDestinationTypes','AdsUtils','SearchableEntry','TokenizeUtil','ads-destinationType'],(function a(b,c,d,e,f,g){var h,i,j=c('ads-destinationType').DEST_TYPE_TO_NAME,k,l,m;h=babelHelpers.inherits(n,c('AbstractSearchSource'));i=h&&h.prototype;function n(o){'use strict';i.constructor.call(this);if(k)return k;l=o;this.$AdsMobileRemarketingAppNameSearchSource1=l.fetch.accountInfo.constantParameters.accountId;}n.prototype.bootstrap=function(o){'use strict';if(m){o&&o();return;}l.fetch.adConnectedApp.one(function(p){m=p||[];o&&o();},{act:this.$AdsMobileRemarketingAppNameSearchSource1});};n.prototype.fetchApps=function(o){'use strict';if(m)return;l.fetch.adConnectedApp.one(function(p){m=p||[];o&&o();},{act:this.$AdsMobileRemarketingAppNameSearchSource1});};n.prototype.searchImpl=function(o,p){'use strict';if(!m){this.fetchApps(this.$AdsMobileRemarketingAppNameSearchSource2.bind(this,o,p));}else this.$AdsMobileRemarketingAppNameSearchSource2(o,p);};n.prototype.$AdsMobileRemarketingAppNameSearchSource2=function(o,p){'use strict';var q=m.filter(function(r){return !o||c('TokenizeUtil').isQueryMatch(o,r.name)||o==r.id;}).map(function(r){var s=new (c('SearchableEntry'))({uniqueID:r.id,title:r.name,photo:r.picture,subtitle:j[c('AdsDestinationTypes').APP],auxiliaryData:{}});return s;});p(q,o);};n.getInstance=function(o){'use strict';if(!k||!c('AdsUtils').isEqualWeak(o,l))k=new n(o);return k;};f.exports=n;}),null);
__d('AudienceManagerErrorView.react',['cx','BUIAdoptionXUINotice.react','React'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';return (c('React').createElement('div',{className:!this.props.shown?"hidden_elem":''},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'error'},this.props.message)));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={shown:k.bool,message:k.string};f.exports=l;}),null);
__d('AudienceManagerTextInput',['cx','React','XUITextInput.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={value:this.props.value},this.$AudienceManagerTextInput1=function(r){this.setState({value:r.target.value});this.props.onChange(r.target.value);}.bind(this),n;}l.prototype.componentWillReceiveProps=function(m){'use strict';this.setState({value:m.value});};l.prototype.render=function(){'use strict';if(this.props.isTextArea){return c('React').createElement('textarea',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_5oum"+(!this.state.value?' '+"_5p0t":'')),value:this.state.value,onChange:this.$AudienceManagerTextInput1}));}else return c('React').createElement(c('XUITextInput.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,"_5rkv"),value:this.state.value,onChange:this.$AudienceManagerTextInput1}));};l.propTypes={value:k.string,onChange:k.func.isRequired,className:k.string,isTextArea:k.bool,placehodler:k.string};f.exports=l;}),null);
__d('AudienceManagerURLConstants',[],(function a(b,c,d,e,f,g){f.exports={CUSTOM_AUDIENCE_TOS:'/ads/manage/customaudiences/tos.php',MACA_LEARN_MORE:'https://developers.facebook.com/docs/ads-for-apps/mobile-app-custom-audiences',MACA_LEARN_MORE_MULTIKEY:'https://facebook.com',MACA_ANDROID_SDK:'https://developers.facebook.com/docs/android/app-events/',MACA_IOS_SDK:'https://developers.facebook.com/docs/ios/app-events/',MACA_ANDROID_ACTIVATE_APP:'https://developers.facebook.com/docs/android/app-events#appActivation',MACA_IOS_ACTIVATE_APP:'https://developers.facebook.com/docs/ios/app-events/#appActivation',MACA_CANVAS_SDK:'https://developers.facebook.com/docs/canvas/appevents',WCA_GETTING_STARTED:'https://www.facebook.com/business/a/online-sales/custom-audiences-website',WCA_TECHNICAL_DOC:'https://developers.facebook.com/docs/ads-for-websites/website-custom-audiences/getting-started',WCA_CONFIGURE_RULES_DOC:'https://developers.facebook.com/docs/ads-for-websites/website-custom-audiences/getting-started#configure-rules',WCA_INSTALL_PIXEL_DOC:'https://developers.facebook.com/docs/ads-for-websites/website-custom-audiences/getting-started#install-the-pixel',WCA_TARGET_IN_AD:'https://developers.facebook.com/docs/ads-for-websites/website-custom-audiences/getting-started#target-your-audience',WCA_FEEDBACK:'https://www.facebook.com/help/contact/237474373109946',MOBILE_ADVERTISING_IDS_DOC:'https://developers.facebook.com/docs/ads-for-apps/custom-audiences-for-mobile-apps/'};}),null);
__d('MobileAppRemarketingAppTypeaheadPresenter.react',['cx','Image.react','React'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';if(this.props.entries&&this.props.entries.length){return (c('React').createElement('ul',{className:"_5e6y"},this.props.entries.map(function(m){return (c('React').createElement('li',{className:"_5e6z",key:'appTypeahead_'+m.getUniqueID(),onMouseDown:this.props.onSelect.bind(null,m),onMouseEnter:this.props.onHighlight.bind(null,m)},c('React').createElement(c('Image.react'),{className:"_5eye",src:m.getPhoto()}),c('React').createElement('div',{className:"_5eyf"},c('React').createElement('div',{className:"_5e6-"},m.getTitle()),c('React').createElement('div',{className:"_5oid"},m.getSubtitle()))));}.bind(this))));}else return (c('React').createElement('ul',null));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={entries:k.array.isRequired,onSelect:k.func.isRequired};f.exports={maxEntries:10,ViewRenderer:l,useLayer:true};}),null);
__d('MobileAppRemarketingAppTypeahead.react',['cx','AbstractTypeahead.react','AdsMobileRemarketingAppNameSearchSource','BUIAdoptionCloseButton.react','Image.react','MobileAppRemarketingAppTypeaheadPresenter.react','React','SearchableEntry'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={queryString:'',searchSource:this.props.dao?c('AdsMobileRemarketingAppNameSearchSource').getInstance(this.props.dao):this.props.searchSource},this.$MobileAppRemarketingAppTypeahead1=function(r){if(!r)return null;return (c('React').createElement('div',{className:"_5e6_"},c('React').createElement(c('Image.react'),{className:"_5eyh",src:r.getPhoto()}),c('React').createElement('div',{className:"_5eyi"},c('React').createElement('div',{className:"fwb"},r.getTitle()),c('React').createElement('div',null,r.getSubtitle())),c('React').createElement(c('BUIAdoptionCloseButton.react'),{className_DEPRECATED:"_5e70",onClick:this.onAppClose})));}.bind(this),this.$MobileAppRemarketingAppTypeahead2=function(event){this.setState({queryString:event.target.value});}.bind(this),this.$MobileAppRemarketingAppTypeahead3=function(r){this.props.appSelected(r);}.bind(this),this.onAppClose=function(){this.setState({queryString:''});this.props.appSelected(null);}.bind(this),n;}l.prototype.componentDidMount=function(){'use strict';if(this.props.dao)c('AdsMobileRemarketingAppNameSearchSource').getInstance(this.props.dao).bootstrap();};l.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_5gfl"},this.$MobileAppRemarketingAppTypeahead1(this.props.selectedApp),c('React').createElement(c('AbstractTypeahead.react'),{className:!!this.props.selectedApp?"hidden_elem":'',placeholder:this.props.placeholder,presenter:c('MobileAppRemarketingAppTypeaheadPresenter.react'),queryString:this.state.queryString,searchSource:this.state.searchSource,showEntriesOnFocus:true,onChange:this.$MobileAppRemarketingAppTypeahead2,onSelectAttempt:this.$MobileAppRemarketingAppTypeahead3}));};l.propTypes={dao:k.object,placeholder:k.string,searchSource:k.object,selectedApp:k.instanceOf(c('SearchableEntry'))};f.exports=l;}),null);
__d('MobileAppRemarketingSegmentSelector.react',['cx','fbt','BonsaiAppEventTypesUtils','BUIAdoptionXUISpinner.react','FalcorSegmentTextUtils','GriffinSegmentUtils','InsightsGraphAPI','SegmentStore','React','XUIMenuStaticItem.react','XUISelector.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('XUISelector.react').Option,k=c('React').PropTypes,l=c('React').createClass({displayName:'MobileAppRemarketingSegmentSelector',propTypes:{appID:k.string.isRequired,defaultSegmentID:k.string,onSelectSegment:k.func.isRequired},getInitialState:function m(){return {segments:null,selectedSegmentID:null};},componentWillMount:function m(){this._loadSegments(this.props);},componentWillReceiveProps:function m(n){if(this.props.appID!==n.appID)this._loadSegments(n);},render:function m(){if(this.state.segments===null)return (c('React').createElement('div',{className:"_5pdu"},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'small'})));var n=this.state.segments.map(function(o){return (c('React').createElement(j,{key:o.id,value:o.id},o.name));});n.unshift(c('React').createElement(c('XUIMenuStaticItem.react'),{key:'static'},i._("Select segment")));return (c('React').createElement(c('XUISelector.react'),{value:this.state.selectedSegmentID,onChange:function(event){return this._onSelectSegment(event.value);}.bind(this)},n));},_onSelectSegment:function m(n){this.setState({selectedSegmentID:n});this.props.onSelectSegment(n);},_loadSegments:function m(n){c('InsightsGraphAPI').setInsightsObjectID(n.appID);c('BonsaiAppEventTypesUtils').forceInit().done(function(){c('SegmentStore').loadEntityList(function(o){if(!this.isMounted())return;var p=o.filter(function(r){return (!r.is_internal&&!r.is_all_user&&!c('GriffinSegmentUtils').isDisabledForCustomAudience(r));}).sort(function(r,s){return (r.name||'').localeCompare(s.name);}),q=o.find(function(r){return r.is_all_user;});if(q)p.unshift(babelHelpers['extends']({},q,{name:c('FalcorSegmentTextUtils').getAllUserSegmentName()}));this.setState({segments:p});if(this.props.defaultSegmentID)this._onSelectSegment(this.props.defaultSegmentID);}.bind(this));}.bind(this));}});f.exports=l;}),null);
__d('MobileAppRemarketingSegmentRuleBuilder.react',['cx','fbt','InfoTable.react','InfoTableRow.react','InfoTableSection.react','Link.react','MobileAppRemarketingSegmentSelector.react','React','XUITextInput.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m='7';j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={selectedSegmentID:null,retention:m},this.getRule=function(){return {retention_days:this.state.retention,segment_rule:{id:this.state.selectedSegmentID},params:[]};}.bind(this),this.$MobileAppRemarketingSegmentRuleBuilder1=function(t){this.setState({selectedSegmentID:t});}.bind(this),this.$MobileAppRemarketingSegmentRuleBuilder2=function(event){this.setState({retention:event.target.value});}.bind(this),p;}n.prototype.render=function(){var o='/analytics/'+this.props.appID;return c('React').createElement(c('InfoTable.react'),null,c('React').createElement(c('InfoTableSection.react'),null,c('React').createElement(c('InfoTableRow.react'),null,c('React').createElement('div',null,i._("Segments allow you to define a group of people using your app by their actions, demographics, device info and more. You can create segments in {Facebook Analytics for Apps}.",[i.param('Facebook Analytics for Apps',c('React').createElement(c('Link.react'),{href:o},'Facebook Analytics for Apps'))]))),c('React').createElement(c('InfoTableRow.react'),{label:i._("Segment"),type:'data'},c('React').createElement(c('MobileAppRemarketingSegmentSelector.react'),{appID:this.props.appID,defaultSegmentID:this.props.defaultSegmentID,onSelectSegment:this.$MobileAppRemarketingSegmentRuleBuilder1})),c('React').createElement(c('InfoTableRow.react'),{label:i._("In The Last"),type:'data'},c('React').createElement('div',null,c('React').createElement(c('XUITextInput.react'),{className:"_228s",value:this.state.retention,onChange:this.$MobileAppRemarketingSegmentRuleBuilder2}),c('React').createElement('span',null,i._("days"))))));};n.propTypes={appID:l.string.isRequired,defaultSegmentID:l.string};f.exports=n;}),null);
__d('AdsMobileRemarketingEventNameSearchSource',['AbstractSearchSource','SearchableEntry','TokenizeUtil'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('AbstractSearchSource'));i=h&&h.prototype;function j(k,l){'use strict';i.constructor.call(this);this.$AdsMobileRemarketingEventNameSearchSource1=k;this.$AdsMobileRemarketingEventNameSearchSource2=l||function(event){return event.display_name;};}j.prototype.bootstrap=function(k){'use strict';k&&k();};j.prototype.searchImpl=function(k,l){'use strict';var m=this.$AdsMobileRemarketingEventNameSearchSource1.filter(function(event){return (!k||c('TokenizeUtil').isQueryMatch(k,event.event_name));}).map(function(event){var n=event.parameters||[],o=new (c('SearchableEntry'))({uniqueID:event.event_name,title:event.display_name,auxiliaryData:{key:this.$AdsMobileRemarketingEventNameSearchSource2(event),segments:n.map(function(p){var q={};if(p.known_parameter_values)p.known_parameter_values.forEach(function(r){q[r.parameter_value]=r.display_name;});return {uniqueID:p.parameter_name,title:p.display_name,knownValues:q};})}});return o;}.bind(this));m.sort(function(n,o){n=n.getAuxiliaryData().key;o=o.getAuxiliaryData().key;if(c('TokenizeUtil').isExactMatch(n,k)){return -1;}else if(c('TokenizeUtil').isExactMatch(o,k))return 1;return n.toUpperCase()>o.toUpperCase()?1:-1;});l(m,k);};f.exports=j;}),null);
__d('BonsaiDraggableMarker',['cx','BonsaiColors','Circle.art','React','ReactART','SpectrumDataVisualization','SpectrumUtilities','joinClasses'],(function a(b,c,d,e,f,g,h){var i=c('ReactART').Group,j=c('ReactART').Path,k=c('ReactART').Shape,l=c('ReactART').Surface,m=c('React').PropTypes,n=8,o=3,p={NOT_DRAGGING:1,DRAGGING_GRABBED_MARKER:2},q=8,r=c('React').createClass({displayName:'BonsaiDraggableMarker',mixins:[c('SpectrumDataVisualization').Mixin],propTypes:{onPositionChanged:m.func,startX:m.number.isRequired},getInitialState:function s(){return {dragging:p.NOT_DRAGGING,highlight:false,x:this.props.startX};},handleEvent:function s(t){var u=this.getX(),v=this.props.scaleX.invert(t.x),w=this.newX(v);if(t.type==='mousedown'){if(this.inBounds(u,v)){this.setState({dragging:p.DRAGGING_GRABBED_MARKER,highlight:true,x:w});this.onPositionChanged(w);}}else if(t.type==='click'){var x={dragging:p.NOT_DRAGGING,highlight:false};if(this.state.dragging==p.DRAGGING_GRABBED_MARKER){x.x=w;this.onPositionChanged(w);}this.setState(x);}else if(t.type==='mousemove')if(this.state.dragging==p.DRAGGING_GRABBED_MARKER){this.setState({x:w});this.onPositionChanged(w);}else if(this.inBounds(u,v)){this.setState({highlight:true});}else this.setState({highlight:false});},inBounds:function s(t,u){var v=Math.max(this.props.scaleX.invert(n),1);return t+v>u&&t-v<u;},getTop:function s(){var t=c('SpectrumUtilities').getOuterRange(this.props.scaleY);return t[1];},getX:function s(){return this.state.x;},newX:function s(t){var u=c('SpectrumUtilities').getOuterRange(this.props.scaleX);u=u.map(function(v){return this.props.scaleX.invert(v);}.bind(this));return Math.max(u[0],Math.min(t,u[1]));},onPositionChanged:function s(t){this.props.onPositionChanged&&this.props.onPositionChanged(t);},render:function s(){var t=this.props.theme.markers,u=c('SpectrumUtilities').getOuterRange(this.props.scaleY),v=this.props.scaleX(this.state.x),w=this.getTop(),x=u[0],y="_5mn1",z=void 0,aa=void 0,ba=void 0;if(this.state.highlight){aa=t.highlightColor;ba=t.highlightWidth;z=j().moveTo(v,x).lineTo(v,w+q);y=c('joinClasses')(y,"_5mn2");}else{aa=t.lineColor;ba=t.lineWidth;var ca=t.dashSize||o;z=j().moveTo(v,x);var da=(x-w)/(ca+2.5);for(var ea=0;ea<da;ea++)z.line(0,-ca).move(0,-ca);}var fa=c('React').createElement(i,null,c('React').createElement(c('Circle.art'),{radius:8,fill:c('BonsaiColors').TURQUOISE,x:v,y:w}),c('React').createElement(k,{d:z,stroke:aa,strokeWidth:ba}));return (c('React').createElement('div',{className:y},c('React').createElement(l,{height:this.props.height,width:this.props.width},fa)));}});f.exports=r;}),null);
__d('BonsaiPercentileStrings',['fbt'],(function a(b,c,d,e,f,g,h){var i={0:h._("0th percentile"),1:h._("1st percentile"),2:h._("2nd percentile"),3:h._("3rd percentile"),4:h._("4th percentile"),5:h._("5th percentile"),6:h._("6th percentile"),7:h._("7th percentile"),8:h._("8th percentile"),9:h._("9th percentile"),10:h._("10th percentile"),11:h._("11th percentile"),12:h._("12th percentile"),13:h._("13th percentile"),14:h._("14th percentile"),15:h._("15th percentile"),16:h._("16th percentile"),17:h._("17th percentile"),18:h._("18th percentile"),19:h._("19th percentile"),20:h._("20th percentile"),21:h._("21st percentile"),22:h._("22nd percentile"),23:h._("23rd percentile"),24:h._("24th percentile"),25:h._("25th percentile"),26:h._("26th percentile"),27:h._("27th percentile"),28:h._("28th percentile"),29:h._("29th percentile"),30:h._("30th percentile"),31:h._("31st percentile"),32:h._("32nd percentile"),33:h._("33rd percentile"),34:h._("34th percentile"),35:h._("35th percentile"),36:h._("36th percentile"),37:h._("37th percentile"),38:h._("38th percentile"),39:h._("39th percentile"),40:h._("40th percentile"),41:h._("41st percentile"),42:h._("42nd percentile"),43:h._("43rd percentile"),44:h._("44th percentile"),45:h._("45th percentile"),46:h._("46th percentile"),47:h._("47th percentile"),48:h._("48th percentile"),49:h._("49th percentile"),50:h._("50th percentile"),51:h._("51st percentile"),52:h._("52nd percentile"),53:h._("53rd percentile"),54:h._("54th percentile"),55:h._("55th percentile"),56:h._("56th percentile"),57:h._("57th percentile"),58:h._("58th percentile"),59:h._("59th percentile"),60:h._("60th percentile"),61:h._("61st percentile"),62:h._("62nd percentile"),63:h._("63rd percentile"),64:h._("64th percentile"),65:h._("65th percentile"),66:h._("66th percentile"),67:h._("67th percentile"),68:h._("68th percentile"),69:h._("69th percentile"),70:h._("70th percentile"),71:h._("71st percentile"),72:h._("72nd percentile"),73:h._("73rd percentile"),74:h._("74th percentile"),75:h._("75th percentile"),76:h._("76th percentile"),77:h._("77th percentile"),78:h._("78th percentile"),79:h._("79th percentile"),80:h._("80th percentile"),81:h._("81st percentile"),82:h._("82nd percentile"),83:h._("83rd percentile"),84:h._("84th percentile"),85:h._("85th percentile"),86:h._("86th percentile"),87:h._("87th percentile"),88:h._("88th percentile"),89:h._("89th percentile"),90:h._("90th percentile"),91:h._("91st percentile"),92:h._("92nd percentile"),93:h._("93rd percentile"),94:h._("94th percentile"),95:h._("95th percentile"),96:h._("96th percentile"),97:h._("97th percentile"),98:h._("98th percentile"),99:h._("99th percentile"),100:h._("100th percentile")};f.exports=i;}),null);
__d('BonsaiPercentileChartBase',['cx','fbt','mergeHelpers','BonsaiColors','BonsaiPercentileStrings','BonsaiStyle','SpectrumChart','SpectrumCurrencyScale','BonsaiDraggableMarker','d3/scale/linear','React','SpectrumMarkers','SpectrumStackedAreas','SpectrumXAxis','SpectrumYAxis','SpectrumTooltipData','SpectrumTooltipDescription','SpectrumTooltipMenu','mergeDeep','throttle'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('mergeHelpers').ArrayStrategies,m=c('React').PropTypes,n=735;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={hintPercentilePosition:this.props.hintPercentilePosition},this.getPercentileChart=function(){var u=c('d3/scale/linear')();if(this.props.currency)u=c('SpectrumCurrencyScale')(this.props.currency);var v=c('d3/scale/linear')().range([0,99]).domain([0,99]).clamp(true);v.tooltipFormat=function(){return function(ba){return 'p'+ba.toFixed(0);};};v.secondaryTicks=function(ba){return [0];};v.tickFormat=function(){var ba=function ca(da){return da+'%';};ba.primary=function(ca){return ca+'%';};ba.secondary=function(){return i._("Percentile of Users");};return ba;};var w=c('mergeDeep')(c('BonsaiStyle').CHART_THEME,this.props.theme,l.Clobber);w.areas.hoveBarStrokeWidth=3;w.areas.colors=[c('BonsaiColors').TURQUOISE,c('BonsaiColors').ANALYTICS_BLUE_LIGHT];w.gutter={right:5};w.markers={lineWidth:2,dashSize:10};var x=[],y=[],z=[];for(var aa=99;aa>=0;aa--){z[aa]=null;if(aa>this.props.hintPercentilePosition){x[aa]=this.props.data[aa];y[aa]=null;}else if(aa==this.props.hintPercentilePosition){x[aa]=y[aa]=this.props.data[aa];}else{x[aa]=null;y[aa]=this.props.data[aa];}}return (c('React').createElement(c('SpectrumChart'),babelHelpers['extends']({},this.props,{height:this.props.height||c('BonsaiStyle').CHART_HEIGHT,width:this.props.width||n,domain:[0,99],scaleX:v,scaleY:u,theme:w}),c('React').createElement(c('SpectrumStackedAreas'),{data:[z,y]}),c('React').createElement(c('SpectrumStackedAreas'),{data:[x]}),c('React').createElement(c('SpectrumXAxis'),{secondaryTicks:true,ticks:20}),c('React').createElement(c('SpectrumYAxis'),null),c('React').createElement(c('SpectrumTooltipMenu'),{customFormat:this.$BonsaiPercentileChartBase1}),c('React').createElement(c('SpectrumMarkers'),null,c('React').createElement(c('BonsaiDraggableMarker'),{onPositionChanged:c('throttle')(this.onHintPosChanged,100,this),startX:this.props.hintPercentilePosition}))));}.bind(this),this.$BonsaiPercentileChartBase1=function(u){var v=void 0;switch(this.props.measurement){case 'count':v=i._("Average Number of Events");break;case 'value':v=i._("Average Value of Events");break;case 'spend':v=i._("Average Money Spent");break;}return (c('React').createElement('div',null,c('React').createElement(c('SpectrumTooltipData'),null,v),c('React').createElement(c('SpectrumTooltipData'),null,u.yValueString),c('React').createElement(c('SpectrumTooltipDescription'),null,c('BonsaiPercentileStrings')[u.xValue])));}.bind(this),this.onHintPosChanged=function(u){u=parseInt(u.toFixed(0),10);this.props.onHintPercentileChange(u);}.bind(this),q;}o.prototype.render=function(){'use strict';return (c('React').createElement('div',null,c('React').createElement('div',{className:"_5r8_ ptm"},this.getPercentileChart()),this.props.footer?c('React').createElement('div',{className:"_5x4g"},this.props.footer):null));};o.propTypes={data:m.array.isRequired,currency:m.string,event:m.object.isRequired,footer:m.node,height:m.number,hintPercentilePosition:m.number.isRequired,interval:m.number,onHintPercentileChange:m.func.isRequired,theme:m.object,totalUsers:m.number.isRequired,width:m.number,measurement:m.oneOf(['count','value','spend'])};f.exports=o;}),null);
__d('MobileAppRemarketingEventPercentileSentence',['cx','fbt','InsightsNumUtils','React'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$MobileAppRemarketingEventPercentileSentence1=function(s){if(this.props.measurement==='count'){return i._({"*":"{user count} people ({percentage of activity} of activity)"},[i.param('user count',c('InsightsNumUtils').prettyInt(s),[0,s]),i.param('percentage of activity',this.$MobileAppRemarketingEventPercentileSentence2()+'%')]);}else return i._({"*":"{user count} people ({percentage of value} of value)"},[i.param('user count',c('InsightsNumUtils').prettyInt(s),[0,s]),i.param('percentage of value',this.$MobileAppRemarketingEventPercentileSentence2()+'%')]);}.bind(this),this.$MobileAppRemarketingEventPercentileSentence2=function(){var s=0,t=0;for(var u=0;u<100;u++){s+=this.props.data[u];if(u>=this.props.hintPercentilePosition)t+=this.props.data[u];}return (t/s*100).toFixed(0);}.bind(this),o;}m.prototype.render=function(){'use strict';var n=100-this.props.hintPercentilePosition,o=parseInt(((100-this.props.hintPercentilePosition)/100*this.props.totalUsers).toFixed(0),10);return c('React').createElement('div',null,c('React').createElement('div',null,c('React').createElement('span',{className:"_5snf"},i._("Top {percentage}",[i.param('percentage',n+'%')])),' ',this.props.showHelpText?i._("(Drag chart slider to change percentage)"):null),c('React').createElement('div',null,this.$MobileAppRemarketingEventPercentileSentence1(o)));};m.displayName="MobileAppRemarketingEventPercentileSentence";m.propTypes={data:l.array.isRequired,event:l.object.isRequired,hintPercentilePosition:l.number.isRequired,measurement:l.oneOf(['count','value']),totalUsers:l.number.isRequired,showHelpText:l.bool};f.exports=m;}),null);
__d("XBonsaiAppEventDataController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/insights\/app_event_data\/",{app_id:{type:"Int",required:true},event:{type:"String",required:true}});}),null);
__d('MobileAppRemarketingEventPercentileChart',['cx','fbt','invariant','AdsInterfacesLogger','AppCustomEventType','AppEventClientFilter','AsyncRequest','AudienceManagerErrorView.react','AudienceManagerLoggingEvents','BonsaiPercentileChartBase','BonsaiText','CustomEventPercentilesLoaderMixin','XBonsaiAppEventDataController','FBMoreLink.react','InfoTable.react','InfoTableRow.react','InfoTableSection.react','InsightsContext','LoadingIndicator.react','MobileAppRemarketingEventPercentileSentence','React','CustomEventPercentilesLoaderMixinResponseState','WebApiApplication','XUICheckboxList.react','XUIRadioList.react','XUISelector.react','XUITextInput.react','adsGKCheck','areEqual','isNumberLike','keyMirror'],(function a(b,c,d,e,f,g,h,i,j){var k=c('XUIRadioList.react').Item,l=c('XUISelector.react').Option,m=c('React').PropTypes,n=[75,90],o=75,p=70,q=i._("In the last"),r=['1','7','28'],s='28',t='all',u='count',v='amount',w='usd_amount',x={},y=[c('AppCustomEventType').FB_MOBILE_INSTALL],z=i._("Include"),aa={all:i._("All Users"),count:i._("Most Active Users"),amount:i._("Highest-value Users")},ba=i._("Filter by platform"),ca=c('React').createClass({displayName:'MobileAppRemarketingEventPercentileChart',mixins:[c('CustomEventPercentilesLoaderMixin')],propTypes:{appID:m.string.isRequired,eventName:m.string.isRequired,initialInterval:m.number,initialMeasurement:m.string,initialPercentile:m.number,onMeasurementChange:m.func,width:m.number},getInitialState:function da(){var ea=o,fa=p;if(this.props.initialPercentile)if(n.indexOf(this.props.initialPercentile)!==-1){ea=this.props.initialPercentile;}else{ea='custom';fa=this.props.initialPercentile;}var ga=c('keyMirror')(c('AppEventClientFilter')),ha=[ga.android,ga.ios,ga.fbcanvas,ga.other],ia={};ha.forEach(function(ja){ia[ja]=true;});return {durationInput:s,durationSelector:s,event:null,measurement:this.props.initialMeasurement||t,percentileRadio:ea,percentileChart:fa,showClientFilters:false,selectedClientFilters:ia};},componentWillMount:function da(){var ea=c('WebApiApplication').getAccessToken(),fa=c('WebApiApplication').getClientID();ea&&fa||j(0);c('InsightsContext').setBonsaiApiAccess(ea,fa);this._loadData(this.props);},componentWillReceiveProps:function da(ea){if(ea.appID!==this.props.appID||ea.eventName!==this.props.eventName||ea.interval!==this.props.interval)this._loadData(ea);},shouldComponentUpdate:function da(ea,fa){return (ea.appID!==this.props.appID||ea.eventName!==this.props.eventName||ea.interval!==this.props.interval||!c('areEqual')(fa,this.state));},render:function da(){if(this._supportsWhaleRules(this.props.eventName)&&(!this.state.event||!this._getAvailableMeasurements()))return this._renderLoadingIndicator();var ea=this.state.measurement!==t;return (c('React').createElement('div',null,c('React').createElement('div',{className:"_5rkp"},c('React').createElement(c('InfoTable.react'),{className:"_5gfn"},c('React').createElement(c('InfoTableSection.react'),null,this._supportsWhaleRules(this.props.eventName)?this._renderMeasurementSelector():null,c('React').createElement(c('InfoTableRow.react'),{className:ea?"_2ozd":'',label:q,type:'data'},ea?this._renderDurationSelector():this._renderDurationText()),this._renderClientFilters(ea)))),ea?this._renderChart():null));},_renderClientFilters:function da(ea){if(ea)return null;var fa=c('React').createElement(c('FBMoreLink.react'),{allowToggle:true,isInitiallyCollapsed:true,lessLabel:ba,moreLabel:ba,onClick:this._onToggleClientFilters});if(!this.state.showClientFilters)return (c('React').createElement(c('InfoTableRow.react'),null,fa));var ga=Object.keys(this.state.selectedClientFilters).map(function(ha){return {value:ha,label:c('BonsaiText').breakdown.client[ha],checked:this.state.selectedClientFilters[ha]};}.bind(this));return (c('React').createElement(c('InfoTableRow.react'),null,c('React').createElement('div',null,c('React').createElement('div',null,fa),c('React').createElement('div',null,c('React').createElement(c('XUICheckboxList.react'),{items:ga,onAdd:this._onAddClientFilter,onRemove:this._onRemoveClientFilter})))));},_supportsWhaleRules:function da(ea){return y.indexOf(ea)===-1;},_isLoadingInsightsData:function da(){var ea=this.state.event.name,fa=this.getTotalUsersData(ea),ga=this.getCountPercentileData(ea),ha=this.getValuePercentileData(ea);if(!fa||!ga||!ha||this.isAnyDataLoading(ga)||this.isAnyDataLoading(ha))return true;var ia=this.state.durationSelector,ja=fa[ia],ka=ga[ia],la=ha[ia];if(!ja||!ka||!la)return true;return false;},_getAvailableMeasurements:function da(){var ea=this.state.event.name;if(x[this.props.appID]&&x[this.props.appID][ea])return x[this.props.appID][ea];var fa=this.getValuePercentileData(ea);if(!fa)return null;var ga=false,ha=false,ia=false;Object.keys(fa).forEach(function(ka){var la=fa[ka];if(la.getState()===c('CustomEventPercentilesLoaderMixinResponseState').SUCCESS||la.getState()===c('CustomEventPercentilesLoaderMixinResponseState').NO_DATA)ga=true;if(la.getState()===c('CustomEventPercentilesLoaderMixinResponseState').SUCCESS){ha=true;ia=la.getPayload().isUSD;}});if(!ga)return null;var ja=[t,u];if(ia){ja.push(w);}else ja.push(v);if(!x[this.props.appID])x[this.props.appID]={};x[this.props.appID][ea]=ja;return ja;},_renderChart:function da(){if(this._isLoadingInsightsData())return this._renderLoadingIndicator();var ea=this.state.event.name,fa=this.getTotalUsersData(ea),ga=this.state.measurement===u?this.getCountPercentileData(ea):this.getValuePercentileData(ea),ha=this.state.durationSelector,ia=ga[ha],ja=fa[ha];if(ia.getState()===c('CustomEventPercentilesLoaderMixinResponseState').ERROR||ja.getState()===c('CustomEventPercentilesLoaderMixinResponseState').ERROR){var ka;if(ia.getState()===c('CustomEventPercentilesLoaderMixinResponseState').ERROR){ka=ia.getPayload();}else ka=ja.getPayload();return (c('React').createElement(c('AudienceManagerErrorView.react'),{message:ka,shown:true}));}if(ia.getState()===c('CustomEventPercentilesLoaderMixinResponseState').NO_DATA)return this._renderNoDataMessage();var la=this.state.measurement===u?ia.getPayload():ia.getPayload().data,ma=ja.getPayload(),na=this.state.measurement===w?'USD':null,oa;if(this.state.measurement===u){oa='count';}else if(ea===c('AppCustomEventType').FB_MOBILE_PURCHASE){oa='spend';}else oa='value';return (c('React').createElement('div',{className:"_409d"},this.state.measurement!==t?this._renderPercentileRadio(la,ma):null,this.state.percentileRadio==='custom'?c('React').createElement(c('BonsaiPercentileChartBase'),{className:"_5688",currency:na,data:la,event:this.state.event,hintPercentilePosition:this.state.percentileChart,interval:parseInt(ha,10),key:'day_'+ha,measurement:oa,totalUsers:ma,width:this.props.width,onHintPercentileChange:this._onPercentileChartChange}):null));},_renderDurationText:function da(){return (c('React').createElement('div',null,c('React').createElement(c('XUITextInput.react'),{className:"_1xio",value:this.state.durationInput,onChange:this._onDurationTextChange}),c('React').createElement('span',{className:"_5se8"},i._("days"))));},_renderDurationSelector:function da(){var ea=[];r.forEach(function(fa){ea.push(c('React').createElement(l,{key:fa,value:fa},fa==1?i._("1 day"):i._("{days} days",[i.param('days',fa)])));});return (c('React').createElement(c('XUISelector.react'),{value:this.state.durationSelector,onChange:this._onDurationSelectorChange},ea));},_renderMeasurementSelector:function da(){var ea=this._getAvailableMeasurements(),fa=[];ea.forEach(function(ha){var ia;if(ha===v||ha===w){ia=aa[v];}else ia=aa[ha];fa.push(c('React').createElement(l,{key:ha,value:ha},ia));});var ga=this.state.measurement;if(ga==='amount'&&ea.indexOf('amount')===-1)ga='usd_amount';return (c('React').createElement(c('InfoTableRow.react'),{className:"_2ozd",label:z,type:'data'},c('React').createElement(c('XUISelector.react'),{value:ga,onChange:this._onMeasurementChange},fa)));},_renderPercentileRadio:function da(ea,fa){var ga=this.state.measurement===u?'count':'value',ha=[];n.forEach(function(ia){ha.push(c('React').createElement(k,{key:'radio'+ia,value:ia},c('React').createElement(c('MobileAppRemarketingEventPercentileSentence'),{data:ea,event:this.state.event,hintPercentilePosition:ia,measurement:ga,totalUsers:fa})));}.bind(this));ha.push(c('React').createElement(k,{key:'radiocustom',value:'custom'},this.state.percentileRadio==='custom'?c('React').createElement('div',null,c('React').createElement(c('MobileAppRemarketingEventPercentileSentence'),{data:ea,event:this.state.event,hintPercentilePosition:this.state.percentileChart,measurement:ga,showHelpText:true,totalUsers:fa})):i._("Custom percentage")));return (c('React').createElement(c('XUIRadioList.react'),{className:"_409h",selectedValue:this._getSelectedPercentileRadioValue(),onChange:this._onPercentileRadioChange},ha));},_getSelectedPercentileRadioValue:function da(){if(this.state.percentileRadio===0||n.indexOf(this.state.percentileRadio)!==-1)return this.state.percentileRadio;return 'custom';},_renderLoadingIndicator:function da(){return (c('React').createElement('div',{className:"_409i"},c('React').createElement(c('LoadingIndicator.react'),{color:'blue',size:'large'})));},_renderNoDataMessage:function da(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_MACA_EDITOR_NO_PERCENTILE_DATA},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);return (c('React').createElement('div',null,c('React').createElement(c('AudienceManagerErrorView.react'),{message:i._("There is no data to show for this event"),shown:true})));},_onMeasurementChange:function da(ea){if(ea.value===u){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_MACA_EDITOR_INCLUDE_MOST_ACTIVE},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);}else if(ea.value===v||ea.value===w)c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_MACA_EDITOR_INCLUDE_HIGHEST_VALUE},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.setState({measurement:ea.value});if(this.props.onMeasurementChange)this.props.onMeasurementChange(ea.value);},_onDurationSelectorChange:function da(ea){this.setState({durationSelector:ea.value});this._loadEventMetrics(this.props);},_onDurationTextChange:function da(event){var ea=event.target.value;if(!ea||c('isNumberLike')(ea)){if(ea&&ea.length>3)ea=ea.substring(0,3);this.setState({durationInput:ea});}},_onPercentileRadioChange:function da(event){if(event.target.value==='custom')c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_MACA_EDITOR_SHOW_PERCENTILE_CHART},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);var ea=event.target.value!=='custom'?parseInt(event.target.value,10):'custom';this.setState({percentileRadio:ea});},_onPercentileChartChange:function da(ea){this.setState({percentileChart:ea});},_loadData:function da(ea){if(this.state.event&&this.state.event.name===ea.eventName){this._loadEventMetrics(ea);return;}new (c('AsyncRequest'))(c('XBonsaiAppEventDataController').getURIBuilder().setInt('app_id',this.props.appID).setString('event',this.props.eventName).getURI()).setHandler(function(fa){this.setState({event:fa.payload});this._loadEventMetrics(ea);}.bind(this)).send();},_loadEventMetrics:function da(ea){c('InsightsContext').setObjID(ea.appID);this.fetchPercentileMetrics(babelHelpers['extends']({},ea,{event:this.state.event}),[this.state.durationSelector]);},_onToggleClientFilters:function da(){this.setState({showClientFilters:!this.state.showClientFilters});},_onAddClientFilter:function da(ea){var fa=Object.assign({},this.state.selectedClientFilters);fa[ea.value]=true;this.setState({selectedClientFilters:fa});},_onRemoveClientFilter:function da(ea){var fa=Object.assign({},this.state.selectedClientFilters);fa[ea.value]=false;this.setState({selectedClientFilters:fa});},getCumulativeRule:function da(){var ea=this.state.percentileRadio!=='custom'?this.state.percentileRadio:this.state.percentileChart;if(this.state.measurement===t||ea===0)return null;c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_MACA_EDITOR_CREATE_WHALE_AUDIENCE_ATTEMPT},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);return {metric:this.state.measurement,period:this.state.durationSelector+'d',technique:{technique_name:'percentile',lower_bound:ea}};},getDuration:function da(){var ea=this.state.measurement===t?this.state.durationInput:this.state.durationSelector;return parseInt(ea,10);},getClientFilters:function da(){var ea=Object.keys(this.state.selectedClientFilters).filter(function(fa){return this.state.selectedClientFilters[fa];}.bind(this));if(ea.length===Object.keys(this.state.selectedClientFilters).length)return null;return ea;}});f.exports=ca;}),null);
__d('MobileAppRemarketingRuleTypeaheadPresenter.react',['cx','React'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';if(this.props.entries&&this.props.entries.length){return (c('React').createElement('ul',{className:"_5h93"},this.props.entries.map(function(m){return (c('React').createElement('li',{className:"_5h94",key:'ruleTypeahead_'+m.getUniqueID(),onMouseDown:this.props.onSelect.bind(null,m),onMouseEnter:this.props.onHighlight.bind(null,m)},c('React').createElement('div',null,m.getTitle())));}.bind(this))));}else return (c('React').createElement('ul',null));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={entries:k.array.isRequired,onSelect:k.func.isRequired};f.exports={maxEntries:Number.POSITIVE_INFINITY,ViewRenderer:l,useLayer:true};}),null);
__d('MobileAppRemarketingParameterView.react',['cx','fbt','AbstractTypeahead.react','BUIAdoptionCloseButton.react','LeftRight.react','LoadingIndicator.react','MobileAppRemarketingRuleTypeaheadPresenter.react','AudienceManagerAppRemarketingOperatorConfig','React','SearchableEntry','Token.react','TokenizeUtil','XUISelector.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('XUISelector.react').Option,m=c('React').PropTypes,n=10000,o={typeahead_placeholder_add_a_value:i._("Add a value"),typeahead_placeholder_add_values:i._("Add values")};j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(q,r){k.constructor.call(this,q,r);this.$MobileAppRemarketingParameterView9=function(t){if(t){this.setState({queryString:''});if(this.props.values.indexOf(t)>=0)return;this.props.onValuesChanged(this.props.index,this.props.values.concat([t]));}}.bind(this);this.$MobileAppRemarketingParameterView1=function(t){return {bootstrap:function u(v){v&&v();},exactMatch:function u(v){for(var w=0;w<t.length;w++){var x=t[w];if(x.title.toUpperCase()===v.toUpperCase())return new (c('SearchableEntry'))({uniqueID:x.uniqueID,title:x.title});}return null;},isEmpty:function u(){return !t||t.length===0;},search:function u(v,w){t.sort(function(y,z){return y.title.toUpperCase()>z.title.toUpperCase()?1:-1;});var x=t.filter(function(y){return !v||c('TokenizeUtil').isQueryMatch(v,y.title);}).map(function(y){return new (c('SearchableEntry'))({uniqueID:y.uniqueID,title:y.title});});w(x,v);}};};this.$MobileAppRemarketingParameterView2=function(event){var t=this.state.searchSource,u=t.exactMatch(this.state.queryString);if(u){this.$MobileAppRemarketingParameterView9(u.getUniqueID());}else this.$MobileAppRemarketingParameterView9(this.state.queryString);}.bind(this);this.$MobileAppRemarketingParameterView3=function(event){this.setState({queryString:event.target.value});}.bind(this);this.$MobileAppRemarketingParameterView8=function(){this.props.onParameterRemoved(this.props.index);}.bind(this);this.$MobileAppRemarketingParameterView4=function(event){this.$MobileAppRemarketingParameterView9(event.getUniqueID());}.bind(this);this.$MobileAppRemarketingParameterView10=function(t){var u=this.props.values.filter(function(v){return v!==t;});this.props.onValuesChanged(this.props.index,u);}.bind(this);this.$MobileAppRemarketingParameterView5=function(t){return (c('React').createElement(c('XUISelector.react'),{className:"_5svn _5svq",name:'filter_selector',size:'xlarge',value:t,onChange:function(event){this.props.onOperatorChanged(this.props.index,event.value);}.bind(this)},c('AudienceManagerAppRemarketingOperatorConfig').operators.map(function(u){return (c('React').createElement(l,{key:u.value,value:u.value},u.text));})));}.bind(this);this.$MobileAppRemarketingParameterView6=function(){var t=this.props.knownValues||{};return this.props.values.map(function(u){return (c('React').createElement(c('Token.react'),{label:t[u]||u,removable:true,onRemove:this.$MobileAppRemarketingParameterView10.bind(this,u)}));},this);}.bind(this);this.$MobileAppRemarketingParameterView7=function(){return c('AudienceManagerAppRemarketingOperatorConfig').isArray[this.props.operator]||!this.props.values.length;}.bind(this);var s=q.possibleValues||[];this.state={searchSource:this.$MobileAppRemarketingParameterView1(s),queryString:'',values:[],loadingTimeout:false};}p.prototype.componentWillMount=function(){setTimeout(function(){if(this.props.possibleValuesLoading)this.setState({loadingTimeout:true});}.bind(this),n);};p.prototype.componentWillReceiveProps=function(q){var r=q.possibleValues||[],s=this.$MobileAppRemarketingParameterView1(r);this.setState({searchSource:s});};p.prototype.render=function(){var q=void 0;if(this.props.possibleValuesLoading&&!this.state.loadingTimeout){q=c('React').createElement(c('LoadingIndicator.react'),{className:"_4c97",color:'white',size:'small'});}else{var r=this.state.searchSource,s=void 0;if(r.isEmpty()){s=c('AudienceManagerAppRemarketingOperatorConfig').isArray[this.props.operator]?o.typeahead_placeholder_add_values:o.typeahead_placeholder_add_a_value;}else s=i._("Type to search {parameter type} values...",[i.param('parameter type',this.props.title)]);q=c('React').createElement(c('AbstractTypeahead.react'),{placeholder:s,presenter:c('MobileAppRemarketingRuleTypeaheadPresenter.react'),queryString:this.state.queryString,searchSource:r,showEntriesOnFocus:true,onBlur:this.$MobileAppRemarketingParameterView2,onChange:this.$MobileAppRemarketingParameterView3,onSelectAttempt:this.$MobileAppRemarketingParameterView4});}return c('React').createElement('div',{className:"_5gop"},c('React').createElement(c('LeftRight.react'),null,c('React').createElement('div',{className:"_5goq"},c('React').createElement('div',{className:"_5svm"},c('React').createElement('div',{className:"_5h95 _5svn"},this.props.title),this.$MobileAppRemarketingParameterView5(this.props.operator),c('React').createElement('div',{className:"_5svo"})),c('React').createElement('div',{className:"_5hms"+(' '+"_5svp")+(!this.props.values.length?' '+"hidden_elem":'')},this.$MobileAppRemarketingParameterView6()),c('React').createElement('div',{className:"_5gos"+(!this.$MobileAppRemarketingParameterView7()?' '+"hidden_elem":'')},q)),c('React').createElement(c('BUIAdoptionCloseButton.react'),{className_DEPRECATED:"_5got",onClick:this.$MobileAppRemarketingParameterView8})));};p.propTypes={index:m.number.isRequired,knownValues:m.object,title:m.string.isRequired,onValuesChanged:m.func.isRequired,onOperatorChanged:m.func.isRequired,onParameterRemoved:m.func.isRequired,operator:m.string.isRequired,possibleValues:m.array,possibleValuesLoading:m.bool,values:m.array};f.exports=p;}),null);
__d('MobileAppRemarketingEventView.react',['cx','fbt','AbstractTypeahead.react','BonsaiApiBreakdown','BonsaiApiDataAdapter','BonsaiSectionDataLoaderMixin','BUIAdoptionCloseButton.react','MobileAppRemarketingRuleTypeaheadPresenter.react','AudienceManagerAppRemarketingOperatorConfig','MobileAppRemarketingParameterView.react','React','SearchableEntry','TokenizeUtil'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=c('React').createClass({displayName:'MobileAppRemarketingEventView',mixins:[c('BonsaiSectionDataLoaderMixin')],propTypes:{eventDisplayName:j.string.isRequired,event:j.string.isRequired,parameters:j.array.isRequired,onEventClosed:j.func,enableEventParameters:j.bool},getDefaultProps:function l(){return {enableEventParameters:true};},getInitialState:function l(){var m=this.props.parameters||[];return {selectedParams:[],searchSource:this._constructSearchSource(m),queryString:''};},componentWillReceiveProps:function l(m){var n=m.parameters||[],o=this._constructSearchSource(n);this.setState({searchSource:o});},render:function l(){return (c('React').createElement('div',{className:"_5gom"},c('React').createElement('div',{className:"_5gon"+(this.props.enableEventParameters?' '+"_1ldq":'')+(' '+"pam")},c('React').createElement('div',null,this.props.eventDisplayName),c('React').createElement(c('BUIAdoptionCloseButton.react'),{className_DEPRECATED:"_5goo",onClick:this._eventClosed})),this._renderEventParameters()));},_getBonsaiApiBreakdownName:function l(m){return m==='_appVersion'?c('BonsaiApiBreakdown').APP_VERSION:m;},_renderEventParameters:function l(){if(!this.props.enableEventParameters)return null;var m=this.state,n=this.props,o=i._("Optionally add a parameter"),p=i._("Optionally add another parameter");return (c('React').createElement('span',null,c('React').createElement('div',{style:{display:m.selectedParams.length?'block':'none'}},m.selectedParams.map(this._renderParameterView)),c('React').createElement('div',{className:(m.selectedParams.length===n.parameters.length?"hidden_elem":'')+(' '+"mvm")},c('React').createElement(c('AbstractTypeahead.react'),{className:'mlm mtm',placeholder:m.selectedParams.length?p:o,presenter:c('MobileAppRemarketingRuleTypeaheadPresenter.react'),queryString:m.queryString,searchSource:this.state.searchSource,showEntriesOnFocus:true,onChange:this._onInputChange,onSelectAttempt:this._onSelectParameterAttempt}))));},_onSelectParameterAttempt:function l(m){if(this._shouldLoadParameterValues(m.getUniqueID())){var n=this._getBonsaiApiBreakdownName(m.getUniqueID()),o={event_name:this.props.event,aggregateBy:'COUNT',breakdowns:[n]};this.addMetric([n,o.event_name],'app_event',o);this.fetchMetrics(true);}var p=this.state.selectedParams;p.push({id:m.getUniqueID(),title:m.getTitle(),operator:c('AudienceManagerAppRemarketingOperatorConfig').defaultValue,knownValues:m.getAuxiliaryData().knownValues,values:[]});this.setState({selectedParams:p,queryString:''});},_constructSearchSource:function l(m){return {bootstrap:function n(o){o&&o();},search:function n(o,p){m.sort(function(r,s){return r.title.toUpperCase()>s.title.toUpperCase()?1:-1;});var q=m.filter(function(r){return !o||c('TokenizeUtil').isQueryMatch(o,r.title);}).map(function(r){return new (c('SearchableEntry'))({uniqueID:r.uniqueID,title:r.title,auxiliaryData:{knownValues:r.knownValues}});});p(q,o);}};},_onInputChange:function l(event){this.setState({queryString:event.target.value});},_renderParameterView:function l(m,n){var o=this._getBonsaiApiBreakdownName(m.id),p=m.operator,q=m.values;if(!c('AudienceManagerAppRemarketingOperatorConfig').isArray[p]&&q.length)q.splice(1,q.length-1);var r=false,s=[],t=m.knownValues||{};if(this._shouldLoadParameterValues(m.id)){var u=this.getRawData([o,this.props.event]);if(u instanceof c('BonsaiApiDataAdapter')){var v=u.groupBy(o);s=Object.keys(v).map(function(w){return {title:t[w]||w,uniqueID:w};});}else r=true;}return (c('React').createElement(c('MobileAppRemarketingParameterView.react'),{index:n,key:'eventParam_'+m.id+n,knownValues:t,operator:p,possibleValues:s,possibleValuesLoading:r,title:m.title,values:q,onOperatorChanged:this._parameterOperatorChanged,onParameterRemoved:this._paramRemoved,onValuesChanged:this._parameterValuesChanged}));},_shouldLoadParameterValues:function l(m){return m!=='_valueToSum'&&m!=='_valueToSumInUSD';},_parameterValuesChanged:function l(m,n){var o=this.state.selectedParams;o.forEach(function(p,q){if(q===m)p.values=n;});this.setState({selectedParams:o});},_parameterOperatorChanged:function l(m,n){var o=this.state.selectedParams;o.forEach(function(p,q){if(q===m){p.operator=n;p.values=[];}});this.setState({selectedParams:o});},_paramRemoved:function l(m){var n=this.state.selectedParams.filter(function(o,p){return m!==p;});this.setState({selectedParams:n,queryString:''});},_eventClosed:function l(){this.setState(this.getInitialState());this.props.onEventClosed();},getSelectedParams:function l(){return this.state.selectedParams;}});f.exports=k;}),null);
__d('MobileAppRemarketingWhaleRuleSelector.react',['cx','fbt','AbstractTypeahead.react','AdsMobileRemarketingEventNameSearchSource','InsightsContext','InfoTable.react','InfoTableRow.react','InfoTableSection.react','MobileAppRemarketingEventPercentileChart','MobileAppRemarketingRuleTypeaheadPresenter.react','MobileAppRemarketingEventView.react','React'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes,m=541,n=i._("Action taken"),o=i._("Action Not Taken");j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(){var q,r;'use strict';for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.state={enableEventParams:!this.props.initialPercentile,initialDuration:this.props.initialDuration,initialMeasurement:this.props.initialMeasurement,initialPercentile:this.props.initialPercentile,queryString:'',selectedEvent:null},this.$MobileAppRemarketingWhaleRuleSelector4=function(){if(!this.state.selectedEvent)return null;var v=this.state.initialPercentile&&parseInt(this.state.initialPercentile,10);return (c('React').createElement(c('MobileAppRemarketingEventPercentileChart'),{appID:this.props.appID,eventName:this.state.selectedEvent.getUniqueID(),fullDateRange:c('InsightsContext').getFullDateRange(),initialInterval:parseInt(this.state.initialInterval,10),initialMeasurement:this.state.initialMeasurement,initialPercentile:v,key:'percentileChart',ref:'percentileChart',visibleDateRange:c('InsightsContext').getDefaultVisibleDateRange(),width:m,onMeasurementChange:this.$MobileAppRemarketingWhaleRuleSelector5}));}.bind(this),this.$MobileAppRemarketingWhaleRuleSelector2=function(v){this.setState({enableEventParams:true,initialDuration:null,initialMeasurement:null,initialPercentile:null,selectedEvent:v});}.bind(this),this.$MobileAppRemarketingWhaleRuleSelector1=function(event){this.setState({queryString:event.target.value});}.bind(this),this.$MobileAppRemarketingWhaleRuleSelector5=function(v){this.setState({enableEventParams:v==='all'});}.bind(this),this.$MobileAppRemarketingWhaleRuleSelector3=function(){this.setState({selectedEvent:null,queryString:''});}.bind(this),this.getRule=function(){if(!this.state.selectedEvent)return null;var v={retention_days:this.refs.percentileChart.getDuration(),event:this.state.selectedEvent.getUniqueID(),params:this.refs.eventView.getSelectedParams()},w=this.refs.percentileChart.getCumulativeRule();if(w){v.cumulativeRule=w;}else v.clientFilters=this.refs.percentileChart.getClientFilters();return v;}.bind(this),r;}p.prototype.componentWillMount=function(){'use strict';if(this.props.initialEventName){var q=new (c('AdsMobileRemarketingEventNameSearchSource'))(this.props.events,function(event){return event.event_name;});q.search(this.props.initialEventName,function(r){if(r&&r.length>0)this.setState({selectedEvent:r[0]});}.bind(this));}};p.prototype.render=function(){'use strict';var q=this.props.type==='inclusion'?n:o,r=i._("Type to search your events"),s=this.state.selectedEvent?this.state.selectedEvent.getTitle():'',event=this.state.selectedEvent?this.state.selectedEvent.getUniqueID():'',t=this.state.selectedEvent?this.state.selectedEvent.getAuxiliaryData().segments:[];return c('React').createElement('div',null,c('React').createElement('div',{className:"_5rkp"},c('React').createElement(c('InfoTable.react'),{className:"_5gfn"},c('React').createElement(c('InfoTableSection.react'),null,c('React').createElement(c('InfoTableRow.react'),{label:q,type:'data'},c('React').createElement('div',null,c('React').createElement('div',{className:(!!this.state.selectedEvent?"hidden_elem":'')+(this.props.shouldValidateUI?' '+"_5vvv":'')},c('React').createElement(c('AbstractTypeahead.react'),{placeholder:r,presenter:c('MobileAppRemarketingRuleTypeaheadPresenter.react'),queryString:this.state.queryString,searchSource:new (c('AdsMobileRemarketingEventNameSearchSource'))(this.props.events,function(event){return event.display_name;}),showEntriesOnFocus:true,onChange:this.$MobileAppRemarketingWhaleRuleSelector1,onSelectAttempt:this.$MobileAppRemarketingWhaleRuleSelector2})),c('React').createElement('div',{className:!this.state.selectedEvent?"hidden_elem":''},c('React').createElement(c('MobileAppRemarketingEventView.react'),{enableEventParameters:this.state.enableEventParams,event:event,eventDisplayName:s,fullDateRange:c('InsightsContext').getFullDateRange(),parameters:t,ref:'eventView',onEventClosed:this.$MobileAppRemarketingWhaleRuleSelector3}))))))),this.$MobileAppRemarketingWhaleRuleSelector4());};p.propTypes={appID:l.string,events:l.array,initialEventName:l.string,initialDuration:l.string,initialMeasurement:l.string,initialPercentile:l.string,shouldValidateUI:l.bool.isRequired,type:l.oneOf(['inclusion','exclusion'])};f.exports=p;}),null);
__d('AdsCreateMobileRemarketingAudienceViewV2.react',['cx','fbt','AdsInterfacesLogger','AdsMobileRemarketingAppNameSearchSource','AppCustomEventType','AudienceManagerErrorView.react','AudienceManagerLoggingEvents','AudienceManagerTextInput','AudienceManagerURLConstants','InfoTable.react','InfoTableRow.react','InfoTableSection.react','InsightsGraphAPI','Link.react','MobileAppRemarketingAppTypeahead.react','MobileAppRemarketingSegmentRuleBuilder.react','MobileAppRemarketingWhaleRuleSelector.react','React','XUIMenuStaticItem.react','XUISelector.react','XUITextInput.react'],(function a(b,c,d,e,f,g,h,i){var j=c('XUISelector.react').Option,k=c('React').PropTypes,l='action_taken_activity',m='action_not_taken_activity',n='combined_action_activity',o='segment_activity',p=180,q=[c('AppCustomEventType').FB_MOBILE_DEACTIVATE_APP],r=c('React').createClass({displayName:'AdsCreateMobileRemarketingAudienceViewV2',propTypes:{searchSource:k.object,dao:k.object,error:k.string,shouldValidateUI:k.bool.isRequired,defaultMobileApp:k.object,config:k.object},componentWillMount:function s(){if(this.props.config){this._loadConfig(this.props.config);}else if(this.props.defaultMobileApp!==null)this._appSelected(this.props.defaultMobileApp);},getInitialState:function s(){return {selectedActivity:null,selectedApp:null,selectedRules:null,defaultSegmentID:null,events:null,name:'',description:''};},render:function s(){var t=i._("Name"),u=i._("App"),v=i._("Enter an App name");return (c('React').createElement('div',{className:"_5ezu"},c('React').createElement('div',{className:"_5rkp"},c('React').createElement(c('InfoTable.react'),{className:"_5oht"},c('React').createElement(c('InfoTableSection.react'),null,c('React').createElement(c('InfoTableRow.react'),{label:t,type:'data'},c('React').createElement('div',null,c('React').createElement(c('XUITextInput.react'),{className:!this.state.name&&this.props.shouldValidateUI?"_5vvv":'',placeholder:i._("Name your audience"),value:this.state.name,onChange:this._nameChanged}))),c('React').createElement(c('InfoTableRow.react'),{label:i._("Description")},c('React').createElement(c('AudienceManagerTextInput'),{className:"_5w16",isTextArea:true,placeholder:i._("Add an optional description of your audience"),value:this.state.description,onChange:this._descriptionChanged})),c('React').createElement(c('InfoTableRow.react'),{label:u},c('React').createElement('div',{className:!this.state.selectedApp&&this.props.shouldValidateUI?"_5vvv":''},c('React').createElement(c('MobileAppRemarketingAppTypeahead.react'),{appSelected:this._appSelected,dao:this.props.dao,placeholder:v,searchSource:this.props.searchSource,selectedApp:this.state.selectedApp}))),this._renderActivitySelector()))),this._renderRuleSelectors(),c('React').createElement(c('AudienceManagerErrorView.react'),{message:i._("This app doesn't log any events."),shown:this.state.selectedApp&&!this.state.events}),c('React').createElement(c('AudienceManagerErrorView.react'),{message:this.props.error,shown:!!this.props.error})));},_nameChanged:function s(event){this.setState({name:event.target.value});},_descriptionChanged:function s(t){this.setState({description:t});},_appSelected:function s(t,u){if(!t){this.setState({selectedApp:t});return;}this.props.dao.fetch.appEventTypesForApp.one(function(v){if(v&&v.length>0){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_MACA_EDITOR_APP_SELECTED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);}else c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_MACA_EDITOR_APP_NO_EVENTS},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);v=v.filter(function(event){return q.indexOf(event.event_name)===-1;});this.setState({selectedApp:t,selectedRules:null,events:v});c('InsightsGraphAPI').setInsightsObjectID(t.getUniqueID());u&&u();}.bind(this),{fbid:t.getUniqueID()});},_activitySelected:function s(t){var u;switch(t.value){case l:u=c('AudienceManagerLoggingEvents').AM_MACA_EDITOR_ACTION_TAKEN_ACTIVITY_SELECTED;break;case m:u=c('AudienceManagerLoggingEvents').AM_MACA_EDITOR_ACTION_NOT_TAKEN_ACTIVITY_SELECTED;break;case n:u=c('AudienceManagerLoggingEvents').AM_MACA_EDITOR_COMBINATION_ACTION_ACTIVITY_SELECTED;break;}if(u)c('AdsInterfacesLogger').log({eventName:u},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.setState({selectedActivity:t.value});},_renderActivityTypeOptions:function s(){var t=[c('React').createElement(c('XUIMenuStaticItem.react'),{className:"_4g1e",key:'static_select_one'},i._("Select one")),c('React').createElement(j,{key:l,value:l},i._("Action taken")),c('React').createElement(j,{key:m,value:m},i._("Action not taken")),c('React').createElement(j,{key:n,value:n},i._("Combined action"))];t.push(c('React').createElement(j,{key:o,value:o},i._("Segment")));return t;},_renderActivitySelector:function s(){if(!this.state.selectedApp||!this.state.events)return null;return (c('React').createElement(c('InfoTableRow.react'),{className:!this.state.selectedApp||!this.state.events?"hidden_elem":''},c('React').createElement('div',null,c('React').createElement('div',{className:'pbs'},i._("Create a list of people based on their activity in your app")),c('React').createElement('div',null,c('React').createElement(c('XUISelector.react'),{disabled:!this.state.selectedApp,value:this.state.selectedActivity,onChange:this._activitySelected},this._renderActivityTypeOptions())))));},_renderRuleSelectors:function s(){if(this.state.selectedActivity===o)return this._renderSegmentRuleBuilder();if(!this.state.selectedApp||!this.state.events||!this.state.selectedActivity)return null;var t=[];switch(this.state.selectedActivity){case l:var u=null,v=null,w=null,x=null;if(this.state.selectedRules&&this.state.selectedRules.inclusion){var y=this.state.selectedRules.inclusion;u=y.event;v=y.days;w=y.percentile;x=y.measurement;}t.push(c('React').createElement(c('MobileAppRemarketingWhaleRuleSelector.react'),{appID:this.state.selectedApp.getUniqueID(),events:this.state.events,initialDuration:v,initialEventName:u,initialMeasurement:x,initialPercentile:w,key:'actionTakenRule',ref:'ruleSelectorInclusive',shouldValidateUI:this.props.shouldValidateUI,type:'inclusion'}));break;case m:var z=this.state.events.filter(function(event){return event.event_name===c('AppCustomEventType').FB_MOBILE_ACTIVATE_APP;})[0];if(!z)return this._renderActionNotTakenUpsell();t.push(c('React').createElement(c('MobileAppRemarketingWhaleRuleSelector.react'),{appID:this.state.selectedApp.getUniqueID(),events:this.state.events,key:'actionNotTakenRule',ref:'ruleSelectorExclusive',shouldValidateUI:this.props.shouldValidateUI,type:'exclusion'}));break;case n:t.push(c('React').createElement(c('MobileAppRemarketingWhaleRuleSelector.react'),{appID:this.state.selectedApp.getUniqueID(),events:this.state.events,key:'comboActionTakenRule',ref:'ruleSelectorInclusive',shouldValidateUI:this.props.shouldValidateUI,type:'inclusion'}));t.push(c('React').createElement(c('MobileAppRemarketingWhaleRuleSelector.react'),{appID:this.state.selectedApp.getUniqueID(),events:this.state.events,key:'comboActionNotTakenRule',ref:'ruleSelectorExclusive',shouldValidateUI:this.props.shouldValidateUI,type:'exclusion'}));break;}return (c('React').createElement('div',null,c('React').createElement('div',{className:"_5svv"}),t));},_renderActionNotTakenUpsell:function s(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_MACA_ACTIVATE_APP_UPSELL_SHOWN},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);return (c('React').createElement('div',null,c('React').createElement('div',{className:"_5svv"}),c('React').createElement(c('AudienceManagerErrorView.react'),{message:i._("This app does not log app activation events."),shown:true}),c('React').createElement('div',{className:'pam'},i._("This is required to create custom audiences based on an action not taken. See {app activation info link for iOS} or {app activation info link for Android} for more information.",[i.param('app activation info link for iOS',c('React').createElement(c('Link.react'),{href:c('AudienceManagerURLConstants').MACA_IOS_ACTIVATE_APP,target:'_blank'},i._("App Activations for iOS"))),i.param('app activation info link for Android',c('React').createElement(c('Link.react'),{href:c('AudienceManagerURLConstants').MACA_ANDROID_ACTIVATE_APP,target:'_blank'},i._("App Activations for Android")))]))));},_loadConfig:function s(t){var u=c('AdsMobileRemarketingAppNameSearchSource').getInstance(this.props.dao);u.searchImpl(t.rule.application,function(v){if(v&&v.length>0)this._appSelected(v[0],function(){if(t.rule.eventName){var w={inclusion:{event:t.rule.eventName,days:t.rule.days,percentile:t.rule.percentile,measurement:t.rule.measurement}};this.setState({selectedActivity:l,selectedRules:w});}else if(t.rule.segmentID)this.setState({selectedActivity:o,defaultSegmentID:t.rule.segmentID});}.bind(this));}.bind(this));},getCreationParams:function s(){var t=this.state,u={name:t.name,description:t.description,application:t.selectedApp&&t.selectedApp.getUniqueID()};if(this.state.selectedActivity===o){u.inclusions=[this.refs.segmentRuleBuilder.getRule()];return u;}if(this.state.selectedActivity===m){u.inclusions=[this._getActivatedAppRule()];}else if(this.refs.ruleSelectorInclusive)u.inclusions=[this.refs.ruleSelectorInclusive.getRule()];if(this.refs.ruleSelectorExclusive)u.exclusions=[this.refs.ruleSelectorExclusive.getRule()];return u;},_getActivatedAppRule:function s(){return {event:c('AppCustomEventType').FB_MOBILE_ACTIVATE_APP,params:[],retention_days:p};},clearState:function s(){this.setState(this.getInitialState());},_renderSegmentRuleBuilder:function s(){if(!this.state.selectedApp)return null;return (c('React').createElement('div',null,c('React').createElement('div',{className:"_5svv"}),c('React').createElement(c('MobileAppRemarketingSegmentRuleBuilder.react'),{appID:this.state.selectedApp.getUniqueID(),defaultSegmentID:this.state.defaultSegmentID,ref:'segmentRuleBuilder'})));}});f.exports=r;}),null);
__d('AudienceManagerDialogBackButton.react',['fbt','React','XUIDialogButton.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;l.prototype.render=function(){if(!this.props.onClick)return null;return (c('React').createElement(c('XUIDialogButton.react'),babelHelpers['extends']({},this.props,{label:h._("Back")})));};function l(){i.apply(this,arguments);}f.exports=l;}),null);
__d('AudienceManagerDialogCreateAudienceButton.react',['fbt','React','XUIDialogButton.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement(c('XUIDialogButton.react'),babelHelpers['extends']({},this.props,{label:h._("Create Audience"),use:'confirm'})));};function l(){i.apply(this,arguments);}f.exports=l;}),null);
__d('AudienceManagerDialogUpdateAudienceButton.react',['fbt','React','XUIDialogButton.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement(c('XUIDialogButton.react'),babelHelpers['extends']({},this.props,{label:h._("Update Audience"),use:'confirm'})));};function l(){i.apply(this,arguments);}f.exports=l;}),null);
__d('AudienceManagerRuleBuilderEditUtils',['CustomAudienceRuleField'],(function a(b,c,d,e,f,g){'use strict';function h(k){if(!k)return false;var l=k&&k.inclusions;if(!l)return false;if(!i(l))return false;var m=k.exclusions;if(!m)return true;return i(m);}function i(k){var l=k.operator;if(!l||l!=='or')return false;var m=k.rules;if(!m||m.length<1)return false;return m.every(function(n){return j(n);});}function j(k){var l=k&&k.event_sources;if(!l||l.length!==1)return false;var m=k.retention_seconds;if(m<=0)return false;var n=k.filter&&k.filter.operator;if(n!=='and')return false;var o=k.template,p=k.filter.filters,q=p.filter(function(s){return s.field===c('CustomAudienceRuleField').EVENT;}),r=p.filter(function(s){return s.field===c('CustomAudienceRuleField').SEGMENT_ID;});if(!o&&q.length===0&&r.length!==1)return false;return p.every(function(s){return !s.filters||s.operator==='or';});}f.exports={isEditable:h};}),null);
__d('SignalsNameAndDescriptionEditor.react',['cx','fbt','SUIBusinessTheme','SUITextInput.react','Link.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('React').PropTypes,n=i._("Name"),o=i._("Description"),p=i._("Hide Description"),q=i._("Show description"),r=50,s=100;j=babelHelpers.inherits(t,l);k=j&&j.prototype;function t(u){k.constructor.call(this,u);this.$SignalsNameAndDescriptionEditor1=function(){this.setState({descriptionHidden:!this.state.descriptionHidden});}.bind(this);this.$SignalsNameAndDescriptionEditor2=function(v){this.setState({name:v},function(){return this.props.onChange(this.state.name,this.state.description);}.bind(this));}.bind(this);this.$SignalsNameAndDescriptionEditor3=function(v){this.setState({description:v},function(){return this.props.onChange(this.state.name,this.state.description);}.bind(this));}.bind(this);this.state={name:u.initialName||'',description:u.initialDescription||'',descriptionHidden:u.initialDescriptionExpanded!==true};}t.prototype.render=function(){var u=this.state.descriptionHidden,v=this.props.nameLabel||n,w=!this.props.disableDescription?c('React').createElement('div',{className:"_sa8"},c('React').createElement('div',{className:"_sa9"},o),c('React').createElement('div',{className:"_saz"},c('React').createElement(c('SUITextInput.react'),{maxLength:s,placeholder:this.props.descriptionPlaceholder,theme:c('SUIBusinessTheme'),value:this.state.description,onChange:this.$SignalsNameAndDescriptionEditor3}))):null,x=!u?p:q,y=this.props.disableDescription!==true?c('React').createElement(c('Link.react'),{className:"_sb3",onClick:this.$SignalsNameAndDescriptionEditor1},x):null,z="_sb5"+(u?' '+"_sb6":'');return (c('React').createElement('div',{className:z},c('React').createElement('div',{className:"_sb7"},c('React').createElement('div',{className:"_sb8"},c('React').createElement('div',{className:"_sb9"},v),c('React').createElement('div',{className:"_sba"},c('React').createElement(c('SUITextInput.react'),{maxLength:r,placeholder:this.props.namePlaceholder,theme:c('SUIBusinessTheme'),value:this.state.name,onChange:this.$SignalsNameAndDescriptionEditor2}))),w),y));};t.propTypes={descriptionPlaceholder:m.oneOfType([m.node,m.string]),disableDescription:m.bool,initialDescription:m.string,initialName:m.string,nameLabel:m.oneOfType([m.node,m.string]),namePlaceholder:m.oneOfType([m.node,m.string]),onChange:m.func.isRequired};f.exports=t;}),null);
__d('AdsCreatePlatformAudienceDialog.react',['cx','fbt','AdsAMAudienceActions','AdsAudienceRuleBuilderPlatform.react','AdsOffsiteConversionConstants','AdsSpinnerCover.react','AudienceManagerDialogBackButton.react','AudienceManagerDialogCreateAudienceButton.react','AudienceManagerDialogUpdateAudienceButton.react','AudienceManagerCustomAudienceLoggerActions','AudienceManagerLoggingEvents','AudienceManagerRuleBuilderEditUtils','BUIAdoptionButton.react','BUIAdoptionXUIText.react','CustomAudienceRuleField','CustomAudienceRuleFilterField','CustomAudienceRuleSignalSource','CustomAudienceTosUtils','Link.react','SignalsNameAndDescriptionEditor.react','React','URI','SUIBusinessTheme','SUINotice.react','XUIDialog.react','XUIDialogBody.react','XUIDialogTitle.react','CustomAudienceRuleMode','CustomAudienceRuleSetField','CustomAudienceRuleEventSourceField','AdsAudienceRuleBuilderTemplateUtil','getByPath','setByPath'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l,m,n,o,p=c('React').Component,q=c('React').Element,r=c('CustomAudienceRuleField').EVENT_SOURCES,s=c('CustomAudienceRuleMode').INCLUSIONS,t=c('CustomAudienceRuleMode').EXCLUSIONS,u=c('CustomAudienceRuleSetField').RULES,v=c('CustomAudienceRuleEventSourceField').TYPE,w=c('AdsAudienceRuleBuilderTemplateUtil').inferTemplateSpecFromOldWCA,x=i._("Cancel"),y=650,z=i._("Audience name"),aa=i._("Name your audience"),ba=i._("Sorry, this rule was created through an API or third-party applications. It contains syntax that we currently don't support in our interface."),ca={inclusions:{operator:'or',rules:[(o={},o[r]=[(n={},n[v]=c('CustomAudienceRuleSignalSource').PIXEL,n)],o)]}};j=babelHelpers.inherits(da,p);k=j&&j.prototype;da.prototype.render=function(){var ga=this.props.audience?i._("Edit a Custom Audience"):i._("Create a Custom Audience");return (c('React').createElement(c('XUIDialogTitle.react'),null,c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'medium',weight:'bold'},ga)));};function da(){j.apply(this,arguments);}l=babelHelpers.inherits(ea,p);m=l&&l.prototype;function ea(ga){m.constructor.call(this,ga);fa.call(this);var ha=ga.audience&&JSON.parse(ga.audience.rule_v2)||ca;ha=ga.audience?w(ga.audience):ha;this.state={desc:ga.audience&&ga.audience.description||'',enableConfirm:false,error:null,isLoading:false,isRuleRenderable:false,isWcaTosChecked:true,name:ga.audience&&ga.audience.name||'',rule:ha};}ea.prototype.componentWillMount=function(){if(c('AudienceManagerRuleBuilderEditUtils').isEditable(this.state.rule))this.setState({isRuleRenderable:true});};ea.prototype.render=function(){var ga=this.props.isWcaTosAccepted?null:this.$AdsCreatePlatformAudienceDialog1(),ha=this.state.error?this.$AdsCreatePlatformAudienceDialog2(this.state.error):null,ia=this.props.audience&&!this.state.isRuleRenderable?c('React').createElement(c('SUINotice.react'),{style:{marginBottom:'12px'},type:'error'},ba):c('React').createElement('div',null,ha,c('React').createElement(c('AdsAudienceRuleBuilderPlatform.react'),{defaultSpec:this.state.rule,signalSourceType:this.props.signalSourceType,onChange:this.$AdsCreatePlatformAudienceDialog3}),ga),ja=this.props.shouldUseXUIDialogWrapper!=null?this.props.shouldUseXUIDialogWrapper:true;return ja?c('React').createElement(c('XUIDialog.react'),{layerHideOnBlur:false,shown:true,width:y,onToggle:this.$AdsCreatePlatformAudienceDialog4},c('React').createElement(da,this.props),c('React').createElement(c('XUIDialogBody.react'),null,ia),this.$AdsCreatePlatformAudienceDialog5()):c('React').createElement('div',null,c('React').createElement(da,this.props),c('React').createElement(c('XUIDialogBody.react'),null,ia),this.$AdsCreatePlatformAudienceDialog5());};ea.prototype.$AdsCreatePlatformAudienceDialog2=function(ga){return (c('React').createElement('div',{className:"_3-95"},c('React').createElement(c('SUINotice.react'),{theme:c('SUIBusinessTheme'),type:'error',onClose:this.$AdsCreatePlatformAudienceDialog6},ga.message)));};ea.prototype.$AdsCreatePlatformAudienceDialog1=function(){var ga=this.props.accountID,ha=new (c('URI'))(c('AdsOffsiteConversionConstants').pixelTOS).addQueryData({act:ga});return (c('React').createElement('div',{className:"_3-8x"},c('React').createElement('input',{checked:this.state.isWcaTosChecked,type:'checkbox',onChange:this.$AdsCreatePlatformAudienceDialog7}),i._("I agree to the {=Facebook Pixel Terms}",[i.param('=Facebook Pixel Terms',c('React').createElement(c('Link.react'),{href:ha,target:'_blank'},i._("Facebook pixel terms")))])));};ea.prototype.$AdsCreatePlatformAudienceDialog5=function(){var ga=this.props.audience?c('React').createElement('div',{className:"_5we"},c('React').createElement(c('AudienceManagerDialogUpdateAudienceButton.react'),{disabled:!this.state.enableConfirm,onClick:this.$AdsCreatePlatformAudienceDialog9})):c('React').createElement('div',{className:"_5we"},c('React').createElement(c('AudienceManagerDialogBackButton.react'),{onClick:this.props.onBack}),c('React').createElement(c('AudienceManagerDialogCreateAudienceButton.react'),{disabled:!this.state.enableConfirm,onClick:this.$AdsCreatePlatformAudienceDialog9})),ha=this.state,ia=ha.name,ja=ha.desc;return (c('React').createElement('div',{className:"_5wb",ref:'footer',style:{paddingBottom:8}},c('React').createElement('div',{className:"_5n3v"},c('React').createElement(c('SignalsNameAndDescriptionEditor.react'),{initialDescription:ja,initialDescriptionExpanded:!!ja,initialName:ia,nameLabel:z,namePlaceholder:aa,onChange:this.$AdsCreatePlatformAudienceDialog10})),c('React').createElement('div',{className:"_2q8e"},c('React').createElement('div',{className:"_2q8f"},c('React').createElement(c('BUIAdoptionButton.react'),{disabled:this.state.isLoading,label:x,onClick:this.props.onCancel})),ga),c('React').createElement(c('AdsSpinnerCover.react'),{show:this.state.isLoading})));};ea.prototype.$AdsCreatePlatformAudienceDialog11=function(ga){var ha=c('getByPath')(ga,[c('CustomAudienceRuleField').FILTER,c('CustomAudienceRuleFilterField').FILTERS]);if(ha){var ia=ha.filter(function(ja){return (ja.filters&&ja.filters.length!==0||!ja.filters);});if(ia!=null)c('setByPath')(ga,[c('CustomAudienceRuleField').FILTER,c('CustomAudienceRuleFilterField').FILTERS],ia);}return ga;};ea.prototype.$AdsCreatePlatformAudienceDialog12=function(ga){var ha=c('getByPath')(ga,[s,u]),ia=c('getByPath')(ga,[t]);ha.forEach(function(ja,ka){ha[ka]=this.$AdsCreatePlatformAudienceDialog11(ja);}.bind(this));c('setByPath')(ga,[s,u],ha);if(ia&&Array.isArray(ia[u])){ia[u].forEach(function(ja,ka){ia[u][ka]=this.$AdsCreatePlatformAudienceDialog11(ja);}.bind(this));c('setByPath')(ga,[t],ia);}return ga;};ea.prototype.$AdsCreatePlatformAudienceDialog8=function(ga,ha,ia){var ja=c('getByPath')(ga,[s,u]),ka=c('getByPath')(ja[0],[c('CustomAudienceRuleField').FILTER,c('CustomAudienceRuleFilterField').FILTERS])&&c('getByPath')(ja[0],[c('CustomAudienceRuleField').FILTER,c('CustomAudienceRuleFilterField').FILTERS]).length>0&&ha.length>0&&ia;this.setState({enableConfirm:ka});};ea.prototype.$AdsCreatePlatformAudienceDialog13=function(ga){this.props.onCreateAudience(ga,function(ha){this.setState({isLoading:false});if(this.props.onAudienceAdded)this.props.onAudienceAdded(ha);this.props.onFinishCreateAudience(ha);}.bind(this),this.$AdsCreatePlatformAudienceDialog14);};var fa=function ga(){this.$AdsCreatePlatformAudienceDialog7=function(ha){var ia=ha.target.checked;this.setState({isWcaTosChecked:ia});this.$AdsCreatePlatformAudienceDialog8(this.state.rule,this.state.name,ia);}.bind(this);this.$AdsCreatePlatformAudienceDialog3=function(ha){this.setState({rule:ha});this.$AdsCreatePlatformAudienceDialog8(ha,this.state.name,this.state.isWcaTosChecked);}.bind(this);this.$AdsCreatePlatformAudienceDialog10=function(ha,ia){this.setState({name:ha,desc:ia});this.$AdsCreatePlatformAudienceDialog8(this.state.rule,ha,this.state.isWcaTosChecked);}.bind(this);this.$AdsCreatePlatformAudienceDialog6=function(){this.setState({error:null});}.bind(this);this.$AdsCreatePlatformAudienceDialog9=function(){this.setState({error:null});var ha=this.state.rule;ha=this.$AdsCreatePlatformAudienceDialog12(ha);var ia=this.state,ja=ia.name,ka=ia.desc,la={name:ja,description:ka,prefill:true,rule:ha};if(this.props.audience&&this.props.audience.id)la=Object.assign({},la,{id:this.props.audience.id});this.setState({isLoading:true});if(this.props.isWcaTosAccepted){this.$AdsCreatePlatformAudienceDialog13(la);}else{var ma=c('CustomAudienceTosUtils').getTosRequirements().website_custom_audience,na={tos_id:ma,accountId:this.props.accountID};this.props.dao.add.acceptCustomAudiencesTos.one(function(oa){c('AdsAMAudienceActions').addAcceptedTOS({web_custom_audience_tos:1});this.$AdsCreatePlatformAudienceDialog13(la);}.bind(this),na);}}.bind(this);this.$AdsCreatePlatformAudienceDialog14=function(ha){c('AudienceManagerCustomAudienceLoggerActions').logWithScenarioInfo(c('AudienceManagerLoggingEvents').RULE_BUILDER_AUDIENCE_CREATION_FAILED,{error:ha});this.setState({error:ha,isLoading:false});}.bind(this);this.$AdsCreatePlatformAudienceDialog6=function(){this.setState({error:null});}.bind(this);this.$AdsCreatePlatformAudienceDialog4=function(ha){if(!ha)this.props.onCancel();}.bind(this);};f.exports=ea;}),null);
__d('AdsMobileRemarketingRuleOperations',['fbt','AudienceManagerAppRemarketingOperatorConfig','mergeArrays'],(function a(b,c,d,e,f,g,h){var i=function m(n,o){if(!n.event&&!n.segment_rule&&n.segment_rule.id)return false;var p=n.retention_days;if(!p||parseInt(p,10)!=parseFloat(p,10)||p<1||p>180){o(h._("Days to stay in list must be an integer between 1 and 180"));return false;}var q=n.params.filter(function(r){return r.values&&!r.values.length;});if(q.length){o(h._("Parameter value required"));return false;}return true;};g.validateCombinationRule=function(m,n){if(!m.name||!m.application||!m.inclusions&&!m.exclusions)return false;var o=[];if(m.inclusions)o=c('mergeArrays')(o,m.inclusions);if(m.exclusions)o=c('mergeArrays')(o,m.exclusions);for(var p=0;p<o.length;p++){var q=o[p];if(!i(q,n))return false;}return true;};g.validateRule=function(m,n){if(!m.name||!m.application||!m.rule.event&&!m.rule.segment.rule&&!m.rule.segment_rule.id)return false;return i(m.rule);};var j=function m(n){var o={};n.forEach(function(p){if(!o[p.id])o[p.id]=[];var q;if(c('AudienceManagerAppRemarketingOperatorConfig').isArray[p.operator]){q=p.values;}else q=p.values[0];var r={};r[p.operator]=q;o[p.id].push(r);});return Object.keys(o).map(function(p){var q=o[p].map(function(r){var s={};s[p]=r;return s;});return {and:q};});};g.transformUIParamsToAPIRule=j;var k=function m(n,o){if(n.cumulativeRule)return l(n,o);var p={retention_days:n.retention_days,type:'app',rule:{_application:o,_eventName:n.event}},q=j(n.params);if(q&&q.length)p.rule.and=q;if(n.clientFilters)p.rule._clientFilters=n.clientFilters;if(n.segment_rule)p.rule._segmentRule=n.segment_rule;return p;},l=function m(n,o){var p={retention_days:n.retention_days,type:'app',rule:{_application:o,_eventName:n.event,_cumulativeRule:n.cumulativeRule}};return p;};g.getUploadParams=function(m,n){var o={name:m.name,description:m.description,handleError:function(p,q){var r=q.error&&q.error.message;n(r);}.bind(this)};Object.assign(o,k(m.rule,m.application));return o;};g.getCombinationUploadParams=function(m,n){var o={name:m.name,description:m.description,handleError:function(p,q){var r=q.error&&q.error.message;n(r);}.bind(this)};if(m.inclusions){o.inclusions=[];m.inclusions.forEach(function(p){o.inclusions.push(k(p,m.application));});}if(m.exclusions){o.exclusions=[];m.exclusions.forEach(function(p){o.exclusions.push(k(p,m.application));});}return o;};}),null);
__d("XRemarketingTOSController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/customaudiences\/app\/tos\/",{act:{type:"Int"},account_id:{type:"Int"}});}),null);
__d('AdsCreateMobileRemarketingAudienceDialog.react',['cx','fbt','AdsAMCreateAudienceServerActions','AdsCreateMobileRemarketingAudienceViewV2.react','AdsAccountCapabilities','AdsAccountUtils','AdsCreatePlatformAudienceDialog.react','AdsInterfacesLogger','AdsQEStore','AdsSelectedAccountCapabilitiesGetter','AudienceManagerDialogBackButton.react','AudienceManagerLoggingEvents','AudienceManagerUIConstants','AudienceManagerURLConstants','BUIAdoptionXUISpinner.react','CustomAudienceRuleSignalSource','InputLabel.react','LayerHideOnEscape','Link.react','React','AdsMobileRemarketingRuleOperations','SUIBusinessTheme','SubscriptionsHandler','SUISpinner.react','XRemarketingTOSController','XUIDialog.react','XUIDialogBody.react','XUIDialogCancelButton.react','XUIDialogOkayButton.react','XUIDialogFooter.react','XUIDialogButton.react','XUIDialogTitle.react','adsGKCheck'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes,m={NUX_DIALOG:1,CREATE_AUDIENCE_DIALOG:2,CREATE_AUDIENCE_REQUEST_SENT:3,CREATE_AUDIENCE_REQUEST_COMPLETE:4};j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(o,p){'use strict';k.constructor.call(this,o,p);this.$AdsCreateMobileRemarketingAudienceDialog3=function(){var r=c('AdsQEStore').get('platform_maca_qe_experiment',this.props.accountID).getValue();this.setState({platformMACAQE:r});}.bind(this);this.$AdsCreateMobileRemarketingAudienceDialog10=function(){switch(this.state.viewState){case m.NUX_DIALOG:return (c('React').createElement('div',null,c('React').createElement('div',null,c('React').createElement('p',null,i._("Create a custom audience to reach people who take specific actions in your app - like reaching a specific level in a game, adding items to their cart or rating your app.")),c('React').createElement('p',null,i._("Start measuring events in your app by integrating our SDK for {ios-link}, {android-link} and {canvas-link}. Every time someone takes the specified action within your app, they will be added to your Custom Audience.",[i.param('ios-link',c('React').createElement(c('Link.react'),{href:c('AudienceManagerURLConstants').MACA_IOS_SDK,target:'_blank'},'iOS')),i.param('android-link',c('React').createElement(c('Link.react'),{href:c('AudienceManagerURLConstants').MACA_ANDROID_SDK,target:'_blank'},'Android')),i.param('canvas-link',c('React').createElement(c('Link.react'),{href:c('AudienceManagerURLConstants').MACA_CANVAS_SDK,target:'_blank'},'Canvas'))]))),c('React').createElement('div',null,c('React').createElement(c('InputLabel.react'),null,c('React').createElement('input',{checked:this.$AdsCreateMobileRemarketingAudienceDialog2()||this.state.termsBoxChecked,disabled:this.$AdsCreateMobileRemarketingAudienceDialog2(),type:'checkbox',onChange:this.$AdsCreateMobileRemarketingAudienceDialog13}),c('React').createElement('label',null,i._("I have read and accepted the {=Terms for Custom Audience from your App and Website}",[i.param('=Terms for Custom Audience from your App and Website',c('React').createElement(c('Link.react'),{href:c('XRemarketingTOSController').getURIBuilder().setInt('act',this.props.accountID).getURI(),target:'_blank'},i._("Terms for Custom Audience from your App and Website")))]))))));case m.CREATE_AUDIENCE_DIALOG:case m.CREATE_AUDIENCE_REQUEST_SENT:return (c('React').createElement(c('AdsCreateMobileRemarketingAudienceViewV2.react'),{config:this.props.config,dao:this.props.dao,defaultMobileApp:this.props.defaultMobileApp,error:this.state.error,ref:'view',shouldValidateUI:this.state.shouldValidateUI}));case m.CREATE_AUDIENCE_REQUEST_COMPLETE:return (c('React').createElement('div',{className:"_5saq"},c('React').createElement('div',{className:"_5svr _5svs"},i._("Thank You for Creating a Custom Audience")),c('React').createElement('p',null,i._("Your audience is ready."))));}}.bind(this);this.$AdsCreateMobileRemarketingAudienceDialog7=function(r){this.setState({viewState:m.CREATE_AUDIENCE_REQUEST_COMPLETE});}.bind(this);this.$AdsCreateMobileRemarketingAudienceDialog9=function(){switch(this.state.viewState){case m.CREATE_AUDIENCE_REQUEST_COMPLETE:return i._("Custom audience has been created from your mobile app");default:return i._("Create a Custom Audience From Your App");}}.bind(this);this.$AdsCreateMobileRemarketingAudienceDialog12=function(){switch(this.state.viewState){case m.NUX_DIALOG:return (c('React').createElement('div',null,c('React').createElement(c('XUIDialogCancelButton.react'),null),c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',disabled:!this.state.termsBoxChecked&&!this.$AdsCreateMobileRemarketingAudienceDialog2(),label:i._("Create Audience"),use:'confirm',onClick:this.$AdsCreateMobileRemarketingAudienceDialog14})));case m.CREATE_AUDIENCE_DIALOG:return (c('React').createElement('div',null,c('React').createElement(c('AudienceManagerDialogBackButton.react'),{onClick:this.props.onBack}),c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',label:i._("Create Audience"),use:'confirm',onClick:this.$AdsCreateMobileRemarketingAudienceDialog15})));case m.CREATE_AUDIENCE_REQUEST_SENT:return (c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUISpinner.react'),{background:'light',className:"_5jy4",size:'small'}),c('React').createElement(c('XUIDialogCancelButton.react'),{disabled:true}),c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',disabled:true,label:i._("Create Audience"),use:'confirm',onClick:this.$AdsCreateMobileRemarketingAudienceDialog15})));case m.CREATE_AUDIENCE_REQUEST_COMPLETE:return c('React').createElement(c('XUIDialogOkayButton.react'),{action:'cancel',use:'confirm'});}}.bind(this);this.$AdsCreateMobileRemarketingAudienceDialog11=function(){switch(this.state.viewState){case m.NUX_DIALOG:return (c('React').createElement(c('Link.react'),{href:c('AudienceManagerURLConstants').MACA_LEARN_MORE,target:'_blank'},i._("Learn More")));case m.CREATE_AUDIENCE_DIALOG:return c('React').createElement(c('XUIDialogCancelButton.react'),null);default:return c('React').createElement('span',null);}}.bind(this);this.$AdsCreateMobileRemarketingAudienceDialog14=function(){if(!this.$AdsCreateMobileRemarketingAudienceDialog2())this.$AdsCreateMobileRemarketingAudienceDialog16();c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_MACA_NUX_CREATE_AUDIENCE},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.setState({viewState:m.CREATE_AUDIENCE_DIALOG});}.bind(this);this.$AdsCreateMobileRemarketingAudienceDialog16=function(){this.props.dao.add.acceptCustomAudiencesTos.one(function(){},{accountId:this.props.accountID,tos_id:this.props.tosRequirementsForAccount.mobile_app_custom_audience});}.bind(this);this.$AdsCreateMobileRemarketingAudienceDialog15=function(){this.setState({shouldValidateUI:true});var r=this.refs.view.getCreationParams(),s=c('AdsMobileRemarketingRuleOperations').validateCombinationRule(r,function(u){this.setState({error:u,viewState:m.CREATE_AUDIENCE_DIALOG});}.bind(this));if(!s){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_MACA_EDITOR_VALIDATION_FAILURE},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);return;}c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_MACA_EDITOR_CREATE_AUDIENCE},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.setState({viewState:m.CREATE_AUDIENCE_REQUEST_SENT});var t=c('AdsMobileRemarketingRuleOperations').getCombinationUploadParams(r,function(u){this.setState({error:u,viewState:m.CREATE_AUDIENCE_DIALOG});}.bind(this));t.accountId=this.props.accountID;this.props.dao.add.createMobileAppCombinationCustomAudience.one(function(u){this.props.onAudienceAdded(u.id);this.setState({viewState:m.CREATE_AUDIENCE_REQUEST_COMPLETE});c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_MACA_EDITOR_CREATE_SUCCESS},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);}.bind(this),t);}.bind(this);this.$AdsCreateMobileRemarketingAudienceDialog2=function(){var r=this.props.tosRequirementsForAccount.mobile_app_custom_audience;return (!!this.props.tosAccepted.web_custom_audience_tos||Object.prototype.hasOwnProperty.call(this.props.tosAccepted,r)&&this.props.tosAccepted[r]==1);}.bind(this);this.$AdsCreateMobileRemarketingAudienceDialog13=function(event){this.setState({termsBoxChecked:event.target.checked});}.bind(this);this.$AdsCreateMobileRemarketingAudienceDialog8=function(r){if(!r)this.props.onCancel();}.bind(this);this.$AdsCreateMobileRemarketingAudienceDialog1=new (c('SubscriptionsHandler'))();var q=m.NUX_DIALOG;if(this.$AdsCreateMobileRemarketingAudienceDialog2())q=m.CREATE_AUDIENCE_DIALOG;this.state={viewState:q,termsBoxChecked:false,error:null,platformMACAQE:null,shouldValidateUI:false};}n.prototype.componentWillMount=function(){'use strict';this.$AdsCreateMobileRemarketingAudienceDialog1.addSubscriptions(c('AdsQEStore').addListener(this.$AdsCreateMobileRemarketingAudienceDialog3));this.$AdsCreateMobileRemarketingAudienceDialog3();};n.prototype.componentWillUnmount=function(){'use strict';this.$AdsCreateMobileRemarketingAudienceDialog1.release();};n.prototype.render=function(){'use strict';var o=this.state.platformMACAQE;if(!o)return c('React').createElement('div',{style:{textAlign:'center'}},c('React').createElement(c('SUISpinner.react'),{size:'large',theme:c('SUIBusinessTheme')}));var p=this.$AdsCreateMobileRemarketingAudienceDialog4();if(p)switch(this.state.viewState){case m.CREATE_AUDIENCE_DIALOG:case m.CREATE_AUDIENCE_REQUEST_SENT:var q=this.props.audience?this.$AdsCreateMobileRemarketingAudienceDialog5:this.$AdsCreateMobileRemarketingAudienceDialog6;return c('React').createElement(c('AdsCreatePlatformAudienceDialog.react'),{accountID:this.props.accountID,audience:this.props.audience,dao:this.props.dao,isWcaTosAccepted:this.$AdsCreateMobileRemarketingAudienceDialog2(),signalSourceType:c('CustomAudienceRuleSignalSource').APP,onAudienceAdded:this.props.onAudienceAdded,onBack:this.props.onBack,onCancel:this.props.onCancel,onCreateAudience:q,onFinishCreateAudience:this.$AdsCreateMobileRemarketingAudienceDialog7});}return c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerHideOnEscape:c('LayerHideOnEscape')},layerHideOnBlur:false,shown:true,width:c('AudienceManagerUIConstants').DEFAULT_DIALOG_WIDTH,onToggle:this.$AdsCreateMobileRemarketingAudienceDialog8,key:'dialog'},c('React').createElement(c('XUIDialogTitle.react'),null,this.$AdsCreateMobileRemarketingAudienceDialog9()),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_5rkr"},this.$AdsCreateMobileRemarketingAudienceDialog10())),c('React').createElement(c('XUIDialogFooter.react'),{leftContent:this.$AdsCreateMobileRemarketingAudienceDialog11()},this.$AdsCreateMobileRemarketingAudienceDialog12()));};n.prototype.$AdsCreateMobileRemarketingAudienceDialog4=function(){'use strict';if(c('adsGKCheck')('can_account_use_pca_in_maca_ui'))return true;var o=this.state.platformMACAQE;if(o){o.maybeLogExposure();return o.getParamBool('show_new_ui');}return false;};n.prototype.$AdsCreateMobileRemarketingAudienceDialog6=function(o,p,q){'use strict';c('AdsAMCreateAudienceServerActions').createCustomAudience(o,p,q);};n.prototype.$AdsCreateMobileRemarketingAudienceDialog5=function(o,p,q){'use strict';c('AdsAMCreateAudienceServerActions').updateCustomAudience(o,p,q);};n.propTypes={dao:l.object.isRequired,accountID:l.string.isRequired,config:l.object,onAudienceAdded:l.func.isRequired,onBack:l.func.isRequired,onCancel:l.func.isRequired,tosAccepted:l.object.isRequired,tosRequirementsForAccount:l.object.isRequired,defaultMobileApp:l.object};f.exports=n;}),null);
__d('EngagementAudienceUITypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:EngagementAudienceUILoggerConfig',this.$EngagementAudienceUITypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:EngagementAudienceUILoggerConfig',this.$EngagementAudienceUITypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$EngagementAudienceUITypedLogger1={};return this;};h.prototype.updateData=function(j){this.$EngagementAudienceUITypedLogger1=babelHelpers['extends']({},this.$EngagementAudienceUITypedLogger1,j);return this;};h.prototype.setAdAccount=function(j){this.$EngagementAudienceUITypedLogger1.ad_account=j;return this;};h.prototype.setAppName=function(j){this.$EngagementAudienceUITypedLogger1.app_name=j;return this;};h.prototype.setEventName=function(j){this.$EngagementAudienceUITypedLogger1.event_name=j;return this;};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$EngagementAudienceUITypedLogger1=babelHelpers['extends']({},this.$EngagementAudienceUITypedLogger1,j);return this;};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l);};var i={ad_account:true,app_name:true,event_name:true};f.exports=h;}),null);
__d('AdsEngagementAudienceUILogger',['EngagementAudienceUITypedLogger'],(function a(b,c,d,e,f,g){'use strict';var h='',i='0',j={setAdAccountID:function k(l){i=l;},setAppName:function k(l){h=l;},log:function k(l,m){if(!h||!i){h=h||'Unknown';i=i||'0';}var n=new (c('EngagementAudienceUITypedLogger'))().setAppName(h).setAdAccount(i).setEventName(l);if(m)n.updateExtraData(m);n.log();}};f.exports=j;}),null);
__d('AudienceManagerAudienceCreatedMessage.react',['cx','ix','fbt','BUIAdoptionXUIGrayText.react','Image.react','ImageBlock.react','InlineBlock.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=i("21686"),n=44;k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;o.prototype.render=function(){return (c('React').createElement('div',{className:"_3-97"},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{src:m}),c('React').createElement(c('InlineBlock.react'),{alignv:'middle',height:n},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'light',size:'medium',weight:'bold'},this.props.message),c('React').createElement('div',null,this.$AudienceManagerAudienceCreatedMessage1())))));};o.prototype.$AudienceManagerAudienceCreatedMessage1=function(){if(!this.props.isVideoAudience)return null;var p=this.props.numberOfVideosSelected<2?j._({"*":"{number of selected videos} video used."},[j.param('number of selected videos',this.props.numberOfVideosSelected,[0])]):j._({"*":"{number of selected videos} videos used."},[j.param('number of selected videos',this.props.numberOfVideosSelected,[0])]);return (c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light',size:'small'},p));};function o(){k.apply(this,arguments);}f.exports=o;}),null);
__d('AudienceManagerChooseAudienceTypeSelector.react',['cx','fbt','ix','AdsGuidanceNewBadge.react','BUIAdoptionXUIGrayText.react','Image.react','ImageBlock.react','InlineBlock.react','React','adsGKCheck'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').Component,n=j("21726"),o=j("21709"),p=j("21713"),q=j("21695");function r(x){return (c('React').createElement('li',{className:"_247s",onClick:x.onClick},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{alt:i._("Video"),src:n}),c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},i._("Video")),c('React').createElement('div',{className:"_3-8x"},i._("Create a list of people who have spent time watching your videos on Facebook."))))));}function s(x){return (c('React').createElement('li',{className:"_247s",onClick:x.onClick},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{alt:i._("LeadGen"),src:o}),c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},i._("Lead advert")),c('React').createElement('div',{className:"_3-8x"},i._("Create a list of people who have opened or completed a form in your Lead adverts on Facebook."))))));}function t(x){return (c('React').createElement('li',{className:"_247s",onClick:x.onClick},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{alt:i._("Canvas"),src:q}),c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},i._("Canvas")),c('React').createElement('div',{className:"_3-8x"},i._("Create a list of people who have opened your Canvas on Facebook."))))));}function u(x){return (c('React').createElement('li',{className:"_247s",onClick:x.onClick},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{alt:i._("link sharing"),src:q}),c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},i._("Link sharing")),c('React').createElement('div',{className:"_3-8x"},i._("Creates an audience based on people who have shared your content on Facebook."))))));}function v(x){return (c('React').createElement('li',{className:"_247s",onClick:x.onClick},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{alt:i._("Page"),src:p}),c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},i._("Page")),c('React').createElement(c('InlineBlock.react'),null,c('React').createElement(c('AdsGuidanceNewBadge.react'),null)),c('React').createElement('div',{className:"_3-8x"},i._("Create a list of people who have interacted with your Page on Facebook."))))));}k=babelHelpers.inherits(w,m);l=k&&k.prototype;w.prototype.render=function(){var x=this.props,y=x.onCanvasAudienceClick,z=x.onLeadGenAudienceClick,aa=x.onPageEngagementAudienceClick,ba=x.onVideoAudienceClick,ca=x.onLinkSharingAudienceClick,da=c('adsGKCheck')('enable_link_sharing_custom_audiences')?c('React').createElement(u,{onClick:ca}):null;return (c('React').createElement('div',null,c('React').createElement('div',{className:"_3-98 _3-8y"},i._("Engagement audiences allow you to reach people who have previously interacted with your content on Facebook.")),c('React').createElement('div',{className:"_247t _3-8y"},c('React').createElement('ul',null,c('React').createElement(r,{onClick:ba}),c('React').createElement(s,{onClick:z}),c('React').createElement(t,{onClick:y}),da,c('React').createElement(v,{onClick:aa})))));};function w(){k.apply(this,arguments);}f.exports=w;}),null);
__d('AudienceManagerChooseAudienceTypeDialogContent.react',['cx','fbt','BUIAdoptionXUIGrayText.react','React','AudienceManagerChooseAudienceTypeSelector.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component;j=babelHelpers.inherits(m,l);k=j&&j.prototype;m.prototype.render=function(){return (c('React').createElement('div',null,this.$AudienceManagerChooseAudienceTypeDialogContent1(),this.$AudienceManagerChooseAudienceTypeDialogContent2()));};m.prototype.$AudienceManagerChooseAudienceTypeDialogContent1=function(){return (c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_50_z"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},i._("What kind of engagement do you want to use to create this audience?")),c('React').createElement(c('AudienceManagerChooseAudienceTypeSelector.react'),this.props))));};m.prototype.$AudienceManagerChooseAudienceTypeDialogContent2=function(){return (c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:i._("Back"),onClick:this.props.onBack})));};function m(){j.apply(this,arguments);}f.exports=m;}),null);
__d('AudienceManagerDownloadReportLink.react',['fbt','invariant','AdsInterfacesLogger','AudienceManagerLoggingEvents','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=(b.Blob||b.BlobBuilder||b.WebKitBlobBuilder)&&(b.URL||b.webkitURL);function n(r){var s=r.join("\n"),t=b.Blob;if(t)return new t([s],{type:'text/plain'});var u=b.BlobBuilder||b.WebKitBlobBuilder;if(u){var v=new u();v.append(s);return v.getBlob('text/plain');}return null;}function o(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_VIEW_ERROR_REPORT},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);}function p(r){var s=n(r);if(!s)return;var t=b.URL||b.webkitURL;t.createObjectURL||i(0);var u=t.createObjectURL(s);return (c('React').createElement('a',{download:'export.csv',href:u,onClick:o},h._("View error report")));}j=babelHelpers.inherits(q,c('React').Component);k=j&&j.prototype;q.prototype.render=function(){if(this.props.errorTokenLists&&this.props.errorTokenLists.length>0&&m)return p(this.props.errorTokenLists);return null;};function q(){j.apply(this,arguments);}q.propTypes={errorTokenLists:l.array};f.exports=q;}),null);
__d('AudienceManagerCompleteUploadMessage.react',['cx','ix','fbt','AudienceManagerDownloadReportLink.react','BUIAdoptionXUIGrayText.react','ImageBlock.react','Image.react','InlineBlock.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes,n=i("21686"),o=44;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.$AudienceManagerCompleteUploadMessage1=function(){if(this.props.numberOfValidRecords&&this.props.numberOfTotalRecords)return (c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light',size:'small'},j._({"*":"{number of successfully-uploaded records} records uploaded."},[j.param('number of successfully-uploaded records',this.props.numberOfValidRecords,[0])])));return null;}.bind(this),r;}p.prototype.render=function(){return c('React').createElement('div',{className:"_3-97"},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{src:n}),c('React').createElement(c('InlineBlock.react'),{alignv:'middle',height:o},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'light',size:'medium',weight:'bold'},this.props.message),c('React').createElement('div',null,this.$AudienceManagerCompleteUploadMessage1(),' ',c('React').createElement(c('AudienceManagerDownloadReportLink.react'),{errorTokenLists:this.props.errorTokenLists})))));};p.propTypes={message:m.string.isRequired,numberOfValidRecords:m.number,numberOfTotalRecords:m.number,errorTokenLists:m.array};f.exports=p;}),null);
__d('AdsAppTokenizerToken.react',['cx','React','XUITokenizerToken.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';var l="_13w9"+(this.props.entry.getAuxiliaryData()&&this.props.entry.getAuxiliaryData().invalid?' '+"_13wa":'');return (c('React').createElement(c('XUITokenizerToken.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,l)})));};function k(){'use strict';i.apply(this,arguments);}k.propTypes=c('XUITokenizerToken.react').propTypes;f.exports=k;}),null);
__d('AudienceManagerAppIDInput.react',['cx','fbt','AdsAppTokenizerToken.react','BUIAdoptionXUIGrayText.react','DummySearchSource','Link.react','React','SearchableEntry','URI','XUIError.react','XUITokenizer.react','XUITypeaheadTextOnlyView.react','getByPath'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=10,n=i._("Add Facebook App ID"),o=new (c('DummySearchSource'))();j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.state={appIdEntries:[],queryString:''},this.$AudienceManagerAppIDInput1=function(v){return (this.props.adAccountApps[v]&&this.props.adAccountApps[v].is_first_party_app===false);}.bind(this),this.$AudienceManagerAppIDInput2=function(){if(this.state.appIdEntries.length===0||this.$AudienceManagerAppIDInput8())return null;return i._("One or more of the app IDs cannot be uploaded. Please make sure that you entered a valid ID and are an admin of the app.");}.bind(this),this.$AudienceManagerAppIDInput3=function(v){if(v)return new (c('SearchableEntry'))({uniqueID:v,title:v});return null;},this.$AudienceManagerAppIDInput5=function(event){var v=c('getByPath')(event,['target','value']);if(v){var w=this.$AudienceManagerAppIDInput3(v);w&&this.$AudienceManagerAppIDInput4(w);}}.bind(this),this.$AudienceManagerAppIDInput6=function(event){var v=c('getByPath')(event,['target','value']);this.setState({queryString:v});}.bind(this),this.$AudienceManagerAppIDInput4=function(v){var w=v.getUniqueID(),x=this.state.appIdEntries,y=x.some(function(z){return z.getUniqueID()===w;});if(y)return;if(this.$AudienceManagerAppIDInput1(w)){v=new (c('SearchableEntry'))({uniqueID:w,title:w,auxiliaryData:{invalid:false}});}else v=new (c('SearchableEntry'))({uniqueID:w,title:w,auxiliaryData:{invalid:true}});x.push(v);this.setState({appIdEntries:x,queryString:''});this.props.onAppEntriesUpdated(x);}.bind(this),this.$AudienceManagerAppIDInput7=function(v){var w=this.state.appIdEntries,x=w.indexOf(v);if(x>=0)w.splice(x,1);this.setState({appIdEntries:w});this.props.onAppEntriesUpdated(w);}.bind(this),this.$AudienceManagerAppIDInput8=function(){var v=this.state.appIdEntries,w=v.some(function(x){return x.getAuxiliaryData().invalid;});return v.length>0&&!w;}.bind(this),r;}p.prototype.componentWillMount=function(){if(Object.keys(this.props.adAccountApps).length!=1)return;var q=Object.keys(this.props.adAccountApps)[0],r=this.state.appIdEntries;if(this.$AudienceManagerAppIDInput1(q)){var s=new (c('SearchableEntry'))({uniqueID:q,title:q,auxiliaryData:{invalid:false}});r.push(s);this.setState({appIdEntries:r});this.props.onAppEntriesUpdated(r);}};p.prototype.render=function(){var q={ViewRenderer:c('XUITypeaheadTextOnlyView.react'),TokenRenderer:c('AdsAppTokenizerToken.react'),useLayer:true};return c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-95",display:'block',shade:'medium',weight:'bold'},i._("Add a Facebook App ID")),c('React').createElement(c('XUIError.react'),{xuiError:this.$AudienceManagerAppIDInput2()},c('React').createElement(c('XUITokenizer.react'),{entries:this.state.appIdEntries,limit:m,placeholder:n,presenter:q,queryString:this.state.queryString,searchSource:o,tokenizeQueryStringOnBlur:this.$AudienceManagerAppIDInput3,onAddEntryAttempt:this.$AudienceManagerAppIDInput4,onEnterWithoutSelection:this.$AudienceManagerAppIDInput5,onQueryStringChange:this.$AudienceManagerAppIDInput6,onRemoveEntryAttempt:this.$AudienceManagerAppIDInput7})),c('React').createElement('div',{className:"_3-8x"},i._("You can only upload IDs for people who download or use your Facebook app."),' ',i._("You can find the ID for your Facebook apps in {=App Dashboard}",[i.param('=App Dashboard',c('React').createElement(c('Link.react'),{href:new (c('URI'))('https://developers.facebook.com/apps'),target:'_blank'},i._("App Dashboard")))])));};p.propTypes={accountID:l.string.isRequired,adAccountApps:l.object.isRequired,onAppEntriesUpdated:l.func.isRequired};f.exports=p;}),null);
__d('AudienceManagerAppIDInputContainer.react',['AdsAMAudienceStore','AdsFluxContainer','AdsLoadState','AudienceManagerAppIDInput.react','BUIAdoptionXUISpinner.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.getStores=function(){return [c('AdsAMAudienceStore')];};k.calculateState=function(){return {adAccountApps:c('AdsAMAudienceStore').getAdAccountApps(),loadState:c('AdsAMAudienceStore').getAdAccountAppsLoadState()};};k.prototype.render=function(){if(this.state.loadState!==c('AdsLoadState').LOADED)return c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'small'});return (c('React').createElement(c('AudienceManagerAppIDInput.react'),babelHelpers['extends']({adAccountApps:this.state.adAccountApps},this.props)));};function k(){h.apply(this,arguments);}f.exports=c('AdsFluxContainer').create(k);}),null);
__d('AudienceManagerDataTypeSelector.react',['cx','fbt','AudienceManagerUIConstants','BUIAdoptionXUIGrayText.react','React','XUISelector.react','getObjectValues','ads-cluster-constants','adsGKCheck'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('XUISelector.react').Option,m=c('React').PropTypes,n=c('AudienceManagerUIConstants').CUSTOM_AUDIENCE_DATA_TYPE_LABEL;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;o.prototype.render=function(){var p=[c('React').createElement(l,{key:c('ads-cluster-constants').UPLOAD_TYPE_EMAIL,value:c('ads-cluster-constants').UPLOAD_TYPE_EMAIL},n[c('ads-cluster-constants').UPLOAD_TYPE_EMAIL]),c('React').createElement(l,{key:c('ads-cluster-constants').UPLOAD_TYPE_UID,value:c('ads-cluster-constants').UPLOAD_TYPE_UID},n[c('ads-cluster-constants').UPLOAD_TYPE_UID]),c('React').createElement(l,{key:c('ads-cluster-constants').UPLOAD_TYPE_PHONE,value:c('ads-cluster-constants').UPLOAD_TYPE_PHONE},n[c('ads-cluster-constants').UPLOAD_TYPE_PHONE]),c('React').createElement(l,{key:c('ads-cluster-constants').UPLOAD_TYPE_MOBILE_ADVERTISER_ID,value:c('ads-cluster-constants').UPLOAD_TYPE_MOBILE_ADVERTISER_ID},n[c('ads-cluster-constants').UPLOAD_TYPE_MOBILE_ADVERTISER_ID])];return (c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_2pin",display:'block',shade:'medium',weight:'bold'},i._("Data Type")),c('React').createElement(c('XUISelector.react'),{defaultValue:this.props.defaultValue,onChange:this.props.onTypeChange},p)));};function o(){j.apply(this,arguments);}o.propTypes={defaultValue:m.oneOf(c('getObjectValues')(c('ads-cluster-constants'))),onTypeChange:m.func.isRequired};o.defaultProps={defaultValue:c('ads-cluster-constants').UPLOAD_TYPE_EMAIL};f.exports=o;}),null);
__d('AudienceManagerViewFormatingExampleLink.react',['cx','fbt','AdsInterfacesLogger','AudienceManagerLoggingEvents','AudienceManagerUIConstants','AudienceManagerURLConstants','BUIAdoptionCloseButton.react','BUIAdoptionXUIGrayText.react','LeftRight.react','Link.react','React','XUISelector.react','XUIContextualDialog.react','XUIContextualDialogTitle.react','XUIContextualDialogBody.react','adsGKCheck','ads-cluster-constants'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('XUISelector.react').Option,m=c('React').PropTypes,n=c('AudienceManagerUIConstants').CUSTOM_AUDIENCE_DATA_TYPE_LABEL;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={dialogShown:false,currentContent:this.props.exampleContents[0]},this.onLinkClick=function(){this.setState({dialogShown:!this.state.dialogShown});c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_VIEW_EXAMPLE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);}.bind(this),this.onSelectorClick=function(u){this.setState({currentContent:this.$AudienceManagerViewFormatingExampleLink1(u.value)});}.bind(this),this.$AudienceManagerViewFormatingExampleLink1=function(u){for(var v=0;v<this.props.exampleContents.length;v++)if(this.props.exampleContents[v].name===u)return this.props.exampleContents[v];}.bind(this),this.$AudienceManagerViewFormatingExampleLink2=function(){var u=this.props.exampleContents.map(function(v){return (c('React').createElement(l,{key:v.name,value:v.name},v.label));});return u;}.bind(this),this.renderLayers=function(){return (c('React').createElement(c('XUIContextualDialog.react'),{alignment:'right',autoFocus:true,contextRef:function(){return this.refs.link;}.bind(this),position:'below',shown:this.state.dialogShown,width:c('XUIContextualDialog.react').WIDTH.NORMAL,key:'contextualDialog'},c('React').createElement(c('XUIContextualDialogTitle.react'),null,c('React').createElement(c('LeftRight.react'),null,c('React').createElement(c('XUISelector.react'),{defaultValue:this.state.currentContent.name,onChange:this.onSelectorClick},this.$AudienceManagerViewFormatingExampleLink2()),c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionCloseButton.react'),{label:i._("Close"),onClick:this.onLinkClick})))),c('React').createElement(c('XUIContextualDialogBody.react'),null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'light',size:'small'},this.state.currentContent.content))));}.bind(this),q;}o.prototype.render=function(){return (c('React').createElement('span',null,c('React').createElement(c('Link.react'),{ref:'link',onClick:this.onLinkClick},i._("View formatting examples.")),this.renderLayers()));};o.propTypes={exampleContents:m.array};o.defaultProps=function(){var p=[{name:c('ads-cluster-constants').UPLOAD_TYPE_EMAIL,label:n[c('ads-cluster-constants').UPLOAD_TYPE_EMAIL],content:c('React').createElement('p',null,i._("E.g."),c('React').createElement('br',null),'name1@example.com',c('React').createElement('br',null),'name2@example.com',c('React').createElement('br',null),'name3@example.com',c('React').createElement('br',null),'name1@example.com,name2@example.com',c('React').createElement('br',null),'name1@example.com;name2@example.com',c('React').createElement('br',null))},{name:c('ads-cluster-constants').UPLOAD_TYPE_UID,label:n[c('ads-cluster-constants').UPLOAD_TYPE_UID],content:c('React').createElement('p',null,c('React').createElement('ul',{className:"_4wii"},c('React').createElement('li',null,i._("Numerical characters only"))),i._("E.g."),c('React').createElement('br',null),'1234567890',c('React').createElement('br',null),'1443637309',c('React').createElement('br',null))},{name:c('ads-cluster-constants').UPLOAD_TYPE_PHONE,label:n[c('ads-cluster-constants').UPLOAD_TYPE_PHONE],content:c('React').createElement('p',null,c('React').createElement('ul',{className:"_4wii"},c('React').createElement('li',null,i._("Country Code + Area Code + Number")),c('React').createElement('li',null,i._("No leading zeros from country code")),c('React').createElement('li',null,i._("Numeric characters only"))),i._("E.g."),c('React').createElement('br',null),'16505551234',c('React').createElement('br',null),'16505551235',c('React').createElement('br',null))},{name:c('ads-cluster-constants').UPLOAD_TYPE_MOBILE_ADVERTISER_ID,label:n[c('ads-cluster-constants').UPLOAD_TYPE_MOBILE_ADVERTISER_ID],content:c('React').createElement('p',null,i._("We support:"),c('React').createElement('ul',{className:"_4wii"},c('React').createElement('li',null,i._("Android's advertising ID,")),c('React').createElement('li',null,i._("Apple's Advertising Identifier (IDFA) and")),c('React').createElement('li',null,i._("Facebook App User IDs"))),c('React').createElement(c('Link.react'),{href:c('AudienceManagerURLConstants').MOBILE_ADVERTISING_IDS_DOC,target:'_blank'},i._("Learn more")))}];return {exampleContents:p};}();f.exports=o;}),null);
__d('CustomAudienceUploadErrorBox.react',['cx','fbt','ix','React','Image.react','List.react'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$CustomAudienceUploadErrorBox1=function(){var t=this.props.errorList;return (c('React').createElement(c('List.react'),{border:'none',spacing:'none'},t.map(function(u){return c('React').createElement('li',{key:u.line},' ',u.token,' ');})));}.bind(this),this.$CustomAudienceUploadErrorBox2=function(t){switch(t){case 'email':return i._("Email");case 'uid':return i._("UID");case 'phone number':return i._("Phone Number");case 'hash':return i._("Hash");default:return '';}},p;}n.prototype.render=function(){'use strict';var o=this.props.message,p=this.props.type,q=this.props.numMissing,r=this.props.numInvalid,s=this.props.errorList,t=null;if(s){var u=i._({"*":"{Number of errors} {Type of token} Errors"},[i.param('Number of errors',q+r,[0]),i.param('Type of token',this.$CustomAudienceUploadErrorBox2(p))]),v=null,w=null;if(q>0&&r>0){v=c('React').createElement('div',null,i._("Missing: {Number of missing tokens}",[i.param('Number of missing tokens',c('React').createElement('span',{className:"_5od5"},q))]));w=c('React').createElement('div',null,i._("Incorrectly formatted: {Number of invalid tokens}",[i.param('Number of invalid tokens',c('React').createElement('span',{className:"_5od5"},r))]));}t=c('React').createElement('div',{className:"_5od3"},c('React').createElement('div',{className:"_5od4"},u),v,w,c('React').createElement('div',{className:"_5od6"},this.$CustomAudienceUploadErrorBox1()));}return (c('React').createElement('div',{className:"_5od7"},c('React').createElement('span',{className:"_5od8"},c('React').createElement(c('Image.react'),{src:j("22264")})),c('React').createElement('span',{className:"_5od9"},o,t)));};n.propTypes={message:m.string.isRequired,type:m.string,numMissing:m.number,numInvalid:m.number,errorList:m.array};n.defaultProps={message:null,type:'',numMissing:0,numInvalid:0,errorList:null};f.exports=n;}),null);
__d('AudienceManagerCopyPasteInitDialogContent.react',['cx','ix','fbt','AbstractTextArea.react','AudienceManagerAppIDInputContainer.react','AudienceManagerDataTypeSelector.react','AudienceManagerFBCustomAudienceTerm.react','AudienceManagerViewFormatingExampleLink.react','BUIAdoptionXUIGrayText.react','CustomAudienceUploadErrorBox.react','ImageBlock.react','Image.react','InlineBlock.react','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','ads-cluster-constants','isEmail','isInternationalPhoneNumber'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=j._("Untitled"),n=i("21683"),o=44,p=c('React').PropTypes,q=/^\d+$/,r=20;k=babelHelpers.inherits(s,c('React').Component);l=k&&k.prototype;function s(){var t,u;'use strict';for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=l.constructor).call.apply(t,[this].concat(w)),this.state={pasteBin:'',error:null,selectedDataType:c('ads-cluster-constants').UPLOAD_TYPE_EMAIL,termsBoxChecked:true,appIDEntries:[]},this.$AudienceManagerCopyPasteInitDialogContent3=function(){var y=null;if(!!this.state.error)y=c('React').createElement(c('CustomAudienceUploadErrorBox.react'),{message:this.state.error});return (c('React').createElement('div',{className:"_3-8- _3-98"},c('React').createElement(c('AbstractTextArea.react'),{className:"_5ukc",placeholder:j._("Paste your customer list here."),value:this.state.pasteBin,onChange:this.$AudienceManagerCopyPasteInitDialogContent7}),y));}.bind(this),this.$AudienceManagerCopyPasteInitDialogContent2=function(){if(this.state.selectedDataType===c('ads-cluster-constants').UPLOAD_TYPE_UID)return (c('React').createElement(c('AudienceManagerAppIDInputContainer.react'),{accountID:this.props.accountID,onAppEntriesUpdated:this.$AudienceManagerCopyPasteInitDialogContent8}));return null;}.bind(this),this.$AudienceManagerCopyPasteInitDialogContent5=function(){var y=true;if(this.state.selectedDataType===c('ads-cluster-constants').UPLOAD_TYPE_UID){var z=this.state.appIDEntries.some(function(aa){return aa.getAuxiliaryData().invalid;});y=this.state.appIDEntries.length>0&&!z;}return !!this.state.pasteBin&&!!this.state.termsBoxChecked&&y;}.bind(this),this.$AudienceManagerCopyPasteInitDialogContent8=function(y){this.setState({appIDEntries:y});}.bind(this),this.$AudienceManagerCopyPasteInitDialogContent7=function(y){this.setState({pasteBin:y.target.value});}.bind(this),this.$AudienceManagerCopyPasteInitDialogContent1=function(y){this.setState({selectedDataType:y.value,appIDEntries:[]});}.bind(this),this.$AudienceManagerCopyPasteInitDialogContent4=function(y){this.setState({termsBoxChecked:y.target.checked});}.bind(this),this.$AudienceManagerCopyPasteInitDialogContent6=function(){var y=this.state.pasteBin.trim().split(/\r\n|\n|\r|;|,/).map(function(aa){return aa.trim();});y=y.filter(function(aa){return !!aa;});if(y.length>c('ads-cluster-constants').CLUSTER_API_MAX_SIZE){this.setState({error:j._({"*":"You can upload a maximum of {max number of entries} entries using copy and paste. Try uploading a file instead."},[j.param('max number of entries',c('ads-cluster-constants').CLUSTER_API_MAX_SIZE,[0])])});return;}var z=this.$AudienceManagerCopyPasteInitDialogContent9(y);if(!z){this.props.onCreateAudienceClick(this.state.selectedDataType,this.state.appIDEntries,y,m);}else this.setState({error:j._({"*":"You need to add at least {mininum number of entries} valid entries to continue."},[j.param('mininum number of entries',r,[0])])});}.bind(this),this.$AudienceManagerCopyPasteInitDialogContent9=function(y){var z=y;if(this.state.selectedDataType===c('ads-cluster-constants').UPLOAD_TYPE_EMAIL){z=y.filter(function(aa){aa=aa.toLowerCase();return c('isEmail')(aa);});}else if(this.state.selectedDataType===c('ads-cluster-constants').UPLOAD_TYPE_PHONE){z=y.filter(function(aa){return c('isInternationalPhoneNumber')(aa);});}else if(this.state.selectedDataType===c('ads-cluster-constants').UID)z=y.filter(function(aa){return q(aa);});if(z.length<r)return true;return false;}.bind(this),u;}s.prototype.render=function(){'use strict';return c('React').createElement('div',null,c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_50_z"},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{src:n}),c('React').createElement(c('InlineBlock.react'),{alignv:'middle',height:o},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},j._("Copy and paste your customer list")))),c('React').createElement('div',{className:"_3-8-"},c('React').createElement('p',null,j._("Copy and paste a list of email addresses, phone numbers, Facebook user IDs or mobile advertiser IDs from a spreadsheet or text file.")),c('React').createElement('p',null,j._("You can copy columns from a spreadsheet with one record per row or a list of records separated by commas."),' ',c('React').createElement(c('AudienceManagerViewFormatingExampleLink.react'),null))),c('React').createElement('div',{className:"_3-98 _3-8z"},c('React').createElement(c('AudienceManagerDataTypeSelector.react'),{canUploadAppUserID:this.props['false'],defaultValue:this.state.selectedDataType,onTypeChange:this.$AudienceManagerCopyPasteInitDialogContent1})),this.$AudienceManagerCopyPasteInitDialogContent2(),this.$AudienceManagerCopyPasteInitDialogContent3(),c('React').createElement('div',{className:"_3-8w"},c('React').createElement(c('AudienceManagerFBCustomAudienceTerm.react'),{accountID:this.props.accountID,termsAlreadyAccepted:this.props.termsAlreadyAccepted,termsBoxChecked:this.state.termsBoxChecked,onTermsCheckboxChanged:this.$AudienceManagerCopyPasteInitDialogContent4})))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement('div',null,c('React').createElement(c('XUIDialogButton.react'),{label:j._("Back"),onClick:this.props.onBack}),c('React').createElement(c('XUIDialogButton.react'),{disabled:!this.$AudienceManagerCopyPasteInitDialogContent5(),label:j._("Create Audience"),use:'confirm',onClick:this.$AudienceManagerCopyPasteInitDialogContent6}))));};s.propTypes={accountID:p.string.isRequired,termsAlreadyAccepted:p.bool,onBack:p.func.isRequired,onCreateAudienceClick:p.func.isRequired};f.exports=s;}),null);
__d('AudienceManagerCompleteUploadNotice.react',['cx','fbt','BUIAdoptionXUIGrayText.react','BUIAdoptionXUINotice.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){return (c('React').createElement('div',{className:"_3-8z _3-97"},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'information'},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'light',size:'small'},i._("It will take up to 30 minutes for your audience to be ready for use. We'll notify you when your audience is ready. You can also check the status in Audience Manager.")))));};function l(){j.apply(this,arguments);}f.exports=l;}),null);
__d('AdsConversionPixelDeprecationEnum',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({PIXEL_TAB:'',LOOKALIKE_AUDIENCE:'',ADS_INTERFACE:''});f.exports=h;}),null);
__d('AdsPixelHelpCenter',[],(function a(b,c,d,e,f,g){'use strict';var h={ADS_REPORT:{cmsID:'339239069606476',uri:''},CONVERSION:{cmsID:'916525851724197',uri:''},CREATE_AUDIENCE:{cmsID:'666509013483225',uri:''},CREATE_PIXEL:{cmsID:'336923339852238',uri:''},CUSTOM_CONVERSIONS:{cmsID:'780705975381000',uri:''},CUSTOM_CONVERSION_DELETION:{cmsID:'434245993430255#delete',uri:''},GENERAL:{cmsID:'651294705016616',uri:''},GOOGLE_TAG_MANAGER_QUICK:{cmsID:'1021909254506499',uri:''},GOOGLE_TAG_MANAGER_MANUAL:{cmsID:'1021909254506499#manualsetup',uri:''},INTRODUCTION:{cmsID:'742478679120153',uri:''},INSTALL:{cmsID:'952192354843755',uri:''},INSTALL_CONVERSION_PIXEL:{cmsID:'373979379354234',uri:''},INTEGRATION:{cmsID:'1179210765468894',uri:''},MIGRATION:{cmsID:'1686199411616919',uri:''},PIXEL_REPORT:{cmsID:'898185560232180',uri:''},SET_CONVERSION_VALUE:{cmsID:'392174274295227',uri:''},SHARE:{cmsID:'352686481592916',uri:''},STANDARD_EVENTS:{cmsID:'402791146561655',uri:''},TRACK_CONVERSION:{cmsID:'746098608829613',uri:''},UPGRADE:{cmsID:'414962531994158',uri:''}},i=babelHelpers['extends']({},h,{PIXEL_HELPER:'https://developers.facebook.com/docs/facebook-pixel/pixel-helper'});Object.keys(h).forEach(function(j){i[j].uri='/help/'+h[j].cmsID;});f.exports=i;}),null);
__d('AdsConversionPixelDeprecationMessage.react',['fbt','AdsConversionPixelDeprecationEnum','AdsPixelHelpCenter','DateTime','Link.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('DateTime').localNow().set({year:2017,month:2,day:15,hour:0,minute:0,second:0}),l=h._("Transition to the new Facebook pixel"),m=h._("Learn how"),n=h._("Learn more");i=babelHelpers.inherits(o,c('React').Component);j=i&&i.prototype;o.prototype.$AdsConversionPixelDeprecationMessage1=function(p){return (c('React').createElement(c('Link.react'),{href:c('AdsPixelHelpCenter').MIGRATION.uri,style:{fontWeight:'bold'},target:'_blank'},p));};o.prototype.render=function(){var p=void 0;switch(this.props.platform){case c('AdsConversionPixelDeprecationEnum').ADS_INTERFACE:p=l;break;case c('AdsConversionPixelDeprecationEnum').LOOKALIKE_AUDIENCE:p=n;break;case c('AdsConversionPixelDeprecationEnum').PIXEL_TAB:p=m;break;default:p=null;}var q=this.$AdsConversionPixelDeprecationMessage1(p);if(c('DateTime').localNow().instant<k.instant)switch(this.props.platform){case c('AdsConversionPixelDeprecationEnum').ADS_INTERFACE:return (c('React').createElement('div',null,h._("The conversion-tracking pixel won't be available from 15 February 2017."),' ',q,'.'));case c('AdsConversionPixelDeprecationEnum').LOOKALIKE_AUDIENCE:return (c('React').createElement('div',null,h._("You will no longer be able to create a Lookalike Audience using your conversion-tracking pixel from 15 February 2017. Other Lookalike Audience sources will not be affected."),' ',q,'.'));case c('AdsConversionPixelDeprecationEnum').PIXEL_TAB:return (c('React').createElement('div',null,h._("The conversion-tracking pixel won't be available for advert creation or reporting starting on 15 February 2017. Start using the new Facebook pixel today."),' ',q,'.'));default:return null;}switch(this.props.platform){case c('AdsConversionPixelDeprecationEnum').ADS_INTERFACE:return (c('React').createElement('div',null,h._("The conversion-tracking pixel is no longer available for advert creation."),' ',q,'.'));case c('AdsConversionPixelDeprecationEnum').LOOKALIKE_AUDIENCE:return (c('React').createElement('div',null,h._("You can no longer create Lookalike Audiences using your conversion-tracking pixel. Other Lookalike Audience sources will not be affected."),' ',q,'.'));case c('AdsConversionPixelDeprecationEnum').PIXEL_TAB:return (c('React').createElement('div',null,h._("The conversion-tracking pixel is no longer available for advert creation or reporting. Start using the new Facebook pixel today."),' ',q,'.'));default:return null;}};function o(){i.apply(this,arguments);}f.exports=o;}),null);
__d('AdsConversionPixelDeprecationInfoBoxContent.react',['cx','AdsConversionPixelDeprecationEnum','AdsConversionPixelDeprecationMessage.react','BUIAdoptionXUINotice.react','BUIAdoptionXUINoticeSmall.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){if(this.props.platform===c('AdsConversionPixelDeprecationEnum').PIXEL_TAB){var m=c('joinClasses')("_3-94",this.props.className);return (c('React').createElement('div',{className:m},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'warning'},c('React').createElement(c('AdsConversionPixelDeprecationMessage.react'),{platform:this.props.platform}))));}else return (c('React').createElement('div',{className:"_3-8y"},c('React').createElement('div',{className:"_4mim"},c('React').createElement(c('BUIAdoptionXUINoticeSmall.react'),{type:'warning'},c('React').createElement(c('AdsConversionPixelDeprecationMessage.react'),{platform:this.props.platform})))));};function l(){i.apply(this,arguments);}l.propTypes={className:k.string,platform:k.string.isRequired};f.exports=l;}),null);
__d('FBReplaceLink.react',['fbt','Link.react','React'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={isReplaced:!!this.props.isInitiallyExpanded},this.$FBReplaceLink1=function(){this.setState({isReplaced:true});}.bind(this),n;}l.prototype.render=function(){'use strict';if(this.state.isReplaced)return c('React').createElement('div',null,this.props.children);return (c('React').createElement('div',null,c('React').createElement(c('Link.react'),{className:this.props.className,onClick:this.$FBReplaceLink1},this.props.label),this.props.optionalLabel));};l.propTypes={className:k.string,isInitiallyExpanded:k.bool,label:k.string,optionalLabel:k.element};l.defaultProps=function(){var m=h._("Show");return {label:m};}();f.exports=l;}),null);
__d('AudienceNameAndDescriptionInput.react',['cx','fbt','AdsClearableTextInput.react','AdsConversionPixelDeprecationEnum','AdsConversionPixelDeprecationInfoBoxContent.react','BUIAdoptionXUIGrayText.react','FBReplaceLink.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AudienceNameAndDescriptionInput1=function(){if(this.props.description){return this.$AudienceNameAndDescriptionInput3();}else return (c('React').createElement(c('FBReplaceLink.react'),{label:i._("Add a description")},this.$AudienceNameAndDescriptionInput3()));}.bind(this),this.$AudienceNameAndDescriptionInput3=function(){return (c('React').createElement('div',{className:"_3-8z _3-97"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-95",display:'block',shade:'medium',weight:'bold'},i._("Description")),c('React').createElement(c('AdsClearableTextInput.react'),{defaultValue:this.props.description||'',height:'tall',placeholder:i._("Add a description"),onChange:this.props.onDescriptionChange})));}.bind(this),o;}m.prototype.render=function(){return c('React').createElement('div',null,c('React').createElement('div',{className:"_3-8z _3-97"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-95",display:'block',shade:'medium',weight:'bold'},i._("Audience Name")),c('React').createElement(c('AdsClearableTextInput.react'),{defaultValue:this.props.audienceName,height:'tall',placeholder:i._("Name your audience"),onChange:this.props.onAudienceNameChange})),this.$AudienceNameAndDescriptionInput1(),this.$AudienceNameAndDescriptionInput2());};m.prototype.$AudienceNameAndDescriptionInput2=function(){return this.props.isConversionPixelType?c('React').createElement(c('AdsConversionPixelDeprecationInfoBoxContent.react'),{platform:c('AdsConversionPixelDeprecationEnum').LOOKALIKE_AUDIENCE}):null;};m.propTypes={audienceName:l.string.isRequired,description:l.string,isConversionPixelType:l.bool,onAudienceNameChange:l.func.isRequired,onDescriptionChange:l.func.isRequired};f.exports=m;}),null);
__d('AudienceManagerCreateAudienceCompleteDialogContent.react',['cx','fbt','AdsAMActionTypes','AdsDispatcher','AudienceManagerCompleteUploadNotice.react','AudienceNameAndDescriptionInput.react','BUIAdoptionXUINotice.react','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={updatedAudiences:{}},this.$AudienceManagerCreateAudienceCompleteDialogContent2=function(){if(this.props.allowNextStep)return (c('React').createElement(c('XUIDialogButton.react'),{label:i._("Next"),use:'confirm',onClick:this.$AudienceManagerCreateAudienceCompleteDialogContent3}));return (c('React').createElement(c('XUIDialogButton.react'),{label:i._("Done"),onClick:this.$AudienceManagerCreateAudienceCompleteDialogContent4}));}.bind(this),this.$AudienceManagerCreateAudienceCompleteDialogContent1=function(){var s=[];for(var t in this.props.audiences)s.push(this.$AudienceManagerCreateAudienceCompleteDialogContent5(this.props.audiences[t].name,this.props.audiences[t].description,t));return s;}.bind(this),this.$AudienceManagerCreateAudienceCompleteDialogContent5=function(s,t,u){var v=function(x){this.$AudienceManagerCreateAudienceCompleteDialogContent6(x,u);}.bind(this),w=function(x){this.$AudienceManagerCreateAudienceCompleteDialogContent7(x,u);}.bind(this);return (c('React').createElement(c('AudienceNameAndDescriptionInput.react'),{audienceName:s,description:t,key:u,onAudienceNameChange:v,onDescriptionChange:w}));}.bind(this),this.$AudienceManagerCreateAudienceCompleteDialogContent6=function(s,t){this.$AudienceManagerCreateAudienceCompleteDialogContent8('name',s,t);}.bind(this),this.$AudienceManagerCreateAudienceCompleteDialogContent7=function(s,t){this.$AudienceManagerCreateAudienceCompleteDialogContent8('description',s,t);}.bind(this),this.$AudienceManagerCreateAudienceCompleteDialogContent8=function(s,t,u){var v={};if(this.state.updatedAudiences[u]){v=this.state.updatedAudiences[u];}else Object.assign(v,this.props.audiences[u]);v[s]=t;var w=this.state.updatedAudiences;w[u]=v;this.setState({updatedAudiences:w});}.bind(this),this.$AudienceManagerCreateAudienceCompleteDialogContent4=function(){this.props.onCompleteClick(this.state.updatedAudiences);}.bind(this),this.$AudienceManagerCreateAudienceCompleteDialogContent3=function(){var s=this.state.updatedAudiences;for(var t in s)s[t].handleError=function(u,v){var w=v.error.error_user_title||'Error',x=v.error.error_user_msg||'unknown',y=w+': '+x;this.setState({errorMessage:y,updatedAudiences:s});c('AdsDispatcher').handleUpdateFromServerResponse({audienceID:t,rawData:v,result:u,type:c('AdsAMActionTypes').UPDATE_AUDIENCE_ERROR});}.bind(this);this.props.onNextClick(this.state.updatedAudiences);}.bind(this),o;}m.prototype.render=function(){var n=this.state.errorMessage,o=!this.props.hideInputs?c('React').createElement('hr',null):null,p=!this.props.hideInputs?this.$AudienceManagerCreateAudienceCompleteDialogContent1():null;return c('React').createElement('div',null,c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_50_z"},this.props.statusMessage,o,p,c('React').createElement(c('AudienceManagerCompleteUploadNotice.react'),null)),n!=null&&n!=''?c('React').createElement('div',{className:"_4o1o"},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'error'},c('React').createElement('div',{className:"_5wbz"},n))):c('React').createElement('span',null)),c('React').createElement(c('XUIDialogFooter.react'),null,this.$AudienceManagerCreateAudienceCompleteDialogContent2()));};m.propTypes={audiences:l.object.isRequired,allowNextStep:l.bool.isRequired,hideInputs:l.bool,statusMessage:l.object.isRequired,onNextClick:l.func.isRequired,onCompleteClick:l.func.isRequired};f.exports=m;}),null);
__d('AudienceManagerErrorContextualDialog.react',['cx','React','ReactDOM','ReactLayer','ContextualDialog'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes,l=c('ReactLayer').createClass({displayName:"AudienceManagerErrorContextualDialogLayer",propTypes:{context:k.object,contextRef:k.func,offsetY:k.number,shown:k.bool},getDefaultProps:function n(){return {shown:true};},createLayer:function n(o){var p=new (c('ContextualDialog'))({theme:{wrapperClassName:"_1tpb",arrowDimensions:{offset:12,length:16},position:'right',offsetY:this.props.offsetY}},o);p.shouldSetARIAProperties(false);this._setProps(this.props,p);return p;},receiveProps:function n(o){this._setProps(o,this.layer);},_setProps:function n(o,p){var q=o.context||c('ReactDOM').findDOMNode(o.contextRef());p.setContext(q);p.conditionShow(o.shown);}});i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;m.prototype.render=function(){'use strict';var n=this.props.children,o=c('React').createElement(l,{context:this.props.context,contextRef:this.props.contextRef,offsetY:this.props.offsetY,shown:this.props.shown},c('React').createElement('div',{className:"_1tp9"},c('React').createElement('div',{className:"_1tpa"}),c('React').createElement('div',{className:"_1tp8"},c('React').createElement('div',null,n))));return o;};function m(){'use strict';i.apply(this,arguments);}m.propTypes={context:k.object,contextRef:k.func,offsetY:k.number,shown:k.bool};f.exports=m;}),null);
__d('AudienceManagerFileImportInit.react',['cx','ix','fbt','AdsAccountStoreWrapper_DEPRECATED','AdsInterfacesLogger','AudienceManagerAppIDInputContainer.react','AudienceManagerDataTypeSelector.react','AudienceManagerErrorContextualDialog.react','AudienceManagerFBCustomAudienceTerm.react','AudienceManagerLoggingEvents','AudienceManagerViewFormatingExampleLink.react','BUIAdoptionXUIGrayText.react','FBDragDropBox.react','ImageBlock.react','Image.react','InlineBlock.react','React','ads-cluster-constants'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=i("21689"),n=44,o=['csv','txt'],p=c('React').PropTypes;k=babelHelpers.inherits(q,c('React').Component);l=k&&k.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.state={selectedFile:null,fileError:null},this.renderLayers=function(){return (c('React').createElement(c('AudienceManagerErrorContextualDialog.react'),{contextRef:function(){return this.refs.dragdropbox;}.bind(this),offsetY:17,shown:this.$AudienceManagerFileImportInit1(),key:'contextualDialog'},this.state.fileError));}.bind(this),this.$AudienceManagerFileImportInit3=function(){if(this.state.selectedDataType===c('ads-cluster-constants').UPLOAD_TYPE_UID&&this.props.onAppEntriesUpdated)return (c('React').createElement(c('AudienceManagerAppIDInputContainer.react'),{accountID:this.props.accountID,onAppEntriesUpdated:this.props.onAppEntriesUpdated}));return null;}.bind(this),this.$AudienceManagerFileImportInit1=function(){return !!this.state.fileError;}.bind(this),this.$AudienceManagerFileImportInit2=function(w){this.setState({selectedDataType:w.value},function(){return this.props.onDataTypeChanged(w);}.bind(this));}.bind(this),this.$AudienceManagerFileImportInit5=function(){this.setState({fileError:null,selectedFile:null},function(){return this.props.onFileUpdated(null);}.bind(this));}.bind(this),this.$AudienceManagerFileImportInit6=function(w){this.$AudienceManagerFileImportInit4(w.target.files);}.bind(this),this.$AudienceManagerFileImportInit4=function(w){var x=w[0];if(x){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_UPLOAD_FILE},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);if(!x.size){this.setState({selectedFile:x,fileError:j._("File appears to be empty.")},function(){return this.props.onFileUpdated(null);}.bind(this));c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_UPLOAD_FILE_ERROR},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);return;}var y='';if(x.name.indexOf('.')>=0)y=x.name.split('.').pop();var z=o.indexOf(y.toLowerCase())!=-1;if(!z){this.setState({selectedFile:x,fileError:j._("File must be in .csv or .txt format.")},function(){return this.props.onFileUpdated(null);}.bind(this));c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_UPLOAD_FILE_ERROR},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);return;}this.setState({selectedFile:x,fileError:null},function(){return this.props.onFileUpdated(x);}.bind(this));}}.bind(this),s;}q.prototype.componentWillMount=function(){c('AdsAccountStoreWrapper_DEPRECATED').setAccountID(this.props.accountID);};q.prototype.render=function(){return c('React').createElement('div',null,c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{src:m}),c('React').createElement(c('InlineBlock.react'),{alignv:'middle',height:n},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},j._("Choose a file to upload")))),c('React').createElement('div',{className:"_3-8-"},c('React').createElement('p',null,j._("You can upload files in .csv or .txt format.")),c('React').createElement('p',null,j._(["Text files (.txt and .csv) can include records on separate lines or in a list separated by commas.","447ae9c13fde4ff63e51a6fa852c329f"]),' ',c('React').createElement(c('AudienceManagerViewFormatingExampleLink.react'),null)),c('React').createElement('div',{className:"_3-98 _3-8z"},c('React').createElement(c('AudienceManagerDataTypeSelector.react'),{defaultValue:this.props.selectedDataType,onTypeChange:this.$AudienceManagerFileImportInit2})),this.$AudienceManagerFileImportInit3(),c('React').createElement('div',{className:"_3-98 _3-8z"},c('React').createElement(c('FBDragDropBox.react'),{hasError:this.$AudienceManagerFileImportInit1(),ref:'dragdropbox',selectedFile:this.state.selectedFile,onFileChange:this.$AudienceManagerFileImportInit4,onFileRemove:this.$AudienceManagerFileImportInit5,onFilesSelection:this.$AudienceManagerFileImportInit6})),c('React').createElement('div',{className:"_3-8w"},c('React').createElement(c('AudienceManagerFBCustomAudienceTerm.react'),{accountID:this.props.accountID,termsAlreadyAccepted:this.props.termsAlreadyAccepted,termsBoxChecked:this.props.termsBoxChecked,onTermsCheckboxChanged:this.props.onTermsCheckboxChanged}))),this.renderLayers());};q.propTypes={accountID:p.string.isRequired,selectedDataType:p.string,appIDEntries:p.array,termsAlreadyAccepted:p.bool,termsBoxChecked:p.bool,onFileUpdated:p.func.isRequired,onAppEntriesUpdated:p.func,onDataTypeChanged:p.func.isRequired,onTermsCheckboxChanged:p.func.isRequired};q.defaultProps={selectedDataType:c('ads-cluster-constants').UPLOAD_TYPE_EMAIL,appIDEntries:[]};f.exports=q;}),null);
__d('AudienceManagerCreateAudienceFileImportInitDialogContent.react',['cx','fbt','AudienceManagerFileImportInit.react','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','ads-cluster-constants'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={audienceName:'',selectedFile:null,selectedDataType:c('ads-cluster-constants').UPLOAD_TYPE_EMAIL,termsBoxChecked:true,appIDEntries:[]},this.$AudienceManagerCreateAudienceFileImportInitDialogContent5=function(){var s=true;if(this.state.selectedDataType===c('ads-cluster-constants').UPLOAD_TYPE_UID){var t=this.state.appIDEntries.some(function(u){return u.getAuxiliaryData().invalid;});s=this.state.appIDEntries.length>0&&!t;}return !!this.state.termsBoxChecked&&!!this.state.selectedFile&&s;}.bind(this),this.$AudienceManagerCreateAudienceFileImportInitDialogContent4=function(s){this.setState({termsBoxChecked:s.target.checked});}.bind(this),this.$AudienceManagerCreateAudienceFileImportInitDialogContent2=function(s){this.setState({selectedDataType:s.value,appIDEntries:[]});}.bind(this),this.$AudienceManagerCreateAudienceFileImportInitDialogContent1=function(s){this.setState({appIDEntries:s});}.bind(this),this.$AudienceManagerCreateAudienceFileImportInitDialogContent3=function(s){var t=s?s.name.substr(0,s.name.lastIndexOf('.')):'';this.setState({selectedFile:s,audienceName:t});}.bind(this),this.$AudienceManagerCreateAudienceFileImportInitDialogContent6=function(){this.props.onCreateAudienceClick(this.state.selectedDataType,this.state.appIDEntries,this.state.selectedFile,this.state.audienceName);}.bind(this),o;}m.prototype.render=function(){return c('React').createElement('div',null,c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_50_z"},c('React').createElement(c('AudienceManagerFileImportInit.react'),{accountID:this.props.accountID,appIDEntries:this.state.appIDEntries,selectedDataType:this.state.selectedDataType,termsAlreadyAccepted:this.props.termsAlreadyAccepted,termsBoxChecked:this.state.termsBoxChecked,onAppEntriesUpdated:this.$AudienceManagerCreateAudienceFileImportInitDialogContent1,onDataTypeChanged:this.$AudienceManagerCreateAudienceFileImportInitDialogContent2,onFileUpdated:this.$AudienceManagerCreateAudienceFileImportInitDialogContent3,onTermsCheckboxChanged:this.$AudienceManagerCreateAudienceFileImportInitDialogContent4}))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement('div',null,c('React').createElement(c('XUIDialogButton.react'),{label:i._("Back"),onClick:this.props.onBack}),c('React').createElement(c('XUIDialogButton.react'),{disabled:!this.$AudienceManagerCreateAudienceFileImportInitDialogContent5(),label:i._("Create Audience"),use:'confirm',onClick:this.$AudienceManagerCreateAudienceFileImportInitDialogContent6}))));};m.propTypes={accountID:l.string.isRequired,termsAlreadyAccepted:l.bool,onBack:l.func.isRequired,onCreateAudienceClick:l.func.isRequired};f.exports=m;}),null);
__d('APStrings',['fbt'],(function a(b,c,d,e,f,g,h){'use strict';var i={getHomeTitle:function j(){return h._("Audience Platform").toString();},getAudiencesTitle:function j(){return h._("Audiences").toString();},getDataSetTitle:function j(){return h._("Data Set").toString();},getHowItWorks:function j(){return h._("How it works").toString();},getNavigatorAudiencePlatformLabel:function j(){return h._("Audience Platform").toString();},getNavigatorPublisherInsightsLabel:function j(){return h._("Publisher Insights").toString();},getNavigatorModeledAudiencesLabel:function j(){return h._("Modeled Audiences").toString();},getNavigatorCustomAudiencesLabel:function j(){return h._("Custom Audiences").toString();},getNavigatorDataSourcesLabel:function j(){return h._("Data Sources").toString();},getNavigatorHelpLabel:function j(){return h._("Help").toString();},getNavigatorNotificationsLabel:function j(){return h._("Notifications").toString();},getNavigatorAccountLabel:function j(){return h._("Account").toString();},getNavigatorAudienceManagerLabel:function j(){return h._("Audience Manager").toString();},getNavigatorSignalsUploadDemoLabel:function j(){return h._("Multi-key CA Uploader Demo").toString();},getDataSetSelectorLabel:function j(){return h._("Data set").toString();},getDataSetAttributeSelectorLabel:function j(){return h._("Attribute").toString();},getWeightedAttributeSelectorLabel:function j(){return h._("Weighted Attribute").toString();},getSelectDataSetTitle:function j(){return h._("Data set of customers (data set)").toString();},getDefineAudienceTitle:function j(){return h._("Audience definition").toString();},getDataSetAttributeSelectorPlaceHolder:function j(){return h._("Select an attribute").toString();},getDataSetAttributeSelectorDescriptionForDSBasedCAFlow:function j(){return h._("Create an audience based on people in this data set having the following attribute:").toString();},getWeightedAttributeSelectorDescription:function j(){return h._("You can further focus your target audience using a goal attribute. Select a numeric attribute, and the audience will contain people more likely to have higher values of that attribute.").toString();},getDataSetSelectorPlaceHolder:function j(){return h._("Select a data set").toString();},getLastEditedLabel:function j(){return h._("Last Edited").toString();},getLastUpdatedLabel:function j(){return h._("Last Updated").toString();},getDataSizeLabel:function j(){return h._("Size").toString();},getMatchRateWarning:function j(){return h._("Low match rate!").toString();},getIsGreaterThanLabel:function j(){return h._("is greater than").toString();},getIsSmallerThanLabel:function j(){return h._("is less than").toString();},getIsGreaterOrEqualThanLabel:function j(){return h._("is greater than or equal to").toString();},getIsSmallerOrEqualThanLabel:function j(){return h._("is less than or equal to").toString();},getEqualsLabel:function j(){return h._("equals").toString();},getNotEqualsLabel:function j(){return h._("does not equal").toString();},getContainsLabel:function j(){return h._("contains").toString();},getNotContainsLabel:function j(){return h._("does not contain").toString();},getAllLabel:function j(){return h._("all").toString();},getAnyLabel:function j(){return h._("any").toString();},getNoneLabel:function j(){return h._("none").toString();},getRuleAttributeSelectorPlaceHolder:function j(){return h._("Select attribute").toString();},getNewRuleAttributeSelectorPlaceHolder:function j(){return h._("Select attribute for new rule").toString();},getRuleOperatorSelectorPlaceHolder:function j(){return h._("Select operator").toString();},getRuleOperandSinglePlaceHolder:function j(){return h._("Enter a value").toString();},getRuleOperandSingleIntegerPlaceHolder:function j(){return h._("Enter an integer").toString();},getRuleOperandMultipleEntriesPlaceholder:function j(){return h._("Enter comma-separated values").toString();},getRuleGroupTypePostfix:function j(){return h._("of the items in this group should be satisfied").toString();},getRuleGroupPlaceholder:function j(){return h._("No rules defined.").toString();},getAddSubgroupLabel:function j(){return h._("+ Add subgroup").toString();},getMatchingTooltupText:function j(k,l){return h._("Matching {matchRate}\u0025 of {totalCount} records",[h.param('matchRate',k),h.param('totalCount',l)]);},getCreateNewLabel:function j(){return h._("+ Create new").toString();},getCreateAudienceLabel:function j(){return h._("Create Audience").toString();},getNameOfNewDSLabel:function j(){return h._("Name of new data set").toString();},getNoItemsToListMessage:function j(){return h._("No items to list").toString();},getNoDataSetsToListMessage:function j(){return h._("You have no data sets to list").toString();},getNameLabel:function j(){return h._("Name").toString();},getSizeLabel:function j(){return h._("Size").toString();},getMatchRateLabel:function j(){return h._("Match rate").toString();},getMatchSizeLabel:function j(){return h._("Match size").toString();},getMatchCountLabel:function j(){return h._("Match count").toString();},getMatchedLabel:function j(){return h._("Matched").toString();},getUploadedRecords:function j(){return h._("Uploaded records").toString();},getCountOfAttributesLabel:function j(){return h._("# of attributes").toString();},getEnterAValue:function j(){return h._("Enter a value").toString();},getAddLabel:function j(){return h._("Add").toString();},getNameCanNotBeEmptyMessage:function j(){return h._("Name cannot be empty!").toString();},getNameIsAlreadyTakenMessage:function j(){return h._("Name is already taken!").toString();},getDataSetManagerPageTitle:function j(){return h._("Data Set Manager").toString();},getSignalsUploadPageTitle:function j(){return h._("Multi-key CA Uploader").toString();},getInspectingTitle:function j(){return h._("Inspecting").toString();},getUpsertLabel:function j(){return h._("Update Records").toString();},getDeleteLabel:function j(){return h._("Delete Records").toString();},getDSUpsertUpsertDescription:function j(){return h._("New records will be added, existing records will be overwritten or extended with the new attributes in the data set.").toString();},getDSUpserterDeleteDescription:function j(){return h._("Records with matching IDs will be removed from the data set.").toString();},getDSUpserterFileFormatGuidance:function j(){return h._("Prepare your data as a CSV file. Use the example file as a template. You can add custom attributes as new columns.").toString();},getDSUpserterUploadPreviewError:function j(){return h._("We could not parse your CSV file. Please check the formatting guidelines.").toString();},getDSUpserterUploadPreviewWarning:function j(k){return h._("After sampling the first {sampleSize} lines, we found problems with the file you are preparing to upload:",[h.param('sampleSize',k)]).toString();},getDSUpserterUploadPreviewSuccess:function j(){return h._("Your CSV file is clean:").toString();},getCancelLabel:function j(){return h._("Cancel").toString();},getOKLabel:function j(){return h._("OK").toString();},getCloseLabel:function j(){return h._("Close").toString();},getFinishUploadLabel:function j(){return h._("Finish upload").toString();},getTypeLabel:function j(){return h._("Type").toString();},getNotAvailableLabel:function j(){return h._("N\/A").toString();},getDataSetAttributesPageSectionTitle:function j(){return h._("Attributes in this data set").toString();},getIdLabel:function j(){return h._("Id").toString();},getUpdateAttributesLabel:function j(){return h._("Update attributes").toString();},getUpdateDataLabel:function j(){return h._("Update Data").toString();},getDeleteDataSetLabel:function j(){return h._("Delete").toString();},getCreateNewDataSetLabel:function j(){return h._("+ Add New Data Set").toString();},getCustomAudienceCreationLabel:function j(){return h._("Create an audience based on attribute data you've uploaded to Facebook.").toString();},getDataSet:function j(){return h._("Data set").toString();},getCreationMethodLabel:function j(){return h._("Definition").toString();},getAudienceCreationFlowIntro:function j(){return h._("Create an audience based on attribute data sets you've uploaded to Facebook. Choose a data set, then define rules to create your audience.").toString();},getRuleBuilderDescriptionForAudienceCreation:function j(){return h._("Create an audience based on people matching the following definition:").toString();},getCreatingCustomAudienceLabel:function j(){return h._("Create custom audience").toString();},getLoading:function j(){return h._("Loading...").toString();},getLoadingData:function j(){return h._("Loading data...").toString();},getNoDataSetsWarning:function j(){return h._("You don't have any data sets with this ad account.").toString();},getNoDataSetsSuggestions:function j(){return h._("Upload your customer attribute data in the data set manager.").toString();},getManageMyDataSetsLabel:function j(){return h._("Manage my data sets").toString();},getEveryoneInThisDSLabel:function j(){return h._("Everyone in this data set").toString();},getEveryoneInThisDSWithSpecificAttributeLabel:function j(){return h._("People who have a specific attribute").toString();},getBasedOnCustomRuleLabel:function j(){return h._("Custom combination").toString();},getAllDataSets:function j(){return h._("All data sets").toString();},getShowAll:function j(){return h._("Show all").toString();},getBackToList:function j(){return h._("Back to List").toString();},getDescriptionLabel:function j(){return h._("Description").toString();},getInstructionsLabel:function j(){return h._("Instructions").toString();},getNoDescriptionText:function j(){return h._("No description specified").toString();},getNoAttributesInDSText:function j(){return h._("No attributes in data set").toString();},getDownloadExampleLabel:function j(){return h._("Download example").toString();},getUploadingAttributesTitle:function j(){return h._("Uploading attributes").toString();},getUpdatingAttributesTitle:function j(){return h._("Updating attributes").toString();},getEditDescriptionLabel:function j(){return h._("Edit description").toString();},getCustomAudienceCreationError:function j(){return h._("An error occurred while creating the custom audience").toString();},getCustomAudienceCreationSuccess:function j(){return h._("Custom audience created.").toString();},getLookalikeCreationSuccess:function j(){return h._("Lookalike audience created.").toString();},getSeeItInLabel:function j(){return h._("See it in").toString();},getDataSetCreationError:function j(){return h._("An error occurred while creating the data set").toString();},getDeleteConfirmTitle:function j(){return h._("Confirm delete").toString();},getDeleteConfirmForDS:function j(k){return h._("Are you sure you want to delete {matchRate}?",[h.param('matchRate',k)]);},getDataSetDeleteError:function j(k){return h._("An error occurred while deleting {matchRate}",[h.param('matchRate',k)]).toString();},getProcessedLabel:function j(){return h._("entries processed").toString();},getParsedSuccessfullySummary:function j(k){return h._("{matchRate} entries parsed successfully",[h.param('matchRate',k)]).toString();},getWariningAboutProcessingTimeLabel:function j(){return h._("It can take around 30 minutes or longer for our servers to process your uploaded data").toString();},getYouMayHaveToReloadApplication:function j(){return h._("You may have to reload the application to see the metadata updated").toString();},getUploadingDataLabel:function j(){return h._("Uploading data").toString();},getPleaseBePatient:function j(){return h._("Please be patient...").toString();},getUploadSuccessMessage:function j(){return h._("Everything went fine").toString();},getTypeName:function j(){return h._("Type a name").toString();},getAttributes:function j(){return h._("Attributes").toString();},getAttributesLabel:function j(){return h._("Attributes:").toString();},getStatusLabel:function j(){return h._("Status").toString();},getReady:function j(){return h._("Ready").toString();},getNotReady:function j(){return h._("Not Ready").toString();},getError:function j(){return h._("Error").toString();},getWarning:function j(){return h._("Warning").toString();},getProcessing:function j(){return h._("Processing").toString();},getPublisherInsightsPageTitle:function j(){return h._("Publisher Insights").toString();},getMatchKeys:function j(){return h._("Match keys").toString();},getErrors:function j(){return h._("errors").toString();},getWarnings:function j(){return h._("warnings").toString();},getContinueUpload:function j(){return h._("Continue Upload").toString();},getPleaseReviewDataMessageForUpserter:function j(){return h._("You can continue the upload but please review the data before proceeding:").toString();},getHowToGetToDetailedInfo:function j(){return h._("Move your mouse over marked cells for details").toString();},getRow:function j(){return h._("row").toString();},getCreateLookalikeLabel:function j(){return h._("Create Lookalike").toString();},getCreate:function j(){return h._("Create").toString();},getAudience:function j(){return h._("Audience").toString();},getLookalike:function j(){return h._("Lookalike").toString();},getCustomAudienceLabel:function j(){return h._("Custom Audience").toString();},getLookalikeAudienceLabel:function j(){return h._("Lookalike Audience").toString();},getPublisherInsightsSourceSelectorPlaceHolder:function j(){return h._("Select a source").toString();},getPublisherInsightsNoSourceSelectorPlaceHolder:function j(){return h._("No source available").toString();},getPublisherInsightsSettingsCPMLabel:function j(){return h._("Run of site CPM").toString();},getPublisherInsightsSettingsCPMError:function j(){return h._("Please enter a valid CPM").toString();}};f.exports=i;}),null);
__d('AudienceCreatorTypeSelector.react',['cx','ix','fbt','adsGKCheck','AdsGuidanceNewBadge.react','APStrings','BUIAdoptionXUIGrayText.react','Image.react','ImageBlock.react','InlineBlock.react','React','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').Element,n=c('React').PropTypes,o=i("26366"),p=i("21687"),q=i("21685"),r=i("21688"),s=i("21693"),t=i("21694"),u=i("126122");k=babelHelpers.inherits(v,c('React').Component);l=k&&k.prototype;v.prototype.$AudienceCreatorTypeSelector1=function(){return (c('React').createElement('li',{className:"_247s",tabIndex:'0',onClick:this.props.onCustomerListClick},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{src:q}),c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},j._("Customer file")),c('React').createElement('div',{className:"_3-8x"},j._("Use a customer file to match your customers with people on Facebook and create an audience from the matches. The data will be hashed prior to upload."))))));};v.prototype.$AudienceCreatorTypeSelector2=function(){return (c('React').createElement('li',{className:"_247s",tabIndex:'0',onClick:this.props.onWebsiteTrafficClick},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{src:t}),c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},j._("Website traffic")),c('React').createElement('div',{className:"_3-8x"},j._("Create a list of people who visit your website or view specific web pages"))))));};v.prototype.$AudienceCreatorTypeSelector3=function(){return (c('React').createElement('li',{className:"_247s",tabIndex:'0',onClick:this.props.onMobileAppClick},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{src:r}),c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},j._("App activity")),c('React').createElement('div',{className:"_3-8x"},j._("Create a list of people who have taken a specific action in your app or game"))))));};v.prototype.$AudienceCreatorTypeSelector4=function(){if(!c('adsGKCheck')('ads_ui_data_set'))return null;return (c('React').createElement('li',{className:"_247s",tabIndex:'0',onClick:this.props.onDataSetClick},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{src:o}),c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},c('APStrings').getDataSet()),c('React').createElement('div',{className:"_3-8x"},c('APStrings').getCustomAudienceCreationLabel())))));};v.prototype.$AudienceCreatorTypeSelector5=function(){return (c('React').createElement('li',{className:"_247s",tabIndex:'0',onClick:this.props.onEngagementAudienceClick},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{src:p}),c('React').createElement('div',{ref:'createEngAudience'},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},j._("Engagement on Facebook")),c('React').createElement(c('InlineBlock.react'),null,c('React').createElement(c('AdsGuidanceNewBadge.react'),null)),c('React').createElement('div',{className:"_3-8x"},j._("Create a list of people who have engaged with your content on Facebook"))))));};v.prototype.$AudienceCreatorTypeSelector6=function(){if(!c('adsGKCheck')('can_account_access_platform_audience_ui'))return null;return (c('React').createElement('li',{className:"_247s",tabIndex:'0',onClick:this.props.onPlatformAudienceClick},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement('span',{className:"_3fld"},c('React').createElement(c('Image.react'),{src:u})),c('React').createElement('div',{ref:'createPlatformAudience'},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},j._("Advanced combination")),c('React').createElement('div',{className:"_3-8x"},j._("Create a list of people from different signal sources"))))));};v.prototype.$AudienceCreatorTypeSelector7=function(){if(!this.props.canCreateStoreVisitAudience)return null;return (c('React').createElement('li',{className:"_247s",tabIndex:'0',onClick:this.props.onStoreVisitAudienceClick},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{src:s}),c('React').createElement('div',{ref:'createStoreVisitAudience'},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},j._("Shop Visits")),c('React').createElement(c('InlineBlock.react'),null,c('React').createElement(c('AdsGuidanceNewBadge.react'),null)),c('React').createElement('div',{className:"_3-8x"},j._("Create a list of people who have previously visited your business locations"))))));};v.prototype.render=function(){return (c('React').createElement('div',null,c('React').createElement('div',{className:"_3-98 _3-8y"},j._("Reach people who have a relationship with your business, whether they are existing customers or people who have interacted with your business on Facebook or other platforms.")),c('React').createElement('div',{className:"_247t _3-8y"},c('React').createElement('ul',null,this.$AudienceCreatorTypeSelector1(),this.$AudienceCreatorTypeSelector2(),this.$AudienceCreatorTypeSelector3(),this.$AudienceCreatorTypeSelector4(),this.$AudienceCreatorTypeSelector5(),this.$AudienceCreatorTypeSelector6(),this.$AudienceCreatorTypeSelector7())),c('React').createElement('div',{className:"_3-98 _3-8y"},j._("This process is secure and the details about your customers will be kept private."))));};v.prototype.$AudienceCreatorTypeSelector8=function(){return this.refs.createEngAudience;};function v(){k.apply(this,arguments);}v.propTypes={canCreateStoreVisitAudience:n.bool,showEngagementAudienceNUX:n.bool,onCustomerListClick:n.func.isRequired,onDataSetClick:n.func,onEngagementAudienceClick:n.func,onMobileAppClick:n.func.isRequired,onPlatformAudienceClick:n.func.isRequired,onStoreVisitAudienceClick:n.func.isRequired,onWebsiteTrafficClick:n.func.isRequired};f.exports=v;}),null);
__d('AudienceManagerCreateAudienceInitDialogContent.react',['cx','fbt','BUIAdoptionXUIGrayText.react','React','AudienceCreatorTypeSelector.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){return (c('React').createElement('div',null,c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_50_z"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},i._("How do you want to create this audience?")),c('React').createElement(c('AudienceCreatorTypeSelector.react'),this.props))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:i._("Cancel"),onClick:this.props.onCancel}))));};function l(){j.apply(this,arguments);}f.exports=l;}),null);
__d('AudienceManagerCreateAudienceInitDialogContentContainer.react',['AudienceManagerCreateAudienceInitDialogContent.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){return (c('React').createElement(c('AudienceManagerCreateAudienceInitDialogContent.react'),this.props));};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('AudienceManagerCanvasConstant',[],(function a(b,c,d,e,f,g){'use strict';f.exports={RetentionDay:{DEFAULT:365,MIN:1,MAX:365},FormField:{CANVAS:'canvas',DESCRIPTION:'description',RETENTION_DAYS:'retentionDays',ENGAGEMENT:'engagement',NAME:'name',ID:'id'}};}),null);
__d('AudienceManagerCanvasAudienceStore',['AdsAMActionTypes','AdsDispatcher','EngagementAudienceEvents','EngagementAudienceUIEvents','FluxReduceStore','AudienceManagerCanvasConstant','immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k=c('AudienceManagerCanvasConstant').FormField,l=c('AudienceManagerCanvasConstant').RetentionDay,m=k.CANVAS,n=k.DESCRIPTION,o=k.RETENTION_DAYS,p=k.ENGAGEMENT,q=k.NAME,r=k.ID,s=c('immutable').Record((j={canvasID:null},j[m]=null,j[n]='',j[o]=l.DEFAULT,j[p]=c('EngagementAudienceEvents').INSTANT_SHOPPING_DOCUMENT_OPEN,j[q]='',j[r]=null,j.creatingAudience=false,j.createdAudienceFailed=false,j));function t(w){try{var y,z=JSON.parse(w.rule);return y={canvasID:z[0].object_id},y[n]=w[n],y[o]=w.retention_days,y[p]=z[0].event_name.toUpperCase(),y[q]=w[q],y[r]=w[r],y;}catch(x){return {};}}var u=new s();h=babelHelpers.inherits(v,c('FluxReduceStore'));i=h&&h.prototype;v.prototype.getInitialState=function(){return u;};v.prototype.$AudienceManagerCanvasAudienceStore1=function(){var w=this.getState().get(o);return (!!w&&!isNaN(w)&&w>=l.MIN&&w<=l.MAX);};v.prototype.enableSubmit=function(){var w=this.getState();return (!!w.get(m)&&!!w.get(p)&&!!w.get(q)&&this.$AudienceManagerCanvasAudienceStore1());};v.prototype.getFormData=function(){var w,x=this.getState();return w={canvasID:x.get('canvasID')},w[m]=x.get(m),w[n]=x.get(n),w[o]=x.get(o),w[p]=x.get(p),w[q]=x.get(q),w[r]=x.get(r),w;};v.prototype.reduce=function(w,x){var y,z,aa,ba,ca,da=x.action,ea=da.data,fa=da.type;switch(fa){case c('EngagementAudienceUIEvents').CANVAS_INIT:return w.merge(t(ea.value));case c('EngagementAudienceUIEvents').CANVAS_CHANGED:return w.merge((y={},y[m]=ea.value,y));case c('EngagementAudienceUIEvents').CANVAS_DESCRIPTION_CHANGED:return w.merge((z={},z[n]=ea.value,z));case c('EngagementAudienceUIEvents').CANVAS_RETENTION_DAYS_CHANGED:var ga=ea.value;if(ga<l.MIN){ga=l.MIN;}else if(ga>l.MAX)ga=l.MAX;return w.merge((aa={},aa[o]=ga,aa));case c('EngagementAudienceUIEvents').CANVAS_ENGAGEMENT_CHANGED:return w.merge((ba={},ba[p]=ea.value,ba));case c('EngagementAudienceUIEvents').CANVAS_NAME_CHANGED:return w.merge((ca={},ca[q]=ea.value,ca));case c('EngagementAudienceUIEvents').CANVAS_CREATE_AUDIENCE_ERROR:return w.merge({createdAudienceFailed:true,creatingAudience:false});case c('EngagementAudienceUIEvents').CANVAS_CREATING_AUDIENCE:return w.merge({createdAudienceFailed:false,creatingAudience:true});case c('AdsAMActionTypes').ENGAGEMENT_AUDIENCE_CREATED:return w.merge({createdAudienceFailed:false,creatingAudience:false});case c('AdsAMActionTypes').CREATE_AUDIENCE_RESET:return this.getInitialState();default:return w;}};function v(){h.apply(this,arguments);}f.exports=new v(c('AdsDispatcher'));}),null);
__d('AdsCustomAudienceCanvasEngagementElement.react',['fbt','BUIForm.react','BUIFormElement.react','EngagementAudienceEvents','React','XUISingleSelector.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=c('XUISingleSelector.react').Option,m=h._("Include"),n=h._("Choose who you want to include in your audience based on the kind of engagement that they had with your Canvas. By default, we'll include everyone who opened it, or you can narrow the audience.");i=babelHelpers.inherits(o,k);j=i&&i.prototype;o.prototype.render=function(){return (c('React').createElement(c('BUIFormElement.react'),{helpText:n,label:m},c('React').createElement(c('XUISingleSelector.react'),babelHelpers['extends']({size:'large'},this.props),c('React').createElement(l,{value:c('EngagementAudienceEvents').INSTANT_SHOPPING_DOCUMENT_OPEN},h._("People who opened this Canvas")),c('React').createElement(l,{value:c('EngagementAudienceEvents').INSTANT_SHOPPING_ELEMENT_CLICK},h._("People who clicked any links in this Canvas")))));};function o(){i.apply(this,arguments);}f.exports=o;}),null);
__d('AdsCustomAudienceDescriptionElement.react',['cx','fbt','BUIAdoptionXUIGrayText.react','BUIForm.react','BUIFormElement.react','FBReplaceLink.react','React','XUITextInput.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=i._("Description"),n=i._("Add a description"),o=c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light'},' ',i._("(optional)"));j=babelHelpers.inherits(p,l);k=j&&j.prototype;p.prototype.render=function(){return (c('React').createElement(c('FBReplaceLink.react'),{className:"_379h",isInitiallyExpanded:!!this.props.value,label:n,optionalLabel:o},c('React').createElement(c('BUIFormElement.react'),{label:m},c('React').createElement(c('XUITextInput.react'),babelHelpers['extends']({height:'tall',placeholder:n},this.props)))));};function p(){j.apply(this,arguments);}f.exports=p;}),null);
__d('AdsCustomAudienceNameElement.react',['fbt','BUIForm.react','BUIFormElement.react','React','XUITextInput.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=h._("Audience name"),m=h._("Enter a name for your audience");i=babelHelpers.inherits(n,k);j=i&&i.prototype;n.prototype.render=function(){return (c('React').createElement(c('BUIFormElement.react'),{label:l},c('React').createElement(c('XUITextInput.react'),babelHelpers['extends']({height:'tall',placeholder:m},this.props))));};function n(){i.apply(this,arguments);}f.exports=n;}),null);
__d('AudienceManagerIntegerInput.react',['fbt','React','XUITextInput.react','clamp'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.onBlur=function(){var m=parseInt(this.state.value,10);if(!isNaN(m)){var n=c('clamp')(m,this.props.min,this.props.max);this.props.onChange(n);this.setState({value:n.toString()});}else this.setState({value:this.props.value.toString()});}.bind(this);this.onChange=function(event){this.setState({value:event.target.value});}.bind(this);this.state={value:l.value.toString()};}k.prototype.getErrorMessage=function(){var l=parseInt(this.state.value,10);if(isNaN(l)){return h._("Value must be a number");}else if(l>this.props.max){return h._("Value must be less than {maxValue}",[h.param('maxValue',this.props.max)]);}else if(l<this.props.min)return h._("Value must be greater than {minValue}",[h.param('minValue',this.props.min)]);};k.prototype.componentWillReceiveProps=function(l){if(this.state.value!==l.value.toString())this.setState({value:l.value.toString()});};k.prototype.render=function(){return (c('React').createElement(c('XUITextInput.react'),{height:this.props.height,value:this.state.value,onBlur:this.onBlur,onChange:this.onChange,xuiError:this.getErrorMessage()}));};k.defaultProps={min:0};f.exports=k;}),null);
__d('AudienceManagerDayInput.react',['cx','fbt','React','AudienceManagerIntegerInput.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=function k(l){return (c('React').createElement('div',{className:l.className},c('React').createElement('div',{className:"_1k-l"},c('React').createElement(c('AudienceManagerIntegerInput.react'),{height:l.height,max:l.max,min:1,value:l.value,onChange:l.onChange})),c('React').createElement('span',{className:"_3_1c"},i._("days"))));};f.exports=j;}),null);
__d('AdsCustomAudienceRetentionElement.react',['fbt','AudienceManagerDayInput.react','BUIForm.react','BUIFormElement.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=h._("In the past"),m=h._("The number of days people will remain in your audience for after they've engaged with your content. People will be removed from your audience after the set time period unless they engage with the content again.");i=babelHelpers.inherits(n,k);j=i&&i.prototype;n.prototype.render=function(){var o=c('React').createElement('div',null,h._("The number of days people will remain in your audience for after they've engaged with your content. People will be removed from your audience after the set time period unless they engage with the content again."),c('React').createElement('br',null),c('React').createElement('br',null),h._("Maximum time: {maximum value of retention days} days",[h.param('maximum value of retention days',this.props.max)]),this.props.dataAvailability?c('React').createElement('div',null,c('React').createElement('br',null),this.props.dataAvailability):null);return (c('React').createElement(c('BUIFormElement.react'),{helpText:o,label:l},c('React').createElement(c('AudienceManagerDayInput.react'),babelHelpers['extends']({height:'tall'},this.props))));};function n(){i.apply(this,arguments);}f.exports=n;}),null);
__d('AudienceManagerCanvasAudienceTypeaheadElement.react',['fbt','AdsAMTypeahead.react','AdsAMTypeaheadSearchSource','AdsAudienceCanvasSearchSource','BUIForm.react','BUIFormElement.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=h._("Canvas"),m=h._("Canvas is a full-screen mobile experience that people see after they've tapped on your advert. Choose the Canvas that you want to use for your audience.");i=babelHelpers.inherits(n,k);j=i&&i.prototype;function n(o){j.constructor.call(this,o);this.$AudienceManagerCanvasAudienceTypeaheadElement2=function(p){this.props.onSelectAttempt(p);}.bind(this);this.$AudienceManagerCanvasAudienceTypeaheadElement1=new (c('AdsAudienceCanvasSearchSource'))();}n.prototype.render=function(){return c('React').createElement(c('BUIFormElement.react'),{helpText:m,label:l},c('React').createElement(c('AdsAMTypeahead.react'),{defaultID:this.props.canvasID,searchSource:this.$AudienceManagerCanvasAudienceTypeaheadElement1,tallInput:true,onSelectAttempt:this.$AudienceManagerCanvasAudienceTypeaheadElement2}));};f.exports=n;}),null);
__d('AudienceManagerCanvasAudienceViewAction',['AdsDispatcher','EngagementAudienceUIEvents'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){c('AdsDispatcher').handleUpdateFromViewAction({type:i,data:{value:j}});}f.exports={initWithAudience:function i(j){h(c('EngagementAudienceUIEvents').CANVAS_INIT,j);},changeCanvas:function i(j){h(c('EngagementAudienceUIEvents').CANVAS_CHANGED,j);},changeDescription:function i(j){h(c('EngagementAudienceUIEvents').CANVAS_DESCRIPTION_CHANGED,j.target.value);},changeRetentionDays:function i(j){h(c('EngagementAudienceUIEvents').CANVAS_RETENTION_DAYS_CHANGED,j);},changeEngagement:function i(j){var k=j.value;h(c('EngagementAudienceUIEvents').CANVAS_ENGAGEMENT_CHANGED,k);},changeName:function i(j){h(c('EngagementAudienceUIEvents').CANVAS_NAME_CHANGED,j.target.value);},creatingAudience:function i(){h(c('EngagementAudienceUIEvents').CANVAS_CREATING_AUDIENCE);},createAudienceError:function i(j){h(c('EngagementAudienceUIEvents').CANVAS_CREATE_AUDIENCE_ERROR,j);}};}),null);
__d('BUIFormSection.react',['cx','BUIFormTypes','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=c('BUIFormTypes').DENSITY_PROP_TYPE,m=c('BUIFormTypes').LABEL_POSITION_PROP_TYPE;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;n.prototype.render=function(){var o=c('React').Children.map(this.props.children,function(p){if(!p)return p;return c('React').cloneElement(p,{density:this.props.density,labelPosition:this.props.labelPosition});}.bind(this));return (c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_5511"+(!!this.props.title?' '+"_5512":''))},c('React').createElement('div',{className:"_5513"},this.props.title),c('React').createElement('div',{className:"_5516"},o)));};function n(){i.apply(this,arguments);}n.propTypes={title:k.string,density:l,labelPosition:m};f.exports=n;}),null);
__d('AudienceManagerCreateCanvasAudience.react',['cx','fbt','AdInterfacesAppNames','AdsAMCreateAudienceServerActions','AdsAMViewActions','AdsCustomAudienceCanvasEngagementElement.react','AdsCustomAudienceDescriptionElement.react','AdsCustomAudienceNameElement.react','AdsCustomAudienceRetentionElement.react','AdsCustomAudienceType','AdsEngagementAudienceUILogger','AudienceManagerCanvasAudienceTypeaheadElement.react','AudienceManagerDialogBackButton.react','AudienceManagerDialogCreateAudienceButton.react','AudienceManagerDialogUpdateAudienceButton.react','BUIAdoptionXUIGrayText.react','BUIForm.react','BUIFormSection.react','React','AudienceManagerCanvasAudienceViewAction','XUIDialogBody.react','XUIDialogCancelButton.react','XUIDialogFooter.react','AudienceManagerCanvasConstant'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('AudienceManagerCanvasConstant').RetentionDay,m=c('React').Component,n=i._("Your audience will be made up of people who opened one of your Canvases.");j=babelHelpers.inherits(o,m);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$AudienceManagerCreateCanvasAudience1=function(){c('AudienceManagerCanvasAudienceViewAction').creatingAudience();c('AdsAMViewActions').closeRegularEditDialog();var u=this.props.formData,v=[{object_id:u.canvas.getUniqueID(),event_name:u.engagement.toLowerCase()}],w={description:u.description.trim(),name:u.name.trim(),prefill:true,retention_days:u.retentionDays,rule:v,subtype:c('AdsCustomAudienceType').SUBTYPES.ENGAGEMENT};if(this.props.isUpdateAudience){delete w.prefill;delete w.subtype;}this.props.onCreateAudience(w,function(x){if(this.props.onAudienceAdded)this.props.onAudienceAdded(x);c('AdsAMCreateAudienceServerActions').createdEngagementAudience(String(x),babelHelpers['extends']({},w,{id:x}));}.bind(this),c('AudienceManagerCanvasAudienceViewAction').createAudienceError);}.bind(this),q;}o.prototype.componentWillMount=function(){c('AdsEngagementAudienceUILogger').setAppName(c('AdInterfacesAppNames').AUDIENCE_MANAGER);c('AdsEngagementAudienceUILogger').setAdAccountID(this.props.adAccountID);if(this.props.defaultAudience)c('AudienceManagerCanvasAudienceViewAction').initWithAudience(this.props.defaultAudience);};o.prototype.render=function(){var p=this.props.formData,q=this.props.isUpdateAudience?c('AudienceManagerDialogUpdateAudienceButton.react'):c('AudienceManagerDialogCreateAudienceButton.react'),r=this.props.isUpdateAudience&&!p.canvasID?null:c('React').createElement(c('AudienceManagerCanvasAudienceTypeaheadElement.react'),{canvasID:p.canvasID,selectedEntry:p.canvas,onSelectAttempt:c('AudienceManagerCanvasAudienceViewAction').changeCanvas});return (c('React').createElement('div',{className:"_5fb0"},c('React').createElement(c('XUIDialogBody.react'),{className:"_5fc3"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_5fc5",display:'block',shade:'light'},n),c('React').createElement(c('BUIForm.react'),{className:"_5fc6",density:'svelt',labelPosition:'left'},c('React').createElement(c('BUIFormSection.react'),{className:"_5fc7"},r,c('React').createElement(c('AdsCustomAudienceCanvasEngagementElement.react'),{value:p.engagement,onChange:c('AudienceManagerCanvasAudienceViewAction').changeEngagement}),c('React').createElement(c('AdsCustomAudienceRetentionElement.react'),{className:"_5fc8",max:l.MAX,min:l.MIN,value:p.retentionDays,onChange:c('AudienceManagerCanvasAudienceViewAction').changeRetentionDays}),c('React').createElement(c('AdsCustomAudienceNameElement.react'),{value:p.name,onChange:c('AudienceManagerCanvasAudienceViewAction').changeName}),c('React').createElement(c('AdsCustomAudienceDescriptionElement.react'),{value:p.description,onChange:c('AudienceManagerCanvasAudienceViewAction').changeDescription})))),c('React').createElement(c('XUIDialogFooter.react'),{leftContent:c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:this.props.onCancel})},c('React').createElement(c('AudienceManagerDialogBackButton.react'),{onClick:this.props.onBack}),c('React').createElement(q,{disabled:!this.props.enableSubmit,onClick:this.$AudienceManagerCreateCanvasAudience1}))));};f.exports=o;}),null);
__d('AudienceManagerCreateCanvasAudienceContainer.react',['AdsSelectedAccountIDGetter','AudienceManagerCanvasAudienceStore','AudienceManagerCreateCanvasAudience.react','FluxContainer','React'],(function a(b,c,d,e,f,g){'use strict';function h(k){var l=c('AdsSelectedAccountIDGetter').get({})||'0';return (c('React').createElement(c('AudienceManagerCreateCanvasAudience.react'),babelHelpers['extends']({adAccountID:l},k)));}function i(){return [c('AudienceManagerCanvasAudienceStore')];}function j(k,l){var m=c('AudienceManagerCanvasAudienceStore').getState(),n=m.creatingAudience,o=m.createdAudienceFailed,p=c('AudienceManagerCanvasAudienceStore').enableSubmit(),q=c('AudienceManagerCanvasAudienceStore').getFormData(),r=l&&l.isUpdateAudience||false;return babelHelpers['extends']({createdAudienceFailed:o,creatingAudience:n,enableSubmit:p,formData:q,isUpdateAudience:r},l);}f.exports=c('FluxContainer').createFunctional(h,i,j,{withProps:true});}),null);
__d('AudienceManagerDialogOkButton.react',['fbt','React','XUIDialogButton.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;l.prototype.render=function(){if(!this.props.onClick)return null;return (c('React').createElement(c('XUIDialogButton.react'),babelHelpers['extends']({},this.props,{label:h._("OK"),use:'confirm'})));};function l(){i.apply(this,arguments);}f.exports=l;}),null);
__d('AdsCustomAudienceLeadGenEngagementElement.react',['fbt','BUIForm.react','BUIFormElement.react','EngagementAudienceUIEvents','React','XUISingleSelector.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PureComponent,l=c('XUISingleSelector.react').Option,m=h._("Include"),n=h._("Choose who you want to include in your audience based on the kind of engagement they had with your form. By default, we'll include the broadest category, or you can narrow it.");i=babelHelpers.inherits(o,k);j=i&&i.prototype;o.prototype.render=function(){return (c('React').createElement(c('BUIFormElement.react'),{helpText:n,label:m},c('React').createElement(c('XUISingleSelector.react'),babelHelpers['extends']({size:'large'},this.props),c('React').createElement(l,{value:c('EngagementAudienceUIEvents').LEAD_GENERATION_OPENED},h._("Anyone who opened this form")),c('React').createElement(l,{value:c('EngagementAudienceUIEvents').LEAD_GENERATION_DROPOFF},h._("People who opened but didn't submit form")),c('React').createElement(l,{value:c('EngagementAudienceUIEvents').LEAD_GENERATION_SUBMITTED},h._("People who opened and submitted form")))));};function o(){i.apply(this,arguments);}f.exports=o;}),null);
__d('LeadGenEngagementBuilderDispatcher',['ReactDispatcher_DEPRECATED'],(function a(b,c,d,e,f,g){'use strict';f.exports=new (c('ReactDispatcher_DEPRECATED'))();}),null);
__d('LeadGenEngagementTypeaheadActionTypes',['ImmutableObject','keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('ImmutableObject'))(c('keyMirrorRecursive')({DOC_NAME:{LOADED:'',LOAD_ERROR:''}},'LeadGenEngagementTypeahead'));f.exports=h;}),null);
__d('LeadGenEngagementTypeaheadActions',['LeadGenEngagementBuilderDispatcher','LeadGenEngagementTypeaheadActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h={docNameResultsLoaded:function i(j,k,l){c('LeadGenEngagementBuilderDispatcher').dispatch({accountID:j,query:k,results:l,type:c('LeadGenEngagementTypeaheadActionTypes').DOC_NAME.LOADED});},docNameLoadError:function i(j,k,l){c('LeadGenEngagementBuilderDispatcher').dispatch({accountID:j,error:l,query:k,type:c('LeadGenEngagementTypeaheadActionTypes').DOC_NAME.LOAD_ERROR});}};f.exports=h;}),null);
__d('LeadGenEngagementTypeaheadDataManager',['LeadGenEngagementTypeaheadActions','AdsGraphAPI'],(function a(b,c,d,e,f,g){'use strict';h.prototype.searchLeadGenDoc=function(i,j){c('AdsGraphAPI').get(f.id).me().edge('leadgen_forms').get({fields:['id','name','page','leads_count'],query:j}).done(function(k){return c('LeadGenEngagementTypeaheadActions').docNameResultsLoaded(i,j,k.data);},function(k){return c('LeadGenEngagementTypeaheadActions').docNameLoadError(i,j,k);});};function h(){}f.exports=new h();}),null);
__d('LeadGenEngagementTypeaheadSearchableEntry',['SearchableEntry'],(function a(b,c,d,e,f,g){'use strict';var h={createForLeadGenDoc:function i(j){var k=j.page.name;return new (c('SearchableEntry'))({subtitle:k,title:j.name,uniqueID:j.id,auxiliaryData:{leads_count:j.leads_count}});}};f.exports=h;}),null);
__d('LeadGenEngagementTypeaheadStore',['LeadGenEngagementBuilderDispatcher','LeadGenEngagementTypeaheadActionTypes','LeadGenEngagementTypeaheadDataManager','LeadGenEngagementTypeaheadSearchableEntry','FluxStore','LoadObject','LFUCache','ReactDispatcher_DEPRECATED','SearchableEntry'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.$LeadGenEngagementTypeaheadStore1=new (c('LFUCache'))();}j.prototype.__onDispatch=function(k){switch(k.type){case c('LeadGenEngagementTypeaheadActionTypes').DOC_NAME.LOADED:return this.$LeadGenEngagementTypeaheadStore2(k.accountID,k.query,k.results,function(l){return (c('LeadGenEngagementTypeaheadSearchableEntry').createForLeadGenDoc(l));});case c('LeadGenEngagementTypeaheadActionTypes').DOC_NAME.LOAD_ERROR:return this.$LeadGenEngagementTypeaheadStore3(k.accountID,k.query,k.error);}};j.prototype.searchDocByName=function(k,l){var m=this.$LeadGenEngagementTypeaheadStore4(l,k),n=this.$LeadGenEngagementTypeaheadStore1.get(m);if(!n){n=c('LoadObject').loading();this.$LeadGenEngagementTypeaheadStore1.set(m,n);c('LeadGenEngagementTypeaheadDataManager').searchLeadGenDoc(l,k);}return n;};j.prototype.$LeadGenEngagementTypeaheadStore3=function(k,l,m){var n=this.$LeadGenEngagementTypeaheadStore4(k,l);this.$LeadGenEngagementTypeaheadStore1.set(n,c('LoadObject').empty().setError(m));this.__emitChange();};j.prototype.$LeadGenEngagementTypeaheadStore2=function(k,l,m,n){var o=this.$LeadGenEngagementTypeaheadStore4(k,l),p=m.map(n,this);this.$LeadGenEngagementTypeaheadStore1.set(o,c('LoadObject').empty().setValue(p));this.__emitChange();};j.prototype.$LeadGenEngagementTypeaheadStore4=function(k,l){return k+'-'+String(l);};f.exports=new j(c('LeadGenEngagementBuilderDispatcher'));}),null);
__d('LeadGenEngagementSearchSource',['LeadGenEngagementTypeaheadStore','AdsFluxStoreSearchSource'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsFluxStoreSearchSource'));i=h&&h.prototype;function j(k){var l=babelHelpers['extends']({getAllForEmptyQuery:true},k,{queryRequests:[{store:c('LeadGenEngagementTypeaheadStore'),getData:function m(n){return c('LeadGenEngagementTypeaheadStore').searchDocByName(n,k.accountID);}}]});i.constructor.call(this,l);}f.exports=j;}),null);
__d('LeadGenEngagementTypeaheadViewItem.react',['cx','cssVar','React','TypeaheadViewItem','Grid.react','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('Grid.react').GridItem,k=c('React').createClass({displayName:'LeadGenEngagementTypeaheadViewItem',mixins:[c('TypeaheadViewItem').Mixin],propTypes:babelHelpers['extends']({},c('TypeaheadViewItem').propTypes),render:function l(){var m=this.props.entry,n=m.getSubtitle(),o=n?c('React').createElement(c('Grid.react'),{cols:2,fixed:true},c('React').createElement(j,{className:"_599q",style:{width:'70%'}},'Page: ',n),c('React').createElement(j,{className:"_599q",style:{marginRight:'0px',float:'right'}},'Leads Count: ',m.getAuxiliaryData().leads_count)):null,p="_599m"+(!o?' '+"_5mne":'')+(this.props.highlighted?' '+"_599n":'');p=c('joinClasses')(p,this.props.className);return (c('React').createElement('li',{'aria-selected':this.props.highlighted,className:p,role:this.props.role,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight},c('React').createElement('div',null,c('React').createElement('div',{className:"_599p"},m.getTitle()),o)));}});f.exports=k;}),null);
__d('LeadGenEngagementTypeaheadView.react',['cx','React','TypeaheadViewPropTypes','XUITypeaheadViewContainer.react','LeadGenEngagementTypeaheadViewItem.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$LeadGenEngagementTypeaheadView1=function(r){var s=r===this.props.highlightedEntry;return (c('React').createElement(c('LeadGenEngagementTypeaheadViewItem.react'),{entry:r,highlighted:s,key:r.getUniqueID(),onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight,onSelect:this.props.onSelect}));}.bind(this),n;}l.prototype.render=function(){var m=!this.props.entries.length?"_599s":'';this.props.entries.sort(function(n,o){return o.getAuxiliaryData().leads_count-n.getAuxiliaryData().leads_count;});return (c('React').createElement(c('XUITypeaheadViewContainer.react'),{className:m,id:this.props.ariaOwneeID,role:this.props.role},this.props.entries.map(this.$LeadGenEngagementTypeaheadView1)));};l.defaultProps={role:'listbox'};f.exports=l;}),null);
__d('LeadGenEngagementTypeahead.react',['cx','AbstractSearchSource','React','SearchableEntry','XUITypeahead.react','LeadGenEngagementTypeaheadView.react','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$LeadGenEngagementTypeahead2=function(){return !!this.state.queryString;}.bind(this),this.$LeadGenEngagementTypeahead5=function(){this.$LeadGenEngagementTypeahead8('');}.bind(this),this.$LeadGenEngagementTypeahead8=function(r){this.setState({queryString:r});if(!r&&this.props.onEntrySelect)this.props.onEntrySelect(null);}.bind(this),this.$LeadGenEngagementTypeahead4=function(event){this.$LeadGenEngagementTypeahead8(event.target.value);}.bind(this),this.$LeadGenEngagementTypeahead9=function(r){return r?r.getTitle():'';},this.$LeadGenEngagementTypeahead1=function(r){this.setState({queryString:this.$LeadGenEngagementTypeahead9(r)});}.bind(this),this.$LeadGenEngagementTypeahead3=function(){this.$LeadGenEngagementTypeahead1(this.props.selectedEntry);}.bind(this),this.$LeadGenEngagementTypeahead6=function(){var r=this.props.selectedEntry;this.setState({queryString:r?r.getTitle():''});}.bind(this),this.$LeadGenEngagementTypeahead7=function(r){if(this.props.onEntrySelect)this.props.onEntrySelect(r);this.$LeadGenEngagementTypeahead1(r);}.bind(this),this.state={queryString:this.$LeadGenEngagementTypeahead9(this.props.selectedEntry)},n;}l.prototype.componentWillReceiveProps=function(m){if(m.selectedEntry!==this.props.selectedEntry)this.$LeadGenEngagementTypeahead1(m.selectedEntry);};l.prototype.render=function(){var m={ViewRenderer:c('LeadGenEngagementTypeaheadView.react'),useLayer:true},n=c('joinClasses')(this.props.className,"_1xqi");return c('React').createElement('div',{className:n},c('React').createElement(c('XUITypeahead.react'),{autoHighlight:this.$LeadGenEngagementTypeahead2(),clearable:true,disabled:this.props.disabled,focusedOnInit:this.props.focusedOnInit,placeholder:this.props.placeholder,presenter:m,queryString:this.state.queryString,ref:'typeahead',searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,showEntriesOnFocus:true,tallInput:true,onBlur:this.$LeadGenEngagementTypeahead3,onChange:this.$LeadGenEngagementTypeahead4,onClear:this.$LeadGenEngagementTypeahead5,onFocus:this.$LeadGenEngagementTypeahead6,onSelectAttempt:this.$LeadGenEngagementTypeahead7}));};l.propTypes={className:k.string,disabled:k.bool,focusedOnInit:k.bool,placeholder:k.string,searchSource:k.instanceOf(c('AbstractSearchSource')).isRequired,selectedEntry:k.oneOfType([k.oneOf([null]),k.instanceOf(c('SearchableEntry'))]),onEntrySelect:k.func};f.exports=l;}),null);
__d('AudienceManagerLeadGenNameAndLeadFormInput.react',['cx','fbt','AdsAMAudienceGraphAPI','AdsCustomAudienceDescriptionElement.react','AdsCustomAudienceLeadGenEngagementElement.react','AdsCustomAudienceNameElement.react','AdsCustomAudienceRetentionElement.react','AdsEngagementAudienceUILogger','AudienceManagerUIConstants','BUIAdoptionXUIGrayText.react','BUIForm.react','BUIFormElement.react','BUIFormSection.react','EngagementAudienceUIEvents','LeadGenEngagementSearchSource','LeadGenEngagementTypeahead.react','React','SearchableEntry'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=c('AudienceManagerUIConstants').ENGAGEMENT_LEAD_GEN_AUDIENCE_MAX_RETENTION_DAYS;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(o){k.constructor.call(this,o);this.$AudienceManagerLeadGenNameAndLeadFormInput1=function(){if(this.props.formID.length===0)return;var p=function(r){var s=r;if(s.length>0){var t=new (c('SearchableEntry'))({title:s,uniqueID:this.props.formID});this.setState({selectedEntry:t});}}.bind(this),q=function r(){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').GET_LEAD_GEN_FORM_NAME_FROM_FORM_ID_FAILED);};c('AdsAMAudienceGraphAPI').getLeadGenFormNamefromFormID(this.props.formID,p,q);}.bind(this);this.$AudienceManagerLeadGenNameAndLeadFormInput4=function(p){this.setState({selectedEntry:p});this.props.onChangeFormEntry(p);}.bind(this);this.$AudienceManagerLeadGenNameAndLeadFormInput3=function(event){this.setState({eventName:event.value});this.props.onChangeEventName(event);}.bind(this);this.state={eventName:o.eventName,formID:o.formID,audienceName:o.audienceName,audienceDescription:o.audienceDescription,retentionDays:o.retentionDays,selectedEntry:null};this.$AudienceManagerLeadGenNameAndLeadFormInput1();}n.prototype.render=function(){return c('React').createElement('div',{className:"_5fb0"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_5fc5",display:'block',shade:'light'},i._("Your audience will be people who've opened one of your Lead advert forms. After selecting a form, you can include people based on the action that they took when they opened it.")),c('React').createElement(c('BUIForm.react'),{className:"_5fc6",density:'svelt',labelPosition:'left'},c('React').createElement(c('BUIFormSection.react'),{className:"_5fc7"},this.$AudienceManagerLeadGenNameAndLeadFormInput2(),c('React').createElement(c('AdsCustomAudienceLeadGenEngagementElement.react'),{value:this.state.eventName,onChange:this.$AudienceManagerLeadGenNameAndLeadFormInput3}),c('React').createElement(c('AdsCustomAudienceRetentionElement.react'),{className:"_5fc8",max:m,value:this.props.retentionDays,onChange:this.props.onRetentionChange}),c('React').createElement(c('AdsCustomAudienceNameElement.react'),{value:this.props.audienceName||'',xuiError:this.props.audienceNameError,xuiErrorForceShow:true,xuiErrorPosition:'above',onChange:this.props.onNameChange}),c('React').createElement(c('AdsCustomAudienceDescriptionElement.react'),{value:this.props.audienceDescription,onChange:this.props.onDescriptionChange}))));};n.prototype.$AudienceManagerLeadGenNameAndLeadFormInput2=function(){var o=new (c('LeadGenEngagementSearchSource'))({accountID:this.props.adAccountID});o.bootstrap();return c('React').createElement(c('BUIFormElement.react'),{helpText:i._("You create lead forms when you create Lead advert campaigns. Select a form to remarket to people who have engaged with this form in the past."),label:i._("Lead form")},c('React').createElement(c('LeadGenEngagementTypeahead.react'),{disabled:false,focusedOnInit:false,placeholder:i._("Click to search or browse your lead forms"),searchSource:o,selectedEntry:this.state.selectedEntry,onEntrySelect:this.$AudienceManagerLeadGenNameAndLeadFormInput4}));};n.propTypes={audienceDescription:l.string,audienceName:l.string,eventName:l.string.isRequired,retentionDays:l.number.isRequired};f.exports=n;}),null);
__d('AudienceManagerCreateLeadGenAudience.react',['cx','fbt','AdsAccountStoreWrapper_DEPRECATED','AdsSpinnerCover.react','AudienceManagerDialogBackButton.react','AudienceManagerDialogOkButton.react','AudienceManagerLeadGenNameAndLeadFormInput.react','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=i._("You must name your audience to continue");j=babelHelpers.inherits(n,l);k=j&&j.prototype;n.prototype.render=function(){return (c('React').createElement('div',null,c('React').createElement(c('XUIDialogBody.react'),{className:"_5fc3"},this.$AudienceManagerCreateLeadGenAudience1()),c('React').createElement(c('XUIDialogFooter.react'),null,this.$AudienceManagerCreateLeadGenAudience2()),c('React').createElement(c('AdsSpinnerCover.react'),{show:this.props.creatingAudience})));};n.prototype.$AudienceManagerCreateLeadGenAudience3=function(){var o=this.props.hasAudienceNameError?m:undefined,p=c('AdsAccountStoreWrapper_DEPRECATED').getAccountID();return (c('React').createElement(c('AudienceManagerLeadGenNameAndLeadFormInput.react'),{adAccountID:p,audienceDescription:this.props.audienceDescription,audienceName:this.props.audienceName,audienceNameError:o,eventName:this.props.eventName,formID:this.props.formID,retentionDays:this.props.retentionDays,onChangeEventName:this.props.onChangeEventName,onChangeFormEntry:this.props.onChangeFormEntry,onDescriptionChange:this.props.onDescriptionChange,onNameChange:this.props.onNameChange,onRetentionChange:this.props.onRetentionChange}));};n.prototype.$AudienceManagerCreateLeadGenAudience2=function(){if(this.props.viewFailedCreationDialog)return this.$AudienceManagerCreateLeadGenAudience4();return (c('React').createElement('div',null,this.$AudienceManagerCreateLeadGenAudience5(),this.$AudienceManagerCreateLeadGenAudience6()));};n.prototype.$AudienceManagerCreateLeadGenAudience1=function(){if(this.props.viewFailedCreationDialog){return i._("There was a problem while creating your audience. Please try again.");}else return this.$AudienceManagerCreateLeadGenAudience3();};n.prototype.$AudienceManagerCreateLeadGenAudience6=function(){return (c('React').createElement(c('XUIDialogButton.react'),{disabled:this.props.isCreateButtonDisabled,label:i._("{button description}",[i.param('button description',this.props.actionButtonDescription)]),use:'confirm',onClick:this.props.onCreateAudience}));};n.prototype.$AudienceManagerCreateLeadGenAudience4=function(){return (c('React').createElement(c('AudienceManagerDialogOkButton.react'),{onClick:this.props.onHideFailedCreationDialogContent}));};n.prototype.$AudienceManagerCreateLeadGenAudience5=function(){if(this.props.onBack)return c('React').createElement(c('AudienceManagerDialogBackButton.react'),{onClick:this.props.onBack});};n.prototype.renderLayers=function(){return {dialog:c('React').createElement('div',null)};};function n(){j.apply(this,arguments);}f.exports=n;}),null);
__d('AudienceManagerCreateLeadGenAudienceContainer.react',['fbt','AdInterfacesUiLogger','AdsAccountStoreWrapper_DEPRECATED','AdsAMCreateAudienceServerActions','AdsCustomAudienceType','AudienceManagerCreateLeadGenAudience.react','AudienceManagerUIConstants','AdsEngagementAudienceUILogger','EngagementAudienceUIEvents','React','SearchableEntry'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AudienceManagerUIConstants').ENGAGEMENT_LEAD_GEN_AUDIENCE_DEFAULT_RETENTION_DAYS,l=c('AdsCustomAudienceType').SUBTYPES,m=c('React').Component,n=c('React').PropTypes;i=babelHelpers.inherits(o,m);j=i&&i.prototype;function o(q){j.constructor.call(this,q);p.call(this);var r=q.audience;this.state={eventName:r.eventName||c('EngagementAudienceUIEvents').LEAD_GENERATION_OPENED,formID:r.formID,audienceDescription:r.description,audienceName:r.name,creatingAudience:false,hasAudienceNameError:false,isCreateButtonDisabled:r.formID.length===0,retentionDays:r.retentionDays,selectedEngagementRules:r.rule,viewFailedCreationDialog:false};}o.prototype.componentDidMount=function(){c('AdsEngagementAudienceUILogger').setAppName(c('AdInterfacesUiLogger').getAppName());c('AdsEngagementAudienceUILogger').setAdAccountID(c('AdsAccountStoreWrapper_DEPRECATED').getAccountID());c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').ENTER_LEAD_GEN_DIALOG);};o.prototype.render=function(){return (c('React').createElement(c('AudienceManagerCreateLeadGenAudience.react'),babelHelpers['extends']({},this.state,{actionButtonDescription:this.props.actionButtonDescription,onAudienceAdded:this.props.onAudienceAdded,onBack:this.props.onBack,onCancel:this.props.onCancel,onChangeEventName:this.$AudienceManagerCreateLeadGenAudienceContainer1,onChangeFormEntry:this.$AudienceManagerCreateLeadGenAudienceContainer2,onCreateAudience:this.$AudienceManagerCreateLeadGenAudienceContainer3,onDescriptionChange:this.$AudienceManagerCreateLeadGenAudienceContainer4,onHideFailedCreationDialogContent:this.$AudienceManagerCreateLeadGenAudienceContainer5,onNameChange:this.$AudienceManagerCreateLeadGenAudienceContainer6,onRetentionChange:this.$AudienceManagerCreateLeadGenAudienceContainer7})));};o.defaultProps={actionButtonDescription:h._("Create Audience"),audience:{name:'',description:'',eventName:c('EngagementAudienceUIEvents').LEAD_GENERATION_OPENED,formID:'',retentionDays:k,rule:{}},isUpdateAudience:false};o.propTypes={actionButtonDescription:n.string,audience:n.shape({description:n.string,name:n.string,retentionDays:n.number.isRequired,eventName:n.string.isRequired,formID:n.string.isRequired,rule:n.object}),onAudienceAdded:n.func,onBack:n.func,onCancel:n.func.isRequired,onCreateAudience:n.func.isRequired};var p=function q(){this.$AudienceManagerCreateLeadGenAudienceContainer8=function(r){var s=r||this.state.audienceName||'';return s.trim().length===0;}.bind(this);this.$AudienceManagerCreateLeadGenAudienceContainer9=function(r){return r.trim().length===0;};this.$AudienceManagerCreateLeadGenAudienceContainer3=function(){if(this.props.isUpdateAudience){this.$AudienceManagerCreateLeadGenAudienceContainer10();}else this.$AudienceManagerCreateLeadGenAudienceContainer11();}.bind(this);this.$AudienceManagerCreateLeadGenAudienceContainer10=function(){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').CLICK_UPDATE_LEAD_GEN_AUDIENCE);if(this.$AudienceManagerCreateLeadGenAudienceContainer8()){this.setState({hasAudienceNameError:true});return;}if(this.$AudienceManagerCreateLeadGenAudienceContainer9(this.state.formID)){this.setState({isCreateButtonDisabled:true});return;}var r=this.state.formID,s=[{object_id:r,event_name:this.state.eventName}],t={name:this.state.audienceName.trim(),description:this.state.audienceDescription,retention_days:this.state.retentionDays,rule:s},u=function(w){if(w&&w!=null){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').UPDATE_LEAD_GEN_AUDIENCE_SUCCESSFUL);this.setState({creatingAudience:false});}else{c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').UPDATE_LEAD_GEN_AUDIENCE_FAILED);this.setState({creatingAudience:false,viewFailedCreationDialog:true});}}.bind(this),v=function(){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').UPDATE_LEAD_GEN_AUDIENCE_FAILED);this.setState({creatingAudience:false,viewFailedCreationDialog:true});}.bind(this);this.props.onCreateAudience(t,u,v);this.props.onCancel();}.bind(this);this.$AudienceManagerCreateLeadGenAudienceContainer11=function(){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').CLICK_CREATE_LEAD_GEN_AUDIENCE);if(this.$AudienceManagerCreateLeadGenAudienceContainer8()){this.setState({hasAudienceNameError:true});return;}if(this.$AudienceManagerCreateLeadGenAudienceContainer9(this.state.formID)){this.setState({isCreateButtonDisabled:true});return;}var r=this.state.formID,s=[{object_id:r,event_name:this.state.eventName}],t={name:this.state.audienceName.trim(),description:this.state.audienceDescription,subtype:l.ENGAGEMENT,prefill:true,retention_days:this.state.retentionDays,rule:s},u=function(w){if(w&&w!=null){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').CREATE_LEAD_GEN_AUDIENCE_SUCCESSFUL);if(this.props.onAudienceAdded)this.props.onAudienceAdded(w);this.setState({creatingAudience:false});var x=babelHelpers['extends']({},t,{id:w});c('AdsAMCreateAudienceServerActions').createdEngagementAudience(String(w),x);}else{c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').CREATE_LEAD_GEN_AUDIENCE_FAILED);this.setState({creatingAudience:false,viewFailedCreationDialog:true});}}.bind(this),v=function(){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').CREATE_LEAD_GEN_AUDIENCE_FAILED);this.setState({creatingAudience:false,viewFailedCreationDialog:true});}.bind(this);this.props.onCreateAudience(t,u,v);this.setState({creatingAudience:true});}.bind(this);this.$AudienceManagerCreateLeadGenAudienceContainer1=function(event){this.setState({eventName:event.value});}.bind(this);this.$AudienceManagerCreateLeadGenAudienceContainer2=function(r){var s=r?r.getUniqueID():'';this.setState({formID:s,isCreateButtonDisabled:this.$AudienceManagerCreateLeadGenAudienceContainer9(s)});}.bind(this);this.$AudienceManagerCreateLeadGenAudienceContainer6=function(r){var s=r.target.value;this.setState({audienceName:s,hasAudienceNameError:this.$AudienceManagerCreateLeadGenAudienceContainer8(s)});}.bind(this);this.$AudienceManagerCreateLeadGenAudienceContainer4=function(r){this.setState({audienceDescription:r.target.value});}.bind(this);this.$AudienceManagerCreateLeadGenAudienceContainer7=function(r){this.setState({retentionDays:r});}.bind(this);this.$AudienceManagerCreateLeadGenAudienceContainer5=function(){this.setState({viewFailedCreationDialog:false});}.bind(this);};f.exports=o;}),null);
__d('AdsCommonAdvertisablePagesVideosActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h={ADVERTISABLE_PAGES_LOADING_ERROR:'',PAGE_INFO_LOADING_ERROR:'',PAGE_VIDEO_GROUPS_LOADING_ERROR:'',CAMPAIGN_VIDEO_GROUPS_LOADING_ERROR:'',PAGE_VIDEOS_LOADING_ERROR:'',RETRY_UPDATE_PAGE_VIDEOS:'',RETRY_UPDATE_PAGE_VIDEO_GROUPS:'',LOAD_CAMPAIGN_VIDEO_GROUPS:'',UPDATE_ADVERTISABLE_PAGES:'',UPDATE_PAGE_INFO:'',UPDATE_PAGE_VIDEO_GROUPS:'',UPDATE_CAMPAIGN_VIDEO_GROUPS:'',UPDATE_PAGE_VIDEOS:'',UPDATE_VIDEO_GROUP_INFOS:'',UPDATE_VIDEO_INFOS:'',VIDEO_GROUP_INFOS_LOADING_ERROR:'',VIDEO_INFOS_LOADING_ERROR:'',GO_TO_NEXT_PAGE:'',GO_TO_PREVIOUS_PAGE:'',SEARCH:'',SELECT_PAGE:''},i=c('keyMirrorRecursive')(h,'PAGES_VIDEOS_STORE');f.exports=i;}),null);
__d('AdsCommonAdvertisablePagesVideosStoreDataTypes',['immutable','LoadObject'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k,l,m,n,o,p,q;h=babelHelpers.inherits(r,c('immutable').Record({id:undefined,name:undefined,picture:{data:{url:undefined}},business:undefined,global_brand_page_name:undefined,perms:undefined,userpermissions:undefined}));i=h&&h.prototype;function r(){h.apply(this,arguments);}j=babelHelpers.inherits(s,c('immutable').Record({id:undefined,name:undefined,picture:{data:{url:undefined}},business:undefined,global_brand_page_name:undefined,videosLoadObject:c('LoadObject').empty(),videoGroupsLoadObjects:c('immutable').Map(),nextPageCursor:'',userpermissions:undefined}));k=j&&j.prototype;s.prototype.getData=function(){return c('immutable').Map({id:this.id,name:this.name,picture:this.picture,business:this.business,global_brand_page_name:this.global_brand_page_name,videosLoadObject:this.videosLoadObject,videoGroupsLoadObjects:this.videoGroupsLoadObjects,nextPageCursor:this.nextPageCursor,userpermissions:this.userpermissions});};function s(){j.apply(this,arguments);}l=babelHelpers.inherits(t,c('immutable').Record({id:undefined,videoGroups:c('immutable').Map()}));m=l&&l.prototype;t.prototype.getData=function(){return c('immutable').Map({id:this.id,videoGroups:this.videoGroups});};function t(){l.apply(this,arguments);}n=babelHelpers.inherits(u,c('immutable').Record({createdTime:undefined,description:undefined,duration:undefined,id:undefined,pageID:undefined,preferredThumbnail:{uri:undefined},updatedTime:undefined,views:undefined}));o=n&&n.prototype;u.prototype.getData=function(){return c('immutable').Map({createdTime:this.createdTime,description:this.description,duration:this.duration,id:this.id,pageID:this.pageID,preferredThumbnail:{uri:this.preferredThumbnail.uri},updatedTime:this.updatedTime,views:this.views});};function u(){n.apply(this,arguments);}p=babelHelpers.inherits(v,c('immutable').Record({createdTime:undefined,lastUsedTime:undefined,description:undefined,duration:undefined,id:undefined,pageID:undefined,preferredThumbnail:{uri:undefined},updatedTime:undefined,views:undefined,videos:undefined}));q=p&&p.prototype;v.prototype.getData=function(){return c('immutable').Map({createdTime:this.createdTime,lastUsedTime:this.lastUsedTime,description:this.description,duration:this.duration,id:this.id,pageID:this.pageID,preferredThumbnail:{uri:this.preferredThumbnail.uri},updatedTime:this.updatedTime,views:this.views,videos:this.videos});};function v(){p.apply(this,arguments);}f.exports={AccountData:r,PageInfo:s,CampaignInfo:t,VideoData:u,VideoGroupData:v};}),null);
__d('AdsCommonAdvertisablePagesVideosActions',['AdsCommonAdvertisablePagesVideosStoreDataTypes','AdsCommonAdvertisablePagesVideosActionTypes','AdsDispatcher','EngagementAudienceUIEvents'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').PageInfo,i=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').VideoData,j=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').VideoGroupData,k={updateAdvertisablePages:function l(m){c('AdsDispatcher').handleUpdateFromServerResponse({advertisablePages:m,type:c('AdsCommonAdvertisablePagesVideosActionTypes').UPDATE_ADVERTISABLE_PAGES});c('AdsDispatcher').handleUpdateFromServerResponse({advertisablePages:m,type:c('EngagementAudienceUIEvents').PAGE_ENGAGEMENT_LOADED});},updatePageInfo:function l(m,n){c('AdsDispatcher').handleUpdateFromServerResponse({pageID:m,pageInfo:n,type:c('AdsCommonAdvertisablePagesVideosActionTypes').UPDATE_PAGE_INFO});},updatePageVideos:function l(m,n){c('AdsDispatcher').handleUpdateFromServerResponse({pageID:m,videos:n,type:c('AdsCommonAdvertisablePagesVideosActionTypes').UPDATE_PAGE_VIDEOS});},updatePageVideoGroups:function l(m,n,o,p){c('AdsDispatcher').handleUpdateFromServerResponse({pageID:m,videoGroups:n,paginatedID:o,nextPageCursor:p,type:c('AdsCommonAdvertisablePagesVideosActionTypes').UPDATE_PAGE_VIDEO_GROUPS});},updateCampaignVideoGroups:function l(m,n){c('AdsDispatcher').handleUpdateFromServerResponse({campaignID:m,videoGroups:n,type:c('AdsCommonAdvertisablePagesVideosActionTypes').UPDATE_CAMPAIGN_VIDEO_GROUPS});},updateVideoInfos:function l(m){c('AdsDispatcher').handleUpdateFromServerResponse({videoInfos:m,type:c('AdsCommonAdvertisablePagesVideosActionTypes').UPDATE_VIDEO_INFOS});},updateVideoGroupInfos:function l(m,n){c('AdsDispatcher').handleUpdateFromServerResponse({videoGroupInfos:m,requestedVideoIDs:n,type:c('AdsCommonAdvertisablePagesVideosActionTypes').UPDATE_VIDEO_GROUP_INFOS});},pageInfoLoadingError:function l(m,n){c('AdsDispatcher').handleUpdateFromServerResponse({pageID:m,error:n,type:c('AdsCommonAdvertisablePagesVideosActionTypes').PAGE_INFO_LOADING_ERROR});},pagesLoadingError:function l(m){c('AdsDispatcher').handleUpdateFromServerResponse({error:m,type:c('AdsCommonAdvertisablePagesVideosActionTypes').ADVERTISABLE_PAGES_LOADING_ERROR});},videosLoadingError:function l(m,n){c('AdsDispatcher').handleUpdateFromServerResponse({pageID:m,error:n,type:c('AdsCommonAdvertisablePagesVideosActionTypes').PAGE_VIDEOS_LOADING_ERROR});},videoGroupsLoadingError:function l(m,n,o){c('AdsDispatcher').handleUpdateFromServerResponse({pageID:m,error:n,paginatedID:o,type:c('AdsCommonAdvertisablePagesVideosActionTypes').PAGE_VIDEO_GROUPS_LOADING_ERROR});},campaignVideoGroupsLoadingError:function l(m,n){c('AdsDispatcher').handleUpdateFromServerResponse({campaignID:m,error:n,type:c('AdsCommonAdvertisablePagesVideosActionTypes').CAMPAIGN_VIDEO_GROUPS_LOADING_ERROR});},videoInfosLoadingError:function l(m,n){c('AdsDispatcher').handleUpdateFromServerResponse({videoIDs:m,error:n,type:c('AdsCommonAdvertisablePagesVideosActionTypes').VIDEO_INFOS_LOADING_ERROR});},videoGroupInfosLoadingError:function l(m,n){c('AdsDispatcher').handleUpdateFromServerResponse({videoIDs:m,error:n,type:c('AdsCommonAdvertisablePagesVideosActionTypes').VIDEO_GROUP_INFOS_LOADING_ERROR});},retryUpdatePageVideos:function l(m){c('AdsDispatcher').handleUpdateFromViewAction({pageID:m,type:c('AdsCommonAdvertisablePagesVideosActionTypes').RETRY_UPDATE_PAGE_VIDEOS});},retryUpdatePageVideoGroups:function l(m){c('AdsDispatcher').handleUpdateFromViewAction({pageID:m,type:c('AdsCommonAdvertisablePagesVideosActionTypes').RETRY_UPDATE_PAGE_VIDEO_GROUPS});},loadCampaignVideoGroups:function l(m){c('AdsDispatcher').handleUpdateFromViewAction({campaignID:m,type:c('AdsCommonAdvertisablePagesVideosActionTypes').LOAD_CAMPAIGN_VIDEO_GROUPS});},goToNextPage:function l(m){c('AdsDispatcher').handleUpdateFromViewAction({pageID:m,type:c('AdsCommonAdvertisablePagesVideosActionTypes').GO_TO_NEXT_PAGE});},goToPreviousPage:function l(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCommonAdvertisablePagesVideosActionTypes').GO_TO_PREVIOUS_PAGE});},search:function l(m){c('AdsDispatcher').handleUpdateFromViewAction({pageSearchQuery:m,type:c('AdsCommonAdvertisablePagesVideosActionTypes').SEARCH});},selectPage:function l(m){c('AdsDispatcher').handleUpdateFromViewAction({pageID:m,type:c('AdsCommonAdvertisablePagesVideosActionTypes').SELECT_PAGE});}};f.exports=k;}),null);
__d('AdsCommonAdvertisablePagesVideosDataLoaderFields',[],(function a(b,c,d,e,f,g){'use strict';var h=['name','id','perms','picture.type(small)','global_brand_page_name','business'],i=['name','id','picture.type(small)','global_brand_page_name','business'],j='object_id,type',k='id,name,description,picture,from,updated_time,created_time,length,views';f.exports={ACCOUNTS_FIELDS:h,PAGE_FIELDS:i,PROMOTABLE_POST_FIELDS:j,VIDEO_FIELDS:k};}),null);
__d('AdsCommonAdvertisablePagesVideosDataLoader',['Promise','AdsCommonAdvertisablePagesVideosDataLoaderFields','AdsCommonAdvertisablePagesVideosStoreDataTypes','AdsGraphAPI','AdsInterfacesLogger','AdsTargetingConnectionsLoggingEvents','GraphAPIPaging','GraphAPIFieldUtils','Map','cachedGraphAPI','CurrentUser'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsCommonAdvertisablePagesVideosDataLoaderFields').ACCOUNTS_FIELDS,i=c('AdsCommonAdvertisablePagesVideosDataLoaderFields').PAGE_FIELDS,j=c('AdsCommonAdvertisablePagesVideosDataLoaderFields').PROMOTABLE_POST_FIELDS,k=c('AdsCommonAdvertisablePagesVideosDataLoaderFields').VIDEO_FIELDS,l=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').AccountData,m=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').PageInfo,n=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').VideoData,o=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').VideoGroupData,p=100,q=6;function r(da){return !!da.perms&&da.perms.indexOf('CREATE_ADS')>-1;}function s(){return c('cachedGraphAPI')(c('AdsGraphAPI').get(f.id).me().edge('accounts')).get({fields:ca(h),limit:p}).then(c('GraphAPIPaging').allPages()).then(function(da){return da.data.map(function(ea){return new l(ea);});});}function t(){return s().then(function(da){var ea=da.filter(r);return ea.map(function(fa){return new m({id:fa.id,name:fa.name,picture:fa.picture,business:fa.business,global_brand_page_name:fa.global_brand_page_name,userpermissions:fa.userpermissions||[]});});});}function u(da){return c('AdsGraphAPI').get(f.id).object('page',da).edge('videos').get({fields:k}).then(c('GraphAPIPaging').allPages(p)).then(function(ea){c('AdsInterfacesLogger').log({eventName:c('AdsTargetingConnectionsLoggingEvents').VIDEO_LOADING_INFO},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);return ea.data.map(function(fa){return new n({id:fa.id,createdTime:fa.created_time,description:fa.name||fa.description,duration:fa.length,pageID:da,preferredThumbnail:{uri:fa.picture},updatedTime:fa.updated_time,views:fa.views});});});}function v(da){return c('AdsGraphAPI').get(f.id).object('page',da).edge('promotable_posts').get({fields:j,include_inline:'true'}).then(c('GraphAPIPaging').allPages(p)).then(function(ea){c('AdsInterfacesLogger').log({eventName:c('AdsTargetingConnectionsLoggingEvents').VIDEO_LOADING_INFO},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);return ea.data.filter(function(fa){return fa.object_id&&fa.type==='video';}).map(function(fa){return fa.object_id;});}).then(z);}function w(da,ea,fa){return c('AdsGraphAPI').get(f.id).object('page',da).edge('video_groups').get({limit:q,after:ea,retrieved_videos:fa}).then(function(ga){var ha='';if(ga.paging&&ga.paging.next)ha=ga.paging.cursors.after;return {videoGroups:ga.data.map(function(ia){return new o({id:ia.id,createdTime:ia.created_time,lastUsedTime:ia.last_used_time,description:ia.name||ia.description,duration:ia.length,pageID:da,preferredThumbnail:{uri:ia.picture},views:ia.views,videos:ia.videos});}),nextPageCursor:ha};});}function x(da){return c('AdsGraphAPI').get(f.id).object('campaign',da).edge('video_groups').get().then(function(ea){return ea.data.map(function(fa){return new o({id:fa.id,createdTime:fa.created_time,lastUsedTime:fa.last_used_time,description:fa.name||fa.description,duration:fa.length,pageID:fa.page_id,preferredThumbnail:{uri:fa.picture},views:fa.views,videos:fa.videos});});});}function y(da){return c('Promise').all([u(da),v(da)]).then(function(ea){var fa=ea[0],ga=ea[1],ha=new (c('Map'))();fa.forEach(function(ja){return ha.set(ja.id,ja);});ga.forEach(function(ja){return ha.set(ja.id,ja);});var ia=Array.from(ha.values()).sort(function(ja,ka){return new Date(ka.updatedTime)-new Date(ja.updatedTime);});return ia;});}function z(da){var ea=50,fa=[];for(var ga=0;ga<Math.ceil(da.length*1/ea);ga++){var ha=da.slice(ga*ea,Math.min((ga+1)*ea,da.length));fa.push(ha);}return c('Promise').all(fa.map(function(ia){return (c('cachedGraphAPI')(c('AdsGraphAPI').get(f.id).objects('videos',ia)).get({fields:k}).then(function(ja){c('AdsInterfacesLogger').log({eventName:c('AdsTargetingConnectionsLoggingEvents').VIDEO_LOADING_INFO},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);var ka=[];for(var la in ja){var ma=ja[la];ka.push(new n({id:ma.id,createdTime:ma.created_time,updatedTime:ma.updated_time,description:ma.name||ma.description,duration:ma.length,pageID:ma.from.id,preferredThumbnail:{uri:ma.picture},views:ma.views}));}return ka;}));})).then(function(ia){c('AdsInterfacesLogger').log({eventName:c('AdsTargetingConnectionsLoggingEvents').VIDEO_LOADING_INFO},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);return ia.reduce(function(ja,ka){return ja.concat(ka);},[]);});}function aa(da){return c('AdsGraphAPI').get(f.id).me().edge('video_groups').get({videos:da}).then(function(ea){return ea.data.map(function(fa){return new o({id:fa.id,createdTime:fa.created_time,lastUsedTime:fa.last_used_time,description:fa.name||fa.description,duration:fa.length,pageID:fa.page_id,preferredThumbnail:{uri:fa.picture},views:fa.views,videos:fa.videos});});});}function ba(da){return c('cachedGraphAPI')(c('AdsGraphAPI').get(f.id).object('page',da)).get({fields:ca(i)}).then(function(ea){return new m({id:ea.id,name:ea.name,picture:ea.picture,business:ea.business,global_brand_page_name:ea.global_brand_page_name,userpermissions:ea.userpermissions||[]});});}function ca(da){return da.concat(c('GraphAPIFieldUtils').getFieldWithSubfields(c('GraphAPIFieldUtils').getFieldWithSubfields('userpermissions',{user:c('CurrentUser').getID()}),['business','role']));}f.exports={promiseAdvertisablePages:t,promisePageInfo:ba,promisePageVideoGroups:w,promiseCampaignVideoGroups:x,promisePageVideos:y,promiseVideoGroupInfosFromVideos:aa,promiseVideoInfos:z};}),null);
__d('AdsCommonAdvertisablePagesVideosDataDispatcher',['AdsCommonAdvertisablePagesVideosActions','AdsCommonAdvertisablePagesVideosDataLoader','AdsInterfacesLogger','AdsTargetingConnectionsLoggingEvents','immutable'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').Set;function i(){c('AdsCommonAdvertisablePagesVideosDataLoader').promiseAdvertisablePages().done(function(q){c('AdsCommonAdvertisablePagesVideosActions').updateAdvertisablePages(q);},function(q){c('AdsCommonAdvertisablePagesVideosActions').pagesLoadingError(q);});}function j(q){c('AdsCommonAdvertisablePagesVideosDataLoader').promisePageInfo(q).done(function(r){return (c('AdsCommonAdvertisablePagesVideosActions').updatePageInfo(q,r));},function(r){return (c('AdsCommonAdvertisablePagesVideosActions').pageInfoLoadingError(q,r));});}function k(q){c('AdsCommonAdvertisablePagesVideosDataLoader').promisePageVideos(q).done(function(r){c('AdsCommonAdvertisablePagesVideosActions').updatePageVideos(q,r);},function(r){c('AdsInterfacesLogger').log({eventName:c('AdsTargetingConnectionsLoggingEvents').VIDEOS_FETCHING_ERROR},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsCommonAdvertisablePagesVideosActions').videosLoadingError(q,r);});}function l(q,r,s,t){c('AdsCommonAdvertisablePagesVideosDataLoader').promisePageVideoGroups(q,r,s).done(function(u){var v=u.videoGroups,w=u.nextPageCursor;c('AdsCommonAdvertisablePagesVideosActions').updatePageVideoGroups(q,v,t,w);},function(u){c('AdsCommonAdvertisablePagesVideosActions').videoGroupsLoadingError(q,u,t);});}function m(q){c('AdsCommonAdvertisablePagesVideosDataLoader').promiseCampaignVideoGroups(q).done(function(r){c('AdsCommonAdvertisablePagesVideosActions').updateCampaignVideoGroups(q,r);},function(r){c('AdsCommonAdvertisablePagesVideosActions').campaignVideoGroupsLoadingError(q,r);});}function n(q){c('AdsCommonAdvertisablePagesVideosDataLoader').promiseVideoInfos(q).done(function(r){c('AdsCommonAdvertisablePagesVideosActions').updateVideoInfos(r);if(r.length===q.length)return;var s=new h(r.map(function(u){return u.id;})),t=[];q.forEach(function(u){if(!s.contains(u))t.push(u);});if(t.length)c('AdsCommonAdvertisablePagesVideosActions').videoInfosLoadingError(t,new Error());},function(r){if(q.length>1){q.forEach(function(s){n([s]);});return;}c('AdsCommonAdvertisablePagesVideosActions').videoInfosLoadingError(q,r);});}function o(q){c('AdsCommonAdvertisablePagesVideosDataLoader').promiseVideoGroupInfosFromVideos(q).done(function(r){return c('AdsCommonAdvertisablePagesVideosActions').updateVideoGroupInfos(r,q);},function(r){if(q.length>1){q.forEach(function(s){o([s]);});return;}c('AdsCommonAdvertisablePagesVideosActions').videoGroupInfosLoadingError(q,r);});}var p={loadAdvertisablePages:i,loadPageInfo:j,loadPageVideoGroups:l,loadCampaignVideoGroups:m,loadPageVideos:k,loadVideoGroupInfosFromVideoIDs:o,loadVideoInfos:n};f.exports=p;}),null);
__d('AdsTargetingConnectionsMenuOptions',['AdsTargetingConnectionsLabels'],(function a(b,c,d,e,f,g){'use strict';var h='connectedToApp',i='connectedToEvent',j='connectedToPage',k='excludeConnectedToApp',l='excludeConnectedToEvent',m='excludeConnectedToPage',n='friendsConnectedToApp',o='friendsConnectedToEvent',p='friendsConnectedToPage',q='viewedThreeSeconds',r='viewedNintyFivePercent',s='excludeViewedThreeSeconds',t='excludeViewedNintyFivePercent',u='impressionedAd',v='dwelledOnAd',w='clickedOnAd',x='excludeImpressionedAd',y='excludeDwelledOnAd',z='excludeClickedOnAd',aa='menu_separator',ba='pageEventViewers',ca='pageEventAttendees',da={ADVANCED:'advanced',ALL:'all',APPS:'apps',EVENTS:'events',EVENTS_ENGAGEMENT:'events_engagement',NONE:'none',PAGES:'pages',VIDEOS:'videos',ADS:'ads'},ea={name:c('AdsTargetingConnectionsLabels').advancedCombinations,toggleName:'advancedCombinations'},fa={name:c('AdsTargetingConnectionsLabels').apps,toggleName:'apps',children:[{name:c('AdsTargetingConnectionsLabels').connectedToApp,toggleName:h},{name:c('AdsTargetingConnectionsLabels').friendsConnectedToApp,toggleName:n},{name:c('AdsTargetingConnectionsLabels').excludeConnectedToApp,toggleName:k}]},ga={name:c('AdsTargetingConnectionsLabels').events,toggleName:'events',children:[{name:c('AdsTargetingConnectionsLabels').connectedToEvent,toggleName:i},{name:c('AdsTargetingConnectionsLabels').friendsConnectedToEvent,toggleName:o},{name:c('AdsTargetingConnectionsLabels').excludeConnectedToEvent,toggleName:l}]},ha={name:c('AdsTargetingConnectionsLabels').events,toggleName:'events_with_engagement',children:[{name:c('AdsTargetingConnectionsLabels').connectedToEvent,toggleName:i},{name:c('AdsTargetingConnectionsLabels').friendsConnectedToEvent,toggleName:o},{name:c('AdsTargetingConnectionsLabels').excludeConnectedToEvent,toggleName:l},{name:aa},{name:c('AdsTargetingConnectionsLabels').pageEventViewers,toggleName:ba},{name:c('AdsTargetingConnectionsLabels').pageEventAttendees,toggleName:ca}]},ia={name:c('AdsTargetingConnectionsLabels').pages,toggleName:'events_engagement',children:[{name:c('AdsTargetingConnectionsLabels').pageEventViewers,toggleName:ba},{name:c('AdsTargetingConnectionsLabels').pageEventAttendees,toggleName:ca}]},ja={name:c('AdsTargetingConnectionsLabels').pages,toggleName:'pages',children:[{name:c('AdsTargetingConnectionsLabels').connectedToPage,toggleName:j},{name:c('AdsTargetingConnectionsLabels').friendsConnectedToPage,toggleName:p},{name:c('AdsTargetingConnectionsLabels').excludeConnectedToPage,toggleName:m}]},ka={name:c('AdsTargetingConnectionsLabels').videos,toggleName:'videos',children:[{name:c('AdsTargetingConnectionsLabels').viewedThreeSeconds,toggleName:q},{name:c('AdsTargetingConnectionsLabels').viewedNintyFivePercent,toggleName:r},{name:aa},{name:c('AdsTargetingConnectionsLabels').excludeViewedThreeSeconds,toggleName:s},{name:c('AdsTargetingConnectionsLabels').excludeViewedNintyFivePercent,toggleName:t}]},la={name:c('AdsTargetingConnectionsLabels').ads,toggleName:'ads',children:[{name:c('AdsTargetingConnectionsLabels').impressionedAd,toggleName:u},{name:c('AdsTargetingConnectionsLabels').dwelledOnAd,toggleName:v},{name:c('AdsTargetingConnectionsLabels').clickedOnAd,toggleName:w},{name:aa},{name:c('AdsTargetingConnectionsLabels').excludeImpressionedAd,toggleName:x},{name:c('AdsTargetingConnectionsLabels').excludeDwelledOnAd,toggleName:y},{name:c('AdsTargetingConnectionsLabels').excludeClickedOnAd,toggleName:z}]},ma=[ja,fa,ia,ga,ka,la,{name:aa},ea],na={VIDEO_VIEW_ACTION:'video_view',VIDEO_COMPLETED_ACTION:'video_completed',FBEVENT_VIEW_ACTION:'fbevent_view',FBEVENT_RESPONSE_ACTION:'fbevent_response',AD_IMPRESSION_ACTION:'ad_impression',AD_DWELL_ACTION:'ad_dwell_time',AD_CLICK_ACTION:'ad_click'};f.exports={connectionStatuses:da,menuOptions:{advancedOptions:ea,appOptions:fa,eventOptions:ga,eventWithEngagementOptions:ha,eventEngagementOptions:ia,pageOptions:ja,videoOptions:ka,adsOptions:la,allOptions:ma},optionName:{connectedToApp:h,connectedToEvent:i,connectedToPage:j,excludeConnectedToApp:k,excludeConnectedToEvent:l,excludeConnectedToPage:m,friendsConnectedToApp:n,friendsConnectedToEvent:o,friendsConnectedToPage:p,menuSeparator:aa,viewedThreeSeconds:q,viewedNintyFivePercent:r,excludeViewedThreeSeconds:s,excludeViewedNintyFivePercent:t,impressionedAd:u,dwelledOnAd:v,clickedOnAd:w,excludeImpressionedAd:x,excludeDwelledOnAd:y,excludeClickedOnAd:z,pageEventViewers:ba,pageEventAttendees:ca},connectionsType:{excludedConnection:'excludedConnections',includedConnection:'includedConnections',friendsOfConnection:'friendsOfConnections'},engagementActions:na};}),null);
__d('AdsEngagementSpecsUIUtils',['AdsTargetingConnectionsMenuOptions'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsTargetingConnectionsMenuOptions').connectionStatuses,i=c('AdsTargetingConnectionsMenuOptions').engagementActions,j=c('AdsTargetingConnectionsMenuOptions').optionName,k={ENGAGEMENT_SPECS:'ENGAGEMENT_SPECS',EXCLUDED_ENGAGEMENT_SPECS:'EXCLUDED_ENGAGEMENT_SPECS'};function l(z,aa){return z.map(function(ba){if(ba&&ba['action.type']&&ba['action.type']===aa)return ba.page_id;});}function m(z,aa){switch(z){case k.ENGAGEMENT_SPECS:switch(aa){case i.VIDEO_VIEW_ACTION:return j.viewedThreeSeconds;case i.VIDEO_COMPLETED_ACTION:return j.viewedNintyFivePercent;case i.AD_IMPRESSION_ACTION:return j.impressionedAd;case i.AD_DWELL_ACTION:return j.dwelledOnAd;case i.AD_CLICK_ACTION:return j.clickedOnAd;}break;case k.EXCLUDED_ENGAGEMENT_SPECS:switch(aa){case i.VIDEO_VIEW_ACTION:return j.excludeViewedThreeSeconds;case i.VIDEO_COMPLETED_ACTION:return j.excludeViewedNintyFivePercent;case i.AD_IMPRESSION_ACTION:return j.excludeImpressionedAd;case i.AD_DWELL_ACTION:return j.excludeDwelledOnAd;case i.AD_CLICK_ACTION:return j.excludeClickedOnAd;}break;}return null;}function n(z,aa){var ba=[],ca=[];if(!z.length)return {engagementSpecs:ba,excludedEngagementSpecs:ca};switch(aa){case j.pageEventViewers:ba=z.map(function(da){return {'action.type':i.FBEVENT_VIEW_ACTION,page_id:da.id};});break;case j.pageEventAttendees:ba=z.map(function(da){return {'action.type':i.FBEVENT_RESPONSE_ACTION,page_id:da.id};});break;case j.viewedThreeSeconds:ba=o(z);break;case j.viewedNintyFivePercent:ba=p(z);break;case j.impressionedAd:ba=q(z);break;case j.dwelledOnAd:ba=r(z);break;case j.clickedOnAd:ba=s(z);break;case j.excludeViewedThreeSeconds:ca=o(z);break;case j.excludeViewedNintyFivePercent:ca=p(z);break;case j.excludeImpressionedAd:ca=q(z);break;case j.excludeDwelledOnAd:ca=r(z);break;case j.excludeClickedOnAd:ca=s(z);break;}return {engagementSpecs:ba,excludedEngagementSpecs:ca};}function o(z){return z.map(function(aa){return {'action.type':i.VIDEO_VIEW_ACTION,post:aa.id};});}function p(z){return z.map(function(aa){return {'action.type':i.VIDEO_COMPLETED_ACTION,post:aa.id};});}function q(z){return z.map(function(aa){return babelHelpers['extends']({},aa,{'action.type':i.AD_IMPRESSION_ACTION,impression_count:1,retention_seconds:2592000});});}function r(z){return z.map(function(aa){return babelHelpers['extends']({},aa,{'action.type':i.AD_DWELL_ACTION,dwell_time:3,retention_seconds:2592000});});}function s(z){return z.map(function(aa){return babelHelpers['extends']({},aa,{'action.type':i.AD_CLICK_ACTION,retention_seconds:2592000});});}function t(z,aa){if(!z||z.length<=0||!aa)return -1;return z.findIndex(function(ba){return (ba['action.type']===aa['action.type']&&ba.post===aa.post&&ba.page_id===aa.page_id&&ba.campaign_group_id===aa.campaign_group_id&&ba.campaign_id===aa.campaign_id&&ba.ad_group_id===aa.ad_group_id&&ba.impression_count===aa.impression_count&&ba.retention_seconds===aa.retention_seconds);});}function u(z){if(!z)return '';switch(z['action.type']){case i.FBEVENT_VIEW_ACTION:return j.pageEventViewers;case i.FBEVENT_RESPONSE_ACTION:return j.pageEventAttendees;}return '';}function v(z,aa){var ba=t(z,aa);if(ba!==-1)z.splice(ba,1);}function w(z){switch(z){case j.viewedThreeSeconds:case j.viewedNintyFivePercent:case j.excludeViewedThreeSeconds:case j.excludeViewedNintyFivePercent:return h.VIDEOS;case j.impressionedAd:case j.dwelledOnAd:case j.clickedOnAd:case j.excludeImpressionedAd:case j.excludeDwelledOnAd:case j.excludeClickedOnAd:return h.ADS;}return null;}function x(z){switch(z){case j.viewedThreeSeconds:case j.viewedNintyFivePercent:case j.impressionedAd:case j.dwelledOnAd:case j.clickedOnAd:return k.ENGAGEMENT_SPECS;case j.excludeViewedThreeSeconds:case j.excludeViewedNintyFivePercent:case j.excludeImpressionedAd:case j.excludeDwelledOnAd:case j.excludeClickedOnAd:return k.EXCLUDED_ENGAGEMENT_SPECS;default:return null;}}function y(z){var aa=Object.keys(z),ba=null;aa.findIndex(function(ca,da){ba=ca;return (z[ba]&&z[ba].menuItems&&z[ba].menuItems.length>0);});return ba;}f.exports={adsEngagementSpecsTypesMap:k,engagementDetailsToEngagementSpecs:n,getCurrentEngagementKey:y,getEngagementType:u,getNewEngagementType:x,getNewSpecIndex:t,getPageIDsOfActionTypeFromEngagementSpecs:l,getSelectedMode:w,getTargetingLabel:m,spliceAnEntry:v};}),null);
__d('AdsCommonAdvertisablePagesVideosStore',['invariant','AdsCommonAdvertisablePagesVideosStoreDataTypes','AdsInterfacesLogger','AdsDispatcher','AdsLoadState','AdsCommonAdvertisablePagesVideosActionTypes','AdsCommonAdvertisablePagesVideosDataDispatcher','AdsTargetingConnectionsLabels','AdsTargetingConnectionsLoggingEvents','AdsTargetingConnectionsMenuOptions','AdsEngagementSpecsUIUtils','EngagementAudienceEvents','FluxStore','immutable','ImmutableObject','LoadObject','Set','adsBaseStoreMixin'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').PageInfo,l=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').VideoData,m=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').VideoGroupData,n=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').CampaignInfo,o=c('AdsTargetingConnectionsMenuOptions').engagementActions,p=6,q=c('LoadObject').empty(),r=c('immutable').Map(),s=c('immutable').Map(),t=c('immutable').Map(),u=c('immutable').Map(),v=c('immutable').Map(),w='',x=null,y=null,z=1,aa=0,ba=0,ca=0;i=babelHelpers.inherits(da,c('FluxStore'));j=i&&i.prototype;function da(){j.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);}da.prototype.getStoreName=function(){return 'AdsCommonAdvertisablePagesVideosStore';};da.prototype.__onDispatch=function(fa){var ga=fa.action;switch(ga.actionType){case c('AdsCommonAdvertisablePagesVideosActionTypes').UPDATE_ADVERTISABLE_PAGES:aa=Date.now()-aa;c('AdsInterfacesLogger').log({eventName:c('AdsTargetingConnectionsLoggingEvents').PAGES_LOAD_TIME},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.$AdsCommonAdvertisablePagesVideosStoreClass1(ga.advertisablePages);this.__emitChange();break;case c('AdsCommonAdvertisablePagesVideosActionTypes').UPDATE_PAGE_INFO:this.$AdsCommonAdvertisablePagesVideosStoreClass2([ga.pageInfo]);this.__emitChange();break;case c('AdsCommonAdvertisablePagesVideosActionTypes').RETRY_UPDATE_PAGE_VIDEOS:this.getPageVideos(ga.pageID,true);this.__emitChange();break;case c('AdsCommonAdvertisablePagesVideosActionTypes').RETRY_UPDATE_PAGE_VIDEO_GROUPS:this.getPageVideoGroups(ga.pageID,{clearCache:true});this.__emitChange();break;case c('AdsCommonAdvertisablePagesVideosActionTypes').LOAD_CAMPAIGN_VIDEO_GROUPS:this.loadCampaignVideoGroups(ga.campaignID);this.__emitChange();break;case c('AdsCommonAdvertisablePagesVideosActionTypes').UPDATE_PAGE_VIDEOS:ca=Date.now()-ca;c('AdsInterfacesLogger').log({eventName:c('AdsTargetingConnectionsLoggingEvents').VIDEOS_LOAD_TIME},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.$AdsCommonAdvertisablePagesVideosStoreClass3(ga.pageID,ga.videos);this.__emitChange();break;case c('AdsCommonAdvertisablePagesVideosActionTypes').UPDATE_PAGE_VIDEO_GROUPS:this.$AdsCommonAdvertisablePagesVideosStoreClass4(ga.pageID,ga.videoGroups,ga.paginatedID,ga.nextPageCursor);this.$AdsCommonAdvertisablePagesVideosStoreClass5(ga.videoGroups);var ha=this.$AdsCommonAdvertisablePagesVideosStoreClass6(ga.pageID);if(ha.videoGroupsLoadObjects.size===z&&ga.nextPageCursor!=='')this.$AdsCommonAdvertisablePagesVideosStoreClass7(ha,ga.paginatedID+1);this.__emitChange();break;case c('AdsCommonAdvertisablePagesVideosActionTypes').UPDATE_CAMPAIGN_VIDEO_GROUPS:this.$AdsCommonAdvertisablePagesVideosStoreClass8(ga.campaignID,c('immutable').OrderedSet(ga.videoGroups));this.$AdsCommonAdvertisablePagesVideosStoreClass5(ga.videoGroups);this.__emitChange();break;case c('AdsCommonAdvertisablePagesVideosActionTypes').UPDATE_VIDEO_INFOS:ba=Date.now()-ba;var ia=ga.videoInfos.map(function(ka){return ka.id;});c('AdsInterfacesLogger').log({eventName:c('AdsTargetingConnectionsLoggingEvents').VIDEO_INFOS_LOAD_TIME},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.$AdsCommonAdvertisablePagesVideosStoreClass9(ga.videoInfos);this.__emitChange();break;case c('AdsCommonAdvertisablePagesVideosActionTypes').UPDATE_VIDEO_GROUP_INFOS:var ja=this.$AdsCommonAdvertisablePagesVideosStoreClass10(ga.videoGroupInfos,c('immutable').Set(ga.requestedVideoIDs));this.$AdsCommonAdvertisablePagesVideosStoreClass5(ja);this.__emitChange();break;case c('AdsCommonAdvertisablePagesVideosActionTypes').ADVERTISABLE_PAGES_LOADING_ERROR:q=q.setError(ga.error);this.__emitChange();break;case c('AdsCommonAdvertisablePagesVideosActionTypes').GO_TO_NEXT_PAGE:this.$AdsCommonAdvertisablePagesVideosStoreClass11(ga.pageID);this.__emitChange();break;case c('AdsCommonAdvertisablePagesVideosActionTypes').GO_TO_PREVIOUS_PAGE:this.$AdsCommonAdvertisablePagesVideosStoreClass12();this.__emitChange();break;case c('AdsCommonAdvertisablePagesVideosActionTypes').SEARCH:this.$AdsCommonAdvertisablePagesVideosStoreClass13(ga.pageSearchQuery);this.__emitChange();break;case c('AdsCommonAdvertisablePagesVideosActionTypes').SELECT_PAGE:this.$AdsCommonAdvertisablePagesVideosStoreClass14(ga.pageID);this.__emitChange();break;case c('AdsCommonAdvertisablePagesVideosActionTypes').PAGE_INFO_LOADING_ERROR:this.$AdsCommonAdvertisablePagesVideosStoreClass15(ga.pageID,ga.error);this.__emitChange();break;case c('AdsCommonAdvertisablePagesVideosActionTypes').PAGE_VIDEOS_LOADING_ERROR:ca=Date.now()-ca;c('AdsInterfacesLogger').log({eventName:c('AdsTargetingConnectionsLoggingEvents').VIDEOS_LOAD_TIME},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.$AdsCommonAdvertisablePagesVideosStoreClass16(ga.pageID,ga.error);this.__emitChange();break;case c('AdsCommonAdvertisablePagesVideosActionTypes').PAGE_VIDEO_GROUPS_LOADING_ERROR:this.$AdsCommonAdvertisablePagesVideosStoreClass17(ga.pageID,ga.error,ga.paginatedID);this.__emitChange();break;case c('AdsCommonAdvertisablePagesVideosActionTypes').CAMPAIGN_VIDEO_GROUPS_LOADING_ERROR:this.$AdsCommonAdvertisablePagesVideosStoreClass18(ga.campaignID,ga.error);this.__emitChange();break;case c('AdsCommonAdvertisablePagesVideosActionTypes').VIDEO_INFOS_LOADING_ERROR:this.$AdsCommonAdvertisablePagesVideosStoreClass19(ga.videoIDs,ga.error);this.__emitChange();break;case c('AdsCommonAdvertisablePagesVideosActionTypes').VIDEO_GROUP_INFOS_LOADING_ERROR:this.$AdsCommonAdvertisablePagesVideosStoreClass20(ga.videoIDs,ga.error);this.__emitChange();break;}};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass1=function(fa){var ga=q.getValue()||c('immutable').Map();ga=ga.withMutations(function(ha){fa.forEach(function(ia){if(ha.has(ia.id))return;ha.set(ia.id,ia);});});this.$AdsCommonAdvertisablePagesVideosStoreClass2(fa);q=c('LoadObject').empty().setValue(ga);};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass2=function(fa){r=r.withMutations(function(ga){fa.forEach(function(ha){if(ga.has(ha.id)&&ga.get(ha.id).hasValue())return;ga.set(ha.id,c('LoadObject').empty().setValue(ha));});});};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass15=function(fa,ga){r=r.set(fa,c('LoadObject').empty().setError(ga));};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass3=function(fa,ga){this.$AdsCommonAdvertisablePagesVideosStoreClass21(fa,c('LoadObject').empty().setValue(c('immutable').Set(ga)));this.$AdsCommonAdvertisablePagesVideosStoreClass9(ga);};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass4=function(fa,ga,ha,ia){this.$AdsCommonAdvertisablePagesVideosStoreClass22(fa,c('LoadObject').empty().setValue(c('immutable').Set(ga)),ha,ia);};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass9=function(fa){t=t.withMutations(function(ga){fa.forEach(function(ha){ga.set(ha.id,c('LoadObject').empty().setValue(ha));});});};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass10=function(fa,ga){var ha=[];fa.forEach(function(ia){if(ia.videos){ha.push(ia);ga=ga.subtract(ia.videos);}});if(ga.size>0)this.$AdsCommonAdvertisablePagesVideosStoreClass20(ga.toArray(),new Error('Video not available for retargeting.'));return ha;};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass5=function(fa){u=u.withMutations(function(ga){fa.forEach(function(ha){ga.set(ha.id,c('LoadObject').empty().setValue(ha));});});v=v.withMutations(function(ga){fa.forEach(function(ha){ha.videos.forEach(function(ia){ga.set(ia,c('LoadObject').empty().setValue(ha.id));});});});};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass19=function(fa,ga){t=t.withMutations(function(ha){fa.forEach(function(ia){ha.set(ia,c('LoadObject').empty().setError(ga));});});};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass20=function(fa,ga){v=v.withMutations(function(ha){fa.forEach(function(ia){ha.set(ia,c('LoadObject').empty().setError(ga));});});};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass16=function(fa,ga){this.$AdsCommonAdvertisablePagesVideosStoreClass21(fa,c('LoadObject').empty().setError(ga));};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass17=function(fa,ga,ha){this.$AdsCommonAdvertisablePagesVideosStoreClass22(fa,c('LoadObject').empty().setError(ga),ha,'');};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass18=function(fa,ga){s=s.set(fa,c('LoadObject').empty().setError(ga));};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass21=function(fa,ga){var ha=q.getValueEnforcing(),ia=ha.get(fa);!!ia||h(0);var ja=new k(ia.getData().set('videosLoadObject',ga));ha=ha.set(fa,ja);q=q.setValue(ha);};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass22=function(fa,ga,ha,ia){var ja=q.getValueEnforcing(),ka=this.$AdsCommonAdvertisablePagesVideosStoreClass6(fa).getData(),la=new k(ka.set('videoGroupsLoadObjects',ka.get('videoGroupsLoadObjects').set(ha,ga)).set('nextPageCursor',ia));ja=ja.set(fa,la);q=q.setValue(ja);};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass8=function(fa,ga){var ha=c('immutable').Map();while(!ga.isEmpty()){ha=ha.set(ha.count()+1,ga.take(p));ga=ga.slice(p);}var ia=new n({id:fa,videoGroups:ha});s=s.set(fa,c('LoadObject').empty().setValue(ia));};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass12=function(){z--;};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass11=function(fa){if(fa||x)z++;if(fa){var ga=this.$AdsCommonAdvertisablePagesVideosStoreClass6(fa);if(ga.videoGroupsLoadObjects.size===z&&ga.nextPageCursor!=='')this.$AdsCommonAdvertisablePagesVideosStoreClass7(ga,z+1);}};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass13=function(fa){w=fa;};da.prototype.getPageSearchQuery=function(){return w;};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass14=function(fa){y=fa;};da.prototype.getSelectedPageID=function(){return y;};da.prototype.hasNextPage=function(fa){if(fa){return z<this.$AdsCommonAdvertisablePagesVideosStoreClass6(fa).videoGroupsLoadObjects.size;}else if(x&&s.has(x)&&s.get(x).hasValue()){return z<s.get(x).getValueEnforcing().videoGroups.count();}else return false;};da.prototype.getSelectedSourceID=function(){return x;};da.prototype.getCurrentPageNumber=function(){return z;};da.prototype.getCampaignInfos=function(){return s;};da.prototype.resetCurrentPageNumber=function(){x=null;z=1;};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass6=function(fa){var ga=q.getValueEnforcing(),ha=ga.get(fa);!!ha||h(0);return ha;};da.prototype.getAdvertisablePages=function(){if(q.isEmpty()){aa=Date.now();q=c('LoadObject').loading();c('AdsCommonAdvertisablePagesVideosDataDispatcher').loadAdvertisablePages();}if(q.hasValue())return c('LoadObject').empty().setValue(q.getValueEnforcing().toSet());if(q.hasError())return (c('LoadObject').empty().setError(q.getError()));return c('LoadObject').loading();};da.prototype.getPageID=function(){var fa=null;if(q.hasValue()&&q.getValueEnforcing().count()>0)fa=q.getValueEnforcing().first().id;return fa;};da.prototype.getPageInfo=function(fa){if(!r.has(fa)){var ga=c('LoadObject').loading();r=r.set(fa,ga);c('AdsCommonAdvertisablePagesVideosDataDispatcher').loadPageInfo(fa);}return r.get(fa);};da.prototype.getPageVideos=function(fa){var ga=arguments.length<=1||arguments[1]===undefined?false:arguments[1];if(!q.hasValue()||!q.getValueEnforcing().has(fa)){var ha=new Error('Page must be loaded to get page videos');return c('LoadObject').empty().setError(ha);}var ia=q.getValueEnforcing(),ja=ia.get(fa);if(ja.videosLoadObject.isEmpty()||ga){ca=Date.now();this.$AdsCommonAdvertisablePagesVideosStoreClass21(fa,c('LoadObject').loading());c('AdsCommonAdvertisablePagesVideosDataDispatcher').loadPageVideos(fa);}return q.getValueEnforcing().get(fa).videosLoadObject;};da.prototype.getPageVideoGroups=function(fa){var ga=arguments.length<=1||arguments[1]===undefined?{clearCache:false}:arguments[1];if(!q.hasValue()||!q.getValueEnforcing().has(fa)){var ha=new Error('Page must be loaded to get page videos');return c('LoadObject').empty().setError(ha);}var ia=q.getValueEnforcing(),ja=ia.get(fa);if(!ja.videoGroupsLoadObjects.has(z)||ja.videoGroupsLoadObjects.get(z).isEmpty()||ga.clearCache)this.$AdsCommonAdvertisablePagesVideosStoreClass7(ja,z);return q.getValueEnforcing().get(fa).videoGroupsLoadObjects.get(z);};da.prototype.loadCampaignVideoGroups=function(fa){this.resetCurrentPageNumber();x=fa;if(!fa||s.has(fa)&&(s.get(fa).hasValue()||s.get(fa).isLoading()))return;s=s.set(fa,c('LoadObject').loading());c('AdsCommonAdvertisablePagesVideosDataDispatcher').loadCampaignVideoGroups(fa);};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass7=function(fa,ga){if(fa.videoGroupsLoadObjects.has(ga))return;var ha=fa.nextPageCursor;this.$AdsCommonAdvertisablePagesVideosStoreClass22(fa.id,c('LoadObject').loading(),ga,'');c('AdsCommonAdvertisablePagesVideosDataDispatcher').loadPageVideoGroups(fa.id,ha,this.$AdsCommonAdvertisablePagesVideosStoreClass23(fa),ga);};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass23=function(fa){var ga=[];fa.videoGroupsLoadObjects.forEach(function(ha){if(!ha.hasValue())return;ha.getValueEnforcing().forEach(function(ia){ga=ga.concat(ia.id);});});return ga;};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass24=function(fa){var ga=this.getVideoInfos([fa]);if(ga.isLoading())return c('LoadObject').loading();return ga.getValueEnforcing().get(fa);};da.prototype.getVideoInfos=function(fa){var ga={},ha=[],ia=true;fa.forEach(function(ja){if(!t.has(ja)){ha.push(ja);ia=false;return;}var ka=t.get(ja);if(ka.isLoading()){ia=false;}else ga[ja]=ka;});if(ha.length){ba=Date.now();t=t.withMutations(function(ja){ha.forEach(function(ka){ja.set(ka,c('LoadObject').loading());});});c('AdsCommonAdvertisablePagesVideosDataDispatcher').loadVideoInfos(ha);}if(!ia)return c('LoadObject').loading();return c('LoadObject').empty().setValue(c('immutable').Map(ga));};da.prototype.fetchVideoGroupInfosFromVideoIds=function(fa){var ga={},ha=[],ia=true;fa.forEach(function(ja){if(!v.has(ja)){ha.push(ja);ia=false;return;}var ka=v.get(ja);if(ka.isLoading()){ia=false;}else if(ka.hasValue())ga[ka.getValueEnforcing()]=u.get(ka.getValueEnforcing());});if(ha.length){ba=Date.now();v=v.withMutations(function(ja){ha.forEach(function(ka){ja.set(ka,c('LoadObject').loading());});});c('AdsCommonAdvertisablePagesVideosDataDispatcher').loadVideoGroupInfosFromVideoIDs(ha);}if(!ia)return c('LoadObject').loading();return c('LoadObject').empty().setValue(c('immutable').Map(ga));};da.prototype.getVideoGroupInfos=function(fa){var ga=c('immutable').Set(fa);return u.filter(function(ha,ia){return ga.has(ia);});};da.prototype.getVideoDetailsAndIDsFromEngagementRuleNewSyntax=function(fa){var ga=c('immutable').Map(),ha=new (c('Set'))();ga=ga.withMutations(function(ia){fa.forEach(function(ja){var ka=ia.get(ja.EVENT_NAME)||[];ha.add(ja.OBJECT_ID);ka.push(ja.OBJECT_ID);ia.set(ja.EVENT_NAME,ka);});});return new (c('ImmutableObject'))({videoDetails:ga,videoIDs:ha});};da.prototype.getVideoDetailsAndIDsFromEngagementRule=function(fa){var ga=c('immutable').Map(),ha=new (c('Set'))();ga=ga.withMutations(function(ia){fa.forEach(function(ja){if(Object.keys(ja).length!==1)return;var ka=Object.keys(ja)[0];if(!(ka in c('EngagementAudienceEvents')&&ka.indexOf('VIDEO')>-1))return;var la=ia.get(ka)||[],ma=ja[ka];if(!ha.has(ma))ha.add(ma);la.push(ma);ia.set(ka,la);});});return new (c('ImmutableObject'))({videoDetails:ga,videoIDs:ha});};da.prototype.getVideoDetailsFromEngagementRule=function(fa){var ga=this.getVideoDetailsAndIDsFromEngagementRule(fa),ha=ga.videoDetails,ia=ga.videoIDs,ja=this.getVideoInfos(ia);if(ja.isLoading())return new (c('ImmutableObject'))({loadState:c('AdsLoadState').LOADING});ha=ha.map(function(ka){return ka.map(function(la){var ma=t.get(la);if(ma.hasValue())return new (c('ImmutableObject'))(babelHelpers['extends']({},ma.getValueEnforcing().toJS(),{loadState:c('AdsLoadState').LOADED}));return new (c('ImmutableObject'))({loadState:c('AdsLoadState').ERROR,error:ja.getError()});});}).toMap();return new (c('ImmutableObject'))({loadState:c('AdsLoadState').LOADED,videoDetails:ha});};da.prototype.getVideoEngagementDetails=function(fa,ga){var ha={};if(!fa||!fa.length)return ha;var ia=fa.map(function(ja){return ja['action.type'];});ha=this.$AdsCommonAdvertisablePagesVideosStoreClass25(ia,ga);ha=this.$AdsCommonAdvertisablePagesVideosStoreClass26(ha,fa,ga);return ha;};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass26=function(fa,ga,ha){ga.forEach(function(ia){var ja=ia['action.type'];if(!this.$AdsCommonAdvertisablePagesVideosStoreClass27(ja))return;var ka=ia.post,la=this.$AdsCommonAdvertisablePagesVideosStoreClass24(ka);if(!la.hasValue())return;var ma=c('AdsEngagementSpecsUIUtils').getTargetingLabel(ha,ja),na=la.getValueEnforcing();fa[ma].menuItems.push({name:na.description,id:na.id});}.bind(this));return fa;};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass25=function(fa,ga){var ha={};fa.forEach(function(ia){if(!this.$AdsCommonAdvertisablePagesVideosStoreClass27(ia))return;var ja=c('AdsEngagementSpecsUIUtils').getTargetingLabel(ga,ia);if(ha[ja])return;ha[ja]={description:c('AdsTargetingConnectionsLabels')[ja],id:ja,menuItems:[]};}.bind(this));return ha;};da.prototype.$AdsCommonAdvertisablePagesVideosStoreClass27=function(fa){return (fa===o.VIDEO_VIEW_ACTION||fa===o.VIDEO_COMPLETED_ACTION);};var ea=new da();f.exports=ea;}),null);
__d('AssetName.brands',['fbt','AppConstants.brands'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('AppConstants.brands').ASSET_TYPE,j={getName:function k(l,m,n){var o='';o+=m===1?'':'P';o+=n?'C':'';switch(l){case i.AD_ACCOUNT:return h._({"":"advert account","P":"advert accounts","C":"Advert account","PC":"Advert accounts"},[h['enum'](o,{'':'ad account',P:'ad accounts',C:'Ad Account',PC:'Ad Accounts'})]);case i.PAGE:return h._({"":"Page","P":"Pages","C":"Page","PC":"Pages"},[h['enum'](o,{'':'Page',P:'Pages',C:'Page',PC:'Pages'})]);case i.APP:return h._({"":"app","P":"apps","C":"App","PC":"Apps"},[h['enum'](o,{'':'app',P:'apps',C:'App',PC:'Apps'})]);case i.PIXEL:return h._({"":"pixel","P":"pixels","C":"Pixel","PC":"Pixels"},[h['enum'](o,{'':'pixel',P:'pixels',C:'Pixel',PC:'Pixels'})]);case i.USER:return h._({"":"person","P":"people","C":"Person","PC":"People"},[h['enum'](o,{'':'person',P:'people',C:'Person',PC:'People'})]);case i.INSTAGRAM_ACCOUNT:var p={'':h._("Instagram account"),P:h._("Instagram accounts"),C:h._("Instagram Account"),PC:h._("Instagram Accounts")};return p[o];case i.SYSTEM_USER:return h._({"":"system user","P":"system users","C":"System User","PC":"System Users"},[h['enum'](o,{'':'system user',P:'system users',C:'System User',PC:'System Users'})]);case i.PRODUCT_CATALOG:return h._({"":"product catalogue","P":"product catalogues","C":"Product Catalogue","PC":"Product catalogues"},[h['enum'](o,{'':'product catalog',P:'product catalogs',C:'Product Catalog',PC:'Product Catalogs'})]);case i.FUNDING_SOURCE:return h._({"":"payment method","P":"payment methods","C":"Payment method","PC":"Payment Methods"},[h['enum'](o,{'':'payment method',P:'payment methods',C:'Payment method',PC:'Payment Methods'})]);case i.PROJECT:return h._({"":"project","P":"projects","C":"Project","PC":"Projects"},[h['enum'](o,{'':'project',P:'projects',C:'Project',PC:'Projects'})]);case i.LEGACY_LOGIN:return h._({"":"shared login","P":"shared logins","C":"Shared Login","PC":"Shared Logins"},[h['enum'](o,{'':'shared login',P:'shared logins',C:'Shared Login',PC:'Shared Logins'})]);case i.PAYOUT_METHOD:return h._({"":"payout account","P":"payout accounts","C":"Payout Account","PC":"Payout Accounts"},[h['enum'](o,{'':'payout account',P:'payout accounts',C:'Payout Account',PC:'Payout Accounts'})]);case i.CUSTOM_AUDIENCE:return h._({"":"shared audience","P":"shared audiences","C":"Shared audience","PC":"Shared audiences"},[h['enum'](o,{'':'shared audience',P:'shared audiences',C:'Shared Audience',PC:'Shared Audiences'})]);case i.EVENT_SOURCE_GROUP:return h._({"":"event source group","P":"event source groups","C":"Event source group","PC":"Event source groups"},[h['enum'](o,{'':'event source group',P:'event source groups',C:'Event Source Group',PC:'Event Source Groups'})]);case i.OFFLINE_CONVERSION_DATA_SET:return h._({"":"offline event set","P":"offline event sets","C":"Offline event set","PC":"Offline event sets"},[h['enum'](o,{'':'offline event set',P:'offline event sets',C:'Offline Event Set',PC:'Offline Event Sets'})]);case i.BUSINESS_UNIT:return h._({"":"line of business","P":"line of business","C":"Line of business","PC":"Line of Businesses"},[h['enum'](o,{'':'line of business',P:'line of business',C:'Line of Business',PC:'Line of Businesses'})]);default:return h._({"":"asset","P":"assets","C":"Asset","PC":"Assets"},[h['enum'](o,{'':'asset',P:'assets',C:'Asset',PC:'Assets'})]);}}};f.exports=j;}),null);
__d('AdsAssetSelector.react',['ix','cx','fbt','invariant','xuiglyph','AdsAssetSectionType','AdsFilterWidgets.react','AdsLoadState','AssetName.brands','BUIAdoptionXUISpinner.react','BusinessAssetGrouping.brands','CenteredContainer.react','CurrentUser','Image.react','React','Keys','getObjectValues','BusinessObjectConstantNames'],(function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';var m,n,o=c('BusinessObjectConstantNames').ASSET_TYPE,p=c('React').PropTypes,q=j._("No items found");m=babelHelpers.inherits(r,c('React').Component);n=m&&m.prototype;function r(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=n.constructor).call.apply(s,[this].concat(v)),this.$AdsAssetSelector1=function(){if(!this.props.showBackButton)return null;var x=this.props.assetSections.find(function(y){return y.businessID===this.props.shownBusinessID;},this);if(!x)return;return (c('React').createElement('div',{className:"_2gxl"},c('React').createElement('div',{className:"_2gxm",role:'button',tabIndex:'0',onClick:this.props.onBack},c('React').createElement(c('Image.react'),{className:"_2gxn",src:'/images/mobile/glyph/chevron-left_white_s.png'})),x.name));}.bind(this),this.$AdsAssetSelector3=function(){if(this.props.bookmarkedAssets.length===0)return null;return this.$AdsAssetSelector8(j._("Bookmarked"),this.props.bookmarkedAssets,null,c('AdsAssetSectionType').BOOKMARKED,false);}.bind(this),this.$AdsAssetSelector7=function(){if(this.props.assetSections.length>0||this.props.searchedAssets&&this.props.searchedAssets.length>0||this.props.searchQuery&&this.props.searchState!==c('AdsLoadState').LOADED)return null;return (c('React').createElement(c('CenteredContainer.react'),{className:"_1nmf",horizontal:true,vertical:true},this.props.labelNoItemsFound||q));}.bind(this),this.$AdsAssetSelector4=function(){return this.$AdsAssetSelector8(this.props.unownedAssetsHeader,this.props.unownedAssets,null,c('AdsAssetSectionType').UNOWNED,false);}.bind(this),this.$AdsAssetSelector5=function(){return this.props.assetSections.map(function(x){return this.$AdsAssetSelector8(x.name,x.assets,x.businessID,c('AdsAssetSectionType').OWNED,x.businessID===this.props.shownBusinessID);}.bind(this));}.bind(this),this.$AdsAssetSelector8=function(x,y,z,aa,ba){if(y.length===0)return null;if(this.props.hideBusinessAssets&&(!this.props.showPersonalAssetsInRoot||z!==c('BusinessAssetGrouping.brands').NULL_BIZ_ID))return this.$AdsAssetSelector9(x,z,y.length);return (c('React').createElement('div',{key:x+z},this.$AdsAssetSelector10(x,y.length),c('React').createElement('div',null,y.map(function(ca){return this.$AdsAssetSelector11(ca,z,aa);}.bind(this)))));}.bind(this),this.$AdsAssetSelector9=function(x,y,z){this.props.renderSectionOption||k(0);return this.props.renderSectionOption(x,y,z);}.bind(this),this.$AdsAssetSelector10=function(x,y){if(x===c('BusinessAssetGrouping.brands').DEFAULT_NON_BIZ_NAME&&!this.props.showNonBizGroupTitle)return null;var z=null,aa=x,ba=this.props.assetSections.length-1;if(this.props.hideBusinessAssets&&ba&&!this.props.searchQuery){aa=j._({"S":"{asset count} {asset name}, {business count} BUSINESS","P":"{asset count} {asset name}, {business count} BUSINESSES"},[j.param('asset count',y),j.param('asset name',c('AssetName.brands').getName(this.props.assetType,y,true)),j.param('business count',ba),j['enum'](ba===1?'S':'P',{S:"BUSINESS",P:"BUSINESSES"})]);}else if(this.props.shownBusinessID&&!this.props.searchQuery){aa=j._("{asset count} {asset name}",[j.param('asset count',y),j.param('asset name',c('AssetName.brands').getName(this.props.assetType,y,true))]);}else{if(x===c('BusinessAssetGrouping.brands').DEFAULT_NON_BIZ_NAME){z=c('React').createElement(c('Image.react'),{className:"_4vh-",src:h("89489")});}else z=c('React').createElement(c('Image.react'),{className:"_4vh-",src:h("90055")});if(y&&this.props.showSectionAssetCount)aa=j._("{business name} ({asset count})",[j.param('business name',x),j.param('asset count',y)]);}return (c('React').createElement('div',{className:"_1nme"+(this.props.compactLayout?' '+"_4vhy":'')},z,aa));}.bind(this),this.$AdsAssetSelector11=function(x,y,z){return this.props.renderAsset(x,y,z);}.bind(this),this.$AdsAssetSelector2=function(){if(!this.props.searchBarVisible)return null;return c('React').createElement(c('AdsFilterWidgets.react'),{className:(!this.props.compactLayout?"_1nmd":'')+(this.props.compactLayout?' '+"_1t28":''),hasSelector:false,placeholder:this.props.searchBarPlaceholder,value:this.props.searchQuery,onKeyDown:this.$AdsAssetSelector12,onTextChange:this.props.onSearch});}.bind(this),this.$AdsAssetSelector12=function(x){if(x.keyCode===c('Keys').TAB&&!x.shiftKey)x.preventDefault();},this.$AdsAssetSelector6=function(){if(!c('CurrentUser').isEmployee()||!this.props.searchQuery)return null;var x=null;switch(this.props.searchState){case c('AdsLoadState').NOT_LOADED:x=null;break;case c('AdsLoadState').LOADING:x=c('React').createElement(c('CenteredContainer.react'),{className:"_1nmf",vertical:true},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'}));break;case c('AdsLoadState').LOADED:case c('AdsLoadState').ERROR:if(this.props.searchedAssets&&this.props.searchedAssets.length>0){x=this.props.searchedAssets.map(function(z){return this.$AdsAssetSelector11(z,null,c('AdsAssetSectionType').SEARCH);}.bind(this));}else x=c('React').createElement(c('CenteredContainer.react'),{className:"_1nmf",vertical:true},this.props.labelNoItemsFound||q);break;}if(x){var y=0;if(this.props.searchedAssets)y=this.props.searchedAssets.length;return (c('React').createElement('div',null,this.$AdsAssetSelector10(j._("Search by ID (employees only)"),y),x));}else return null;}.bind(this),t;}r.prototype.render=function(){return c('React').createElement('div',{className:this.props.showBottomBorder?"_4vhx":''},this.$AdsAssetSelector1(),this.$AdsAssetSelector2(),this.props.listTitle,c('React').createElement('div',{className:"_3x14",style:{maxHeight:this.props.maxListHeight||"auto"}},this.$AdsAssetSelector3(),this.$AdsAssetSelector4(),this.$AdsAssetSelector5(),this.$AdsAssetSelector6(),this.$AdsAssetSelector7()));};r.propTypes={assetSections:p.arrayOf(p.shape({name:p.string.isRequired,businessID:p.string.isRequired,assets:p.array.isRequired})).isRequired,assetType:p.oneOf(c('getObjectValues')(o)).isRequired,bookmarkedAssets:p.array.isRequired,compactLayout:p.bool,hideBusinessAssets:p.bool,labelNoItemsFound:p.node,listTitle:p.node,maxListHeight:p.number,renderAsset:p.func.isRequired,renderSectionOption:p.func,searchedAssets:p.array,searchBarVisible:p.bool.isRequired,searchState:p.string.isRequired,searchQuery:p.string,shownBusinessID:p.string,showBackButton:p.bool,showBottomBorder:p.bool,showNonBizGroupTitle:p.bool,showPersonalAssetsInRoot:p.bool,showSectionAssetCount:p.bool,unownedAssets:p.array.isRequired,unownedAssetsHeader:p.node.isRequired,onSearch:p.func.isRequired,onBack:p.func};r.defaultProps={compactLayout:false,hideBusinessAssets:false,searchBarVisible:true,showBackButton:false,showNonBizGroupTitle:true,showSectionAssetCount:false,showBottomBorder:true};f.exports=r;}),null);
__d('BusinessPageSectionOption.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=c('React').PropTypes;i=babelHelpers.inherits(m,k);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$BusinessPageSectionOption1=function(){this.props.revealBusiness(this.props.businessID);}.bind(this),o;}m.prototype.render=function(){return c('React').createElement('div',{className:"_5ghu"+(' '+"_alf"),role:'button',tabIndex:'0',onClick:this.$BusinessPageSectionOption1},c('React').createElement('span',{className:"_1b_h"},c('React').createElement('div',{className:"_5ghv"}),this.props.businessName),c('React').createElement('div',{className:"_3kin"},this.props.pageCount),c('React').createElement('div',{className:"_3kio"}));};m.propTypes={businessID:l.string.isRequired,businessName:l.string.isRequired,revealBusiness:l.func.isRequired,pageCount:l.number};f.exports=m;}),null);
__d('PageSelectorItem.react',['cx','fbt','ix','AdsAssetSectionType','AdsWebdriverIDs','Image.react','ImageBlock.react','React','Tooltip'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').Component,n=c('React').PropTypes;k=babelHelpers.inherits(o,m);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$PageSelectorItem3=function(){this.props.onPageSelected(this.props.pageID,this.props.businessID,this.props.sectionType);}.bind(this),this.$PageSelectorItem1=function(event){event.preventDefault();event.stopPropagation();this.props.onPageRemoved(this.props.pageID,this.props.sectionType);}.bind(this),this.$PageSelectorItem2=function(event){event.preventDefault();event.stopPropagation();this.props.onPageBookmarked(this.props.pageID);}.bind(this),q;}o.prototype.render=function(){var p=this.props.sectionType===c('AdsAssetSectionType').BOOKMARKED||this.props.sectionType===c('AdsAssetSectionType').UNOWNED,q=!this.props.isBookmarked&&this.props.sectionType===c('AdsAssetSectionType').OWNED&&this.props.showBookmark,r=null;if(p){r=c('React').createElement('div',babelHelpers['extends']({className:"_1wcw"},c('Tooltip').propsFor(i._("Remove Page from this list")),{'data-tooltip-position':'right',onClick:this.$PageSelectorItem1}));}else if(q){r=c('React').createElement('div',babelHelpers['extends']({className:"_50a_"},c('Tooltip').propsFor(i._("Bookmark this Page")),{'data-tooltip-position':'right',onClick:this.$PageSelectorItem2}));}else if(this.props.isSelected)r=c('React').createElement('div',{className:"_55fc"});var s=null;if(this.props.showPageID)s=c('React').createElement('div',{className:"_4c70"},this.props.pageID);return c('React').createElement(c('ImageBlock.react'),{className:(!this.props.compactLayout?"_2sl3":'')+(this.props.compactLayout?' '+"_5dsl":'')+(this.props.hoverStyle==='dark-blue'?' '+"_alf":'')+(this.props.hoverStyle==='light-gray'?' '+"_2z3h":'')+(this.props.isSelected?' '+"_2246":'')+(this.props.isRecentlyBookmarked?' '+"_50b0":''),onClick:this.$PageSelectorItem3},c('React').createElement(c('Image.react'),{className:"_4-rj",height:30,src:this.props.imageSrc||j("22120"),width:30}),c('React').createElement('div',{className:"_1wcv",'data-testid':c('AdsWebdriverIDs').PAGE_SELECTOR_OVERLAY_ITEM},c('React').createElement('div',{className:"_2sl4"+(!this.props.showPageID?' '+"_4c71":''),'data-testid':c('AdsWebdriverIDs').PAGE_SELECTOR_OVERLAY_ITEM_CONTENT},this.props.name),s,r));};o.propTypes={businessID:n.string,compactLayout:n.bool.isRequired,hoverStyle:n.oneOf(['dark-blue','light-gray']),imageSrc:n.string,isBookmarked:n.bool.isRequired,isRecentlyBookmarked:n.bool.isRequired,isSelected:n.bool.isRequired,name:n.string.isRequired,pageID:n.string.isRequired,sectionType:n.oneOf(Object.keys(c('AdsAssetSectionType'))).isRequired,showBookmark:n.bool.isRequired,showPageID:n.bool.isRequired,onPageBookmarked:n.func.isRequired,onPageRemoved:n.func.isRequired,onPageSelected:n.func.isRequired};o.defaultProps={hoverStyle:'dark-blue'};f.exports=o;}),null);
__d('AdsPageAssetSelector.react',['cx','fbt','AdsAssetSectionType','AdsAssetSelector.react','AdsLoadState','AdsPageUtils','ApiPagePaths','BusinessAssetGrouping.brands','BusinessPageSectionOption.react','PageSelectorItem.react','React','Set','areEqual','getByPath','sumOfArray','BusinessObjectConstantNames'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('BusinessObjectConstantNames').ASSET_TYPE,m=c('React').PropTypes,n=[],o=i._("Pages You Don't Own (Employees Only)");j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.state={recentlyBookmarkedPageIDs:null},this.$AdsPageAssetSelector5=function(v,w,x){var y=!w?this.$AdsPageAssetSelector9(v):w,z=this.props.selectedPageID===v.id&&this.props.selectedSectionType===x&&this.props.selectedBusinessID===y||this.props.selectedPageID===v.id&&!this.props.selectedBusinessID&&y===c('BusinessAssetGrouping.brands').NULL_BIZ_ID,aa=this.props.bookmarkedPages.some(function(da){return da.id===v.id;}),ba=c('AdsPageUtils').getPageUIName(v),ca=!!(x===c('AdsAssetSectionType').BOOKMARKED&&this.state&&this.state.recentlyBookmarkedPageIDs&&this.state.recentlyBookmarkedPageIDs.has(v.id));return (c('React').createElement(c('PageSelectorItem.react'),{businessID:y,compactLayout:this.props.compactLayout,hoverStyle:this.props.listItemHoverStyle,imageSrc:this.$AdsPageAssetSelector11(v),isBookmarked:aa,isRecentlyBookmarked:ca,isSelected:z,key:v.id+':'+y,name:ba,pageID:v.id,sectionType:x,showBookmark:this.props.showBookmarks,showPageID:this.props.showPageIDs,onPageBookmarked:this.props.onPageBookmarked,onPageRemoved:this.props.onPageRemoved,onPageSelected:this.props.onPageSelected}));}.bind(this),this.$AdsPageAssetSelector6=function(v,w,x){return (c('React').createElement(c('BusinessPageSectionOption.react'),{businessID:w,businessName:v,key:v+w,pageCount:x,revealBusiness:this.$AdsPageAssetSelector12}));}.bind(this),this.$AdsPageAssetSelector12=function(v){this.props.onBusinessSelected&&this.props.onBusinessSelected(v);}.bind(this),this.$AdsPageAssetSelector13=function(v){return this.props.sortPages?(v.name||'').toLowerCase():null;}.bind(this),this.$AdsPageAssetSelector8=function(){this.props.onBusinessSelected&&this.props.onBusinessSelected(null);}.bind(this),r;}p.prototype.componentWillReceiveProps=function(q){var r,s=this,t=new (c('Set'))();if(!c('areEqual')(this.props.bookmarkedPages,q.bookmarkedPages))(function(){var u=new (c('Set'))(s.props.bookmarkedPages.map(function(v){return v.id;}));q.bookmarkedPages.forEach(function(v){if(!u.has(v.id))t.add(v.id);});s.setState({recentlyBookmarkedPageIDs:t});})();};p.prototype.render=function(){return c('React').createElement('div',{className:"_8g0"+(this.props.shownBusinessID?' '+"showBusiness":'')},c('React').createElement('div',{className:"_8g2"},this.$AdsPageAssetSelector1()),c('React').createElement('div',{className:"_8g2"},this.$AdsPageAssetSelector2(this.props)));};p.prototype.$AdsPageAssetSelector1=function(){var q=null;if(this.props.filteredBusinessID){q=this.$AdsPageAssetSelector3(this.props.filteredBusinessID);}else q=this.$AdsPageAssetSelector4();var r=null,s=c('sumOfArray')(q.map(function(t){return t.assets.length;}));if(this.props.showPageCount)r=c('React').createElement('div',{className:"_2z3f"},i._({"PAGE":"{page count} PAGE","PAGES":"{page count} PAGES"},[i.param('page count',s),i['enum'](s===1?'PAGE':'PAGES',{PAGE:'PAGE',PAGES:'PAGES'})]));return c('React').createElement(c('AdsAssetSelector.react'),{assetSections:q,assetType:l.PAGE,bookmarkedAssets:this.props.bookmarkedPages,compactLayout:this.props.compactLayout,hideBusinessAssets:!this.props.showBusinessPages&&this.props.searchQuery==='',labelNoItemsFound:this.props.labelNoItemsFound,listTitle:r,maxListHeight:this.props.maxListHeight,renderAsset:this.$AdsPageAssetSelector5,renderSectionOption:this.$AdsPageAssetSelector6,searchBarPlaceholder:i._("Search Pages"),searchBarVisible:this.props.searchBarVisible,searchedAssets:this.props.searchedPages,searchQuery:this.props.searchQuery,searchState:this.props.searchState,showBottomBorder:this.props.showBottomBorder,shownBusinessID:this.props.shownBusinessID,showNonBizGroupTitle:this.props.showNonBizGroupTitle,showPersonalAssetsInRoot:this.props.showPersonalPagesInRoot,showSectionAssetCount:this.props.showSectionPageCount,unownedAssets:this.$AdsPageAssetSelector7(),unownedAssetsHeader:o,onSearch:this.props.onSearch});};p.prototype.$AdsPageAssetSelector2=function(q){return c('React').createElement(c('AdsAssetSelector.react'),{assetSections:this.$AdsPageAssetSelector3(q.shownBusinessID),assetType:l.PAGE,bookmarkedAssets:q.bookmarkedPages,compactLayout:q.compactLayout,labelNoItemsFound:this.props.labelNoItemsFound,listTitle:null,maxListHeight:q.maxListHeight,renderAsset:this.$AdsPageAssetSelector5,renderSectionOption:this.$AdsPageAssetSelector6,searchBarPlaceholder:i._("Search Pages"),searchBarVisible:q.searchBarVisible,searchedAssets:q.searchedPages,searchQuery:q.searchQuery,searchState:q.searchState,showBackButton:true,showBottomBorder:q.showBottomBorder,shownBusinessID:q.shownBusinessID,showNonBizGroupTitle:q.showNonBizGroupTitle,showSectionAssetCount:q.showSectionPageCount,unownedAssets:this.$AdsPageAssetSelector7(),unownedAssetsHeader:o,onBack:this.$AdsPageAssetSelector8,onSearch:q.onSearch});};p.prototype.$AdsPageAssetSelector9=function(q){return q.business?q.business.id||q.business:c('BusinessAssetGrouping.brands').NULL_BIZ_ID;};p.prototype.$AdsPageAssetSelector10=function(q,r){var s=c('AdsPageUtils').getPageUIName(r),t=c('AdsPageUtils').getPageLink(r),u=c('getByPath')(r,c('ApiPagePaths').ID);return !q||s&&s.toLowerCase().includes(q.toLowerCase())||u&&u.includes(q)||t&&t.toLowerCase().includes(q.toLowerCase());};p.prototype.$AdsPageAssetSelector11=function(q){var r=c('getByPath')(q,['picture']);if(typeof r=='string')return r;return c('getByPath')(r,['data','url'])||undefined;};p.prototype.$AdsPageAssetSelector3=function(q){return this.$AdsPageAssetSelector4().filter(function(r){return r.businessID===q;});};p.prototype.$AdsPageAssetSelector4=function(){var q=this.props.pages.filter(function(t){return this.$AdsPageAssetSelector10(this.props.searchQuery,t);}.bind(this)),r=c('BusinessAssetGrouping.brands').groupAssets(q,function(t){return t.userpermissions?t.userpermissions.data:[];},function(t){return this.props.groupByProject?t.businessprojects?t.businessprojects.data:[]:[];}.bind(this),this.$AdsPageAssetSelector13,null,c('BusinessAssetGrouping.brands').DEFAULT_NON_BIZ_NAME),s=[];r.groupedAssets.forEach(function(t){if(t.assets.length>0)s.push({name:t.name,assets:t.assets,businessID:t.bizID});t.projects.forEach(function(u){if(u.assets.length>0)s.push({name:u.name,assets:u.assets,businessID:t.bizID});});});return s;};p.prototype.$AdsPageAssetSelector7=function(){if(!this.props.unownedPages)return n;return this.props.unownedPages.filter(function(q){return this.$AdsPageAssetSelector10(this.props.searchQuery,q);}.bind(this));};p.propTypes={bookmarkedPages:m.array.isRequired,compactLayout:m.bool,filteredBusinessID:m.string,groupByProject:m.bool,labelNoItemsFound:m.string,listItemHoverStyle:m.oneOf(["dark-blue","light-gray"]),maxListHeight:m.number,pages:m.array.isRequired,searchedPages:m.array,searchBarVisible:m.bool.isRequired,searchState:m.oneOf(Object.keys(c('AdsLoadState'))).isRequired,searchQuery:m.string,selectedPageID:m.string,selectedBusinessID:m.string,selectedSectionType:m.string,showBookmarks:m.bool,showBottomBorder:m.bool,showBusinessPages:m.bool,showNonBizGroupTitle:m.bool,showPageCount:m.bool,showPersonalPagesInRoot:m.bool,showSectionPageCount:m.bool,showPageIDs:m.bool,shownBusinessID:m.string,sortPages:m.bool,unownedPages:m.array,onBusinessSelected:m.func,onPageSelected:m.func.isRequired,onPageRemoved:m.func.isRequired,onPageBookmarked:m.func.isRequired,onSearch:m.func.isRequired};p.defaultProps={compactLayout:false,groupByProject:true,listItemHoverStyle:"dark-blue",showBookmarks:true,showBusinessPages:true,showNonBizGroupTitle:false,showPageCount:true,showPersonalPagesInRoot:true,showSectionPageCount:true,showPageIDs:false,sortPages:true};f.exports=p;}),null);
__d('AdsCommonTargetingEngagementPageDropdownContainer.react',['cx','fbt','AdsCommonAdvertisablePagesVideosStoreDataTypes','AdsLoadState','AdsPageAssetSelector.react','AdsCommonAdvertisablePagesVideosStore','AdsPageUtils','ApiPagePaths','Image.react','LayerHideOnBlur','LayerHideOnEscape','React','XUIContextualDialog.react','XUIPopoverButton.react','emptyFunction','getByPath'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').PageInfo;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.$AdsCommonTargetingEngagementPageDropdownContainer2=function(){this.setState({isDialogShown:true});}.bind(this);this.$AdsCommonTargetingEngagementPageDropdownContainer3=function(o){if(!o)this.setState({isDialogShown:false});}.bind(this);this.$AdsCommonTargetingEngagementPageDropdownContainer1=function(){if(!this.props.selectedPageID)return (c('React').createElement('div',{className:"ellipsis _44f_",role:'button',tabIndex:'0',onClick:this.$AdsCommonTargetingEngagementPageDropdownContainer2},this.props.defaultLabel));var o=c('AdsCommonAdvertisablePagesVideosStore').getPageInfo(this.props.selectedPageID).getValueEnforcing(),p=c('getByPath')(o,c('ApiPagePaths').PICTURE.DATA.URL);return (c('React').createElement('div',{className:"ellipsis",role:'button',tabIndex:'0',onClick:this.$AdsCommonTargetingEngagementPageDropdownContainer2},i._("Page:"),c('React').createElement('div',{className:"_44f-"},c('React').createElement(c('Image.react'),{height:16,src:p,width:16})),c('React').createElement('div',{className:"_44f_"},c('AdsPageUtils').getPageUIName(o))));}.bind(this);this.$AdsCommonTargetingEngagementPageDropdownContainer5=function(o,p,q){this.setState({isDialogShown:false});this.props.onPageSelected(o,p,q);}.bind(this);this.$AdsCommonTargetingEngagementPageDropdownContainer4=function(){var o=this.props.selectedPageID||'';return (c('React').createElement('div',{className:"_44g1"},c('React').createElement(c('AdsPageAssetSelector.react'),{bookmarkedPages:[],compactLayout:true,listItemHoverStyle:"light-gray",pages:this.props.pages,searchBarVisible:true,searchQuery:this.props.pageSearchQuery,searchState:c('AdsLoadState').NOT_LOADED,searchedPages:[],selectedBusinessID:this.props.selectedBusinessID,selectedPageID:o,selectedSectionType:this.props.selectedSectionType,showBookmarks:false,showBusinessPages:true,showNonBizGroupTitle:true,showPageCount:true,showPageIDs:true,unownedPages:[],onPageBookmarked:c('emptyFunction'),onPageRemoved:c('emptyFunction'),onPageSelected:this.$AdsCommonTargetingEngagementPageDropdownContainer5,onSearch:this.props.onSearch})));}.bind(this);this.state={isDialogShown:false};}m.prototype.render=function(){return c('React').createElement('div',{className:this.props.className},c('React').createElement(c('XUIPopoverButton.react'),{hasChevron:true,label:this.$AdsCommonTargetingEngagementPageDropdownContainer1(),maxwidth:265,ref:'button',size:'large',onClick:this.$AdsCommonTargetingEngagementPageDropdownContainer2}),c('React').createElement(c('XUIContextualDialog.react'),{behaviors:{LayerHideOnBlur:c('LayerHideOnBlur'),LayerHideOnEscape:c('LayerHideOnEscape')},contextRef:function(){return this.refs.button;}.bind(this),position:'below',shown:this.state.isDialogShown,width:c('XUIContextualDialog.react').WIDTH.NORMAL,onToggle:this.$AdsCommonTargetingEngagementPageDropdownContainer3},this.$AdsCommonTargetingEngagementPageDropdownContainer4()));};f.exports=m;}),null);
__d('AdsCustomAudiencePageEngagementEngagementElement.react',['cx','fbt','AdsHelpLink.react','BUIForm.react','BUIFormElement.react','EngagementAudienceEvents','LeftRight.react','MenuSeparator.react','React','XUISingleSelector.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('XUISingleSelector.react').Option,m=c('React').PureComponent,n=200,o=300,p=280,q=i._("Include"),r=i._("Choose who you want to include in your audience based on the kind of engagement they had with your Page. By default we'll include the broadest category, or you can narrow it down from the menu."),s={helpText:i._("This includes everyone who visited your Page or engaged with your Page's content or adverts on Facebook or Messenger."),label:i._("Everyone who engaged with your Page"),value:c('EngagementAudienceEvents').PAGE_ENGAGED},t=[{helpText:i._("This includes anyone who visited your Page, regardless of the actions they took."),label:i._("Anyone who visited your Page"),value:c('EngagementAudienceEvents').PAGE_VISITED},{helpText:i._("This only includes the people who have engaged with a Page post or advert. Engagement includes reactions (Like, Love, Haha, Wow, Sad, Angry), shares, comments, link clicks and carousel swipes."),label:i._("People who engaged with any post or advert"),value:c('EngagementAudienceEvents').PAGE_POST_INTERACTION},{helpText:i._("This includes only the people who clicked any available call-to-action button on your Page. For example \"Contact Us\" or \"Shop Now\"."),label:i._("People who clicked on any call-to-action button"),value:c('EngagementAudienceEvents').PAGE_CTA_CLICKED},{helpText:i._("This includes only the people who send a message to your Page."),label:i._("People who sent a message to your Page"),value:c('EngagementAudienceEvents').PAGE_MESSAGED},{helpText:i._("This only includes the people who saved your Page or a post on your Page."),label:i._("People who saved your Page or any post"),value:c('EngagementAudienceEvents').PAGE_OR_POST_SAVE}];j=babelHelpers.inherits(u,m);k=j&&j.prototype;u.prototype.$AdsCustomAudiencePageEngagementEngagementElement1=function(v){return (c('React').createElement(l,{key:v.value,label:v.label,value:v.value},c('React').createElement(c('LeftRight.react'),null,c('React').createElement('div',{className:"ellipsis",style:{maxWidth:p}},v.label),c('React').createElement('div',null,c('React').createElement(c('AdsHelpLink.react'),{width:n},v.helpText)))));};u.prototype.render=function(){var v=t.map(function(w){return this.$AdsCustomAudiencePageEngagementEngagementElement1(w);}.bind(this));return (c('React').createElement(c('BUIFormElement.react'),{helpText:r,label:q},c('React').createElement(c('XUISingleSelector.react'),babelHelpers['extends']({maxwidth:o,size:'large'},this.props),this.$AdsCustomAudiencePageEngagementEngagementElement1(s),c('React').createElement(c('MenuSeparator.react'),null),v)));};function u(){j.apply(this,arguments);}f.exports=u;}),null);
__d('AudienceManagerPageEngagementAudienceViewAction',['AdsDispatcher','EngagementAudienceUIEvents'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){c('AdsDispatcher').handleUpdateFromViewAction({type:i,data:{value:j}});}f.exports={initWithAudience:function i(j){h(c('EngagementAudienceUIEvents').PAGE_ENGAGEMENT_INIT,j);},changePage:function i(j){h(c('EngagementAudienceUIEvents').PAGE_ENGAGEMENT_CHANGED,j);},changeDescription:function i(j){h(c('EngagementAudienceUIEvents').PAGE_ENGAGEMENT_DESCRIPTION_CHANGED,j.target.value);},changeRetentionDays:function i(j){h(c('EngagementAudienceUIEvents').PAGE_ENGAGEMENT_RETENTION_DAYS_CHANGED,j);},changeEngagement:function i(j){var k=j.value;h(c('EngagementAudienceUIEvents').PAGE_ENGAGEMENT_ENGAGEMENT_CHANGED,k);},changeName:function i(j){h(c('EngagementAudienceUIEvents').PAGE_ENGAGEMENT_NAME_CHANGED,j.target.value);},creatingAudience:function i(){h(c('EngagementAudienceUIEvents').PAGE_ENGAGEMENT_CREATING_AUDIENCE);},createAudienceError:function i(j){h(c('EngagementAudienceUIEvents').PAGE_ENGAGEMENT_CREATE_AUDIENCE_ERROR,j);}};}),null);
__d('AudienceManagerPageEngagementConstant',[],(function a(b,c,d,e,f,g){'use strict';f.exports={RetentionDay:{DEFAULT:365,MIN:1,MAX:365},FormField:{PAGE:'page',DESCRIPTION:'description',RETENTION_DAYS:'retentionDays',ENGAGEMENT:'engagement',NAME:'name',ID:'id'}};}),null);
__d('AudienceManagerCreatePageEngagementAudience.react',['cx','fbt','AdInterfacesAppNames','AdsAMCreateAudienceServerActions','AdsAMViewActions','AdsCommonAdvertisablePagesVideosActions','AdsCommonTargetingEngagementPageDropdownContainer.react','AdsCustomAudienceDescriptionElement.react','AdsCustomAudienceNameElement.react','AdsCustomAudiencePageEngagementEngagementElement.react','AdsCustomAudienceRetentionElement.react','AdsCustomAudienceType','AdsEngagementAudienceUILogger','AdsInterfacesLogger','AudienceManagerDialogBackButton.react','AudienceManagerDialogCreateAudienceButton.react','AudienceManagerDialogUpdateAudienceButton.react','BUIAdoptionXUIGrayText.react','BUIAdoptionXUISpinner.react','BUIForm.react','BUIFormElement.react','BUIFormSection.react','CenteredContainer.react','EngagementAudienceUIEvents','React','AudienceManagerPageEngagementAudienceViewAction','XUIDialogBody.react','XUIDialogCancelButton.react','XUIDialogFooter.react','nullthrows','AdsCommonAdvertisablePagesVideosStoreDataTypes','AudienceManagerPageEngagementConstant'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').PageInfo,m=c('AudienceManagerPageEngagementConstant').RetentionDay,n=c('React').Component,o=i._("Create a list of people who interacted with your Page on Facebook or Messenger."),p=i._("Page"),q=i._("Choose the Page you want to use as the source of engagement for your audience."),r=i._("Note: Data is available from October 2016. Choosing the maximum number of days will include people who engaged from October 2016 and afterwards.");j=babelHelpers.inherits(s,n);k=j&&j.prototype;function s(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=k.constructor).call.apply(t,[this].concat(w)),this.$AudienceManagerCreatePageEngagementAudience1=function(y){if(this.props.pageSearchQuery===y)return;c('AdsCommonAdvertisablePagesVideosActions').search(y);}.bind(this),this.$AudienceManagerCreatePageEngagementAudience2=function(y){if(this.props.selectedPageID===y)return;c('AdsCommonAdvertisablePagesVideosActions').selectPage(y);c('AudienceManagerPageEngagementAudienceViewAction').changePage(y);}.bind(this),this.$AudienceManagerCreatePageEngagementAudience3=function(){c('AdsInterfacesLogger').log({eventName:c('EngagementAudienceUIEvents').CLICK_CREATE_PAGE_AUDIENCE},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AudienceManagerPageEngagementAudienceViewAction').creatingAudience();c('AdsAMViewActions').closeRegularEditDialog();var y=this.props.formData,z=[{object_id:y.pageID,event_name:y.engagement.toLowerCase()}],aa={description:y.description.trim(),name:y.name.trim(),prefill:true,retention_days:y.retentionDays,rule:z,subtype:c('AdsCustomAudienceType').SUBTYPES.ENGAGEMENT};if(this.props.isUpdateAudience){delete aa.prefill;delete aa.subtype;}this.props.onCreateAudience(aa,function(ba){if(this.props.onAudienceAdded)this.props.onAudienceAdded(ba);c('AdsAMCreateAudienceServerActions').createdEngagementAudience(String(ba),babelHelpers['extends']({},aa,{id:ba}));}.bind(this),c('AudienceManagerPageEngagementAudienceViewAction').createAudienceError);}.bind(this),u;}s.prototype.componentWillMount=function(){c('AdsEngagementAudienceUILogger').setAppName(c('AdInterfacesAppNames').AUDIENCE_MANAGER);c('AdsEngagementAudienceUILogger').setAdAccountID(this.props.adAccountID);c('AdsInterfacesLogger').log({eventName:c('EngagementAudienceUIEvents').ENTER_PAGE_DIALOG},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);if(this.props.defaultAudience)c('AudienceManagerPageEngagementAudienceViewAction').initWithAudience(this.props.defaultAudience);};s.prototype.render=function(){var t=this.props.formData,u=this.props.isUpdateAudience?c('AudienceManagerDialogUpdateAudienceButton.react'):c('AudienceManagerDialogCreateAudienceButton.react'),v=!this.props.pages?c('React').createElement(c('CenteredContainer.react'),{className:"_44g0"},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'})):c('React').createElement(c('AdsCommonTargetingEngagementPageDropdownContainer.react'),{pageSearchQuery:this.props.pageSearchQuery,pages:c('nullthrows')(this.props.pages),selectedPageID:c('nullthrows')(this.props.selectedPageID),onPageSelected:this.$AudienceManagerCreatePageEngagementAudience2,onSearch:this.$AudienceManagerCreatePageEngagementAudience1}),w=c('React').createElement(c('BUIFormElement.react'),{helpText:q,label:p},v);return (c('React').createElement('div',{className:"_5fb0"},c('React').createElement(c('XUIDialogBody.react'),{className:"_5fc3"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_5fc5",display:'block',shade:'light'},o),c('React').createElement(c('BUIForm.react'),{className:"_5fc6",density:'svelt',labelPosition:'left'},c('React').createElement(c('BUIFormSection.react'),{className:"_5fc7"},w,c('React').createElement(c('AdsCustomAudiencePageEngagementEngagementElement.react'),{value:t.engagement,onChange:c('AudienceManagerPageEngagementAudienceViewAction').changeEngagement}),c('React').createElement(c('AdsCustomAudienceRetentionElement.react'),{className:"_5fc8",dataAvailability:r,max:m.MAX,min:m.MIN,value:t.retentionDays,onChange:c('AudienceManagerPageEngagementAudienceViewAction').changeRetentionDays}),c('React').createElement(c('AdsCustomAudienceNameElement.react'),{value:t.name,onChange:c('AudienceManagerPageEngagementAudienceViewAction').changeName}),c('React').createElement(c('AdsCustomAudienceDescriptionElement.react'),{value:t.description,onChange:c('AudienceManagerPageEngagementAudienceViewAction').changeDescription})))),c('React').createElement(c('XUIDialogFooter.react'),{leftContent:c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:this.props.onCancel})},c('React').createElement(c('AudienceManagerDialogBackButton.react'),{onClick:this.props.onBack}),c('React').createElement(u,{disabled:!this.props.enableSubmit,onClick:this.$AudienceManagerCreatePageEngagementAudience3}))));};f.exports=s;}),null);
__d('AudienceManagerPageEngagementAudienceStore',['AdsAMActionTypes','AdsCommonAdvertisablePagesVideosStore','AdsDispatcher','AdsInterfacesLogger','EngagementAudienceEvents','EngagementAudienceUIEvents','FluxReduceStore','AudienceManagerPageEngagementConstant','immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k=c('AudienceManagerPageEngagementConstant').FormField,l=c('AudienceManagerPageEngagementConstant').RetentionDay,m=k.PAGE,n=k.DESCRIPTION,o=k.RETENTION_DAYS,p=k.ENGAGEMENT,q=k.NAME,r=k.ID,s=c('EngagementAudienceEvents').PAGE_ENGAGED,t=c('immutable').Record((j={pageID:null},j[m]=null,j[n]='',j[o]=l.DEFAULT,j[p]=s,j[q]='',j[r]=null,j.creatingAudience=false,j.createdAudienceFailed=false,j)),u=new t();function v(x){try{var z,aa=JSON.parse(x.rule);return z={pageID:aa[0].object_id},z[m]=null,z[n]=x[n],z[o]=x.retention_days,z[p]=aa[0].event_name.toUpperCase(),z[q]=x[q],z[r]=x[r],z;}catch(y){var ba;return ba={pageID:null},ba[m]=null,ba[n]='',ba[o]=l.DEFAULT,ba[p]=s,ba[q]='',ba[r]=null,ba;}}h=babelHelpers.inherits(w,c('FluxReduceStore'));i=h&&h.prototype;w.prototype.getInitialState=function(){return u;};w.prototype.$AudienceManagerPageEngagementAudienceStore1=function(){var x=this.getState().get(o);return (!!x&&!isNaN(x)&&x>=l.MIN&&x<=l.MAX);};w.prototype.enableSubmit=function(){var x=this.getState();return (!!x.get('pageID')&&!!x.get(p)&&!!x.get(q)&&this.$AudienceManagerPageEngagementAudienceStore1());};w.prototype.getFormData=function(){var x,y=this.getState();return x={pageID:y.get('pageID')},x[m]=y.get(m),x[n]=y.get(n),x[o]=y.get(o),x[p]=y.get(p),x[q]=y.get(q),x[r]=y.get(r),x;};w.prototype.getPageID=function(){var x=this.getState();return x.get('pageID');};w.prototype.reduce=function(x,y){var z,aa,ba,ca,da,ea=y.action,fa=ea.data,ga=ea.type;switch(ga){case c('EngagementAudienceUIEvents').PAGE_ENGAGEMENT_INIT:return x.merge(v(fa.value));case c('EngagementAudienceUIEvents').PAGE_ENGAGEMENT_LOADED:if(x.get('pageID'))return x;c('AdsDispatcher').waitFor([c('AdsCommonAdvertisablePagesVideosStore').getDispatchToken()]);return x.merge({pageID:c('AdsCommonAdvertisablePagesVideosStore').getPageID()});case c('EngagementAudienceUIEvents').PAGE_ENGAGEMENT_CHANGED:c('AdsInterfacesLogger').log({eventName:ga});return x.merge({pageID:fa.value});case c('EngagementAudienceUIEvents').PAGE_ENGAGEMENT_DESCRIPTION_CHANGED:c('AdsInterfacesLogger').log({eventName:ga});return x.merge((z={},z[n]=fa.value,z));case c('EngagementAudienceUIEvents').PAGE_ENGAGEMENT_RETENTION_DAYS_CHANGED:c('AdsInterfacesLogger').log({eventName:ga});var ha=fa.value;if(ha<l.MIN){ha=l.MIN;}else if(ha>l.MAX)ha=l.MAX;return x.merge((aa={},aa[o]=ha,aa));case c('EngagementAudienceUIEvents').PAGE_ENGAGEMENT_ENGAGEMENT_CHANGED:c('AdsInterfacesLogger').log({eventName:ga});return x.merge((ba={},ba[p]=fa.value,ba));case c('EngagementAudienceUIEvents').PAGE_ENGAGEMENT_NAME_CHANGED:c('AdsInterfacesLogger').log({eventName:ga});return x.merge((ca={},ca[q]=fa.value,ca));case c('EngagementAudienceUIEvents').PAGE_ENGAGEMENT_CREATE_AUDIENCE_ERROR:c('AdsInterfacesLogger').log({eventName:ga});return x.merge({createdAudienceFailed:true,creatingAudience:false});case c('EngagementAudienceUIEvents').PAGE_ENGAGEMENT_CREATING_AUDIENCE:c('AdsInterfacesLogger').log({eventName:ga});return x.merge({createdAudienceFailed:false,creatingAudience:true});case c('AdsAMActionTypes').ENGAGEMENT_AUDIENCE_CREATED:c('AdsInterfacesLogger').log({eventName:ga});return x.merge({createdAudienceFailed:false,creatingAudience:false});case c('AdsAMActionTypes').CREATE_AUDIENCE_RESET:return x.merge((da={},da[n]='',da[o]=l.DEFAULT,da[p]=s,da[q]='',da[r]=null,da.creatingAudience=false,da.createdAudienceFailed=false,da));default:return x;}};function w(){h.apply(this,arguments);}f.exports=new w(c('AdsDispatcher'));}),null);
__d('AudienceManagerCreatePageEngagementAudienceContainer.react',['AdsCommonAdvertisablePagesVideosStoreDataTypes','AdsSelectedAccountIDGetter','AudienceManagerCreatePageEngagementAudience.react','AudienceManagerPageEngagementAudienceStore','FluxContainer','immutable','LoadObject','AdsCommonAdvertisablePagesVideosStore','React'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').PageInfo;function i(l){var m=c('AdsSelectedAccountIDGetter').get({})||'0';return (c('React').createElement(c('AudienceManagerCreatePageEngagementAudience.react'),babelHelpers['extends']({adAccountID:m},l)));}function j(){return [c('AudienceManagerPageEngagementAudienceStore'),c('AdsCommonAdvertisablePagesVideosStore')];}function k(l,m){var n=c('AdsCommonAdvertisablePagesVideosStore').getAdvertisablePages(),o=l&&l.pages,p=c('AdsCommonAdvertisablePagesVideosStore').getPageSearchQuery(),q=c('AudienceManagerPageEngagementAudienceStore').getPageID()||c('AdsCommonAdvertisablePagesVideosStore').getSelectedPageID()||l&&l.selectedPageID;if(n.hasValue()&&n.getValueEnforcing().count()>0){q=q||n.getValueEnforcing().first().id;o=o||n.getValueEnforcing().toArray();}else if(n.hasValue()&&n.getValueEnforcing().count()==0){q=q||'';o=o||[];}var r=m&&m.isUpdateAudience||false,s=c('AudienceManagerPageEngagementAudienceStore').getState(),t=s.creatingAudience,u=s.createdAudienceFailed,v=c('AudienceManagerPageEngagementAudienceStore').enableSubmit(),w=c('AudienceManagerPageEngagementAudienceStore').getFormData();return babelHelpers['extends']({createdAudienceFailed:u,creatingAudience:t,enableSubmit:v,formData:w,isUpdateAudience:r,pages:o,pageSearchQuery:p,selectedPageID:q},m);}f.exports=c('FluxContainer').createFunctional(i,j,k,{withProps:true});}),null);
__d('AdsCustomAudiencePageDataManager',['AdsActionTypes','AdsDispatcher','AdsGraphAPI','AdsPageFields','CurrentUser','GraphAPIPaging','GraphEdgeName'],(function a(b,c,d,e,f,g){'use strict';var h=[].concat(c('AdsPageFields').forCurrentUser(),[c('GraphEdgeName').STORE_VISITS_CUSTOM_AUDIENCES_ELIGIBLE_COUNTRIES]);i.prototype.loadAll=function(m){for(var n=m,o=Array.isArray(n),p=0,n=o?n:n[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var q;if(o){if(p>=n.length)break;q=n[p++];}else{p=n.next();if(p.done)break;q=p.value;}var r=q;this.load(r);}};i.prototype.load=function(m){c('AdsGraphAPI').get(f.id).objectByName('page',m).batched().get({fields:h}).done(function(n){return j(m,n);},function(n){return j(m,n);});};i.prototype.loadListFor=function(m){var n=m===c('CurrentUser').getID()?c('AdsGraphAPI').get(f.id).me():c('AdsGraphAPI').get(f.id).object('user',m);n.edge('accounts').get({is_promotable:true,fields:h}).then(c('GraphAPIPaging').allPages()).done(function(o){return k(m,o.data);},function(o){return l(m,o);});};function i(){}var j=function m(n,o){c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsActionTypes').CUSTOM_AUDIENCE_PAGE.ONE_LOADED,page:o,pageID:n});},k=function m(n,o){c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsActionTypes').CUSTOM_AUDIENCE_PAGE.LIST_LOADED,pages:o,userID:n});},l=function m(n,o){c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsActionTypes').CUSTOM_AUDIENCE_PAGE.LIST_LOAD_ERROR,error:o,userID:n});};f.exports=new i();}),null);
__d('AdsCustomAudiencePageListStore',['AdsActionTypes','AdsDispatcher','AdsCustomAudiencePageDataManager','CurrentUser','FluxLoadObjectStore','immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxLoadObjectStore'));i=h&&h.prototype;j.prototype.getForCurrentUser=function(){return this.get(c('CurrentUser').getID());};j.prototype.reduce=function(k,l){var m=l.action;switch(m.type){case c('AdsActionTypes').CUSTOM_AUDIENCE_PAGE.LIST_LOADED:return this.__handleOne(k,m.userID,new (c('immutable').List)(m.pages.map(function(n){return n.id;})));case c('AdsActionTypes').CUSTOM_AUDIENCE_PAGE.LIST_LOAD_ERROR:return this.__handleOne(k,m.userID,m.error);}return k;};j.prototype.__load=function(k){c('AdsCustomAudiencePageDataManager').loadListFor(k);};function j(){h.apply(this,arguments);}f.exports=new j(c('AdsDispatcher'));}),null);
__d('AdsPageDropdownSelector.react',['cx','fbt','AdsAssetSectionType','AdsLoadState','AdsPageAssetSelector.react','AdsPageSelectorStore','ApiPagePaths','ContextualLayer.react','ContextualLayerAutoFlip','ContextualLayerUpdateOnScroll','FluxMixinLegacy','Image.react','LayerHideOnBlur','LayerHideOnEscape','React','XUIPopoverButton.react','getByPath'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=300,l=2,m=12,n=16,o=i._("Choose a Page"),p=c('React').createClass({displayName:'AdsPageDropdownSelector',propTypes:{alignment:j.oneOf(["left","center","right"]),"aria-label":j.string,"data-hover":j.string,'data-tooltip-content':j.string,"data-tooltip-position":j.string,defaultTextDisplay:j.string,disabled:j.bool,filteredBusinessID:j.string,permissions:j.object,pages:j.array.isRequired,selectedPageID:j.string,size:j.string,showNameLabel:j.bool.isRequired,suppressed:j.bool.isRequired,userButton:j.object,onPageSelected:j.func.isRequired},mixins:[c('FluxMixinLegacy')([c('AdsPageSelectorStore')],{withProps:true})],statics:{calculateState:function q(r,s){if(s.pages){var t=s.defaultDisplayText||o,u='',v=s.pages.find(function(w){return w.id===s.selectedPageID;});if(v){t=c('getByPath')(v,c('ApiPagePaths').NAME);u=''+c('getByPath')(v,c('ApiPagePaths').BUSINESS);}return {textDisplay:t,selectedBusinessID:u};}}},getDefaultProps:function q(){return {alignment:'right'};},getInitialState:function q(){return {dialogShown:false,searchQuery:''};},renderLayers:function q(){return (c('React').createElement(c('ContextualLayer.react'),{alignment:this.props.alignment,behaviors:{ContextualLayerAutoFlip:c('ContextualLayerAutoFlip'),ContextualLayerUpdateOnScroll:c('ContextualLayerUpdateOnScroll'),LayerHideOnBlur:c('LayerHideOnBlur'),LayerHideOnEscape:c('LayerHideOnEscape')},contextRef:function(){return this.refs['open-menu-button'];}.bind(this),offsetY:l,position:'below',shown:this.state.dialogShown,onToggle:this._onToggle,key:'contextualDialog'},this._renderLayerContent()));},render:function q(){var r=null,s=this._getSelectedImageSource();if(s)r=c('React').createElement(c('Image.react'),{className:"_4z8_",height:n,src:s,width:n});return (c('React').createElement('span',null,c('React').createElement(c('XUIPopoverButton.react'),{className:"_4z8-",'data-hover':this.props['data-hover'],'data-tooltip-content':this.props['aria-label'],'data-tooltip-position':this.props['data-tooltip-position'],disabled:this.props.disabled,image:r,label:this.state.textDisplay,ref:'open-menu-button',size:this.props.size,suppressed:this.props.suppressed,type:'button',onClick:this._onToggleDialogClick}),this.renderLayers()));},_renderLayerContent:function q(){var r=null;if(this.props.selectedPageID)r=c('React').createElement('div',{className:"_55fc"});return (c('React').createElement('div',{className:"_21wq _2fy8"},c('React').createElement(c('AdsPageAssetSelector.react'),{bookmarkedPages:[],compactLayout:true,filteredBusinessID:this.props.filteredBusinessID,listItemHoverStyle:'dark-blue',maxListHeight:k,pages:this.props.pages,searchBarVisible:this.props.pages.length>=m,searchQuery:this.state.searchQuery,searchState:c('AdsLoadState').NOT_LOADED,selectedBusinessID:this.state.selectedBusinessID,selectedPageID:this.props.selectedPageID,selectedSectionType:c('AdsAssetSectionType').OWNED,showBookmarks:false,showNonBizGroupTitle:false,showPageCount:true,onPageBookmarked:function s(){},onPageRemoved:function s(){},onPageSelected:this._onChange,onSearch:this._onSearch})));},_onChange:function q(r,s,t){this.setState({dialogShown:false});this.props.onPageSelected(r,s,t);},_onSearch:function q(r){this.setState({searchQuery:r});},_onToggleDialogClick:function q(){if(!this.state.dialogShown)this.setState({dialogShown:true});},_onToggle:function q(r){if(this.state.dialogShown&&!r)this.setState({dialogShown:false});},_getSelectedImageSource:function q(){var r=this.props.selectedPageID;if(!r){return null;}else return c('getByPath')(this._getPageByID(r),c('ApiPagePaths').PICTURE.DATA.URL);},_getPageByID:function q(r){return this.props.pages.find(function(s){return s.id===r;});},_getPageName:function q(r){return c('getByPath')(this._getPageByID(r),c('ApiPagePaths').NAME);}});f.exports=p;}),null);
__d('AdsCustomAudiencePageSelector.react',['cx','fbt','AdsPageDropdownSelector.react','BUIAdoptionXUINotice.react','BUIAdoptionXUISpinner.react','CenteredContainer.react','ImmutableObject','LoadObject','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$AdsCustomAudiencePageSelector1=function(r){if(this.props.selectedPageID===r)return;this.props.onChange(r);}.bind(this),n;}l.prototype.render=function(){var m=this.props.pages;if(m.isLoading())return c('React').createElement(c('CenteredContainer.react'),{className:"_1o_j"},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'small'}));var n=m.getValue();if(m.hasError()||n&&n.length===0||!n)return c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'error'},i._("You don't have any eligible Pages"));return c('React').createElement(c('AdsPageDropdownSelector.react'),{alignment:'left',pages:n,searchBarVisible:false,selectedPageID:this.props.selectedPageID,showNameLabel:true,size:'large',suppressed:false,onPageSelected:this.$AdsCustomAudiencePageSelector1});};f.exports=l;}),null);
__d('AdsCustomAudiencePageSelectorElement.react',['fbt','AdsCustomAudiencePageSelector.react','BUIFormElement.react','ImmutableObject','LoadObject','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement(c('BUIFormElement.react'),{helpText:this.props.helpText,label:h._("Page")},c('React').createElement(c('AdsCustomAudiencePageSelector.react'),this.props)));};function l(){i.apply(this,arguments);}f.exports=l;}),null);
__d('AdsCustomAudiencePageStore',['AdsActionTypes','AdsDispatcher','AdsCustomAudiencePageDataManager','FluxLoadObjectStore','immutable','Map'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxLoadObjectStore'));i=h&&h.prototype;j.prototype.reduce=function(k,l){var m=l.action;switch(m.type){case c('AdsActionTypes').CUSTOM_AUDIENCE_PAGE.ONE_LOADED:return this.__handleOne(k,m.page.id,m.page);case c('AdsActionTypes').CUSTOM_AUDIENCE_PAGE.LIST_LOADED:return this.__handleMap(k,new (c('Map'))(m.pages.map(function(n){return [n.id,n];})));case c('AdsActionTypes').CUSTOM_AUDIENCE_PAGE.LIST_LOAD_ERROR:return this.__handleOne(k,m.userID,m.error);}return k;};j.prototype.__loadAll=function(k){c('AdsCustomAudiencePageDataManager').loadAll(k);};function j(){h.apply(this,arguments);}f.exports=new j(c('AdsDispatcher'));}),null);
__d('AdsCustomAudiencePageSelectorContainer.react',['AdsCustomAudiencePageListStore','AdsCustomAudiencePageSelectorElement.react','AdsCustomAudiencePageStore','FluxContainer','ImmutableObject','LoadObject','React','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h=function j(){return [c('AdsCustomAudiencePageListStore'),c('AdsCustomAudiencePageStore')];},i=function j(k,l){var m=c('nullthrows')(l),n=m.helpText,o=m.pageFilter,p=m.selectedPageID,q=m.onChange,r=c('AdsCustomAudiencePageListStore').getForCurrentUser(),s=c('LoadObject').empty();if(r.hasValue()){var t=r.getValueEnforcing();s=c('LoadObject').withValue(c('AdsCustomAudiencePageStore').getAll(t).filter(function(u){return u.hasValue();}).map(function(u){return u.getValueEnforcing();}).filter(function(u){return o?o(u):true;}).toArray());}else s=r;return {helpText:n,pages:s,selectedPageID:p,onChange:q};};f.exports=c('FluxContainer').createFunctional(function(j){return c('React').createElement(c('AdsCustomAudiencePageSelectorElement.react'),j);},h,i,{withProps:true});}),null);
__d('AdsAudienceSearchableSelector.react',['AbstractSearchSource','SearchableEntry','SUISearchableSelector.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Element,k=c('React').PureComponent,l=200;h=babelHelpers.inherits(m,k);i=h&&h.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=i.constructor).call.apply(n,[this].concat(q)),this.state={value:null},this.$AdsAudienceSearchableSelector1=false,this.$AdsAudienceSearchableSelector4=function(s){this.setState({value:s});this.props.onChange(s.getUniqueID());}.bind(this),o;}m.prototype.componentDidMount=function(){this.$AdsAudienceSearchableSelector1=true;this.$AdsAudienceSearchableSelector2();};m.prototype.componentDidUpdate=function(){this.$AdsAudienceSearchableSelector2();};m.prototype.$AdsAudienceSearchableSelector2=function(){if(this.props.initialQuery&&this.props.value){this.$AdsAudienceSearchableSelector3(this.props.initialQuery,this.props.value);}else if(this.props.value){this.$AdsAudienceSearchableSelector3(this.props.value,this.props.value);}else this.setState({value:null});};m.prototype.componentWillUnmount=function(){this.$AdsAudienceSearchableSelector1=false;};m.prototype.$AdsAudienceSearchableSelector3=function(n,o){this.props.searchSource.search(n,function(p){if(this.$AdsAudienceSearchableSelector1)p.forEach(function(q){if(q.getUniqueID()===o)this.setState({value:q});}.bind(this));}.bind(this));};m.prototype.render=function(){return c('React').createElement(c('SUISearchableSelector.react'),{buttonBorderedSides:this.props.buttonBorderedSides,buttonRoundedCorners:this.props.buttonRoundedCorners,errorMessage:this.props.errorMessage,errorTooltipPosition:'right',hasCategories:this.props.hasCategories,placeholder:this.props.placeholder,searchSource:this.props.searchSource,shouldShowSubtitleInSelector:false,value:this.state.value,width:this.props.width,onChange:this.$AdsAudienceSearchableSelector4,onOpened:this.props.onOpened});};m.defaultProps={buttonBorderedSides:['top','right','bottom','left'],buttonRoundedCorners:['topLeft','topRight','bottomRight','bottomLeft'],hasCategories:true,width:l};f.exports=m;}),null);
__d('AdsCustomAudienceSVCountrySelector.react',['fbt','AdsAudienceSearchableSelector.react','React','StaticSearchSource'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=new (c('StaticSearchSource'))([]);i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement(c('AdsAudienceSearchableSelector.react'),{errorMessage:this.props.errorMessage,isDisabled:!this.props.searchSource,placeholder:h._("Select a country"),searchSource:this.props.searchSource||k,value:this.props.selectedCountry,onChange:this.props.onChange}));};function l(){i.apply(this,arguments);}f.exports=l;}),null);
__d('AdsCustomAudienceSVCountrySelectorElement.react',['fbt','AdsCustomAudienceSVCountrySelector.react','BUIFormElement.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){return (c('React').createElement(c('BUIFormElement.react'),{helpText:h._("Choose which country you want to create your audience for"),label:h._("Country")},c('React').createElement(c('AdsCustomAudienceSVCountrySelector.react'),this.props)));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('AdsPageStoreVisitCountriesActions',['AdsActionTypes','AdsDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h={countriesLoaded:function i(j,k){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsActionTypes').PAGE_STORE_VISIT_COUNTRIES.LOADED,pageID:j,countries:k});}};f.exports=h;}),null);
__d('AdsPageStoreVisitCountriesDataManager',['regeneratorRuntime','AdsGraphAPI','AdsPageStoreVisitCountriesActions','GraphEdgeName'],(function a(b,c,d,e,f,g){'use strict';var h={load:function k(l){var m;return c('regeneratorRuntime').async(function n(o){while(1)switch(o.prev=o.next){case 0:m=void 0;o.prev=1;o.next=4;return c('regeneratorRuntime').awrap(j(l));case 4:m=o.sent;o.next=10;break;case 7:o.prev=7;o.t0=o['catch'](1);m=o.t0;case 10:c('AdsPageStoreVisitCountriesActions').countriesLoaded(l,m);case 11:case 'end':return o.stop();}},null,this,[[1,7]]);}};function i(k){return c('regeneratorRuntime').async(function l(m){while(1)switch(m.prev=m.next){case 0:m.next=2;return c('regeneratorRuntime').awrap(c('AdsGraphAPI').get(f.id).object('page',k).get({fields:'access_token'}).then(function(n){return n.access_token;}));case 2:return m.abrupt('return',m.sent);case 3:case 'end':return m.stop();}},null,this);}function j(k){var l;return c('regeneratorRuntime').async(function m(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return c('regeneratorRuntime').awrap(i(k));case 2:l=n.sent;n.next=5;return c('regeneratorRuntime').awrap(c('AdsGraphAPI').get(f.id).object('page',k).edge(c('GraphEdgeName').STORE_VISITS_CUSTOM_AUDIENCES_ELIGIBLE_COUNTRIES).get({access_token:l}).then(function(o){return o.data.map(function(p){return p.country_code;});}));case 5:return n.abrupt('return',n.sent);case 6:case 'end':return n.stop();}},null,this);}f.exports=h;}),null);
__d('AdsPageStoreVisitCountriesStore',['AdsActionTypes','AdsDispatcher','AdsPageStoreVisitCountriesDataManager','FluxLoadObjectStore','GraphEdgeName','Map','getByPath'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxLoadObjectStore'));i=h&&h.prototype;j.prototype.reduce=function(k,l){var m=l.action;switch(m.type){case c('AdsActionTypes').PAGE_STORE_VISIT_COUNTRIES.LOADED:return this.__handleOne(k,m.pageID,m.countries);case c('AdsActionTypes').CUSTOM_AUDIENCE_PAGE.LIST_LOADED:return this.__handleMap(k,new (c('Map'))(m.pages.map(function(n){return [n.id,c('getByPath')(n,[c('GraphEdgeName').STORE_VISITS_CUSTOM_AUDIENCES_ELIGIBLE_COUNTRIES,'data'],[]).map(function(o){return o.country_code;})];})));default:return k;}};j.prototype.__load=function(k){c('AdsPageStoreVisitCountriesDataManager').load(k);};function j(){h.apply(this,arguments);}f.exports=new j(c('AdsDispatcher'));}),null);
__d('AdsPageStoreVisitCountriesSearchSource',['AdsCountries','AdsFluxStoreSearchSource','AdsPageStoreVisitCountriesStore','LoadObject','SearchableEntry','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsFluxStoreSearchSource'));i=h&&h.prototype;function j(l){var m=babelHelpers['extends']({getAllForEmptyQuery:true},l,{queryRequests:[{store:c('AdsPageStoreVisitCountriesStore'),getData:function n(o){return k(c('AdsPageStoreVisitCountriesStore').get(l.pageID));}}]});i.constructor.call(this,m);c('AdsPageStoreVisitCountriesStore').get(l.pageID);}var k=function l(m){if(m.isLoading())return c('LoadObject').loading();if(m.hasError())return c('LoadObject').withError(c('nullthrows')(m.getError()));var n=m.getValue();if(!n)return c('LoadObject').empty();return c('LoadObject').withValue(n.map(function(o){return new (c('SearchableEntry'))({uniqueID:o,title:c('AdsCountries').countries[o]});}));};f.exports=j;}),null);
__d('AdsCustomAudienceSVCountrySelectorContainer.react',['fbt','AdsCustomAudienceSVCountrySelectorElement.react','AdsPageStoreVisitCountriesSearchSource','AdsPageStoreVisitCountriesStore','FluxContainer','React','memoizeWithArgs','nullthrows'],(function a(b,c,d,e,f,g,h){'use strict';var i=function m(){return [c('AdsPageStoreVisitCountriesStore')];},j=function m(n){var o=c('AdsPageStoreVisitCountriesStore').get(n).getValue();if(o!=null&&o.length===0)return h._("This Page can't be used to create a Custom Audience. Pages must have 10 or more business locations that are eligible for store visits reporting.");return null;},k=c('memoizeWithArgs')(function(m){if(!m)return null;return new (c('AdsPageStoreVisitCountriesSearchSource'))({getAllForEmptyQuery:true,pageID:m});},function(m){return m;}),l=function m(n,o){var p=c('nullthrows')(o),q=p.pageID,r=p.selectedCountry,s=p.onChange,t=j(q),u=k(q);return {errorMessage:t,pageID:q,searchSource:u,selectedCountry:r,onChange:s};};f.exports=c('FluxContainer').createFunctional(function(m){return c('React').createElement(c('AdsCustomAudienceSVCountrySelectorElement.react'),m);},i,l,{withProps:true});}),null);
__d('StoreVisitCustomAudienceUIEvents',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({STORE_VISIT_CREATE_INIT:'',STORE_VISIT_COUNTRY_CHANGED:'',STORE_VISIT_DESCRIPTION_CHANGED:'',STORE_VISIT_RETENTION_DAYS_CHANGED:'',STORE_VISIT_NAME_CHANGED:'',STORE_VISIT_PAGE_CHANGED:'',STORE_VISIT_START_CREATING:'',STORE_VISIT_DONE_CREATING:'',STORE_VISIT_CREATING_ERROR:''});f.exports=h;}),null);
__d('AudienceManagerStoreVisitAudienceViewAction',['AdsDispatcher','StoreVisitCustomAudienceUIEvents'],(function a(b,c,d,e,f,g){'use strict';f.exports={changeCountry:function h(i){c('AdsDispatcher').handleUpdateFromViewAction({type:c('StoreVisitCustomAudienceUIEvents').STORE_VISIT_COUNTRY_CHANGED,data:{value:i}});},changeDescription:function h(i){c('AdsDispatcher').handleUpdateFromViewAction({type:c('StoreVisitCustomAudienceUIEvents').STORE_VISIT_DESCRIPTION_CHANGED,data:{value:i.target.value}});},changePage:function h(i){c('AdsDispatcher').handleUpdateFromViewAction({type:c('StoreVisitCustomAudienceUIEvents').STORE_VISIT_PAGE_CHANGED,data:{value:i}});},changeRetentionDays:function h(i){c('AdsDispatcher').handleUpdateFromViewAction({type:c('StoreVisitCustomAudienceUIEvents').STORE_VISIT_RETENTION_DAYS_CHANGED,data:{value:i}});},changeName:function h(i){c('AdsDispatcher').handleUpdateFromViewAction({type:c('StoreVisitCustomAudienceUIEvents').STORE_VISIT_NAME_CHANGED,data:{value:i.target.value}});},startCreating:function h(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('StoreVisitCustomAudienceUIEvents').STORE_VISIT_START_CREATING});},doneCreating:function h(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('StoreVisitCustomAudienceUIEvents').STORE_VISIT_DONE_CREATING});},creatingError:function h(i){c('AdsDispatcher').handleUpdateFromViewAction({type:c('StoreVisitCustomAudienceUIEvents').STORE_VISIT_CREATING_ERROR,error:i});},init:function h(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('StoreVisitCustomAudienceUIEvents').STORE_VISIT_CREATE_INIT});}};}),null);
__d('AudienceManagerStoreVisitConstant',[],(function a(b,c,d,e,f,g){'use strict';f.exports={CountryCode:{DEFAULT:'US'},RetentionDay:{DEFAULT:30,MIN:1,MAX:30},FormField:{COUNTRY:'country',DESCRIPTION:'description',ID:'id',NAME:'name',PAGE:'page',RETENTION_DAYS:'retentionDays'}};}),null);
__d('AudienceManagerCreateStoreVisitAudience.react',['cx','fbt','DateConsts','AdsAPICustomAudienceFields','AdsCustomAudienceDescriptionElement.react','AdsCustomAudienceNameElement.react','AdsCustomAudiencePageSelectorContainer.react','AdsPageUtils','AdsCustomAudienceSVCountrySelectorContainer.react','AudienceManagerDayInput.react','AudienceManagerDialogBackButton.react','AudienceManagerDialogCreateAudienceButton.react','AudienceManagerDialogUpdateAudienceButton.react','BUIAdoptionXUINotice.react','BUIAdoptionXUISpinner.react','BUIForm.react','BUIFormElement.react','BUIFormSection.react','CenteredContainer.react','CustomAudienceRuleAggregationField','CustomAudienceRuleAggregationFunction','CustomAudienceRuleEventSourceField','CustomAudienceRuleField','CustomAudienceRuleFilterField','CustomAudienceRuleSignalSource','GraphEdgeName','React','AudienceManagerStoreVisitConstant','StoreVisitCustomAudiencesConstants','AudienceManagerStoreVisitAudienceViewAction','XUIDialogCancelButton.react','XUIDialogBody.react','XUIDialogFooter.react','getByPath'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('DateConsts').SEC_PER_DAY,m=c('AudienceManagerStoreVisitConstant').RetentionDay;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.$AudienceManagerCreateStoreVisitAudience2=function(){var v,w,x,y,z,aa,ba,ca=this.props.formData,da=(ba={},ba[c('AdsAPICustomAudienceFields').DESCRIPTION]=ca.description.trim(),ba[c('AdsAPICustomAudienceFields').NAME]=ca.name.trim(),ba[c('AdsAPICustomAudienceFields').PREFILL]=true,ba[c('AdsAPICustomAudienceFields').RULE]=(aa={},aa[c('CustomAudienceRuleField').RETENTION_SECONDS]=ca.retentionDays*l,aa[c('CustomAudienceRuleField').EVENT_SOURCES]=[(v={},v[c('CustomAudienceRuleEventSourceField').ID]=ca.page,v[c('CustomAudienceRuleEventSourceField').TYPE]=c('CustomAudienceRuleSignalSource').STORE_VISITS,v)],aa[c('CustomAudienceRuleField').FILTER]=(y={},y[c('CustomAudienceRuleFilterField').OPERATOR]='and',y[c('CustomAudienceRuleFilterField').FILTERS]=[(w={},w[c('CustomAudienceRuleFilterField').OPERATOR]='eq',w[c('CustomAudienceRuleFilterField').FIELD]='event',w[c('CustomAudienceRuleFilterField').VALUE]=c('StoreVisitCustomAudiencesConstants').RULE_FILTER_EVENT_STORE_VISIT,w),(x={},x[c('CustomAudienceRuleFilterField').OPERATOR]='eq',x[c('CustomAudienceRuleFilterField').FIELD]=c('StoreVisitCustomAudiencesConstants').RULE_FILTER_FIELD_COUNTRY,x[c('CustomAudienceRuleFilterField').VALUE]=ca.country,x)],y),aa[c('CustomAudienceRuleField').AGGREGATION]=(z={},z[c('CustomAudienceRuleAggregationField').TYPE]=c('CustomAudienceRuleAggregationFunction').COUNT,z[c('CustomAudienceRuleAggregationField').OPERATOR]='>',z[c('CustomAudienceRuleAggregationField').VALUE]=0,z),aa),ba);c('AudienceManagerStoreVisitAudienceViewAction').startCreating();this.props.onCreateAudience(da,function(ea){if(this.props.onAudienceAdded)this.props.onAudienceAdded(ea);c('AudienceManagerStoreVisitAudienceViewAction').doneCreating();this.props.onCancel();}.bind(this),function(ea){c('AudienceManagerStoreVisitAudienceViewAction').creatingError(ea);});}.bind(this),r;}n.prototype.render=function(){var q=this.props.isUpdateAudience?c('AudienceManagerDialogUpdateAudienceButton.react'):c('AudienceManagerDialogCreateAudienceButton.react');return c('React').createElement('div',{className:"_5fb0"},c('React').createElement(c('XUIDialogBody.react'),{className:"_5fc3"},this.$AudienceManagerCreateStoreVisitAudience1()),c('React').createElement(c('XUIDialogFooter.react'),{leftContent:c('React').createElement(c('XUIDialogCancelButton.react'),null)},c('React').createElement(c('AudienceManagerDialogBackButton.react'),{onClick:this.props.onBack}),c('React').createElement(q,{disabled:!this.props.enableSubmit,onClick:this.$AudienceManagerCreateStoreVisitAudience2})));};n.prototype.$AudienceManagerCreateStoreVisitAudience1=function(){if(this.props.isCreating)return c('React').createElement(c('CenteredContainer.react'),{fullHeight:true,vertical:true},c('React').createElement('div',{className:"_4ylk"},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'})));var q=this.props,r=q.formData,s=q.error;return c('React').createElement('div',null,s?c('React').createElement(c('BUIAdoptionXUINotice.react'),{className:"_3-95",type:'error'},s.message):null,c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'information'},i._("Create a list of people who have previously visited one of your business locations.")),c('React').createElement(c('BUIForm.react'),{className:"_5fc6",density:'svelt',labelPosition:'left'},c('React').createElement(c('BUIFormSection.react'),{className:"_5fc7"},c('React').createElement(c('AdsCustomAudiencePageSelectorContainer.react'),{helpText:i._("Choose a Page you want to use as the source for business locations."),pageFilter:p,selectedPageID:r.page,onChange:c('AudienceManagerStoreVisitAudienceViewAction').changePage}),c('React').createElement(c('AdsCustomAudienceSVCountrySelectorContainer.react'),{pageID:r.page,selectedCountry:r.country,onChange:c('AudienceManagerStoreVisitAudienceViewAction').changeCountry}),c('React').createElement(c('BUIFormElement.react'),{helpText:c('React').createElement('div',null,i._("The number of days that people will remain in your audience for after they have visited one of your business locations. People will be removed from your audience after the set time period unless they visit again."),c('React').createElement('br',null),c('React').createElement('br',null),i._("Maximum time: {maximum value of retention days} days",[i.param('maximum value of retention days',m.MAX)])),label:i._("Visited in the past")},c('React').createElement(c('AudienceManagerDayInput.react'),{className:"_5fc8",height:'tall',max:m.MAX,min:m.MIN,value:r.retentionDays,onChange:c('AudienceManagerStoreVisitAudienceViewAction').changeRetentionDays})),c('React').createElement(c('AdsCustomAudienceNameElement.react'),{value:r.name,onChange:c('AudienceManagerStoreVisitAudienceViewAction').changeName}),c('React').createElement(c('AdsCustomAudienceDescriptionElement.react'),{value:r.description,onChange:c('AudienceManagerStoreVisitAudienceViewAction').changeDescription}))));};var o=function q(r){return (c('getByPath')(r,[c('GraphEdgeName').STORE_VISITS_CUSTOM_AUDIENCES_ELIGIBLE_COUNTRIES,'data'],[]).length>0);},p=function q(r){return (c('AdsPageUtils').hasLocations(r)&&c('AdsPageUtils').canCreateAdsForPage(r)&&o(r));};f.exports=n;}),null);
__d('AudienceManagerStoreVisitAudienceStore',['AudienceManagerStoreVisitConstant','AdsDispatcher','FluxReduceStore','immutable','StoreVisitCustomAudienceUIEvents'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k,l,m=c('AudienceManagerStoreVisitConstant').FormField,n=c('AudienceManagerStoreVisitConstant').RetentionDay,o=m.COUNTRY,p=m.DESCRIPTION,q=m.ID,r=m.NAME,s=m.PAGE,t=m.RETENTION_DAYS;h=babelHelpers.inherits(u,c('immutable').Record((l={},l[o]='',l[p]='',l[r]='',l[s]='',l[t]=n.DEFAULT,l[q]=null,l.isCreating=false,l.error=null,l)));i=h&&h.prototype;function u(){h.apply(this,arguments);}j=babelHelpers.inherits(v,c('FluxReduceStore'));k=j&&j.prototype;v.prototype.getInitialState=function(){return new u();};v.prototype.$AudienceManagerStoreVisitAudienceStore1=function(){var w=this.getState().get(t);return (!!w&&!isNaN(w)&&w>=n.MIN&&w<=n.MAX);};v.prototype.enableSubmit=function(){var w=this.getState();return (!!w.get(o)&&!!w.get(r)&&!!w.get(s)&&this.$AudienceManagerStoreVisitAudienceStore1());};v.prototype.getFormData=function(){var w,x=this.getState();return w={},w[o]=x.get(o),w[p]=x.get(p),w[s]=x.get(s),w[t]=x.get(t),w[r]=x.get(r),w[q]=x.get(q),w;};v.prototype.reduce=function(w,x){var y,z=x.action,aa=z.data,ba=z.type;switch(ba){case c('StoreVisitCustomAudienceUIEvents').STORE_VISIT_CREATE_INIT:return new u();case c('StoreVisitCustomAudienceUIEvents').STORE_VISIT_COUNTRY_CHANGED:return w.set(o,aa.value);case c('StoreVisitCustomAudienceUIEvents').STORE_VISIT_DESCRIPTION_CHANGED:return w.set(p,aa.value);case c('StoreVisitCustomAudienceUIEvents').STORE_VISIT_RETENTION_DAYS_CHANGED:var ca=aa.value;if(ca<n.MIN){ca=n.MIN;}else if(ca>n.MAX)ca=n.MAX;return w.set(t,ca);case c('StoreVisitCustomAudienceUIEvents').STORE_VISIT_NAME_CHANGED:return w.set(r,aa.value);case c('StoreVisitCustomAudienceUIEvents').STORE_VISIT_PAGE_CHANGED:return w.merge((y={},y[s]=aa.value,y[o]=null,y));case c('StoreVisitCustomAudienceUIEvents').STORE_VISIT_START_CREATING:return w.set('isCreating',true);case c('StoreVisitCustomAudienceUIEvents').STORE_VISIT_DONE_CREATING:return w.set('isCreating',false);case c('StoreVisitCustomAudienceUIEvents').STORE_VISIT_CREATING_ERROR:return w.set('error',z.error).set('isCreating',false);default:return w;}};function v(){j.apply(this,arguments);}f.exports=new v(c('AdsDispatcher'));}),null);
__d('AudienceManagerCreateStoreVisitAudienceContainer.react',['AudienceManagerStoreVisitAudienceStore','AudienceManagerCreateStoreVisitAudience.react','FluxContainer','React'],(function a(b,c,d,e,f,g){'use strict';var h=function j(){return [c('AudienceManagerStoreVisitAudienceStore')];},i=function j(k,l){var m=c('AudienceManagerStoreVisitAudienceStore').enableSubmit(),n=c('AudienceManagerStoreVisitAudienceStore').getFormData(),o=c('AudienceManagerStoreVisitAudienceStore').getState(),p=o.isCreating,q=o.error,r=l&&l.isUpdateAudience||false;return babelHelpers['extends']({enableSubmit:m,error:q,formData:n,isCreating:p,isUpdateAudience:r},l);};f.exports=c('FluxContainer').createFunctional(function(j){return c('React').createElement(c('AudienceManagerCreateStoreVisitAudience.react'),j);},h,i,{withProps:true});}),null);
__d('CustomerListTypeSelector.react',['cx','ix','fbt','BUIAdoptionXUIGrayText.react','Image.react','ImageBlock.react','React','WeightedLookalikeConfig'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes,n=i("21696"),o=i("21723"),p=i("21691"),q=j._("Customer file"),r=j._("Customer file with LTV"),s=j._("Choose a file or copy and paste data"),t=j._("Use your customers' information to match them with people on Facebook."),u=j._("Upload a file that includes the customer lifetime value (LTV)"),v=j._("Use your customers' information to match them with people on Facebook. Include customer lifetime value (LTV) as a column in your file to enable value-based lookalikes."),w=j._("Add customers from your own file or copy and paste data"),x=j._("Include a column with LTV"),y=j._("Import from MailChimp"),z=j._("Import email addresses directly from this third-party connection by providing your login credentials.");k=babelHelpers.inherits(aa,c('React').Component);l=k&&k.prototype;function aa(){var ba,ca;for(var da=arguments.length,ea=Array(da),fa=0;fa<da;fa++)ea[fa]=arguments[fa];return ca=(ba=l.constructor).call.apply(ba,[this].concat(ea)),this.$CustomerListTypeSelector1=function(){var ga=this.props.onUploadFileClick;ga();}.bind(this),ca;}aa.prototype.$CustomerListTypeSelector2=function(){var ba=this.props.showNewUIWithWeightedCA,ca=ba?w:s,da=c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},ca),c('React').createElement('div',{className:"_3-8x"},t));return (c('React').createElement('li',{className:"_247s",tabIndex:'0',onClick:this.$CustomerListTypeSelector1},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{src:n}),da)));};aa.prototype.$CustomerListTypeSelector3=function(){var ba=this.props.showNewUIWithWeightedCA,ca=ba?x:u,da=c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},ca),c('React').createElement('div',{className:"_3-8x"},v));return (c('React').createElement('li',{className:"_247s",tabIndex:'0',onClick:this.props.onUploadWeightedFileClick},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{src:o}),da)));};aa.prototype.$CustomerListTypeSelector4=function(){var ba=z;return (c('React').createElement('li',{className:"_247s",tabIndex:'0',onClick:this.props.onThirdPartyClick},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{src:p}),c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},y),c('React').createElement('div',{className:"_3-8x"},ba)))));};aa.prototype.$CustomerListTypeSelector5=function(ba){return (c('React').createElement('div',null,c('React').createElement('div',{className:"_46-8"},q),c('React').createElement('div',{className:"_247t"},c('React').createElement('ul',null,this.$CustomerListTypeSelector2(),this.$CustomerListTypeSelector4())),c('React').createElement('div',{className:"_46-8"},r),c('React').createElement('div',{className:"_247t"},c('React').createElement('ul',null,ba))));};aa.prototype.render=function(){var ba=this.props.showNewUIWithWeightedCA,ca=c('WeightedLookalikeConfig').can_account_use_weighted_datafile||ba?this.$CustomerListTypeSelector3():null;if(ba)return this.$CustomerListTypeSelector5(ca);return (c('React').createElement('div',{className:"_247t"},c('React').createElement('ul',null,this.$CustomerListTypeSelector2(),ca,this.$CustomerListTypeSelector4())));};aa.propTypes={showNewUIWithWeightedCA:m.bool,onThirdPartyClick:m.func.isRequired,onUploadFileClick:m.func.isRequired,onUploadWeightedFileClick:m.func.isRequired};f.exports=aa;}),null);
__d('AudienceManagerCustomerListDialogContent.react',['cx','fbt','BUIAdoptionXUIGrayText.react','CustomerListTypeSelector.react','React','WeightedLookalikeConfig','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=i._("How do you want to add customers to this audience?"),n=i._("You can use your own file to upload one or more kinds of customer information, or import email addresses directly from MailChimp.");j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;o.prototype.render=function(){var p=n,q=c('WeightedLookalikeConfig').can_account_use_weighted_datafile,r=q?null:c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},m),c('React').createElement('div',{className:"_3-98 _3-8y"},p));return (c('React').createElement('div',null,c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_50_z"},r,c('React').createElement(c('CustomerListTypeSelector.react'),{showNewUIWithWeightedCA:q,onThirdPartyClick:this.props.onThirdPartyClick,onUploadFileClick:this.props.onUploadFileClick,onUploadWeightedFileClick:this.props.onUploadWeightedFileClick}))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:i._("Back"),onClick:this.props.onBack}))));};function o(){j.apply(this,arguments);}o.propTypes={onBack:l.func.isRequired,onThirdPartyClick:l.func.isRequired,onUploadFileClick:l.func.isRequired,onUploadWeightedFileClick:l.func.isRequired};f.exports=o;}),null);
__d('APAudienceBuilderOperators',['immutable','APStrings'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').Set,i=c('immutable').OrderedSet,j=function l(m){var n=m.get('attribute'),o=m.get('operand'),p=m.get('operator'),q=void 0;if(p.value==='contains'||p.value==='not_contains'){if(Array.isArray(o)){q=o.map(function(r){return '\''+r+'\'';}).join(' ');}else q='\''+o+'\'';}else if(n.type!=='integer'){q='\''+o+'\'';}else q=''+o;return q;},k=i([{label:c('APStrings').getIsGreaterThanLabel(),value:'greater_than',compatibleTypes:h(['integer']),toString:function l(m){return m&&'> '+m.get('attribute').name+' '+j(m);}},{label:c('APStrings').getIsSmallerThanLabel(),value:'less_than',compatibleTypes:h(['integer']),toString:function l(m){return m&&'< '+m.get('attribute').name+' '+j(m);}},{label:c('APStrings').getIsGreaterOrEqualThanLabel(),value:'greater_or_equal_to',compatibleTypes:h(['integer']),toString:function l(m){return m&&'>= '+m.get('attribute').name+' '+j(m);}},{label:c('APStrings').getIsSmallerOrEqualThanLabel(),value:'less_or_equal_to',compatibleTypes:h(['integer']),toString:function l(m){return m&&'<= '+m.get('attribute').name+' '+j(m);}},{label:c('APStrings').getEqualsLabel(),value:'equals',compatibleTypes:h(['string','integer']),toString:function l(m){return m&&'= '+m.get('attribute').name+' '+j(m);}},{label:c('APStrings').getNotEqualsLabel(),value:'not_equals',compatibleTypes:h(['string','integer']),toString:function l(m){return m&&'!= '+m.get('attribute').name+' '+j(m);}},{label:c('APStrings').getContainsLabel(),value:'contains',compatibleTypes:h(['string']),toString:function l(m){return m&&'in '+m.get('attribute').name+' '+j(m);}},{label:c('APStrings').getNotContainsLabel(),value:'not_contains',compatibleTypes:h(['string']),toString:function l(m){return m&&'not (in '+m.get('attribute').name+' '+j(m)+')';}}]);f.exports=k;}),null);
__d('APAudienceBuilderRuleGroupTypes',['immutable','APStrings'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').List,i=c('immutable').OrderedSet;function j(l,m){var n=l.map(function(o){var p=o.get('rules'),q=void 0;if(p){q='('+o.get('type').toString(p)+')';}else q='('+o.get('operator').toString(o)+')';return q;}).join(' ');if(l.size>1)n='('+m+' '+n+')';return n;}var k=i([{label:c('APStrings').getAllLabel(),value:'all',toString:function l(m){return m?j(m,'and'):'';}},{label:c('APStrings').getAnyLabel(),value:'any',toString:function l(m){return m?j(m,'or'):'';}},{label:c('APStrings').getNoneLabel(),value:'none',toString:function l(m){return m?'not('+j(m,'or')+')':'';}}]);f.exports=k;}),null);
__d('APIcon.react',['cx','invariant','immutable','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=40,k=40,l=c('React').createElement('g',null,c('React').createElement('path',{d:'M 20 2 l 19 32 l -38 0 z',className:"_31vw"}),c('React').createElement('path',{d:'M 18 11 l 4 0 l -1 14 l -2 0 z',className:"_31v-"}),c('React').createElement('path',{d:'M 22 27 l 0 4 l -4 0 l 0 -4 z',className:"_31v-"})),m={info:c('React').createElement('svg',{className:"_31v_",viewBox:'0, 0, 40, 40'},c('React').createElement('circle',{cx:20,cy:20,r:18,className:"_31vw"}),c('React').createElement('rect',{x:18,y:18,width:4,height:14,className:"_31v-"}),c('React').createElement('circle',{cx:20,cy:11,r:2.5,className:"_31v-"})),success:c('React').createElement('svg',{className:"_31w0",viewBox:'0, 0, 40, 40'},c('React').createElement('circle',{cx:20,cy:20,r:18,className:"_31vw"}),c('React').createElement('path',{d:'M 9 22 l 7 7 l 15 -15',fill:'none',className:"_31v-"})),error:c('React').createElement('svg',{className:"_31w1",viewBox:'0, 0, 40, 40'},l),warning:c('React').createElement('svg',{className:"_31w2",viewBox:'0, 0, 40, 40'},l),apLogo:c('React').createElement('svg',{className:"_48hp",viewBox:'0, 0, 40, 40'},c('React').createElement('circle',{cx:13,cy:14,r:11.5,strokeWidth:2.5,fill:'none'}),c('React').createElement('circle',{cx:27,cy:14,r:11.5,strokeWidth:2.5,fill:'none'}),c('React').createElement('circle',{cx:20,cy:26,r:11.5,strokeWidth:2.5,fill:'none'})),dataSet:c('React').createElement('svg',{className:"_48hq",viewBox:'0, 0, 40, 40'},c('React').createElement('circle',{cx:7,cy:6,r:4.7,stroke:'none'}),c('React').createElement('circle',{cx:20,cy:6,r:4.7,stroke:'none'}),c('React').createElement('circle',{cx:33,cy:6,r:4.7,stroke:'none'}),c('React').createElement('circle',{cx:13.5,cy:18,r:4.7,stroke:'none'}),c('React').createElement('circle',{cx:26.5,cy:18,r:4.7,stroke:'none'}),c('React').createElement('circle',{cx:20,cy:30,r:4.7,stroke:'none'})),add:c('React').createElement('svg',{className:"_5fkp",viewBox:'0, 0, 40, 40'},c('React').createElement('rect',{x:1,y:1,width:38,height:38,rx:4,ry:4}),c('React').createElement('line',{x1:20,y1:12,x2:20,y2:28}),c('React').createElement('line',{x1:12,y1:20,x2:28,y2:20})),remove:c('React').createElement('svg',{className:"_5fkp",viewBox:'0, 0, 40, 40'},c('React').createElement('rect',{x:1,y:1,width:38,height:38,rx:4,ry:4}),c('React').createElement('line',{x1:15,y1:15,x2:25,y2:25}),c('React').createElement('line',{x1:25,y1:15,x2:15,y2:25}))},n=function o(p){var q=c('joinClasses')("_31w3"+(p.inverted&&p.inverted===true?' '+"_31w4":'')+(p.animation==='fadeIn'?' '+"_31w5":'')+(p.animation==='bounceIn'?' '+"_31w6":''),p.className),r=!isNaN(p.width)?p.width:j,s=!isNaN(p.height)?p.height:k,t=m[p.shape];t||i(0);return (c('React').createElement('div',{className:q,style:{width:r,height:s}},t));};f.exports=n;}),null);
__d('APAddButton.react',['cx','APIcon.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(k){var l=(!k.disabled?"_1re4":'')+(k.disabled?' '+"_1re5":'');l=c('joinClasses')(l,k.className);var m=!k.disabled?k.onClick:function(){};return (c('React').createElement('div',{className:"_1re6",onClick:m,role:'button',tabIndex:'0'},c('React').createElement(c('APIcon.react'),{className:l,inverted:true,height:28,shape:'add',width:28})));};f.exports=i;}),null);
__d('APButton.react',['cx','AbstractButton.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(k){var l=c('joinClasses')("_4emb",k.className);return (c('React').createElement(c('AbstractButton.react'),babelHelpers['extends']({},k,{className:l})));};f.exports=i;}),null);
__d('APRemoveButton.react',['cx','APIcon.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(k){var l=(!k.disabled?"_2g_k":'')+(k.disabled?' '+"_2g_v":'');l=c('joinClasses')(l,k.className);var m=!k.disabled?k.onClick:function(){};return (c('React').createElement('div',{className:"_4hw1",onClick:m,role:'button',tabIndex:'0'},c('React').createElement(c('APIcon.react'),{className:l,inverted:true,height:28,shape:'remove',width:28})));};f.exports=i;}),null);
__d('APPolyfills',['React','ReactComponentWithPureRenderMixin','classWithMixins','mixin'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').Component,i=c('classWithMixins')(h,c('mixin')(c('ReactComponentWithPureRenderMixin')));f.exports={PureRenderComponent:i};}),null);
__d('APTextInput.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.state={value:this.props.initialValue||''};}k.prototype.$TextInput1=function(l){var m=l.target.value;if(!this.props.isInteger||m===''||m.length===1&&m==='-'||String(Math.round(m))===m){if(this.props.onImmediateChange)this.props.onImmediateChange(m);this.setState({value:m});}};k.prototype.$TextInput2=function(l){if(l.which===13){this.props.onChange(this.state.value);if(this.props.onEnter)this.setState(function(){},function(){return this.props.onEnter();}.bind(this));}if(l.which===27)if(this.props.onESC)this.props.onESC();};k.prototype.$TextInput3=function(){this.props.onChange(this.state.value);if(this.props.onBlur)this.props.onBlur();};k.prototype.reset=function(){this.setState({value:''});};k.prototype.blur=function(){this.refs.input.blur();};k.prototype.focus=function(){this.refs.input.focus();};k.prototype.render=function(){var l=this.props.markEmptyInvalid&&(this.state.value===''||this.state.value==null||this.props.isInteger&&this.state.value==='-'),m="_5mk3"+(l?' '+"_5mkg":'');return (c('React').createElement('div',{className:m},c('React').createElement('input',{ref:'input',className:"_5mkj _3gy3",onChange:this.$TextInput1.bind(this),onKeyDown:this.$TextInput2.bind(this),onBlur:this.$TextInput3.bind(this),placeholder:this.props.placeholder,value:this.state.value,disabled:this.props.disabled})));};f.exports=k;}),null);
__d('AdsTargetingTokenInputRenderer.react',['cx','BUIAdoptionBUIText.react','BUITextInput.react','React','XUIError.react','XUITokenizerToken.react','joinClasses','shallowCompare'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=c('React').PropTypes,m="_17wa"+(' '+"_1zit"),n="_46qd"+(' '+"_1ziv");i=babelHelpers.inherits(o,k);j=i&&i.prototype;o.prototype.$AdsTargetingTokenInputRenderer1=function(p){return (c('React').createElement(c('XUITokenizerToken.react'),{className:m,isDragDropEnabled:false,label:p,removable:true,onRemove:function(){return this.props.onRemoveToken(p);}.bind(this)}));};o.prototype.$AdsTargetingTokenInputRenderer2=function(p){var q=null;if(p!==0&&this.props.separator)q=c('React').createElement('span',{className:n},this.props.separator);return q;};o.prototype.$AdsTargetingTokenInputRenderer3=function(p,q){return (c('React').createElement('div',{key:q},this.$AdsTargetingTokenInputRenderer2(q),this.$AdsTargetingTokenInputRenderer1(p)));};o.prototype.focusInput=function(){this.refs.input.focusInput();};o.prototype.shouldComponentUpdate=function(p,q){return c('shallowCompare')(this,p,q);};o.prototype.render=function(){var p=c('joinClasses')("_17wd"+(' '+"_24wk")+(this.props.disabled?' '+"_17we":'')+(' '+"clearfix"),this.props.className),q=this.props.tokens.map(this.$AdsTargetingTokenInputRenderer3,this);return (c('React').createElement(c('XUIError.react'),{xuiError:this.props.xuiError},c('React').createElement('div',{className:p,role:'presentation',onClick:function(){return this.focusInput();}.bind(this)},q,c('React').createElement(c('BUITextInput.react'),babelHelpers['extends']({className:"_17wf"},this.props,{placeholder:q.length===0&&this.props.initialplaceholder?this.props.initialplaceholder:this.props.placeholder,xuiError:null,ref:'input',value:this.props.textInProgress})),c('React').createElement(c('BUIAdoptionBUIText.react'),{className:"_17wh",ref:'textSizeProxy',size:'small'},this.props.textInProgress||this.props.placeholder))));};o.prototype.componentDidMount=function(){if(this.props.autoFocus&&this.refs.input)this.refs.input.focusInput();};function o(){i.apply(this,arguments);}o.propTypes={autoFocus:l.bool,className:l.string,onBackspace:l.func,onBlur:l.func,onChange:l.func.isRequired,initialplaceholder:l.string,placeholder:l.string,separator:l.string,textInProgress:l.string,tokens:l.array.isRequired,xuiError:l.string};f.exports=o;}),null);
__d('AdsTargetingTokenInput.react',['AdsTargetingTokenInputRenderer.react','React','emptyFunction','shallowCompare'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes,k=/[,\s]/;h=babelHelpers.inherits(l,c('React').Component);i=h&&h.prototype;function l(n){i.constructor.call(this,n);m.call(this);var o=n.tokens||n.defaultTokens||[];this.state={textInProgress:'',tokens:o};}l.prototype.$AdsTargetingTokenInput1=function(event){return (event.type==='blur'&&!this.state.textInProgress);};l.prototype.shouldComponentUpdate=function(n,o){return c('shallowCompare')(this,n,o);};l.prototype.componentWillReceiveProps=function(n){var o=n.tokens;if(o)this.setState({tokens:o});};l.prototype.render=function(){var n=this.props.renderer;return (c('React').createElement(n,babelHelpers['extends']({onBackspace:this.handleBackspace,onBlur:this.handleEnter,onChange:this.handleChange,onEnter:this.handleEnter,onRemoveToken:this.handleRemoveToken},this.props,this.state)));};var m=function n(){this.handleChange=function(event){event.preventDefault();if(this.props.disabled)return;this.setState({textInProgress:event.target.value});}.bind(this);this.handleEnter=function(event){event.preventDefault();if(this.props.disabled||this.$AdsTargetingTokenInput1(event))return;var o=event.target.value.split(this.props.separatorRegex).filter(function(r){return r.length>0;}).map(function(r){return r.trim();}),p=this.state.tokens.concat(o),q='';this.setState({textInProgress:q,tokens:p});this.props.onTokenChange(p);}.bind(this);this.handleBackspace=function(event){if(this.props.disabled)return;if(this.state.textInProgress.length===0){var o=this.state.tokens.slice(0,this.state.tokens.length-1);this.setState({tokens:o});this.props.onTokenChange(o);}}.bind(this);this.handleRemoveToken=function(o){if(this.props.disabled)return;var p=this.state.tokens.filter(function(q){return q!==o;});this.setState({tokens:p});this.props.onTokenChange(p);}.bind(this);};l.propTypes={autoFocus:j.bool,defaultTokens:j.array,disabled:j.bool,initialplaceholder:j.string,placeholder:j.string,separatorRegex:j.object,tokens:j.array,onTokenChange:j.func,renderer:j.func};l.defaultProps={separatorRegex:k,tokens:null,onTokenChange:c('emptyFunction'),renderer:c('AdsTargetingTokenInputRenderer.react')};f.exports=l;}),null);
__d('APTokenInput.react',['cx','AdsTargetingTokenInput.react','AdsTargetingTokenInputRenderer.react','immutable','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('immutable').List;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.state={value:this.props.initialValue};}l.prototype.$TokenInput1=function(m){this.setState({value:m});this.props.onChange(m);};l.prototype.render=function(){var m='',n=false,o=false;if(!(this.state.value&&this.state.value.length)){m=this.props.placeholder||'';n=this.props.markEmptyInvalid;o=true;}var p=Array.isArray(this.props.initialValue)&&this.props.initialValue||[],q="_27mq"+(n?' '+"_27mr":'')+(o?' '+"_27mu":'');return (c('React').createElement('div',{className:q},c('React').createElement(c('AdsTargetingTokenInput.react'),{onTokenChange:this.$TokenInput1.bind(this),placeholder:m,renderer:c('AdsTargetingTokenInputRenderer.react'),defaultTokens:p,disabled:this.props.disabled})));};f.exports=l;}),null);
__d('APRule.react',['cx','immutable','APPolyfills','React','XUISelector.react','APStrings','APTextInput.react','APTokenInput.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l,m=c('immutable').Map,n=c('immutable').OrderedSet,o=c('APPolyfills').PureRenderComponent,p=c('XUISelector.react').Option,q=function u(v){var w=function ca(da){return v.onAttributeChange(v.availableAttributes.find(function(ea){return ea.name===da.value;}));},x=v.attribute&&v.attribute.name||null,y=v.availableAttributes.map(function(ca,da){return (c('React').createElement(p,{key:da,value:ca.name},c('React').createElement('span',{className:"_59hx"},ca.name)));}),z=c('React').createElement(p,{key:'placeholder',value:'placeholder',disabled:true},c('React').createElement('span',{className:"_59hy"},v.placeholder)),aa=v.markEmptyInvalid&&!v.attribute,ba="_59ic"+(aa?' '+"_59ih":'');return (c('React').createElement('div',{className:ba},c('React').createElement(c('XUISelector.react'),{defaultValue:'placeholder',key:x,size:'large',value:x,onChange:w},z,y)));},r=function u(v){var w=function ca(da){return v.onOperatorChange(v.availableOperators.find(function(ea){return ea.value===da.value;}));},x=v.operator&&v.operator.value;if(x!=null&&!v.availableOperators.find(function(ca){return ca.value===x;})){x=null;w({value:null});}var y=v.availableOperators.map(function(ca,da){return (c('React').createElement(p,{disabled:v.disabled,key:da,value:ca.value},c('React').createElement('span',{className:"_59il"},ca.label)));}),z=x==null?c('React').createElement(p,{key:'placeholder',value:'placeholder',disabled:true},c('React').createElement('span',{className:"_59iq"},c('APStrings').getRuleOperatorSelectorPlaceHolder())):null,aa=v.markEmptyInvalid&&!v.operator,ba="_59iw"+(aa?' '+"_59ix":'');return (c('React').createElement('div',{className:ba},c('React').createElement(c('XUISelector.react'),{defaultValue:'placeholder',key:x,size:'large',value:x,onChange:w},z,y)));};i=babelHelpers.inherits(s,o);j=i&&i.prototype;function s(u){j.constructor.call(this,u);}s.prototype.$OperandInput1=function(u){this.props.onOperandChange(u);};s.prototype.$OperandInput2=function(u){if(this.props.changeImmediately)this.props.onOperandChange(u);};s.prototype.$OperandInput3=function(u){this.props.onOperandChange(u);};s.prototype.reset=function(){if(this.refs&&this.refs.input)this.refs.input.reset();};s.prototype.render=function(){var u=null,v=!!(this.props.operator&&(this.props.operator.value==='contains'||this.props.operator.value==='not_contains'));if(v){u=c('React').createElement(c('APTokenInput.react'),{placeholder:c('APStrings').getRuleOperandMultipleEntriesPlaceholder(),initialValue:this.props.operand,markEmptyInvalid:this.props.markEmptyInvalid,disabled:this.props.disabled,onChange:this.$OperandInput3.bind(this)});}else{var w=!!(this.props.attribute&&this.props.attribute.type==='integer'),x=w?c('APStrings').getRuleOperandSingleIntegerPlaceHolder():c('APStrings').getRuleOperandSinglePlaceHolder();u=c('React').createElement(c('APTextInput.react'),{onChange:this.$OperandInput1.bind(this),onImmediateChange:this.$OperandInput2.bind(this),placeholder:x,isInteger:w,disabled:this.props.disabled,initialValue:this.props.operand,ref:'input',markEmptyInvalid:this.props.markEmptyInvalid,onEnter:this.props.onEnter});}return (c('React').createElement('div',{className:"_59iy"},u));};k=babelHelpers.inherits(t,c('React').Component);l=k&&k.prototype;function t(u){l.constructor.call(this,u);this.state={rule:u.initialRule,isValid:this.$Rule1(u.initialRule.toObject()),compatibleOperators:this.$Rule2(u.initialRule.get('attribute'))};}t.prototype.reset=function(){this.$Rule3();if(this.state.isValid)if(this.props.onValidityChange)this.props.onValidityChange(false);var u=this.state.rule.merge(m({attribute:null,operator:null,operand:null}));this.setState({rule:u,isValid:false,compatibleOperators:this.$Rule2(u.get('attribute'))});};t.prototype.$Rule1=function(u){return !!(u.attribute&&u.operator&&u.operand!=null&&u.operand.length);};t.prototype.$Rule4=function(){if(this.refs&&this.refs.attributeInput)this.refs.attributeInput.reset();};t.prototype.$Rule3=function(){if(this.refs&&this.refs.operandInput)this.refs.operandInput.reset();};t.prototype.$Rule5=function(u){var v=!this.state.rule.get('attribute')||u&&this.state.rule.get('attribute')&&this.state.rule.get('attribute').type===u.type,w={attribute:u,operator:this.state.rule.get('operator'),operand:v?this.state.rule.get('operand'):null};if(!v)this.$Rule3();var x=this.state.rule.merge(m(w)),y=this.$Rule1(w);if(y)this.props.onRuleChange(x);if(this.state.isValid!==y)if(this.props.onValidityChange)this.props.onValidityChange(y);this.setState({rule:x,isValid:y,compatibleOperators:this.$Rule2(x.get('attribute'))});};t.prototype.$Rule6=function(u){var v={attribute:this.state.rule.get('attribute'),operator:u,operand:this.state.rule.get('operand')},w=this.state.rule.merge(m(v)),x=this.$Rule1(v);if(x)this.props.onRuleChange(w);if(this.state.isValid!==x)if(this.props.onValidityChange)this.props.onValidityChange(x);this.setState({rule:w,isValid:x});};t.prototype.$Rule7=function(){if(this.state.isValid&&this.props.onSubmit)this.props.onSubmit();};t.prototype.$Rule8=function(u){var v={attribute:this.state.rule.get('attribute'),operator:this.state.rule.get('operator'),operand:u},w=this.state.rule.merge(m(v)),x=this.$Rule1(v);if(x){this.props.onRuleChange(w);}else this.$Rule3();if(this.state.isValid!==x)if(this.props.onValidityChange)this.props.onValidityChange(x);this.setState({rule:w,isValid:x});};t.prototype.$Rule2=function(u){return this.props.availableOperators.filter(function(v){return !u||u&&(!u.type||v.compatibleTypes.has(u.type));});};t.prototype.render=function(){var u=this.props.extras?c('React').createElement('div',{className:"_59i-"},this.props.extras):null,v=this.props.placeholder||c('APStrings').getRuleAttributeSelectorPlaceHolder();return (c('React').createElement('div',{className:"_59j0"},c('React').createElement(q,babelHelpers['extends']({},this.props,{attribute:this.state.rule.get('attribute'),onAttributeChange:this.$Rule5.bind(this),placeholder:v,markEmptyInvalid:!!this.props.showInvalidity})),c('React').createElement(r,babelHelpers['extends']({},this.props,{availableOperators:this.state.compatibleOperators,operator:this.state.rule.get('operator'),onOperatorChange:this.$Rule6.bind(this),markEmptyInvalid:!!this.props.showInvalidity})),c('React').createElement(s,babelHelpers['extends']({},this.props,{operand:this.state.rule.get('operand'),operator:this.state.rule.get('operator'),attribute:this.state.rule.get('attribute'),onOperandChange:this.$Rule8.bind(this),ref:'operandInput',markEmptyInvalid:!!this.props.showInvalidity,onEnter:this.$Rule7.bind(this)})),u));};f.exports=t;}),null);
__d('APRuleGroup.react',['cx','APAddButton.react','APButton.react','APRemoveButton.react','APRule.react','APStrings','immutable','React','XUIButton.react','XUISelector.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('immutable').List,l=c('immutable').Map,m=c('immutable').OrderedSet,n=c('immutable').Set,o=c('XUISelector.react').Option,p=l({attribute:null,operand:null,operator:null}),q=function s(t){var u=function w(x){return t.onTypeChange(t.availableTypes.find(function(y){return y.value===x.value;}));},v=t.availableTypes.map(function(w,x){return (c('React').createElement(o,{key:x,value:w.value},w.label.toUpperCase()));});return (c('React').createElement('div',{className:"_2-6x"},c('React').createElement(c('XUISelector.react'),{onChange:u,defaultValue:t.type.value,value:t.type.value},v)));};i=babelHelpers.inherits(r,c('React').Component);j=i&&i.prototype;function r(s){j.constructor.call(this,s);var t={descriptor:new l({rules:k([]),type:s.initailType||s.availableTypes.first()}),newRule:p,inValidRules:n(),isPlaceholderValid:false};this.state=t;}r.prototype.reset=function(){this.setState({descriptor:l({rules:k(),type:this.props.initailType||this.props.availableTypes.first()})});};r.prototype.$RuleGroup1=function(s,t){var u=this.state.descriptor.get('rules');t=u.get(s).merge(t);var v=u.set(s,t),w=this.state.descriptor.set('rules',v);this.props.onDescriptorChange(w);this.setState({descriptor:w});};r.prototype.$RuleGroup2=function(s){var t=this.state.descriptor.set('type',s);this.props.onDescriptorChange(t);this.setState({descriptor:t});};r.prototype.$RuleGroup3=function(s){this.setState({newRule:s});};r.prototype.$RuleGroup4=function(s,t){var u=this.state.inValidRules.size===0,v=void 0;if(t){v=this.state.inValidRules['delete'](s);}else v=this.state.inValidRules.add(s);var w=v.size===0;if(w!==u)if(this.props.onValidityChange)this.props.onValidityChange(w);this.setState({inValidRules:v});};r.prototype.$RuleGroup5=function(){var s=this.state.descriptor.get('rules').push(this.state.newRule.set('timestamp',Date.now())),t=this.state.descriptor.set('rules',s);this.setState({descriptor:t},function(){return this.props.onDescriptorChange(t);}.bind(this));if(s.size===1)if(this.props.onValidityChange)this.props.onValidityChange(true);if(this.refs&&this.refs.newRule)this.refs.newRule.reset();};r.prototype.$RuleGroup6=function(s){var t=this.state.descriptor.get('rules')['delete'](s),u=this.state.descriptor.set('rules',t);this.props.onDescriptorChange(u);var v=this.state.inValidRules.size===0,w=this.state.inValidRules['delete'](s).map(function(y){return y>s?y-1:y;}),x=w.size===0;if(x!==v)if(this.props.onValidityChange)this.props.onValidityChange(x);this.setState({descriptor:u,inValidRules:n(w)});};r.prototype.$RuleGroup7=function(){var s=this.state.descriptor.get('rules').push(l({type:this.props.initailType||this.props.availableTypes.first(),rules:k(),timestamp:Date.now()})),t=this.state.descriptor.set('rules',s);this.setState({descriptor:t},function(){this.props.onDescriptorChange(t);if(s.size===1)if(this.props.onValidityChange)this.props.onValidityChange(true);}.bind(this));};r.prototype.render=function(){var s=this.props.hierarchyLevel||1,t=this.props.maxHierarchyDepth||1,u=this.state.descriptor.get('rules').size?this.state.descriptor.get('rules').map(function(y,z){var aa=y.get('timestamp'),ba=y.get('rules'),ca=null;if(ba){ca=c('React').createElement(r,babelHelpers['extends']({},this.props,{initialDescriptor:y,hierarchyLevel:s+1,showDeleteButton:true,onDelete:function(){return this.$RuleGroup6(z);}.bind(this),onValidityChange:function(da){return this.$RuleGroup4(z,da);}.bind(this),onDescriptorChange:function(da){return this.$RuleGroup1(z,da);}.bind(this),key:aa}));}else ca=c('React').createElement(c('APRule.react'),babelHelpers['extends']({},this.props,{initialRule:y,onRuleChange:function(da){return this.$RuleGroup1(z,da);}.bind(this),onValidityChange:function(da){return this.$RuleGroup4(z,da);}.bind(this),extras:c('React').createElement(c('APRemoveButton.react'),{onClick:function(){return this.$RuleGroup6(z);}.bind(this)}),showInvalidity:true,key:aa}));return ca;}.bind(this)):c('React').createElement('div',{className:"_2-6z"},c('APStrings').getRuleGroupPlaceholder()),v=c('React').createElement(c('APRule.react'),babelHelpers['extends']({},this.props,{initialRule:this.state.newRule,onRuleChange:this.$RuleGroup3.bind(this),changeImmediately:true,onValidityChange:function(y){return this.setState({isPlaceholderValid:y});}.bind(this),extras:c('React').createElement(c('APAddButton.react'),{disabled:!this.state.isPlaceholderValid,onClick:this.$RuleGroup5.bind(this)}),placeholder:c('APStrings').getNewRuleAttributeSelectorPlaceHolder(),ref:'newRule',onSubmit:this.$RuleGroup5.bind(this)})),w=s<t?c('React').createElement(c('XUIButton.react'),{use:'default',size:'large',label:c('APStrings').getAddSubgroupLabel(),onClick:this.$RuleGroup7.bind(this),key:'addSubGroup'}):null,x=this.props.showDeleteButton?c('React').createElement(c('APRemoveButton.react'),{className:"_2-6y",onClick:this.props.onDelete}):null;return (c('React').createElement('div',{className:"_2-74"},c('React').createElement('header',{className:"_2-75"},c('React').createElement('div',{className:"_2-76"},c('React').createElement(q,babelHelpers['extends']({},this.props,{type:this.state.descriptor.get('type'),onTypeChange:this.$RuleGroup2.bind(this)})),c('APStrings').getRuleGroupTypePostfix().toString().toUpperCase()),c('React').createElement('div',{className:"_2-77"},w,x)),c('React').createElement('div',{className:"_2-78"},u),c('React').createElement('div',{className:"_2-79"},v)));};f.exports=r;}),null);
__d('APAudienceBuilder.react',['cx','APAudienceBuilderOperators','APAudienceBuilderRuleGroupTypes','APRuleGroup.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=2;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.state={descriptor:m.initialDescriptor||null,valid:m.initialValid||false};}l.prototype.reset=function(){if(this.refs&&this.refs.rootGroup)this.refs.rootGroup.reset();this.setState({descriptor:this.props.initialDescriptor||null,valid:this.props.initialValid||false});};l.prototype.$AudienceBuilder1=function(m){this.setState({descriptor:m});if(this.props.onDescriptorChange)this.props.onDescriptorChange(m);};l.prototype.$AudienceBuilder2=function(m){this.setState({valid:m});if(this.props.onValidityChange)this.props.onValidityChange(m);};l.prototype.render=function(){return (c('React').createElement('div',{className:"_4rtg"},c('React').createElement('div',{className:"_4rth"},c('React').createElement(c('APRuleGroup.react'),{ref:'rootGroup',availableAttributes:this.props.dataSet.attributes,availableOperators:c('APAudienceBuilderOperators'),availableTypes:c('APAudienceBuilderRuleGroupTypes'),initialDescriptor:this.state.descriptor,onDescriptorChange:this.$AudienceBuilder1.bind(this),maxHierarchyDepth:k,onValidityChange:this.$AudienceBuilder2.bind(this)}))));};f.exports=l;}),null);
__d('APDSAttributeSelector.react',['cx','APStrings','immutable','LoadingIndicator.react','React','XUISingleSelector.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('immutable').List,l=c('XUISingleSelector.react').Option;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(n){j.constructor.call(this,n);this.state={value:this.props.initialValue};}m.prototype.$DSAttributeSelector1=function(n){this.setState({value:n.value});this.props.onAttributeSelect(n.value);};m.prototype.render=function(){var n=this.props.attributes?this.props.attributes.map(function(p,q){return (c('React').createElement(l,{key:q,value:p.name},p.name));}).toArray():null,o=null;if(n){o=n.length?c('React').createElement(c('XUISingleSelector.react'),{name:this.props.name,onChange:this.$DSAttributeSelector1.bind(this),value:this.state.value},c('React').createElement(l,{key:'placeholder',disabled:true},c('APStrings').getDataSetAttributeSelectorPlaceHolder()),n):c('React').createElement('div',{className:"_2f1z"},c('APStrings').getNoAttributesInDSText());}else o=c('React').createElement('div',{className:"_2f1-"},c('React').createElement(c('LoadingIndicator.react'),{size:'medium',color:'white'}));return (c('React').createElement('div',{className:"_4yd4"},o));};f.exports=m;}),null);
__d('APDSCard.react',['cx','Date.react','React','APStrings','SUIAudiencePlatformTheme','SUITooltip.react'],(function a(b,c,d,e,f,g,h){'use strict';var i={today:'g:ia',older:'Y-m-d'},j=function k(l){var m="_2t5b"+(!!l.compact?' '+"_2t5c":''),n=l.dataSet.attributes&&l.dataSet.attributes.size?l.dataSet.attributes.map(function(s){return s.name;}).join(', '):c('APStrings').getNotAvailableLabel(),o=Math.round(l.dataSet.size*l.dataSet.matchRate/100),p=c('APStrings').getMatchingTooltupText(l.dataSet.matchRate,l.dataSet.size),q=l.dataSet.description?c('React').createElement('div',{className:"_5a-d"},l.dataSet.description):null,r=l.dataSet.updated?c('React').createElement('div',{className:"_5a-m"},c('React').createElement('span',{className:"_5a-n"},c('APStrings').getLastUpdatedLabel(),':'),c('React').createElement(c('Date.react'),{date:l.dataSet.updated,format:i})):null;return (c('React').createElement('div',{className:m},c('React').createElement('header',{className:"_2t5d"},c('React').createElement('div',{className:"_2t5e"},l.dataSet.name),q),c('React').createElement('div',{className:"_2t5f"},c('React').createElement('div',{className:"_5a-e"},c('React').createElement('span',{className:"_5a-f"},c('APStrings').getAttributesLabel()),n)),c('React').createElement('div',{className:"_2t5h"},c('React').createElement('div',{className:"_5a-k"},c('React').createElement('span',{className:"_5a-l"},c('APStrings').getDataSizeLabel(),':'),c('React').createElement(c('SUITooltip.react'),{tooltip:p,theme:c('SUIAudiencePlatformTheme')},o,'/',l.dataSet.size)),r)));};f.exports=j;}),null);
__d('APDSSelector.react',['cx','APDSCard.react','APStrings','immutable','React','XUISingleSelector.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('immutable').List,l=c('XUISingleSelector.react').Option,m=500,n=450;i=babelHelpers.inherits(o,c('React').Component);j=i&&i.prototype;function o(p){j.constructor.call(this,p);this.state={value:p.initiallySelectedDataSet};}o.prototype.$PSSelector1=function(p){var q=this.props.dataSets.find(function(r){return r.id===p.value;});this.setState({value:q});this.props.onDataSetSelect(q);};o.prototype.render=function(){var p="_654"+(this.state.value!=null?' '+"_655":'')+(this.props.readonly?' '+"_2rof":''),q=null;if(!this.props.readonly){var r=this.props.dataSets?this.props.dataSets.map(function(s,t){return (c('React').createElement(l,{className:"_64s",key:s.id,value:s.id},c('React').createElement(c('APDSCard.react'),{dataSet:s,compact:true})));}).toArray():null;q=c('React').createElement(c('XUISingleSelector.react'),{maxwidth:this.props.maxWidth||m,maxheight:n,name:this.props.name,value:this.state.value&&this.state.value.id,onChange:this.$PSSelector1.bind(this)},c('React').createElement(l,{className:"_656",key:'placeholder',disabled:true},c('APStrings').getDataSetSelectorPlaceHolder()),r);}else q=c('React').createElement(c('APDSCard.react'),{dataSet:this.state.value,compact:true});return (c('React').createElement('div',{className:p},q));};f.exports=o;}),null);
__d("XAudienceHomeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/audience\/{?rest}\/{?item_id}\/",{rest:{type:"String"},item_id:{type:"String"},act:{type:"Int"},business_id:{type:"Int"},nav_source:{type:"Enum",enumType:1}});}),null);
__d('APCustomAudienceFromDataSet.react',['cx','ix','immutable','APPolyfills','AdsCMURIUtil','APStrings','APAudienceBuilder.react','BusinessURI.brands','APDSAttributeSelector.react','APDSSelector.react','Image.react','ImageBlock.react','InfoTable.react','InfoTableRow.react','InfoTableSection.react','LoadingIndicator.react','React','XUISingleSelector.react','XAudienceHomeController','XUIButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l,m,n=c('immutable').List,o=c('immutable').Map,p=c('APPolyfills').PureRenderComponent,q=c('XUISingleSelector.react').Option,r=i("26366"),s=c('React').createElement(c('InfoTableRow.react'),null,c('React').createElement('div',null)),t={EVERYONE_IN_DATA_SET:'EVERYONE_IN_DATA_SET',EVERYONE_WITH_SPECIFIC_ATTRIBUTE:'EVERYONE_WITH_SPECIFIC_ATTRIBUTE',BASED_ON_CUSTOM_RULE:'BASED_ON_CUSTOM_RULE'},u=[{name:t.EVERYONE_IN_DATA_SET,text:c('APStrings').getEveryoneInThisDSLabel()},{name:t.EVERYONE_WITH_SPECIFIC_ATTRIBUTE,text:c('APStrings').getEveryoneInThisDSWithSpecificAttributeLabel()},{name:t.BASED_ON_CUSTOM_RULE,text:c('APStrings').getBasedOnCustomRuleLabel()}],v=function aa(ba){return (c('React').createElement(c('InfoTableRow.react'),{label:c('APStrings').getDataSet(),type:'data'},c('React').createElement('div',{className:"_3-96"},c('React').createElement(c('APDSSelector.react'),{dataSets:ba.dataSets,initiallySelectedDataSet:ba.initiallySelectedDataSet,readonly:ba.canNotChangeDataSet,onDataSetSelect:ba.onDataSetSelect}))));},w=function aa(ba){if(!ba.selectedDataSet)return s;var ca=n(u).map(function(da){return (c('React').createElement(q,{key:da.name,value:da.name},da.text));}).toArray();return (c('React').createElement(c('InfoTableRow.react'),{label:c('APStrings').getCreationMethodLabel(),type:'data'},c('React').createElement('div',{className:"_3-96"},c('React').createElement(c('XUISingleSelector.react'),{name:'creationMethod',value:ba.creationMethod,onChange:ba.onCreationMethodChange},ca))));},x=function aa(ba){if(!ba.selectedDataSet||ba.creationMethod!==t.EVERYONE_WITH_SPECIFIC_ATTRIBUTE)return s;return (c('React').createElement(c('InfoTableRow.react'),{label:c('APStrings').getDataSetAttributeSelectorLabel(),type:'data'},c('React').createElement('div',{className:"_3-96"},c('React').createElement(c('APDSAttributeSelector.react'),{attributes:ba.selectedDataSet.attributes,description:c('APStrings').getDataSetAttributeSelectorDescriptionForDSBasedCAFlow(),onAttributeSelect:ba.onAttributeChange}))));};j=babelHelpers.inherits(y,p);k=j&&j.prototype;function y(aa){k.constructor.call(this,aa);}y.prototype.reset=function(){this.refs.ruleBuilder.reset();};y.prototype.render=function(){if(!this.props.selectedDataSet||this.props.creationMethod!==t.BASED_ON_CUSTOM_RULE)return null;return (c('React').createElement('div',null,c('React').createElement('div',{className:"_3-95 _3-8w"},c('APStrings').getRuleBuilderDescriptionForAudienceCreation()),c('React').createElement(c('APAudienceBuilder.react'),{dataSet:this.props.selectedDataSet,initialValid:true,ref:'ruleBuilder',onDescriptorChange:this.props.onDescriptorChange,onValidityChange:this.props.onValidityChange})));};l=babelHelpers.inherits(z,p);m=l&&l.prototype;function z(aa){m.constructor.call(this,aa);this.state={selectedDataSet:aa.initiallySelectedDataSet,creationMethod:t.EVERYONE_IN_DATA_SET,rule:'',ruleIsValid:true};}z.prototype.$CustomAudienceFromDataSet1=function(){if(this.state.ruleIsValid){this.props.onRuleChange(this.state.rule);}else this.props.onRuleChange(null);};z.prototype.$CustomAudienceFromDataSet2=function(){if(this.refs&&this.refs.ruleBuilder)this.refs.ruleBuilder.reset();this.$CustomAudienceFromDataSet3();};z.prototype.$CustomAudienceFromDataSet3=function(){this.setState({ruleIsValid:true,rule:''},function(){return this.$CustomAudienceFromDataSet1();}.bind(this));};z.prototype.$CustomAudienceFromDataSet4=function(aa){this.$CustomAudienceFromDataSet2();this.setState({selectedDataSet:aa});this.props.onDataSetSelect(aa);};z.prototype.$CustomAudienceFromDataSet5=function(aa){this.$CustomAudienceFromDataSet3();this.setState({creationMethod:aa.value});};z.prototype.$CustomAudienceFromDataSet6=function(aa){var ba=aa.get('type');this.setState({rule:ba?ba.toString(aa.get('rules')):''},function(){return this.$CustomAudienceFromDataSet1();}.bind(this));};z.prototype.$CustomAudienceFromDataSet7=function(aa){this.setState({ruleIsValid:aa},function(){return this.$CustomAudienceFromDataSet1();}.bind(this));};z.prototype.$CustomAudienceFromDataSet8=function(aa){this.setState({rule:aa,ruleIsValid:true},function(){return this.$CustomAudienceFromDataSet1();}.bind(this));};z.prototype.componentWillReceiveProps=function(aa){if(this.props.loadingDataSets&&!aa.loadingDataSets&&aa.initiallySelectedDataSet)this.$CustomAudienceFromDataSet4(aa.initiallySelectedDataSet);};z.prototype.render=function(){var aa=this.props.loadingDataSets,ba=!aa&&this.props.dataSets&&this.props.dataSets.size,ca=c('AdsCMURIUtil').addRedirectParams(c('BusinessURI.brands')(c('XAudienceHomeController').getURIBuilder().setString('rest','data_sets').setInt('act',this.props.accountID).getURI())),da=null;if(aa){da=c('React').createElement('div',null,c('React').createElement('div',{className:"_3-96"},c('APStrings').getLoadingData()),c('React').createElement(c('LoadingIndicator.react'),{color:'white',size:'medium'}));}else if(ba){da=c('React').createElement('div',null,c('React').createElement('div',{className:"_3-96"},c('APStrings').getAudienceCreationFlowIntro()),c('React').createElement(c('InfoTable.react'),null,c('React').createElement(c('InfoTableSection.react'),null,c('React').createElement(v,{canNotChangeDataSet:this.props.canNotChangeDataSet,dataSets:this.props.dataSets,initiallySelectedDataSet:this.props.initiallySelectedDataSet,onDataSetSelect:this.$CustomAudienceFromDataSet4.bind(this)}),c('React').createElement(w,{creationMethod:this.state.creationMethod,selectedDataSet:this.state.selectedDataSet,onCreationMethodChange:this.$CustomAudienceFromDataSet5.bind(this)}),c('React').createElement(x,{creationMethod:this.state.creationMethod,selectedDataSet:this.state.selectedDataSet,onAttributeChange:this.$CustomAudienceFromDataSet8.bind(this)}))),c('React').createElement(y,{creationMethod:this.state.creationMethod,selectedDataSet:this.state.selectedDataSet,onDescriptorChange:this.$CustomAudienceFromDataSet6.bind(this),onValidityChange:this.$CustomAudienceFromDataSet7.bind(this)}));}else da=c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{src:r}),c('React').createElement('div',null,c('React').createElement('div',{className:"_3-8x"},c('React').createElement('h4',null,c('APStrings').getNoDataSetsWarning())),c('React').createElement('div',{className:"_3-8x"},c('APStrings').getNoDataSetsSuggestions())),c('React').createElement('div',{className:"_3-8x"},c('React').createElement(c('XUIButton.react'),{image:c('React').createElement(c('Image.react'),{src:i("101320")}),label:c('APStrings').getManageMyDataSetsLabel(),use:'special',href:ca,target:'data_set_manager'})));var ea="_56w9"+(this.props.loadingDataSets?' '+"_56wa":'');return (c('React').createElement('div',{className:ea},da));};f.exports=z;}),null);
__d('APEditableText.react',['ix','cx','immutable','APPolyfills','Image.react','React','ReactDOM','joinClasses','fbglyph'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('immutable').Map,m=c('APPolyfills').PureRenderComponent,n=4,o=1,p=2*(n+o),q=16,r=100;j=babelHelpers.inherits(s,m);k=j&&j.prototype;function s(t){k.constructor.call(this,t);var u=this.props.initialText||'';this.state={contentsSize:l(),editing:false,currentValue:u,earlierValue:u};}s.prototype.$EditableText2=function(){this.$EditableText3();};s.prototype.$EditableText4=function(t){switch(t.which){case 13:var u=this.props.validator,v=t.target.value,w=true;if(u)w=u(v);if(w)this.$EditableText5();t.stopPropagation();break;case 27:this.$EditableText6();t.stopPropagation();break;}};s.prototype.$EditableText7=function(t){this.setState({currentValue:t.target.value});};s.prototype.$EditableText8=function(t){if(this.state.editing)this.$EditableText6();};s.prototype.$EditableText3=function(){if(!this.state.editing)this.setState({editing:true,earlierValue:this.state.currentValue},function(){this.refs.input.focus();}.bind(this));};s.prototype.$EditableText5=function(){if(this.state.editing){if(this.props.onChange&&this.state.earlierValue!==this.state.currentValue)this.props.onChange(this.state.currentValue);this.setState({editing:false},function(){return this.refs.input.blur();}.bind(this));}};s.prototype.$EditableText6=function(){if(this.state.editing){this.refs.input.blur();this.setState({editing:false,currentValue:this.state.earlierValue});}};s.prototype.$EditableText9=function(){var t=l();if(this.$EditableText1!=null){var u=this.$EditableText1.getBoundingClientRect();t=l({width:u.width,height:u.height});}if(!this.state.contentsSize.equals(t))this.setState({contentsSize:t});};s.prototype.componentDidMount=function(){this.$EditableText1=c('ReactDOM').findDOMNode(this.refs.contents);this.$EditableText9();};s.prototype.componentWillUnmount=function(){this.$EditableText1=null;};s.prototype.componentDidUpdate=function(){this.$EditableText9();};s.prototype.render=function(){var t=c('joinClasses')("_2s64 _29ke",this.props.className),u="_2s65"+(' '+"_29kg")+(!this.state.editing?' '+"_2s66":''),v="_2s67"+(' '+"_29kh")+(this.state.editing?' '+"_2s68":''),w=void 0,x=void 0,y=void 0,z=void 0,aa=this.state.contentsSize.toObject();if(!isNaN(aa.width)&&!isNaN(aa.height)){y=Math.max(Math.ceil(aa.width+p),r);z=Math.ceil(aa.height+p);x=Math.ceil(y+q);w=Math.ceil(z);}var ba=this.props.buttonSize==='big'?16:14;return (c('React').createElement('div',{className:t,style:{width:x,height:w}},c('React').createElement('input',{ref:'input',className:u,style:{padding:n,width:y,height:z},maxLength:this.props.maxLength,onKeyDown:this.$EditableText4.bind(this),onChange:this.$EditableText7.bind(this),onBlur:this.$EditableText8.bind(this),value:this.state.currentValue,placeholder:this.props.placeholder}),c('React').createElement('div',{className:v,onClick:this.$EditableText2.bind(this),ref:'display',role:'presentation',style:{padding:n}},c('React').createElement('div',{ref:'contents',className:"_2s69"},this.state.currentValue||this.props.placeholder||''),c('React').createElement('button',{style:{width:ba,height:ba},className:"_2s6a"},c('React').createElement(c('Image.react'),{src:h("142574")})))));};f.exports=s;}),null);
__d('APNotice.react',['cx','APIcon.react','CloseButton.react','immutable','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('immutable').List,j=function k(l){var m=l.use||'info',n=c('joinClasses')("_2kv"+(!l.unBoxed?' '+"_2kw":'')+(l.unBoxed?' '+"_2kz":'')+(m==='info'?' '+"_2k-":'')+(m==='success'?' '+"_2k_":'')+(m==='warning'?' '+"_2l0":'')+(m==='error'?' '+"_2l1":'')+(l.animation==='fadeIn'?' '+"_ldl":'')+(l.animation==='slideIn'?' '+"_2l2":''),l.className),o=l.iconSize?l.iconSize:40,p=!l.noIcon?c('React').createElement('div',{className:"_2l3"},c('React').createElement(c('APIcon.react'),{height:o,inverted:l.unBoxed,shape:m,width:o})):null,q=l.title?c('React').createElement('div',{className:"_2l4"},l.title):null,r=l.onClose?c('React').createElement(c('CloseButton.react'),{className:"_2l6",onClick:l.onClose}):null;return (c('React').createElement('div',{className:n},p,c('React').createElement('div',{className:"_2l7"},q,l.children,r)));};f.exports=j;}),null);
__d('APCustomAudienceFromDataSetDialogContent.react',['AdsSpinnerCover.react','APCustomAudienceFromDataSet.react','AudienceManagerFBCustomAudienceTerm.react','APEditableText.react','APNotice.react','APStrings','immutable','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').List,k='Custom Audience';h=babelHelpers.inherits(l,c('React').Component);i=h&&h.prototype;function l(m){i.constructor.call(this,m);var n={audienceDescription:'',audienceName:this.$CustomAudienceFromDataSetDialogContent1(m.initiallySelectedDataSet),creating:false,errorMessage:null,rule:m.initiallySelectedDataSet?'':null,selectedDataSet:m.initiallySelectedDataSet,termsBoxChecked:true};this.state=n;}l.prototype.$CustomAudienceFromDataSetDialogContent2=function(){return !!(this.state.selectedDataSet&&this.state.audienceName&&this.state.rule!=null);};l.prototype.$CustomAudienceFromDataSetDialogContent3=function(){return !!(this.state.termsBoxChecked&&this.state.selectedDataSet&&this.state.audienceName&&this.state.rule!=null);};l.prototype.$CustomAudienceFromDataSetDialogContent4=function(){var m=this.state.selectedDataSet;this.$CustomAudienceFromDataSetDialogContent5();if(m){var n=function(o,p){if(o!=null){if(this.propsonAudienceAdded)this.props.onAudienceAdded(o);this.props.onClose();}else this.setState({creating:false,errorMessage:p||c('APStrings').getCustomAudienceCreationError()});}.bind(this);this.props.onCreateAudience({name:this.state.audienceName,description:this.state.audienceDescription,subtype:'DATA_SET',data_set_spec:{data_set_id:m.id,rule:this.state.rule}},n);this.setState({creating:true});}};l.prototype.$CustomAudienceFromDataSetDialogContent1=function(m){return (m?'Audience from '+m.name:k);};l.prototype.$CustomAudienceFromDataSetDialogContent6=function(m){this.setState({audienceName:this.$CustomAudienceFromDataSetDialogContent1(m),selectedDataSet:m});this.$CustomAudienceFromDataSetDialogContent5();};l.prototype.$CustomAudienceFromDataSetDialogContent7=function(m){if(m.length){this.setState({audienceName:m});this.$CustomAudienceFromDataSetDialogContent5();}};l.prototype.$CustomAudienceFromDataSetDialogContent8=function(m){this.setState({rule:m});this.$CustomAudienceFromDataSetDialogContent5();};l.prototype.$CustomAudienceFromDataSetDialogContent9=function(m){this.setState({termsBoxChecked:m.target.checked});};l.prototype.$CustomAudienceFromDataSetDialogContent5=function(){this.setState({errorMessage:null});};l.prototype.render=function(){var m=this.props.loadingDataSets,n=!m&&this.props.dataSets&&this.props.dataSets.size,o=n&&this.state.selectedDataSet?c('React').createElement('div',{style:{position:'absolute',top:8}},c('React').createElement(c('APEditableText.react'),{buttonSize:'big',maxLength:40,placeholder:this.state.audienceName,style:{maxWidth:500},onChange:this.$CustomAudienceFromDataSetDialogContent7.bind(this)})):c('APStrings').getCreatingCustomAudienceLabel(),p=n?c('React').createElement(c('XUIDialogButton.react'),{disabled:!this.$CustomAudienceFromDataSetDialogContent3(),label:c('APStrings').getCreateAudienceLabel(),use:'confirm',onClick:this.$CustomAudienceFromDataSetDialogContent4.bind(this)}):null,q=this.state.errorMessage?c('React').createElement(c('APNotice.react'),{style:{marginTop:12},animation:'fadeIn',use:'error',onClose:this.$CustomAudienceFromDataSetDialogContent5.bind(this)},this.state.errorMessage):null,r=this.$CustomAudienceFromDataSetDialogContent2()?c('React').createElement('div',{style:{marginTop:8,marginBottom:12,paddingLeft:137}},c('React').createElement(c('AudienceManagerFBCustomAudienceTerm.react'),{accountID:this.props.accountID,termsBoxChecked:this.state.termsBoxChecked,onTermsCheckboxChanged:this.$CustomAudienceFromDataSetDialogContent9.bind(this)})):null;return (c('React').createElement('div',null,c('React').createElement(c('XUIDialogTitle.react'),null,o),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement(c('APCustomAudienceFromDataSet.react'),babelHelpers['extends']({},this.props,{onDataSetSelect:this.$CustomAudienceFromDataSetDialogContent6.bind(this),onRuleChange:this.$CustomAudienceFromDataSetDialogContent8.bind(this)})),r,q),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement('div',null,c('React').createElement(c('XUIDialogButton.react'),{label:c('APStrings').getCancelLabel(),onClick:this.props.onCancel}),p)),c('React').createElement(c('AdsSpinnerCover.react'),{show:this.state.creating})));};f.exports=l;}),null);
__d('APUtils',['FormatNumberUtil.atlas','AdsDateUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('FormatNumberUtil.atlas').formatWithVariablePrecision,i=function k(l){if(l==null)return null;return (typeof l==='string'?new (c('AdsDateUtils').parseISODate)(l):new Date(l*1000));},j=function k(l){return h(l,0,0,true);};f.exports={formatSize:j,getUpdatedDateFormAPIResponse:i};}),null);
__d('AudienceManagerDataSetDialogContentContainer.react',['AdsAMAudienceStore','AdsFluxContainer','AdsLoadState','APCustomAudienceFromDataSetDialogContent.react','APUtils','immutable','React','shallowCompare'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('APUtils').getUpdatedDateFormAPIResponse,k=c('immutable').List;h=babelHelpers.inherits(l,c('React').Component);i=h&&h.prototype;l.getStores=function(){return [c('AdsAMAudienceStore')];};l.calculateState=function(){return {dataSets:this.$AudienceManagerDataSetDialogContentContainer1(c('AdsAMAudienceStore').getAdAccountDataSets()),loadingDataSets:c('AdsAMAudienceStore').getAdAccountDataSetsLoadState()===c('AdsLoadState').LOADING};};l.prototype.shouldComponentUpdate=function(m,n){return c('shallowCompare')(this,m,n);};l.$AudienceManagerDataSetDialogContentContainer2=function(m){var n=[];if(m.attributes)n=m.attributes.data.map(function(o){return {name:o.name,type:o.type};});return {id:m.id,name:m.name,attributes:k(n),size:m.count,matchRate:m.match_rate*100,updated:j(m.updated)};};l.$AudienceManagerDataSetDialogContentContainer1=function(m){var n=[];for(var o in m)n.push(this.$AudienceManagerDataSetDialogContentContainer2(m[o]));return k(n);};l.prototype.render=function(){return (c('React').createElement(c('APCustomAudienceFromDataSetDialogContent.react'),babelHelpers['extends']({},this.props,this.state)));};function l(){h.apply(this,arguments);}f.exports=c('AdsFluxContainer').create(l);}),null);
__d('AdsEngagementAudienceSelectedVideosActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h={ADD_SELECTED_VIDEOS:'',REMOVE_SELECTED_VIDEOS:'',UPDATE_SELECTED_VIDEOS:''},i=c('keyMirrorRecursive')(h,'SELECTED_VIDEOS_STORE');f.exports=i;}),null);
__d('AdsEngagementAudienceSelectedVideosActions',['AdsEngagementAudienceSelectedVideosActionTypes','AdsDispatcher','immutable'],(function a(b,c,d,e,f,g){'use strict';var h={addSelectedVideos:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({selectedVideos:j,type:c('AdsEngagementAudienceSelectedVideosActionTypes').ADD_SELECTED_VIDEOS});},removeSelectedVideos:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({selectedVideos:j,type:c('AdsEngagementAudienceSelectedVideosActionTypes').REMOVE_SELECTED_VIDEOS});},updateSelectedVideos:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({selectedVideos:j,type:c('AdsEngagementAudienceSelectedVideosActionTypes').UPDATE_SELECTED_VIDEOS});}};f.exports=h;}),null);
__d('AdsEngagementTypes',['fbt','EngagementAudienceEvents'],(function a(b,c,d,e,f,g,h){'use strict';var i=[{id:c('EngagementAudienceEvents').VIDEO_WATCHED,title:h._("People who viewed at least 3 seconds of your video")},{id:c('EngagementAudienceEvents').VIDEO_VIEW_10S,title:h._("People who viewed at least 10 seconds of your video")},{id:c('EngagementAudienceEvents').VIDEO_VIEW_25_PERCENT,title:h._("People who have watched at 25\u0025 of your video")},{id:c('EngagementAudienceEvents').VIDEO_VIEW_50_PERCENT,title:h._("People who have watched at 50\u0025 of your video")},{id:c('EngagementAudienceEvents').VIDEO_VIEW_75_PERCENT,title:h._("People who have watched at 75\u0025 of your video")},{id:c('EngagementAudienceEvents').VIDEO_COMPLETED,title:h._("People who have watched at 95\u0025 of your video")}];f.exports=i;}),null);
__d('AdsEngagementAudienceSelectedVideosStore',['AdsDispatcher','AdsEngagementAudienceSelectedVideosActionTypes','FluxStore','immutable','adsBaseStoreMixin'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=new (c('immutable').OrderedSet)();h=babelHelpers.inherits(k,c('FluxStore'));i=h&&h.prototype;function k(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);}k.prototype.getStoreName=function(){return 'AdsCommonAdvertisablePagesVideosStore';};k.prototype.__onDispatch=function(m){var n=m.action;switch(n.actionType){case c('AdsEngagementAudienceSelectedVideosActionTypes').ADD_SELECTED_VIDEOS:this.$AdsEngagementAudienceSelectedVideosStoreClass1(n.selectedVideos);this.__emitChange();break;case c('AdsEngagementAudienceSelectedVideosActionTypes').REMOVE_SELECTED_VIDEOS:this.$AdsEngagementAudienceSelectedVideosStoreClass2(n.selectedVideos);this.__emitChange();break;case c('AdsEngagementAudienceSelectedVideosActionTypes').UPDATE_SELECTED_VIDEOS:this.$AdsEngagementAudienceSelectedVideosStoreClass3(n.selectedVideos);this.__emitChange();break;}};k.prototype.$AdsEngagementAudienceSelectedVideosStoreClass1=function(m){j=j.union(m);};k.prototype.$AdsEngagementAudienceSelectedVideosStoreClass2=function(m){j=j.subtract(m);};k.prototype.$AdsEngagementAudienceSelectedVideosStoreClass3=function(m){j=c('immutable').OrderedSet(m);};k.prototype.getSelectedVideos=function(){return j;};var l=new k();f.exports=l;}),null);
__d('AdsTypeahead.react',['cx','AdsHelpLink.react','AdsValidationIcon.react','AdsValidationIconType','BackgroundImage.react','BUIAdoptionCloseButton.react','React','SearchableEntry','XUITypeahead.react','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.focusInput=function(){this.setState({focused:true});this.refs.typeahead.focusInput();}.bind(this);this.$AdsTypeahead2=function(o){return (c('React').createElement(c('BackgroundImage.react'),{backgroundSize:'cover',className:"_1fz3",height:24,src:o,width:24}));};this.$AdsTypeahead3=function(){if(this.props.disabled)return null;return (c('React').createElement('div',{className:"_1fz4"},c('React').createElement(c('BUIAdoptionCloseButton.react'),{onClick:this.$AdsTypeahead8})));}.bind(this);this.$AdsTypeahead1=function(){return c('React').Children.map(this.props.tooltipHelpText,function(o,p){return (c('React').createElement('p',{className:"_1fz5",key:p},o));});}.bind(this);this.$AdsTypeahead5=function(event){this.setState({queryString:event.target.value},this.$AdsTypeahead9);}.bind(this);this.$AdsTypeahead9=function(){this.props.selectedEntry&&this.props.onSelectAttempt&&this.props.onSelectAttempt(null);if(this.props.onQueryStringChange)this.props.onQueryStringChange(this.state.queryString);}.bind(this);this.$AdsTypeahead7=function(o){this.props.onSelectAttempt&&this.props.onSelectAttempt(o);}.bind(this);this.$AdsTypeahead8=function(){this.setState({queryString:this.props.queryStringOnClearEntry||''},this.$AdsTypeahead10);}.bind(this);this.$AdsTypeahead10=function(){this.refs.typeahead.focusInput();this.props.onSelectAttempt&&this.props.onSelectAttempt(null);}.bind(this);this.$AdsTypeahead6=function(){this.setState({focused:true});}.bind(this);this.$AdsTypeahead4=function(){this.setState({focused:false});}.bind(this);var n=m.selectedEntry;this.state={queryString:m.selectedEntry?n.getTitle():'',focused:!!m.focusedOnInit};}l.prototype.componentWillReceiveProps=function(m){if('selectedEntry' in m)this.setState({queryString:m.selectedEntry?m.selectedEntry.getTitle():m.clearQueryIfNoSelectedEntry?'':this.state.queryString});};l.prototype.render=function(){var m=null,n=null;if(this.props.selectedEntry){m=this.props.selectedEntry;n=this.props.selectedEntry.getPhoto();}var o=Array.isArray(this.props.errors)&&this.props.errors.length?c('React').createElement('span',{className:"_1fys"},c('React').createElement(c('AdsValidationIcon.react'),{messages:this.props.errors,type:c('AdsValidationIconType').ERROR_WHITE})):null,p=c('joinClasses')("_1fyt"+(' '+"_1fyu")+(this.state.focused?' '+"_1fyv":'')+(!!o?' '+"_1fyw":''),this.props.className),q=this.props.placeholder||'',r=!this.props.selectedEntry||!this.state.queryString,s=!!this.state.queryString&&!this.props.selectedEntry,t=null;if(this.props.tooltipHelpText)t=c('React').createElement('span',{className:"_1fyx"},c('React').createElement(c('AdsHelpLink.react'),null,this.$AdsTypeahead1()));return c('React').createElement('div',{className:p,role:'presentation',title:this.props.disableTooltip?null:q},c('React').createElement('div',{className:"_1fyy"+(this.props.hasExtraSpacing?' '+"_7tf":'')+(!!o?' '+"_1fyz":'')},o,c('React').createElement('div',{className:(this.props.disabled?"_1fy-":'')+(' '+"_1fy_")+(!!m?' '+"_1fz0":'')+(!!t?' '+"_1fz1":'')+(!!n?' '+"_1fz2":'')},n&&this.$AdsTypeahead2(n),m&&this.$AdsTypeahead3(),!m&&t,c('React').createElement(c('XUITypeahead.react'),{autoHighlight:this.props.autoHighlight,'data-testid':this.props['data-testid'],disabled:this.props.disabled,focusedOnInit:this.props.focusedOnInit,placeholder:q,presenter:this.props.presenter,queryString:this.state.queryString,ref:'typeahead',searchSource:this.props.searchSource,selectOnBlur:s,showEntriesOnFocus:r,textInputDataTestID:this.props.textInputDataTestID,viewStyle:'rich',onBlur:this.$AdsTypeahead4,onChange:this.$AdsTypeahead5,onFocus:this.$AdsTypeahead6,onSelectAttempt:this.$AdsTypeahead7}))),c('React').createElement('div',null,this.props.children));};l.propTypes={autoHighlight:k.bool,clearQueryIfNoSelectedEntry:k.bool,disabled:k.bool,disableTooltip:k.bool,errors:k.array,focusedOnInit:k.bool,hasExtraSpacing:k.bool,onQueryStringChange:k.func,onSelectAttempt:k.func,placeholder:k.string,presenter:k.object,queryStringOnClearEntry:k.string,searchSource:k.object.isRequired,selectedEntry:k.instanceOf(c('SearchableEntry')),textInputDataTestID:k.string};l.defaultProps={autoHighlight:true,clearQueryIfNoSelectedEntry:false,disableTooltip:false,hasExtraSpacing:true};f.exports=l;}),null);
__d('AudienceManagerEngagementCampaignVideoTypeaheadView.react',['ix','cx','fbt','CenteredContainer.react','Image.react','LeftRight.react','React','XUITypeaheadView.react','fbglyph','AdsAMTypeaheadUtil'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('AdsAMTypeaheadUtil').getCacheKey,n=c('React').PureComponent,o=120,p=320;k=babelHelpers.inherits(q,n);l=k&&k.prototype;q.prototype.render=function(){var r=this.props.queryString||'',s=m(this.props.typeaheadType,r,this.props.extraData);if(!this.props.queryReadyStates.get(s))return null;if(!this.props.entries||!this.props.entries.length){var t=c('React').createElement(c('Image.react'),{src:h("139157")}),u='';if(this.props.queryString){u=j._("There aren't any campaigns that match this search term in your advert account. Try searching by another keyword.");}else u=j._("There aren't any campaigns in this advert account that used video. Use the dropdown menu to search by Page instead.");return (c('React').createElement(c('CenteredContainer.react'),{className:"_2ip7 _2ip9 _hpl _1y42",fullHeight:true,horizontal:true,style:{height:o},vertical:true},c('React').createElement(c('LeftRight.react'),null,t,c('React').createElement('div',{style:{display:'inline-block',width:p}},u))));}return (c('React').createElement(c('XUITypeaheadView.react'),this.props));};function q(){k.apply(this,arguments);}f.exports=q;}),null);
__d('AudienceManagerEngagementCampaignVideoTypeahead.react',['cx','AdsAMTypeaheadTypes','AdsAudienceCampaignVideoSearchSource','AdsCommonAdvertisablePagesVideosActions','AdsTypeahead.react','AdsAMTypeaheadSearchSource','AudienceManagerEngagementCampaignVideoTypeaheadView.react','Map','InlineBlock.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l={ViewRenderer:c('AudienceManagerEngagementCampaignVideoTypeaheadView.react'),useLayer:true,alwaysVisibleOnFocus:true};i=babelHelpers.inherits(m,k);j=i&&i.prototype;function m(n){j.constructor.call(this,n);this.$AudienceManagerEngagementCampaignVideoTypeahead4=function(o){var p=o?o.getUniqueID():null;c('AdsCommonAdvertisablePagesVideosActions').loadCampaignVideoGroups(p);this.setState({lastSavedQuery:this.state.query,selectedEntry:o});}.bind(this);this.$AudienceManagerEngagementCampaignVideoTypeahead3=function(o){this.setState({query:o});}.bind(this);this.$AudienceManagerEngagementCampaignVideoTypeahead1={timezone:this.props.timezone,accountID:this.props.accountID};this.$AudienceManagerEngagementCampaignVideoTypeahead2=new (c('AdsAudienceCampaignVideoSearchSource'))(this.$AudienceManagerEngagementCampaignVideoTypeahead1);this.state={query:'',lastSavedQuery:'',selectedEntry:null};}m.prototype.render=function(){var n=babelHelpers['extends']({},l,{extraRendererProps:{extraData:this.$AudienceManagerEngagementCampaignVideoTypeahead1,queryReadyStates:this.props.queryReadyStates,typeaheadType:c('AdsAMTypeaheadTypes').CAMPAIGN_VIDEO}});return c('React').createElement(c('InlineBlock.react'),{className:"_4l1p"},c('React').createElement(c('AdsTypeahead.react'),babelHelpers['extends']({},this.props,{className:"_4l1q",clearable:true,focusedOnInit:true,placeholder:'Search by campaign name',presenter:n,queryStringOnClearEntry:this.state.lastSavedQuery,searchSource:this.$AudienceManagerEngagementCampaignVideoTypeahead2,selectedEntry:this.state.selectedEntry,showEntriesOnFocus:true,onQueryStringChange:this.$AudienceManagerEngagementCampaignVideoTypeahead3,onSelectAttempt:this.$AudienceManagerEngagementCampaignVideoTypeahead4})));};f.exports=m;}),null);
__d('AudienceManagerEngagementCampaignVideoContainer.react',['AdsAccountStore','AdsSelectedAccountIDGetter','AdsAMTypeaheadStore','AudienceManagerEngagementCampaignVideoTypeahead.react','FluxContainer','Map','React'],(function a(b,c,d,e,f,g){'use strict';function h(k){return (c('React').createElement(c('AudienceManagerEngagementCampaignVideoTypeahead.react'),k));}function i(){return [c('AdsAccountStore'),c('AdsAMTypeaheadStore')];}function j(k){var l=c('AdsSelectedAccountIDGetter').get({})||'',m=c('AdsAMTypeaheadStore').getQueryResultReadyStates();return {accountID:l,queryReadyStates:m,timezone:c('AdsAccountStore').getTimezoneID()};}f.exports=c('FluxContainer').createFunctional(h,i,j);}),null);
__d("XAudienceManagerNuxAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ads\/manager\/audience\/nux\/status\/",{nux_id:{type:"Int",required:true},action:{type:"Enum",enumType:1}});}),null);
__d('AudienceManagerEngagementVideoSelectionTableColumn.react',['ix','cx','xuiglyph','AsyncRequest','BUIAdoptionXUIText.react','Image.react','Layout.react','LayerHideOnBlur','NuxActionType','React','URI','XAudienceManagerNuxAsyncController','XUIAmbientNUX.react','XUIContextualDialog.react','XUIContextualDialogBody.react','XUIContextualDialogTitle.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('Layout.react').Column,n=c('Layout.react').FillColumn;k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(p){l.constructor.call(this,p);this.state={isCheckingNux:this.$AudienceManagerEngagementVideoSelectionTableColumn7(),dialogShown:false,nuxShown:false};this.$AudienceManagerEngagementVideoSelectionTableColumn1=function(){if(this.state.nuxShown)return;this.setState({dialogShown:true});}.bind(this);this.$AudienceManagerEngagementVideoSelectionTableColumn2=function(){this.setState({dialogShown:false});}.bind(this);this.$AudienceManagerEngagementVideoSelectionTableColumn3=function(){return this.refs.info;}.bind(this);if(!this.$AudienceManagerEngagementVideoSelectionTableColumn7())return;this.$AudienceManagerEngagementVideoSelectionTableColumn5=function(){return this.refs.column_title;}.bind(this);this.$AudienceManagerEngagementVideoSelectionTableColumn4=function(){this.setState({nuxShown:false});new (c('AsyncRequest'))().setURI(this.$AudienceManagerEngagementVideoSelectionTableColumn8(c('NuxActionType').DISMISS)).send();}.bind(this);this.$AudienceManagerEngagementVideoSelectionTableColumn6=new (c('AsyncRequest'))().setURI(this.$AudienceManagerEngagementVideoSelectionTableColumn8()).setHandler(function(q){if(!q.payload.err)this.setState({dialogShown:this.state.dialogShown&&!q.payload.showNux,nuxShown:q.payload.showNux});}.bind(this)).setFinallyHandler(function(q){this.setState({isCheckingNux:false});}.bind(this));this.$AudienceManagerEngagementVideoSelectionTableColumn6.send();}o.prototype.$AudienceManagerEngagementVideoSelectionTableColumn9=function(){return this.props.title;};o.prototype.$AudienceManagerEngagementVideoSelectionTableColumn10=function(){return this.props.details;};o.prototype.$AudienceManagerEngagementVideoSelectionTableColumn7=function(){return this.props.nuxID!==null;};o.prototype.$AudienceManagerEngagementVideoSelectionTableColumn8=function(){var p=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(!this.$AudienceManagerEngagementVideoSelectionTableColumn7())return null;var q=c('XAudienceManagerNuxAsyncController').getURIBuilder().setInt('nux_id',this.props.nuxID);if(p!==null)q.setEnum('action',p);return q.getURI();};o.prototype.$AudienceManagerEngagementVideoSelectionTableColumn11=function(){if(!this.props.details||this.state.nuxShown)return null;return (c('React').createElement(c('XUIContextualDialog.react'),{contextRef:this.$AudienceManagerEngagementVideoSelectionTableColumn3,position:'below',shown:this.state.dialogShown,width:300},c('React').createElement(c('XUIContextualDialogTitle.react'),null,this.$AudienceManagerEngagementVideoSelectionTableColumn9()),c('React').createElement(c('XUIContextualDialogBody.react'),null,this.$AudienceManagerEngagementVideoSelectionTableColumn10())));};o.prototype.$AudienceManagerEngagementVideoSelectionTableColumn12=function(){if(!this.props.details||!this.$AudienceManagerEngagementVideoSelectionTableColumn7())return null;return (c('React').createElement(c('XUIAmbientNUX.react'),{autofocus:true,behaviors:{LayerHideOnBlur:c('LayerHideOnBlur')},contextRef:this.$AudienceManagerEngagementVideoSelectionTableColumn5,customwidth:400,position:'below',shown:this.state.nuxShown,width:'custom',onCloseButtonClick:this.$AudienceManagerEngagementVideoSelectionTableColumn4},c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIText.react'),null,this.$AudienceManagerEngagementVideoSelectionTableColumn10()))));};o.prototype.componentWillUnmount=function(){if(this.$AudienceManagerEngagementVideoSelectionTableColumn7())this.$AudienceManagerEngagementVideoSelectionTableColumn6.abandon();if(this.state.nuxShown){this.setState({nuxShown:false});new (c('AsyncRequest'))().setURI(this.$AudienceManagerEngagementVideoSelectionTableColumn8(c('NuxActionType').VIEW)).send();}};o.prototype.render=function(){var p=h("89330"),q=this.props.details?c('React').createElement(c('Image.react'),{className:"_kgo _kgp",ref:'info',src:p,onMouseEnter:this.$AudienceManagerEngagementVideoSelectionTableColumn1,onMouseLeave:this.$AudienceManagerEngagementVideoSelectionTableColumn2}):null,r=this.props.sortGlyph?c('React').createElement(c('Image.react'),{className:"_kgo",src:this.props.sortGlyph}):null;return (c('React').createElement('span',null,c('React').createElement(c('Layout.react'),null,c('React').createElement(n,null,c('React').createElement('div',{className:"ellipsis",ref:'column_title'},this.$AudienceManagerEngagementVideoSelectionTableColumn9())),c('React').createElement(m,null,c('React').createElement('div',null,q,r))),this.$AudienceManagerEngagementVideoSelectionTableColumn11(),this.$AudienceManagerEngagementVideoSelectionTableColumn12()));};f.exports=o;}),null);
__d('formatDurationSeconds',['fbt','padNumber'],(function a(b,c,d,e,f,g,h){function i(j){var k=Math.floor(j/3600),l=Math.floor(j/60%60),m=Math.floor(j%60);if(k){return h._("{hours}:{minutes}:{seconds}",[h.param('hours',k),h.param('minutes',c('padNumber')(l,2)),h.param('seconds',c('padNumber')(m,2))]);}else return h._("{minutes}:{seconds}",[h.param('minutes',l),h.param('seconds',c('padNumber')(m,2))]);}f.exports=i;}),null);
__d('AudienceManagerEngagementVideoGroupSelectionTable.react',['ix','cx','fbt','xuiglyph','AudienceManagerEngagementVideoSelectionTableColumn.react','BackgroundImage.react','BUIAdoptionXUIGrayText.react','DateTime','immutable','ObjectSort','React','Date.react','Number.react','TooltipLink.react','XUICheckboxInput.react','XUISortableDataTable.react','formatDurationSeconds','getDataTableSlice','joinClasses','AdsCommonAdvertisablePagesVideosStoreDataTypes'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m,n,o,p,q=c('React').Component,r=c('ObjectSort').getReverseNumericSortFunction,s=c('ObjectSort').getReverseStringSortFunction,t=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').VideoGroupData,u='checkbox',v='preferredThumbnail',w='description',x='lastUsedTime',y='views',z=(n={},n[u]=18,n[v]=120,n[w]=189,n[y]=92,n[x]=92,n),aa=(o={},o[y]=j._("This is the total number of times that your video was viewed for 3 seconds or more. Your actual audience size may be smaller than this number."),o),ba=(p={},p[y]=4022,p),ca={preferredThumbnail:j._("Thumbnail"),description:j._("Video details"),views:j._("Video Views"),lastUsedTime:j._("Last used")};l=babelHelpers.inherits(da,q);m=l&&l.prototype;function da(){var ea,fa;for(var ga=arguments.length,ha=Array(ga),ia=0;ia<ga;ia++)ha[ia]=arguments[ia];return fa=(ea=m.constructor).call.apply(ea,[this].concat(ha)),this.state={columnToSortBy:x,isReverseSort:false},this.$AdsCommonTargetingVideoGroupSelectionTable1=function(){return [{id:v,sortable:false,cellRenderer:function ja(ka){return (c('React').createElement(c('BackgroundImage.react'),{backgroundPosition:'0% 50%',backgroundSize:'contain',height:54,src:ka.uri,width:z[v]}));}},{id:w,cellRenderer:function(ja,ka,la){var ma=la.createdTime,na=la.duration,oa=ja||j._("Untitled video");return (c('React').createElement('div',null,c('React').createElement('div',{className:"_1nrn"},c('React').createElement(c('TooltipLink.react'),{href:'#',tooltip:oa},c('React').createElement('div',{className:"ellipsis"},oa))),c('formatDurationSeconds')(na),' \u2022 ',c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light'},'Uploaded: ',c('React').createElement(c('Date.react'),{date:c('DateTime').fromISOString(ma,this.props.timezoneID).toDate(),format:'M d, Y'}))));}.bind(this),sortable:false},{id:y,cellRenderer:function ja(ka){return c('React').createElement(c('Number.react'),{value:ka});},sortable:false,comparator:r(y)},{id:x,cellRenderer:function(ja){return (c('React').createElement(c('Date.react'),{date:c('DateTime').fromISOString(ja,this.props.timezoneID).toDate(),format:'M d, Y'}));}.bind(this),sortable:false,comparator:s(x)}];}.bind(this),this.onToggle=function(ja){var ka=ja.target,la=this.props,ma=la.onDeselect,na=la.onSelect,oa=c('immutable').Set.of(ka.value);if(ka.checked){na(oa);}else ma(oa);}.bind(this),fa;}da.prototype.$AdsCommonTargetingVideoGroupSelectionTable2=function(){var ea=this.props.selectedVideoGroupIDs;return {id:u,cellRenderer:function(fa,ga,ha){var ia=ha.id;return c('React').createElement(c('XUICheckboxInput.react'),{checked:ea.has(ia),value:ia,onChange:this.onToggle});}.bind(this),sortable:false,width:z[u],label:null};};da.prototype.columns=function(){var ea=this.$AdsCommonTargetingVideoGroupSelectionTable2(),fa=this.$AdsCommonTargetingVideoGroupSelectionTable1().map(function(ga){var ha=null;if(ga.sortable&&this.state.columnToSortBy===ga.id)ha=this.state.isReverseSort?h("89941"):h("89977");var ia=aa[ga.id]||null,ja=ba[ga.id]||null;return babelHelpers['extends']({},ga,{width:z[ga.id],label:c('React').createElement(c('AudienceManagerEngagementVideoSelectionTableColumn.react'),{details:ia,nuxID:ja,sortGlyph:ha,title:ca[ga.id]})});}.bind(this));return [ea].concat(fa);};da.prototype.visibleIDs=function(){var ea=this.props,fa=ea.videoGroupDetails,ga=ea.viewLength,ha=ea.viewStart;return (c('getDataTableSlice')(fa,ha,ga).map(function(ia){return ia.id;}));};da.prototype.$AdsCommonTargetingVideoGroupSelectionTable3=function(ea,fa){this.setState({columnToSortBy:ea,isReverseSort:fa});};da.prototype.render=function(){var ea=this.props,fa=ea.videoGroupDetails,ga=ea.viewLength,ha=ea.viewStart,ia=function(ja,ka){return this.$AdsCommonTargetingVideoGroupSelectionTable3(ja,ka);}.bind(this);return (c('React').createElement(c('XUISortableDataTable.react'),{bodyHeight:this.props.bodyHeight,className:c('joinClasses')(this.props.className,"_1nro"),columnToSortBy:this.state.columnToSortBy,columns:this.columns(),outerBorder:false,rows:fa,viewLength:ga,viewStart:ha,onSort:ia}));};f.exports=da;}),null);
__d('AudienceManagerEngagementVideoSelectionSidebar.react',['ix','cx','fbt','xuiglyph','BUIAdoptionXUIGrayText.react','AdsCommonAdvertisablePagesVideosStoreDataTypes','ImageBlock.react','InlineBlock.react','Image.react','immutable','Link.react','Layout.react','React','Date.react','formatDurationSeconds'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m,n=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').PageInfo,o=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').VideoGroupData,p=c('Layout.react').Column,q=c('Layout.react').FillColumn;l=babelHelpers.inherits(r,c('React').Component);m=l&&l.prototype;r.prototype.$AudienceManagerEngagementVideoSelectionSidebar1=function(s){return (c('React').createElement('div',{className:"_2pi2"},c('React').createElement(c('ImageBlock.react'),null,c('React').createElement(c('Image.react'),{className:"img _s0 _ry",src:s.picture.data.url}),c('React').createElement(c('InlineBlock.react'),{alignv:'middle',fullWidth:true,height:24},c('React').createElement('div',{className:"ellipsis"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'dark'},c('React').createElement('strong',null,s.name)))))));};r.prototype.$AudienceManagerEngagementVideoSelectionSidebar2=function(s){var t=function(){return this.props.onDeselect(c('immutable').Set.of(s.id));}.bind(this),u=s.description||j._("Untitled video");return (c('React').createElement(c('Layout.react'),{className:"_2pi2",key:'selected-video-'+s.id},c('React').createElement(q,null,c('React').createElement(c('InlineBlock.react'),{alignv:'middle',fullWidth:true,height:12},c('React').createElement('div',{className:"ellipsis"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'dark'},u))),c('React').createElement(c('InlineBlock.react'),{alignv:'middle',fullWidth:true,height:12},c('React').createElement('div',{className:"ellipsis"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light'},c('React').createElement(c('Date.react'),{date:new Date(s.lastUsedTime),format:'M d, Y'})," - ",c('formatDurationSeconds')(s.duration))))),c('React').createElement(p,null,c('React').createElement(c('Link.react'),{href:'#',onClick:t},c('React').createElement(c('Image.react'),{className:"_3-8w",src:h("88985")})))));};r.prototype.$AudienceManagerEngagementVideoSelectionSidebar3=function(s){var t=s.videoGroupsLoadObjects.get(0).getValueEnforcing().map(function(u){return this.$AudienceManagerEngagementVideoSelectionSidebar2(u);}.bind(this));return (c('React').createElement('div',{className:"_2pi2",key:'selected-page-'+s.id},this.$AudienceManagerEngagementVideoSelectionSidebar1(s),t));};r.prototype.render=function(){var s=0,t=this.props.pageInfosWithSelectedVideos.filter(function(v){return (v.videoGroupsLoadObjects.get(0).hasValue()&&v.videoGroupsLoadObjects.get(0).getValueEnforcing().count());}).map(function(v){s+=v.videoGroupsLoadObjects.get(0).getValueEnforcing().count();return this.$AudienceManagerEngagementVideoSelectionSidebar3(v);}.bind(this)),u=this.props.maxContentHeight?{height:this.props.maxContentHeight,overflowY:'scroll'}:null;return (c('React').createElement('div',{className:this.props.className},c('React').createElement('div',{className:"_2pin"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light'},c('React').createElement('strong',null,j._("Selected videos ({number_of_selected_videos})",[j.param('number_of_selected_videos',s)])))),c('React').createElement('div',{style:u},t)));};function r(){l.apply(this,arguments);}f.exports=r;}),null);
__d('AudienceManagerEngagementVideoSource',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';f.exports=c('keyMirrorRecursive')({CAMPAIGN:'CAMPAIGN',PAGE:'PAGE'});}),null);
__d('AudienceManagerEngagementVideoSourceSelector.react',['fbt','AudienceManagerEngagementVideoSource','React','XUISingleSelector.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=c('XUISingleSelector.react').Option;i=babelHelpers.inherits(m,k);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$AudienceManagerEngagementVideoSourceSelector1=function(s){this.props.onChange(s.value);}.bind(this),o;}m.prototype.render=function(){return c('React').createElement(c('XUISingleSelector.react'),{className:this.props.className,size:'large',value:this.props.value,onChange:this.$AudienceManagerEngagementVideoSourceSelector1},c('React').createElement(l,{value:c('AudienceManagerEngagementVideoSource').CAMPAIGN},h._("Campaign")),c('React').createElement(l,{value:c('AudienceManagerEngagementVideoSource').PAGE},h._("Page")));};f.exports=m;}),null);
__d('LICriticalError.react',['cx','fbt','ix','CenteredContainer.react','Image.react','Link.react','React','XUIGrayText.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l;k=babelHelpers.inherits(m,c('React').Component);l=k&&k.prototype;function m(o){l.constructor.call(this,o);this.$LICriticalError1=function(){return this.props.onTryAgainClick();}.bind(this);}m.prototype.shouldComponentUpdate=function(){return false;};m.prototype.render=function(){return (c('React').createElement(c('CenteredContainer.react'),{className:this.props.className,horizontal:true,vertical:true},c('React').createElement(c('Image.react'),{src:j("76143")}),c('React').createElement(c('XUIGrayText.react'),{className:"_3-8x",display:'block',weight:'bold'},i._("Something went wrong")),c('React').createElement(c('XUIGrayText.react'),{display:'block'},i._("There was a problem while loading your data. {=Try again}.",[i.param('=Try again',c('React').createElement(c('Link.react'),{onClick:this.$LICriticalError1},i._("Try again")))]))));};var n=c('React').PropTypes;m.propTypes={onTryAgainClick:n.func.isRequired};f.exports=m;}),null);
__d('AudienceManagerEngagementVideoSelection.react',['ix','cx','fbt','BUIAdoptionButton.react','BUIAdoptionUtils','AdsCommonAdvertisablePagesVideosStoreDataTypes','AdsAccountStore','AdsAssetSectionType','AdsCommonAdvertisablePagesVideosActions','AdsCommonTargetingEngagementPageDropdownContainer.react','AudienceManagerEngagementVideoSelectionError.react','AudienceManagerEngagementCampaignVideoContainer.react','AudienceManagerEngagementVideoSource','AudienceManagerEngagementVideoSourceSelector.react','AdsEngagementAudienceSelectedVideosActions','AdsEngagementAudienceUILogger','ApiPageFields','BUIAdoptionXUINotice.react','BUIAdoptionXUISpinner.react','CenteredContainer.react','EngagementAudienceUIEvents','fbglyph','Image.react','immutable','InlineBlock.react','LayerFadeOnHide','LICriticalError.react','LoadObject','AdsCommonAdvertisablePagesVideosStore','React','SUIGlyphIcon.react','AudienceManagerEngagementVideoSelectionSidebar.react','AudienceManagerEngagementVideoGroupSelectionTable.react','XUIDialog.react','XUIDialogBody.react','XUIDialogCancelButton.react','XUIDialogConfirmButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIPagerButtons.react','adsGKCheck','getViewportDimensions','nullthrows'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').PageInfo,n=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').VideoData,o=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').VideoGroupData,p=c('React').Component,q=50,r=910,s=300,t=71,u=47,v=j._("No videos found"),w=j._("Try searching by campaign name."),x=j._("There is no video associated with this page"),y=j._("There are no videos associated with this campaign"),z=j._("Try selecting videos from another page"),aa=j._("Try selecting videos from another campaign"),ba=j._("Videos used in the selected campaign will appear here.");k=babelHelpers.inherits(ca,p);l=k&&k.prototype;function ca(ea){l.constructor.call(this,ea);da.call(this);var fa='',ga=undefined;if(this.props.selectedPageID){var ha=c('AdsCommonAdvertisablePagesVideosStore').getPageInfo(this.props.selectedPageID).getValueEnforcing(),ia=ha[c('ApiPageFields').BUSINESS];if(ia&&ia.id)fa=ia.id;ga=c('AdsAssetSectionType').OWNED;}this.state={filterText:'',pageSearchQuery:'',selectedBusinessID:fa,selectedSectionType:ga};}ca.prototype.$AudienceManagerEngagementVideoSelection13=function(){this.setState({filterText:''});};ca.prototype.render=function(){return (c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},fixedTopPosition:q,layerHideOnBlur:false,shown:this.props.isVisible,width:r,onToggle:this.$AudienceManagerEngagementVideoSelection7},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:true},j._("Select Videos")),c('React').createElement(c('XUIDialogBody.react'),{fontSize:'inherit'},c('React').createElement('div',{className:"_39gr"},this.$AudienceManagerEngagementVideoSelection14(),c('React').createElement('div',{className:"_39gs"},this.$AudienceManagerEngagementVideoSelection15()))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:this.$AudienceManagerEngagementVideoSelection1}),c('React').createElement(c('XUIDialogConfirmButton.react'),{use:'confirm',onClick:this.$AudienceManagerEngagementVideoSelection2}))));};ca.prototype.$AudienceManagerEngagementVideoSelection16=function(){var ea=c('getViewportDimensions')(),fa=ea.height||s,ga=Math.round(Math.max(fa,s)*.5),ha=Math.round(ga/t);return (ha+.5)*t;};ca.prototype.$AudienceManagerEngagementVideoSelection14=function(){var ea=void 0;if(this.props.pagesLoadObject.hasError()){ea=c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'error'},j._("Error while loading Pages, please try again later"));}else if(!this.props.pagesLoadObject.hasValue()){ea=c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'});}else ea=c('React').createElement('div',null,c('React').createElement('div',{className:"_39gy"},this.$AudienceManagerEngagementVideoSelection17(),this.$AudienceManagerEngagementVideoSelection18()),c('React').createElement('div',{className:"_39gz"},this.$AudienceManagerEngagementVideoSelection19()));return (c('React').createElement('div',{className:"_39g-"},ea));};ca.prototype.$AudienceManagerEngagementVideoSelection17=function(){if(!this.props.selectedPageID&&this.props.videoSource===c('AudienceManagerEngagementVideoSource').PAGE)return (c('React').createElement(c('CenteredContainer.react'),{className:"_44g0"},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'})));var ea=this.props.pagesLoadObject.getValueEnforcing().toArray(),fa=c('adsGKCheck')('can_account_use_veca_campaign_filter')?c('React').createElement(c('AudienceManagerEngagementVideoSourceSelector.react'),{className:"_3evq",value:this.props.videoSource,onChange:this.$AudienceManagerEngagementVideoSelection20}):null,ga=this.props.useCampaignFilter&&this.props.videoSource===c('AudienceManagerEngagementVideoSource').CAMPAIGN,ha=ga?c('React').createElement(c('AudienceManagerEngagementCampaignVideoContainer.react'),null):c('React').createElement(c('AdsCommonTargetingEngagementPageDropdownContainer.react'),{className:"_39h0 _3evq",pageSearchQuery:this.state.pageSearchQuery,pages:ea,selectedBusinessID:this.state.selectedBusinessID,selectedPageID:c('nullthrows')(this.props.selectedPageID),selectedSectionType:this.state.selectedSectionType,onPageSelected:this.$AudienceManagerEngagementVideoSelection3,onSearch:this.$AudienceManagerEngagementVideoSelection6});return (c('React').createElement('div',{className:"_3evr"},fa,ha));};ca.prototype.$AudienceManagerEngagementVideoSelection18=function(){var ea=c('React').createElement(c('InlineBlock.react'),{className:"_2pil"},'Page '+c('AdsCommonAdvertisablePagesVideosStore').getCurrentPageNumber());return (c('React').createElement('div',{className:"_39h2"},ea,c('React').createElement(c('XUIPagerButtons.react'),null,c('React').createElement(c('BUIAdoptionButton.react'),{disabled:c('AdsCommonAdvertisablePagesVideosStore').getCurrentPageNumber()===1,height:c('BUIAdoptionUtils').convertSizeToHeight('large'),icon:c('React').createElement(c('SUIGlyphIcon.react'),{srcDefault:h("142930"),srcDisabled:h("142930")}),label:j._("Previous"),labelIsHidden:true,onClick:this.$AudienceManagerEngagementVideoSelection10}),c('React').createElement(c('BUIAdoptionButton.react'),{disabled:!this.$AudienceManagerEngagementVideoSelection12(),height:c('BUIAdoptionUtils').convertSizeToHeight('large'),icon:c('React').createElement(c('SUIGlyphIcon.react'),{srcDefault:h("142934"),srcDisabled:h("142934")}),label:j._("Next"),labelIsHidden:true,onClick:this.$AudienceManagerEngagementVideoSelection11}))));};ca.prototype.$AudienceManagerEngagementVideoSelection21=function(ea){var fa=[],ga=c('AdsCommonAdvertisablePagesVideosStore').getCurrentPageNumber(),ha=ea.videoGroupsLoadObjects;if(ea&&ha.has(ga)&&ha.get(ga).hasValue())fa=ha.get(ga).getValueEnforcing().toArray();return fa;};ca.prototype.$AudienceManagerEngagementVideoSelection22=function(){var ea=this.props.pagesLoadObject.getValueEnforcing(),fa=ea.find(function(la){return la.id===this.props.selectedPageID;}.bind(this)),ga=c('AdsCommonAdvertisablePagesVideosStore').getCurrentPageNumber(),ha=fa.videoGroupsLoadObjects,ia=null;if(fa&&ha.has(ga)&&ha.get(ga).hasError()){var ja=function(){this.props.onRetryLoadPageVideos(this.props.selectedPageID);}.bind(this);ia=c('React').createElement(c('LICriticalError.react'),{onTryAgainClick:ja});}else if(!fa||!ha.has(ga)||!ha.get(ga).hasValue())ia=c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'});var ka=this.$AudienceManagerEngagementVideoSelection21(fa);if(!ia&&!ka.length)ia=c('React').createElement(c('AudienceManagerEngagementVideoSelectionError.react'),{actionLabel:ea.size>1?z:undefined,mainLabel:v,subtitleLabel:x});return {videoGroups:ka,tableOverlayContent:ia};};ca.prototype.$AudienceManagerEngagementVideoSelection23=function(){var ea=null,fa=[],ga=c('AdsCommonAdvertisablePagesVideosStore').getCampaignInfos(),ha=c('AdsCommonAdvertisablePagesVideosStore').getSelectedSourceID();if(!ha){ea=c('React').createElement(c('AudienceManagerEngagementVideoSelectionError.react'),{actionLabel:ba,mainLabel:w});return {videoGroups:fa,tableOverlayContent:ea};}if(ga.has(ha)&&ga.get(ha).hasError()){var ia=function la(){c('AdsCommonAdvertisablePagesVideosActions').loadCampaignVideoGroups(ha);};ea=c('React').createElement(c('LICriticalError.react'),{onTryAgainClick:ia});return {videoGroups:fa,tableOverlayContent:ea};}else if(!ga.has(ha)||ga.get(ha).isLoading()){ea=c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'});return {videoGroups:fa,tableOverlayContent:ea};}var ja=ga.get(ha).getValueEnforcing().videoGroups,ka=c('AdsCommonAdvertisablePagesVideosStore').getCurrentPageNumber();if(!ja.has(ka)||ja.get(ka).count()===0){ea=c('React').createElement(c('AudienceManagerEngagementVideoSelectionError.react'),{actionLabel:aa,mainLabel:v,subtitleLabel:y});}else fa=ja.get(ka).toArray();return {videoGroups:fa,tableOverlayContent:ea};};ca.prototype.$AudienceManagerEngagementVideoSelection19=function(){var ea=this.props.videoSource===c('AudienceManagerEngagementVideoSource').CAMPAIGN?this.$AudienceManagerEngagementVideoSelection23():this.$AudienceManagerEngagementVideoSelection22(),fa=this.$AudienceManagerEngagementVideoSelection16(),ga=c('AdsAccountStore').getTimezoneID();if(ea.tableOverlayContent!==null){var ha={height:fa,marginTop:-fa};ea.tableOverlayContent=c('React').createElement('div',{className:"_39h4",style:ha},c('React').createElement('div',{className:"_39h7"},ea.tableOverlayContent));ea.videoGroups=[];}return (c('React').createElement('div',null,c('React').createElement(c('AudienceManagerEngagementVideoGroupSelectionTable.react'),{bodyHeight:fa,className:"_39h8",selectedVideoGroupIDs:this.props.selectedVideoIDs,timezoneID:ga,videoGroupDetails:ea.videoGroups,onDeselect:this.$AudienceManagerEngagementVideoSelection8,onSelect:this.$AudienceManagerEngagementVideoSelection9}),ea.tableOverlayContent));};ca.prototype.$AudienceManagerEngagementVideoSelection15=function(){var ea=this.props.pagesWithSelectedVideosLoadObject;if(!ea.hasValue())return null;return (c('React').createElement(c('AudienceManagerEngagementVideoSelectionSidebar.react'),{className:"_39h9",maxContentHeight:this.$AudienceManagerEngagementVideoSelection16()+u,pageInfosWithSelectedVideos:ea.getValueEnforcing(),onDeselect:this.$AudienceManagerEngagementVideoSelection8}));};var da=function ea(){this.$AudienceManagerEngagementVideoSelection7=function(fa){if(!fa)this.props.onCancelVideoSelected();}.bind(this);this.$AudienceManagerEngagementVideoSelection1=function(){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').VG_CLICK_CANCEL_VIDEOS);c('AdsCommonAdvertisablePagesVideosStore').resetCurrentPageNumber();this.$AudienceManagerEngagementVideoSelection13();this.props.onChangeVideoSource(c('AudienceManagerEngagementVideoSource').PAGE);this.props.onCancelVideoSelected();}.bind(this);this.$AudienceManagerEngagementVideoSelection2=function(){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').VG_CLICK_CONFIRM_VIDEOS);c('AdsCommonAdvertisablePagesVideosStore').resetCurrentPageNumber();this.$AudienceManagerEngagementVideoSelection13();this.props.onChangeVideoSource(c('AudienceManagerEngagementVideoSource').PAGE);this.props.onConfirmVideosSelected(this.props.selectedVideoIDs);}.bind(this);this.$AudienceManagerEngagementVideoSelection8=function(fa){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').VG_REMOVE_VIDEO);c('AdsEngagementAudienceSelectedVideosActions').removeSelectedVideos(fa);};this.$AudienceManagerEngagementVideoSelection9=function(fa){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').VG_ADD_VIDEO);c('AdsEngagementAudienceSelectedVideosActions').addSelectedVideos(fa);};this.$AudienceManagerEngagementVideoSelection4=function(fa){this.setState({filterText:fa});}.bind(this);this.$AudienceManagerEngagementVideoSelection5=function(fa){var ga=fa.value;if(this.props.selectedPageID==ga)return;c('AdsCommonAdvertisablePagesVideosStore').resetCurrentPageNumber();this.$AudienceManagerEngagementVideoSelection13();this.props.onPageSelected(ga);}.bind(this);this.$AudienceManagerEngagementVideoSelection3=function(fa,ga,ha){if(this.props.selectedPageID==fa)return;c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').VG_SELECT_PAGE);c('AdsCommonAdvertisablePagesVideosStore').resetCurrentPageNumber();this.setState({selectedBusinessID:ga,selectedSectionType:ha});this.props.onPageSelected(fa);}.bind(this);this.$AudienceManagerEngagementVideoSelection6=function(fa){this.setState({pageSearchQuery:fa});}.bind(this);this.$AudienceManagerEngagementVideoSelection20=function(fa){c('AdsCommonAdvertisablePagesVideosStore').resetCurrentPageNumber();this.props.onChangeVideoSource(fa);}.bind(this);this.$AudienceManagerEngagementVideoSelection10=function(){c('AdsCommonAdvertisablePagesVideosActions').goToPreviousPage();c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').VG_CLICK_PREVIOUS_PAGE);};this.$AudienceManagerEngagementVideoSelection11=function(){if(this.props.videoSource===c('AudienceManagerEngagementVideoSource').CAMPAIGN){c('AdsCommonAdvertisablePagesVideosActions').goToNextPage();}else if(this.props.selectedPageID){c('AdsCommonAdvertisablePagesVideosActions').goToNextPage(this.props.selectedPageID);c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').VG_CLICK_NEXT_PAGE);}}.bind(this);this.$AudienceManagerEngagementVideoSelection12=function(){if(this.props.videoSource===c('AudienceManagerEngagementVideoSource').CAMPAIGN){return c('AdsCommonAdvertisablePagesVideosStore').hasNextPage();}else return c('AdsCommonAdvertisablePagesVideosStore').hasNextPage(this.props.selectedPageID);}.bind(this);};f.exports=ca;}),null);
__d('AudienceManagerEngagementVideoSelectionContainer.react',['AdsAccountCapabilities','AdsAccountStore','AdsAccountUtils','AdsCommonAdvertisablePagesVideosActions','AdsEngagementAudienceSelectedVideosActions','AdsEngagementAudienceSelectedVideosStore','AdsEngagementAudienceUILogger','AdsFluxContainer','AdsSelectedAccountIDGetter','AudienceManagerEngagementVideoSelection.react','AudienceManagerEngagementVideoSource','EngagementAudienceUIEvents','immutable','LoadObject','AdsCommonAdvertisablePagesVideosStoreDataTypes','AdsCommonAdvertisablePagesVideosStore','React','adsGKCheck'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').PageInfo,k=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').VideoGroupData,l=c('React').Component;h=babelHelpers.inherits(m,l);i=h&&h.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=i.constructor).call.apply(n,[this].concat(q)),this.$AudienceManagerEngagementVideoSelectionContainer1=function(s){if(this.state.videoSource===s)return;var t=null;if(s===c('AudienceManagerEngagementVideoSource').PAGE)t=this.state.pagesLoadObject.getValueEnforcing().first().id;this.setState({videoSource:s,selectedPageID:t});}.bind(this),this.$AudienceManagerEngagementVideoSelectionContainer2=function(s){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').SELECT_PAGE);this.setState({selectedPageID:s});}.bind(this),this.$AudienceManagerEngagementVideoSelectionContainer3=function(s){if(!s)return;c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').RETRY_LOAD_PAGE);c('AdsCommonAdvertisablePagesVideosActions').retryUpdatePageVideoGroups(s);},o;}m.getStores=function(){return [c('AdsAccountStore'),c('AdsCommonAdvertisablePagesVideosStore'),c('AdsEngagementAudienceSelectedVideosStore')];};m.calculateState=function(n,o){var p=c('AdsCommonAdvertisablePagesVideosStore').getAdvertisablePages(),q=n?n.videoSource:c('AudienceManagerEngagementVideoSource').PAGE,r=n&&n.selectedPageID;if(p.hasValue()&&p.getValueEnforcing().count()>0&&!r)r=p.getValueEnforcing().first().id;if(q===c('AudienceManagerEngagementVideoSource').CAMPAIGN)r=null;var s=c('AdsSelectedAccountIDGetter').get({})||'',t=c('AdsAccountUtils').hasCapability(c('AdsAccountStore').get(s),c('AdsAccountCapabilities').CAN_ACCOUNT_USE_CAMPAIGN_FILTER);return {pagesLoadObject:p,selectedPageID:r,useCampaignFilter:t,videoSource:q};};m.prototype.render=function(){if(this.state.selectedPageID)c('AdsCommonAdvertisablePagesVideosStore').getPageVideoGroups(this.state.selectedPageID);var n=c('AdsEngagementAudienceSelectedVideosStore').getSelectedVideos(),o=this.$AudienceManagerEngagementVideoSelectionContainer4(n);return c('React').createElement(c('AudienceManagerEngagementVideoSelection.react'),{isVisible:this.props.isVisible,pagesLoadObject:this.state.pagesLoadObject,pagesWithSelectedVideosLoadObject:o,selectedPageID:this.state.selectedPageID,selectedVideoIDs:n,useCampaignFilter:this.state.useCampaignFilter,videoSource:this.state.videoSource,onCancelVideoSelected:this.props.onCancelVideoSelected,onChangeVideoSource:this.$AudienceManagerEngagementVideoSelectionContainer1,onConfirmVideosSelected:this.props.onConfirmVideoGroupsSelected,onPageSelected:this.$AudienceManagerEngagementVideoSelectionContainer2,onRetryLoadPageVideos:this.$AudienceManagerEngagementVideoSelectionContainer3});};m.prototype.$AudienceManagerEngagementVideoSelectionContainer4=function(n){if(!this.props.selectedVideoGroupsLoaded)return c('LoadObject').loading();var o=c('AdsCommonAdvertisablePagesVideosStore').getVideoGroupInfos(n.toArray()),p=o.filter(function(t){return t.hasValue();}).map(function(t){return t.getValueEnforcing();}),q=o.filter(function(t){return t.hasError();}).map(function(t,u){return u;}).toSet(),r=true,s=c('immutable').OrderedMap();s=s.withMutations(function(t){p.forEach(function(u){var v=c('AdsCommonAdvertisablePagesVideosStore').getPageInfo(u.pageID),w=t.get(u.pageID)||c('AdsCommonAdvertisablePagesVideosStore').getPageInfo(u.pageID).getValue();if(v.isLoading()){r=false;}else if(v.hasError()){q=q.add(u.id);}else if(v.hasValue()){var x=w.videoGroupsLoadObjects.has(0)&&w.videoGroupsLoadObjects.get(0).getValue()||c('immutable').Set(),y=new j(w.getData().set('videoGroupsLoadObjects',c('immutable').Map().set(0,c('LoadObject').empty().setValue(x.add(u)))));t=t.set(u.pageID,y);}});});if(!r)return c('LoadObject').loading();if(q.count())c('AdsEngagementAudienceSelectedVideosActions').removeSelectedVideos(q);return c('LoadObject').empty().setValue(c('immutable').OrderedSet(s.values()));};f.exports=c('AdsFluxContainer').create(m,{pure:true,withProps:true});}),null);
__d('AdsDetailedTargetingPerformanceRating.react',['ix','cx','fbt','BUIAdoptionXUIGrayText.react','Image.react','Layout.react','React','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('Layout.react').Column,n=c('Layout.react').FillColumn,o=c('React').Component,p=h("138206"),q=h("141410");function r(v){var w=v.max,x=v.rating,y=[];for(var z=0;z<w;z++)y.push(c('React').createElement(c('Image.react'),{className:"_4dwd",key:z,src:z<x?p:q}));return (c('React').createElement(m,{className:"_4dwn"},y));}function s(v){switch(v){case 1:return j._("Low");case 2:return j._("Below average");case 3:return j._("Average");case 4:return j._("Above average");case 5:return j._("High");default:return '';}}function t(v){if(v>=0){return j._("{amount of dollar}\u0025 more conversions.",[j.param('amount of dollar',v)]);}else return j._("{amount of dollar}\u0025 fewer conversions.",[j.param('amount of dollar',-v)]);}k=babelHelpers.inherits(u,o);l=k&&k.prototype;u.prototype.render=function(){var v=this.props,w=v.conversionLift,x=v.max,y=v.name,z=v.rating,aa=v.showPerformanceCost,ba=v.spend,ca=aa?c('React').createElement(c('Layout.react'),null,c('React').createElement(n,{className:"_4dws"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'dark'},j._("You spent a total of {highlighted dollar spent of given descriptor} on this option across past campaigns,",[j.param('highlighted dollar spent of given descriptor',c('React').createElement('strong',null,j._("${amount of dollar}",[j.param('amount of dollar',ba)])))])),' ',c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'dark'},j._("which resulted in an average of {highlighted conversion lift sentence}",[j.param('highlighted conversion lift sentence',c('React').createElement('strong',null,t(w)))])))):c('React').createElement(c('Layout.react'),null,c('React').createElement(n,{className:"_4dws"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'dark'},j._("Based on the relative conversions and cost per conversion resulting from this option in your past campaigns."))));return (c('React').createElement('div',{className:"_4dwo"},c('React').createElement(c('Layout.react'),null,c('React').createElement(n,{className:"_4dwp"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'dark',weight:'bold'},j._("Your past performance when using {descriptor name}",[j.param('descriptor name','"'+y+'"')])))),c('React').createElement(c('Layout.react'),{className:"_4dwq"},c('React').createElement(r,{max:x,rating:z}),c('React').createElement(n,{className:"_4dwr"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium'},s(z)))),ca));};function u(){k.apply(this,arguments);}f.exports=u;}),null);
__d('AdsSBAreaClicked',['Event'],(function a(b,c,d,e,f,g){var h={},i={},j={},k=false,l={init:function m(){if(!k){c('Event').listen(document.body,'mouseup',this._onBodyClick.bind(this));k=true;}},setAreaClicked:function m(n,o){if(o&&!h[n])i[n]=true;h[n]=o;},subscribe:function m(n,o){j[n]=o;},unsubscribe:function m(n){delete j[n];},_onBodyClick:function m(){for(var n in h){if(!h[n]&&i[n]){j[n]&&j[n]();i[n]=false;}h[n]=false;}}};f.exports=l;}),null);
__d('AdsSBTokenizerReachEstimateInDropdown.react',['cx','fbt','AdsAccountStoreWrapper_DEPRECATED','AdsGraphAPI','BUIAdoptionButton.react','React','TargetingSpecStore','ads-lib-formatters'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('ads-lib-formatters').createIntlNumberFormatter(0),m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={reachEstimateSentence:null},this.$AdsSBTokenizerReachEstimateInDropdown1=function(){if(this.props.deltaObjectID===undefined)return;var t=this.$AdsSBTokenizerReachEstimateInDropdown2(this.props.deltaObjectID),u=void 0;c('AdsGraphAPI').get(f.id).adaccount(c('AdsAccountStoreWrapper_DEPRECATED').getAccountID()).edge('reachestimate').get({targeting_spec:t}).done(function(w){u=w.users;});var v=this.$AdsSBTokenizerReachEstimateInDropdown3(t);c('AdsGraphAPI').get(f.id).adaccount(c('AdsAccountStoreWrapper_DEPRECATED').getAccountID()).edge('reachestimate').get({targeting_spec:v}).done(function(w){if(u===undefined)u=0;var x=w.users-u,y=i._("Broadens your potential reach estimate by");if(x<0){y=i._("Narrows your potential reach estimate by");x=-x;}var z=c('React').createElement('div',{className:"_2ph-"},y,c('React').createElement('div',{className:"_l-w"},c('React').createElement('span',{className:"_l-x"},l(x)),i._("people")));this.setState({reachEstimateSentence:z});}.bind(this));}.bind(this),this.$AdsSBTokenizerReachEstimateInDropdown3=function(t){var u=this.props.selectedEntryIDs||{};if(this.props.id in u){return this.$AdsSBTokenizerReachEstimateInDropdown4(t,this.props.targetingSpecField);}else return this.$AdsSBTokenizerReachEstimateInDropdown5(t,this.props.targetingSpecField);}.bind(this),this.$AdsSBTokenizerReachEstimateInDropdown4=function(t,u){for(var v=0;v<t[u].length;v++)if(t[u][v].id===this.props.id)t[u].splice(v,1);if(t[u].length===0)delete t[u];return t;}.bind(this),this.$AdsSBTokenizerReachEstimateInDropdown5=function(t,u){if(t[u]){t[u].push({id:this.props.id,name:this.props.name});}else t[u]=[{id:this.props.id,name:this.props.name}];return t;}.bind(this),this.$AdsSBTokenizerReachEstimateInDropdown2=function(t){var u=c('TargetingSpecStore').getTargetingApiSpec();if(Object.prototype.hasOwnProperty.call(u,'page_types'))delete u.page_types;return u;},p;}n.prototype.render=function(){return c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionButton.react'),{label:'Show Delta',onClick:this.$AdsSBTokenizerReachEstimateInDropdown1}),c('React').createElement('div',null,this.state.reachEstimateSentence));};n.propTypes={id:m.string.isRequired,name:m.string.isRequired,deltaObjectID:m.string,targetingSpecField:m.string.isRequired};f.exports=n;}),null);
__d('AdsSBTokenizerWhiteBox.react',['cx','fbt','AdsAPITargetFields','AdsDetailedTargetingPerformanceRating.react','AdsSBAreaClicked','AdsSBTokenizerConstants','AdsSBTokenizerReachEstimateInDropdown.react','AdsSearchBrowseUtils','BUIAdoptionXUIGrayText.react','Image.react','Layout.react','Link.react','React','ScrollableArea.react','adsGKCheck','ads-lib-formatters'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('Layout.react').Column,m=c('Layout.react').FillColumn,n=c('ads-lib-formatters').createIntlNumberFormatter(0),o=c('React').PropTypes,p=190,q=170,r=5,s=c('AdsSBTokenizerConstants').TOKENIZER_TYPES,t=i._("No more than 15\u0025 of your spend will be used to cover data costs. {link}",[i.param('link',c('React').createElement(c('Link.react'),{href:'https://www.facebook.com/business/help/298717656925097'},'Learn more'))]);j=babelHelpers.inherits(u,c('React').Component);k=j&&j.prototype;function u(){var v,w;'use strict';for(var x=arguments.length,y=Array(x),z=0;z<x;z++)y[z]=arguments[z];return w=(v=k.constructor).call.apply(v,[this].concat(y)),this.$AdsSBTokenizerWhiteBox12=function(){c('AdsSBAreaClicked').setAreaClicked(this.props.uniqueID,true);}.bind(this),this.$AdsSBTokenizerWhiteBox13=function(){var aa;if(this.props.showArrow)aa=c('React').createElement('div',{className:"_2cyv"});return aa;}.bind(this),this.$AdsSBTokenizerWhiteBox14=function(aa){var ba=c('React').createElement('div',{className:"_2cyw"},c('React').createElement('span',{className:"_2cyu"},aa));return ba;},this.$AdsSBTokenizerWhiteBox15=function(aa,ba){var ca=c('React').createElement('div',{className:"_2cyw"},c('React').createElement('span',{className:"_2cyz"},aa),c('React').createElement('span',{className:"_2cyu"},' ',ba));return ca;},this.$AdsSBTokenizerWhiteBox5=function(){var aa,ba=this.$AdsSBTokenizerWhiteBox16();if(ba)aa=this.$AdsSBTokenizerWhiteBox15(i._("Source:"),ba);return aa;}.bind(this),this.$AdsSBTokenizerWhiteBox1=function(){var aa=this.$AdsSBTokenizerWhiteBox17();if(!aa)return null;return this.$AdsSBTokenizerWhiteBox15(i._("Name:"),aa);}.bind(this),this.$AdsSBTokenizerWhiteBox2=function(){var aa=this.$AdsSBTokenizerWhiteBox18();if(!aa)return null;return this.$AdsSBTokenizerWhiteBox15(i._("Type:"),aa);}.bind(this),this.$AdsSBTokenizerWhiteBox3=function(){var aa,ba=this.$AdsSBTokenizerWhiteBox19();if(ba)aa=c('React').createElement('div',{className:"_2cyt"},c('React').createElement('span',{className:"_2cyy"},n(ba)),i._("people"));return aa;}.bind(this),this.$AdsSBTokenizerWhiteBox20=function(aa,ba){if(!aa){return ba;}else return (c('React').createElement('span',null,i._("({country} only)",[i.param('country',aa)]),' ',ba));},this.$AdsSBTokenizerWhiteBox4=function(){var aa,ba=this.$AdsSBTokenizerWhiteBox21();if(ba)aa=this.$AdsSBTokenizerWhiteBox15(i._("Description:"),this.$AdsSBTokenizerWhiteBox20(this.$AdsSBTokenizerWhiteBox22(),ba));return aa;}.bind(this),this.$AdsSBTokenizerWhiteBox24=function(aa,ba){ba=typeof ba!=='undefined'?ba:'>';var ca='',da='';if(typeof aa==='string'&&aa.length>0){var ea=true;for(var fa=0;fa<aa.length;fa++){if(aa[fa]===ba)ea=false;if(ea){ca+=aa[fa];}else da+=aa[fa];}}return [ca,da];},this.$AdsSBTokenizerWhiteBox21=function(){var aa=this.props.info;if(aa.description){return aa.description;}else return c('AdsSearchBrowseUtils').getDefaultDescription(this.props.uniqueID,aa);}.bind(this),this.$AdsSBTokenizerWhiteBox25=function(){return !!this.props.uniqueID&&this.props.uniqueID.startsWith(s.FLEXIBLE);}.bind(this),this.$AdsSBTokenizerWhiteBox26=function(aa){var ba=[c('AdsAPITargetFields').RELATIONSHIP_STATUSES,c('AdsAPITargetFields').INTERESTED_IN];return ba.indexOf(aa)!==-1;},this.$AdsSBTokenizerWhiteBox27=function(){if(this.props.uniqueID===s.INTERESTS)return true;if(this.$AdsSBTokenizerWhiteBox25()&&!!this.props.info&&!this.$AdsSBTokenizerWhiteBox26(this.props.info.type))return true;return false;}.bind(this),this.$AdsSBTokenizerWhiteBox7=function(){if(!this.$AdsSBTokenizerWhiteBox27())return;var aa=i._("Thank you. We have sent this interest for review."),ba=this.props.info.getUniqueID?this.props.info.getUniqueID():this.props.info.id;if(this.props.reportedInterests&&this.props.reportedInterests[ba])return (c('React').createElement('div',{className:"_1yza"},c('React').createElement(c('Layout.react'),null,c('React').createElement(l,null,c('React').createElement(c('Image.react'),{src:'/images/mobile/glyph/checkmark_blue_s.png'})),c('React').createElement(m,{className:"_2pis"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium'},aa),' ',c('React').createElement(c('Link.react'),{onClick:this.$AdsSBTokenizerWhiteBox28},i._("Undo"))))));return (c('React').createElement('div',{className:"_1yza"},c('React').createElement(c('Link.react'),{onClick:this.$AdsSBTokenizerWhiteBox29},i._("Report this as inappropriate"))));}.bind(this),this.$AdsSBTokenizerWhiteBox9=function(){if(!c('adsGKCheck')('dynamic_audience_deltas'))return null;if(this.$AdsSBTokenizerWhiteBox30())return (c('React').createElement(c('AdsSBTokenizerReachEstimateInDropdown.react'),{deltaObjectID:this.props.deltaObjectID,id:this.props.info.id,name:this.props.info.name,selectedEntryIDs:this.props.selectedEntryIDs,targetingSpecField:this.props.targetingSpecField}));return null;}.bind(this),this.$AdsSBTokenizerWhiteBox30=function(){return (this.props.info!==undefined&&Object.prototype.hasOwnProperty.call(this.props.info,'id')&&Object.prototype.hasOwnProperty.call(this.props.info,'name')&&this.props.targetingSpecField!==undefined);}.bind(this),this.$AdsSBTokenizerWhiteBox29=function(){var aa=this.props.info.getUniqueID?this.props.info.getUniqueID():this.props.info.id;this.props.addReportedInterest&&this.props.addReportedInterest(aa,this.props.info.name);}.bind(this),this.$AdsSBTokenizerWhiteBox28=function(){var aa=this.props.info.getUniqueID?this.props.info.getUniqueID():this.props.info.id;this.props.deleteReportedInterest&&this.props.deleteReportedInterest(aa);}.bind(this),this.$AdsSBTokenizerWhiteBox23=function(){return this.props.info.key;}.bind(this),this.$AdsSBTokenizerWhiteBox17=function(){return this.props.info.title;}.bind(this),this.$AdsSBTokenizerWhiteBox18=function(){return this.props.info.subtitle;}.bind(this),this.$AdsSBTokenizerWhiteBox16=function(){return this.props.info.source;}.bind(this),this.$AdsSBTokenizerWhiteBox19=function(){return this.props.info.reach;}.bind(this),this.$AdsSBTokenizerWhiteBox22=function(){return this.props.info.country;}.bind(this),w;}u.prototype.render=function(){'use strict';var v=c('React').createElement('div',null),w=this.props.showAudienceInfo?this.$AdsSBTokenizerWhiteBox1():null,x=this.props.showAudienceInfo?this.$AdsSBTokenizerWhiteBox2():null,y=this.$AdsSBTokenizerWhiteBox3(),z=this.$AdsSBTokenizerWhiteBox4(),aa=this.$AdsSBTokenizerWhiteBox5(),ba=this.$AdsSBTokenizerWhiteBox6(),ca=this.$AdsSBTokenizerWhiteBox7(),da=this.$AdsSBTokenizerWhiteBox8(),ea=this.$AdsSBTokenizerWhiteBox9(),fa=this.$AdsSBTokenizerWhiteBox10(),ga=this.$AdsSBTokenizerWhiteBox11(),ha,ia=q;if(this.props.height){ha={height:this.props.height};ia=this.props.height-30;}if(ca)ia-=24;var ja=this.props,ka=ja.info,la=ja.showPerformanceCost,ma=ja.showPerformanceRating,na=ka.name,oa=ka.conversion_lift,pa=ka.performance_rating,qa=ka.spend,ra=ma&&pa?c('React').createElement(c('AdsDetailedTargetingPerformanceRating.react'),{conversionLift:oa,max:r,name:na,rating:pa,showPerformanceCost:la,spend:qa}):null;if(y||z||aa||ba||da.length>0)v=c('React').createElement('div',{className:"_2cyx",style:ha,onMouseDown:this.$AdsSBTokenizerWhiteBox12},this.$AdsSBTokenizerWhiteBox13(),c('React').createElement(c('ScrollableArea.react'),{className:"_1yz9",height:ia,shadow:false,width:p},c('React').createElement('div',{className:"_3k-q"},this.props.notice),y,w,x,ba,ra,z,aa,fa,da,ea,ga),ca);return v;};u.prototype.$AdsSBTokenizerWhiteBox10=function(){'use strict';var v=c('adsGKCheck')('can_user_see_updated_partner_category_info');return v&&this.props.info.partner?this.$AdsSBTokenizerWhiteBox15(i._("Details:"),t):null;};u.prototype.$AdsSBTokenizerWhiteBox8=function(){'use strict';var v=this.props.info,w=v.customSections||[];return w.map(function(x,y){return c('React').createElement('div',{key:y},this.$AdsSBTokenizerWhiteBox15(x.title,x.text));}.bind(this));};u.prototype.$AdsSBTokenizerWhiteBox6=function(){'use strict';var v=null,w=this.$AdsSBTokenizerWhiteBox23(),x=this.props.uniqueID;if(w&&x!==c('AdsSBTokenizerConstants').TOKENIZER_TYPES.INTERESTS){var y=this.$AdsSBTokenizerWhiteBox24(w),z=y[0],aa=y[1];if(aa.length>0)v=this.$AdsSBTokenizerWhiteBox15(z,aa);}return v;};u.prototype.$AdsSBTokenizerWhiteBox11=function(){'use strict';var v=5,w=this.$AdsSBTokenizerWhiteBox31();if(!w||w.length===0)return null;var x=null,y=null;if(w.length>v){y=w.slice(0,v);x=c('React').createElement('span',{className:"_2cyu"},i._("and more..."));}else y=w;var z=y.map(function(aa){return c('React').createElement('div',{key:aa.audience_id},aa.name);});return c('React').createElement('div',{className:"_2cyw"},c('React').createElement('span',{className:"_2cyz"},i._("Lookalikes from source:")),c('React').createElement('span',{className:"_2cyu"},z),x);};u.prototype.$AdsSBTokenizerWhiteBox31=function(){'use strict';return this.props.info.existing_lookalikes;};u.propTypes={addReportedInterest:o.func,deleteReportedInterest:o.func,deltaObjectID:o.string,height:o.number,info:o.object,notice:o.element,openToPath:o.func,reportedInterests:o.object,selectedEntryIDs:o.object,showArrow:o.bool,showAudienceInfo:o.bool,targetingSpecField:o.string,type:o.number,uniqueID:o.string.isRequired};f.exports=u;}),null);
__d('AdsSBTokenizerWhiteBoxLayer.react',['cx','AdsSBTokenizerWhiteBox.react','ContextualLayer.react','React'],(function a(b,c,d,e,f,g,h){var i=c('React').PropTypes,j=-35,k='right',l=c('React').createClass({displayName:'AdsSBTokenizerWhiteBoxLayer',propTypes:{info:i.object,openToPath:i.func,type:i.number,shown:i.bool,onMouseEnterBox:i.func,onMouseLeaveBox:i.func,position:i.string,yOffset:i.number,uniqueID:i.string.isRequired,reportedInterests:i.object,addReportedInterest:i.func,deleteReportedInterest:i.func},render:function m(){var n=this.props.position?this.props.position:k,o=c('React').createElement(c('AdsSBTokenizerWhiteBox.react'),babelHelpers['extends']({},this.props,{showArrow:n==='right',uniqueID:this.props.uniqueID}),undefined),p=this.props.info,q=this.props.shown&&p&&(p.reach||p.description||p.source);return (c('React').createElement('div',{ref:'link'},this.props.children,c('React').createElement(c('ContextualLayer.react'),{contextRef:function(){return this.refs.link;}.bind(this),position:n,offsetY:this.props.yOffset?this.props.yOffset:j,shown:!!q},c('React').createElement('div',{onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},c('React').createElement('div',{className:"_2455"},o)))));},_onMouseEnter:function m(){this.props.onMouseEnterBox&&this.props.onMouseEnterBox();},_onMouseLeave:function m(){this.props.onMouseLeaveBox&&this.props.onMouseLeaveBox();}});f.exports=l;}),null);
__d('AudienceManagerEngagementVideoSelectionThumbnails.react',['invariant','cx','fbt','AdsCommonAdvertisablePagesVideosStoreDataTypes','Image.react','InlineBlock.react','Link.react','React','TooltipLink.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').VideoData,n=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').VideoGroupData,o=4;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(q){l.constructor.call(this,q);}p.prototype.$AudienceManagerEngagementVideoSelectionThumbnails1=function(){if(!this.props.displayLimit||this.props.displayLimit<0)return o;return this.props.displayLimit;};p.prototype.$AudienceManagerEngagementVideoSelectionThumbnails2=function(){return this.props.videoGroupsSelected.length;};p.prototype.$AudienceManagerEngagementVideoSelectionThumbnails3=function(){var q=this.$AudienceManagerEngagementVideoSelectionThumbnails2()-this.$AudienceManagerEngagementVideoSelectionThumbnails1();return (c('React').createElement('div',{className:"_380p"},'+',q));};p.prototype.$AudienceManagerEngagementVideoSelectionThumbnails4=function(q,r){var s=r?this.$AudienceManagerEngagementVideoSelectionThumbnails3():c('React').createElement(c('Image.react'),{className:"_380q",src:q.preferredThumbnail}),t=r?j._("See more"):q.description;return (c('React').createElement(c('TooltipLink.react'),{className:"_380r",key:'selected-video-thumbnail-'+q.id,tooltip:t,onClick:this.props.onShowDetails},c('React').createElement(c('InlineBlock.react'),{className:"_380s"},s)));};p.prototype.$AudienceManagerEngagementVideoSelectionThumbnails5=function(){if(this.$AudienceManagerEngagementVideoSelectionThumbnails2()===0)return (c('React').createElement(c('Link.react'),{href:'#',onClick:this.props.onShowDetails},j._("Choose videos...")));return (c('React').createElement(c('Link.react'),{href:'#',onClick:this.props.onShowDetails},j._("Edit")));};p.prototype.render=function(){if(this.$AudienceManagerEngagementVideoSelectionThumbnails2()===0)return (c('React').createElement('div',{className:this.props.className},this.$AudienceManagerEngagementVideoSelectionThumbnails5()));var q=this.$AudienceManagerEngagementVideoSelectionThumbnails1(),r={};r=this.props.videoGroupsSelected.slice(0,q+1).map(function(s,t){return this.$AudienceManagerEngagementVideoSelectionThumbnails4(s,t===q);}.bind(this));return (c('React').createElement('div',{className:this.props.className},c('React').createElement('div',{className:"_380t"},r),c('React').createElement('div',{className:"_2pid"},this.$AudienceManagerEngagementVideoSelectionThumbnails5())));};f.exports=p;}),null);
__d('AdsEngagementAudienceTokenizerListItem.react',['cx','BUIAdoptionCloseButton.react','AdsCommonAdvertisablePagesVideosStoreDataTypes','AudienceManagerEngagementVideoSelectionThumbnails.react','AdsSBTokenizerConstants','AdsSBTokenizerWhiteBoxLayer.react','immutable','LoadObject','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').VideoData,l=c('AdsCommonAdvertisablePagesVideosStoreDataTypes').VideoGroupData,m=-37;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(o){j.constructor.call(this,o);this.$AdsEngagementAudienceTokenizerListItem6=function(){this.props.onSelectVideosClick(this.props.entry.getUniqueID());}.bind(this);this.$AdsEngagementAudienceTokenizerListItem5=function(){this.props.onRemoveEntry&&this.props.onRemoveEntry(this.props.entry);}.bind(this);this.$AdsEngagementAudienceTokenizerListItem1=function(){this.setState({highlighted:true});}.bind(this);this.$AdsEngagementAudienceTokenizerListItem3=function(){this.setState({highlighted:false});}.bind(this);this.$AdsEngagementAudienceTokenizerListItem2=function(){this.setState({highlighted:true});}.bind(this);this.$AdsEngagementAudienceTokenizerListItem4=function(){this.setState({highlighted:false});}.bind(this);this.state={highlighted:false};}n.prototype.getDefaultProps=function(){return {showWhiteBox:true};};n.prototype.render=function(){var o=c('React').createElement('div',{className:"_1zm_"},this.props.entry.getTitle()),p=this.props.selectedVideoGroups,q=p.hasValue()?p.getValueEnforcing().toArray():[],r=q.filter(function(s){return s.hasValue();}).map(function(s){return s.getValueEnforcing();});return c('React').createElement(c('AdsSBTokenizerWhiteBoxLayer.react'),{info:this.props.entry,shown:this.props.showWhiteBox&&this.state.highlighted,type:c('AdsSBTokenizerConstants').ACTIVE_STATES.BROWSE,uniqueID:this.props.uniqueID,yOffset:m,onMouseEnterBox:this.$AdsEngagementAudienceTokenizerListItem2,onMouseLeaveBox:this.$AdsEngagementAudienceTokenizerListItem4},c('React').createElement('li',{className:"_5w24",onMouseEnter:this.$AdsEngagementAudienceTokenizerListItem1,onMouseLeave:this.$AdsEngagementAudienceTokenizerListItem3},o,c('React').createElement(c('AudienceManagerEngagementVideoSelectionThumbnails.react'),{className:"_2pi3 _2pii",videoGroupsSelected:r,onShowDetails:this.$AdsEngagementAudienceTokenizerListItem6}),c('React').createElement(c('BUIAdoptionCloseButton.react'),{className_DEPRECATED:"_5w28",onClick:this.$AdsEngagementAudienceTokenizerListItem5})));};f.exports=n;}),null);
__d('AdsEngagementAudienceTokenizerList.react',['cx','AdsEngagementAudienceTokenizerListItem.react','React','adsGKCheck','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l){j.constructor.call(this,l);this.state={active:false};}k.prototype.render=function(){if(this.props.entries.length===0)return c('React').createElement('div',null);return (c('React').createElement('div',{className:c('joinClasses')("_5w21",this.props.className)},this.$AdsEngagementAudienceTokenizerList1(this.props.entries)));};k.prototype.$AdsEngagementAudienceTokenizerList1=function(l){var m=l.map(function(n){return (c('React').createElement(c('AdsEngagementAudienceTokenizerListItem.react'),babelHelpers['extends']({},this.props,{entry:n,key:n.getUniqueID(),selectedVideoGroups:this.props.engagementRules[n.getUniqueID()],onSelectVideosClick:this.props.onSelectVideosClick})));}.bind(this));return (c('React').createElement('ul',{className:"_5w2a"},m));};f.exports=k;}),null);
__d('AdsFIGBasicTypeaheadEntriesView.react',['cx','React','TypeaheadViewItem'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$AdsFIGBasicTypeaheadEntriesView1=function(s){return (c('React').createElement(m,{entry:s,highlighted:s===this.props.highlightedEntry,key:s.getUniqueID(),onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight,onSelect:this.props.onSelect}));}.bind(this),o;}l.prototype.render=function(){'use strict';var n=this.props.entries;if(n&&n.length){var o=n.map(this.$AdsFIGBasicTypeaheadEntriesView1,this);return c('React').createElement('ul',{className:"_5w1d",id:this.props.ariaOwneeID,role:'listbox'},o);}return c('React').createElement('ul',{className:"_5w1e"});};l.propTypes={highlightedEntry:k.object,entries:k.array.isRequired,onSelect:k.func.isRequired,onHighlight:k.func,onRenderHighlight:k.func};var m=c('React').createClass({displayName:'EntryRowView',mixins:[c('TypeaheadViewItem').Mixin],propTypes:c('TypeaheadViewItem').propTypes,render:function n(){var o="_5w1f"+(this.props.highlighted?' '+"_5w1g":'');return (c('React').createElement('li',{className:o,id:this.props.entry.getUniqueID(),role:'option',onMouseDown:this._onMouseDown,onMouseEnter:this._onMouseEnter},c('React').createElement('span',null,this.props.entry.getTitle()),this._renderSubtitle()));},_renderSubtitle:function n(){var o=this.props.entry.getSubtitle();if(o)return (c('React').createElement('span',{className:"_14y5"},o));},_onMouseDown:function n(o){this.props.onSelect(this.props.entry,o);},_onMouseEnter:function n(){this.props.onHighlight&&this.props.onHighlight(this.props.entry);}});f.exports=l;}),null);
__d('AdsSBTokenizerModeButtons.react',['cx','fbt','React'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AdsSBTokenizerModeButtons1=function(){if(!this.props.suggestionButtonEnabled)return;this.props.onSuggestionsButtonMouseDown();}.bind(this),o;}m.prototype.render=function(){'use strict';var n="_4-97"+(' '+"_xke")+(!this.props.suggestionButtonEnabled?' '+"_xkf":''),o=[];if(this.props.shouldRenderSuggestionButton&&this.props.onSuggestionsButtonMouseDown)o.push(c('React').createElement('button',{className:n,'data-testid':this.props.uniqueID+'_suggestions_button',key:'suggestions',onMouseDown:this.$AdsSBTokenizerModeButtons1},i._("Suggestions"),c('React').createElement('div',{className:"_ekn _xkm"})));if(this.props.onBrowseButtonMouseDown)o.push(c('React').createElement('button',{className:"_4-97 _xkk",'data-testid':this.props.uniqueID+'_browse_button',key:'browse',onMouseDown:this.props.onBrowseButtonMouseDown},i._("Browse"),c('React').createElement('div',{className:"_ekn _xkl"})));if(this.props.onClearButtonMouseDown)o.push(c('React').createElement('button',{className:"_4-97 _1ooc",'data-testid':this.props.uniqueID+'_clear_button',key:'clear',onMouseDown:this.props.onClearButtonMouseDown},i._("Clear")));var p="_4-97"+(' '+"_406p")+(this.props.addToAllButtonDisabled?' '+"_xkf":'');if(this.props.onAddToAllMouseDown)o.push(c('React').createElement('button',{className:p,'data-testid':this.props.uniqueID+'_add_to_all',disabled:this.props.addToAllButtonDisabled,key:'add-to-all',onMouseDown:this.props.onAddToAllMouseDown},i._("Add to All")));return c('React').createElement('div',{className:"_xkd"},o);};m.propTypes={addToAllButtonDisabled:l.bool,shouldRenderSuggestionButton:l.bool,suggestionButtonEnabled:l.bool,uniqueID:l.string.isRequired,onAddToAllMouseDown:l.func,onBrowseButtonMouseDown:l.func,onClearButtonMouseDown:l.func,onSuggestionsButtonMouseDown:l.func};m.defaultProps={shouldRenderSuggestionButton:true};f.exports=m;}),null);
__d('AdsEngagementAudienceTokenizer.react',['cx','AdsEngagementAudienceTokenizerList.react','AdsEngagementTypes','AdsFIGBasicTypeahead.react','AdsFIGBasicTypeaheadEntriesView.react','AdsSBTokenizerModeButtons.react','AdsSearchBrowseUtils','AdsStaticSearchSource','React','joinClasses','keyMirrorRecursive'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k={ViewRenderer:c('AdsFIGBasicTypeaheadEntriesView.react'),maxEntries:50,useLayer:true},l=c('AdsEngagementTypes').map(function(o){return {id:o.id,name:o.title,auxillaryData:''};}),m=c('keyMirrorRecursive')({DEFAULT:'',SUGGESTIONS:'',BROWSE:''});i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(o){j.constructor.call(this,o);this.$AdsEngagementAudienceTokenizer1=function(){this.setState({tokenizerMode:m.BROWSE});this.refs.typeahead.clearTypeahead();setTimeout(function(){return this.refs.typeahead.focusTypeahead();}.bind(this),100);}.bind(this);this.$AdsEngagementAudienceTokenizer2=function(p){this.setState({isActive:p});}.bind(this);this.state={tokenizerMode:m.DEFAULT,isActive:false,searchSource:new (c('AdsStaticSearchSource'))(l,{getAllForEmptyQuery:true,sortEntries:function p(q,r){return 0;}})};}n.prototype.render=function(){var o=this.$AdsEngagementAudienceTokenizer3();return c('React').createElement('div',{className:c('joinClasses')("_5w0x"+(this.state.isActive&&this.state.tokenizerMode===m.BROWSE?' '+"_eko":'')+(this.state.isActive&&this.state.tokenizerMode===m.SUGGESTIONS?' '+"_ekm":''),this.props.className)},c('React').createElement(c('AdsEngagementAudienceTokenizerList.react'),{className:"_vbv",engagementRules:this.props.engagementRules,entries:this.props.entries,uniqueID:c('AdsSearchBrowseUtils').makeID(),onRemoveEntry:this.props.onRemoveEngagementType,onSelectVideosClick:this.props.onSelectVideosClick}),c('React').createElement('div',{className:"_5g-g"},c('React').createElement(c('AdsFIGBasicTypeahead.react'),babelHelpers['extends']({},this.props,{className:c('joinClasses')("_vc1",this.props.className),disabled:!o,excludedEntries:this.$AdsEngagementAudienceTokenizer4(),placeholder:o?this.props.placeholder:'',presenter:k,ref:'typeahead',searchSource:this.state.searchSource,onAddEntryAttempt:this.props.onAddEngagementType,onRemoveEntryAttempt:this.props.onRemoveEngagementType,onTypeaheadVisibilityChanged:this.$AdsEngagementAudienceTokenizer2})),c('React').createElement(c('AdsSBTokenizerModeButtons.react'),{suggestionButtonEnabled:false,uniqueID:this.props.tokenizerModeButtonsID,onBrowseButtonMouseDown:o?this.$AdsEngagementAudienceTokenizer1:null})));};n.prototype.$AdsEngagementAudienceTokenizer4=function(){var o={};this.props.entries.forEach(function(p){o[p.getUniqueID()]=true;});return o;};n.prototype.$AdsEngagementAudienceTokenizer3=function(){return l.length>this.props.entries.length;};f.exports=n;}),null);
__d('AdsCustomAudienceVideoEngagementElement.react',['cx','fbt','AdsEngagementAudienceTokenizer.react','BUIForm.react','BUIFormElement.react','React','XUIError.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=i._("Engagement"),n=i._("Choose the type of content that you want to use to create your audience.");j=babelHelpers.inherits(o,l);k=j&&j.prototype;o.prototype.render=function(){var p=c('React').createElement(c('AdsEngagementAudienceTokenizer.react'),{className:"_fwq uiContextualLayerParent",engagementRules:this.props.engagementRules,entries:this.props.engagementTypes,placeholder:i._("Choose a content type"),tokenizerModeButtonsID:'tokeniser',onAddEngagementType:this.props.onAddEngagementType,onRemoveEngagementType:this.props.onRemoveEngagementType,onSelectVideosClick:this.props.onSelectVideosClick});if(this.props.videoSelectionError)p=c('React').createElement(c('XUIError.react'),{xuiError:this.props.videoSelectionError,xuiErrorPosition:'above'},p);return (c('React').createElement(c('BUIFormElement.react'),{helpText:n,label:m},p));};function o(){j.apply(this,arguments);}f.exports=o;}),null);
__d('AudienceNameAndEngagementInput.react',['cx','fbt','AdsCustomAudienceDescriptionElement.react','AdsCustomAudienceNameElement.react','AdsCustomAudienceRetentionElement.react','AdsCustomAudienceVideoEngagementElement.react','AudienceManagerUIConstants','BUIAdoptionXUINotice.react','BUIAdoptionXUISpinner.react','BUIForm.react','BUIFormSection.react','immutable','React','adsGKCheck'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('AudienceManagerUIConstants').ENGAGEMENT_AUDIENCE_MIN_RETENTION_DAYS,m=c('AudienceManagerUIConstants').ENGAGEMENT_AUDIENCE_MAX_RETENTION_DAYS;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(o){k.constructor.call(this,o);}n.prototype.render=function(){return (c('React').createElement('div',{className:"_5fb0"},c('React').createElement(c('BUIForm.react'),{className:"_5fc6",density:'svelt',labelPosition:'left'},c('React').createElement(c('BUIFormSection.react'),{className:"_5fc7"},this.$AudienceNameAndEngagementInput1(),c('React').createElement(c('AdsCustomAudienceRetentionElement.react'),{className:"_5fc8",max:m,min:l,value:this.props.retentionDays,onChange:this.props.onRetentionChange}),c('React').createElement(c('AdsCustomAudienceNameElement.react'),{value:this.props.audienceName||'',xuiError:this.props.audienceNameError,xuiErrorForceShow:true,xuiErrorPosition:'above',onChange:this.props.onNameChange}),c('React').createElement(c('AdsCustomAudienceDescriptionElement.react'),{value:this.props.audienceDescription||'',onChange:this.props.onDescriptionChange})))));};n.prototype.$AudienceNameAndEngagementInput1=function(){var o=c('immutable').Map(Object.keys(this.props.engagementRules).map(function(event){return [event,this.props.engagementRules[event]];}.bind(this)));if(o.some(function(p){return p.isLoading();})){return c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'});}else if(!o.every(function(p){return p.hasValue();}))return (c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'error'},i._("Error while loading videos. Please try again later")));return (c('React').createElement(c('AdsCustomAudienceVideoEngagementElement.react'),{engagementRules:this.props.engagementRules,engagementTypes:this.props.engagementTypes,videoSelectionError:this.props.videoSelectionError,onAddEngagementType:this.props.onAddEngagementType,onRemoveEngagementType:this.props.onRemoveEngagementType,onSelectVideosClick:this.props.onSelectVideosClick}));};f.exports=n;}),null);
__d('AudienceManagerEngagementAudienceDialogContent.react',['cx','fbt','AdsAMCreateAudienceServerActions','AudienceManagerEngagementVideoSelectionContainer.react','AdsCustomAudienceType','AdsEngagementTypes','AdsEngagementAudienceSelectedVideosActions','AdsSpinnerCover.react','AudienceManagerUIConstants','AudienceNameAndEngagementInput.react','AdsEngagementAudienceUILogger','EngagementAudienceUIEvents','immutable','AdsCommonAdvertisablePagesVideosStore','React','SearchableEntry','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','adsGKCheck','AudienceManagerDialogCreateAudienceButton.react','AudienceManagerDialogUpdateAudienceButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('immutable').Map,m=c('AudienceManagerUIConstants').ENGAGEMENT_AUDIENCE_DEFAULT_RETENTION_DAYS,n=new l(c('AdsEngagementTypes').map(function(u){return [u.id,new (c('SearchableEntry'))({uniqueID:u.id,title:u.title})];})),o=c('AdsCustomAudienceType').SUBTYPES,p=c('React').PropTypes,q=i._("You must name your audience to continue"),r=i._("Please select at least one video to create your new audience");j=babelHelpers.inherits(s,c('React').Component);k=j&&j.prototype;s.calculateState=function(){return {};};function s(u){k.constructor.call(this,u);t.call(this);var v=u.audience||{name:null,description:undefined,retention_days:m,rule:{}},w=c('immutable').Set(Object.keys(v.rule).map(function(event){return n.get(event);}));this.state={audienceDescription:v.description,audienceName:v.name,creatingAudience:false,hasAudienceNameError:false,hasVideoSelectionError:false,retentionDays:v.retention_days,selectedEngagementTypes:w,selectedEngagementRules:v.rule,viewFailedCreationDialog:false,viewVideoSelectorDialog:null,selectedVideoGroupsLoaded:true,selectedVideoGroupsCount:0};}s.prototype.componentWillReceiveProps=function(u){if(this.props.audience&&u.audience&&Object.is(this.props.audience,u.audience)){var v=u.audience||{name:null,description:null,rule:{}},w=c('immutable').Set(Object.keys(v.rule).map(function(event){return n.get(event);}));this.setState({audienceDescription:v.description,audienceName:v.name,creatingAudience:false,retentionDays:v.retention_days,selectedEngagementTypes:w,selectedEngagementRules:v.rule,viewFailedCreationDialog:false,viewVideoSelectorDialog:null,selectedVideoGroupsLoaded:true});}};s.prototype.$AudienceManagerEngagementAudienceDialogContent15=function(){if(this.state.viewFailedCreationDialog)return this.$AudienceManagerEngagementAudienceDialogContent16();return (c('React').createElement('div',null,this.$AudienceManagerEngagementAudienceDialogContent17(),this.$AudienceManagerEngagementAudienceDialogContent18()));};s.prototype.render=function(){return (c('React').createElement('div',null,c('React').createElement(c('XUIDialogBody.react'),{className:"_4n_9"},this.$AudienceManagerEngagementAudienceDialogContent19()),c('React').createElement(c('XUIDialogFooter.react'),null,this.$AudienceManagerEngagementAudienceDialogContent15()),c('React').createElement(c('AdsSpinnerCover.react'),{show:this.state.creatingAudience}),this.renderLayers()));};s.prototype.$AudienceManagerEngagementAudienceDialogContent18=function(){var u=this.props.isCreateAudience?c('AudienceManagerDialogCreateAudienceButton.react'):c('AudienceManagerDialogUpdateAudienceButton.react');return (c('React').createElement(u,{disabled:this.$AudienceManagerEngagementAudienceDialogContent1()||this.$AudienceManagerEngagementAudienceDialogContent2(),onClick:this.$AudienceManagerEngagementAudienceDialogContent13}));};s.propTypes={audience:p.shape({description:p.string,name:p.string.isRequired,retention_days:p.number.isRequired,rule:p.object.isRequired}),getSelectedVideoGroupsInfo:p.func.isRequired,isCreateAudience:p.bool.isRequired,onAudienceAdded:p.func,onBack:p.func,onCancel:p.func.isRequired,onSaveAudience:p.func.isRequired};var t=function u(){this.$AudienceManagerEngagementAudienceDialogContent1=function(v){var w=v||this.state.audienceName||'';return w.trim().length===0;}.bind(this);this.$AudienceManagerEngagementAudienceDialogContent2=function(){var v=0;for(var event in this.state.selectedEngagementRules)v+=this.state.selectedEngagementRules[event].length;return v===0;}.bind(this);this.$AudienceManagerEngagementAudienceDialogContent3=function(v){if(!this.state.selectedEngagementTypes.contains(v)){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').VG_ADD_ENGAGEMENT_TYPE);var w=this.state.selectedEngagementTypes,x=this.state.selectedEngagementRules;x[v.getUniqueID()]=[];this.setState({selectedEngagementTypes:w.add(v),selectedEngagementRules:x});}}.bind(this);this.$AudienceManagerEngagementAudienceDialogContent4=function(v){this.setState({audienceDescription:v.target.value});}.bind(this);this.$AudienceManagerEngagementAudienceDialogContent5=function(v){var w=v.target.value;this.setState({audienceName:w,hasAudienceNameError:this.$AudienceManagerEngagementAudienceDialogContent1(w)});}.bind(this);this.$AudienceManagerEngagementAudienceDialogContent6=function(v){if(this.state.selectedEngagementTypes.contains(v)){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').VG_REMOVE_ENGAGEMENT_TYPE);var w=this.state.selectedEngagementTypes,x=this.state.selectedEngagementRules;delete x[v.getUniqueID()];this.setState({selectedEngagementTypes:w['delete'](v),selectedEngagementRules:x});}}.bind(this);this.$AudienceManagerEngagementAudienceDialogContent7=function(v){this.setState({retentionDays:v});}.bind(this);this.$AudienceManagerEngagementAudienceDialogContent8=function(){this.setState({viewVideoSelectorDialog:null});}.bind(this);this.$AudienceManagerEngagementAudienceDialogContent9=function(v){var w;this.setState({hasVideoSelectionError:false,viewVideoSelectorDialog:null,selectedEngagementRules:babelHelpers['extends']({},this.state.selectedEngagementRules,(w={},w[this.state.viewVideoSelectorDialog]=v.toArray(),w))});}.bind(this);this.$AudienceManagerEngagementAudienceDialogContent10=function(v){var w,x=c('AdsCommonAdvertisablePagesVideosStore').getVideoGroupInfos(v.toArray()),y=x.filter(function(aa){return aa.hasValue();}).map(function(aa){return aa.getValueEnforcing();}),z=y.reduce(function(aa,ba){return aa.concat(ba.videos);},[]);this.setState({hasVideoSelectionError:false,viewVideoSelectorDialog:null,selectedEngagementRules:babelHelpers['extends']({},this.state.selectedEngagementRules,(w={},w[this.state.viewVideoSelectorDialog]=z,w)),selectedVideoGroupsCount:y.size+this.state.selectedVideoGroupsCount});}.bind(this);this.$AudienceManagerEngagementAudienceDialogContent11=function(v){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').CLICK_SELECT_VIDEOS);c('AdsEngagementAudienceSelectedVideosActions').updateSelectedVideos(c('immutable').Set(this.state.selectedEngagementRules[v]));this.setState({viewVideoSelectorDialog:v});}.bind(this);this.$AudienceManagerEngagementAudienceDialogContent12=function(v){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').VG_CLICK_SELECT_VIDEOS);var w=c('AdsCommonAdvertisablePagesVideosStore').fetchVideoGroupInfosFromVideoIds(this.state.selectedEngagementRules[v]);if(!w.hasValue()){this.setState({viewVideoSelectorDialog:v,selectedVideoGroupsLoaded:false});return;}var x=w.getValueEnforcing().filter(function(y){return y.hasValue();}).map(function(y){return y.getValueEnforcing().id;}).toSet();c('AdsEngagementAudienceSelectedVideosActions').updateSelectedVideos(c('immutable').Set(x));this.setState({viewVideoSelectorDialog:v,selectedVideoGroupsLoaded:true});}.bind(this);this.$AudienceManagerEngagementAudienceDialogContent13=function(){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').VG_CLICK_CREATE_AUDIENCE);var v={};if(this.$AudienceManagerEngagementAudienceDialogContent1()){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').ERROR_AUDIENCE_NAME);v.hasAudienceNameError=true;}if(this.$AudienceManagerEngagementAudienceDialogContent2()){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').ERROR_AUDIENCE_RULE);v.hasVideoSelectionError=true;}if(Object.keys(v).length>0){this.setState(v);return;}var w=Object.keys(this.state.selectedEngagementRules).map(function(aa){return this.state.selectedEngagementRules[aa].map(function(ba){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').VG_VIDEO_IN_RULE);return {event_name:aa.toLowerCase(),object_id:ba};});}.bind(this)).reduce(function(aa,ba){return aa.concat(ba);},[]),x={name:this.state.audienceName.trim(),description:this.state.audienceDescription,retention_days:this.state.retentionDays,videoGroupCount:this.state.selectedVideoGroupsCount,rule:w};if(this.props.isCreateAudience){x.subtype=o.ENGAGEMENT;x.prefill=true;}if(this.props.audience){this.props.onSaveAudience(x);this.props.onCancel();return;}var y=function(aa){if(aa&&aa!=null){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').VG_CREATE_AUDIENCE_SUCCESSFUL);if(this.props.onAudienceAdded)this.props.onAudienceAdded(aa);this.setState({creatingAudience:false});var ba=babelHelpers['extends']({},x,{id:aa});c('AdsAMCreateAudienceServerActions').createdEngagementAudience(String(aa),ba);}else{c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').VG_CREATE_AUDIENCE_FAILED);this.setState({creatingAudience:false,viewFailedCreationDialog:true});}}.bind(this),z=function(){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').VG_CREATE_AUDIENCE_FAILED);this.setState({creatingAudience:false,viewFailedCreationDialog:true});}.bind(this);this.props.onSaveAudience(x,y,z);this.setState({creatingAudience:true});}.bind(this);this.$AudienceManagerEngagementAudienceDialogContent14=function(){var v=this.props.getSelectedVideoGroupsInfo(this.state.selectedEngagementRules),w=this.state.hasAudienceNameError?q:undefined,x=this.state.hasVideoSelectionError?r:undefined;return c('React').createElement(c('AudienceNameAndEngagementInput.react'),{audienceDescription:this.state.audienceDescription,audienceName:this.state.audienceName,audienceNameError:w,engagementRules:v,engagementTypes:this.state.selectedEngagementTypes.toArray(),retentionDays:this.state.retentionDays,videoSelectionError:x,onAddEngagementType:this.$AudienceManagerEngagementAudienceDialogContent3,onDescriptionChange:this.$AudienceManagerEngagementAudienceDialogContent4,onNameChange:this.$AudienceManagerEngagementAudienceDialogContent5,onRemoveEngagementType:this.$AudienceManagerEngagementAudienceDialogContent6,onRetentionChange:this.$AudienceManagerEngagementAudienceDialogContent7,onSelectVideosClick:this.$AudienceManagerEngagementAudienceDialogContent12});}.bind(this);this.$AudienceManagerEngagementAudienceDialogContent19=function(){if(this.state.viewFailedCreationDialog){return i._("There was a problem while creating your audience. Please try again.");}else return this.$AudienceManagerEngagementAudienceDialogContent14();}.bind(this);this.$AudienceManagerEngagementAudienceDialogContent20=function(){this.setState({viewFailedCreationDialog:false});}.bind(this);this.$AudienceManagerEngagementAudienceDialogContent16=function(){return (c('React').createElement(c('XUIDialogButton.react'),{label:i._("OK"),use:'confirm',onClick:this.$AudienceManagerEngagementAudienceDialogContent20}));}.bind(this);this.$AudienceManagerEngagementAudienceDialogContent17=function(){if(this.props.onBack)return (c('React').createElement(c('XUIDialogButton.react'),{label:i._("Back"),onClick:this.props.onBack}));}.bind(this);this.renderLayers=function(){return (c('React').createElement(c('AudienceManagerEngagementVideoSelectionContainer.react'),{isVisible:this.state.viewVideoSelectorDialog!==null,onCancelVideoSelected:this.$AudienceManagerEngagementAudienceDialogContent8,onConfirmVideoGroupsSelected:this.$AudienceManagerEngagementAudienceDialogContent10,onConfirmVideosSelected:this.$AudienceManagerEngagementAudienceDialogContent9,selectedVideoGroupsLoaded:this.state.selectedVideoGroupsLoaded,key:'dialog'}));}.bind(this);};f.exports=s;}),null);
__d('AudienceManagerErrorDialogContent.react',['cx','ix','fbt','BUIAdoptionButton.react','Image.react','React','XUIDialogBody.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes,n=i("21702");k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$AudienceManagerErrorDialogContent1=function(){return (c('React').createElement('div',null,c('React').createElement(c('Image.react'),{className:"_2pii",src:n}),c('React').createElement('span',{className:"_5wb_ _1ols"},this.props.errorMessage)));}.bind(this),this.$AudienceManagerErrorDialogContent2=function(){return (c('React').createElement('div',{className:"_3-8x"},c('React').createElement(c('BUIAdoptionButton.react'),{label:j._("OK"),onClick:this.props.onOkClick})));}.bind(this),q;}o.prototype.render=function(){return c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_50_z _5wby"},this.$AudienceManagerErrorDialogContent1(),this.$AudienceManagerErrorDialogContent2()));};o.propTypes={errorMessage:m.node.isRequired,onOkClick:m.func.isRequired};f.exports=o;}),null);
__d('AudienceManagerEngagementAudienceDialogContentContainer.react',['fbt','AdInterfacesUiLogger','AdsEngagementAudienceUILogger','AdsSelectedAccountIDGetter','AudienceManagerEngagementAudienceDialogContent.react','AudienceManagerErrorDialogContent.react','EngagementAudienceUIEvents','FluxMixinLegacy','AdsCommonAdvertisablePagesVideosStore','React','adsGKCheck'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'AudienceManagerEngagementAudienceDialogContentContainer',mixins:[c('FluxMixinLegacy')([c('AdsCommonAdvertisablePagesVideosStore')])],propTypes:{audience:i.shape({description:i.string,name:i.string.isRequired,retention_days:i.number.isRequired,rule:i.string.isRequired}),isCreateAudience:i.bool.isRequired,onAudienceAdded:i.func,onBack:i.func,onCancel:i.func.isRequired,onSaveAudience:i.func.isRequired},statics:{calculateState:function k(){return {};}},componentDidMount:function k(){c('AdsEngagementAudienceUILogger').setAppName(c('AdInterfacesUiLogger').getAppName());c('AdsEngagementAudienceUILogger').setAdAccountID(c('AdsSelectedAccountIDGetter').get({})||'');c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').VG_ENTER_DIALOG);},_getSelectedVideoGroupsInfo:function k(l){var m={};for(var event in l)m[event]=c('AdsCommonAdvertisablePagesVideosStore').fetchVideoGroupInfosFromVideoIds(l[event]);return m;},render:function k(){var l=void 0;if(this.props.audience){var m=null,n=this.props.audience;try{var p=JSON.parse(n.rule.toUpperCase().replace(/'/g,'"'));if(Object.prototype.hasOwnProperty.call(p[0],'EVENT_NAME')){m=c('AdsCommonAdvertisablePagesVideosStore').getVideoDetailsAndIDsFromEngagementRuleNewSyntax(p).videoDetails.toObject();}else m=c('AdsCommonAdvertisablePagesVideosStore').getVideoDetailsAndIDsFromEngagementRule(p).videoDetails.toObject();}catch(o){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').VECA_RULE_PARSING_FAILED);return (c('React').createElement(c('AudienceManagerErrorDialogContent.react'),{errorMessage:h._("Something went wrong while parsing the Engagement Audience"),onOkClick:this.props.onCancel}));}l={description:n.description||undefined,name:n.name,retention_days:n.retention_days,rule:m};var q=[];for(var event in m)q.concat(m[event]);c('AdsCommonAdvertisablePagesVideosStore').fetchVideoGroupInfosFromVideoIds(q);}return (c('React').createElement(c('AudienceManagerEngagementAudienceDialogContent.react'),{audience:l,getSelectedVideoGroupsInfo:this._getSelectedVideoGroupsInfo,isCreateAudience:this.props.isCreateAudience,onAudienceAdded:this.props.onAudienceAdded,onBack:this.props.onBack,onCancel:this.props.onCancel,onSaveAudience:this.props.onSaveAudience}));}});f.exports=j;}),null);
__d('AudienceManagerMailChimpInitDialogContent.react',['cx','ix','fbt','BUIAdoptionXUIGrayText.react','Image.react','ImageBlock.react','InlineBlock.react','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react'],(function a(b,c,d,e,f,g,h,i,j){var k,l,m=c('React').PropTypes,n=i("21691"),o=44;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;p.prototype.render=function(){'use strict';return (c('React').createElement('div',null,c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_50_z"},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{src:n}),c('React').createElement(c('InlineBlock.react'),{alignv:'middle',height:o},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},j._("Import from MailChimp")))),c('React').createElement('div',{className:"_3-8-"},c('React').createElement('p',null,j._("Email addresses from your MailChimp list will be matched with people on Facebook to create an audience.")),c('React').createElement('p',null,j._("Your contacts won't be notified that you've added them to an audience and we'll never contact them without your permission.")),c('React').createElement('p',null,j._("Facebook doesn't store your username or password."))))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement('div',null,c('React').createElement(c('XUIDialogButton.react'),{label:j._("Back"),onClick:this.props.onBack}),c('React').createElement(c('XUIDialogButton.react'),{label:j._("Log in to MailChimp"),use:'confirm',onClick:this.props.onLogInToMailChimpClick})))));};function p(){'use strict';k.apply(this,arguments);}p.propTypes={onBack:m.func.isRequired,onLogInToMailChimpClick:m.func.isRequired};f.exports=p;}),null);
__d('AudienceThirdPartyContactsList.react',['cx','fbt','React','XUISortableDataTable.react'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes,m=18;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$AudienceThirdPartyContactsList1=function(t){if(t){this.props.onDeselectAllLists();}else this.props.onSelectAllLists();}.bind(this),p;}n.prototype.render=function(){'use strict';var o=[{id:'selected',width:m,headerRenderer:function(q){var r=true,s=this.props.selectedLists;for(var t=0;t<this.props.contactsLists.length;t++){var u=this.props.contactsLists[t].list_id;if(!s[u]){r=false;break;}}return (c('React').createElement('input',{checked:r,type:'checkbox',onChange:this.$AudienceThirdPartyContactsList1.bind(this,r)}));}.bind(this),cellRenderer:function(q){var r=function(){this.props.onListSelectionChange(q.list_id);}.bind(this);return (c('React').createElement('input',{checked:!!this.props.selectedLists[q.list_id],type:'checkbox',value:q.list_id,onChange:r}));}.bind(this)},{id:'name',label:i._("Name"),comparator:function q(r,s){return (r.name.toLowerCase()>s.name.toLowerCase()?1:-1);},cellRenderer:function q(r){return c('React').createElement('span',null,r);},sortable:true}],p=this.props.contactsLists.map(function(q){var r={selected:q,name:q.name};return r;},this);if(!p.length)return (c('React').createElement('div',{className:"_5n5n"},i._("We are not able to get any contacts from this account.")));return (c('React').createElement(c('XUISortableDataTable.react'),{columns:o,columnToSortBy:'name',outerBorder:true,rows:p}));};n.propTypes={contactsLists:l.array.isRequired,selectedLists:l.object.isRequired,onListSelectionChange:l.func.isRequired,onSelectAllLists:l.func.isRequired,onDeselectAllLists:l.func.isRequired};f.exports=n;}),null);
__d('AudienceManagerMailChimpSelectListDialogContent.react',['cx','ix','fbt','AudienceManagerFBCustomAudienceTerm.react','AudienceThirdPartyContactsList.react','BUIAdoptionButton.react','Image.react','LeftRight.react','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIPagerButtons.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.state={termsBoxChecked:true,selectedListIDs:{}},this.$AudienceManagerMailChimpSelectListDialogContent8=function(){var t=this.$AudienceManagerMailChimpSelectListDialogContent10();return !this.state.termsBoxChecked||t.length===0;}.bind(this),this.$AudienceManagerMailChimpSelectListDialogContent7=function(t){this.setState({termsBoxChecked:t.target.checked});}.bind(this),this.$AudienceManagerMailChimpSelectListDialogContent5=function(){this.props.onLoadContactsLists(this.props.currentPage-1);}.bind(this),this.$AudienceManagerMailChimpSelectListDialogContent6=function(){this.props.onLoadContactsLists(this.props.currentPage+1);}.bind(this),this.$AudienceManagerMailChimpSelectListDialogContent4=function(){var t=this.$AudienceManagerMailChimpSelectListDialogContent10().length;if(t===0){return j._("No list selected");}else if(t===1){return j._("1 list selected");}else return j._({"*":"{numSelectedLists} lists selected"},[j.param('numSelectedLists',t,[0])]);}.bind(this),this.$AudienceManagerMailChimpSelectListDialogContent10=function(){return Object.keys(this.state.selectedListIDs).filter(function(t){return this.state.selectedListIDs[t];}.bind(this));}.bind(this),this.$AudienceManagerMailChimpSelectListDialogContent2=function(t){var u=this.state.selectedListIDs;u[t]=!u[t];this.setState({selectedListIDs:u});}.bind(this),this.$AudienceManagerMailChimpSelectListDialogContent3=function(){var t=this.state.selectedListIDs;(this.props.contactsLists||[]).forEach(function(u){t[u.list_id]=true;});this.setState({selectedListIDs:t});}.bind(this),this.$AudienceManagerMailChimpSelectListDialogContent1=function(){var t=this.state.selectedListIDs;(this.props.contactsLists||[]).forEach(function(u){t[u.list_id]=false;});this.setState({selectedListIDs:t});}.bind(this),this.$AudienceManagerMailChimpSelectListDialogContent9=function(){this.props.onCreateAudienceClick(this.state.selectedListIDs);}.bind(this),p;}n.prototype.render=function(){return c('React').createElement('div',null,c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_5rkr"},c('React').createElement('div',{className:"_5q_x"},j._("Select one or more lists. A new audience will be created for each email list.")),c('React').createElement(c('AudienceThirdPartyContactsList.react'),{contactsLists:this.props.contactsLists,selectedLists:this.state.selectedListIDs,onDeselectAllLists:this.$AudienceManagerMailChimpSelectListDialogContent1,onListSelectionChange:this.$AudienceManagerMailChimpSelectListDialogContent2,onSelectAllLists:this.$AudienceManagerMailChimpSelectListDialogContent3}),c('React').createElement(c('LeftRight.react'),null,c('React').createElement('div',{className:(this.props.totalPage===0?"hidden_elem":'')+(' '+"mtm")},this.$AudienceManagerMailChimpSelectListDialogContent4()),c('React').createElement('div',{className:(this.props.totalPage<=1?"hidden_elem":'')+(' '+"mtm")},c('React').createElement('span',{className:"prs"},this.props.currentPage+" / "+this.props.totalPage),c('React').createElement(c('XUIPagerButtons.react'),null,c('React').createElement(c('BUIAdoptionButton.react'),{disabled:this.props.currentPage===1,height:'short',href:{url:'#'},icon:c('React').createElement(c('Image.react'),{src:i("101339")}),label:j._("Previous"),labelIsHidden:true,onClick:this.$AudienceManagerMailChimpSelectListDialogContent5}),c('React').createElement(c('BUIAdoptionButton.react'),{disabled:this.props.currentPage===this.props.totalPage,height:'short',href:{url:'#'},icon:c('React').createElement(c('Image.react'),{src:i("101341")}),label:j._("Next"),labelIsHidden:true,onClick:this.$AudienceManagerMailChimpSelectListDialogContent6})))),c('React').createElement('div',{className:"mtm"},c('React').createElement(c('AudienceManagerFBCustomAudienceTerm.react'),{accountID:this.props.accountID,termsAlreadyAccepted:this.props.termsAlreadyAccepted,termsBoxChecked:this.state.termsBoxChecked,onTermsCheckboxChanged:this.$AudienceManagerMailChimpSelectListDialogContent7})))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{disabled:this.$AudienceManagerMailChimpSelectListDialogContent8(),label:j._("Create Audience"),use:'confirm',onClick:this.$AudienceManagerMailChimpSelectListDialogContent9})));};n.propTypes={accountID:m.string.isRequired,contactsLists:m.array.isRequired,totalPage:m.number.isRequired,currentPage:m.number.isRequired,termsAlreadyAccepted:m.bool,onLoadContactsLists:m.func.isRequired,onCreateAudienceClick:m.func.isRequired};f.exports=n;}),null);
__d('CustomAudienceFinishNextStepSelector.react',['cx','ix','fbt','BUIAdoptionXUIGrayText.react','Image.react','ImageBlock.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes,n=i("21692"),o=i("22557");k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.$CustomAudienceFinishNextStepSelector1=function(){return (c('React').createElement('li',{className:"_247s",onClick:this.props.onCreateAdClick},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{src:n}),c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},j._("Create an Advert Using the Audience")),c('React').createElement('div',{className:"_3-8x"},j._("You can start creating an advert using the Custom Audience that you just created."))))));}.bind(this),this.$CustomAudienceFinishNextStepSelector2=function(){return (c('React').createElement('li',{className:"_247s",onClick:this.props.onCreateLookalikeClick},c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{src:o}),c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},j._("Expand your Audience")),c('React').createElement('div',{className:"_3-8x"},j._("Facebook can help you reach more people who matter to your business by finding people who are similar to your source audience."))))));}.bind(this),r;}p.prototype.render=function(){return c('React').createElement('div',{className:"_247t"},c('React').createElement('ul',null,this.$CustomAudienceFinishNextStepSelector1(),this.$CustomAudienceFinishNextStepSelector2()));};p.propTypes={onCreateAdClick:m.func.isRequired,onCreateLookalikeClick:m.func.isRequired};f.exports=p;}),null);
__d('AudienceManagerNextStepDialogContent.react',['cx','fbt','BUIAdoptionXUIGrayText.react','CustomAudienceFinishNextStepSelector.react','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){return (c('React').createElement('div',null,c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_50_z"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},i._("Next Steps")),c('React').createElement('div',{className:"_3-98 _3-8y"},i._("Start creating an advert using the Custom Audience that you just created or creating a Lookalike Audience to expand your audience.")),c('React').createElement(c('CustomAudienceFinishNextStepSelector.react'),{onCreateAdClick:this.props.onCreateAdClick,onCreateLookalikeClick:this.props.onCreateLookalikeClick}))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:i._("Done"),onClick:this.props.onFinish}))));};function m(){j.apply(this,arguments);}m.propTypes={onFinish:l.func.isRequired,onCreateAdClick:l.func.isRequired,onCreateLookalikeClick:l.func.isRequired};f.exports=m;}),null);
__d('AdsCommonTargetingBrowseLocationLabels',['fbt'],(function a(b,c,d,e,f,g,h){'use strict';f.exports={WORLDWIDE_GROUP_NAME:h._("Countries"),AFRICA_GROUP_NAME:h._("Africa"),ASIA_GROUP_NAME:h._("Asia"),CARIBBEAN_GROUP_NAME:h._("Caribbean"),CENTRAL_AMERICA_GROUP_NAME:h._("Central America"),EUROPE_GROUP_NAME:h._("Europe"),NORTH_AMERICA_GROUP_NAME:h._("North America"),OCEANIA_GROUP_NAME:h._("Oceania"),SOUTH_AMERICA_GROUP_NAME:h._("South America"),REGIONS_GROUP_NAME:h._("Regions"),FREE_TRADE_AREAS_GROUP_NAME:h._("Free trade areas"),FREE_TRADE_AREAS_GROUP_DESCRIPTION:h._("Target all countries that are members of a free trade area."),EEA_GROUP_NAME:h._("European Economic Area (EEA)"),EEA_GROUP_DESCRIPTION:h._("Target all countries that are members of the European Economic Area (EEA)."),NAFTA_GROUP_NAME:h._("North American Free Trade Agreement"),NAFTA_GROUP_DESCRIPTION:h._("Target all countries that are members of the North American Free Trade Agreement (NAFTA)."),AFTA_GROUP_NAME:h._("ASEAN Free Trade Area"),AFTA_GROUP_DESCRIPTION:h._("Target all countries that are members of the ASEAN Free Trade Area (AFTA)."),MERCOSUR_GROUP_NAME:h._("Mercosur"),MERCOSUR_GROUP_DESCRIPTION:h._("Target all countries that are members of Mercosur."),GCC_GROUP_NAME:h._("Gulf Cooperation Council"),GCC_GROUP_DESCRIPTION:h._("Target all countries that are members of the Gulf Cooperation Council (GCC)."),APEC_GROUP_NAME:h._("Asia-Pacific Economic Cooperation"),APEC_GROUP_DESCRIPTION:h._("Target all countries that are members of Asia-Pacific Economic Cooperation (APEC)."),CISFTA_GROUP_NAME:h._("Commonwealth of Independent States Free Trade Area"),CISFTA_GROUP_DESCRIPTION:h._("Target all countries that are members of the Commonwealth of Independent States Free Trade Area (CISFTA)."),APP_STORE_REGIONS_GROUP_NAME:h._("App store regions"),APP_STORE_REGIONS_GROUP_DESCRIPTION:h._("Target all countries where the Android and iTunes app stores are available."),ITUNES_APP_STORE_GROUP_NAME:h._("iTunes App Store Countries"),ITUNES_APP_STORE_GROUP_DESCRIPTION:h._("Target all countries where the iTunes App Store is available."),ANDROID_PAID_STORE_GROUP_NAME:h._("Android Paid Store Countries"),ANDROID_PAID_STORE_GROUP_DESCRIPTION:h._("Target all countries where Android apps can be purchased or contains in-app purchases."),ANDROID_FREE_STORE_GROUP_NAME:h._("Android Free Store Countries"),ANDROID_FREE_STORE_GROUP_DESCRIPTION:h._("Target all countries where free Android apps are available."),EMERGING_MARKETS_GROUP_NAME:h._("Emerging Markets"),EMERGING_MARKETS_GROUP_DESCRIPTION:h._("Target people in emerging markets."),EURO_AREA_GROUP_NAME:h._("Euro area"),EURO_AREA_GROUP_DESCRIPTION:h._("Target people in countries that use the euro as their common currency.")};}),null);
__d('AdsCommonTargetingBrowseLocationConfig',['fbt','AdsCreateMultiCountryLookalikeConfig','AdsCountriesConfig','AdsCommonTargetingBrowseLocationLabels','Set'],(function a(b,c,d,e,f,g,h){'use strict';var i={WORLDWIDE:'worldwide',REGIONS:'regions',FREE_TRADE_AREAS:'free_trade_areas',APP_STORE_REGIONS:'app_store_regions'},j={AFRICA:'africa',ASIA:'asia',CARIBBEAN:'caribbean',CENTRAL_AMERICA:'central_america',EUROPE:'europe',NORTH_AMERICA:'north_america',OCEANIA:'oceania',SOUTH_AMERICA:'south_america'},k={EEA:'eea',NAFTA:'nafta',AFTA:'afta',MERCOSUR:'mercosur',GCC:'gcc',APEC:'apec',CISFTA:'cisfta'},l={ITUNES_APP_STORE:'itunes_app_store',ANDROID_PAID_STORE:'android_paid_store',ANDROID_FREE_STORE:'android_free_store'},m={EMERGING_MARKETS:'emerging_markets',EURO_AREA:'euro_area'},n={};c('AdsCreateMultiCountryLookalikeConfig').countryGroupsMetadata.forEach(function(t){n[t.id]=t;});function o(t){var u=c('AdsCountriesConfig').countries[t];if(u===null)return null;return {name:u,id:t,type:'countries',description:h._("Target all people in {Country}.",[h.param('Country',u)]),selectable:true,countries:[t],children:null,disabled:false};}function p(t,u,v,w){var x=n[t]?n[t].countries:[];x=x.filter(function(z){return !!c('AdsCountriesConfig').countries[z];});if(x.length===0)return null;x.sort(function(z,aa){return c('AdsCountriesConfig').countries[z].localeCompare(c('AdsCountriesConfig').countries[aa]);});var y=w!==false?r(x.map(o)):null;return {name:u,id:t,type:'country_groups',selectable:true,description:v||h._("Target all countries in {Country Group}.",[h.param('Country Group',u)]),countries:x,children:y,disabled:false};}function q(t,u,v,w,x){var y=r(x);if(y.length===0)return null;var z=new (c('Set'))();y.forEach(function(aa){aa.countries.forEach(function(ba){z.add(ba);});});return {id:t,type:'nested_groups',name:u,selectable:w,description:v,countries:Array.from(z),children:y,disabled:false};}function r(t){var u=[];t.forEach(function(v){if(v)u.push(v);});return u;}var s=[q(i.WORLDWIDE,c('AdsCommonTargetingBrowseLocationLabels').WORLDWIDE_GROUP_NAME,null,false,[p(j.AFRICA,c('AdsCommonTargetingBrowseLocationLabels').AFRICA_GROUP_NAME),p(j.ASIA,c('AdsCommonTargetingBrowseLocationLabels').ASIA_GROUP_NAME),p(j.CARIBBEAN,c('AdsCommonTargetingBrowseLocationLabels').CARIBBEAN_GROUP_NAME),p(j.CENTRAL_AMERICA,c('AdsCommonTargetingBrowseLocationLabels').CENTRAL_AMERICA_GROUP_NAME),p(j.EUROPE,c('AdsCommonTargetingBrowseLocationLabels').EUROPE_GROUP_NAME),p(j.NORTH_AMERICA,c('AdsCommonTargetingBrowseLocationLabels').NORTH_AMERICA_GROUP_NAME),p(j.OCEANIA,c('AdsCommonTargetingBrowseLocationLabels').OCEANIA_GROUP_NAME),p(j.SOUTH_AMERICA,c('AdsCommonTargetingBrowseLocationLabels').SOUTH_AMERICA_GROUP_NAME)]),q(i.REGIONS,c('AdsCommonTargetingBrowseLocationLabels').REGIONS_GROUP_NAME,null,false,[q(i.FREE_TRADE_AREAS,c('AdsCommonTargetingBrowseLocationLabels').FREE_TRADE_AREAS_GROUP_NAME,c('AdsCommonTargetingBrowseLocationLabels').FREE_TRADE_AREAS_GROUP_DESCRIPTION,true,[p(k.EEA,c('AdsCommonTargetingBrowseLocationLabels').EEA_GROUP_NAME,c('AdsCommonTargetingBrowseLocationLabels').EEA_GROUP_DESCRIPTION,false),p(k.NAFTA,c('AdsCommonTargetingBrowseLocationLabels').NAFTA_GROUP_NAME,c('AdsCommonTargetingBrowseLocationLabels').NAFTA_GROUP_DESCRIPTION,false),p(k.AFTA,c('AdsCommonTargetingBrowseLocationLabels').AFTA_GROUP_NAME,c('AdsCommonTargetingBrowseLocationLabels').AFTA_GROUP_DESCRIPTION,false),p(k.MERCOSUR,c('AdsCommonTargetingBrowseLocationLabels').MERCOSUR_GROUP_NAME,c('AdsCommonTargetingBrowseLocationLabels').MERCOSUR_GROUP_DESCRIPTION,false),p(k.GCC,c('AdsCommonTargetingBrowseLocationLabels').GCC_GROUP_NAME,c('AdsCommonTargetingBrowseLocationLabels').GCC_GROUP_DESCRIPTION,false),p(k.APEC,c('AdsCommonTargetingBrowseLocationLabels').APEC_GROUP_NAME,c('AdsCommonTargetingBrowseLocationLabels').APEC_GROUP_DESCRIPTION,false),p(k.CISFTA,c('AdsCommonTargetingBrowseLocationLabels').CISFTA_GROUP_NAME,c('AdsCommonTargetingBrowseLocationLabels').CISFTA_GROUP_DESCRIPTION,false)]),q(i.APP_STORE_REGIONS,c('AdsCommonTargetingBrowseLocationLabels').APP_STORE_REGIONS_GROUP_NAME,c('AdsCommonTargetingBrowseLocationLabels').APP_STORE_REGIONS_GROUP_DESCRIPTION,true,[p(l.ITUNES_APP_STORE,c('AdsCommonTargetingBrowseLocationLabels').ITUNES_APP_STORE_GROUP_NAME,c('AdsCommonTargetingBrowseLocationLabels').ITUNES_APP_STORE_GROUP_DESCRIPTION,false),p(l.ANDROID_PAID_STORE,c('AdsCommonTargetingBrowseLocationLabels').ANDROID_PAID_STORE_GROUP_NAME,c('AdsCommonTargetingBrowseLocationLabels').ANDROID_PAID_STORE_GROUP_DESCRIPTION,false),p(l.ANDROID_FREE_STORE,c('AdsCommonTargetingBrowseLocationLabels').ANDROID_FREE_STORE_GROUP_NAME,c('AdsCommonTargetingBrowseLocationLabels').ANDROID_FREE_STORE_GROUP_DESCRIPTION,false)]),p(m.EMERGING_MARKETS,c('AdsCommonTargetingBrowseLocationLabels').EMERGING_MARKETS_GROUP_NAME,c('AdsCommonTargetingBrowseLocationLabels').EMERGING_MARKETS_GROUP_DESCRIPTION),p(m.EURO_AREA,c('AdsCommonTargetingBrowseLocationLabels').EURO_AREA_GROUP_NAME,c('AdsCommonTargetingBrowseLocationLabels').EURO_AREA_GROUP_DESCRIPTION)])];f.exports=r(s);}),null);
__d('AdsLookalikeLocationUtils',['AdsCommonTargetingBrowseLocationConfig','StrSet'],(function a(b,c,d,e,f,g){'use strict';var h={isEmptyLocationSpec:function i(j){return this.getCountriesFromLocationSpec(j).count()===0;},locationSpecsHaveSameCountries:function i(j,k){return this.getCountriesFromLocationSpec(j).equals(this.getCountriesFromLocationSpec(k));},getLocationSpecFromCountry:function i(j){return j?{geo_locations:{countries:[j]}}:{};},getCountriesFromLocationSpec:function i(j){j=j||{};var k=new (c('StrSet'))(this._getCountriesFromGeoSpec(j.geo_locations)),l=new (c('StrSet'))(this._getCountriesFromGeoSpec(j.excluded_geo_locations));return l.difference(k);},_getCountriesFromGeoSpec:function i(j){j=j||{};var k=this._getCountryOrGroupInfoMap(),l=j.countries||[];for(var m=j.country_groups||[],n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var p;if(n){if(o>=m.length)break;p=m[o++];}else{o=m.next();if(o.done)break;p=o.value;}var q=p,r=k[q]&&k[q].type==='country_groups'?k[q].countries||[]:[];l=l.concat(r);}return new (c('StrSet'))(l);},_countryOrGroupInfoMap:null,_getCountryOrGroupInfoMap:function i(){if(this._countryOrGroupInfoMap===null){this._countryOrGroupInfoMap={};for(var j=c('AdsCommonTargetingBrowseLocationConfig'),k=Array.isArray(j),l=0,j=k?j:j[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var m;if(k){if(l>=j.length)break;m=j[l++];}else{l=j.next();if(l.done)break;m=l.value;}var n=m;this._buildInfoFromBrowseLocationNode(n,this._countryOrGroupInfoMap);}}return this._countryOrGroupInfoMap||{};},_buildInfoFromBrowseLocationNode:function i(j,k){if(j.id&&(j.type==='countries'||j.type==='country_groups'))k[j.id]={type:j.type,countries:j.countries};if(j.children)for(var l=j.children,m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var o;if(m){if(n>=l.length)break;o=l[n++];}else{n=l.next();if(n.done)break;o=n.value;}var p=o;this._buildInfoFromBrowseLocationNode(p,k);}}};f.exports=h;}),null);
__d('AdsLookalikeCreationUtils',['invariant','AdsLookalikeConversionType','AdsLookalikeLocationUtils','ads-cluster-constants','immutable','trimObject'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('immutable').Map,j=c('ads-cluster-constants').LOOKALIKE_SOURCE_TYPE;function k(l,m,n,o,p,q,r,s,t,u,v){if(!c('AdsLookalikeLocationUtils').isEmptyLocationSpec(r))q=undefined;var w={accountId:l,lookalike_spec:{country:q,location_spec:r,is_financial_service:s,allow_international_seeds:true,ratio:n,starting_ratio:null,type:null,pixel_ids:null,conversion_type:null,app_id:null,page_id:null}};if(m>0)Object.assign(w.lookalike_spec,{starting_ratio:m});switch(p){case j.CUSTOM_AUDIENCE:if(t&&u){Object.assign(w.lookalike_spec,{data_set_id:u.get('id'),conversion_type:c('AdsLookalikeConversionType').DATA_SET,like_expr:u.get('rule'),weight_expr:v});}else{w.origin_audience_id=o;w.lookalike_spec.type=c('ads-cluster-constants').LOOKALIKE_CUSTOM_RATIO;}break;case j.CONVERSION_PIXEL:Object.assign(w.lookalike_spec,{pixel_ids:[o],conversion_type:c('AdsLookalikeConversionType').OFFSITE});break;case j.PAGE:Object.assign(w.lookalike_spec,{page_id:o,conversion_type:c('AdsLookalikeConversionType').PAGE_LIKE});break;case j.APPLICATION:Object.assign(w.lookalike_spec,{app_id:o,conversion_type:c('AdsLookalikeConversionType').APP_ENGAGED_USERS});break;case j.DATA_SET:Object.assign(w.lookalike_spec,{data_set_id:o,conversion_type:c('AdsLookalikeConversionType').DATA_SET,weight_expr:v});break;case j.FB_PIXEL:Object.assign(w.lookalike_spec,{pixel_ids:[o],conversion_type:c('AdsLookalikeConversionType').FB_PIXEL});break;default:h(0);}return c('trimObject')(w);}f.exports={getLookalikeSpec:k};}),null);
__d('AdsAudienceFilterEnum',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({ALL:'',LOOKALIKE:'',CUSTOM_AUDIENCE:''});f.exports=h;}),null);
__d('AdsAudienceTypeaheadConstants',[],(function a(b,c,d,e,f,g){'use strict';var h={BLUR_TIMEOUT:100,DEBOUNCE_TIME:200,ENTRIES:{WIDTH:430,BORDER_WIDTH:2},GROUP_NAME:{WIDTH:136},LOOKALIKE_SOURCE:{WIDTH:520,GROUP_NAME_WIDTH:200},HEIGHT:213,MAX_ENTRIES_TO_RENDER:100};f.exports=h;}),null);
__d('FreeTextTypeaheadPresenter',['cx','List.react','ScrollableArea.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k,l,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(){var q,r;'use strict';for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=j.constructor).call.apply(q,[this].concat(t)),this.$ViewRenderer1=function(v){return (c('React').createElement(o,{entry:v,highlighted:v===this.props.highlightedEntry,key:v.getUniqueID(),onHighlight:this.props.onHighlight,onSelect:this.props.onSelect}));}.bind(this),r;}n.prototype.render=function(){'use strict';var q=this.props.excludedEntries||{},r=this.props.entries.filter(function(u){return !q[u.getUniqueID()];});if(!r.length)return c('React').createElement('span',null);var s=r.map(this.$ViewRenderer1,this),t=c('joinClasses')("_5tbq",this.props.className);return c('React').createElement('div',{className:t},c('React').createElement(c('ScrollableArea.react'),{height:this.props.height,width:this.props.width},c('React').createElement(c('List.react'),{border:'none',spacing:'none'},s)));};n.propTypes={entries:m.array.isRequired,height:m.number,highlightedEntry:m.object,width:m.number,onSelect:m.func.isRequired,onHighlight:m.func};k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(){var q,r;'use strict';for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.$EntryRowView1=function(v){this.props.onSelect(this.props.entry,v);}.bind(this),this.$EntryRowView2=function(){this.props.onHighlight&&this.props.onHighlight(this.props.entry);}.bind(this),r;}o.prototype.render=function(){'use strict';return c('React').createElement('li',{className:"_5tbr"+(this.props.highlighted?' '+"_5tbs":''),onMouseDown:this.$EntryRowView1,onMouseEnter:this.$EntryRowView2},this.props.entry.getTitle());};o.propTypes={entry:m.object.isRequired,onSelect:m.func.isRequired,onHighlight:m.func,highlighted:m.bool};var p={ViewRenderer:n,useLayer:true};f.exports=p;}),null);
__d('AdsCreateLookalikeDialogCountryTypeahead.react',['cx','fbt','AbstractTypeahead.react','AdsAudienceTypeaheadConstants','FreeTextTypeaheadPresenter','AdsCreateLookalikeConfig','AdsStaticSearchSource','React'],(function a(b,c,d,e,f,g,h,i){var j=c('AdsCreateLookalikeConfig').countries,k=c('React').PropTypes,l=c('React').createClass({displayName:'AdsCreateLookalikeDialogCountryTypeahead',propTypes:{country:k.string,onSelectAttempt:k.func.isRequired},getInitialState:function m(){return {country:undefined,queryString:''};},componentWillMount:function m(){this._updateSelectedCountry(this.props.country);var n=[];for(var o in j)n.push({key:o,name:this._getCountryDisplayName(o,j[o].name)});this._searchSource=new (c('AdsStaticSearchSource'))(n,{getAllForEmptyQuery:true,limit:n.length});this._presenter=Object.assign({},c('FreeTextTypeaheadPresenter'),{maxEntries:n.length});this._presenter.extraRendererProps={height:c('AdsAudienceTypeaheadConstants').HEIGHT,width:c('AdsAudienceTypeaheadConstants').ENTRIES.WIDTH};},componentWillReceiveProps:function m(n){this._updateSelectedCountry(n.country);},render:function m(){return (c('React').createElement(c('AbstractTypeahead.react'),{autoHighlight:true,className:"_5w0y",entriesWidthMatchContext:this.isMounted(),placeholder:i._("Choose a country to target."),presenter:this._presenter,queryString:this.state.queryString,searchSource:this._searchSource,selectedEntry:null,showEntriesOnFocus:true,onBlur:this._onBlur,onChange:this._onInputChange,onSelectAttempt:this._onSelectAttempt}));},componentDidMount:function m(){this.forceUpdate();},_getCountryDisplayName:function m(n){return i._("{name} ({countryCode})",[i.param('name',j[n].name),i.param('countryCode',n)]);},_updateSelectedCountry:function m(n){this.setState({country:n,queryString:n&&this._getCountryDisplayName(n)||''});},_onBlur:function m(){var n=this.state.country;if(n)this.setState({queryString:this._getCountryDisplayName(n)});},_onInputChange:function m(event){var n=event.target.value;if(!n)this.props.onSelectAttempt(undefined);this.setState({queryString:n});},_onSelectAttempt:function m(n){var o=n.getUniqueID();this.props.onSelectAttempt(o);}});f.exports=l;}),null);
__d('AdsCommonTargetingBrowseTreeFactory',['fbt','AdsCommonTargetingBrowseLocationConfig','AdsCreateLookalikeConfig'],(function a(b,c,d,e,f,g,h){'use strict';function i(n){return (n.type==='countries'||n.type==='country_groups'&&n.children===null);}function j(n){return n.type+'.'+n.id;}function k(n,o,p,q){var r=p.concat(n.name.toString()),s=r.join(' > '),t=(n.children||[]).map(function(y){return k(y,s,r,q);});if(q)t=t.filter(q);var u=n.type,v=i(n)?j(n):null,w=n.countries.map(function(y){return (c('AdsCreateLookalikeConfig').countries[y]?c('AdsCreateLookalikeConfig').countries[y].count||0:0);}).reduce(function(y,z){return y+z;}),x=null;if(u==='country_groups')x={title:h._("Countries:"),text:n.countries.map(function(y){return (c('AdsCreateLookalikeConfig').countries[y]?c('AdsCreateLookalikeConfig').countries[y].name:'');}).join(', ')};return {key:s,name:n.name,parent:o,unselectable:!n.selectable,type:u,id:n.id,uniqueID:v,path:p,hasMoreInfo:!!n.description,reach:w,description:n.description,customSections:x?[x]:null,expandChildrenOnSelect:!v,children:t.length===0?null:t,disabled:n.disabled};}function l(n){var o=c('AdsCommonTargetingBrowseLocationConfig').map(function(p){return k(p,'__ROOT__',[],n);});return n?o.filter(n):o;}var m={createBrowseTree:l};f.exports=m;}),null);
__d('AdsCreateLookalikeDialogLocationSearchDataProvider',['AdsStaticSearchSource'],(function a(b,c,d,e,f,g){'use strict';function h(){this.$AdsCreateLookalikeDialogLocationSearchDataProvider1=null;this.$AdsCreateLookalikeDialogLocationSearchDataProvider2={};}h.prototype.setItems=function(i){this.$AdsCreateLookalikeDialogLocationSearchDataProvider2=h.$AdsCreateLookalikeDialogLocationSearchDataProvider3(i);this.$AdsCreateLookalikeDialogLocationSearchDataProvider1=new (c('AdsStaticSearchSource'))(i.map(function(j){return {key:h.$AdsCreateLookalikeDialogLocationSearchDataProvider4(j),name:j.name};}),{getAllForEmptyQuery:false,limit:i.length});};h.prototype.provideData=function(i,j){var k,l=this;if(this.$AdsCreateLookalikeDialogLocationSearchDataProvider1){(function(){var m=l.$AdsCreateLookalikeDialogLocationSearchDataProvider2;l.$AdsCreateLookalikeDialogLocationSearchDataProvider1.searchImpl(j.q,function(n,o){i&&i(h.$AdsCreateLookalikeDialogLocationSearchDataProvider5(m,n));});})();}else i&&i([]);};h.$AdsCreateLookalikeDialogLocationSearchDataProvider4=function(i){return i.path?i.path.join(' > '):i.name.toString();};h.$AdsCreateLookalikeDialogLocationSearchDataProvider3=function(i){var j={};for(var k=i,l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var n;if(l){if(m>=k.length)break;n=k[m++];}else{m=k.next();if(m.done)break;n=m.value;}var o=n;j[h.$AdsCreateLookalikeDialogLocationSearchDataProvider4(o)]=o;}return j;};h.$AdsCreateLookalikeDialogLocationSearchDataProvider5=function(i,j){return j.map(function(k){return i[k.getUniqueID()];});};f.exports=h;}),null);
__d('AdsFlexibleTargetingEntriesViewMixin.react',['invariant','AdsSBTokenizerConstants','Scroll'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('AdsSBTokenizerConstants').ROW.HEIGHT,j={componentDidUpdate:function k(){this.props.scrollHeight||h(0);this._setScrollTop();},_setScrollTop:function k(){var l=this.props.highlightedEntry;if(!this.refs||!this.refs.scrollArea||!l)return;var m=this.props.entries.indexOf(l)*i,n=this.refs.scrollArea,o=c('Scroll').getTop(n),p=void 0;if(o+this.props.scrollHeight<m+i){p=i*(o/i+1);c('Scroll').setTop(n,p);}else if(o>m){p=i*(o/i-1);c('Scroll').setTop(n,p);}}};f.exports=j;}),null);
__d('AdsFlexibleTargetingReportInterestTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h={FETCH_COMPLETE:'',REPORT:'',UNDO:''};f.exports=c('keyMirrorRecursive')(h,'ADS_FLEXIBLE_TARGETING_REPORT_INTERESTS');}),null);
__d('AdsFlexibleTargetingReportInterestActions',['AdsDispatcher','AdsFlexibleTargetingReportInterestTypes'],(function a(b,c,d,e,f,g){'use strict';var h={undoReportInterest:function i(j,k){c('AdsDispatcher').handleUpdateFromViewAction({data:{interestID:j,name:k},type:c('AdsFlexibleTargetingReportInterestTypes').UNDO});},reportInterest:function i(j,k){c('AdsDispatcher').handleUpdateFromViewAction({data:{interestID:j,name:k},type:c('AdsFlexibleTargetingReportInterestTypes').REPORT});},fetchComplete:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({data:{interests:j},type:c('AdsFlexibleTargetingReportInterestTypes').FETCH_COMPLETE});}};f.exports=h;}),null);
__d("XAdPreferencesReportController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ads\/preferences\/report\/",{fbid:{type:"Int"},action:{type:"String",required:true},name:{type:"String"}});}),null);
__d('AdsFlexibleTargetingReportInterestDataLoader',['AdsFlexibleTargetingReportInterestActions','AsyncRequest','XAdPreferencesReportController'],(function a(b,c,d,e,f,g){'use strict';function h(j,k,l){var m=c('XAdPreferencesReportController').getURIBuilder().setString('name',k).setString('action',l).setInt('fbid',j).getURI();new (c('AsyncRequest'))(m).send();}function i(){var j=c('XAdPreferencesReportController').getURIBuilder().setString('action','get').getURI();new (c('AsyncRequest'))(j).setHandler(function(k){var l=k.payload.interests||{};c('AdsFlexibleTargetingReportInterestActions').fetchComplete(l);}).send();}f.exports={fetchReportedInterests:i,reportInterest:h};}),null);
__d('AdsFlexibleTargetingReportedInterestStore',['AdsDispatcher','AdsFlexibleTargetingReportInterestTypes','FluxStore','adsBaseStoreMixin','AdsFlexibleTargetingReportInterestDataLoader'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('AdsFlexibleTargetingReportInterestDataLoader').fetchReportedInterests,k=c('AdsFlexibleTargetingReportInterestDataLoader').reportInterest;h=babelHelpers.inherits(l,c('FluxStore'));i=h&&h.prototype;function l(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$AdsFlexibleTargetingReportedInterestStoreClass1={};j();}l.prototype.getStoreName=function(){return 'AdsFlexibleTargetingReportedInterestStore';};l.prototype.getIsInterestReported=function(m){return m in this.$AdsFlexibleTargetingReportedInterestStoreClass1;};l.prototype.__onDispatch=function(m){var n=m.action;switch(n.actionType){case c('AdsFlexibleTargetingReportInterestTypes').REPORT:k(n.data.interestID,n.data.name,'add');this.$AdsFlexibleTargetingReportedInterestStoreClass1[n.data.interestID]=true;this.__emitChange();break;case c('AdsFlexibleTargetingReportInterestTypes').UNDO:k(n.data.interestID,n.data.name,'del');delete this.$AdsFlexibleTargetingReportedInterestStoreClass1[n.data.interestID];this.__emitChange();break;case c('AdsFlexibleTargetingReportInterestTypes').FETCH_COMPLETE:Object.keys(n.data.interests).map(function(o){return this.$AdsFlexibleTargetingReportedInterestStoreClass1[o]=true;}.bind(this));this.__emitChange();break;}};f.exports=new l();}),null);
__d('AdsSBTokenizerWhiteBoxContainer.react',['AdsFlexibleTargetingReportInterestActions','AdsFlexibleTargetingReportedInterestStore','AdsFluxContainer','AdsSBTokenizerWhiteBox.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').PureComponent);i=h&&h.prototype;function j(){var k,l;for(var m=arguments.length,n=Array(m),o=0;o<m;o++)n[o]=arguments[o];return l=(k=i.constructor).call.apply(k,[this].concat(n)),this.$AdsSBTokenizerWhiteBoxContainer2=function(){c('AdsFlexibleTargetingReportInterestActions').undoReportInterest(this.props.info.id,this.props.info.name);}.bind(this),this.$AdsSBTokenizerWhiteBoxContainer1=function(){c('AdsFlexibleTargetingReportInterestActions').reportInterest(this.props.info.id,this.props.info.name);}.bind(this),l;}j.getStores=function(){return [c('AdsFlexibleTargetingReportedInterestStore')];};j.calculateState=function(k,l){var m=c('AdsFlexibleTargetingReportedInterestStore').getIsInterestReported(l.info.id),n={};if(m){n[l.info.id]=true;if(l.info.getUniqueID)n[l.info.getUniqueID()]=true;}return {info:l.info,reportedItems:n};};j.prototype.render=function(){return c('React').createElement(c('AdsSBTokenizerWhiteBox.react'),babelHelpers['extends']({},this.props,{addReportedInterest:this.$AdsSBTokenizerWhiteBoxContainer1,deleteReportedInterest:this.$AdsSBTokenizerWhiteBoxContainer2,info:this.state.info,reportedInterests:this.state.reportedItems}));};f.exports=c('AdsFluxContainer').create(j,{withProps:true});}),null);
__d('AdsUnifiedFlexibleTargetingDataSource',['AbstractSearchSource','SearchableEntry','debounce'],(function a(b,c,d,e,f,g){'use strict';var h,i,j={};h=babelHelpers.inherits(k,c('AbstractSearchSource'));i=h&&h.prototype;function k(l,m){var n=arguments.length<=2||arguments[2]===undefined?null:arguments[2],o=arguments.length<=3||arguments[3]===undefined?null:arguments[3];i.constructor.call(this);this.dao=l;this.accountID=m;this.whitelistedTypes=n;this.searchImpl=c('debounce')(this.$AdsUnifiedFlexibleTargetingDataSource1,250,this);this.provideDataFunc=o;}k.prototype.$AdsUnifiedFlexibleTargetingDataSource1=function(l,m,n){if(!l){m([],l);return;}var o={accountId:this.accountID,q:l,whitelisted_types:this.whitelistedTypes},p=n&&n.type?n.type:null;if(p!==null)o.limit_type=p;if(this.provideDataFunc){this.provideDataFunc(function(q){return this.$AdsUnifiedFlexibleTargetingDataSource2(m,l,n,q);}.bind(this),o);}else this.dao.fetch.unifiedSearchForAccount.one(function(q){return this.$AdsUnifiedFlexibleTargetingDataSource2(m,l,n,q);}.bind(this),o);};k.prototype.$AdsUnifiedFlexibleTargetingDataSource2=function(l,m,n,o){var p=o.map(function(q,r){var s=new (c('SearchableEntry'))({uniqueID:q.type+'.'+q.id,title:q.name,order:r});s.uniqueID=s.getUniqueID();s.name=q.name;s.id=q.id;s.type=q.type;s.description=q.description;s.reach=q.audience_size;s.source=q.source;s.path=q.path;s.key=q.path?q.path.join(' > '):q.name;s.query=m;s.partner=q.partner;s.hasMoreInfo=k.$AdsUnifiedFlexibleTargetingDataSource3(q);for(var t=Object.keys(q.extraData||{}),u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var w;if(u){if(v>=t.length)break;w=t[v++];}else{v=t.next();if(v.done)break;w=v.value;}var x=w;s[x]=q.extraData[x];}return s;});l(p,m,n);};k.$AdsUnifiedFlexibleTargetingDataSource3=function(l){return !!(l.description||l.source||l.audience_size);};k.getInstance=function(l,m){var n=arguments.length<=2||arguments[2]===undefined?null:arguments[2];if(!j[m])j[m]=new k(l,m,n);return j[m];};f.exports=k;}),null);
__d('AdsFullBleedHelpLink.react',['cx','AdsHelpLink.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){return (c('React').createElement(c('AdsHelpLink.react'),babelHelpers['extends']({},this.props,{containerClassName:c('joinClasses')(this.props.containerClassName,"_4ztu")}),this.props.children));};function k(){i.apply(this,arguments);}k.propTypes=c('AdsHelpLink.react').propTypes;k.defaultProps=c('AdsHelpLink.react').defaultProps;f.exports=k;}),null);
__d('AdsFlexibleTargetingEducationInfoCard.react',['cx','fbt','AdsFullBleedHelpLink.react','BUIAdoptionXUIText.react','Image.react','Link.react','React','URI'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=326;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$AdsFlexibleTargetingEducationInfoCard1=function(){return (c('React').createElement('div',{className:"_51ow"},this.$AdsFlexibleTargetingEducationInfoCard2(),this.$AdsFlexibleTargetingEducationInfoCard3(),this.$AdsFlexibleTargetingEducationInfoCard4()));}.bind(this),this.$AdsFlexibleTargetingEducationInfoCard2=function(){if(!this.props.img)return null;return (c('React').createElement(c('Image.react'),{className:"_51pa",src:this.props.img}));}.bind(this),this.$AdsFlexibleTargetingEducationInfoCard3=function(){return (c('React').createElement(c('BUIAdoptionXUIText.react'),{className:"_51pb"},this.props.title));}.bind(this),this.$AdsFlexibleTargetingEducationInfoCard4=function(){return (c('React').createElement(c('BUIAdoptionXUIText.react'),{className:"_51pc",size:'small'},this.props.info,' ',c('React').createElement(c('Link.react'),{href:new (c('URI'))(this.props.link),target:'_blank'},i._("Learn more"))));}.bind(this),p;}n.prototype.render=function(){return c('React').createElement(c('AdsFullBleedHelpLink.react'),{linger:this.props.linger,position:'right',width:m},this.$AdsFlexibleTargetingEducationInfoCard1());};n.propTypes={title:l.string.isRequired,info:l.string.isRequired,link:l.string.isRequired,img:l.object,linger:l.number.isRequired};f.exports=n;}),null);
__d('DefaultBrowseRowView.react',['cx','fbt','AdsFlexibleTargetingEducationInfoCard.react','AdsFlexibleTargetingConstants','React','getByPath'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=23,n=15,o=32,p=c('AdsFlexibleTargetingConstants').CATEGORY_NUX_IMG;j=babelHelpers.inherits(q,c('React').Component);k=j&&j.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.$DefaultBrowseRowView2=function(){return (c('React').createElement('li',{className:this.$DefaultBrowseRowView11(),style:{height:o-1,lineHeight:o+'px'},onMouseEnter:this.$DefaultBrowseRowView7},c('React').createElement('div',{className:"_2rcv",role:'presentation',onClick:this.$DefaultBrowseRowView12},c('React').createElement('div',{className:"_4b97",style:this.$DefaultBrowseRowView13()},c('React').createElement('div',{className:this.$DefaultBrowseRowView14()})),c('React').createElement('div',{className:"_303d _2-2g"},this.props.data.name),c('React').createElement('div',{className:"rfloat _lu2"},c('React').createElement(c('AdsFlexibleTargetingEducationInfoCard.react'),{img:p[this.props.data.img],info:this.props.data.info,linger:100,link:this.props.data.link,title:this.props.data.info_title})))));}.bind(this),this.$DefaultBrowseRowView1=function(){return !!(this.props.data.info&&this.props.data.link&&this.props.data.name);}.bind(this),this.$DefaultBrowseRowView9=function(){if(this.props.data.unselectable)return null;return (c('React').createElement('div',{className:"_2rcx"},c('React').createElement('span',{className:"_2-st"})));}.bind(this),this.$DefaultBrowseRowView10=function(){if(this.props.highlight&&this.props.data.hasMoreInfo)return c('React').createElement('div',{className:"_5lgj"});}.bind(this),this.$DefaultBrowseRowView13=function(){return {width:m+this.props.level*n,height:o};}.bind(this),this.$DefaultBrowseRowView14=function(){return "_6pe"+(this.props.rowExpanded?' '+"_6pf":'')+(!this.props.rowExpanded?' '+"_6pg":'')+(' '+"_4b91");}.bind(this),this.$DefaultBrowseRowView11=function(){return "_4b90"+(' '+"_4b91")+(' '+"_4b96");},this.$DefaultBrowseRowView6=function(){if(this.props.disabled)return;if(this.props.selected){this.props.removeEntry(this.props.data);}else this.props.addEntry(this.props.data);}.bind(this),this.$DefaultBrowseRowView12=function(){this.props.toggleExpand(this.props.data);}.bind(this),this.$DefaultBrowseRowView7=function(){this.props.mouseOver(this.props.data);}.bind(this),this.$DefaultBrowseRowView8=function(){this.props.mouseOver();}.bind(this),s;}q.prototype.render=function(){if(this.$DefaultBrowseRowView1()){return this.$DefaultBrowseRowView2();}else if(this.$DefaultBrowseRowView3())return this.$DefaultBrowseRowView4();return this.$DefaultBrowseRowView5();};q.prototype.$DefaultBrowseRowView5=function(){var r={width:m+this.props.level*n,height:o},s="_4b90"+(' '+"_4b91")+(this.props.selected===true?' '+"_4b92":'')+(this.props.selected===false&&this.props.disabled!==true?' '+"_4b93":'')+(' '+"_4b96")+(this.props.selected===false&&this.props.disabled===true?' '+"_u61":'');return c('React').createElement('li',{className:s,style:{height:o-1,lineHeight:o+'px'},onClick:this.$DefaultBrowseRowView6,onMouseEnter:this.$DefaultBrowseRowView7,onMouseLeave:this.$DefaultBrowseRowView8},c('React').createElement('div',{className:"_2rcv"},c('React').createElement('div',{className:"_4b97",style:r}),c('React').createElement('div',{className:"_303d _2-2g"},this.props.data.name),this.$DefaultBrowseRowView9()),this.$DefaultBrowseRowView10());};q.prototype.$DefaultBrowseRowView4=function(){return c('React').createElement('li',{className:this.$DefaultBrowseRowView11(),style:{height:o-1,lineHeight:o+'px'},onMouseEnter:this.$DefaultBrowseRowView7},c('React').createElement('div',{className:"_2rcv"+(this.props.selected===false&&this.props.disabled===true?' '+"_u61":'')},c('React').createElement('div',{className:"_4b97",role:'presentation',style:this.$DefaultBrowseRowView13(),onClick:this.$DefaultBrowseRowView12},c('React').createElement('div',{className:this.$DefaultBrowseRowView14()})),c('React').createElement('div',{className:"_303d _2-2g",role:'presentation',onClick:this.$DefaultBrowseRowView12},this.props.data.name),c('React').createElement('div',{className:"_1b0h"+(this.props.selected===true?' '+"_4b92":'')+(this.props.selected===false&&this.props.disabled!==true?' '+"_4b93":'')+(this.props.selected===null?' '+"_4b94":''),role:'presentation',onClick:this.$DefaultBrowseRowView6},this.$DefaultBrowseRowView15(),this.$DefaultBrowseRowView9())),this.props.data.hasMoreInfo?this.$DefaultBrowseRowView10():null);};q.prototype.$DefaultBrowseRowView3=function(){return !!c('getByPath')(this.props.data,['children','length']);};q.prototype.$DefaultBrowseRowView15=function(){if(this.props.data.unselectable||this.props.disabled)return null;var r=this.props.selected===true?i._("Unselect All"):i._("Select All");return c('React').createElement('div',{className:"_1b0q"},r);};q.propTypes={data:l.object.isRequired,disabled:l.bool,mouseOver:l.func.isRequired,toggleExpand:l.func.isRequired,selected:l.bool,addEntry:l.func.isRequired,removeEntry:l.func.isRequired,highlight:l.bool,rowExpanded:l.bool};q.defaultProps={highlight:false,selected:false,rowExpanded:false};f.exports=q;}),null);
__d('SearchRowView.react',['cx','fbt','AdsQE','AdsQEStore','FluxContainer','FluxStore','LoadObject','React','underscore.ads','adsGKCheck','AdsTargetingSectionsLabels'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=i._("Demographics"),n=i._("Behaviours"),o={interests:c('AdsTargetingSectionsLabels').interests,behaviors:c('AdsTargetingSectionsLabels').behaviors,user_adclusters:c('AdsTargetingSectionsLabels').userAdclusters,college_years:c('AdsTargetingSectionsLabels').collegeYears,education_majors:c('AdsTargetingSectionsLabels').educationMajors,education_schools:c('AdsTargetingSectionsLabels').educationSchools,education_statuses:c('AdsTargetingSectionsLabels').educationStatuses,ethnic_affinity:m,family_statuses:m,generation:m,home_ownership:m,home_type:m,home_value:m,household_composition:m,income:m,industries:m,interested_in:c('AdsTargetingSectionsLabels').interestedIn,life_events:m,moms:m,net_worth:m,office_type:m,politics:m,relationship_statuses:c('AdsTargetingSectionsLabels').relationshipStatuses,work_employers:c('AdsTargetingSectionsLabels').workEmployers,work_positions:c('AdsTargetingSectionsLabels').workPositions},p=32;j=babelHelpers.inherits(q,c('React').Component);k=j&&j.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.$SearchRowView7=function(w,x){var y=x.map(function(aa){return aa.replace(/(?=[-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\| ])/g,'\\');}).join('|'),z=new RegExp('('+y+')','gi');return {line:w.replace(z,'<b>$1</b>'),isMatch:!!w.match(z)};},this.$SearchRowView1=function(){var w=this.props.data.query.split(/\s+/).filter(function(da){return !!da;}),x=this.props.data.name.toString(),y=this.props.data.path;if(!y||y.length<=1)return this.$SearchRowView7(x,w).line;y=y.slice();if(c('underscore.ads').last(y)!==x)y.push(x);var z=y.length,aa=[];for(var ba=y.length-1;ba>=0;ba--){var ca=this.$SearchRowView7(y[ba],w);aa.unshift(ca.line);if(ca.isMatch)break;}if(aa.length===z){aa.splice(0,z-1);}else if(aa.length>3)aa.splice(1,aa.length-3,'...');return aa.join(' > ');}.bind(this),this.$SearchRowView6=function(){if(this.props.highlight&&this.props.data.hasMoreInfo)return c('React').createElement('div',{className:"_5lgj"});}.bind(this),this.$SearchRowView3=function(w){if(!this.props.selected){this.props.addEntry(this.props.data,w);}else this.props.removeEntry(this.props.data,w);}.bind(this),this.$SearchRowView4=function(){this.props.mouseOver(this.props.data);}.bind(this),this.$SearchRowView5=function(){this.props.mouseOver();}.bind(this),s;}q.calculateState=function(r,s){var t=s.adAccountID?c('AdsQEStore').get('ethinic_affinity_qe_experiment',s.adAccountID):null;return {ethnicQE:t};};q.getStores=function(){return [c('AdsQEStore')];};q.prototype.render=function(){var r="clearfix"+(this.props.highlight?' '+"_303b":'')+(' '+"_2-ss"),s=this.$SearchRowView1(),t=void 0;if(this.props.showType){var u=o[this.props.data.type];if(this.props.data.type==='ethnic_affinity'&&this.$SearchRowView2(this.state.ethnicQE))u=n;t=c('React').createElement('div',{className:"_303c"},u);}return c('React').createElement('li',{className:r,onMouseDown:this.$SearchRowView3,onMouseEnter:this.$SearchRowView4,onMouseLeave:this.$SearchRowView5},c('React').createElement('div',{className:"_2rcv",style:{lineHeight:p+'px'}},c('React').createElement('div',{className:"_303d",dangerouslySetInnerHTML:{__html:s}}),t),this.$SearchRowView6());};q.prototype.$SearchRowView2=function(r){if(c('adsGKCheck')('can_account_see_ethinic_affinity_in_behivior'))return true;if(!!r&&r.isDone()&&r.hasValue()){var s=r.getValueEnforcing();s.maybeLogExposure();return s.getParamBool('show_in_behaviors');}return false;};q.propTypes={adAccountID:l.string,data:l.shape({type:l.string.isRequired,name:l.string.isRequired,query:l.string.isRequired}).isRequired,mouseOver:l.func.isRequired,addEntry:l.func.isRequired,removeEntry:l.func.isRequired,highlight:l.bool,selected:l.bool,showType:l.bool};q.defaultProps={highlight:false,selected:false,showType:false};f.exports=c('FluxContainer').create(q,{withProps:true});}),null);
__d('SearchableBrowseRowView.react',['ix','cx','Image.react','React','fbglyph'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=23,n=15,o=32;j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.$SearchableBrowseRowView1=function(){this.props.onTypeAdded(this.props.data.type);}.bind(this),r;}p.prototype.render=function(){var q={width:m+this.props.level*n,height:o},r=c('React').createElement('div',null);if(!this.props.isSchoolYear)r=c('React').createElement(c('Image.react'),{className:"_1en8",src:h("144056")});return c('React').createElement('li',{className:"_4b90 _4b96 _4b91 clearfix",onClick:this.$SearchableBrowseRowView1},c('React').createElement('div',{className:"_4b97",style:q}),c('React').createElement('div',{className:"_4b99",style:{height:o,lineHeight:o-1+'px'}},this.props.data.name),r);};p.propTypes={data:l.shape({type:l.string}).isRequired,level:l.number.isRequired,onTypeAdded:l.func.isRequired,isSchoolYear:l.bool.isRequired};f.exports=p;}),null);
__d('AdsFlexibleTargetingBrowseList.react',['cx','ix','fbt','xuiglyph','AbstractTextField.react','AdsAPITargetFields','AdsFlexibleTargetingConstants','AdsFlexibleTargetingEntriesViewMixin.react','AdsSBAreaClicked','AdsSBTokenizerConstants','AdsSBTokenizerWhiteBoxContainer.react','AdsUnifiedFlexibleTargetingDataSource','Animation','ContextualLayer.react','DefaultBrowseRowView.react','Image.react','Locale','React','SearchableBrowseRowView.react','SearchRowView.react','underscore.ads','fbglyph','joinClasses'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m,n=c('React').PropTypes,o={work_employers:j._("Target your adverts to people based on where they work."),work_positions:j._("Target your adverts to people based on the job title listed on their Facebook Profile."),education_majors:j._("Target your adverts to people based on their main subject or field of study."),education_schools:j._("Target your adverts to people based on the universities listed in their Facebook Profile.")},p={work_employers:j._("Search employers"),work_positions:j._("Search job titles"),education_majors:j._("Search field of study"),education_schools:j._("Search universities")},q=c('AdsSBTokenizerConstants').ROW.HEIGHT,r=c('AdsSBTokenizerConstants').FLEXIBLE_TARGETING.HEIGHT,s=c('AdsSBTokenizerConstants').WHITE_BOX.WIDTH,t=44,u=r-t,v=250,w=c('React').createClass({displayName:'AdsFlexibleTargetingBrowseList',disabledItems:{},selectedItems:{},_scrollTop:0,_updateExpandedNodes:false,_scrollTopAnimation:null,_expandedItems:{},propTypes:{adAccountID:n.string,browseTree:n.arrayOf(n.object).isRequired,cfSection:n.string,disabledEntryIDs:n.object,hidden:n.bool,hideRoot:n.bool,openPath:n.arrayOf(n.string),openToPath:n.func,searchSource:n.instanceOf(c('AdsUnifiedFlexibleTargetingDataSource')).isRequired,selectedEntryIDs:n.object.isRequired,showPerformanceCost:n.bool,showPerformanceRating:n.bool,showWhiteBox:n.bool,uniqueID:n.string.isRequired,width:n.number.isRequired,onAddEntryAttempt:n.func.isRequired,onAddMultiEntriesAttempt:n.func.isRequired,onRemoveEntryAttempt:n.func.isRequired,useContextualLayer:n.bool},getDefaultProps:function z(){return {useContextualLayer:true,showWhiteBox:true};},getInitialState:function z(){this._fillSelectedItems(this.props.selectedEntryIDs);if(this.props.disabledEntryIDs!==undefined)this._fillDisabledItems(this.props.disabledEntryIDs);return {search:false,searchResult:[],searchValue:null};},componentWillMount:function z(){this._expandedItems={};},componentWillReceiveProps:function z(aa){if(aa.openPath&&!c('underscore.ads').isEqual(aa.openPath,this.props.openPath)||aa.hidden&&!this.props.hidden){this._updateExpandedNodes=true;this.setState({search:false});}if(!c('underscore.ads').isEqual(aa.selectedEntryIDs,this.props.selectedEntryIDs))this._fillSelectedItems(aa.selectedEntryIDs);if(!c('underscore.ads').isEqual(aa.disabledEntryIDs,this.props.disabledEntryIDs)&&aa.disabledEntryIDs!==undefined)this._fillDisabledItems(aa.disabledEntryIDs);},_fillSelectedItems:function z(aa){this.selectedItems={};this.props.browseTree.forEach(function(ba){return this._checkIfNodeSelected(ba,aa);}.bind(this));c('underscore.ads').extend(this.selectedItems,aa);},_fillDisabledItems:function z(aa){this.disabledItems={};this.props.browseTree.forEach(function(ba){return this._checkIfNodeDisabled(ba,aa);}.bind(this));c('underscore.ads').extend(this.disabledItems,aa);},componentDidUpdate:function z(){c('underscore.ads').defer(function(){return this._scrollComponent();}.bind(this));},_scrollComponent:function z(){if(this._scrollTop&&this._scrollTop>=q){this._scrollTop-=q;if(this.refs&&this.refs.scrollArea){this._scrollTopAnimation&&this._scrollTopAnimation.stop();this._scrollTopAnimation=new (c('Animation'))(this.refs.scrollArea).to('scrollTop',this._scrollTop).ease(c('Animation').ease.end).duration(v).go();}this._scrollTop=0;}},render:function z(){return (c('React').createElement('span',null,c('React').createElement('div',{ref:'root'}),this.renderLayers()));},renderLayers:function z(){if(this.props.hidden)return null;if(this._updateExpandedNodes){this._updateExpandedNodes=false;this._scrollTop=0;this._openToPath(this.props.openPath,this.props.browseTree);}var aa=this.props.browseTree;if(this.props.hideRoot&&aa.length===1)aa=aa[0].children;var ba={width:this.props.width,maxHeight:r},ca=null;if(this.state.mouseOverRow&&this.state.mouseOverRow.hasMoreInfo&&this.props.showWhiteBox){ca=c('React').createElement('div',{className:"_6o-",style:{right:0}},c('React').createElement(c('AdsSBTokenizerWhiteBoxContainer.react'),{height:ba.maxHeight,info:this.state.mouseOverRow,showPerformanceCost:this.props.showPerformanceCost,showPerformanceRating:this.props.showPerformanceRating,type:c('AdsSBTokenizerConstants').ACTIVE_STATES.BROWSE,uniqueID:this.props.uniqueID}));ba.width=this.props.width+s-1;}var da=c('underscore.ads').flatten(aa.map(function(ga){return this._renderRow(0,ga);}.bind(this))),ea=Math.min(da.length*q,r),fa=c('React').createElement('div',{style:ba,onMouseDown:this._onMouseDown,onMouseLeave:this._onMouseLeave},c('React').createElement('div',{className:"_31vf _10rx _6oz clearfix",style:{height:ea,width:this.props.width}},this._renderBrowseTree(da),this._renderSearch()),ca);if(!this.props.useContextualLayer)return fa;return (c('React').createElement(c('ContextualLayer.react'),{alignment:'left',contextRef:function(){return this.refs.root;}.bind(this),position:'below',shown:!this.props.hidden,key:'content'},fa));},_renderBrowseTree:function z(aa){var ba=c('Locale').isRTL()?{right:this.state.search?-this.props.width-15:0}:{left:this.state.search?-this.props.width-15:0};return (c('React').createElement('div',{className:"_5ous",style:ba},c('React').createElement('div',{className:"_15ow",ref:'scrollArea',style:{height:r}},c('React').createElement('ul',{className:"_6p5",style:{width:this.props.width}},aa))));},_renderSearch:function z(){var aa={width:this.props.width};if(c('Locale').isRTL()){aa.right=this.state.search?0:this.props.width;}else aa.left=this.state.search?0:this.props.width;return (c('React').createElement('div',{className:"_5ous",style:aa},this._renderSearchBox(),this._renderSearchList()));},_renderSearchPlaceholder:function z(){if(this.state.searchResult.length===0)return (c('React').createElement('div',{className:"_2ip7"},c('React').createElement('div',{className:"_2ip8",style:{width:this.props.width}},c('React').createElement(c('Image.react'),{src:i("22785")})),c('React').createElement('span',{className:"_2ip9"},o[this.state.searchType])));},_renderSearchList:function z(){return (c('React').createElement(x,{adAccountID:this.props.AdAccountID,entries:this.state.searchResult,highlightedEntry:this.state.mouseOverRow,renderRow:this._renderSearchResults,width:this.props.width}));},_renderSearchBox:function z(){return (c('React').createElement('div',null,c('React').createElement('div',{className:"_2ipm",style:{height:t+'px'}},c('React').createElement(c('Image.react'),{className:"_2ipn",src:i("88865"),onClick:function(){return this.setState({search:false});}.bind(this)}),c('React').createElement('div',{className:"_2ipo"},c('React').createElement(c('Image.react'),{className:"_2ipp",src:i("144056")}),c('React').createElement(y,{className:"_2ipq",placeholder:p[this.state.searchType],value:this.state.searchValue,onChange:this._onSearch,onDownArrow:this._onDownArrow,onEnter:this._onEnter,onUpArrow:this._onUpArrow}))),this._renderSearchPlaceholder()));},_renderSearchResults:function z(aa){return (c('React').createElement(c('SearchRowView.react'),{adAccountID:this.props.adAccountID,addEntry:this._addEntry,data:aa,highlight:this.state.mouseOverRow===aa,key:aa.uniqueID,mouseOver:this._onMouseOverRow,removeEntry:this._removeEntry,selected:this.selectedItems[aa.uniqueID]}));},_onSearchSelected:function z(aa){if(aa===c('AdsAPITargetFields').COLLEGE_YEARS){var ba=this._getInitialSchoolyearEntries(aa);this.props.onAddMultiEntriesAttempt(ba);}else this.setState({searchValue:null,search:true,searchType:aa,searchResult:[],mouseOverRow:null});},_getInitialSchoolyearEntries:function z(aa){var ba=c('AdsFlexibleTargetingConstants').COLLEGE_YEAR_RANGE.CURRENT,ca=c('underscore.ads').range(ba,ba+5),da=ca.map(function(ea){return {uniqueID:c('AdsAPITargetFields').COLLEGE_YEARS+'.'+ea.toString(),id:ea.toString(),type:c('AdsAPITargetFields').COLLEGE_YEARS,name:ea.toString()};});return da;},_renderRow:function z(aa,ba){var ca=void 0;if(ba.searchable){ca=c('React').createElement(c('SearchableBrowseRowView.react'),{addEntry:this._addEntry,data:ba,isSchoolYear:ba.type===c('AdsAPITargetFields').COLLEGE_YEARS,key:ba.key,level:aa,onTypeAdded:this._onSearchSelected});}else ca=c('React').createElement(c('DefaultBrowseRowView.react'),{addEntry:this._addEntry,data:ba,disabled:this.disabledItems[ba.key],highlight:this.state.mouseOverRow===ba,key:ba.key,level:aa,mouseOver:this._onMouseOverRow,removeEntry:this._removeEntry,rowExpanded:ba.key in this._expandedItems,selected:this.selectedItems[ba.key],toggleExpand:this._toggleExpand});if(!(ba.children&&ba.key in this._expandedItems))return [ca];return [ca,ba.children.map(this._renderRow.bind(this,aa+1))];},_checkIfNodeSelected:function z(aa,ba){if(aa.uniqueID in ba){this.selectedItems[aa.key]=true;return;}if(!aa.children){this.selectedItems[aa.key]=false;return;}aa.children.forEach(function(da){return this._checkIfNodeSelected(da,ba);}.bind(this));var ca=aa.children.filter(function(da){return !!this.selectedItems[da.key];}.bind(this));if(ca.length===aa.children.length){this.selectedItems[aa.key]=true;}else if(ca.length===0){this.selectedItems[aa.key]=false;}else this.selectedItems[aa.key]=null;},_checkIfNodeDisabled:function z(aa,ba){if(aa.type==='countries'){this.disabledItems[aa.key]=aa.uniqueID in ba;}else if(aa.type==='country_groups'){var ca=aa.type+'.'+aa.id;this.disabledItems[aa.key]=ca in ba;}else this.disabledItems[aa.key]=false;if(aa.children)aa.children.forEach(function(da){return this._checkIfNodeDisabled(da,ba);}.bind(this));},_openToPath:function z(aa,ba){if(!aa||!ba)return;var ca=aa.shift();ba.forEach(function(da,ea){if(ca==da.name.toString()){this._scrollTop+=q*(ea+1);this._expandedItems[da.key]=true;if(da.children)this._openToPath(aa,da.children);}else delete this._expandedItems[da.key];}.bind(this));},_onSearch:function z(event){this.setState({searchValue:event.target.value});this.props.searchSource.searchImpl(event.target.value,this._onFetchResult,{type:this.state.searchType});},_onFetchResult:function z(aa,ba,ca){if(ca&&ca.type==this.state.searchType)this.setState({searchResult:aa,mouseOverRow:aa[0]});},_toggleExpand:function z(aa){if(aa.children)if(aa.key in this._expandedItems){delete this._expandedItems[aa.key];var ba=aa.path?aa.path.slice():[];this.props.openToPath&&this.props.openToPath(ba);}else{var ba=aa.path?aa.path.slice():[];ba.push(aa.name.toString());this.props.openToPath&&this.props.openToPath(ba);}},_addEntry:function z(aa){this.props.onAddEntryAttempt(aa);},_removeEntry:function z(aa){this.props.onRemoveEntryAttempt(aa);},_onMouseLeave:function z(){if(this.state.mouseOverRow)this.setState({mouseOverRow:false});},_onMouseOverRow:function z(aa){if(aa)this.setState({mouseOverRow:aa});},_onMouseDown:function z(){c('AdsSBAreaClicked').setAreaClicked(this.props.uniqueID,true);},_onEnter:function z(){if(this.state.mouseOverRow)if(this.selectedItems[this.state.mouseOverRow.uniqueID]){this._removeEntry(this.state.mouseOverRow);}else this._addEntry(this.state.mouseOverRow);},_onUpArrow:function z(aa){var ba=this.state.searchResult.indexOf(this.state.mouseOverRow);ba=ba===0?ba:ba-1;this.setState({mouseOverRow:this.state.searchResult[ba]});aa.preventDefault();},_onDownArrow:function z(aa){var ba=this.state.searchResult.indexOf(this.state.mouseOverRow);ba=ba===this.state.searchResult.length-1?ba:ba+1;this.setState({mouseOverRow:this.state.searchResult[ba]});aa.preventDefault();}}),x=c('React').createClass({displayName:'SearchResultView',mixins:[c('AdsFlexibleTargetingEntriesViewMixin.react')],propTypes:{entries:n.array.isRequired,highlightedEntry:n.any,renderRow:n.func.isRequired,width:n.number},getDefaultProps:function z(){return {scrollHeight:u};},render:function z(){var aa=c('joinClasses')(this.props.className,"_15ow");return (c('React').createElement('div',{className:aa,ref:'scrollArea',style:{width:this.props.width,height:this.props.scrollHeight}},c('React').createElement('ul',null,this.props.entries.map(function(ba){return this.props.renderRow(ba);}.bind(this)))));}});l=babelHelpers.inherits(y,c('React').Component);m=l&&l.prototype;y.prototype.render=function(){var z=this.props,aa=z.className,ba=babelHelpers.objectWithoutProperties(z,['className']);return (c('React').createElement(c('AbstractTextField.react'),babelHelpers['extends']({},ba,{useLabel:false}),c('React').createElement('input',{className:aa})));};function y(){l.apply(this,arguments);}f.exports=w;}),null);
__d('AdsFlexibleTargetingEntriesView.react',['cx','fbt','AdsFlexibleTargetingEntriesViewMixin.react','AdsSBAreaClicked','AdsSBTokenizerConstants','AdsSBTokenizerWhiteBoxContainer.react','AdsTargetingWebdriverIDs','React','SearchRowView.react','SearchableEntry'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('AdsSBTokenizerConstants').ROW.HEIGHT,l=c('AdsSBTokenizerConstants').FLEXIBLE_TARGETING.HEIGHT,m=c('AdsSBTokenizerConstants').WHITE_BOX.WIDTH,n=c('React').createClass({displayName:'AdsFlexibleTargetingEntriesView',mixins:[c('AdsFlexibleTargetingEntriesViewMixin.react')],propTypes:{adAccountID:j.string.isRequired,highlightedEntry:j.object,entries:j.array.isRequired,onSelect:j.func.isRequired,onHighlight:j.func,width:j.number.isRequired,uniqueID:j.string.isRequired},getDefaultProps:function o(){return {scrollHeight:l};},render:function o(){var p=this.props.entries;if(!p||!p.length)return (c('React').createElement('div',{className:"_1y42 _hpl _2ip7 _2ip9",style:{width:this.props.width,height:l+'px',lineHeight:l-1+'px'}},i._("No results found")));var q=p.map(function(t){return this._renderRow(t);}.bind(this)),r=void 0,s=this.props.width;if(this.props.highlightedEntry){r=c('React').createElement('div',{className:"_hpi"},c('React').createElement(c('AdsSBTokenizerWhiteBoxContainer.react'),babelHelpers['extends']({},this.props,{height:l,info:this.props.highlightedEntry,type:c('AdsSBTokenizerConstants').ACTIVE_STATES.SEARCH,uniqueID:this.props.uniqueID})));s=this.props.width+m;}return (c('React').createElement('div',{className:"_1y42"+(this.props.showWhiteBox?' '+"_2ui8":''),'data-testid':c('AdsTargetingWebdriverIDs').TARGETING_FLEXIBLE_TARGETING_ENTRIES_VIEW,onMouseDown:this._onMouseDown,onMouseLeave:this._onMouseLeave},c('React').createElement('ul',{className:"_hpl clearfix",style:{width:s}},c('React').createElement('div',{className:"_hpp _hpj",style:{width:this.props.width}},c('React').createElement('div',{className:"_15ow",ref:'scrollArea',style:{width:this.props.width,height:l}},c('React').createElement('div',{className:"_hpt",style:{width:this.props.width-1,minHeight:l}},q)),r))));},_renderRow:function o(p){return (c('React').createElement(c('SearchRowView.react'),{adAccountID:this.props.adAccountID,addEntry:this.props.onSelect,data:p,highlight:p===this.props.highlightedEntry,key:p.getUniqueID(),mouseOver:this._onMouseOverRow,removeEntry:this.props.onSelect,selected:this.props.selectedEntry[p.getUniqueID()],showType:true}));},_onMouseOverRow:function o(p){if(p&&this.props.onHighlight)this.props.onHighlight(p);},_onMouseLeave:function o(){this.props.onHighlight&&this.props.onHighlight();},_onMouseDown:function o(){c('AdsSBAreaClicked').setAreaClicked(this.props.uniqueID,true);}});f.exports=n;}),null);
__d('AdsFlexibleTargetingNUXActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h={SHOW:'',SHOWN:'',CLOSE:'',USED:''};f.exports=c('keyMirrorRecursive')(h,'ADS_FLEXIBLE_TARGETING_NUX_ACTIONS');}),null);
__d('AdsFlexibleTargetingNUXActions',['AdsDispatcher','AdsFlexibleTargetingNUXActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h={showNUX:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({data:{componentID:j},type:c('AdsFlexibleTargetingNUXActionTypes').SHOW});},nuxShown:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsFlexibleTargetingNUXActionTypes').SHOWN});},closeNUX:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsFlexibleTargetingNUXActionTypes').CLOSE});},flexibleTargetingUsed:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsFlexibleTargetingNUXActionTypes').USED});}};f.exports=h;}),null);
__d('AdsFlexibleTargetingNUX.react',['cx','AdsFlexibleTargetingConstants','XUIContextualDialog.react','React','XUIButton.react','emptyFunction'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=442,m=c('AdsFlexibleTargetingConstants').NUX_BUTTON_TEXT,n=c('AdsFlexibleTargetingConstants').NUX_PAGE_HEADER,o=c('AdsFlexibleTargetingConstants').NUX_PAGE_TEXT;i=babelHelpers.inherits(p,c('React').Component);j=i&&i.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=j.constructor).call.apply(q,[this].concat(t)),this.renderLayers=function(){return (c('React').createElement(c('XUIContextualDialog.react'),{alignment:'left',contextRef:function(){return this.refs.root;}.bind(this),offsetY:12,position:'above',shown:this.props.shown,width:l,key:'content'},c('React').createElement('div',{className:"_5444"},c('React').createElement('div',{className:"_2jrm"}),c('React').createElement('div',{className:"_2jru"},n),c('React').createElement('div',{className:"_2jrv"},o),c('React').createElement(c('XUIButton.react'),{className:"_2jrw",label:m,use:'confirm',onClick:this.props.onClick}))));}.bind(this),r;}p.prototype.render=function(){return c('React').createElement('span',null,c('React').createElement('div',{ref:'root'}),this.renderLayers());};p.propTypes={shown:k.bool.isRequired,onClick:k.func.isRequired};p.defaultProps={onClick:c('emptyFunction')};f.exports=p;}),null);
__d("XDetailedTargetingNUXController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ads\/targeting\/flexible_targeting\/nux\/",{has_user_seen:{type:"Bool",defaultValue:false},has_user_used:{type:"Bool",defaultValue:false}});}),null);
__d('AdsFlexibleTargetingDataLoader',['AsyncRequest','URI','XDetailedTargetingNUXController'],(function a(b,c,d,e,f,g){'use strict';function h(k){new (c('AsyncRequest'))().setURI(k).setMethod('POST').send();}function i(){var k=c('XDetailedTargetingNUXController').getURIBuilder().setBool('has_user_seen',true).getURI();h(k);}function j(){var k=c('XDetailedTargetingNUXController').getURIBuilder().setBool('has_user_used',true).getURI();h(k);}f.exports={markUserSeenNUX:i,markUserUsedFlexibleTargeting:j};}),null);
__d('AdsFlexibleTargetingNUXUIStore',['AdsDispatcher','AdsFlexibleTargetingNUXActionTypes','AdsFlexibleTargetingDataLoader','AdsFlexibleTargetingNUXConfig','FluxStore','adsBaseStoreMixin'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$AdsFlexibleTargetingNUXUIStoreClass2=c('AdsFlexibleTargetingNUXConfig').hasUserSeen;this.$AdsFlexibleTargetingNUXUIStoreClass3=c('AdsFlexibleTargetingNUXConfig').hasUserUsed;this.$AdsFlexibleTargetingNUXUIStoreClass4=false;}j.prototype.getStoreName=function(){return 'AdsFlexibleTargetingNUXUIStore';};j.prototype.getShouldShowNUXForComponent=function(l){return !this.$AdsFlexibleTargetingNUXUIStoreClass2&&!this.$AdsFlexibleTargetingNUXUIStoreClass3&&this.$AdsFlexibleTargetingNUXUIStoreClass1===l;};j.prototype.getHasNUXBeenRendered=function(){return this.$AdsFlexibleTargetingNUXUIStoreClass4;};j.prototype.__onDispatch=function(l){var m=l.action;switch(m.actionType){case c('AdsFlexibleTargetingNUXActionTypes').SHOW:this.$AdsFlexibleTargetingNUXUIStoreClass1=m.data.componentID;this.__emitChange();break;case c('AdsFlexibleTargetingNUXActionTypes').SHOWN:this.$AdsFlexibleTargetingNUXUIStoreClass4=true;break;case c('AdsFlexibleTargetingNUXActionTypes').CLOSE:if(!this.$AdsFlexibleTargetingNUXUIStoreClass2){c('AdsFlexibleTargetingDataLoader').markUserSeenNUX();this.$AdsFlexibleTargetingNUXUIStoreClass2=true;this.__emitChange();}break;case c('AdsFlexibleTargetingNUXActionTypes').USED:if(!this.$AdsFlexibleTargetingNUXUIStoreClass3){c('AdsFlexibleTargetingDataLoader').markUserUsedFlexibleTargeting();this.$AdsFlexibleTargetingNUXUIStoreClass3=true;this.__emitChange();}break;}};var k=new j();f.exports=k;}),null);
__d('AdsFlexibleTargetingNUXContainer.react',['AdsFlexibleTargetingNUXActions','AdsFlexibleTargetingNUXUIStore','AdsFlexibleTargetingNUX.react','React','ReactComponentWithPureRenderMixin','StoreAndPropBasedStateMixin'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'AdsFlexibleTargetingNUXContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('StoreAndPropBasedStateMixin')(c('AdsFlexibleTargetingNUXUIStore'))],propTypes:{componentID:h.string.isRequired,onClose:h.func.isRequired},statics:{calculateState:function j(k){var l=c('AdsFlexibleTargetingNUXUIStore').getShouldShowNUXForComponent(k.componentID);return {shown:l};}},render:function j(){return (c('React').createElement(c('AdsFlexibleTargetingNUX.react'),{shown:this.state.shown,onClick:this._handleClick}));},_handleClick:function j(){c('AdsFlexibleTargetingNUXActions').closeNUX();this.props.onClose();}});f.exports=i;}),null);
__d('AdsFlexibleTargetingPresenterWarning',['cx','fbt','ix','BUIAdoptionCloseButton.react','AdsFlexibleTargetingConstants','Image.react','Layout.react','Link.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes,n=c('Layout.react').Column,o=c('Layout.react').FillColumn;k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.$AdsFlexibleTargetingPresenterWarning2=function(){var v=null;switch(this.props.warningMode){case c('AdsFlexibleTargetingConstants').FLEXIBLE_TARGETING_WARNING_MODE.INCLUDE_REPLACE:v=c('React').createElement(c('Link.react'),{onClick:this.props.onUndo},i._("Undo change"));break;default:break;}return v;}.bind(this),this.$AdsFlexibleTargetingPresenterWarning1=function(){var v=null;switch(this.props.warningMode){case c('AdsFlexibleTargetingConstants').FLEXIBLE_TARGETING_WARNING_MODE.INCLUDE_REPLACE:v=i._("You have selected all {number of leaf nodes\/interests} items under {selected interests which has more than 10 children}. Your audience may be too broad.",[i.param('number of leaf nodes/interests',c('React').createElement('b',null,this.props.leafNum)),i.param('selected interests which has more than 10 children',c('React').createElement('b',null,this.props.parentInterest))]);break;default:break;}return (c('React').createElement('div',null,v,c('React').createElement('span',{className:"mls"}),this.$AdsFlexibleTargetingPresenterWarning2()));}.bind(this),r;}p.prototype.render=function(){return c('React').createElement('div',{className:this.props.className},c('React').createElement(c('Layout.react'),{className:"_4_07"},c('React').createElement(n,{className:"_4_08"},c('React').createElement('div',null,c('React').createElement(c('Image.react'),{src:j("22283")}))),c('React').createElement(o,{className:"_4_09"},c('React').createElement('div',null,this.$AdsFlexibleTargetingPresenterWarning1())),c('React').createElement(n,{className:"_4_0g"},c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionCloseButton.react'),{onClick:this.props.onClickCloseButton})))));};p.propTypes={className:m.string.isRequired,leafNum:m.number.isRequired,parentInterest:m.string.isRequired,onClickCloseButton:m.func.isRequired,onUndo:m.func.isRequired,warningMode:m.string.isRequired};f.exports=p;}),null);
__d('AdsSBTypeahead.react',['cx','AbstractTypeahead.react','React','SearchableEntry','TypeaheadMetricReporter','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={queryString:''},this.$AdsSBTypeahead4=function(){this.props.metricReporter&&this.props.metricReporter.sessionStart();}.bind(this),this.$AdsSBTypeahead1=function(){this.props.metricReporter&&this.props.metricReporter.sessionEnd();}.bind(this),this.$AdsSBTypeahead3=function(r){var s=r.map(function(u){return u.getUniqueID();}),t=s.map(function(u){return u.substring(u.indexOf('.')+1);});this.props.metricReporter&&this.props.metricReporter.reportResults(t,this.state.queryString);this.props.metricReporter&&this.props.metricReporter.reportResultsAds(s);}.bind(this),this.$AdsSBTypeahead6=function(r){if(r){if(this.props.metricReporter){this.props.metricReporter.reportSelect(r.id||r.getUniqueID(),r.type||r.getType(),r.order||r.getOrder(),true);this.props.metricReporter.sessionEnd();this.props.metricReporter.sessionStart();}this.props.onSelectAttempt&&this.props.onSelectAttempt(r);this.props.shouldClearOnSelect&&this.clearTypeahead();if(!r.numLeafCategories)setTimeout(function(){if(!this.$AdsSBTypeahead7)return;this.focusTypeahead();this.props.onClick&&this.props.onClick();}.bind(this));}}.bind(this),this.$AdsSBTypeahead2=function(event){var r=event.target.value;this.props.onInputChange&&this.props.onInputChange(event);this.setState({queryString:r});this.props.metricReporter&&this.props.metricReporter.reportQueryBegin(r);}.bind(this),this.$AdsSBTypeahead5=function(event){if(event&&event.clipboardData&&event.clipboardData.getData){var r=event.clipboardData.getData('text/plain');if(!r)return;var s=r.split(',').map(function(u){return u.trim();});if(s.length===1)return;var t=this.props.validationSource;if(t){t.getMetadata(s,this.$AdsSBTypeahead8);this.props.onClick&&this.props.onClick();}}return false;}.bind(this),this.$AdsSBTypeahead8=function(r){this.props.onMultiAddEntries&&this.props.onMultiAddEntries(r);}.bind(this),this.focusTypeahead=function(){this.refs.typeahead.focusInput();}.bind(this),this.clearTypeahead=function(){this.setState({queryString:''});}.bind(this),this.hideView=function(){this.refs.typeahead.hideView();}.bind(this),n;}l.prototype.render=function(){'use strict';var m=this.props,n=m.size,o=babelHelpers.objectWithoutProperties(m,['size']),p=c('joinClasses')("_1y42"+(n==='large'?' '+"_2liv":'')+(n==='xlarge'?' '+"_4w3g":''),this.props.className),q=this.props.placeholder;return c('React').createElement(c('AbstractTypeahead.react'),babelHelpers['extends']({},o,{autoHighlight:true,className:p,hideViewWithEntries:false,placeholder:q,queryString:this.state.queryString,ref:'typeahead',selectedEntry:this.props.hasSelectedEntries?this.props.selectedEntry:null,onBlur:this.$AdsSBTypeahead1,onChange:this.$AdsSBTypeahead2,onEntriesFound:this.$AdsSBTypeahead3,onFocus:this.$AdsSBTypeahead4,onPaste:this.$AdsSBTypeahead5,onSelectAttempt:this.$AdsSBTypeahead6}));};l.prototype.componentDidMount=function(){'use strict';this.$AdsSBTypeahead7=true;};l.prototype.componentWillUnmount=function(){'use strict';this.$AdsSBTypeahead7=false;};l.propTypes={excludedEntries:k.object.isRequired,searchSource:k.object.isRequired,validationSource:k.object,onSelectAttempt:k.func,onInputChange:k.func,onMultiAddEntries:k.func,placeholder:k.string,shouldClearOnSelect:k.bool,hasSelectedEntries:k.bool,metricReporter:k.instanceOf(c('TypeaheadMetricReporter'))};l.defaultProps={shouldClearOnSelect:true,hasSelectedEntries:false};f.exports=l;}),null);
__d('AdsFlexibleTargetingDropDownSelector.react',['cx','AdsFlexibleTargetingConstants','Layout.react','PopoverMenu.react','React','ReactDOM','ReactMenu','XUIPopoverButton.react','XUITextInput.react','underscore.ads'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('Layout.react').Column,l=c('Layout.react').FillColumn,m=c('ReactMenu').Item,n=c('React').PropTypes,o=c('AdsFlexibleTargetingConstants').COLLEGE_YEAR_RANGE.MAX_YEAR,p=c('AdsFlexibleTargetingConstants').COLLEGE_YEAR_RANGE.MIN_YEAR,q=c('underscore.ads').range(o,p-1,-1),r="_60g _60h",s="_60h";i=babelHelpers.inherits(t,c('React').Component);j=i&&i.prototype;function t(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=j.constructor).call.apply(u,[this].concat(x)),this.state={menuShown:false,start:c('underscore.ads').first(this.props.sortedYearEntries).id,end:c('underscore.ads').last(this.props.sortedYearEntries).id,isEditingStart:false,isEditingEnd:false},this.$AdsFlexibleTargetingDropDownSelector1=function(){var z=this.$AdsFlexibleTargetingDropDownSelector3('start',c('underscore.ads').first(this.props.sortedYearEntries).id,this.$AdsFlexibleTargetingDropDownSelector4),aa="_60w"+(this.state.isEditingStart?' '+"_60x":''),ba="_60y"+(this.state.isEditingStart?' '+"_60z":'');return (c('React').createElement(k,{className:"_60-"},c('React').createElement(c('XUITextInput.react'),{className:aa,maxLength:4,placeholder:'YYYY',value:this.state.start,onBlur:function(ca){return this.$AdsFlexibleTargetingDropDownSelector5(true,ca.target.value);}.bind(this),onChange:function(ca){return this.$AdsFlexibleTargetingDropDownSelector6(true,ca.target.value);}.bind(this),onFocus:function(ca){return this.$AdsFlexibleTargetingDropDownSelector7(true,ca.target.value);}.bind(this)}),c('React').createElement(c('PopoverMenu.react'),{alignh:'right',menu:z,position:'below',onHide:this.$AdsFlexibleTargetingDropDownSelector8,onShow:this.$AdsFlexibleTargetingDropDownSelector9},c('React').createElement(c('XUIPopoverButton.react'),{className:ba,size:'large'}))));}.bind(this),this.$AdsFlexibleTargetingDropDownSelector2=function(){var z=this.$AdsFlexibleTargetingDropDownSelector3('end',c('underscore.ads').last(this.props.sortedYearEntries).id,this.$AdsFlexibleTargetingDropDownSelector10),aa="_60w"+(this.state.isEditingEnd?' '+"_60x":''),ba="_60y"+(this.state.isEditingEnd?' '+"_60z":'');return (c('React').createElement(l,{className:"_619"},c('React').createElement(c('XUITextInput.react'),{className:aa,maxLength:4,placeholder:'YYYY',value:this.state.end,onBlur:function(ca){return this.$AdsFlexibleTargetingDropDownSelector5(false,ca.target.value);}.bind(this),onChange:function(ca){return this.$AdsFlexibleTargetingDropDownSelector6(false,ca.target.value);}.bind(this),onFocus:function(ca){return (this.$AdsFlexibleTargetingDropDownSelector7(false,ca.target.value));}.bind(this)}),c('React').createElement(c('PopoverMenu.react'),{alignh:'right',menu:z,position:'below',onHide:this.$AdsFlexibleTargetingDropDownSelector8,onShow:this.$AdsFlexibleTargetingDropDownSelector9},c('React').createElement(c('XUIPopoverButton.react'),{className:ba,size:'large'}))));}.bind(this),this.$AdsFlexibleTargetingDropDownSelector3=function(z,aa,ba){var ca=q.map(function(da){var ea=ea+da.toString();return (c('React').createElement(m,{className:aa===da.toString()?r:s,key:ea,value:da.toString()},c('React').createElement('div',{className:"_61a"},da)));});return (c('React').createElement(c('ReactMenu'),{className:"_61b",onItemClick:ba},ca));},this.$AdsFlexibleTargetingDropDownSelector7=function(z,aa){if(z){this.setState({isEditingStart:true});}else this.setState({isEditingEnd:true});}.bind(this),this.$AdsFlexibleTargetingDropDownSelector5=function(z,aa){if(z){this.setState({isEditingStart:false});}else this.setState({isEditingEnd:false});this.$AdsFlexibleTargetingDropDownSelector11(z,aa);}.bind(this),this.$AdsFlexibleTargetingDropDownSelector11=function(z,aa){var ba=this.props.sortedYearEntries,ca=parseInt(c('underscore.ads').first(ba).id,10),da=parseInt(c('underscore.ads').last(ba).id,10),ea=parseInt(aa,10);if(isNaN(ea)||ea<p||ea>o){if(z){this.setState({start:c('underscore.ads').first(ba).id});}else this.setState({end:c('underscore.ads').last(ba).id});return;}var fa=[];if(z){fa=this.$AdsFlexibleTargetingDropDownSelector12(ea,Math.max(da,ea));}else fa=this.$AdsFlexibleTargetingDropDownSelector12(Math.min(ca,ea),ea);this.props.onChangeSchoolyearEntries(fa);}.bind(this),this.$AdsFlexibleTargetingDropDownSelector9=function(){this.setState({menuShown:true});}.bind(this),this.$AdsFlexibleTargetingDropDownSelector8=function(){this.setState({menuShown:false});}.bind(this),this.$AdsFlexibleTargetingDropDownSelector4=function(z,aa){var ba=aa.item.getValue();this.$AdsFlexibleTargetingDropDownSelector11(true,ba);}.bind(this),this.$AdsFlexibleTargetingDropDownSelector10=function(z,aa){var ba=aa.item.getValue();this.$AdsFlexibleTargetingDropDownSelector11(false,ba);}.bind(this),this.$AdsFlexibleTargetingDropDownSelector6=function(z,aa){if(z){this.setState({start:aa});}else this.setState({end:aa});}.bind(this),this.$AdsFlexibleTargetingDropDownSelector12=function(z,aa){return c('underscore.ads').range(z,aa+1).map(function(ba){return {id:ba.toString(),type:'college_years',name:ba.toString(),uniqueID:'college_years'+'.'+ba.toString()};});},v;}t.prototype.render=function(){var u=this.$AdsFlexibleTargetingDropDownSelector1(),v=this.$AdsFlexibleTargetingDropDownSelector2();return c('React').createElement(c('Layout.react'),{className:"_60k",ref:'dropDownSelector'},u,c('React').createElement(k,{className:"_60l"},c('React').createElement('div',null,'\u2014')),v);};t.prototype.componentDidMount=function(){if(this.props.sortedYearEntries.length>0){var u=c('underscore.ads').first(this.props.sortedYearEntries),v=u.type+'.'+u.id;if(this.props.addedEntryUniqueID===v){var w=c('ReactDOM').findDOMNode(this.refs.dropDownSelector);if(w.scrollIntoViewIfNeeded)w.scrollIntoViewIfNeeded();}}};t.prototype.componentWillReceiveProps=function(u){if(!c('underscore.ads').isEqual(this.props.sortedYearEntries,u.sortedYearEntries)&&u.sortedYearEntries.length>0)this.setState({start:c('underscore.ads').first(u.sortedYearEntries).id,end:c('underscore.ads').last(u.sortedYearEntries).id});};t.propTypes={onChangeSchoolyearEntries:n.func.isRequired,sortedYearEntries:n.array.isRequired,addedEntryUniqueID:n.string.isRequired};f.exports=t;}),null);
__d('AdsTargetingSearchBrowseTokenizerListItem.react',['cx','fbt','AdsFlexibleTargetingConstants','AdsSBTokenizerConstants','Animation','AdsSBTokenizerWhiteBoxContainer.react','ContextualLayer.react','BUIAdoptionCloseButton.react','React','ReactDOM','Style','idx'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=-35,m='right';j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={showToolTip:false},this.$AdsTargetingSearchBrowseTokenizerListItem3=function(){var t=this.props.entry.type+'.'+this.props.entry.id,u=babelHelpers['extends']({},this.props.entry,{uniqueID:t});this.props.onRemoveEntry&&this.props.onRemoveEntry(u);}.bind(this),this.$AdsTargetingSearchBrowseTokenizerListItem1=function(){this.setState({showToolTip:true});}.bind(this),this.$AdsTargetingSearchBrowseTokenizerListItem2=function(){this.setState({showToolTip:false});}.bind(this),p;}n.prototype.render=function(){var o="_2pji",p=this.props.entry.name;if(p===this.props.groupTitle){p=c('React').createElement('div',{className:"_2pjo"},i._(["All {interest}","c4a3c241d504da673a47ca96ae1af67e"],[i.param('interest',this.props.entry.name)]));}else p=c('React').createElement('div',{className:"_2pjo"},p);return c('React').createElement('div',{ref:'entryWhiteBoxLayer'},c('React').createElement('li',{className:o,onMouseEnter:this.$AdsTargetingSearchBrowseTokenizerListItem1,onMouseLeave:this.$AdsTargetingSearchBrowseTokenizerListItem2},p,c('React').createElement(c('BUIAdoptionCloseButton.react'),{className_DEPRECATED:"_2pjp",onClick:this.$AdsTargetingSearchBrowseTokenizerListItem3})),this.renderLayers());};n.prototype.renderLayers=function(){var o,p,q=this.state.showToolTip&&((o=this.props)!=null?(p=o.entry)!=null?p.hasMoreInfo:p:o);return c('React').createElement(c('ContextualLayer.react'),{alignment:this.props.tooltipOptions.alignment,context:this,offsetY:this.props.tooltipOptions.yOffset?this.props.tooltipOptions.yOffset:l,position:this.props.tooltipOptions.position?this.props.tooltipOptions.position:m,shown:q},c('React').createElement('div',{className:"_2455",onMouseEnter:this.$AdsTargetingSearchBrowseTokenizerListItem1,onMouseLeave:this.$AdsTargetingSearchBrowseTokenizerListItem2},c('React').createElement(c('AdsSBTokenizerWhiteBoxContainer.react'),{info:this.props.entry,openToPath:this.props.openToPath,showArrow:true,showPerformanceCost:this.props.showPerformanceCost,showPerformanceRating:this.props.showPerformanceRating,type:c('AdsSBTokenizerConstants').ACTIVE_STATES.BROWSE,uniqueID:this.props.componentID})));};n.prototype.componentDidMount=function(){var o,p=this,q=this.props.entry.type+'.'+this.props.entry.id;if(this.props.addedEntryUniqueID===q)(function(){var r=c('ReactDOM').findDOMNode(p.refs.entryWhiteBoxLayer);if(r.scrollIntoViewIfNeeded)r.scrollIntoViewIfNeeded();c('Style').set(r,'background',c('AdsFlexibleTargetingConstants').PRESENTER_ANIMATION.ANIMATION_COLOR);new (c('Animation'))(r).to('background',c('AdsFlexibleTargetingConstants').PRESENTER_ANIMATION.ORIGIN_COLOR).duration(c('AdsFlexibleTargetingConstants').PRESENTER_ANIMATION.DURATION).ondone(function(){c('Style').set(r,'background','');}).go();})();};f.exports=n;}),null);
__d('AdsTargetingSearchBrowseTokenizerListGroup.react',['cx','AdsAPITargetFields','AdInterfacesUiLogger','AdsSBAreaClicked','AdsTargetingSearchBrowseTokenizerListItem.react','AdsFlexibleTargetingDropDownSelector.react','BUIAdoptionCloseButton.react','AdsFlexibleTargetingConstants','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={active:false},this.$AdsTargetingSearchBrowseTokenizerListGroup1=function(r){return (c('React').createElement(c('AdsFlexibleTargetingDropDownSelector.react'),{addedEntryUniqueID:this.props.addedEntryUniqueID,sortedYearEntries:r,onChangeSchoolyearEntries:this.props.onChangeSchoolyearEntries}));}.bind(this),this.$AdsTargetingSearchBrowseTokenizerListGroup2=function(r){var s=r.type+'.'+r.id;return (c('React').createElement(c('AdsTargetingSearchBrowseTokenizerListItem.react'),babelHelpers['extends']({},this.props,{entry:r,groupTitle:this.props.title,key:s})));}.bind(this),this.$AdsTargetingSearchBrowseTokenizerListGroup3=function(r){if(!r||r.length===0)return null;var s=[],t="_2nop _43o5";r.forEach(function(u,v){if(v!==0)s.push(c('React').createElement('span',{className:t,key:'breadcrumb_spacer_'+v},' > '));s.push(c('React').createElement('span',{className:"_2noq",key:'breadcrumb_'+v,onMouseDown:function(){return this.$AdsTargetingSearchBrowseTokenizerListGroup7(r.slice(0,v+1));}.bind(this)},r[v]));}.bind(this));return s;}.bind(this),this.$AdsTargetingSearchBrowseTokenizerListGroup7=function(r){c('AdsSBAreaClicked').setAreaClicked(this.props.componentID,true);this.setState({popoverDisabled:true});this.props.openToPath&&this.props.openToPath(r);}.bind(this),this.$AdsTargetingSearchBrowseTokenizerListGroup4=function(){this.setState({active:true});}.bind(this),this.$AdsTargetingSearchBrowseTokenizerListGroup5=function(){this.setState({active:false});}.bind(this),this.$AdsTargetingSearchBrowseTokenizerListGroup6=function(){var r=this.props.entryGroup.entries.map(function(s){var t=babelHelpers['extends']({},s,{uniqueID:s.type+'.'+s.id});return t;});this.props.onRemoveMultiEntries&&this.props.onRemoveMultiEntries(r);}.bind(this),n;}l.prototype.render=function(){var m=[];if(this.props.entryGroup.type===c('AdsAPITargetFields').COLLEGE_YEARS){var n=this.props.entryGroup.entries.sort(function(u,v){return parseInt(u.id,10)-parseInt(v.id,10);});m=this.$AdsTargetingSearchBrowseTokenizerListGroup1(n);}else m=this.props.entryGroup.entries.sort(function(u,v){return u.name.localeCompare(v.name);}).map(this.$AdsTargetingSearchBrowseTokenizerListGroup2);var o="_43n_"+(this.state.active?' '+"_43o0":''),p="_43o1 _43o2",q=this.props.title,r=this.props.entryGroup.entries[0].path;if(r&&r.length)q=this.$AdsTargetingSearchBrowseTokenizerListGroup3(r);var s="_2pjp",t=c('React').createElement('li',{className:p,onMouseEnter:this.$AdsTargetingSearchBrowseTokenizerListGroup4,onMouseLeave:this.$AdsTargetingSearchBrowseTokenizerListGroup5},q,c('React').createElement(c('BUIAdoptionCloseButton.react'),{className_DEPRECATED:s,onClick:this.$AdsTargetingSearchBrowseTokenizerListGroup6}));return c('React').createElement('ul',{className:o},t,c('React').createElement('li',null,c('React').createElement('ul',null,m)));};l.propTypes={title:k.string.isRequired,entryGroup:k.shape({type:k.string.isRequired,entries:k.array.isRequired}).isRequired,onChangeSchoolyearEntries:k.func.isRequired,onRemoveMultiEntries:k.func.isRequired,onRemoveEntry:k.func.isRequired,openToPath:k.func.isRequired,addedEntryUniqueID:k.string.isRequired,componentID:k.string.isRequired,tooltipOptions:k.object};f.exports=l;}),null);
__d('AdsTargetingSearchBrowseTokenizerList.react',['cx','AdsFlexibleTargetingConstants','AdsSearchBrowseUtils','AdsTargetingSearchBrowseTokenizerListGroup.react','React','XUIAmbientNUX.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=c('AdsFlexibleTargetingConstants').DEFAULT_PATH,m=c('AdsFlexibleTargetingConstants').NUX_PRESENTER_TEXT,n=c('AdsFlexibleTargetingConstants').NUX_PRESENTER_TITLE;i=babelHelpers.inherits(o,c('React').Component);j=i&&i.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.renderLayers=function(){return (c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:this.$AdsTargetingSearchBrowseTokenizerList1,customwidth:280,key:'nux',position:'right',shown:this.props.showPresenterTipNux,width:'custom',onCloseButtonClick:this.props.onNuxCloseButtonClick},c('React').createElement('b',null,n,': '),m));}.bind(this),this.$AdsTargetingSearchBrowseTokenizerList2=function(u){var v={},w=[];u.forEach(function(x){var y=x.type+'.'+x.id;if(!(y in v)){v[y]=true;w.push(x);}});return w;},this.$AdsTargetingSearchBrowseTokenizerList3=function(u){var v=this.$AdsTargetingSearchBrowseTokenizerList4(u),w=Object.keys(v).sort(function(y,z){return y.localeCompare(z);}),x=w.map(function(y){return (c('React').createElement(c('AdsTargetingSearchBrowseTokenizerListGroup.react'),babelHelpers['extends']({},this.props,{entryGroup:v[y],key:y,title:y})));}.bind(this));return x;}.bind(this),this.$AdsTargetingSearchBrowseTokenizerList4=function(u){var v={};u.forEach(function(w){if(!w.path||w.path.length<=1)w.path=l;var x=w.path.join(', ');if(x in v){v[x].entries.push(w);}else v[x]={type:w.type,entries:[w]};});return v;},this.$AdsTargetingSearchBrowseTokenizerList1=function(){return this.refs.presenterList;}.bind(this),q;}o.prototype.render=function(){var p=this.props.newEntries&&this.$AdsTargetingSearchBrowseTokenizerList2(this.props.newEntries);if(p.length===0)return null;var q=this.$AdsTargetingSearchBrowseTokenizerList3(p),r={width:this.props.width};return c('React').createElement('div',null,c('React').createElement('div',{className:"_3vxx",ref:'presenterList',style:r},c('React').createElement('div',{className:"_98g"},q)),this.renderLayers());};o.propTypes={adAccountID:k.string,newEntries:k.arrayOf(k.shape({id:k.string.isRequired,type:k.string.isRequired,name:k.string.isRequired,path:k.array})).isRequired,componentID:k.string.isRequired,onRemoveEntry:k.func.isRequired,onRemoveMultiEntries:k.func.isRequired,openToPath:k.func.isRequired,onChangeSchoolyearEntries:k.func.isRequired,addedEntryUniqueID:k.string.isRequired,width:k.number.isRequired,onNuxCloseButtonClick:k.func.isRequired,showPresenterTipNux:k.bool.isRequired,tooltipOptions:k.object};o.defaultProps={componentID:c('AdsSearchBrowseUtils').makeID()};f.exports=o;}),null);
__d('AdsUnifiedFlexibleValidationDataSource',['underscore.ads','AdsAPITargetFields','AdsFlexibleTargetingConstants','AdsGraphAPI','CurrentLocale'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsFlexibleTargetingConstants').SPECIAL_PATHS,i=c('AdsFlexibleTargetingConstants').TARGETING_TYPES_FROM_ENUM,j=c('AdsFlexibleTargetingConstants').TARGETING_TYPES_FROM_SEARCH,k=babelHelpers['extends']({},i,j),l=c('AdsFlexibleTargetingConstants').COLLEGE_YEAR_RANGE.MAX_YEAR,m=c('AdsFlexibleTargetingConstants').COLLEGE_YEAR_RANGE.MIN_YEAR,n=c('underscore.ads').range(l,m-1,-1),o={};p.getInstance=function(q){if(!o[q])o[q]=new p(q);return o[q];};function p(q){this.$AdsUnifiedFlexibleValidationDataSource1=q;this.$AdsUnifiedFlexibleValidationDataSource2={};}p.prototype.setBrowseTree=function(q){this.$AdsUnifiedFlexibleValidationDataSource3(q);this.$AdsUnifiedFlexibleValidationDataSource4(q);};p.prototype.search=function(q,r){if(q.length===0){r();return;}var s=q.filter(function(u){return u.type!=='interests';});this.$AdsUnifiedFlexibleValidationDataSource5(s);var t=q.filter(function(u){return !(u.type+'.'+u.id in this.$AdsUnifiedFlexibleValidationDataSource2);}.bind(this)).map(function(u){return u.id;});c('AdsGraphAPI').get(f.id).search('adInterestValid').get({interest_fbid_list:t,locale:c('CurrentLocale').get()}).done(function(u){this.$AdsUnifiedFlexibleValidationDataSource6(u.data,r);}.bind(this));};p.prototype.getMetadataLocal=function(q){return q.filter(function(r){return r in this.$AdsUnifiedFlexibleValidationDataSource2;}.bind(this)).map(function(r){return this.$AdsUnifiedFlexibleValidationDataSource2[r];}.bind(this));};p.prototype.getIDsNotInMetadataLocal=function(q){return q.filter(function(r){return !(r in this.$AdsUnifiedFlexibleValidationDataSource2);}.bind(this));};p.prototype.getMetadata=function(q,r){var s=q.map(function(t){return t.toLowerCase();});c('AdsGraphAPI').get(f.id).search('adInterestValid').get({interest_list:s,locale:c('CurrentLocale').get(),ignore_case:true}).done(function(t){var u=this.$AdsUnifiedFlexibleValidationDataSource7(t.data);for(var v in this.$AdsUnifiedFlexibleValidationDataSource2){var w=this.$AdsUnifiedFlexibleValidationDataSource2[v];if(!(w.type in k)&&w.name&&s.indexOf(w.name.toLowerCase())>=0)u.push(w);}r(u);}.bind(this));};p.prototype.addEntryToCache=function(q){if(!this.$AdsUnifiedFlexibleValidationDataSource2[q.uniqueID]){var r=q.path||[];if(q.type in h)r=h[q.type];this.$AdsUnifiedFlexibleValidationDataSource2[q.uniqueID]=babelHelpers['extends']({},q,{path:r,hasMoreInfo:this.$AdsUnifiedFlexibleValidationDataSource8(q)});}};p.prototype.$AdsUnifiedFlexibleValidationDataSource3=function(q){var r=q.filter(function(u){return u.key==='Demographics';})[0],s=r&&r.children&&r.children.filter(function(u){return u.name==='Education';})[0],t=s&&s.children&&s.children.filter(function(u){return (u.type===c('AdsAPITargetFields').COLLEGE_YEARS);})[0];if(t){t.children=[];n.map(function(u){var v=Object.assign({},t);delete v.children;v.id=u.toString();v.uniqueID=[c('AdsAPITargetFields').COLLEGE_YEARS,u].join('.');t.children.push(v);});}};p.prototype.$AdsUnifiedFlexibleValidationDataSource5=function(q){q.forEach(function(r){var s=r.type+'.'+r.id,t=h[r.type],u=r.name?r.name:r.id,v={name:u,path:t,type:r.type,id:r.id,uniqueID:s};if(!this.$AdsUnifiedFlexibleValidationDataSource2[s])this.$AdsUnifiedFlexibleValidationDataSource2[s]=v;}.bind(this));};p.prototype.$AdsUnifiedFlexibleValidationDataSource7=function(q){return q.filter(function(r){return r.valid;}).map(function(r){return {uniqueID:'interests'+'.'+r.id,name:r.name,title:r.name,id:r.id,type:'interests',description:r.description,reach:r.audience_size,source:r.source,path:h.interests,key:r.path?r.path.join(' > '):r.name,hasMoreInfo:this.$AdsUnifiedFlexibleValidationDataSource8(r)};}.bind(this));};p.prototype.$AdsUnifiedFlexibleValidationDataSource6=function(q,r){var s=q||[];if(!(s instanceof Array))return;var t=this.$AdsUnifiedFlexibleValidationDataSource7(s);for(var u=t,v=Array.isArray(u),w=0,u=v?u:u[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var x;if(v){if(w>=u.length)break;x=u[w++];}else{w=u.next();if(w.done)break;x=w.value;}var y=x;this.$AdsUnifiedFlexibleValidationDataSource2[y.uniqueID]=y;}r();};p.prototype.$AdsUnifiedFlexibleValidationDataSource8=function(q){return !!(q.description||q.source||q.reach||q.audience_size);};p.prototype.$AdsUnifiedFlexibleValidationDataSource4=function(q){for(var r=0;r<q.length;r++)this.$AdsUnifiedFlexibleValidationDataSource9(q[r]);};p.prototype.$AdsUnifiedFlexibleValidationDataSource9=function(q){if(q.uniqueID!==undefined){var r=babelHelpers['extends']({},q,{hasMoreInfo:this.$AdsUnifiedFlexibleValidationDataSource8(q)});this.$AdsUnifiedFlexibleValidationDataSource2[q.uniqueID]=r;}var s=q.children;if(s===undefined)return;for(var t=0;t<s.length;t++)this.$AdsUnifiedFlexibleValidationDataSource9(s[t]);};f.exports=p;}),null);
__d('AdsUnifiedSuggestionsDataSource',['TargetingSuggestionMode','TargetingSuggestionSupportedTargetingTypes'],(function a(b,c,d,e,f,g){'use strict';var h={};i.getInstance=function(j,k){var l=arguments.length<=2||arguments[2]===undefined?null:arguments[2];if(!h[k])h[k]=new i(j,k,l);return h[k];};function i(j,k){var l=arguments.length<=2||arguments[2]===undefined?null:arguments[2];if(j)this.dao=j;this.accountID=k;this.whitelistedTypes=l;}i.prototype.getSuggestions=function(j,k,l,m,n,o){if(!this.dao||m&&!Object.values(c('TargetingSuggestionMode')).includes(m))return;j=j.filter(function(q){return Object.values(c('TargetingSuggestionSupportedTargetingTypes')).includes(q.type);});var p={account_id:this.accountID,objective:k,objects:l,session_id:n,targeting_list:j,whitelisted_types:this.whitelistedTypes};if(m)p.mode=m;this.dao.fetch.unifiedSuggestionsForAccount.one(this.getSuggestionsCB.bind(this,o),p);};i.prototype.getSuggestionsCB=function(j,k){var l=k||[];if(!(l instanceof Array))return;var m=l.map(function(n,o){var p=babelHelpers['extends']({},n,{uniqueID:n.type+'.'+n.id,order:o,reach:n.audience_size,key:n.path?n.path.join(' > '):n.name,query:n.name,hasMoreInfo:!!(n.description||n.audience_size)});if(n.path&&n.path.length)p.path=n.path.slice(0,-1);return p;});j(m);};f.exports=i;}),null);
__d('AdsDetailedTargetingSuggestionNux.react',['fbt','React','XUIAmbientNUX.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=h._("You can now see which interests, behaviours and demographics have been most effective for you. Hover over a targeting option to see recent performance details, or select the Help icon to learn more."),m=h._("New! We'll show you your recently used interests, behaviours and demographics, ranked by how well they performed in your past campaigns. Select the Help icon to learn more.");i=babelHelpers.inherits(n,k);j=i&&i.prototype;n.prototype.render=function(){if(!this.props.shown)return null;var o=this.props,p=o.showPerformanceRating,q=babelHelpers.objectWithoutProperties(o,['showPerformanceRating']),r=p?l:m;return (c('React').createElement(c('XUIAmbientNUX.react'),q,r));};function n(){i.apply(this,arguments);}f.exports=n;}),null);
__d('AdsUnifiedTokenizerSuggestions.react',['cx','fbt','AdsDetailedTargetingSuggestionNux.react','AdsDistinctUIObjectives','AdsSBAreaClicked','AdsSBTokenizerConstants','AdsSBTokenizerWhiteBoxContainer.react','AdsUnifiedSuggestionsDataSource','BUIAdoptionXUIGrayText.react','ContextualLayer.react','Link.react','React','SearchRowView.react','SimpleNUXMessage','SimpleNUXMessageTypes','TypeaheadMetricReporter'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=30,l=c('AdsSBTokenizerConstants').FLEXIBLE_TARGETING.HEIGHT,m=c('AdsSBTokenizerConstants').WHITE_BOX.WIDTH;function n(q){var r=q.height,s=q.isSuggestionTab,t=q.onClick,u=s?i._("Browse or search for additional interests, behaviours and demographics to add additional targeting criteria."):i._("Select the {name of suggested tab} or search for additional interests, behaviours and demographics to add additional targeting criteria.",[i.param('name of suggested tab',c('React').createElement(c('Link.react'),{onClick:t},i._("Suggested tab")))]);return (c('React').createElement('div',{className:"_2qpq",style:{height:r}},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'light'},u)));}function o(q){var r=q.id,s=q.type;return {id:r,type:s};}var p=c('React').createClass({displayName:'AdsUnifiedTokenizerSuggestions',propTypes:{accountID:j.string,cfSection:j.string,entries:j.array,hidden:j.bool,metricReporter:j.instanceOf(c('TypeaheadMetricReporter')).isRequired,objective:j.oneOf(Object.keys(c('AdsDistinctUIObjectives'))),promotedObject:j.object,selectedEntryIDs:j.object,showPerformanceCost:j.bool,showPerformanceRating:j.bool,showWhiteBox:j.bool,suggestionsDataSource:j.instanceOf(c('AdsUnifiedSuggestionsDataSource')).isRequired,uniqueID:j.string.isRequired,useContextualLayer:j.bool,width:j.number.isRequired,onAddSuggestionEntryAttempt:j.func,onSuggestionsFetched:j.func.isRequired},getDefaultProps:function q(){return {showWhiteBox:true,useContextualLayer:true};},getInitialState:function q(){return {suggestions:[],highlightedEntry:null,sourceEntries:[],showSuggestionNux:false};},componentDidMount:function q(){this.refreshSuggestions(false,[]);},refreshSuggestions:function q(r,s){var t=s.map(o);this.props.suggestionsDataSource.getSuggestions(t,this.props.objective,this.props.promotedObject,null,this.props.metricReporter.getSID(),this._onDataFetched.bind(this,r,s));this.props.metricReporter&&this.props.metricReporter.reportQueryBegin(this._entriesAsString(s));this.setState({sourceEntries:s});},_onDataFetched:function q(r,s,t){var u,v=this;if(!this.isMounted())return;var w=t||[];if(r)(function(){w=v.state.suggestions.slice(0);var z={};w.forEach(function(aa){z[aa.uniqueID]=true;});t.forEach(function(aa){if(!(aa.uniqueID in z)){w.push(aa);z[aa.uniqueID]=true;}});})();if(w.length>k)w=w.slice(0,k);var x=w.map(function(z){return z.uniqueID;}),y=x.map(function(z){return z.substring(z.indexOf('.')+1);});this.props.metricReporter&&this.props.metricReporter.reportResults(y,this._entriesAsString(s));this.props.metricReporter&&this.props.metricReporter.reportResultsAds(x);if(s===this.state.sourceEntries){this.setState({suggestions:w});this.props.onSuggestionsFetched(w);}},render:function q(){return (c('React').createElement('span',null,c('React').createElement('div',{ref:'root'}),this.renderLayers()));},hasSuggestions:function q(){var r=this.props.selectedEntryIDs,s=r===undefined?{}:r;return !this.state.suggestions.every(function(t){return t.uniqueID in s;});},_getRootContextRef:function q(){return this.refs.root;},_getNuxContextRef:function q(){return this.refs.navbar;},_getInfoBox:function q(){if(this.props.showWhiteBox===false)return null;var r=this.state.highlightedEntry;if(!r)return null;var s=this.props,t=s.showPerformanceCost,u=s.showPerformanceRating,v=s.uniqueID;return (c('React').createElement('div',{className:"_3i-b",key:'info-box'},c('React').createElement(c('AdsSBTokenizerWhiteBoxContainer.react'),{height:l,info:r,showPerformanceCost:t,showPerformanceRating:u,type:c('AdsSBTokenizerConstants').ACTIVE_STATES.SUGGESTIONS,uniqueID:v})));},_getListComponent:function q(){return this.hasSuggestions()?c('React').createElement('div',{className:"_2qpr",key:'list-component',style:{height:l,overflowY:'scroll'}},c('React').createElement('ul',null,this.state.suggestions.map(this._getSuggestionRow))):c('React').createElement(n,{height:l,key:'zero-result'});},_getSuggestionContent:function q(){return (c('React').createElement('div',{style:{height:l}},this._getListComponent(),this._getInfoBox()));},_getSuggestionComponent:function q(){var r=this._getListComponent(),s=this._getInfoBox();return (c('React').createElement('div',null,r,s));},renderLayers:function q(){var r=this.props.useContextualLayer,s=(r?"_3i-a":'')+(!r?' '+"_tjm":'')+(this.props.hidden?' '+"hidden_elem":''),t=this.state.highlightedEntry?this.props.width+m:this.props.width,u=this._getSuggestionComponent(),v=!this.props.hidden&&this.state.showSuggestionNux,w=c('React').createElement('div',null,c('React').createElement('div',{className:s,style:{width:t},onMouseDown:this._onMouseDown,onMouseLeave:this._onMouseLeave},c('React').createElement('div',{className:"_3ngf",'data-testid':this.props.uniqueID+'_suggestions_list',style:{width:this.props.width}},u)),c('React').createElement(c('AdsDetailedTargetingSuggestionNux.react'),{contextRef:this._getNuxContextRef,offsetX:13,position:'left',showPerformanceCost:this.props.showPerformanceCost,showPerformanceRating:this.props.showPerformanceRating,shown:v,onCloseButtonClick:this._onSuggestionNuxClose}));if(!r)return w;return (c('React').createElement(c('ContextualLayer.react'),{alignment:'left',contextRef:this._getRootContextRef,key:'content',position:'below',shown:!this.props.hidden},w));},_getSuggestionRow:function q(r){var s=this.props.selectedEntryIDs||{};if(r.uniqueID in s)return null;return (c('React').createElement(c('SearchRowView.react'),{adAccountID:this.props.accountID,addEntry:this._onEntrySelect,data:r,highlight:this.state.highlightedEntry===r,key:r.uniqueID,mouseOver:this._onMouseEnterRow,removeEntry:this._onEntrySelect,selected:false,showType:true}));},_onMouseEnterRow:function q(r){if(r)this.setState({highlightedEntry:r});},_onEntrySelect:function q(r){if(this.props.metricReporter){var s=undefined;this.props.metricReporter.reportSelect(r.id,r.type,r.order,true,this._entriesAsString(this.state.sourceEntries),s);this.props.metricReporter.sessionEnd();this.props.metricReporter.sessionStart();}this.setState({highlightedEntry:null,suggestions:this.state.suggestions.filter(function(t){return t.uniqueID!==r.uniqueID;})});if(this.props.onAddSuggestionEntryAttempt)this.props.onAddSuggestionEntryAttempt(r);},_onMouseLeave:function q(){if(this.state.highlightedEntry)this.setState({highlightedEntry:null});},_onMouseDown:function q(){c('AdsSBAreaClicked').setAreaClicked(this.props.uniqueID,true);},_entriesAsString:function q(r){if(!r)return '';return JSON.stringify(r.map(function(s){return s.type+'.'+s.id;}).join(','));},_onSuggestionNuxClose:function q(){this.setState({showSuggestionNux:false});c('SimpleNUXMessage').markMessageSeenByUser(c('SimpleNUXMessageTypes').ADS_TARGETING_BEST_PERFORMING_DESCRIPTOR);}});f.exports=p;}),null);
__d('FlexibleTargetingTypeaheadNavigation',[],(function a(b,c,d,e,f,g){'use strict';var h={moveUp:function i(j,k,l){if(!k)return;var m=j.indexOf(k);if(m>0)l(j[m-1]);},moveDown:function i(j,k,l){if(!k)return;var m=j.indexOf(k);if(m>=0&&m<j.length-1)l(j[m+1]);}};f.exports=h;}),null);
__d('AdsFlexibleTargetingTokenizer.react',['cx','AdsInterfacesLogger','AdsInterfacesLoggerConfigColumns','AdsAPITargetFields','AdsDistinctUIObjectives','AdsFlexibleTargetingBrowseList.react','AdsFlexibleTargetingNUXActions','AdsFlexibleTargetingNUXContainer.react','AdsFlexibleTargetingNUXUIStore','AdsFlexibleTargetingPresenterWarning','AdsSBAreaClicked','AdsSBTokenizerConstants','AdsSBTokenizerModeButtons.react','AdsSBTypeahead.react','AdsSearchBrowseUtils','AdsTargetingSearchBrowseTokenizerList.react','AdsTargetingWebdriverIDs','AdsUnifiedFlexibleValidationDataSource','AdsUnifiedSuggestionsDataSource','AdsUnifiedTokenizerSuggestions.react','FlexibleTargetingTypeaheadNavigation','AdsFlexibleTargetingConstants','React','ReactDOM','SimpleNUXMessage','SimpleNUXMessageTypes','TypeaheadMetricReporter','AdsFlexibleTargetingEntriesView.react','underscore.ads'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j={ViewRenderer:c('AdsFlexibleTargetingEntriesView.react'),useLayer:true,alwaysVisibleOnFocus:true},k=c('SimpleNUXMessageTypes').FLEXIBLE_TARGETING_PRESENTER_TIP,l=c('AdsFlexibleTargetingConstants').TYPEAHEAD_PLACEHOLDER,m=c('AdsSBTokenizerConstants').ACTIVE_STATES,n=430,o=2000,p=c('React').createClass({displayName:'AdsFlexibleTargetingTokenizer',_width:0,_addedEntryUniqueID:'',_entries:[],propTypes:{accountID:i.string.isRequired,apiData:i.array,browseTree:i.array.isRequired,campaignIDs:i.array,cfSection:i.string,entries:i.arrayOf(i.shape({id:i.string.isRequired,type:i.string.isRequired,name:i.string})).isRequired,hideBrowseTreeRoot:i.bool,hideWarning:i.bool,maxSearchEntries:i.number,noUIContextualLayerParent:i.bool,objective:i.oneOf(Object.keys(c('AdsDistinctUIObjectives'))),placeholder:i.string,promotedObject:i.object,searchDataSource:i.object.isRequired,shouldShowPresenterTip:i.bool.isRequired,shouldShowSuggestions:i.bool.isRequired,showPerformanceCost:i.bool,showPerformanceRating:i.bool,showSuggestionWhiteBox:i.bool,suggestionsDataSource:i.instanceOf(c('AdsUnifiedSuggestionsDataSource')).isRequired,tooltipOptions:i.object,uniqueID:i.string.isRequired,useContextualLayer:i.bool,validationDataSource:i.instanceOf(c('AdsUnifiedFlexibleValidationDataSource')).isRequired,width:i.number,onFetchEntriesDone:i.func.isRequired,onUpdateAPIField:i.func.isRequired},getInitialState:function q(){return {entriesPresenter:[],activeState:m.NONE,openPath:[],showWarning:false,warningInfo:{leafNum:0,parentInterest:'Interests',prevEntries:[],warningMode:c('AdsFlexibleTargetingConstants').FLEXIBLE_TARGETING_WARNING_MODE.INCLUDE_REPLACE},hasSuggestions:false,loadingSuggestions:false,showPresenterTipNux:false};},componentWillMount:function q(){var r={event_name:'ads_targeting',event_specific_data:this._getEventSpecificData.bind(this,c('AdsFlexibleTargetingConstants').COMPONENT_ID_FOR_LOGGING+'_typeahead')};this._searchMetricReporter=new (c('TypeaheadMetricReporter'))(r);var s={event_name:'ads_targeting',event_specific_data:this._getEventSpecificData.bind(this,c('AdsFlexibleTargetingConstants').COMPONENT_ID_FOR_LOGGING+'_suggestion')};this._suggestionMetricReporter=new (c('TypeaheadMetricReporter'))(s);this._entries=this.props.entries;this._getPresenterEntries();},componentWillReceiveProps:function q(r){if(!c('underscore.ads').isEqual(this.props.entries,r.entries)){var s=r.entries.map(function(u){return u.type+'.'+u.id;}),t=this.props.validationDataSource.getMetadataLocal(s);this.setState({entriesPresenter:t});this._entries=r.entries;}},componentWillUnmount:function q(){delete this._searchMetricReporter;delete this._suggestionMetricReporter;},_checkAndShowNUX:function q(){if(c('AdsFlexibleTargetingNUXUIStore').getHasNUXBeenRendered()){c('AdsFlexibleTargetingNUXActions').closeNUX();return false;}c('AdsFlexibleTargetingNUXActions').showNUX(this.props.uniqueID);var r=c('AdsFlexibleTargetingNUXUIStore').getShouldShowNUXForComponent(this.props.uniqueID);if(!r)return false;c('AdsFlexibleTargetingNUXActions').nuxShown(this.props.uniqueID);return true;},_nuxClose:function q(){c('underscore.ads').defer(function(){return this._onTypeAheadSelected();}.bind(this));},componentDidMount:function q(){c('AdsSBAreaClicked').init();c('AdsSBAreaClicked').subscribe(this.props.uniqueID,this._onClickOutsideComponent);this._changeStateFromEntries(this.props.entries);},componentDidUpdate:function q(){if(!this._shouldShowSuggestions()&&this.state.activeState===m.SUGGESTIONS)this._setActiveState(m.BROWSE);},_getSelectedEntryIDs:function q(){var r={};this.props.entries.forEach(function(s){return r[s.type+'.'+s.id]=true;});return r;},_getEventSpecificData:function q(r){return {ad_account_id:this.props.accountID,context:r,flexible_spec:c('AdsSearchBrowseUtils').getFlexibleSpec(this._entries.slice(0,50)),objective:this.props.objective,objects:this.props.promotedObject};},render:function q(){if(this.isMounted()&&!this._width)this._width=c('ReactDOM').findDOMNode(this).offsetWidth;var r=this.props.width||this._width||n,s=babelHelpers['extends']({},j,{maxEntries:this.props.maxSearchEntries,extraRendererProps:{adAccountID:this.props.accountID,openToPath:this._openToPath,showPerformanceCost:this.props.showPerformanceCost,showPerformanceRating:this.props.showPerformanceRating,uniqueID:this.props.uniqueID,width:r}}),t="_5bcc"+(this.props.noUIContextualLayerParent!==true?' '+"uiContextualLayerParent":'')+(this.state.activeState!==m.NONE?' '+"_5bcd":'')+(this.state.activeState===m.BROWSE?' '+"_eko":'')+(this.state.activeState===m.SEARCH?' '+"_ekp":'')+(this.state.activeState===m.SUGGESTIONS?' '+"_ekm":''),u=c('React').createElement('div',{className:"_5bcg"},c('React').createElement(c('AdsFlexibleTargetingNUXContainer.react'),{componentID:this.props.uniqueID,onClose:this._nuxClose}),c('React').createElement('div',{className:"_4ke5"},this._getTypeahead(s),this._getModeButtons()),c('React').createElement('div',{className:"_5bch _5bcm"}),this._getBrowseList(r),this._getSuggestions(r));return (c('React').createElement('div',{className:t,'data-testid':c('AdsTargetingWebdriverIDs').TARGETING_FLEXIBLE_TARGETING_TOKENIZER,role:'presentation',onClick:this._onMouseInteraction,onMouseLeave:this._onMouseLeave,onMouseOver:this._onMouseInteraction},c('React').createElement('div',null,this._getPresenter(r-2)),c('React').createElement('div',null,this._renderWarning(),' '),u));},_onMouseLeave:function q(){c('AdsSBAreaClicked').setAreaClicked(this.props.uniqueID,false);},_onMouseInteraction:function q(){c('AdsSBAreaClicked').setAreaClicked(this.props.uniqueID,true);},_getPresenterEntries:function q(){var r=this.props.entries.map(function(t){return t.type+'.'+t.id;}),s=this.props.validationDataSource.getMetadataLocal(r);this.setState({entriesPresenter:s},function(){return this.props.onFetchEntriesDone();}.bind(this));},_getPresenter:function q(r){return (c('React').createElement(c('AdsTargetingSearchBrowseTokenizerList.react'),{adAccountID:this.props.accountID,addedEntryUniqueID:this._addedEntryUniqueID,componentID:this.props.uniqueID,newEntries:this.state.entriesPresenter,openToPath:this._openToPath,showPerformanceCost:this.props.showPerformanceCost,showPerformanceRating:this.props.showPerformanceRating,showPresenterTipNux:this.state.showPresenterTipNux,tooltipOptions:this.props.tooltipOptions,width:r,onChangeSchoolyearEntries:this._onChangeSchoolyearEntries,onNuxCloseButtonClick:this._clearPresenterNux,onRemoveEntry:this._onRemoveEntryAttempt,onRemoveMultiEntries:this._onRemoveMultiEntries}));},_getTypeahead:function q(r){return (c('React').createElement(c('AdsSBTypeahead.react'),{excludedEntries:this._getSelectedEntryIDs(),hasSelectedEntries:true,metricReporter:this._searchMetricReporter,navigation:c('FlexibleTargetingTypeaheadNavigation'),placeholder:this.props.placeholder?this.props.placeholder:l,presenter:r,ref:'typeahead',searchSource:this.props.searchDataSource,selectedEntry:this._getSelectedEntryIDs(),shouldClearOnSelect:false,size:this.props.size,validationSource:this.props.validationDataSource,onClick:this._onTypeAheadSelected,onMultiAddEntries:this._onAddMultiEntriesFromTypeahead,onSelectAttempt:this._onSearchAddEntryAttempt,onTypeaheadVisibilityChanged:this._onTypeaheadVisibilityChanged}));},_getModeButtons:function q(){return (c('React').createElement(c('AdsSBTokenizerModeButtons.react'),{shouldRenderSuggestionButton:this.props.shouldShowSuggestions,suggestionButtonEnabled:this._shouldShowSuggestions(),uniqueID:this.props.uniqueID,onBrowseButtonMouseDown:this._onBrowseButtonMouseDown,onSuggestionsButtonMouseDown:this._onSuggestionsButtonMouseDown}));},_getBrowseList:function q(r){return (c('React').createElement(c('AdsFlexibleTargetingBrowseList.react'),{adAccountID:this.props.accountID,browseTree:this.props.browseTree,cfSection:this.props.cfSection,hidden:this.state.activeState!==m.BROWSE,hideRoot:this.props.hideBrowseTreeRoot,openPath:this.state.openPath,openToPath:this._openToPath,ref:'expandableList',searchSource:this.props.searchDataSource,selectedEntryIDs:this._getSelectedEntryIDs(),showPerformanceCost:this.props.showPerformanceCost,showPerformanceRating:this.props.showPerformanceRating,showWhiteBox:this.props.showWhiteBox,uniqueID:this.props.uniqueID,useContextualLayer:this.props.useContextualLayer,width:r,onAddEntryAttempt:this._onBrowseAddEntryAttempt,onAddMultiEntriesAttempt:this._onAddMultiEntriesFromBrowse,onRemoveEntryAttempt:this._onRemoveEntryAttempt}));},_getSuggestions:function q(r){if(!this.props.shouldShowSuggestions)return null;var s=this.state.activeState!==m.SUGGESTIONS;return (c('React').createElement(c('AdsUnifiedTokenizerSuggestions.react'),{accountID:this.props.accountID,cfSection:this.props.cfSection,entries:this.props.entries,hidden:s,metricReporter:this._suggestionMetricReporter,objective:this.props.objective,openToPath:this._openToPath,promotedObject:this.props.promotedObject,ref:'suggestionsComponent',selectedEntryIDs:this._getSelectedEntryIDs(),showWhiteBox:this.props.showSuggestionWhiteBox,suggestionsDataSource:this.props.suggestionsDataSource,uniqueID:this.props.uniqueID,useContextualLayer:this.props.useContextualLayer,width:r,onAddSuggestionEntryAttempt:this._onSuggestionAddEntryAttempt,onSuggestionsFetched:this._onSuggestionsFetched}));},_onTypeAheadSelected:function q(){if(this._checkAndShowNUX())return;this._logAdInterfacesEvent(c('AdsFlexibleTargetingConstants').COMPONENT_ID_FOR_LOGGING+'_click_typeahead');if(this.state.activeState!==m.SEARCH)if(this._shouldShowSuggestions()){this._setActiveState(m.SUGGESTIONS);}else if(this.state.activeState!==m.BROWSE)this._setActiveState(m.BROWSE);},_onSearchAddEntryAttempt:function q(r){var s=c('underscore.ads').object(this.props.entries.map(function(t){return [t.type+'.'+t.id,true];}));if(s[r.getUniqueID()]){this._onRemoveEntryAttempt(r);}else{this._onAddEntryAttempt(r);this._logAdInterfacesEventWithEntries(c('AdsFlexibleTargetingConstants').COMPONENT_ID_FOR_LOGGING+'_select_from_typeahead',[r]);}this.refs.typeahead.clearTypeahead();this._setActiveState(m.SUGGESTIONS);},_onSuggestionAddEntryAttempt:function q(r){this._onAddEntryAttempt(r);this._logAdInterfacesEventWithEntries(c('AdsFlexibleTargetingConstants').COMPONENT_ID_FOR_LOGGING+'_select_from_suggestions',[r]);},_onBrowseAddEntryAttempt:function q(r){this._onAddEntryAttempt(r);this._logAdInterfacesEventWithEntries(c('AdsFlexibleTargetingConstants').COMPONENT_ID_FOR_LOGGING+'_select_from_browse',[r]);},_renderWarning:function q(){if(this.state.showWarning&&!this.props.hideWarning)return (c('React').createElement(c('AdsFlexibleTargetingPresenterWarning'),{className:"_5bcn",leafNum:this.state.warningInfo.leafNum,parentInterest:this.state.warningInfo.parentInterest,warningMode:this.state.warningInfo.warningMode,onClickCloseButton:this._clearWarning,onUndo:this._onUndo}));return null;},_setWarning:function q(r,s,t,u){this.setState({showWarning:true,warningInfo:{leafNum:u,parentInterest:r,prevEntries:s,warningMode:t}});},_clearWarning:function q(){this.setState({showWarning:false});},_onUndo:function q(){this._clearWarning();this._onEntriesChange(this.state.warningInfo.prevEntries);},_onChangeSchoolyearEntries:function q(r){r.map(function(t){return (this.props.validationDataSource.addEntryToCache(babelHelpers['extends']({},t)));}.bind(this));var s=this.props.entries.slice().filter(function(t){return t.type!==c('AdsAPITargetFields').COLLEGE_YEARS;}).concat(r);this._clearWarning();c('AdsFlexibleTargetingNUXActions').flexibleTargetingUsed();this.props.onUpdateAPIField(s);},_onAddMultiEntriesFromBrowse:function q(r){this._onAddMultiEntries(r);this._logAdInterfacesEventWithEntries(c('AdsFlexibleTargetingConstants').COMPONENT_ID_FOR_LOGGING+'_select_from_browse',r);},_onAddMultiEntriesFromTypeahead:function q(r){this._showPresenterNux();this._onAddMultiEntries(r);this._logAdInterfacesEventWithEntries(c('AdsFlexibleTargetingConstants').COMPONENT_ID_FOR_LOGGING+'_select_from_typeahead',r);},_onAddMultiEntries:function q(r){if(r.length<=0)return;r.map(function(v){return (this.props.validationDataSource.addEntryToCache(babelHelpers['extends']({},v)));}.bind(this));var s=c('underscore.ads').first(r);this._addedEntryUniqueID=s.type+'.'+s.id;var t=c('underscore.ads').object(this.props.entries.map(function(v){return [v.type+'.'+v.id,true];})),u=this.props.entries.slice().concat(r.filter(function(v){return !(v.uniqueID in t);}).map(function(v){return {id:v.id,type:v.type,name:v.name};}));this._clearWarning();this._onEntriesChange(u);},_onRemoveMultiEntries:function q(r){if(r.length<=0)return;var s=c('underscore.ads').object(r.map(function(u){return [u.uniqueID,true];})),t=this.props.entries.slice().filter(function(u){return (!s[u.type+'.'+u.id]);});this._clearWarning();this._clearPresenterNux();this._onEntriesChange(t);this._logAdInterfacesEventWithEntries(c('AdsFlexibleTargetingConstants').COMPONENT_ID_FOR_LOGGING+'_remove',r);},_clearPresenterNux:function q(){this.setState({showPresenterTipNux:false});},_showPresenterNux:function q(){if(this.props.shouldShowPresenterTip){var r=this._checkUserHasSeenNux();if(!r)this.setState({showPresenterTipNux:true});}},_checkUserHasSeenNux:function q(){if(!c('SimpleNUXMessage').hasUserSeenMessage(k)){c('SimpleNUXMessage').markMessageSeenByUser(k);return false;}return true;},_onAddEntryAttempt:function q(r){this._showPresenterNux();this.props.validationDataSource.addEntryToCache(babelHelpers['extends']({},r));var s=this._getAllSelectableNode(r),t=s.length,u=c('underscore.ads').object(this.props.entries.map(function(x){return [x.type+'.'+x.id,true];})),v=t>c('AdsFlexibleTargetingConstants').EXPAND_WARNING_THRESHOLD;if(v){this._setWarning(r.name,this.props.entries,c('AdsFlexibleTargetingConstants').FLEXIBLE_TARGETING_WARNING_MODE.INCLUDE_REPLACE,t);}else this._clearWarning();if(r.uniqueID){this._addedEntryUniqueID=r.type+'.'+r.id;}else if(s.length>0)this._addedEntryUniqueID=s[0].type+'.'+s[0].id;var w=this.props.entries.concat(s.filter(function(x){return !(x.uniqueID in u);}).map(function(x){return {id:x.id,type:x.type,name:x.name};}));this._onEntriesChange(w);},_getAllSelectableNode:function q(r){if(r.uniqueID&&!r.expandChildrenOnSelect)return [r];return Array.prototype.concat.apply(Array.prototype,r.children.map(function(s){return this._getAllSelectableNode(s);}.bind(this)));},_onRemoveEntryAttempt:function q(r){var s=this._getAllSelectableNode(r);s=c('underscore.ads').object(s.map(function(u){return [u.uniqueID,true];}));var t=this.props.entries.filter(function(u){return !s[u.type+'.'+u.id];});this._clearWarning();this._clearPresenterNux();this._onEntriesChange(t);this._logAdInterfacesEventWithEntries(c('AdsFlexibleTargetingConstants').COMPONENT_ID_FOR_LOGGING+'_remove',[r]);},_openToPath:function q(r){this.setState({openPath:r||[],activeState:m.BROWSE});},_onClickOutsideComponent:function q(){c('AdsFlexibleTargetingNUXActions').closeNUX();if(this.isMounted()){this.refs.typeahead.clearTypeahead();this._setActiveState(m.NONE);}},_onBrowseButtonMouseDown:function q(){if(this._checkAndShowNUX())return;this._logAdInterfacesEvent(c('AdsFlexibleTargetingConstants').COMPONENT_ID_FOR_LOGGING+'_click_browse');var r=this.state.activeState===m.BROWSE?m.NONE:m.BROWSE;this._setActiveState(r);this.refs.typeahead.clearTypeahead();},_onSuggestionsButtonMouseDown:function q(){if(this._checkAndShowNUX())return;this._logAdInterfacesEvent(c('AdsFlexibleTargetingConstants').COMPONENT_ID_FOR_LOGGING+'_click_suggestion');var r=this.state.activeState===m.SUGGESTIONS?m.NONE:m.SUGGESTIONS;this._setActiveState(r);this.refs.typeahead.clearTypeahead();},_onEntriesChange:function q(r){this._changeStateFromEntries(r);this._setAPIFieldFromEntries(r);this._entries=r;},_changeStateFromEntries:function q(r){if(this.refs.suggestionsComponent){this.refs.suggestionsComponent.refreshSuggestions(false,r);this.setState({loadingSuggestions:true});}},_onTypeaheadVisibilityChanged:function q(r){c('AdsFlexibleTargetingNUXActions').closeNUX();var s=this.state.activeState===m.SEARCH?m.NONE:this.state.activeState;this._setActiveState(r?m.SEARCH:s);},_setActiveState:function q(r){if(this.state.activeState===r)return;if(r!==m.SEARCH)c('underscore.ads').defer(function(u){if(u===m.SEARCH&&this.refs.typeahead){this.refs.typeahead.hideView();this.refs.typeahead.clearTypeahead();}}.bind(this),this.state.activeState);if(this._suggestionMetricReporter){if(this.state.activeState!==m.SUGGESTIONS&&r===m.SUGGESTIONS){this._suggestionMetricReporter.sessionStart();this._suggestionMetricReporter.reportQueryBegin(c('AdsSearchBrowseUtils').getFlexibleSpec(this._entries));}if(this.state.activeState===m.SUGGESTIONS&&r!==m.SUGGESTIONS){var s=Date.now()-this._suggestionMetricReporter.lastQueryTime;if(s<o){this._suggestionMetricReporter.sessionDeactivate();}else this._suggestionMetricReporter.sessionPause();}}var t={activeState:r};if(r===m.BROWSE)t.openPath=[];this.setState(t);},_setAPIFieldFromEntries:function q(r){var s=r.map(function(t){return {id:t.id,name:t.name,type:t.type};});c('AdsFlexibleTargetingNUXActions').flexibleTargetingUsed();this.props.onUpdateAPIField(s);},_onSuggestionsFetched:function q(r){this.setState({hasSuggestions:r&&r.length>0,loadingSuggestions:false});},_shouldShowSuggestions:function q(){if(!this.props.shouldShowSuggestions)return false;return (this.state.hasSuggestions||this.state.activeState==m.SUGGESTIONS&&this.state.loadingSuggestions);},_logAdInterfacesEvent:function q(r){var s={campaignIDs:this.props.campaignIDs,objective:this.props.objective};c('AdsInterfacesLogger').log({eventName:r},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);},_logAdInterfacesEventWithEntries:function q(r,s){var t,u={count:s.length,entries:s.slice(0,10).map(function(v){return {id:v.id,name:v.name,type:v.type};}),campaignIDs:this.props.campaignIDs,flexible_spec:c('AdsSearchBrowseUtils').getFlexibleSpec(this.props.entries.slice(0,50)),objective:this.props.objective,objects:this.props.promotedObject};c('AdsInterfacesLogger').log({eventName:r,data:(t={},t[c('AdsInterfacesLoggerConfigColumns').TARGETING_UI_EVENT_DATA]=JSON.stringify(u),t)},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);}});f.exports=p;}),null);
__d('AdsFlexibleTargetingTokenizerContainer.react',['AdsFlexibleTargetingTokenizer.react','AdsFluxContainer','AdsQEStore','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.getStores=function(){return [c('AdsQEStore')];};k.calculateState=function(l,m){return {showPerformanceCost:false,showPerformanceRating:false};};k.prototype.render=function(){return (c('React').createElement(c('AdsFlexibleTargetingTokenizer.react'),babelHelpers['extends']({},this.state,this.props)));};function k(){h.apply(this,arguments);}f.exports=c('AdsFluxContainer').create(k,{withProps:true});}),null);
__d('AdsCreateLookalikeDialogLocationTokenizer.react',['fbt','AdsCommonTargetingBrowseTreeFactory','AdsDaoGraph','AdsFlexibleTargetingTokenizerContainer.react','AdsSBTokenizerConstants','AdsUnifiedFlexibleTargetingDataSource','AdsUnifiedFlexibleValidationDataSource','AdsUnifiedSuggestionsDataSource','emptyFunction','AdsLookalikeLocationUtils','React','Set','AdsCreateLookalikeDialogLocationSearchDataProvider'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=1;function l(){return k++;}var m=520;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(o){j.constructor.call(this,o);this.$AdsCreateLookalikeDialogLocationTokenizer12=function(p){var q=this.$AdsCreateLookalikeDialogLocationTokenizer13(p);this.setState({locationSpec:q});if(this.props.onLocationSpecChange)this.props.onLocationSpecChange(q);}.bind(this);this.$AdsCreateLookalikeDialogLocationTokenizer1=l();this.$AdsCreateLookalikeDialogLocationTokenizer2=null;this.$AdsCreateLookalikeDialogLocationTokenizer3=null;this.$AdsCreateLookalikeDialogLocationTokenizer4=null;this.$AdsCreateLookalikeDialogLocationTokenizer5=c('AdsCommonTargetingBrowseTreeFactory').createBrowseTree(function(p){return p.reach>0;});this.state={locationSpec:this.$AdsCreateLookalikeDialogLocationTokenizer6(this.props)};this.$AdsCreateLookalikeDialogLocationTokenizer7();}n.prototype.render=function(){var o=h._("Search for countries or regions to target");return c('React').createElement(c('AdsFlexibleTargetingTokenizerContainer.react'),{accountID:this.props.accountID,browseTree:this.$AdsCreateLookalikeDialogLocationTokenizer5,campaignIDs:[],entries:this.$AdsCreateLookalikeDialogLocationTokenizer8(this.state.locationSpec),hideBrowseTreeRoot:false,hideWarning:true,maxSearchEntries:200,noUIContextualLayerParent:false,placeholder:o,ref:'tokenizer',searchDataSource:this.$AdsCreateLookalikeDialogLocationTokenizer9(),shouldShowPresenterTip:false,shouldShowSuggestions:false,suggestionsDataSource:this.$AdsCreateLookalikeDialogLocationTokenizer10(),tooltipOptions:{},uniqueID:c('AdsSBTokenizerConstants').TOKENIZER_TYPES.LOOKALIKE_LOCATION+'-'+this.$AdsCreateLookalikeDialogLocationTokenizer1,validationDataSource:this.$AdsCreateLookalikeDialogLocationTokenizer11(),width:m,onFetchEntriesDone:c('emptyFunction'),onUpdateAPIField:this.$AdsCreateLookalikeDialogLocationTokenizer12});};n.prototype.componentWillReceiveProps=function(o){var p=this.$AdsCreateLookalikeDialogLocationTokenizer6(o);if(!c('AdsLookalikeLocationUtils').locationSpecsHaveSameCountries(this.state.locationSpec,p))this.setState({locationSpec:p});};n.prototype.$AdsCreateLookalikeDialogLocationTokenizer6=function(o){return o.locationSpec||{};};n.prototype.$AdsCreateLookalikeDialogLocationTokenizer8=function(o){var p=(o||{}).geo_locations||{};return (p.countries||[]).map(function(q){return {type:'countries',id:q};}).concat((p.country_groups||[]).map(function(q){return {type:'country_groups',id:q};}));};n.prototype.$AdsCreateLookalikeDialogLocationTokenizer13=function(o){o=o||[];var p=[],q=[];for(var r=o,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var u;if(s){if(t>=r.length)break;u=r[t++];}else{t=r.next();if(t.done)break;u=t.value;}var v=u;if(v.id)if(v.type==='countries'){p.push(v.id);}else if(v.type==='country_groups')q.push(v.id);}return {geo_locations:{countries:p,country_groups:q}};};n.prototype.$AdsCreateLookalikeDialogLocationTokenizer9=function(){if(this.$AdsCreateLookalikeDialogLocationTokenizer2===null){var o=new (c('AdsCreateLookalikeDialogLocationSearchDataProvider'))();o.setItems(this.$AdsCreateLookalikeDialogLocationTokenizer14());this.$AdsCreateLookalikeDialogLocationTokenizer2=new (c('AdsUnifiedFlexibleTargetingDataSource'))(null,this.props.accountID,null,o.provideData.bind(o));}return this.$AdsCreateLookalikeDialogLocationTokenizer2;};n.prototype.$AdsCreateLookalikeDialogLocationTokenizer14=function(){var o=this.$AdsCreateLookalikeDialogLocationTokenizer5,p=[],q=new (c('Set'))();for(var r=o,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var u;if(s){if(t>=r.length)break;u=r[t++];}else{t=r.next();if(t.done)break;u=t.value;}var v=u;this.$AdsCreateLookalikeDialogLocationTokenizer15(v,p,q);}return p;};n.prototype.$AdsCreateLookalikeDialogLocationTokenizer15=function(o,p,q){var r=o.uniqueID;if(r&&!q.has(r)){p.push({name:o.name,id:o.id,type:o.type,description:o.description,audience_size:o.reach,source:null,path:(o.path||[]).concat([o.name.toString()]),extraData:{customSections:o.customSections,expandChildrenOnSelect:o.expandChildrenOnSelect,children:o.children}});q.add(r);}var s=o.children||[];for(var t=s,u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var w;if(u){if(v>=t.length)break;w=t[v++];}else{v=t.next();if(v.done)break;w=v.value;}var x=w;this.$AdsCreateLookalikeDialogLocationTokenizer15(x,p,q);}};n.prototype.$AdsCreateLookalikeDialogLocationTokenizer10=function(){if(this.$AdsCreateLookalikeDialogLocationTokenizer3===null)this.$AdsCreateLookalikeDialogLocationTokenizer3=c('AdsUnifiedSuggestionsDataSource').getInstance(c('AdsDaoGraph'),this.props.accountID,null);return this.$AdsCreateLookalikeDialogLocationTokenizer3;};n.prototype.$AdsCreateLookalikeDialogLocationTokenizer11=function(){if(this.$AdsCreateLookalikeDialogLocationTokenizer4===null)this.$AdsCreateLookalikeDialogLocationTokenizer4=new (c('AdsUnifiedFlexibleValidationDataSource'))(this.props.accountID);return this.$AdsCreateLookalikeDialogLocationTokenizer4;};n.prototype.$AdsCreateLookalikeDialogLocationTokenizer7=function(){var o=this.$AdsCreateLookalikeDialogLocationTokenizer5,p=this.$AdsCreateLookalikeDialogLocationTokenizer11();for(var q=o,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var t;if(r){if(s>=q.length)break;t=q[s++];}else{s=q.next();if(s.done)break;t=s.value;}var u=t;this.$AdsCreateLookalikeDialogLocationTokenizer16(u,p);}};n.prototype.$AdsCreateLookalikeDialogLocationTokenizer16=function(o,p){if(o.uniqueID){p.addEntryToCache(babelHelpers['extends']({},o));}else if(o.children&&o.children.length>0)for(var q=o.children,r=Array.isArray(q),s=0,q=r?q:q[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var t;if(r){if(s>=q.length)break;t=q[s++];}else{s=q.next();if(s.done)break;t=s.value;}var u=t;this.$AdsCreateLookalikeDialogLocationTokenizer16(u,p);}};f.exports=n;}),null);
__d('AdsAudienceFilterMap',['fbt','AdsAudienceFilterEnum','adsGKCheck'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('adsGKCheck')('ads_custom_audience_typeahead_new_text')?(i={},i[c('AdsAudienceFilterEnum').ALL]=h._("All"),i[c('AdsAudienceFilterEnum').LOOKALIKE]=h._("Lookalike"),i[c('AdsAudienceFilterEnum').CUSTOM_AUDIENCE]=h._("Custom audience"),i):(j={},j[c('AdsAudienceFilterEnum').ALL]=h._("All"),j[c('AdsAudienceFilterEnum').LOOKALIKE]=h._("Lookalike Audience"),j[c('AdsAudienceFilterEnum').CUSTOM_AUDIENCE]=h._("Custom Audience"),j);f.exports=k;}),null);
__d('AdsAudienceMode',[],(function a(b,c,d,e,f,g){'use strict';var h={EXCLUDE:'exclude',INCLUDE:'include'};f.exports=h;}),null);
__d('AdsAudienceTypeaheadPresenter.react',['cx','fbt','AdsAudienceFilterMap','AdsAudienceMode','AdsAudienceTypeaheadConstants','AdsSBTokenizerConstants','AdsSBTokenizerWhiteBox.react','AdsSpinnerCover.react','AdsTargetingWebdriverIDs','CenteredContainer.react','LeftRight.react','List.react','SearchableEntry','ScrollableArea.react','SUICheckboxInput.react','SUINotice.react','XUICardHeader.react','XUICardHeaderTitle.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l,m,n=c('React').PropTypes,o=c('AdsSBTokenizerConstants').WHITE_BOX.WIDTH;function p(u){var v={},w=u.getAuxiliaryData()||{};v.title=u.getTitle();v.subtitle=u.getSubtitle();v.description=w.description;v.reach=w.reach;var x=w.lookalikeSpec||{};if(x.origin&&x.origin.length>0&&x.origin[0])v.source=x.origin.map(function(y){return y.name;}).join(',');v.existing_lookalikes=w.existing_lookalikes;return v;}j=babelHelpers.inherits(q,c('React').Component);k=j&&j.prototype;function q(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=k.constructor).call.apply(u,[this].concat(x)),this.$ViewRenderer1=function(z){this.props.onSelect(z);}.bind(this),this.$ViewRenderer4=function(z,event){this.props.onResultCategoryChange(z);return true;}.bind(this),v;}q.prototype.render=function(){var u=this.props.entries,v=this.props.width||c('AdsAudienceTypeaheadConstants').ENTRIES.WIDTH;v-=c('AdsAudienceTypeaheadConstants').ENTRIES.BORDER_WIDTH;var w=v+o,x=void 0,y=void 0,z=this.props.groupNameWidth||c('AdsAudienceTypeaheadConstants').GROUP_NAME.WIDTH;if(u&&u.length){var aa=u.map(function(fa){return this.$ViewRenderer2(fa,v,z);}.bind(this));x=c('React').createElement(c('List.react'),{border:'light',edgepadding:true,spacing:'small'},aa);var ba=this.props.inclusionExclusionMode===c('AdsAudienceMode').EXCLUDE?'excluded':'included',ca=this.props.highlightedEntry&&this.props.highlightedEntry.getAuxiliaryData().disabled?c('React').createElement(c('SUINotice.react'),{type:'error'},i._({"excluded":"This Custom Audience can't be excluded. It may have a negative impact on advert delivery for this campaign.","included":"This Custom Audience can't be included. It may have a negative impact on delivery for this campaign."},[i['enum'](ba,{excluded:'excluded',included:'included'})])):null;y=c('React').createElement('div',{className:"_hpi _5d4-"},c('React').createElement(c('AdsSBTokenizerWhiteBox.react'),{info:p(this.props.highlightedEntry),notice:ca,showAudienceInfo:true,type:c('AdsSBTokenizerConstants').ACTIVE_STATES.SEARCH,uniqueID:'audience_tokenizer'}));}else{var da=this.props.firstSearch?i._("No existing audience in this account"):i._("No Matches Found"),ea=this.props.firstSearch?i._("Create a new audience to use this targeting option."):i._("Check your spelling, formatting or enter another audience name");x=c('React').createElement(c('CenteredContainer.react'),{className:"_8bo",style:{height:c('AdsAudienceTypeaheadConstants').HEIGHT},vertical:true},c('React').createElement('div',{className:"fwb"},da),c('React').createElement('div',{className:"_8bp"},ea));}return c('React').createElement('div',{className:"_5d50",style:{width:v}},this.$ViewRenderer3(),c('React').createElement('div',{className:"_5d4_",style:{width:w}},c('React').createElement('div',{className:"_5m8_",style:{width:v}},c('React').createElement(c('ScrollableArea.react'),{height:c('AdsAudienceTypeaheadConstants').HEIGHT,width:v},x),c('React').createElement(c('AdsSpinnerCover.react'),{show:this.props.isLoading})),y));};q.prototype.$ViewRenderer5=function(event){event.stopPropagation();event.preventDefault();};q.prototype.$ViewRenderer3=function(){if(!this.props.resultCategories||this.props.resultCategories.length===0)return null;var u=this.props.resultCategories.map(function(v){var w=this.props.resultCategoryTitles?this.props.resultCategoryTitles[v]:c('AdsAudienceFilterMap')[v];return (c('React').createElement(c('XUICardHeaderTitle.react'),{href:'#',key:v},c('React').createElement('span',null,w)));}.bind(this));return (c('React').createElement('div',{className:"_2sxp",onMouseDown:this.$ViewRenderer5},c('React').createElement(c('XUICardHeader.react'),{activeTabKey:this.props.resultCategory,type:'primary',onTabClick:this.$ViewRenderer4},u)));};q.prototype.$ViewRenderer2=function(u,v,w){var x=u.getUniqueID(),y=this.props.excludedEntries&&Object.prototype.hasOwnProperty.call(this.props.excludedEntries,x);return (c('React').createElement(r,{checked:y,disabled:u.getAuxiliaryData().disabled||this.props.shouldDisableSelection&&!y,entry:u,groupNameWidth:w,highlighted:u===this.props.highlightedEntry,key:u.getUniqueID(),showCheckbox:this.props.shouldHideSelectedEntries===false,width:v,onHighlight:this.props.onHighlight,onRemoveEntry:this.props.onRemoveEntry,onSelect:this.$ViewRenderer1}));};q.propTypes={emptySearch:n.bool,entries:n.array.isRequired,excludedEntries:n.object,groupNameWidth:n.number,highlightedEntry:n.object,inclusionExclusionMode:n.oneOf([c('AdsAudienceMode').EXCLUDE,c('AdsAudienceMode').INCLUDE]),resultCategories:n.array,resultCategory:n.string,resultCategoryTitles:n.object,shouldDisableSelection:n.bool,shouldHideSelectedEntries:n.bool,width:n.number,onHighlight:n.func,onRemoveEntry:n.func,onResultCategoryChange:n.func,onSelect:n.func.isRequired};l=babelHelpers.inherits(r,c('React').Component);m=l&&l.prototype;function r(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=m.constructor).call.apply(u,[this].concat(x)),this.$EntryRowView1=function(z){if(this.props.disabled)return;if(this.props.checked){this.props.onRemoveEntry(this.props.entry);}else this.props.onSelect(this.props.entry,z);}.bind(this),this.$EntryRowView2=function(){this.props.onHighlight&&this.props.onHighlight(this.props.entry);}.bind(this),this.$EntryRowView6=function(z){if(z===false)this.props.onRemoveEntry(this.props.entry);}.bind(this),v;}r.prototype.render=function(){var u="_5m91"+(this.props.highlighted?' '+"_5m92":'')+(this.props.disabled?' '+"_2w1y":''),v=this.props.width-this.props.groupNameWidth;return c('React').createElement('li',{className:u,onMouseDown:this.$EntryRowView1,onMouseEnter:this.$EntryRowView2},c('React').createElement(c('LeftRight.react'),{'data-testid':c('AdsTargetingWebdriverIDs').TARGETING_CUSTOM_AUDIENCE_ITEM},c('React').createElement('div',{className:"_5okl",style:{maxWidth:v}},this.$EntryRowView3()),c('React').createElement('div',null,c('React').createElement('span',{className:"_5oe5",style:{maxWidth:this.props.groupNameWidth}},this.$EntryRowView4()),this.$EntryRowView5())),c('React').createElement('div',{className:"_5oe8"}));};r.prototype.$EntryRowView4=function(){return this.props.entry.getSubtitle();};r.prototype.$EntryRowView5=function(){return this.props.showCheckbox?c('React').createElement('span',{className:"_2pir _2pii"},c('React').createElement(c('SUICheckboxInput.react'),{value:this.props.checked,onChange:this.$EntryRowView6})):null;};r.prototype.$EntryRowView3=function(){var u=this.props.entry,v=u.getTitle(),w=0,x=0,y=u.getAuxiliaryData(),z=y&&y.matchedText;if(z){var aa=v.toLowerCase().indexOf(z.toLowerCase());if(aa>=0){w=aa;x=aa+z.length;}}var ba=v.substring(0,w),ca=v.substring(w,x),da=v.substring(x);return c('React').createElement('span',null,ba,c('React').createElement('span',{className:"_5olf"},ca),da);};r.propTypes={checked:n.bool,disabled:n.bool,entry:n.object.isRequired,groupNameWidth:n.number,highlighted:n.bool,showCheckbox:n.bool,width:n.number,onHighlight:n.func,onRemoveEntry:n.func,onSelect:n.func.isRequired};var s={ViewRenderer:q,useLayer:true,maxEntries:c('AdsAudienceTypeaheadConstants').MAX_ENTRIES_TO_RENDER,sortEntries:t};function t(u){var v=u.filter(function(x){return x.getAuxiliaryData().disabled;}),w=u.filter(function(x){return !x.getAuxiliaryData().disabled;});return w.concat(v);}f.exports=s;}),null);
__d('AdsLookalikeSources',['fbt','keyMirrorRecursive'],(function a(b,c,d,e,f,g,h){'use strict';var i,j=c('keyMirrorRecursive')({ALL:'',CUSTOM_AUDIENCE:'',PAGE:''}),k=[j.ALL,j.CUSTOM_AUDIENCE,j.PAGE],l=(i={},i[j.ALL]=h._("All"),i[j.CUSTOM_AUDIENCE]=h._("Custom Audience"),i[j.PAGE]=h._("Page"),i);function m(n){switch(n){case 'ca':return j.CUSTOM_AUDIENCE;case 'page':return j.PAGE;default:return j.ALL;}}f.exports={AudienceFilterEnum:j,AudienceFilterOrderedList:k,AudienceFilterMap:l,calculateAudienceFilterFromType:m};}),null);
__d("XAdsLookalikeAppCreationController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ads\/targeting\/lookalike\/app_creation\/",{});}),null);
__d('AdsCreateLookalikeDialogSourceTypeahead.react',['cx','fbt','AbstractTypeahead.react','AdsAccountStoreWrapper_DEPRECATED','AdsAccountUtils','AdsAudienceTypeaheadConstants','AdsAudienceTypeaheadPresenter.react','AdsLookalikeSources','AsyncRequest','React','SearchableEntry','WebAsyncSearchSource','XAdsLookalikeAppCreationController','adsGKCheck'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=c('AdsLookalikeSources').AudienceFilterEnum,l=c('AdsLookalikeSources').AudienceFilterOrderedList,m=c('AdsLookalikeSources').AudienceFilterMap,n='/ajax/typeahead/ads_lookalike_source.php',o={},p=false,q=c('React').createClass({displayName:'AdsCreateLookalikeDialogSourceTypeahead',propTypes:{accountID:j.string.isRequired,source:j.instanceOf(c('SearchableEntry')),onSelectAttempt:j.func.isRequired},getInitialState:function r(){p=this._canDeprecateConversionPixel();return {hideViewWithEntries:true,placeholder:p?i._("Choose a Custom Audience or a Page."):i._("Choose a Custom Audience, a conversion-tracking pixel or a Page."),resultCategory:k.ALL,source:undefined,queryString:''};},componentWillMount:function r(){this._updateSelectedSource(this.props.source);},componentWillReceiveProps:function r(s){this._updateSelectedSource(s.source);},render:function r(){var s=this._getPresenter();return (c('React').createElement(c('AbstractTypeahead.react'),{autoHighlight:true,className:"_5w0y",entryFilter:this._entryFilter,hideViewWithEntries:this.state.hideViewWithEntries,placeholder:this.state.placeholder,presenter:s,queryString:this.state.queryString,ref:'typeahead',searchSource:this._getSearchSource(this.props.accountID),selectedEntry:null,showEntriesOnFocus:true,onBlur:this._onBlur,onChange:this._onInputChange,onSelectAttempt:this.props.onSelectAttempt}));},componentDidMount:function r(){this._updatePlaceholder();this.forceUpdate();},_entryFilter:function r(s){return this.state.resultCategory===k.ALL||this.state.resultCategory===c('AdsLookalikeSources').calculateAudienceFilterFromType(s.getType());},_getPresenter:function r(){if(c('adsGKCheck')('ads_lookalike_multiple_source_audiences')){return babelHelpers['extends']({},c('AdsAudienceTypeaheadPresenter.react'),{alwaysVisibleOnFocus:true,extraRendererProps:{groupNameWidth:c('AdsAudienceTypeaheadConstants').LOOKALIKE_SOURCE.GROUP_NAME_WIDTH,resultCategories:l,resultCategory:this.state.resultCategory,resultCategoryTitles:m,width:c('AdsAudienceTypeaheadConstants').LOOKALIKE_SOURCE.WIDTH,onResultCategoryChange:this._onResultCategoryChange}});}else return babelHelpers['extends']({},c('AdsAudienceTypeaheadPresenter.react'),{extraRendererProps:{width:c('AdsAudienceTypeaheadConstants').LOOKALIKE_SOURCE.WIDTH,groupNameWidth:c('AdsAudienceTypeaheadConstants').LOOKALIKE_SOURCE.GROUP_NAME_WIDTH}});},_getSearchSource:function r(s){if(!o[s]){var t={uri:n,data:{account_id:s,is_tree_based:false}};o[s]=new (c('WebAsyncSearchSource'))({bootstrapRequests:[t],queryRequests:[t],getAllForEmptyQuery:true,auxiliaryFields:{fbid:'fbid',conversion_type:'conversion_type'}});}return o[s];},_updatePlaceholder:function r(){var s=false,t=c('XAdsLookalikeAppCreationController').getURIBuilder().getURI(),u=new (c('AsyncRequest'))().setURI(t).setHandler(function(v){s=v&&v.payload;if(s)this.setState({placeholder:p?i._("Choose a Custom Audience, a Page or an application"):i._("Choose a Custom Audience, a conversion-tracking pixel, a Page or an application.")});}.bind(this).bind(this)).setErrorHandler(function(v){});u.send();},_updateSelectedSource:function r(s){this.setState({source:s,queryString:s&&s.getTitle()||''});},_onBlur:function r(){var s=this.state.source;if(s)this.setState({queryString:s.getTitle()});},_onInputChange:function r(event){var s=event.target.value;if(!s)this.props.onSelectAttempt(undefined);this.setState({queryString:s});},_onResultCategoryChange:function r(s){this.setState({resultCategory:s,hideViewWithEntries:false});setTimeout(function(){this.refs.typeahead.focusInput();this.setState({hideViewWithEntries:true});}.bind(this),0);},_canDeprecateConversionPixel:function r(){var s=c('AdsAccountStoreWrapper_DEPRECATED').getAccount();return c('AdsAccountUtils').canDisableConversionTrackingPixels(s);}});f.exports=q;}),null);
__d('AdsLookalikeRatioSliderMode',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({STANDARD:'STANDARD',TIERED:'TIERED'});f.exports=h;}),null);
__d('AdsLookalikeStoreUtils',['AdsAccountCapabilities','AdsAccountUtils','AdsSelectedAccountCapabilitiesGetter'],(function a(b,c,d,e,f,g){'use strict';h.prototype.canUseMcLAL=function(){return c('AdsAccountUtils').hasCapabilityFromList(c('AdsSelectedAccountCapabilitiesGetter').get({}),c('AdsAccountCapabilities').ADS_MULTICOUNTRY_LOOKALIKES);};function h(){}f.exports=new h();}),null);
__d('AdsMulticountryLookalikeNUXRenderer',['fbt','AdsGuidanceBaseNuxRenderer','AdsGuidanceChannelObject','AdsGuidanceInlineNux.react','immutable','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsGuidanceChannelObject').NuxData,l=c('AdsGuidanceChannelObject').ChannelData;i=babelHelpers.inherits(m,c('AdsGuidanceBaseNuxRenderer'));j=i&&i.prototype;m.prototype.getIDs=function(){return c('immutable').Set(['aymt_multicountry_lookalike_nux_tip']);};m.prototype.canRender=function(n,o,p){return true;};m.prototype.getElement=function(n,o,p,q,r){return (c('React').createElement(c('AdsGuidanceInlineNux.react'),{title:h._("New! Find lookalikes in multiple locations"),onClose:q},h._("You can now create Lookalike Audiences worldwide, in regions or in multiple countries")));};function m(){i.apply(this,arguments);}f.exports=m;}),null);
__d('AdsAudienceFilterOrderedList',['AdsAudienceFilterEnum'],(function a(b,c,d,e,f,g){'use strict';var h=[c('AdsAudienceFilterEnum').ALL,c('AdsAudienceFilterEnum').LOOKALIKE,c('AdsAudienceFilterEnum').CUSTOM_AUDIENCE];f.exports=h;}),null);
__d('AdsAudienceSearchSource',['adsGKCheck','AbstractSearchSource','AdsAudienceDataSourceUtils','AdsAudienceMode','AdsAudienceTypeaheadConstants','AdsCustomAudienceType','SearchableEntry','SearchSourceQueryStatus','debounce'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=20,k=Math.random(),l=c('debounce')(function(n,o,p){n.fetch.customAudiencesSearch.one(p,o);},c('AdsAudienceTypeaheadConstants').DEBOUNCE_TIME);h=babelHelpers.inherits(m,c('AbstractSearchSource'));i=h&&h.prototype;function m(n,o,p){i.constructor.call(this);if(!(p!==k)){this.dao=o.dao;this.accountID=o.accountID;this.disableDynamicCA=!!o.disableDynamicCA;this.inclusionExclusionMode=o.inclusionExclusionMode||c('AdsAudienceMode').INCLUDE;}}m.prototype.bootstrapImpl=function(n){this.search('',n);};m.prototype.searchImpl=function(n,o,p){var q=p||{};q.q=n;q.account_id=this.accountID;q.limit=c('AdsAudienceTypeaheadConstants').MAX_ENTRIES_TO_RENDER;if(c('adsGKCheck')('can_account_create_multi_seed_lookalike'))q.optional_fields=['existing_lookalikes'];l(this.dao,q,this.$AdsAudienceSearchSource1.bind(this,n,o));};m.prototype.$AdsAudienceSearchSource1=function(n,o,p){var q=[];p.forEach(function(r){var s=r.data_source;if(c('AdsAudienceDataSourceUtils').isDisallowedByDataSource(s))return;if(parseInt(r.subtype,10)===c('AdsCustomAudienceType').SUBTYPE_TO_ENUM_MAP.PARTNER)return;var t=false;if(this.disableDynamicCA){t=c('AdsAudienceDataSourceUtils').isDisallowedDynamicCA(s);if(this.inclusionExclusionMode===c('AdsAudienceMode').EXCLUDE)t=t||c('AdsAudienceDataSourceUtils').isNotExcludableDynamicCA(s);}var u=new (c('SearchableEntry'))({uniqueID:r.audience_id,title:r.name,subtitle:c('AdsAudienceDataSourceUtils').textForTypeInUI(r),auxiliaryData:{dataSource:r.data_source,matchedText:n,description:r.description,reach:r.approximate_count>j?r.approximate_count:'< 20',lookalikeSpec:r.lookalike_spec,subtype:r.subtype,disabled:t,existing_lookalikes:r.existing_lookalikes}});q.push(u);}.bind(this));o(q,n,c('SearchSourceQueryStatus').COMPLETE);};m.getInstance=function(n,o,p,q){return new m(null,{dao:n,accountID:o,disableDynamicCA:p,inclusionExclusionMode:q},k);};f.exports=m;}),null);
__d('AdsMessengerIncludeAudienceSearchSource',['fbt','AbstractSearchSource','AdsAPISpec','AdsAudienceDataSourceUtils','AdsGraphAPI','AdsMessengerAudienceUtils','SearchableEntry'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k='MESSENGER_NO_AUDIENCE',l=20;i=babelHelpers.inherits(m,c('AbstractSearchSource'));j=i&&i.prototype;function m(n,o,p){j.constructor.call(this);this.accountID=n;this.capabilities=o;this.pageID=p;}m.prototype.bootstrapImpl=function(n){this.search('',n);};m.prototype.searchImpl=function(n,o){c('AdsGraphAPI').get(f.id).adaccount(this.accountID).edge('customaudiences').batched().get({fields:c('AdsAPISpec').CUSTOM_AUDIENCE_FIELDS}).done(function(p){var q=[];if(p.data){var r=this.filterCustomAudiences(p.data);r.forEach(function(s){return (q.push(this.getSearchbleEntryForAudience(s)));}.bind(this));}if(!q.length)q.push(this.getNoAudiecneSearchableEntry());o(q,n);}.bind(this));};m.prototype.filterCustomAudiences=function(n){n=n.filter(function(o){return (!c('AdsAudienceDataSourceUtils').isDisallowedByDataSource(o.data_source));});return c('AdsMessengerAudienceUtils').filterCustomAudiencesForMessenger(n,this.pageID,this.capabilities);};m.prototype.getNoAudiecneSearchableEntry=function(){return new (c('SearchableEntry'))({title:h._("No audience found"),uniqueID:k});};m.prototype.getSearchbleEntryForAudience=function(n){return new (c('SearchableEntry'))({auxiliaryData:{dataSource:n.data_source,description:n.description,reach:n.approximate_count>l?n.approximate_count:'< 20',lookalikeSpec:n.lookalike_spec,subtype:n.subtype},subtitle:c('AdsAudienceDataSourceUtils').textForTypeInUI(n),title:n.name,uniqueID:n.id});};f.exports=m;}),null);
__d('AdsAudienceTypeahead.react',['cx','fbt','AbstractTypeahead.react','AdsAudienceFilterEnum','AdsAudienceFilterOrderedList','AdsAudienceMode','AdsAudienceSearchSource','AdsAudienceTypeaheadPresenter.react','AdsMessengerIncludeAudienceSearchSource','AdsMessengerPlacementV2Utils','BUIAdoptionCloseButton.react','React','ReactDOM','areEqual'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m='typeaheadDiv',n=i._("Add Custom Audiences or Lookalike Audiences");j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={queryString:'',resultCategory:this.props.defaultCategory||c('AdsAudienceFilterEnum').ALL,inclusionExclusionMode:this.props.inclusionExclusionMode||c('AdsAudienceMode').INCLUDE,inputHasFocus:false,selectorHasFocus:false,width:this.props.width,hideViewWithEntries:true,isLoading:false},this.$AdsAudienceTypeahead6=function(event){event.stopPropagation();event.preventDefault();this.clearAndFocusInput({fromBlur:false});}.bind(this),this.$AdsAudienceTypeahead4=function(u){if(this.props.onRemoveEntry){this.props.onRemoveEntry(u);this.$AdsAudienceTypeahead13();}}.bind(this),this.$AdsAudienceTypeahead7=function(){this.setState({inputHasFocus:false});if(this.state.hideViewWithEntries)this.clearInput({fromBlur:true});}.bind(this),this.$AdsAudienceTypeahead10=function(){this.setState({inputHasFocus:true});}.bind(this),this.$AdsAudienceTypeahead12=function(u){var v=this.state.inclusionExclusionMode;if(u)if(v===c('AdsAudienceMode').INCLUDE){this.props.onIncludeEntry(u);}else if(v===c('AdsAudienceMode').EXCLUDE){this.props.onExcludeEntry(u);}else throw new Error(v+' is not valid');this.$AdsAudienceTypeahead13();}.bind(this),this.$AdsAudienceTypeahead8=function(event){var u=event.target.value;this.setState({queryString:u});this.$AdsAudienceTypeahead1=false;}.bind(this),this.$AdsAudienceTypeahead5=function(u){this.setState({resultCategory:u,isLoading:true});this.$AdsAudienceTypeahead13();}.bind(this),this.$AdsAudienceTypeahead11=function(){this.setState({isLoading:false});}.bind(this),this.$AdsAudienceTypeahead9=function(u){if(this.state.isLoading===true)this.setState({isLoading:false});}.bind(this),q;}o.prototype.componentWillMount=function(){this.$AdsAudienceTypeahead2=c('AdsAudienceSearchSource').getInstance(this.props.dao,this.props.accountID,this.props.disableDynamicCA,this.state.inclusionExclusionMode);this.$AdsAudienceTypeahead3=new (c('AdsMessengerIncludeAudienceSearchSource'))(this.props.accountID,this.props.capabilities,this.props.pageID);this.$AdsAudienceTypeahead1=true;};o.prototype.componentDidMount=function(){if(!this.state.width)this.setState({width:c('ReactDOM').findDOMNode(this.refs[m]).clientWidth});};o.prototype.componentWillReceiveProps=function(p){if(p.accountID!==this.props.accountID)this.$AdsAudienceTypeahead2=c('AdsAudienceSearchSource').getInstance(this.props.dao,p.accountID,this.props.disableDynamicCA,this.state.inclusionExclusionMode);if(p.accountID!==this.props.accountID||c('areEqual')(p.capabilities,this.props.capabilities)||p.pageID!==this.props.pageID)this.$AdsAudienceTypeahead3=new (c('AdsMessengerIncludeAudienceSearchSource'))(p.accountID,p.capabilities,p.pageID);};o.prototype.render=function(){var p=this.state.inputHasFocus||this.state.selectorHasFocus,q=this.state.width,r=Object.assign({},c('AdsAudienceTypeaheadPresenter.react'),{alwaysVisibleOnFocus:true,extraRendererProps:{excludedEntries:this.props.excludedEntries,firstSearch:this.$AdsAudienceTypeahead1,inclusionExclusionMode:this.state.inclusionExclusionMode,isLoading:this.state.isLoading,resultCategories:this.props.resultCategories||c('AdsAudienceFilterOrderedList'),resultCategory:this.state.resultCategory,shouldDisableSelection:this.props.shouldDisableSelection,shouldHideSelectedEntries:this.props.shouldHideSelectedEntries,width:q,onRemoveEntry:this.$AdsAudienceTypeahead4,onResultCategoryChange:this.$AdsAudienceTypeahead5}}),s="_3d4g"+(p?' '+"_3d4h":''),t=false;t=c('AdsMessengerPlacementV2Utils').isMessengerThreadSelected(this.props.placementAPISpec);var u=t&&this.state.inclusionExclusionMode===c('AdsAudienceMode').INCLUDE?this.$AdsAudienceTypeahead3:this.$AdsAudienceTypeahead2,v={};if(this.state.resultCategory!=c('AdsAudienceFilterEnum').ALL)v.lookalike=this.state.resultCategory==c('AdsAudienceFilterEnum').LOOKALIKE;var w=c('React').createElement(c('BUIAdoptionCloseButton.react'),{className_DEPRECATED:"_wrm"+(!this.state.queryString?' '+"hidden_elem":''),onMouseDown:this.$AdsAudienceTypeahead6});return c('React').createElement('div',{className:s,ref:m},c('React').createElement('div',{className:"_3d4j"},c('React').createElement(c('AbstractTypeahead.react'),{autoHighlight:true,excludedEntries:this.props.excludedEntries,hideViewWithEntries:this.state.hideViewWithEntries,placeholder:this.props.placeholder||n,presenter:r,queryString:this.state.queryString,ref:'typeahead',searchSource:u,searchSourceOptions:v,selectedEntry:null,showEntriesOnFocus:true,onBlur:this.$AdsAudienceTypeahead7,onChange:this.$AdsAudienceTypeahead8,onEntriesFound:this.$AdsAudienceTypeahead9,onFocus:this.$AdsAudienceTypeahead10,onNoEntriesFound:this.$AdsAudienceTypeahead11,onSelectAttempt:this.$AdsAudienceTypeahead12}),w));};o.prototype.toggleFocus=function(){if(this.state.inputHasFocus){this.$AdsAudienceTypeahead14();}else this.$AdsAudienceTypeahead13();};o.prototype.clearInput=function(){this.setState({queryString:''});};o.prototype.clearAndFocusInput=function(){this.clearInput();this.$AdsAudienceTypeahead13();};o.prototype.$AdsAudienceTypeahead13=function(){this.setState({hideViewWithEntries:false});setTimeout(function(){this.refs.typeahead.focusInput();this.setState({hideViewWithEntries:true});}.bind(this),0);};o.prototype.$AdsAudienceTypeahead14=function(){setTimeout(function(){return this.refs.typeahead.blurInput();}.bind(this),0);};o.propTypes={accountID:l.string.isRequired,capabilities:l.array,dao:l.object.isRequired,defaultCategory:l.string,disableDynamicCA:l.bool,excludedEntries:l.object.isRequired,inclusionExclusionMode:l.oneOf([c('AdsAudienceMode').EXCLUDE,c('AdsAudienceMode').INCLUDE]),pageID:l.string,pageTypes:l.arrayOf(l.string.isRequired),placeholder:l.string,placementAPISpec:l.object.isRequired,resultCategories:l.array,shouldDisableSelection:l.bool,shouldHideSelectedEntries:l.bool,width:l.number,onExcludeEntry:l.func.isRequired,onIncludeEntry:l.func.isRequired,onRemoveEntry:l.func.isRequired};f.exports=o;}),null);
__d('AdsTargetingAudienceConstants',[],(function a(b,c,d,e,f,g){'use strict';f.exports={INVALID_AUDIENCE_DATA_SOURCE_KEY:'__invalid_custom_audience'};}),null);
__d('AdsTargetingAudienceCloseButton.react',['BUIAdoptionCloseButton.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$AdsTargetingAudienceCloseButton1=function(q){q.preventDefault();this.props.onRemove&&this.props.onRemove();}.bind(this),m;}k.prototype.render=function(){var l=void 0;if(this.props.onRemove)l=c('React').createElement(c('BUIAdoptionCloseButton.react'),{onClick:this.$AdsTargetingAudienceCloseButton1});return c('React').createElement('span',null,l);};k.propTypes={onRemove:j.func};f.exports=k;}),null);
__d('AdsTargetingAudienceActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h='ADS_TARGETING_AUDIENCE',i={CHANGE_SORT:'',CLEAR_AUDIENCE_STORE:'',CLEAR_AUDIENCE_QUERY:'',DROPDOWN_RENDERED:'',EXCLUDE_AUDIENCE:'',HIDE_AUDIENCE_CREATION_MENU_NUX:'',HIDE_CREATE_CUSTOM_AUDIENCE_DIALOG:'',HIDE_CREATE_CUSTOM_AUDIENCE_NUX:'',HIDE_CREATE_LAL_AUDIENCE_DIALOG:'',HIDE_EDITOR:'',HIDE_PAGE_LAL_NUX:'',SELECT_AUDIENCE:'',SET_TARGETABLE_AUDIENCES_LOADED:'',SHOW_CREATE_CUSTOM_AUDIENCE_DIALOG:'',SHOW_CREATE_CUSTOM_AUDIENCE_NUX:'',SHOW_CREATE_LAL_AUDIENCE_DIALOG:'',SHOW_ENGAGEMENT_AUDIENCE_NUX:'',SHOW_EDITOR:'',SHOW_PAGE_LAL_NUX:''};f.exports=c('keyMirrorRecursive')(i,h);}),null);
__d('AdsTargetingAudienceActions',['AdsDispatcher','AdsTargetingAudienceActionTypes','AdsTargetingViewActionsLogger'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsTargetingViewActionsLogger').attachLog({clearStore:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsTargetingAudienceActionTypes').CLEAR_AUDIENCE_STORE});},hidePageLookalikeNUX:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsTargetingAudienceActionTypes').HIDE_PAGE_LAL_NUX});},hideAudienceCreationMenuNUX:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsTargetingAudienceActionTypes').HIDE_AUDIENCE_CREATION_MENU_NUX});},showCreateCustomAudienceDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsTargetingAudienceActionTypes').SHOW_CREATE_CUSTOM_AUDIENCE_DIALOG});},hideCreateCustomAudienceDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsTargetingAudienceActionTypes').HIDE_CREATE_CUSTOM_AUDIENCE_DIALOG});},showCreateCustomAudienceNUX:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsTargetingAudienceActionTypes').SHOW_CREATE_CUSTOM_AUDIENCE_NUX});},hideCreateCustomAudienceNUX:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsTargetingAudienceActionTypes').HIDE_CREATE_CUSTOM_AUDIENCE_NUX});},showCreateLookalikeAudienceDialog:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsTargetingAudienceActionTypes').SHOW_CREATE_LAL_AUDIENCE_DIALOG,lookalikeSeedAudience:j});},hideCreateLookalikeAudienceDialog:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsTargetingAudienceActionTypes').HIDE_CREATE_LAL_AUDIENCE_DIALOG});},showEditor:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsTargetingAudienceActionTypes').SHOW_EDITOR});},hideEditor:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsTargetingAudienceActionTypes').HIDE_EDITOR});},setTargetableAudiencesLoaded:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsTargetingAudienceActionTypes').SET_TARGETABLE_AUDIENCES_LOADED,loaded:j});},showEngagementAudienceNUX:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsTargetingAudienceActionTypes').SHOW_ENGAGEMENT_AUDIENCE_NUX});}},{prefix:'ads_targeting_audience_'});f.exports=h;}),null);
__d('AdsTargetingAudiencePopoverMenu.react',['cx','fbt','ix','AdsLookalikeOriginType','AdsTargetingAudienceActions','ads-cluster-constants','CustomAudienceDataSourceType','Image.react','MenuSeparator.react','PopoverMenu.react','React','ReactXUIMenu','getByPath','keyMirrorRecursive'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m,n=c('React').Component,o=c('React').PropTypes,p=c('ReactXUIMenu').Item,q=c('ReactXUIMenu').SelectableItem,r=c('ads-cluster-constants').LOOKALIKE_SOURCE_TYPE,s=(m={},m[c('AdsLookalikeOriginType').CUSTOM_AUDIENCE]=r.CUSTOM_AUDIENCE,m[c('AdsLookalikeOriginType').CONVERSION_PIXEL]=r.CONVERSION_PIXEL,m[c('AdsLookalikeOriginType').PAGE_FAN]=r.PAGE,m[c('AdsLookalikeOriginType').APP_USER]=r.APPLICATION,m[c('AdsLookalikeOriginType').FB_PIXEL]=r.FB_PIXEL,m[c('AdsLookalikeOriginType').DATA_SET]=r.DATA_SET,m[c('AdsLookalikeOriginType').CONVERSION_PIXEL_DEPRECATED]=r.CONVERSION_PIXEL,m),t=c('keyMirrorRecursive')({CREATE_LAL:'',INCLUDE_EXCLUDE:'',SEPARATOR:''});k=babelHelpers.inherits(u,n);l=k&&k.prototype;function u(){var v,w;for(var x=arguments.length,y=Array(x),z=0;z<x;z++)y[z]=arguments[z];return w=(v=l.constructor).call.apply(v,[this].concat(y)),this.onItemClick=function(aa,event){var ba=c('getByPath')(event,['item','_data','value']);if(ba===t.INCLUDE_EXCLUDE){if(this.props.isAudienceExcluded){this.props.onIncludeAudience&&this.props.onIncludeAudience();}else this.props.onExcludeAudience&&this.props.onExcludeAudience();}else if(ba===t.CREATE_LAL){var ca=void 0;if(this.isLookalike(this.props.audience)){var da=c('getByPath')(this.props.audience,['lookalike_spec','origin','0']);ca={id:da.id,name:da.name,sourceType:s[da.type]};}else ca={id:this.props.audience.id,name:this.props.audience.name,sourceType:r.CUSTOM_AUDIENCE};c('AdsTargetingAudienceActions').showCreateLookalikeAudienceDialog(ca);}}.bind(this),w;}u.prototype.render=function(){var v=c('React').createElement(c('ReactXUIMenu'),{className:"_5mby",onItemClick:this.onItemClick},this.$AdsTargetingAudiencePopoverMenu1());return c('React').createElement(c('PopoverMenu.react'),{alignh:'right',className:"_5mbz",menu:v,ref:'popoverMenu'},c('React').createElement(c('Image.react'),{className:"_5mb-",src:j("72394")}));};u.prototype.$AdsTargetingAudiencePopoverMenu1=function(){var v=this.props.isAudienceExcluded?i._("Include this audience"):i._("Exclude this audience"),w=[c('React').createElement(q,{className:"_5mbx",key:t.INCLUDE_EXCLUDE,value:t.INCLUDE_EXCLUDE},v)];if(this.shouldShowLookalikeCreationMenuItem())w.push(c('React').createElement(c('MenuSeparator.react'),{key:t.SEPARATOR}),c('React').createElement(p,{key:t.CREATE_LAL,value:t.CREATE_LAL},i._("Create Lookalike Audience")));return w;};u.prototype.shouldShowLookalikeCreationMenuItem=function(){if(this.props.disableAudienceCreation)return false;if(this.isLookalike(this.props.audience)){var v=c('getByPath')(this.props.audience,['lookalike_spec','origin','0','type']);return !!(v&&v in s);}return true;};u.prototype.showMenu=function(){this.refs&&this.refs.popoverMenu&&this.refs.popoverMenu.showPopover();};u.prototype.isLookalike=function(v){return (v.data_source&&v.data_source.type===c('CustomAudienceDataSourceType').SEED_BASED);};f.exports=u;}),null);
__d('AdsTargetingAudienceGroupListItem.react',['cx','fbt','ix','AdInterfacesUiLogger','AdsAudienceDataSourceUtils','AdsCustomAudienceType','AdsEngagementAudienceUILogger','AdsSelectedAccountIDGetter','AdsTargetingAudienceCloseButton.react','AdsTargetingAudienceConstants','AdsTargetingAudiencePopoverMenu.react','BUIAdoptionButton.react','CustomAudienceDataSourceSubType','EngagementAudienceUIEvents','Image.react','Layout.react','Link.react','List.react','React','XUIContextualDialog.react','XUIContextualDialogBody.react','XUIContextualDialogFooter.react','emptyFunction','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m,n,o=c('React').PropTypes,p=c('Layout.react').Column,q=c('Layout.react').FillColumn,r=c('CustomAudienceDataSourceSubType');function s(w,x){return w.name.toLowerCase()>x.name.toLowerCase()?1:-1;}var t=i._("Unknown");k=babelHelpers.inherits(u,c('React').Component);l=k&&k.prototype;function u(){var w,x;for(var y=arguments.length,z=Array(y),aa=0;aa<y;aa++)z[aa]=arguments[aa];return x=(w=l.constructor).call.apply(w,[this].concat(z)),this.$AdsTargetingAudienceGroupListItem1=function(){var ba=this.$AdsTargetingAudienceGroupListItem2();if(ba&&ba.sub_type===r.VIDEO_EVENTS)c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').VIDEO_CHECKBOX_AUDIENCE_USED);}.bind(this),this.$AdsTargetingAudienceGroupListItem6=function(){return this.refs.video_group_header;}.bind(this),this.$AdsTargetingAudienceGroupListItem4=function(){return this.refs.video_group;}.bind(this),this.$AdsTargetingAudienceGroupListItem7=function(){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').VIDEO_DEPRECATION_CLICK);if(this.props.onCreateAudienceClick)this.props.onCreateAudienceClick();}.bind(this),this.$AdsTargetingAudienceGroupListItem5=function(){var ba=c('React').createElement('div',{className:"_1l0p"},c('React').createElement('div',{className:"_107q"},c('React').createElement('div',{className:"_107r"},c('React').createElement(c('Image.react'),{className:"_1l0t",src:j("22146")})),c('React').createElement('div',{className:"_107t"},i._("To reach your video viewers going forward, you can create {new audience name}",[i.param('new audience name',c('React').createElement('strong',null,' ',' Video Engagement Custom Audiences. ',' '))]),c('React').createElement(c('Link.react'),{href:'https://www.facebook.com/business/help/1099865760056389'},i._("Learn more")),c('React').createElement('div',{className:"_2pif"},c('React').createElement(c('BUIAdoptionButton.react'),{label:i._("Create Audience"),onClick:this.$AdsTargetingAudienceGroupListItem7})))));return (c('React').createElement('div',null,c('React').createElement(c('XUIContextualDialogBody.react'),null,c('React').createElement('div',{className:"_1l0w"},i._("These video audiences were automatically generated during advert creation. We don't create audiences in this way anymore, but you can continue using existing audiences."))),c('React').createElement(c('XUIContextualDialogFooter.react'),null,ba)));}.bind(this),this.$AdsTargetingAudienceGroupListItem8=function(){var ba=this.props.targetableAudiences||{},ca=this.props.group[0]||{},da=ba[ca.id]||{};return da;}.bind(this),this.$AdsTargetingAudienceGroupListItem2=function(){return this.$AdsTargetingAudienceGroupListItem8().data_source;}.bind(this),this.$AdsTargetingAudienceGroupListItem3=function(){if(this.props.groupKey===c('AdsTargetingAudienceConstants').INVALID_AUDIENCE_DATA_SOURCE_KEY)return (c('React').createElement('span',{className:"_2vlv"},i._("Invalid Custom Audiences")));var ba=this.$AdsTargetingAudienceGroupListItem2(),ca=void 0,da=void 0;if(ba&&ba.sub_type===r.VIDEO_EVENTS){ca=c('React').createElement(c('Image.react'),{className:"_541d",src:j("137554")});da=i._("The way that video audiences are created {has changed}",[i.param('has changed',c('React').createElement('strong',null,' ',' has changed',' '))]);}else if(ba)da=c('AdsAudienceDataSourceUtils').textForTypeInUI(this.$AdsTargetingAudienceGroupListItem8());return (c('React').createElement('span',null,da,ca));}.bind(this),x;}u.prototype.getDefaultProps=function(){return {disableChangingIncludeExclude:false};};u.prototype.componentDidMount=function(){var w=c('AdsSelectedAccountIDGetter').get({});if(!w)w='';c('AdsEngagementAudienceUILogger').setAppName(c('AdInterfacesUiLogger').getAppName());c('AdsEngagementAudienceUILogger').setAdAccountID(w);this.$AdsTargetingAudienceGroupListItem1();};u.prototype.componentDidUpdate=function(){this.$AdsTargetingAudienceGroupListItem1();};u.prototype.render=function(){var w=this.props.group.sort(s),x=w.map(function(z){var aa=this.props.excludedAudienceIDs.lastIndexOf(z.id)!==-1;return c('React').createElement(v,{audience:z,disableAudienceCreation:this.props.disableAudienceCreation,disableChangingIncludeExclude:this.props.disableChangingIncludeExclude,isAudienceExcluded:aa,key:z.id,onExcludeAudience:function(){this.props.onExcludeAudience(z);}.bind(this),onIncludeAudience:function(){this.props.onIncludeAudience(z);}.bind(this),onRemoveAudience:function(){this.props.onRemoveAudience(z);}.bind(this)});},this),y=this.$AdsTargetingAudienceGroupListItem2();if(y&&y.sub_type===r.VIDEO_EVENTS){return c('React').createElement('div',null,c('React').createElement(c('List.react'),{border:'none',className:"_5m8t",ref:'video_group',spacing:'none',onMouseEnter:c('emptyFunction')},c('React').createElement('li',{className:"_1l0o _5m8u",ref:'video_group_header'},this.$AdsTargetingAudienceGroupListItem3()),c('React').createElement('li',null,c('React').createElement(c('List.react'),{border:'none',className:"_5m8v",spacing:'none'},x))),c('React').createElement(c('XUIContextualDialog.react'),{alignment:'center',autoFocus:false,contextRef:this.$AdsTargetingAudienceGroupListItem4,hoverContextRef:this.$AdsTargetingAudienceGroupListItem4,offsetY:-10,position:'below',width:500},this.$AdsTargetingAudienceGroupListItem5()));}else return c('React').createElement(c('List.react'),{border:'none',className:"_5m8t",spacing:'none'},c('React').createElement('li',{className:"_5m8u"},this.$AdsTargetingAudienceGroupListItem3()),c('React').createElement('li',null,c('React').createElement(c('List.react'),{border:'none',className:"_5m8v",spacing:'none'},x)));};m=babelHelpers.inherits(v,c('React').Component);n=m&&m.prototype;function v(){var w,x;for(var y=arguments.length,z=Array(y),aa=0;aa<y;aa++)z[aa]=arguments[aa];return x=(w=n.constructor).call.apply(w,[this].concat(z)),this.$AdsAudienceItem2=function(ba){return (!this.props.disableChangingIncludeExclude&&parseInt(ba.subtype,10)!==c('AdsCustomAudienceType').SUBTYPE_TO_ENUM_MAP.COMBINATION);}.bind(this),this.$AdsAudienceItem5=function(){this.props.onRemoveAudience&&this.props.onRemoveAudience();}.bind(this),this.$AdsAudienceItem3=function(){this.props.onExcludeAudience&&this.props.onExcludeAudience();}.bind(this),this.$AdsAudienceItem4=function(){this.props.onIncludeAudience&&this.props.onIncludeAudience();}.bind(this),this.$AdsAudienceItem1=function(){if(this.refs&&this.refs.popoverMenu)this.refs.popoverMenu.showMenu();}.bind(this),x;}v.prototype.render=function(){var w=this.props.audience;return c('React').createElement('li',{className:"_5m8s"},c('React').createElement(c('Layout.react'),null,c('React').createElement(q,null,c('React').createElement('div',{className:"_5ct4",role:'button',onClick:this.$AdsAudienceItem1,tabIndex:'0'},w.name||t)),this.$AdsAudienceItem2(w)?c('React').createElement(p,null,c('React').createElement('div',{className:"_5mb_"},c('React').createElement(c('AdsTargetingAudiencePopoverMenu.react'),{audience:this.props.audience,disableAudienceCreation:this.props.disableAudienceCreation,isAudienceExcluded:this.props.isAudienceExcluded,ref:'popoverMenu',onExcludeAudience:this.$AdsAudienceItem3,onIncludeAudience:this.$AdsAudienceItem4}))):null,c('React').createElement(p,null,c('React').createElement('div',{className:"_5mfq"},c('React').createElement(c('AdsTargetingAudienceCloseButton.react'),{onRemove:this.$AdsAudienceItem5})))));};f.exports=u;}),null);
__d('AdsTargetingAudienceTokenizer.react',['cx','fbt','AdsCustomAudienceType','AdsTargetingAudienceGroupListItem.react','AdsTargetingWebdriverIDs','AdsAudienceMode','AdsAudienceTypeahead.react','AdsError','AdsInterfacesLogEvents','AdsInterfacesLogger','AdsMessengerPlacementV2Utils','AdsTargetingAudienceConstants','BUIAdoptionXUINotice.react','CustomAudienceDataSourceType','InlineBlock.react','List.react','Link.react','React','XUIError.react','adsGKCheck'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('AdsInterfacesLogEvents').Event,m=c('AdsInterfacesLogEvents').EventCategory,n=c('AdsCustomAudienceType').ENUM_TO_SUBTYPE_MAP,o=c('React').PureComponent,p='typeahead',q='excludeTypeahead';function r(t){var u=t.getAuxiliaryData(),v=u.subtype in n?n[u.subtype]:u.subtype;return {id:t.getUniqueID(),name:t.getTitle(),data_source:u.dataSource,lookalike_spec:u.lookalikeSpec,subtype:v};}j=babelHelpers.inherits(s,o);k=j&&j.prototype;function s(t){k.constructor.call(this,t);this.$AdsTargetingAudienceTokenizer4=function(){return (c('React').createElement('div',{className:"_2k0 _5twk _5twn"},i._("INCLUDE people who are in at least ONE of the following")));};this.$AdsTargetingAudienceTokenizer9=function(){this.setState({showExclude:true});}.bind(this);this.$AdsTargetingAudienceTokenizer17=function(u){this.props.onIncludeAudience(u);}.bind(this);this.$AdsTargetingAudienceTokenizer16=function(u){this.$AdsTargetingAudienceTokenizer9();this.props.onExcludeAudience&&this.props.onExcludeAudience(u);}.bind(this);this.$AdsTargetingAudienceTokenizer18=function(u){this.props.onRemoveAudience(u);}.bind(this);this.$AdsTargetingAudienceTokenizer14=function(u){this.props.onIncludeAudience(r(u));}.bind(this);this.$AdsTargetingAudienceTokenizer13=function(u){this.$AdsTargetingAudienceTokenizer9();var v=r(u);this.props.onExcludeAudience&&this.props.onExcludeAudience(v);}.bind(this);this.$AdsTargetingAudienceTokenizer15=function(u){this.props.onRemoveAudience(r(u));}.bind(this);this.state={showExclude:t.excludedCustomAudiences.length!==0};}s.prototype.render=function(){var t=this.$AdsTargetingAudienceTokenizer1(),u=this.props.maxEntries?this.props.customAudiences.length>=this.props.maxEntries:false,v=this.props.maxEntries?this.props.excludedCustomAudiences.length>=this.props.maxEntries:false,w=this.$AdsTargetingAudienceTokenizer2(t),x=this.props.excludedCustomAudiences.map(function(ea){return ea.id;}),y=this.props.errors.length?c('React').createElement('ul',null,this.props.errors.map(function(ea){return c('React').createElement('li',{key:ea.key},ea.message);})):null;if(y)c('AdsInterfacesLogger').log({eventName:l.TARGETING_UI_CUSTOM_AUDIENCE_ERROR,eventCategory:m.ERROR},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);var z=null,aa=this.$AdsTargetingAudienceTokenizer3(w,x),ba=c('React').createElement('div',null,this.state.showExclude?this.$AdsTargetingAudienceTokenizer4():null,this.$AdsTargetingAudienceTokenizer5(aa.included,false,x,u)),ca=this.state.showExclude?c('React').createElement('div',{className:"_5eqd"},this.$AdsTargetingAudienceTokenizer6(),this.$AdsTargetingAudienceTokenizer5(aa.excluded,true,x,v)):null,da=[];if(this.props.onExcludeAudience&&!this.state.showExclude)da.push(this.$AdsTargetingAudienceTokenizer7());if(this.props.audienceCreationPopoverMenu)da.push(this.props.audienceCreationPopoverMenu);z=c('React').createElement('div',null,ba,ca,this.$AdsTargetingAudienceTokenizer8(da));return c('React').createElement(c('XUIError.react'),{xuiError:y,xuiErrorPosition:'above'},z);};s.prototype.$AdsTargetingAudienceTokenizer6=function(){return c('React').createElement('div',{className:"_2k0 _5twk"},i._("EXCLUDE people who are in at least ONE of the following"));};s.prototype.$AdsTargetingAudienceTokenizer7=function(){var t=c('adsGKCheck')('ads_custom_audience_typeahead_new_text')?i._("Exclude audiences"):i._("Exclude");return c('React').createElement('div',{className:"_5eqe"},c('React').createElement(c('Link.react'),{href:{url:'#'},onClick:this.$AdsTargetingAudienceTokenizer9},t));};s.prototype.$AdsTargetingAudienceTokenizer8=function(t){var u=[];for(var v=0;v<t.length;v++){if(v!==0)u.push(c('React').createElement('div',{className:"_5two",key:'separator'}));u.push(c('React').createElement(c('InlineBlock.react'),{alignh:'left',alignv:'middle',className:"_5twp",key:v},t[v]));}return u;};s.prototype.$AdsTargetingAudienceTokenizer5=function(t,u,v,w){var x=u?c('AdsAudienceMode').EXCLUDE:c('AdsAudienceMode').INCLUDE,y=u?q:p,z=c('React').createElement(c('List.react'),{className:"_1g-y"},this.$AdsTargetingAudienceTokenizer10(t,v));return c('React').createElement('div',{className:"_1g-z uiContextualLayerParent",style:{width:this.props.width}},c('React').createElement('div',null,this.$AdsTargetingAudienceTokenizer11(t),Object.keys(t).length?z:null),c('React').createElement('div',{className:"_310h",'data-testid':c('AdsTargetingWebdriverIDs').TARGETING_CUSTOM_AUDIENCE_TOKENIZER},c('React').createElement(c('AdsAudienceTypeahead.react'),{accountID:this.props.accountID,capabilities:this.props.capabilities,dao:this.props.dao,defaultCategory:this.props.defaultCategory,disableDynamicCA:this.props.disableDynamicCA,excludedEntries:this.$AdsTargetingAudienceTokenizer12(),inclusionExclusionMode:x,pageID:this.props.pageID,pageTypes:this.props.pageTypes,placeholder:this.props.placeholder,placementAPISpec:this.props.placementAPISpec,ref:y,resultCategories:this.props.resultCategories,shouldDisableSelection:w,shouldHideSelectedEntries:this.props.shouldHideSelectedEntries,width:this.props.width,onExcludeEntry:this.$AdsTargetingAudienceTokenizer13,onIncludeEntry:this.$AdsTargetingAudienceTokenizer14,onRemoveEntry:this.$AdsTargetingAudienceTokenizer15})));};s.prototype.$AdsTargetingAudienceTokenizer10=function(t,u){var v=c('AdsMessengerPlacementV2Utils').isMessengerThreadSelected(this.props.placementAPISpec);return Object.keys(t).map(function(w){return c('React').createElement('li',{key:w},c('React').createElement(c('AdsTargetingAudienceGroupListItem.react'),{disableAudienceCreation:this.props.disableAudienceCreation,disableChangingIncludeExclude:!this.props.onExcludeAudience||v,excludedAudienceIDs:u,group:t[w],groupKey:w,targetableAudiences:this.props.targetableAudiences,onCreateAudienceClick:this.props.onCreateAudienceClick,onExcludeAudience:this.$AdsTargetingAudienceTokenizer16,onIncludeAudience:this.$AdsTargetingAudienceTokenizer17,onRemoveAudience:this.$AdsTargetingAudienceTokenizer18}));}.bind(this),this);};s.prototype.$AdsTargetingAudienceTokenizer11=function(t){var u=c('AdsTargetingAudienceConstants').INVALID_AUDIENCE_DATA_SOURCE_KEY;if(!t[u]||!t[u].length)return null;c('AdsInterfacesLogger').log({eventName:l.TARGETING_UI_CUSTOM_AUDIENCE_RENDER_UNAVAILABLE,eventCategory:m.ERROR},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);return c('React').createElement('div',{className:"mbs"},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'error'},i._("You have included one or more Custom Audiences that have been deleted or are no longer available to you. Please remove them from your targeting to continue editing this advert.")));};s.prototype.$AdsTargetingAudienceTokenizer12=function(){var t={},u=this.props.shouldHideSelectedEntries;this.$AdsTargetingAudienceTokenizer1().forEach(function(v){t[v.id]=u;});return t;};s.prototype.$AdsTargetingAudienceTokenizer2=function(t){var u={};t.forEach(function(v){var w=this.props.targetableAudiences[v.id];if(w){v=babelHelpers['extends']({},w,v);var x=w.data_source,y=x.type===c('CustomAudienceDataSourceType').FILE_IMPORTED?x.type:x.sub_type;u[y]=u[y]||[];u[y].push(v);}else{var z=c('AdsTargetingAudienceConstants').INVALID_AUDIENCE_DATA_SOURCE_KEY;u[z]=u[z]||[];u[z].push(v);}}.bind(this));return u;};s.prototype.$AdsTargetingAudienceTokenizer19=function(t,u){var v={};Object.keys(t).map(function(w){var x=t[w].filter(u);if(x.length>0)v[w]=x;});return v;};s.prototype.$AdsTargetingAudienceTokenizer3=function(t,u){var v=this.$AdsTargetingAudienceTokenizer19(t,function(x){return u.indexOf(x.id)===-1;}),w=this.$AdsTargetingAudienceTokenizer19(t,function(x){return u.indexOf(x.id)>-1;});return {included:v,excluded:w};};s.prototype.$AdsTargetingAudienceTokenizer1=function(){return this.props.customAudiences.concat(this.props.excludedCustomAudiences);};s.defaultProps={errors:[],shouldHideSelectedEntries:true};f.exports=s;}),null);
__d('AdsAbstractSliderUtils',['clamp'],(function a(b,c,d,e,f,g){'use strict';var h={emptyNormalize:function i(j){return j;},emptyRenderTooltip:function i(){return null;},emptyRenderLegend:function i(j){return null;},emptyGetPipStyle:function i(j,k){return {};},getDefaultAxisTicker:function i(j,k,l){return null;},getDefaultLabel:function i(j,k,l){return j+'';},getNormalizeFunction:function i(j){function k(l,m,n,o){var p=o===1&&m===1?n[0]+1:0,q=o===0&&m===0?n[1]-1:j-1;return c('clamp')(Math.round(l),p,q);}return k;}};f.exports=h;}),null);
__d('AdsSchedulingTooltipTheme',['cx'],(function a(b,c,d,e,f,g,h){'use strict';var i={wrapperClassName:"_3yee",arrowDimensions:{offset:14,length:18}};f.exports=i;}),null);
__d('AdsSchedulingTooltip.react',['cx','AdsSchedulingTooltipTheme','React','ReactLayer','ReactAbstractContextualDialog','XUIAmbientNUXBody.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=c('ReactLayer').createClass(c('ReactAbstractContextualDialog').createSpec({displayName:'AdsScheduleingTooltipTheme',theme:c('AdsSchedulingTooltipTheme')}));i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;m.prototype.render=function(){return (c('React').createElement(l,babelHelpers['extends']({autoFocus:false,focusContextOnHide:false},this.props),c('React').createElement(c('XUIAmbientNUXBody.react'),{className:"_1m17",onCloseButtonClick:this.props.onCloseButtonClick},this.props.children)));};function m(){i.apply(this,arguments);}m.propTypes={alignment:k.oneOf(['left','center','right']),behaviors:k.object,context:k.object,contextRef:k.func,customwidth:k.number,hasActionableContext:k.bool,offsetX:k.number,offsetY:k.number,position:k.oneOf(['above','below','left','right']),shown:k.bool,onCloseButtonClick:k.func};f.exports=m;}),null);
__d('AdsAbstractSlider.react',['cx','AdsAbstractSliderUtils','AdsSchedulingTooltip.react','Draggable','Locale','React','ReactDOM','Rect','emptyFunction'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=j.constructor).call.apply(p,[this].concat(s)),this.$AdsAbstractSliderHandle1=null,this.$AdsAbstractSliderHandle4=function(){var u=c('ReactDOM').findDOMNode(this),v=new (c('Rect'))(u.parentNode),w=v.r-v.l,x=new (c('Rect'))(u),y=x.r-x.l,z=new (c('Rect'))(0,v.l+w*this.props.maxPercentage/100+y,0,v.l+w*this.props.minPercentage/100);this.$AdsAbstractSliderHandle1&&this.$AdsAbstractSliderHandle1.setBoundingBox(z);var aa=(x.l+x.r)/2,ba=(aa-v.l)*100/w;this.props.onDrag(this.props.elementIndex,ba);}.bind(this),this.$AdsAbstractSliderHandle5=function(){this.props.onDrop();}.bind(this),this.$AdsAbstractSliderHandle3=function(){this.props.onGrab();}.bind(this),q;}n.prototype.$AdsAbstractSliderHandle2=function(){if(!this.$AdsAbstractSliderHandle1){var p='dragHandle_'+this.props.elementIndex;this.$AdsAbstractSliderHandle1=new (c('Draggable'))(c('ReactDOM').findDOMNode(this)).setNamespace('AdsAbstractSlider').setUseAbsolute(true).setGrabHandler(this.$AdsAbstractSliderHandle3).setDragHandler(this.$AdsAbstractSliderHandle4).setDropHandler(this.$AdsAbstractSliderHandle5).addHandle(c('ReactDOM').findDOMNode(this.refs[p]));}};n.prototype.$AdsAbstractSliderHandle6=function(){this.$AdsAbstractSliderHandle1&&this.$AdsAbstractSliderHandle1.killDrag();this.$AdsAbstractSliderHandle7();};n.prototype.$AdsAbstractSliderHandle7=function(){this.$AdsAbstractSliderHandle1&&this.$AdsAbstractSliderHandle1.resetPosition();this.setState({dragging:false});};n.prototype.$AdsAbstractSliderHandle8=function(){if(this.$AdsAbstractSliderHandle1){if(this.$AdsAbstractSliderHandle1.active)this.$AdsAbstractSliderHandle6();this.$AdsAbstractSliderHandle1.destroy();}};n.prototype.componentDidMount=function(){this.$AdsAbstractSliderHandle2();};n.prototype.componentWillUnmount=function(){this.$AdsAbstractSliderHandle8();};n.prototype.render=function(){return (c('React').createElement('span',{className:"_36jy",ref:'dragHandle_'+this.props.elementIndex,style:{left:this.props.normalize(this.props.percentage)+'%'}}));};n.propTypes={elementIndex:m.number.isRequired,maxPercentage:m.number.isRequired,minPercentage:m.number.isRequired,normalize:m.func.isRequired,percentage:m.number.isRequired,onDrag:m.func.isRequired,onDrop:m.func.isRequired,onGrab:m.func.isRequired};n.defaultProps={minPercentage:0,maxPercentage:100,normalize:c('AdsAbstractSliderUtils').emptyNormalize};k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.state={currentDragIndex:null,currentValues:this.props.values},this.getPercentage=function(u){var v=this.props.maxValue-this.props.minValue,w=(u-this.props.minValue)*100/v;if(c('Locale').isRTL())w=100-w;return w;}.bind(this),this.onDrag=function(u,v){var w=this.props.values.slice();w[u]=this.getFromPercentage(v);this.setState({currentDragIndex:u,currentValues:w},function(){this.props.onDrag(w,this.getCurrentNormalizedValues());}.bind(this));}.bind(this),this.onDrop=function(){this.props.onDrop(this.getCurrentNormalizedValues(),this.state.currentDragIndex);}.bind(this),this.onClick=function(u){if(!this.props.shouldHandleClick)return;var v=this.refs.sliderContainer.getBoundingClientRect(),w=u.clientX,x=v.right-v.left,y=(w-v.left)*100/Math.max(x,1),z=this.state.currentDragIndex||0,aa=this.props.values.slice();aa[z]=this.getFromPercentage(y);this.setState({currentValues:aa},function(){this.props.onClick(aa,this.getCurrentNormalizedValues());}.bind(this));}.bind(this),this.onGrab=function(){this.props.onGrab();}.bind(this),this.$AdsAbstractSlider1=function(){return this.refs['SliderHandle_'+(this.state.currentDragIndex||0)];}.bind(this),this.normalizeValue=function(u,v){return this.props.normalize(u,v,this.props.values,this.state.currentDragIndex);}.bind(this),q;}o.prototype.componentWillReceiveProps=function(p){this.setState({currentValues:p.values});};o.prototype.getRangeColor=function(p,q){var r=this.props.colors;switch(this.props.colorPattern){case 'lookalike':return p===0||p===q-1?r[0]:r[1];case 'single':return p===0?r[1]:r[0];default:return r[p%r.length];}};o.prototype.getFromPercentage=function(p){if(c('Locale').isRTL())p=100-p;var q=this.props.maxValue-this.props.minValue;return this.props.minValue+q*p/100;};o.prototype.getPipValues=function(){var p=[],q=this.props.minValue;while(q-this.props.maxValue<1e-08){p.push(q);q+=this.props.step||0;}return p;};o.prototype.renderAxisTickers=function(){return this.getPipValues().map(function(p,q){var r=this.props.getAxisTicker(q,this.props.colors,this.props.values);return r?c('React').createElement('span',{key:'ticker_'+q,style:{display:'inline-block',left:this.getPercentage(p)+'%'}},r):null;}.bind(this));};o.prototype.renderPips=function(){if(!this.props.showPipLines&&!this.props.showPipLabels)return [];return this.getPipValues().map(function(p,q){var r={},s=null,t=null;Object.assign(r,this.props.getPipStyle(q,this.props.values),{left:this.getPercentage(p)+'%'});if(this.props.showPipLines)s=c('React').createElement('span',{className:"_5b85"});if(this.props.showPipLabels){var u=void 0,v=this.props.boldSelectedPipLabels&&this.props.values.indexOf(p)!==-1;if(this.props.labelStyle==='inverted'){u="_5cue"+(v?' '+"_3zn3":'')+(' '+"_5cuf");}else u="_5cue"+(v?' '+"_3zn3":'')+(' '+"_5cv0");t=c('React').createElement('span',{className:u},this.props.getLabel(p,q,this.props.values));}return c('React').createElement('span',{className:"_5b84",key:'pip_'+q,style:r},s,t);}.bind(this));};o.prototype.getCurrentNormalizedValues=function(){return this.state.currentValues.map(this.normalizeValue);};o.prototype.getPreviousPercentage=function(p,q){return !this.props.isOrdered||q<=0?0:p[q-1];};o.prototype.getNextPercentage=function(p,q){return !this.props.isOrdered||q+1>=p.length?100:p[q+1];};o.prototype.renderHandles=function(){return this.getNormalizedPercentages().map(function(p,q){return c('React').createElement('span',{className:"_36jz",key:'dh_'+q,ref:'SliderHandle_'+q,style:{left:p+'%'}});});};o.prototype.renderDragHandles=function(p){return this.props.values.map(function(q,r){return c('React').createElement(n,{elementIndex:r,key:'slider_handle_'+r,maxPercentage:this.getNextPercentage(p,r),minPercentage:this.getPreviousPercentage(p,r),percentage:p[r],ref:'SliderDragHandle',onDrag:this.onDrag,onDrop:this.onDrop,onGrab:this.onGrab});}.bind(this));};o.prototype.renderLayers=function(){return c('React').createElement(c('AdsSchedulingTooltip.react'),{alignment:'center',contextRef:this.$AdsAbstractSlider1,key:'errorHint',position:'above',shown:this.props.displayDragHandleTooltip},c('React').createElement('span',{className:"_3-99"},this.props.renderDragHandleTooltip()));};o.prototype.normalizedValues=function(){return this.props.values.map(this.normalizeValue);};o.prototype.getNormalizedPercentages=function(){return this.normalizedValues().map(this.getPercentage);};o.prototype.renderRanges=function(){var p=this.getNormalizedPercentages();p.push(100);var q=0,r=[];for(var s=0;s<p.length;s++){r.push(c('React').createElement('div',{className:"_5b89",key:'slider_range_'+s,style:{background:this.getRangeColor(s,p.length),left:q+'%',width:p[s]-q+'%'}}));q=p[s];}return r;};o.prototype.renderRangeLabels=function(){if(this.props.rangeLabelValues.length===0)return [];var p=this.getNormalizedPercentages(),q=[],r=void 0;if(this.props.labelStyle==='inverted'){r="_5cv1 _3zn3 _5cv2";}else r="_5cv1 _3zn3 _5cv3";if(p.length===1&&this.props.rangeLabelValues.length===1){q.push(c('React').createElement('div',{className:r,key:'slider_rangeLabel_1',style:{left:'0%',width:p[0]+'%'}},this.props.rangeLabelValues[0]));}else{var s=[];for(t=0;t<p.length-1;t++)s.push(p.slice(t,t+2));for(var t=0;t<s.length&&t<this.props.rangeLabelValues.length;t++)q.push(c('React').createElement('div',{className:r,key:'slider_rangeLabel_'+t,style:{left:s[t][0]+'%',width:s[t][1]-s[t][0]+'%'}},this.props.rangeLabelValues[t]));}return q;};o.prototype.renderLabelCaptions=function(){var p=void 0,q=void 0;if(this.props.labelStyle==='inverted'){p="_5cv4 _5cv5";q="_5cv4 _5cv7";}else{p="_5cv4 _5cv8";q="_5cv4 _5cv5";}var r=[];if(this.props.rangeLabelCaption&&this.props.rangeLabelCaption!=='')r.push(c('React').createElement('span',{className:q,key:'rangeLabelCaption'},this.props.rangeLabelCaption));if(this.props.sliderCaption&&this.props.sliderCaption!=='')r.push(c('React').createElement('span',{className:"_5cv4 _13_h",key:'sliderCaption'},this.props.sliderCaption));if(this.props.pipCaption&&this.props.pipCaption!=='')r.push(c('React').createElement('span',{className:p,key:'pipCaption'},this.props.pipCaption));return r;};o.prototype.render=function(){var p=this.props.values.map(this.getPercentage),q=this.props.showLegend?c('React').createElement('div',{className:"_6sx"},this.props.renderLegend(this.getCurrentNormalizedValues())):null,r=babelHelpers.objectWithoutProperties(this.props,[]);return (c('React').createElement('div',babelHelpers['extends']({},r,{onClick:this.onClick}),c('React').createElement('div',{className:"_36j-",ref:'sliderContainer'},this.renderHandles(),this.renderDragHandles(p),this.renderRanges(),this.renderPips(),this.renderAxisTickers(),this.renderRangeLabels(),this.renderLabelCaptions()),q,this.renderLayers()));};o.propTypes={boldSelectedPipLabels:m.bool.isRequired,colorPattern:m.oneOf(['default','lookalike','single']),colors:m.arrayOf(m.string).isRequired,displayDragHandleTooltip:m.bool.isRequired,getAxisTicker:m.func.isRequired,getLabel:m.func.isRequired,getPipStyle:m.func.isRequired,isOrdered:m.bool.isRequired,labelStyle:m.oneOf(['default','inverted']),maxValue:m.number.isRequired,minValue:m.number.isRequired,normalize:m.func.isRequired,pipCaption:m.node,rangeLabelCaption:m.node,rangeLabelValues:m.arrayOf(m.string).isRequired,renderDragHandleTooltip:m.func.isRequired,renderLegend:m.func.isRequired,shouldHandleClick:m.bool,showLegend:m.bool,showPipLabels:m.bool.isRequired,showPipLines:m.bool.isRequired,sliderCaption:m.node,step:m.number.isRequired,values:m.arrayOf(m.number).isRequired,width:m.number,onClick:m.func,onDrag:m.func.isRequired,onDrop:m.func.isRequired,onGrab:m.func.isRequired,onMouseLeave:m.func.isRequired,onMouseOver:m.func.isRequired};o.defaultProps={colorPattern:'default',colors:['#dcdee3','#5890ff'],getAxisTicker:c('AdsAbstractSliderUtils').getDefaultAxisTicker,getLabel:c('AdsAbstractSliderUtils').getDefaultLabel,getPipStyle:c('AdsAbstractSliderUtils').emptyGetPipStyle,displayDragHandleTooltip:false,isOrdered:true,onClick:c('emptyFunction'),onDrag:c('emptyFunction'),onDrop:c('emptyFunction'),onGrab:c('emptyFunction'),onMouseLeave:c('emptyFunction'),onMouseOver:c('emptyFunction'),normalize:c('AdsAbstractSliderUtils').emptyNormalize,renderDragHandleTooltip:c('AdsAbstractSliderUtils').emptyRenderTooltip,renderLegend:c('AdsAbstractSliderUtils').emptyRenderLegend,width:300,showLegend:true,labelStyle:'default',rangeLabelValues:[],shouldHandleClick:false,showPipLines:true,showPipLabels:true,boldSelectedPipLabels:false};f.exports=o;}),null);
__d('AdsStandardLookalikeSlider.react',['AdsAbstractSlider.react','React','shallowCompare'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.$AdsStandardLookalikeSlider1=function(n,o){if(!(Array.isArray(n)&&Array.isArray(o)))return;var p=n[0],q=Math.round(this.state.value),r=o[0];if(q!=r)this.props.onChange(r);this.setState({value:p});}.bind(this);this.$AdsStandardLookalikeSlider2=function(n){var o=n[0];this.setState({value:o});}.bind(this);var m=[];if(l.rangeLabelValue!=='')m.push(l.rangeLabelValue);this.state={value:l.value,rangeLabelValues:m};}k.prototype.shouldComponentUpdate=function(l,m){return c('shallowCompare')(this,l,m);};k.prototype.componentWillReceiveProps=function(l){var m=[];if(l.rangeLabelValue!=='')m.push(l.rangeLabelValue);this.setState({value:l.value,rangeLabelValues:m});};k.prototype.render=function(){return (c('React').createElement(c('AdsAbstractSlider.react'),{boldSelectedPipLabels:true,colorPattern:'single',getLabel:this.props.getLabel,labelStyle:'inverted',maxValue:this.props.maxValue,minValue:this.props.minValue,normalize:this.props.normalize,pipCaption:this.props.pipCaption,rangeLabelCaption:this.props.rangeLabelCaption,rangeLabelValues:this.state.rangeLabelValues,showPipLines:false,step:this.props.step,values:[this.state.value],onDrag:this.$AdsStandardLookalikeSlider1,onDrop:this.$AdsStandardLookalikeSlider2}));};k.propTypes={minValue:j.number.isRequired,maxValue:j.number.isRequired,step:j.number.isRequired,value:j.number.isRequired,getLabel:j.func,normalize:j.func,onChange:j.func.isRequired,rangeLabelValue:j.string.isRequired,pipCaption:j.node,rangeLabelCaption:j.node};k.defaultProps={rangeLabelValue:''};f.exports=k;}),null);
__d('AdsTieredLookalikeSlider.react',['AdsAbstractSlider.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={values:this.props.values,oldValues:this.props.values},this.onDrag=function(q){this.setState({values:q});}.bind(this),this.onDrop=function(q){var r=this.props.maxRange||this.props.maxValue;for(var s=0;s<q.length-1;s++){var t=q[s+1]-q[s];if(t==0||t>r){this.setState({values:this.state.oldValues});return;}}this.setState({values:q,oldValues:q},function(){this.props.onChange(q);}.bind(this));}.bind(this),m;}k.prototype.componentWillReceiveProps=function(l){this.setState({values:l.values,oldValues:l.values});};k.prototype.render=function(){return (c('React').createElement(c('AdsAbstractSlider.react'),{boldSelectedPipLabels:true,colorPattern:'lookalike',getLabel:this.props.getLabel,labelStyle:'inverted',maxValue:this.props.maxValue,minValue:this.props.minValue,normalize:this.props.normalize,pipCaption:this.props.pipCaption,rangeLabelCaption:this.props.rangeLabelCaption,rangeLabelValues:this.props.rangeLabelValues,showPipLines:false,step:this.props.step,values:this.state.values,onDrag:this.onDrag,onDrop:this.onDrop}));};k.propTypes={maxRange:j.number,minValue:j.number.isRequired,maxValue:j.number.isRequired,step:j.number.isRequired,values:j.arrayOf(j.number).isRequired,getLabel:j.func,normalize:j.func,onChange:j.func.isRequired,rangeLabelValues:j.arrayOf(j.string).isRequired,pipCaption:j.node,rangeLabelCaption:j.node};k.defaultProps={rangeLabelValues:[]};f.exports=k;}),null);
__d('AudienceManagerLookalikeDialogLabels',['fbt'],(function a(b,c,d,e,f,g,h){'use strict';f.exports={DIALOG_TITLE:h._("Create a Lookalike Audience"),DESCRIPTION_TEXT:h._("Find new people on Facebook who are similar to your existing audiences."),MODE_STANDARD_BUTTON:h._("Hide advanced options"),MODE_ADVANCED_BUTTON:h._("Show advanced options"),TIERED_DESCRIPTION_TEXT:h._("If you measure revenue per conversion or lifetime value for people in different audiences, you can create separate Lookalikes with different ranges of similarity to your source. This allows you to bid differently for audiences with different conversion values."),HELP_LINK:'https://www.facebook.com/help/924049801000037',HELP_TEXT:h._("Learn more"),SOURCE_LABEL:h._("Source"),SOURCE_TOOLTIP:h._("Select an existing audience to model your Lookalike Audience on. This could be a customer list, Custom Audience, pixel or people who like your Page."),COUNTRY_LABEL:h._("Country"),COUNTRY_TOOLTIP:h._("Select the country for your Lookalike Audience."),LOCATION_LABEL:h._("Location"),LOCATION_TOOLTIP:h._("Select countries or regions for your lookalike audience"),FINANCIAL_TOOLTIP:h._("Fair Lending Lookalikes are created without using the age, gender, marital status, religious views or home town Profile fields. Note that Facebook Profiles do not contain fields for race, disabled status or use of government assistance."),FINANCIAL_LABEL:h._("Use Fair Lending Lookalikes for financial services advertising"),COUNT_DROPDOWN_LABEL:h._("Number of audiences"),COUNT_DROPDOWN_TOOLTIP:h._("Choose how many Lookalike Audiences you'd like to create."),SLIDER_LABEL:h._("Audience size"),SLIDER_REACH_CAPTION:h._("Estimated reach"),SLIDER_PERCENT_CAPTION:h._("\u0025 of country"),SLIDER_PERCENT_MULTICOUNTRY_CAPTION:h._("\u0025 of countries"),MULTICOUNTRY_NOTICE:h._("Your audience is based on the combined population of these countries. This means you always get the strongest match but the distribution of people may not be equal across all countries."),STANDARD_DESCRIPTION_TEXT:h._("Audience size ranges from 1\u0025 to 10\u0025 of the total population in the country that you choose, with 1\u0025 being those who most closely match your source."),STANDARD_DESCRIPTION_MULTICOUNTRY_TEXT:h._("Audience size ranges from 1\u0025 to 10\u0025 of the total population in the countries you choose, with 1\u0025 being those who most closely match your source."),RESULTING_AUDIENCES_LEFT_TITLE:h._("Resulting audiences"),RESULTING_AUDIENCES_RIGHT_TITLE:h._("Estimated reach"),CREATE_AUDIENCE_BUTTON:h._("Create Audience")};}),null);
__d('AdsTieredLookalikeRatioValueSlider.react',['cx','fbt','AdsCreateLookalikeConfig','AdsCreateMultiCountryLookalikeConfig','AdsLookalikeLocationUtils','AdsLookalikeRatioSliderMode','AdsStandardLookalikeSlider.react','AdsTieredLookalikeSlider.react','ads-cluster-constants','FBMoreLink.react','InfoTable.react','InfoTableRow.react','InfoTableSection.react','AudienceManagerLookalikeDialogLabels','React','XUISelector.react','Tooltip','XUINotice.react','InsightsNumberUtils','ads-lib-formatters'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('ads-lib-formatters').createLimitedSigFigNumberFormatter(0,3),m=c('React').Element,n=c('React').PureComponent,o=c('XUISelector.react').Option,p=c('ads-cluster-constants').LOOKALIKE_CUSTOM_RATIO_LIMIT,q=100,r=Math.floor(p.MIN*q),s=Math.floor(p.MAX*q),t=Math.floor(p.GRANULARITY*q),u=Math.floor(p.TIERED_MAX*q),v=Math.floor(p.TIERED_MAX_RANGE*q),w=Math.floor(p.TIERED_GRANULARITY*q),x=6;j=babelHelpers.inherits(y,n);k=j&&j.prototype;function y(){var z,aa;for(var ba=arguments.length,ca=Array(ba),da=0;da<ba;da++)ca[da]=arguments[da];return aa=(z=k.constructor).call.apply(z,[this].concat(ca)),this.state={maxStandardRatio:s,maxTieredRatio:s,maxTieredRatioRange:s,tieredStep:t,modeChanged:false,rangeLabelValues:[],ratioValues:[0,1],tierSizes:[],hideMcLalNotice:false},this.$AdsTieredLookalikeRatioValueSlider8=function(){var ea=void 0,fa=void 0;if(this.props.selectedMode===c('AdsLookalikeRatioSliderMode').TIERED){ea=c('AdsLookalikeRatioSliderMode').STANDARD;fa=[0,1];}else{var ga=this.state.tieredStep;ea=c('AdsLookalikeRatioSliderMode').TIERED;fa=[0,ga*1,ga*2,ga*5];}this.setState({modeChanged:true});this.props.onSelectedModeChange(ea);this.$AdsTieredLookalikeRatioValueSlider16(fa);}.bind(this),this.$AdsTieredLookalikeRatioValueSlider12=function(ea){this.$AdsTieredLookalikeRatioValueSlider16([0,ea]);}.bind(this),this.$AdsTieredLookalikeRatioValueSlider15=function(ea){this.$AdsTieredLookalikeRatioValueSlider16(ea);}.bind(this),this.$AdsTieredLookalikeRatioValueSlider14=function(ea){var fa=parseInt(ea.value,10),ga=this.props.ratioValues,ha=fa-(ga.length-1),ia=void 0;if(ha>0){var ja=this.state.tieredStep,ka=this.state.maxTieredRatio;for(ia=ga[ga.length-1]+ja;ha>0&&ia<=ka;ia+=ja,ha--)ga.push(ia);for(ia=ga[0]-ja;ha>0&&ia>=0;ia-=ja,ha--)ga.push(ia);for(ia=ga[0]+ja;ha>0&&ia<=ka;ia+=ja)if(ga.indexOf(ia)==-1){ga.push(ia);ha--;}}else if(ha<0)for(ia=0;ia<ha*-1;ia++)ga.pop();ga.sort(function(la,ma){return la-ma;});this.$AdsTieredLookalikeRatioValueSlider16(ga);}.bind(this),this.$AdsTieredLookalikeRatioValueSlider13=function(){this.setState({hideMcLalNotice:true});}.bind(this),aa;}y.prototype.$AdsTieredLookalikeRatioValueSlider1=function(){var z=arguments.length<=0||arguments[0]===undefined?null:arguments[0],aa=z||this.props,ba=c('AdsLookalikeLocationUtils').getCountriesFromLocationSpec(aa.locationSpec).toArray();if(ba.length===0&&aa.country)ba=[aa.country];return ba;};y.prototype.render=function(){var z=void 0;if(this.props.selectedMode===c('AdsLookalikeRatioSliderMode').TIERED)z=c('React').createElement('span',null,c('AudienceManagerLookalikeDialogLabels').TIERED_DESCRIPTION_TEXT,' ',c('React').createElement('a',{href:c('AudienceManagerLookalikeDialogLabels').HELP_LINK,target:'_blank'},c('AudienceManagerLookalikeDialogLabels').HELP_TEXT));var aa=[];if(this.props.selectedMode===c('AdsLookalikeRatioSliderMode').TIERED){aa.push(this.$AdsTieredLookalikeRatioValueSlider2());aa.push(this.$AdsTieredLookalikeRatioValueSlider3());aa.push(this.$AdsTieredLookalikeRatioValueSlider4());}else{aa.push(this.$AdsTieredLookalikeRatioValueSlider5());aa.push(this.$AdsTieredLookalikeRatioValueSlider4());if(!this.state.hideMcLalNotice&&this.$AdsTieredLookalikeRatioValueSlider1().length>1){aa.push(this.$AdsTieredLookalikeRatioValueSlider6());}else aa.push(this.$AdsTieredLookalikeRatioValueSlider7());}return c('React').createElement(c('InfoTable.react'),{className:"_26zu",columns:3},c('React').createElement(c('InfoTableSection.react'),null,c('React').createElement(c('InfoTableRow.react'),{className:"_1ujq _1qv1",key:'emptyrow',type:'data'},c('React').createElement('div',null),c('React').createElement('div',null)),aa,c('React').createElement(c('InfoTableRow.react'),{className:"_1ujq _1qv1",key:'descriptionRow',type:'data'},c('React').createElement('div',null),c('React').createElement('div',null,c('React').createElement('div',{className:"_1qv2 _3-8w"},c('React').createElement(c('FBMoreLink.react'),{allowToggle:true,lessLabel:c('AudienceManagerLookalikeDialogLabels').MODE_STANDARD_BUTTON,moreLabel:c('AudienceManagerLookalikeDialogLabels').MODE_ADVANCED_BUTTON,onClick:this.$AdsTieredLookalikeRatioValueSlider8})),c('React').createElement('div',{className:"_2sx5 _2sx7 _3-8w"},z)))));};y.prototype.componentWillMount=function(){this.$AdsTieredLookalikeRatioValueSlider9(this.$AdsTieredLookalikeRatioValueSlider1(),this.props.ratioValues);this.$AdsTieredLookalikeRatioValueSlider10();};y.prototype.componentWillReceiveProps=function(z){var aa=this.$AdsTieredLookalikeRatioValueSlider1(z);this.$AdsTieredLookalikeRatioValueSlider9(aa,z.ratioValues);if(aa.length<=1)this.setState({hideMcLalNotice:false});};y.prototype.$AdsTieredLookalikeRatioValueSlider5=function(){var z=this.props.useMcLAL,aa=void 0,ba=void 0;if(z){aa=c('AudienceManagerLookalikeDialogLabels').SLIDER_PERCENT_MULTICOUNTRY_CAPTION;ba=c('AudienceManagerLookalikeDialogLabels').STANDARD_DESCRIPTION_MULTICOUNTRY_TEXT;}else{aa=c('AudienceManagerLookalikeDialogLabels').SLIDER_PERCENT_CAPTION;ba=c('AudienceManagerLookalikeDialogLabels').STANDARD_DESCRIPTION_TEXT;}return c('React').createElement(c('InfoTableRow.react'),{className:"_1ujq _2al-",key:'lookalikeAudienceSizeRow',label:c('AudienceManagerLookalikeDialogLabels').SLIDER_LABEL,type:'data'},c('React').createElement('div',babelHelpers['extends']({},c('Tooltip').propsFor(ba),{className:"_fbh"})),c('React').createElement('div',null,c('React').createElement(c('AdsStandardLookalikeSlider.react'),{maxValue:s,minValue:0,normalize:this.$AdsTieredLookalikeRatioValueSlider11(r,s,t),pipCaption:aa,rangeLabelValue:this.state.rangeLabelValues[0],step:t,value:this.props.ratioValues[1],onChange:this.$AdsTieredLookalikeRatioValueSlider12})));};y.prototype.$AdsTieredLookalikeRatioValueSlider6=function(){return c('React').createElement(c('InfoTableRow.react'),{className:"_1ujq",key:'mcLalNoticeRow',type:'data'},c('React').createElement('div',null),c('React').createElement('div',{className:"_3-8w"},c('React').createElement(c('XUINotice.react'),{size:'small',use:'notify',onDismiss:this.$AdsTieredLookalikeRatioValueSlider13},c('AudienceManagerLookalikeDialogLabels').MULTICOUNTRY_NOTICE)));};y.prototype.$AdsTieredLookalikeRatioValueSlider7=function(){var z=this.props.useMcLAL,aa=z?c('AudienceManagerLookalikeDialogLabels').STANDARD_DESCRIPTION_MULTICOUNTRY_TEXT:c('AudienceManagerLookalikeDialogLabels').STANDARD_DESCRIPTION_TEXT;return c('React').createElement(c('InfoTableRow.react'),{className:"_1ujq",key:'lookalikeDescriptionRow',type:'data'},c('React').createElement('div',null),c('React').createElement('div',{className:"_2sx5 _2sx7 _3-8x"},aa));};y.prototype.$AdsTieredLookalikeRatioValueSlider2=function(){var z=[];for(var aa=1;aa<=x;aa++)z.push(c('React').createElement(o,{key:'count_option_'+aa,value:aa},aa));return c('React').createElement(c('InfoTableRow.react'),{className:"_1ujq _2oi-",key:'lookalikeDropdownRow',label:c('AudienceManagerLookalikeDialogLabels').COUNT_DROPDOWN_LABEL,type:'data'},c('React').createElement('div',babelHelpers['extends']({},c('Tooltip').propsFor(c('AudienceManagerLookalikeDialogLabels').COUNT_DROPDOWN_TOOLTIP),{className:"_fbh"})),c('React').createElement('div',{className:"_3-8x"},c('React').createElement(c('XUISelector.react'),{name:'countDropdown',value:this.props.ratioValues.length-1,onChange:this.$AdsTieredLookalikeRatioValueSlider14},z)));};y.prototype.$AdsTieredLookalikeRatioValueSlider3=function(){var z=this.props.useMcLAL,aa=void 0,ba=void 0;if(z){aa=c('AudienceManagerLookalikeDialogLabels').SLIDER_PERCENT_MULTICOUNTRY_CAPTION;ba=c('AudienceManagerLookalikeDialogLabels').STANDARD_DESCRIPTION_MULTICOUNTRY_TEXT;}else{aa=c('AudienceManagerLookalikeDialogLabels').SLIDER_PERCENT_CAPTION;ba=c('AudienceManagerLookalikeDialogLabels').STANDARD_DESCRIPTION_TEXT;}return c('React').createElement(c('InfoTableRow.react'),{className:"_1ujq _2al-",key:'lookalikeTieredSliderRow',label:c('AudienceManagerLookalikeDialogLabels').SLIDER_LABEL,type:'data'},c('React').createElement('div',babelHelpers['extends']({},c('Tooltip').propsFor(ba),{className:"_fbh"})),c('React').createElement('div',null,c('React').createElement(c('AdsTieredLookalikeSlider.react'),{maxRange:this.state.maxTieredRatioRange,maxValue:this.state.maxTieredRatio,minValue:0,normalize:this.$AdsTieredLookalikeRatioValueSlider11(0,this.state.maxTieredRatio,this.state.tieredStep),pipCaption:aa,rangeLabelValues:this.state.rangeLabelValues,step:this.state.tieredStep,values:this.props.ratioValues,onChange:this.$AdsTieredLookalikeRatioValueSlider15})));};y.prototype.$AdsTieredLookalikeRatioValueSlider4=function(){var z=this.props.source,aa=this.$AdsTieredLookalikeRatioValueSlider1();if(!z||!aa||aa.length===0)return null;var ba=[],ca=this.props.ratioValues,da=z.getTitle(),ea=this.state.tierSizes;for(var fa=0;fa<this.state.tierSizes.length&&fa<this.props.ratioValues.length-1;fa++){var ga='',ha='';if(ca[fa]!==0){ga=i._({"*":"{lowerLookalikeRatio}\u0025 to{spaceForFormatting}"},[i.param('lowerLookalikeRatio',ca[fa],[0]),i.param('spaceForFormatting',' ')]);ha=i._({"*":"{newLineForFormatting}Excludes {excludeRatio}\u0025 of audience"},[i.param('newLineForFormatting','\n'),i.param('excludeRatio',ca[fa],[0])]);}var ia=i._({"*":"Includes {ratio}\u0025 audience {tooltipExcludes}"},[i.param('ratio',ca[fa+1],[0]),i.param('tooltipExcludes',ha)]),ja=this.getDisplayStringForCountries(aa),ka=i._({"*":"Lookalike ({country}, {lowerPercent}{upperPercent}\u0025) \u2013 {source}"},[i.param('country',ja),i.param('lowerPercent',ga),i.param('upperPercent',ca[fa+1],[0]),i.param('source',da)]),la=i._("{size} people",[i.param('size',l(ea[fa]))]);ba.push(c('React').createElement('tr',{key:'table_row_'+fa},c('React').createElement('td',null,c('React').createElement('div',babelHelpers['extends']({},c('Tooltip').propsFor(ia),{className:"_3juu"}),ka)),c('React').createElement('td',null,c('React').createElement('div',null,la))));}return c('React').createElement(c('InfoTableRow.react'),{className:"_1ujq _1uj_",key:'lookalikeResultingAudiencesRow',type:'data'},c('React').createElement('div',null),c('React').createElement('table',{className:"_3-8x"},c('React').createElement('thead',null,c('React').createElement('tr',null,c('React').createElement('th',{className:"_3juv"},c('AudienceManagerLookalikeDialogLabels').RESULTING_AUDIENCES_LEFT_TITLE),c('React').createElement('th',null,c('AudienceManagerLookalikeDialogLabels').RESULTING_AUDIENCES_RIGHT_TITLE))),c('React').createElement('tbody',null,ba)));};y.prototype.$AdsTieredLookalikeRatioValueSlider10=function(){if(this.props.useBigTieredRatio)this.setState({maxTieredRatio:u,maxTieredRatioRange:v,tieredStep:w});};y.prototype.$AdsTieredLookalikeRatioValueSlider16=function(z){this.props.onRatioValuesChange(z);var aa=this.$AdsTieredLookalikeRatioValueSlider1();this.$AdsTieredLookalikeRatioValueSlider9(aa,z);};y.prototype.$AdsTieredLookalikeRatioValueSlider9=function(z,aa){var ba=[],ca=[];if(z&&z.length>0)for(var da=0;da<aa.length-1;da++){var ea=(aa[da+1]-aa[da])/100,fa=this.$AdsTieredLookalikeRatioValueSlider17(z,ea);ba.push(fa);ca.push(c('InsightsNumberUtils').abbrevInt(fa));}this.setState({tierSizes:ba,rangeLabelValues:ca});};y.prototype.$AdsTieredLookalikeRatioValueSlider17=function(z,aa){z=z||[];var ba=0;for(var ca=z,da=Array.isArray(ca),ea=0,ca=da?ca:ca[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var fa;if(da){if(ea>=ca.length)break;fa=ca[ea++];}else{ea=ca.next();if(ea.done)break;fa=ea.value;}var ga=fa;if(c('AdsCreateLookalikeConfig').countries[ga])ba+=c('AdsCreateLookalikeConfig').countries[ga].count;}var ha=Math.floor(ba*aa);return ha;};y.prototype.$AdsTieredLookalikeRatioValueSlider11=function(z,aa,ba){function ca(da,ea,fa,ga){return Math.max(z,Math.min(Math.round(da/ba)*ba,aa));}return ca;};y.prototype.getDisplayStringForCountries=function(z){var aa;z=(z||[]).sort();var ba=c('AdsCreateMultiCountryLookalikeConfig').countryGroupsMetadata,ca=[],da=function ka(la){var ma=la.countries,na=ma.filter(function(oa){return !z.includes(oa);}).length==0;if(na){z=z.filter(function(oa){return !ma.includes(oa);});ca.push(la.group_abbreviation+' ('+la.countries.length+' countries)');}};for(var ea=ba,fa=Array.isArray(ea),ga=0,ea=fa?ea:ea[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var ha;if(fa){if(ga>=ea.length)break;ha=ea[ga++];}else{ga=ea.next();if(ga.done)break;ha=ga.value;}var ia=ha;da(ia);}var ja=ca.sort().concat(z.sort());if(ja.length>3){return (ja.slice(0,2).join(', ')+' and '+(ja.length-2)+' others');}else if(ja.length>0)return ja.join(', ');return '';};f.exports=y;}),null);
__d('LookalikeCreateNewSourceAudienceMenu.react',['cx','fbt','ix','AdsAMViewActions','BUIAdoptionXUIGrayText.react','Image.react','ImageBlock.react','PopoverMenu.react','React','ReactXUIMenu','fbglyph','getByPath','keyMirrorRecursive'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('ReactXUIMenu').Item,n=c('React').PureComponent,o=c('keyMirrorRecursive')({CA:'',VALUE_BASED_CA:''}),p=j("21696"),q=j("21723");k=babelHelpers.inherits(r,n);l=k&&k.prototype;r.prototype.render=function(){var s=c('React').createElement(c('ReactXUIMenu'),{className:"_12rq",onItemClick:this.$LookalikeCreateNewSourceAudienceMenu1},this.$LookalikeCreateNewSourceAudienceMenu2(),this.$LookalikeCreateNewSourceAudienceMenu3());return (c('React').createElement(c('PopoverMenu.react'),{alignv:'baseline',className:"_12rq",menu:s},c('React').createElement('a',{href:'#'},i._("Create New"),c('React').createElement(c('Image.react'),{className:"_12rr",src:j("117294")}))));};r.prototype.$LookalikeCreateNewSourceAudienceMenu2=function(){return (c('React').createElement(m,{className:"_12rv",key:o.CA,value:o.CA},c('React').createElement(c('ImageBlock.react'),{className:"_3-8w",spacing:'large'},c('React').createElement(c('Image.react'),{src:p}),c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_12rt",shade:'medium',size:'small',weight:'bold'},i._("Custom Audience")),c('React').createElement('div',{className:"_12ru"},i._("Create an audience of existing customers or people who have interacted with your business."))))));};r.prototype.$LookalikeCreateNewSourceAudienceMenu3=function(){return (c('React').createElement(m,{className:"_12rv",key:o.VALUE_BASED_CA,value:o.VALUE_BASED_CA},c('React').createElement(c('ImageBlock.react'),{className:"_3-8w",spacing:'large'},c('React').createElement(c('Image.react'),{src:q}),c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_12rt",shade:'medium',size:'small',weight:'bold'},i._("Custom Audience with LTV")),c('React').createElement('div',{className:"_12ru"},i._("Create a Custom Audience that includes a customer lifetime value (LTV) to enable value-based Lookalikes. Only available for audiences from your customer file."))))));};r.prototype.$LookalikeCreateNewSourceAudienceMenu1=function(s,t){var u=c('getByPath')(t,['item','_data','value']);switch(u){case o.CA:c('AdsAMViewActions').closeLookalikeDialog();c('AdsAMViewActions').showCreateCustomAudienceDialog();break;case o.VALUE_BASED_CA:c('AdsAMViewActions').closeLookalikeDialog();c('AdsAMViewActions').showValueBasedCADialog();break;}};function r(){k.apply(this,arguments);}f.exports=r;}),null);
__d("XAdsGetCustomAudienceDataSetSpecController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ads\/ajax\/lookalike\/custom_audience_data_set_spec\/",{audience_id:{type:"Int",required:true}});}),null);
__d("XAdsLookalikeSuggestedCountryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ads\/ajax\/lookalike\/suggested_country\/",{origin_audience_id:{type:"Int",required:true},ad_account_id:{type:"String",required:true}});}),null);
__d('AudienceManagerLookalikeCreationForm.react',['cx','fbt','ix','Promise','AdInterfacesAppNames','AdInterfacesUiLogger','AdsAccountCapabilities','AdsAccountUtils','AdsAMAudienceStore','AdsAMViewActions','AdsAudienceFilterEnum','AdsConversionPixelDeprecationEnum','AdsConversionPixelDeprecationInfoBoxContent.react','AdsCreateLookalikeDialogCountryTypeahead.react','AdsCreateLookalikeDialogLocationTokenizer.react','AdsCreateLookalikeDialogSourceTypeahead.react','AdsDaoGraph','AdsGraphAPI','AdsGuidanceNewBadge.react','AdsGuidanceStandaloneNuxContainer.react','AdsInterfacesLogger','AdsLookalikeLocationUtils','AdsLookalikeRatioSliderMode','AdsLookalikeStoreUtils','AdsLookalikeWWWBuddyIDs','AdsMulticountryLookalikeNUXRenderer','AdsDefaultVisibleHelpLink.react','AdsTargetingAudienceTokenizer.react','AdsTieredLookalikeRatioValueSlider.react','AdsAudienceTypeaheadConstants','APDSAttributeSelector.react','APStrings','AsyncRequest','AudienceManagerLoggingEvents','BUIAdoptionXUIGrayText.react','BUIAdoptionXUINoticeSmall.react','BUIAdoptionXUISpinner.react','ads-cluster-constants','Image.react','ImageBlock.react','InfoTable.react','InfoTableRow.react','InfoTableSection.react','AudienceManagerLookalikeDialogLabels','InlineBlock.react','Link.react','immutable','LookalikeCreateNewSourceAudienceMenu.react','React','SearchableEntry','SUIText.react','TargetingSectionDivider.react','Tooltip','TooltipLink.react','WeightedLookalikeConfig','XAdsGetCustomAudienceDataSetSpecController','XAdsLookalikeSuggestedCountryController','XUICard.react','BUIAdoptionCloseButton.react','adsGKCheck','AdsCreateLookalikeConfig'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('immutable').List,n=c('immutable').Map,o=c('AdsCreateLookalikeConfig').countries,p=c('AdsCreateLookalikeConfig').targetAudienceSize,q=c('AdsCreateLookalikeConfig').useTargetAudienceSize,r=c('React').Element,s=c('React').PureComponent,t=c('ads-cluster-constants').LOOKALIKE_SOURCE_TYPE,u='DATA_SET',v=i._("Learn more"),w={CUSTOM_AUDIENCE:i._("Custom Audience"),CONVERSION_PIXEL:i._("Conversion Pixel"),PAGE:i._("Page"),APPLICATION:i._("Application"),DATA_SET:i._("Data set"),FB_PIXEL:i._("FB pixel")},x=j("21722"),y=j("277621"),z=c('WeightedLookalikeConfig').can_account_use_weighted_datafile,aa=c('AdsLookalikeStoreUtils').canUseMcLAL(),ba=5,ca=i._("Choose up to {maxNumOfSeeds} audiences",[i.param('maxNumOfSeeds',ba)]);k=babelHelpers.inherits(da,s);l=k&&k.prototype;function da(ea){l.constructor.call(this,ea);this.$AudienceManagerLookalikeCreationForm24=function(){this.setState({error:undefined});this.props.resetError();}.bind(this);this.$AudienceManagerLookalikeCreationForm22=function(fa){this.setState({isFinancialService:fa.target.checked});}.bind(this);this.$AudienceManagerLookalikeCreationForm17=function(fa){var ga=this.state.source;if(fa&&(!ga||fa.getUniqueID()!==ga.getUniqueID()))this.$AudienceManagerLookalikeCreationForm28(fa.getUniqueID(),this.props.accountID);this.setState({isValueBasedLALUpsellVisible:false,source:fa});this.$AudienceManagerLookalikeCreationForm27(fa);}.bind(this);this.$AudienceManagerLookalikeCreationForm14=function(fa){var ga,ha=Object.assign({},this.state.targetableAudiences,(ga={},ga[fa.id]=fa,ga));this.setState({targetableAudiences:ha});}.bind(this);this.$AudienceManagerLookalikeCreationForm15=function(fa){var ga=Object.assign({},this.state.targetableAudiences);delete ga[fa.id];this.setState({targetableAudiences:ga});}.bind(this);this.$AudienceManagerLookalikeCreationForm21=function(fa){if(!fa){this.setState({country:fa});}else this.setState({country:fa});var ga=this.state.ratioValues;if(fa&&q&&this.state.selectedMode===c('AdsLookalikeRatioSliderMode').STANDARD){var ha=o[fa].count,ia=Math.min(Math.round(p/ha*100),10);ga=[0,ia];this.$AudienceManagerLookalikeCreationForm30(ga);}}.bind(this);this.$AudienceManagerLookalikeCreationForm20=function(fa){this.setState({locationSpec:fa});}.bind(this);this.$AudienceManagerLookalikeCreationForm13=function(fa){this.setState({selectedMode:fa});}.bind(this);this.$AudienceManagerLookalikeCreationForm12=function(fa){this.setState({ratioValues:fa});}.bind(this);this.$AudienceManagerLookalikeCreationForm23=function(fa){this.setState({weightedAttribute:fa});}.bind(this);this.$AudienceManagerLookalikeCreationForm25=function(){this.setState({isValueBasedLALUpsellVisible:false});}.bind(this);this.state={completedLookalikes:0,country:undefined,locationSpec:undefined,error:undefined,isFinancialService:false,isSourceWeightable:false,isValueBasedLALUpsellVisible:true,ratioValues:[0,1],selectedMode:c('AdsLookalikeRatioSliderMode').STANDARD,source:undefined,targetableAudiences:{},useBigTieredRatio:false,weightableAttributesSource:undefined,weightedAttribute:undefined};this.$AudienceManagerLookalikeCreationForm1();}da.prototype.$AudienceManagerLookalikeCreationForm2=function(){if(this.props.mclalQEValue)this.props.mclalQEValue.maybeLogExposure();};da.prototype.componentWillMount=function(){this.$AudienceManagerLookalikeCreationForm3();};da.prototype.componentWillReceiveProps=function(ea){if(!this.props.audience&&ea.audience)this.$AudienceManagerLookalikeCreationForm4(ea.audience);};da.prototype.render=function(){if(this.props.loading)return c('React').createElement('div',{className:"_5saq"},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{background:'light',size:'large'}));this.$AudienceManagerLookalikeCreationForm2();var ea=void 0,fa=void 0,ga=void 0,ha=void 0;if(aa){ea=this.$AudienceManagerLookalikeCreationForm5();fa=c('AudienceManagerLookalikeDialogLabels').LOCATION_LABEL;ga=c('AudienceManagerLookalikeDialogLabels').LOCATION_TOOLTIP;ha=c('React').createElement(c('AdsGuidanceStandaloneNuxContainer.react'),{accountID:this.props.accountID,channelName:'AYMTAdsAudienceManagerChannel',className:"_4izb",nuxName:'aymt_multicountry_lookalike_nux_tip',renderer:new (c('AdsMulticountryLookalikeNUXRenderer'))({})});}else{ea=this.$AudienceManagerLookalikeCreationForm6();fa=c('AudienceManagerLookalikeDialogLabels').COUNTRY_LABEL;ga=c('AudienceManagerLookalikeDialogLabels').COUNTRY_TOOLTIP;}var ia=c('adsGKCheck')('can_account_create_multi_seed_lookalike'),ja=[c('React').createElement(c('InfoTableRow.react'),{className:"_1ujq _1qv1",key:'descriptionRow',type:'data'},c('React').createElement('div',null),c('React').createElement('div',null,ha,c('React').createElement('div',{className:"_2sx5 _2sx7"},c('AudienceManagerLookalikeDialogLabels').DESCRIPTION_TEXT,' ',c('React').createElement(c('Link.react'),{href:'/business/help/164749007013531',target:'_blank'},v)))),c('React').createElement(c('InfoTableRow.react'),{className:"_1ujq _26zs",'data-testid':c('AdsLookalikeWWWBuddyIDs').LOOKALIKE_SOURCE,key:'lookalikeAudienceSourceRow',label:c('AudienceManagerLookalikeDialogLabels').SOURCE_LABEL,type:'data'},this.$AudienceManagerLookalikeCreationForm7(ia),this.$AudienceManagerLookalikeCreationForm8(ia)),c('React').createElement(c('InfoTableRow.react'),{className:"_1ujq _26zs",'data-testid':c('AdsLookalikeWWWBuddyIDs').LOOKALIKE_TARGET_LOCATION,key:'lookalikeAudienceCountryRow',label:fa,type:'data'},c('React').createElement('div',babelHelpers['extends']({},c('Tooltip').propsFor(ga),{className:"_fbh"})),ea)];if(this.state.error){ja.unshift(this.$AudienceManagerLookalikeCreationForm9(this.state.error));}else if(this.props.error)ja.unshift(this.$AudienceManagerLookalikeCreationForm9(this.props.error));if(c('adsGKCheck')('financial_service_lookalike')||c('AdsAccountUtils').hasCapability(c('AdsAMAudienceStore').getAccount(),c('AdsAccountCapabilities').AD_BUSINESS_FINANCIAL_SERVICE_LOOKALIKE))ja.push(this.$AudienceManagerLookalikeCreationForm10());if(this.state.isSourceWeightable)ja.push(this.$AudienceManagerLookalikeCreationForm11());return c('React').createElement('div',null,c('React').createElement(c('InfoTable.react'),{className:"_26zu",columns:3},c('React').createElement(c('InfoTableSection.react'),null,ja)),c('React').createElement(c('AdsTieredLookalikeRatioValueSlider.react'),{country:this.state.country,locationSpec:this.state.locationSpec,ratioValues:this.state.ratioValues,selectedMode:this.state.selectedMode,source:this.state.source,useBigTieredRatio:this.state.useBigTieredRatio,useMcLAL:aa,onRatioValuesChange:this.$AudienceManagerLookalikeCreationForm12,onSelectedModeChange:this.$AudienceManagerLookalikeCreationForm13}));};da.prototype.$AudienceManagerLookalikeCreationForm8=function(ea){if(ea&&!this.props.source){var fa=Object.values(this.state.targetableAudiences);return c('React').createElement(c('AdsTargetingAudienceTokenizer.react'),{accountID:this.props.accountID,customAudiences:fa,dao:c('AdsDaoGraph'),defaultCategory:c('AdsAudienceFilterEnum').CUSTOM_AUDIENCE,disableAudienceCreation:true,disableLookalikeAudienceCreationItem:true,excludedCustomAudiences:[],maxEntries:ba,placeholder:ca,placementAPISpec:{},resultCategories:[],shouldHideSelectedEntries:false,targetableAudiences:this.state.targetableAudiences,width:c('AdsAudienceTypeaheadConstants').LOOKALIKE_SOURCE.WIDTH,onIncludeAudience:this.$AudienceManagerLookalikeCreationForm14,onRemoveAudience:this.$AudienceManagerLookalikeCreationForm15});}else{var ga=z&&!this.props.audience?c('React').createElement(c('LookalikeCreateNewSourceAudienceMenu.react'),null):null,ha=z?this.$AudienceManagerLookalikeCreationForm16():null;return c('React').createElement('div',null,c('React').createElement(c('AdsCreateLookalikeDialogSourceTypeahead.react'),{accountID:this.props.accountID,source:this.state.source,onSelectAttempt:this.$AudienceManagerLookalikeCreationForm17}),this.$AudienceManagerLookalikeCreationForm18(),ga,ha);}};da.prototype.$AudienceManagerLookalikeCreationForm7=function(ea){var fa=c('React').createElement('div',babelHelpers['extends']({},c('Tooltip').propsFor(c('AudienceManagerLookalikeDialogLabels').SOURCE_TOOLTIP),{className:"_fbh"}));return ea?this.$AudienceManagerLookalikeCreationForm19():fa;};da.prototype.$AudienceManagerLookalikeCreationForm19=function(){var ea=j("28631");return c('React').createElement(c('AdsDefaultVisibleHelpLink.react'),{alignment:'center',imgHover:ea,imgNormal:ea,linkContainerClassName:"_2czg",position:'below',width:300},c('React').createElement('div',null,c('React').createElement('div',{className:"_2czj"},c('React').createElement(c('Image.react'),{src:y})),c('React').createElement(c('SUIText.react'),{display:'block',shade:'medium',size:'medium',style:{marginTop:12,marginBottom:12}},i._("Choose Multiple Sources"),c('React').createElement(c('InlineBlock.react'),null,c('React').createElement(c('AdsGuidanceNewBadge.react'),null))),c('React').createElement(c('SUIText.react'),{display:'block',shade:'light',size:'small'},i._("Choose 1-5 sources that represent your best customers, based on your objective. The sources you select enable our system to learn who is most likely to take the action you're optimizing for.")),c('React').createElement('div',{className:"_3-8y"},c('React').createElement(c('SUIText.react'),{display:'block',shade:'light',size:'small'},c('React').createElement('b',null,i._("Example:")),' ',i._("To find new people interested in shoes, choose audiences of past shoe shoppers. These might be both people who purchased shoes and people who shopped for shoes on your website."))),c('React').createElement('div',{className:"_3-8y"},c('React').createElement(c('SUIText.react'),{display:'block',shade:'light',size:'small'},c('React').createElement('b',null,i._("Note:")),' ',i._("To find new people interested in shoes, choose audiences of past shoe shoppers. These might be both people who purchased shoes and people who shopped for shoes on your website.")))));};da.prototype.$AudienceManagerLookalikeCreationForm18=function(){var ea=this.state.source;if(!ea||ea.getType()!==t.CONVERSION_PIXEL)return null;return c('React').createElement(c('AdsConversionPixelDeprecationInfoBoxContent.react'),{platform:c('AdsConversionPixelDeprecationEnum').LOOKALIKE_AUDIENCE});};da.prototype.$AudienceManagerLookalikeCreationForm5=function(){return c('React').createElement(c('AdsCreateLookalikeDialogLocationTokenizer.react'),{accountID:this.props.accountID,locationSpec:this.state.locationSpec,ref:'locationTokenizer',onLocationSpecChange:this.$AudienceManagerLookalikeCreationForm20});};da.prototype.$AudienceManagerLookalikeCreationForm6=function(){return c('React').createElement(c('AdsCreateLookalikeDialogCountryTypeahead.react'),{country:this.state.country,ref:'countryTypeahead',onSelectAttempt:this.$AudienceManagerLookalikeCreationForm21});};da.prototype.$AudienceManagerLookalikeCreationForm10=function(){return c('React').createElement(c('InfoTableRow.react'),{className:"_1ujq",key:'lookalikeAudienceFCRARow',type:'data'},c('React').createElement('div',null),c('React').createElement('div',null,c('React').createElement('input',{checked:this.state.isFinancialService,type:'checkbox',onChange:this.$AudienceManagerLookalikeCreationForm22}),c('React').createElement(c('TooltipLink.react'),{tooltip:c('AudienceManagerLookalikeDialogLabels').FINANCIAL_TOOLTIP},c('AudienceManagerLookalikeDialogLabels').FINANCIAL_LABEL)));};da.prototype.$AudienceManagerLookalikeCreationForm11=function(){if(!this.state.country)return null;var ea=this.state.weightableAttributesSource?this.state.weightableAttributesSource.get('attributes'):null;return c('React').createElement(c('InfoTableRow.react'),{className:"_1ujq _1uj_",key:'weightableAttributeDropdownRow',label:c('APStrings').getWeightedAttributeSelectorLabel(),type:'data'},c('React').createElement('div',babelHelpers['extends']({},c('Tooltip').propsFor(c('APStrings').getWeightedAttributeSelectorDescription()),{className:"_fbh",style:{marginTop:4}})),c('React').createElement(c('APDSAttributeSelector.react'),{attributes:ea,initialValue:this.state.weightedAttribute,onAttributeSelect:this.$AudienceManagerLookalikeCreationForm23}));};da.prototype.$AudienceManagerLookalikeCreationForm9=function(ea){return c('React').createElement(c('InfoTableRow.react'),{className:"_1ujq",key:'lookalikeAudienceErrorRow',type:'data'},c('React').createElement('div',null),c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUINoticeSmall.react'),{type:'error',onClose:this.$AudienceManagerLookalikeCreationForm24},ea.message)));};da.prototype.$AudienceManagerLookalikeCreationForm16=function(){return c('React').createElement('div',{className:!this.state.isValueBasedLALUpsellVisible||this.state.source?"hidden_elem":''},c('React').createElement(c('XUICard.react'),{className:"_xnv"},c('React').createElement(c('ImageBlock.react'),null,c('React').createElement(c('Image.react'),{src:x}),c('React').createElement('div',{className:"_xn_"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'medium',size:'medium',weight:'bold'},i._("New! Create a Custom Audience with LTV for value-based Lookalikes")),c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-8n",display:'block',shade:'light',size:'small'},i._("You can now reach people who are similar to your most valuable customers by including a customer lifetime value (LTV) in Custom Audiences from your customer file.")))),c('React').createElement(c('BUIAdoptionCloseButton.react'),{className_DEPRECATED:"_xo0",size:'small',onClick:this.$AudienceManagerLookalikeCreationForm25}),c('React').createElement(c('Link.react'),{className:"_xo1",display:'block',onClick:this.$AudienceManagerLookalikeCreationForm26},v)),c('React').createElement(c('TargetingSectionDivider.react'),null));};da.prototype.$AudienceManagerLookalikeCreationForm4=function(ea){var fa={uniqueID:ea.id,title:ea.name,subtitle:w.CUSTOM_AUDIENCE,type:ea.sourceType||t.CUSTOM_AUDIENCE},ga=new (c('SearchableEntry'))(fa);this.setState({source:ga});this.$AudienceManagerLookalikeCreationForm27(ga);this.$AudienceManagerLookalikeCreationForm28(ea.id,this.props.accountID);};da.prototype.$AudienceManagerLookalikeCreationForm3=function(){this.props.audience&&this.$AudienceManagerLookalikeCreationForm4(this.props.audience);var ea=c('AdsAccountUtils').hasCapability(c('AdsAMAudienceStore').getAccount(),c('AdsAccountCapabilities').ADS_LOOKALIKE_BIG_RATIO_RANGE);this.setState({useBigTieredRatio:ea});c('AdInterfacesUiLogger').setAccountID(this.props.accountID);c('AdInterfacesUiLogger').setAppName(c('AdInterfacesAppNames').AUDIENCE_MANAGER);};da.prototype.$AudienceManagerLookalikeCreationForm29=function(){return !!(this.state.source&&(this.state.country||!c('AdsLookalikeLocationUtils').isEmptyLocationSpec(this.state.locationSpec)));};da.prototype.componentDidUpdate=function(ea,fa){this.$AudienceManagerLookalikeCreationForm1();};da.prototype.$AudienceManagerLookalikeCreationForm1=function(){var ea=this.state,fa=ea.ratioValues,ga=ea.source,ha=ea.country,ia=ea.locationSpec,ja=ea.isFinancialService,ka=ea.isSourceWeightable,la=ea.targetableAudiences,ma=ea.weightableAttributesSource,na=ea.weightedAttribute,oa={ratioValues:fa,sourceID:ga?ga.getUniqueID():null,sourceType:ga?ga.getType():null,sources:Object.values(la),country:ha,locationSpec:ia,isFinancialService:ja,isSourceWeightable:ka,weightableAttributesSource:ma,weightedAttribute:na};this.props.onChange(oa);};da.prototype.$AudienceManagerLookalikeCreationForm30=function(ea){this.setState({ratioValues:ea});};da.prototype.$AudienceManagerLookalikeCreationForm31=function(ea){if(aa){this.$AudienceManagerLookalikeCreationForm20(c('AdsLookalikeLocationUtils').getLocationSpecFromCountry(ea));}else this.$AudienceManagerLookalikeCreationForm21(ea);};da.prototype.$AudienceManagerLookalikeCreationForm28=function(ea,fa){var ga=c('XAdsLookalikeSuggestedCountryController').getURIBuilder().setInt('origin_audience_id',ea).setString('ad_account_id',fa).getURI(),ha=new (c('AsyncRequest'))().setURI(ga).setHandler(function(ia){var ja=this.state.source&&this.state.source.getUniqueID(),ka=ia&&ia.payload;if(ja===ea&&o[ka]){this.$AudienceManagerLookalikeCreationForm31(ka);}else if(!this.state.country&&this.props.defaultCountry)this.$AudienceManagerLookalikeCreationForm31(this.props.defaultCountry);}.bind(this)).setErrorHandler(function(ia){});ha.send();};da.prototype.$AudienceManagerLookalikeCreationForm32=function(ea){c('AdsGraphAPI').get(f.id).object('dataset',ea).edge('attributes').batched().get({date_format:'U',fields:['name','type']}).done(function(fa){var ga=this.state.weightableAttributesSource&&this.state.weightableAttributesSource.set('attributes',m(fa.data).filter(function(ha){return ha.type==='integer';}).map(function(ha){return {name:ha.name};}));this.setState({weightableAttributesSource:ga});}.bind(this),function(fa){return this.$AudienceManagerLookalikeCreationForm33(c('AudienceManagerLoggingEvents').AM_LAL_WEIGHTABLE_ATTR_LOADING_ERROR);}.bind(this));};da.prototype.$AudienceManagerLookalikeCreationForm34=function(ea){return c('AdsGraphAPI').get(f.id).object('customaudience',ea).get({fields:['subtype']});};da.prototype.$AudienceManagerLookalikeCreationForm35=function(ea){return new (c('Promise'))(function(fa,ga){var ha=c('XAdsGetCustomAudienceDataSetSpecController').getURIBuilder().setInt('audience_id',ea).getURI(),ia=new (c('AsyncRequest'))().setURI(ha).setHandler(function(ja){var ka=ja.payload,la=void 0,ma=void 0;if(ka){la=ka.data_set_id;ma=ka.rule;}fa({id:la,rule:ma});}).setErrorHandler(function(ja){this.$AudienceManagerLookalikeCreationForm33(c('AudienceManagerLoggingEvents').AM_LAL_CA_DATA_SPEC_LOADING_ERROR);ga(ja);}.bind(this));ia.send();}.bind(this));};da.prototype.$AudienceManagerLookalikeCreationForm27=function(ea){this.setState({isSourceWeightable:false,weightableAttributesSource:undefined,weightedAttribute:undefined},function(){var fa,ga=this;if(ea!=null)(function(){var ha=ea.getUniqueID();switch(ea.getType()){case t.DATA_SET:ga.setState({isSourceWeightable:true,weightableAttributesSource:n({id:ha})},function(){return this.$AudienceManagerLookalikeCreationForm32(ha);}.bind(ga));break;case t.CUSTOM_AUDIENCE:ga.$AudienceManagerLookalikeCreationForm34(ha).done(function(ia){switch(ia.subtype){case u:this.setState({isSourceWeightable:true});this.$AudienceManagerLookalikeCreationForm35(ia.id).done(function(ja){var ka=ja&&ja.id;if(ka)this.setState({weightableAttributesSource:n(ja)},function(){return this.$AudienceManagerLookalikeCreationForm32(ka);}.bind(this));}.bind(this));break;default:break;}}.bind(ga),function(ia){return this.$AudienceManagerLookalikeCreationForm33(c('AudienceManagerLoggingEvents').AM_LAL_CA_SUBTYPE_LOADING_ERROR);}.bind(ga));break;default:break;}})();}.bind(this));};da.prototype.$AudienceManagerLookalikeCreationForm26=function(){c('AdsAMViewActions').closeLookalikeDialog();c('AdsAMViewActions').showValueBasedCADialog();};da.prototype.$AudienceManagerLookalikeCreationForm33=function(event){c('AdsInterfacesLogger').log({eventName:event},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};f.exports=da;}),null);
__d('AudienceManagerTieredLookalikeDialog.react',['cx','AdInterfacesAppNames','AdInterfacesUiLogger','AdsLookalikeLocationUtils','AdsInterfacesLogger','AdsLookalikeWWWBuddyIDs','AudienceManagerLoggingEvents','AudienceManagerLookalikeCreationFormContainer.react','ads-cluster-constants','AudienceManagerLookalikeDialogLabels','LayerHideOnEscape','React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react','AdsLookalikeCreationUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('AdsLookalikeCreationUtils').getLookalikeSpec,j=c('React').PropTypes,k=c('ads-cluster-constants').LOOKALIKE_SOURCE_TYPE,l=100,m=730,n=c('React').createClass({displayName:'AudienceManagerTieredLookalikeDialog',propTypes:{accountID:j.string.isRequired,audience:j.object,dao:j.object.isRequired,defaultCountry:j.string,onAudienceAdded:j.func.isRequired,onClose:j.func.isRequired},getInitialState:function o(){return {completedLookalikes:0,dialogCloseReason:c('AudienceManagerLoggingEvents').AM_LAL_DIALOG_CLOSE_CANCEL,error:undefined,loading:false,lookalikeAudienceSpec:{}};},componentWillMount:function o(){this._init();},componentWillUnmount:function o(){this._logEvent(this.state.dialogCloseReason);},render:function o(){return (c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerHideOnEscape:c('LayerHideOnEscape')},'data-testid':c('AdsLookalikeWWWBuddyIDs').LOOKALIKE_DIALOGUE,fixedTopPosition:50,shown:true,width:m,onToggle:this._onToggle},c('React').createElement(c('XUIDialogTitle.react'),null,c('AudienceManagerLookalikeDialogLabels').DIALOG_TITLE),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_26zr"},c('React').createElement(c('AudienceManagerLookalikeCreationFormContainer.react'),{accountID:this.props.accountID,audience:this.props.audience,defaultCountry:this.props.defaultCountry,error:this.state.error,loading:this.state.loading,resetError:this._resetError,onChange:this._onLookalikeSpecChange}))),c('React').createElement(c('XUIDialogFooter.react'),{leftContent:c('React').createElement(c('XUIDialogCancelButton.react'),{disabled:this.state.loading,onClick:this.props.onClose})},c('React').createElement(c('XUIDialogButton.react'),{action:'confirm','data-testid':c('AdsLookalikeWWWBuddyIDs').LOOKALIKE_CREATE_BUTTON,disabled:this.state.loading||!this._canCreate(),label:c('AudienceManagerLookalikeDialogLabels').CREATE_AUDIENCE_BUTTON,use:'confirm',onClick:this._onCreateLookalike}))));},_resetError:function o(){this.setState({error:undefined});},_init:function o(){c('AdInterfacesUiLogger').setAccountID(this.props.accountID);c('AdInterfacesUiLogger').setAppName(c('AdInterfacesAppNames').AUDIENCE_MANAGER);},_canCreate:function o(){var p=this.state.lookalikeAudienceSpec,q=p.sourceID,r=p.country,s=p.locationSpec;return !!(q&&(r||!c('AdsLookalikeLocationUtils').isEmptyLocationSpec(s)));},_onLookalikeSpecChange:function o(p){this.setState({lookalikeAudienceSpec:p});},_onCreateLookalike:function o(){this._resetError();this._createSingleLookalike(this.state.lookalikeAudienceSpec.ratioValues[0]/l,this.state.lookalikeAudienceSpec.ratioValues[1]/l);this.setState({loading:true});},_createSingleLookalike:function o(p,q){var r=this.state.lookalikeAudienceSpec,s=r.sourceID,t=r.sourceType,u=r.country,v=r.locationSpec,w=r.isFinancialService,x=r.isSourceWeightable,y=r.ratioValues,z=r.weightableAttributesSource,aa=r.weightedAttribute,ba=t===k.CUSTOM_AUDIENCE&&!(x&&z)?'createLookalikeCluster':'createActionsLookalike',ca=i(this.props.accountID,p,q,s,t,u,v,w,x,z,aa);ca.handleError=function(da,ea){if(!this.state.error)this._logEvent(c('AudienceManagerLoggingEvents').AM_LAL_DIALOG_ERROR);this.setState({loading:false,error:ea&&ea.error});}.bind(this);this.props.dao.add[ba].one(function(da){this.props.onAudienceAdded(da.id);if(!this.isMounted())return;this.setState({completedLookalikes:this.state.completedLookalikes+1});if(this.state.completedLookalikes==y.length-1){this.setState({loading:false,dialogCloseReason:c('AudienceManagerLoggingEvents').AM_LAL_DIALOG_CLOSE_SUCCESS});this.props.onClose();}else if(this.state.completedLookalikes==1)for(var ea=1;ea<y.length-1;ea++)this._createSingleLookalike(y[ea]/l,y[ea+1]/l);}.bind(this),ca);},_onToggle:function o(p){if(!p)this.props.onClose();},_logEvent:function o(event){c('AdsInterfacesLogger').log({eventName:event},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);}});f.exports=n;}),null);
__d('AudienceManagerUploadDialogContent.react',['cx','fbt','AdsXUIProgressBar.react','BUIAdoptionXUIGrayText.react','React','XUIDialogBody.react'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';return (c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement(c('AdsXUIProgressBar.react'),{animated:true,className:"_5go",value:this.props.progress}),c('React').createElement('div',{className:"_5gp"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light',size:'small',weight:'bold'},i._("UPLOADING")))));};function m(){'use strict';j.apply(this,arguments);}m.propTypes={progress:l.number.isRequired};f.exports=m;}),null);
__d('AudienceManagerUploadErrorDialogContent.react',['cx','ix','fbt','AudienceManagerDownloadReportLink.react','BUIAdoptionButton.react','Image.react','Number.react','React','XUIDialogBody.react','ads-cluster-constants'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=i("21702"),n=c('React').PropTypes;k=babelHelpers.inherits(o,c('React').Component);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$AudienceManagerUploadErrorDialogContent1=function(){var u=j._("We found {numErrors} errors in your file",[j.param('numErrors',c('React').createElement(c('Number.react'),{value:this.props.numErrors}))]);return (c('React').createElement('div',null,c('React').createElement(c('Image.react'),{className:"_5azf",src:m}),c('React').createElement('span',{className:"_5wb_ _1ols"},u)));}.bind(this),this.$AudienceManagerUploadErrorDialogContent2=function(){var u=(this.props.errorTokenLists||[]).slice(0,2),v=u.join('; ');return (c('React').createElement('div',null,j._("E.g. {errorTokens}",[j.param('errorTokens',v)])));}.bind(this),this.$AudienceManagerUploadErrorDialogContent3=function(){return (c('React').createElement('div',{className:"_5azg"},c('React').createElement(c('BUIAdoptionButton.react'),{label:j._("Choose a New File"),onClick:this.props.onUploadAnotherFileClick}),c('React').createElement('span',{className:"_5azh"},j._("OR")),c('React').createElement(c('BUIAdoptionButton.react'),{label:j._("Continue Uploading File"),onClick:this.props.onContinueCreateAudience})));}.bind(this),q;}o.prototype.render=function(){return c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_50_z _5wby"},this.$AudienceManagerUploadErrorDialogContent1(),this.$AudienceManagerUploadErrorDialogContent2(),c('React').createElement(c('AudienceManagerDownloadReportLink.react'),{errorTokenLists:this.props.errorTokenLists}),c('React').createElement('div',null,j._("You can choose a new file or continue uploading file.")),this.$AudienceManagerUploadErrorDialogContent3()));};o.propTypes={numLines:n.number,numErrors:n.number.isRequired,errorTokenLists:n.array,onUploadAnotherFileClick:n.func.isRequired,onContinueCreateAudience:n.func.isRequired};o.defaultProps={numLines:1};f.exports=o;}),null);
__d('AudienceManagerUploadFileErrorDialogContent.react',['cx','fbt','BUIAdoptionButton.react','Image.react','React','XUIDialogBody.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m='/images/ads/audience_manager/error.png';j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$AudienceManagerUploadFileErrorDialogContent1=function(){var t=i._("We are unable to upload your file.");return (c('React').createElement('div',null,c('React').createElement(c('Image.react'),{className:"_2pii",src:m}),c('React').createElement('span',{className:"_5wb_ _1ols"},t)));},this.$AudienceManagerUploadFileErrorDialogContent2=function(){return (c('React').createElement('div',null,i._("Error: {error details}",[i.param('error details',this.props.errorDetails)])));}.bind(this),this.$AudienceManagerUploadFileErrorDialogContent3=function(){return (c('React').createElement('div',{className:"_3-8x"},c('React').createElement(c('BUIAdoptionButton.react'),{href:{url:'#'},label:i._("Choose a New File"),onClick:this.props.onUploadAnotherFileClick})));}.bind(this),p;}n.prototype.render=function(){return c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_50_z _5wby"},this.$AudienceManagerUploadFileErrorDialogContent1(),this.$AudienceManagerUploadFileErrorDialogContent2(),this.$AudienceManagerUploadFileErrorDialogContent3()));};n.propTypes={errorDetails:l.string.isRequired,onUploadAnotherFileClick:l.func.isRequired};f.exports=n;}),null);
__d('AudienceManagerValueBasedCustomAudienceNUXDialog.react',['cx','fbt','ix','BUIAdoptionButton.react','BUIAdoptionXUIGrayText.react','BUIAdoptionXUIText.react','CenteredContainer.react','Image.react','ImageBlock.react','LayerFadeOnHide','LayerFadeOnShow','LeftRight.react','Link.react','React','XUIDialog.react','XUIDialogTitle.react','XUIDialogBody.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').Element,n=c('React').PropTypes,o=650,p=600,q=j("21698"),r=j("21697"),s=j("21668");k=babelHelpers.inherits(t,c('React').PureComponent);l=k&&k.prototype;function t(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=l.constructor).call.apply(u,[this].concat(x)),this.$AudienceManagerValueBasedCustomAudienceNUXDialog1=function(z){if(z===false)this.props.onClose();}.bind(this),v;}t.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide'),LayerFadeOnShow:c('LayerFadeOnShow')},className:"_5w9 _37b6",height:o,layerHideOnBlur:false,shown:this.props.shown,width:p,onToggle:this.$AudienceManagerValueBasedCustomAudienceNUXDialog1},c('React').createElement(c('XUIDialogTitle.react'),null,i._("Create a Custom Audience with LTV")),c('React').createElement(c('XUIDialogBody.react'),{className:"_2pi1",style:{height:'450px',overflow:'hidden'}},c('React').createElement(c('ImageBlock.react'),{className:"_2jv2"},c('React').createElement(c('Image.react'),{alt:i._("Image for introduction of value-based Lookalikes"),src:s}),c('React').createElement('div',null,c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'dark',size:'large',weight:'bold'},i._("How a Custom Audience with LTV enables value-based Lookalikes"))),c('React').createElement('div',{className:"_3-8w"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'dark',size:'small'},i._("When you create a Custom Audience with a customer lifetime value (LTV) using your customer file, our system can find people who are similar to your highest-value customers when creating your Lookalike Audience."))))),c('React').createElement(c('LeftRight.react'),{className:"_2jv2"},c('React').createElement('div',{className:"_2jv3"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'dark',weight:'bold'},i._("What is customer lifetime value (LTV)?")),c('React').createElement('div',{className:"_3-8w"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'dark',size:'small'},i._("LTV is a value associated with your customers based on how much and how often they spend with your business over the course of their relationship with you.")))),c('React').createElement('div',null,c('React').createElement(c('Image.react'),{alt:i._("Image for explaining LTV"),src:r}))),c('React').createElement(c('LeftRight.react'),{className:"_2jv2 _2jv4"},c('React').createElement('div',{className:"_2jv3"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'dark',weight:'bold'},i._("How to include LTVs in your Custom Audience")),c('React').createElement('div',{className:"_3-8w"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'dark',size:'small'},i._("Don't just include your highest-value customers. Providing a range of LTVs helps us generate the best Lookalike Audience for you, because our system can learn what makes people similar to your highest-value customers, compared to those with lower LTVs.")))),c('React').createElement('div',{className:"_3-8-"},c('React').createElement(c('Image.react'),{alt:i._("Image for the importance of using LTV"),src:q}))),c('React').createElement(c('CenteredContainer.react'),null,c('React').createElement(c('Link.react'),{href:'/business/help/606443329504150',target:'_blank'},c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'small'},i._("Read more about how to prepare customer data with values")),c('React').createElement(c('Image.react'),{className:"_4dp_",src:j("116756")})))),c('React').createElement('div',{className:"_5wb",ref:'footer'},c('React').createElement('div',{style:{paddingBottom:'12px'}},c('React').createElement('div',{className:"_2q8e"},c('React').createElement('div',{className:"_2q8f"},c('React').createElement(c('BUIAdoptionButton.react'),{label:i._("Cancel"),onClick:this.props.onCancel})),c('React').createElement('div',{className:"_5we"},c('React').createElement(c('BUIAdoptionButton.react'),{label:i._("Back"),onClick:this.props.onBackOut}),c('React').createElement(c('BUIAdoptionButton.react'),{label:i._("Get started"),use:'confirm',onClick:this.props.onConfirm}))))));};t.propTypes={shown:n.bool.isRequired,onBackOut:n.func.isRequired,onCancel:n.func.isRequired,onClose:n.func.isRequired,onConfirm:n.func.isRequired};f.exports=t;}),null);
__d('WeightedCustomAudienceTOSBlock.react',['BUIAdoptionXUISpinner.react','areEqual','AsyncRequest','DOM','CurrentLocale','DOMContainer.react','React','XCMSBlockDeliveryController'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.state={busy:false,containerNode:c('DOM').create('span')};}j.prototype.componentDidMount=function(){this.updateDisplay(this.props);};j.prototype.componentWillReceiveProps=function(k){if(!c('areEqual')(this.props,k))this.updateDisplay(k);};j.prototype.updateDisplay=function(k){this.setState({busy:true});var l=new (c('AsyncRequest'))().setURI(c('XCMSBlockDeliveryController').getURIBuilder().getURI()).setData({id:this.props.cms_id,cms_locale:c('CurrentLocale').get(),sent_time:Date.now()}).setHandler(function(m){c('DOM').setContent(this.state.containerNode,m.payload.result);this.setState({busy:false});}.bind(this)).setAllowCrossPageTransition(true);l.send();};j.prototype.render=function(){var k=c('React').createElement(c('DOMContainer.react'),null,this.state.containerNode);if(this.state.busy)return c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'small'});return k;};f.exports=j;}),null);
__d('AudienceManagerValueBasedCustomAudienceTOSDialog.react',['cx','fbt','BUIAdoptionButton.react','LayerFadeOnHide','LayerFadeOnShow','React','WeightedCustomAudienceTOSBlock.react','XUIDialog.react','XUIDialogTitle.react','XUIDialogBody.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m='156449778122838',n=650,o=600;j=babelHelpers.inherits(p,c('React').PureComponent);k=j&&j.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.$AudienceManagerValueBasedCustomAudienceTOSDialog1=function(v){if(v===false)this.props.onClose();}.bind(this),r;}p.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide'),LayerFadeOnShow:c('LayerFadeOnShow')},className:"_5w9 _37b6",height:n,layerHideOnBlur:false,shown:this.props.shown,width:o,onToggle:this.$AudienceManagerValueBasedCustomAudienceTOSDialog1},c('React').createElement(c('XUIDialogTitle.react'),null,i._("Value-based Custom Audience terms")),c('React').createElement(c('XUIDialogBody.react'),{className:"_2pi1",style:{height:'450px',overflow:'auto'}},c('React').createElement(c('WeightedCustomAudienceTOSBlock.react'),{cms_id:m})),c('React').createElement('div',{className:"_5wb",ref:'footer'},c('React').createElement('div',{style:{paddingBottom:'12px'}},c('React').createElement('div',{style:{paddingBottom:'12px'}},i._("By clicking \"Accept\", you agree to the Terms and Conditions above.")),c('React').createElement('div',{className:"_2q8e"},c('React').createElement('div',{className:"_2q8f"},c('React').createElement(c('BUIAdoptionButton.react'),{label:i._("Cancel"),onClick:this.props.onCancel})),c('React').createElement('div',{className:"_5we"},c('React').createElement(c('BUIAdoptionButton.react'),{label:i._("Back"),onClick:this.props.onBackOut}),c('React').createElement(c('BUIAdoptionButton.react'),{label:i._("Accept"),use:'confirm',onClick:this.props.onConfirm}))))));};p.propTypes={shown:l.bool.isRequired,onBackOut:l.func.isRequired,onCancel:l.func.isRequired,onClose:l.func.isRequired,onConfirm:l.func.isRequired};f.exports=p;}),null);
__d('LinkSharingCreateAudienceDialog',['cx','fbt','AdsAMCreateAudienceServerActions','AdsClearableTextInput.react','AdsHelpLink.react','AdsInfoTable.react','AdsInfoTableRow.react','AdsInfoTableSection.react','AdsInterfacesLogger','AdsInterfacesLoggerConfigColumns','AdsMobileRemarketingAppNameSearchSource','AdsSpinnerCover.react','AudienceManagerLoggingEvents','AdsRichSelector.react','AdsTargetingTokenInput.react','AudienceManagerDayInput.react','AudienceManagerUIConstants','MobileAppRemarketingAppTypeahead.react','React','SearchableEntry','XUIDialogButton.react','XUIDialogCancelButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('AdsRichSelector.react').Option,n=30,o=7;j=babelHelpers.inherits(p,l);k=j&&j.prototype;function p(q){k.constructor.call(this,q);this.onNameChange=function(r){if(r&&r.length>0){this.setState({name:r,nameError:false});}else this.setState({name:r,nameError:true});}.bind(this);this.onRetentionDaysChange=function(r){this.setState({retentionDays:r});}.bind(this);this.onAppSelected=function(r){this.setState({appId:r?r.getUniqueID():null,selectedApp:r});}.bind(this);this.onScopeChange=function(r){this.setState({scope:r.value,urlError:r.value==='SpecificURLs'&&(!this.state.urls||this.state.urls.length===0)});}.bind(this);this.onUpdateURLs=function(r){this.setState({urlError:this.state.scope==='SpecificURLs'&&(!r||r.length===0),urls:r});}.bind(this);this.onSave=function(){if(this.state.nameError||this.state.urlError||!this.state.appId)return;var r=[],s={event_name:'link_shared',object_id:this.state.appId};if(this.state.scope==='SpecificURLs'){if(!this.state.urls)return;s.filters=[];s.filters.push({property:'share_id',operator:'in',value:this.state.urls});}r.push(s);var t={name:this.state.name?this.state.name.trim():null,prefill:true,retention_days:this.state.retentionDays,rule:r,subtype:'engagement'};this.setState({audience:t,creatingAudience:true});c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').LS_CREATE_AUDIENCE_REQUEST_SENT});this.props.onSaveAudience(t,this.onSuccess,this.onFailure);}.bind(this);this.onSuccess=function(r){var s;this.setState({creatingAudience:false});if(r){if(this.props.onAudienceAdded)this.props.onAudienceAdded(r);var t={audienceDefinition:this.state.audience,id:r};c('AdsAMCreateAudienceServerActions').createdEngagementAudience(r,t);}var u={appId:this.state.appId,creation_origin:this.props.proposedAppID?c('AudienceManagerLoggingEvents').LS_CREATE_FROM_SHARING_INSIGHTS_OVERVIEW:c('AudienceManagerLoggingEvents').LS_CREATE_FROM_ADS_MANAGER_FLOW};c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').LS_CREATE_AUDIENCE_REQUEST_SUCCESS,data:(s={},s[c('AdsInterfacesLoggerConfigColumns').SIGNALS_UI_EVENT_DATA]=JSON.stringify(u),s)});}.bind(this);this.onFailure=function(){this.setState({creatingAudience:false});c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').LS_CREATE_AUDIENCE_REQUEST_FAILURE});}.bind(this);this.state={appId:null,creatingAudience:false,name:null,nameError:true,retentionDays:o,scope:'EntireApp',selectedApp:null,urlError:false,urls:null};}p.prototype.componentWillMount=function(){if(this.props.proposedAppID){var q=c('AdsMobileRemarketingAppNameSearchSource').getInstance(this.props.dao);q.searchImpl(this.props.proposedAppID,function(r){if(r&&r.length>0){this.onAppSelected(r[0]);if(this.props.proposedURL){this.onUpdateURLs([this.props.proposedURL]);this.onScopeChange({value:'SpecificURLs'});}}}.bind(this));}};p.prototype.render=function(){return c('React').createElement('div',{className:"_4n_9 _t47"},c('React').createElement(c('AdsInfoTable.react'),null,c('React').createElement(c('AdsInfoTableSection.react'),null,this.$LinkSharingCreateAudienceDialog1(),this.$LinkSharingCreateAudienceDialog2(),this.$LinkSharingCreateAudienceDialog3(),this.$LinkSharingCreateAudienceDialog4())),this.$LinkSharingCreateAudienceDialog5(),c('React').createElement(c('AdsSpinnerCover.react'),{show:this.state.creatingAudience}));};p.prototype.$LinkSharingCreateAudienceDialog1=function(){return c('React').createElement(c('AdsInfoTableRow.react'),{label:i._("Audience name")},c('React').createElement(c('AdsClearableTextInput.react'),{height:'tall',placeholder:i._("Enter a name for your audience"),xuiError:this.state.nameError?i._("You must name your Audience"):null,xuiErrorForceShow:true,xuiErrorPosition:'above',onChange:this.onNameChange}));};p.prototype.$LinkSharingCreateAudienceDialog2=function(){return c('React').createElement(c('AdsInfoTableRow.react'),{helpLink:this.$LinkSharingCreateAudienceDialog6(),label:i._("In the Last")},c('React').createElement(c('AudienceManagerDayInput.react'),{height:'short',max:n,value:this.state.retentionDays,onChange:this.onRetentionDaysChange}));};p.prototype.$LinkSharingCreateAudienceDialog6=function(){return c('React').createElement('div',{className:"_5831"},c('React').createElement(c('AdsHelpLink.react'),{position:'above',width:c('AudienceManagerUIConstants').HELP_LINK_WIDTH},i._("Enter the number of days you want people to remain in your audience after the sharing behaviour you specified. People will be removed from your audience after this time unless they meet the criteria again."),c('React').createElement('br',null),c('React').createElement('br',null),i._("Maximum time: 30 days."),';'));};p.prototype.$LinkSharingCreateAudienceDialog3=function(){return c('React').createElement(c('AdsInfoTableRow.react'),{label:i._("App")},c('React').createElement(c('MobileAppRemarketingAppTypeahead.react'),{appSelected:this.onAppSelected,dao:this.props.dao,placeholder:i._("Enter an App name"),searchSource:this.props.searchSource,selectedApp:this.state.selectedApp}));};p.prototype.$LinkSharingCreateAudienceDialog4=function(){return [this.$LinkSharingCreateAudienceDialog7(),this.$LinkSharingCreateAudienceDialog8()];};p.prototype.$LinkSharingCreateAudienceDialog7=function(){if(!this.state.appId)return null;var q=i._("Any URL"),r=i._("Specific URLs");return c('React').createElement(c('AdsInfoTableRow.react'),{key:'ScopeRow',label:i._("Scope")},c('React').createElement(c('AdsRichSelector.react'),{defaultValue:this.state.scope,onChange:this.onScopeChange},c('React').createElement(m,{key:'EntireApp',label:q,value:'EntireApp'},q),c('React').createElement(m,{key:'SpecificURLs',label:r,value:'SpecificURLs'},r)));};p.prototype.$LinkSharingCreateAudienceDialog8=function(){if(!this.state.appId||this.state.scope!=='SpecificURLs')return null;return c('React').createElement(c('AdsInfoTableRow.react'),{key:'URLRow',label:i._("URL(s)")},c('React').createElement(c('AdsTargetingTokenInput.react'),{defaultTokens:this.state.urls,placeholder:i._("Add a URL"),separator:i._("or"),xuiError:this.state.urlError?i._("For specific URLs you must provide at least 1 URL."):null,onTokenChange:this.onUpdateURLs}));};p.prototype.$LinkSharingCreateAudienceDialog5=function(){var q=c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:this.props.onCancel}),r=c('React').createElement(c('XUIDialogButton.react'),{disabled:this.state.nameError||this.state.urlError||this.state.appId===null,label:i._("Save"),use:'confirm',onClick:this.onSave});return c('React').createElement('div',null,q,r);};f.exports=p;}),null);
__d('AudienceManagerCreateAudienceDialog.react',['cx','fbt','AdsInterfacesLogger','AdsAccountCapabilities','AdsAccountUtils','AdsAMAudienceActions','AdsAMCreateAudienceServerActions','AdsAMCreateAudienceStore','AdsAMCreateAudienceViewActions','AdsCreateMobileRemarketingAudienceDialog.react','AdsCustomAudienceType','AdsEngagementAudienceUILogger','AdsSelectedAccountCapabilitiesGetter','AdsTargetingBootloadDialog.react','AdsQEStore','AudienceManagerAudienceCreatedMessage.react','AudienceManagerChooseAudienceTypeDialogContent.react','AudienceManagerCompleteUploadMessage.react','AudienceManagerCopyPasteInitDialogContent.react','AudienceManagerCreateAudienceCompleteDialogContent.react','AudienceManagerCreateAudienceFileImportInitDialogContent.react','AudienceManagerCreateAudienceInitDialogContentContainer.react','AudienceManagerCreateCanvasAudienceContainer.react','AudienceManagerCreateLeadGenAudienceContainer.react','AudienceManagerCreatePageEngagementAudienceContainer.react','AudienceManagerCreateStoreVisitAudienceContainer.react','AudienceManagerCustomAudienceLoggerActions','AudienceManagerCustomerListDialogContent.react','AudienceDaoManager','AudienceManagerDataSetDialogContentContainer.react','AudienceManagerEngagementAudienceDialogContentContainer.react','AudienceManagerErrorDialogContent.react','AudienceManagerLoggingEvents','AudienceManagerMailChimpInitDialogContent.react','AudienceManagerMailChimpSelectListDialogContent.react','AudienceManagerNextStepDialogContent.react','AudienceManagerStoreVisitAudienceViewAction','AudienceManagerTieredLookalikeDialog.react','AudienceManagerUIConstants','AudienceManagerUploadDialogContent.react','AudienceManagerUploadErrorDialogContent.react','AudienceManagerUploadFileErrorDialogContent.react','AudienceManagerValueBasedCustomAudienceNUXDialog.react','AudienceManagerValueBasedCustomAudienceTOSDialog.react','AudienceManagerWorkflowTypes','BUIAdoptionXUISpinner.react','BootloadedComponent.react','BUIAdoptionXUIText.react','CreateCADialogTypes','CreateCAStages','CustomAudienceTosUtils','EngagementAudienceUIEvents','JSResource','LayerHideOnEscape','LinkSharingCreateAudienceDialog','PopupWindow','React','StoreAndPropBasedStateMixin','URI','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('AdsCustomAudienceType').SUBTYPES,k=new (c('URI'))('/ads/manage/mailchimp_auth_init/'),l=c('React').PropTypes,m='',n=i._("Thanks for creating a Custom Audience"),o=c('React').createClass({displayName:'AudienceManagerCreateAudienceDialog',mixins:[c('StoreAndPropBasedStateMixin')(c('AdsAMCreateAudienceStore'),c('AdsQEStore'))],propTypes:{accountID:l.string.isRequired,dao:l.object,defaultMobileApp:l.object,showEngagementAudienceNUX:l.bool,tosAccepted:l.object.isRequired,tosRequirementsForAccount:l.object.isRequired,autoLaunch:l.object,allowNextStep:l.bool,onAudienceAdded:l.func.isRequired,onCancel:l.func.isRequired,viewStage:l.string},getDefaultProps:function p(){return {allowNextStep:false};},statics:{calculateState:function p(q){return {viewDialogType:c('AdsAMCreateAudienceStore').getViewDialogType(),viewStage:c('AdsAMCreateAudienceStore').getViewStage(),numberOfRecords:c('AdsAMCreateAudienceStore').getNumberOfRecords(),numberOfVideosSelected:c('AdsAMCreateAudienceStore').getNumberOfVideosSelected(),audiences:c('AdsAMCreateAudienceStore').getAudiences(),currentPage:c('AdsAMCreateAudienceStore').getCurrentPage(),totalPage:c('AdsAMCreateAudienceStore').getTotalPage(),progress:c('AdsAMCreateAudienceStore').getProgress(),contactsLists:c('AdsAMCreateAudienceStore').getContactsLists(),selectableContactsLists:c('AdsAMCreateAudienceStore').getSelectableContactsLists(),errorTokenLists:c('AdsAMCreateAudienceStore').getErrorTokenLists(),errorDetailsForLimitReach:c('AdsAMCreateAudienceStore').getErrorDetailsForLimitReach(),errorMessage:c('AdsAMCreateAudienceStore').getErrorMessage(),isLeadAd:c('AdsAMCreateAudienceStore').getIsLeadAd(),isPageAd:c('AdsAMCreateAudienceStore').getIsPageAd(),isVideoAudience:c('AdsAMCreateAudienceStore').getIsVideoAudience()};}},componentDidMount:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_DIALOG_LOAD},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);if(this.props.autoLaunch)switch(this.props.autoLaunch.workflow_id){case c('AudienceManagerWorkflowTypes').DATA_FILE:setTimeout(function(){return (c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').FILE_MULTIKEY_IMPORT_INIT));});break;case c('AudienceManagerWorkflowTypes').VALUE_BASED_DATA_FILE:this._onUploadValueBasedFileClick();break;case c('AudienceManagerWorkflowTypes').MAIL_CHIMP:setTimeout(function(){return (c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').MAIL_CHIMP_INIT));});break;case c('AudienceManagerWorkflowTypes').COPY_PASTE:setTimeout(function(){return (c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').COPY_PASTE_INIT));});break;case c('AudienceManagerWorkflowTypes').MACA:setTimeout(function(){return (c('AdsAMCreateAudienceViewActions').setViewDialogType(c('CreateCADialogTypes').MACA));});break;case c('AudienceManagerWorkflowTypes').CUSTOM_LIST:setTimeout(function(){return (c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').CUSTOMER_LIST));});break;case c('AudienceManagerWorkflowTypes').ENGAGEMENT_AUDIENCE:setTimeout(function(){c('AdsAMCreateAudienceViewActions').setViewDialogType(c('CreateCADialogTypes').ENGAGEMENT_AUDIENCE);c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').CREATE_LINK_SHARING_AUDIENCE);});break;case c('AudienceManagerWorkflowTypes').PLATFORM_AUDIENCE:setTimeout(function(){return (c('AdsAMCreateAudienceViewActions').setViewDialogType(c('CreateCADialogTypes').PLATFORM_AUDIENCE));});break;case c('AudienceManagerWorkflowTypes').STOREVISIT_AUDIENCE:setTimeout(function(){return (c('AdsAMCreateAudienceViewActions').setViewDialogType(c('CreateCADialogTypes').STOREVISIT_AUDIENCE));});break;}},render:function p(){var q=c('AudienceManagerUIConstants').DATA_SET_DIALOG_WIDTH,r=c('AudienceManagerUIConstants').DEFAULT_DIALOG_WIDTH,s=c('React').createElement('div',{style:{padding:100}},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'}));switch(this.state.viewDialogType){case c('CreateCADialogTypes').MACA:var t=this.props.autoLaunch?this.props.autoLaunch.workflow_config:null;return (c('React').createElement(c('AdsCreateMobileRemarketingAudienceDialog.react'),{accountID:this.props.accountID,config:t,dao:this.props.dao,defaultMobileApp:this.props.defaultMobileApp,tosAccepted:this.props.tosAccepted,tosRequirementsForAccount:this.props.tosRequirementsForAccount,onAudienceAdded:this.props.onAudienceAdded,onBack:this._onMACABack,onCancel:this._onCancel}));case c('CreateCADialogTypes').LOOKALIKE:var u=this.state.audiences[Object.keys(this.state.audiences)[0]];return (c('React').createElement(c('AudienceManagerTieredLookalikeDialog.react'),{accountID:this.props.accountID,audience:u,dao:this.props.dao,onAudienceAdded:this.props.onAudienceAdded,onClose:this._onFinishCreation}));case c('CreateCADialogTypes').CUSTOMER_LIST:var v=this.props.dialogTitle;if(!v)v=c('React').createElement(c('XUIDialogTitle.react'),null,c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'medium',weight:'bold'},i._("Create a Custom Audience")));switch(this.state.viewStage){case c('CreateCAStages').FILE_VALUE_BASED_MULTIKEY_NUX:return (c('React').createElement(c('AudienceManagerValueBasedCustomAudienceNUXDialog.react'),{shown:true,onBackOut:this._onInitBackToCustomerList,onCancel:this._onCancel,onClose:this._onCancel,onConfirm:this._onValueBasedCustomAudienceNuxClick}));case c('CreateCAStages').FILE_VALUE_BASED_MULTIKEY_TOS:return (c('React').createElement(c('AudienceManagerValueBasedCustomAudienceTOSDialog.react'),{shown:true,onBackOut:this._onBackToValueBasedCustomAudienceNuxClick,onCancel:this._onCancel,onClose:this._onCancel,onConfirm:this._onValueBasedCustomAudienceTOSConfirmClick}));case c('CreateCAStages').FILE_VALUE_BASED_MULTIKEY_IMPORT_INIT:return (c('React').createElement(c('BootloadedComponent.react'),babelHelpers['extends']({},this.props,{accountID:this.props.accountID,audiences:this.state.audiences,bootloadLoader:c('JSResource')('AudienceManagerCreateMultikeyAudienceImportDialogContainer.react').__setRef('AudienceManagerCreateAudienceDialog.react'),bootloadPlaceholder:c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'small'}),hasWeightColumn:true,termsAlreadyAccepted:true,tosRequirementsForAccount:this.props.tosRequirementsForAccount,onAudienceAdded:this.props.onAudienceAdded,onBackOut:this._onInitBackToCustomerList,onCancel:this._onCancel,onNavigateToAudienceManager:this._onFinishCreation,onNextOptionCreateAd:this._onCreateAdClick,onNextOptionCreateLAL:this._onCreateLookalikeClick,onStepOut:this._onFinishCreation})));case c('CreateCAStages').FILE_MULTIKEY_IMPORT_INIT:return (c('React').createElement(c('BootloadedComponent.react'),{accountID:this.props.accountID,bootloadLoader:c('JSResource')('AudienceManagerCreateMultikeyAudienceImportDialogContainer.react').__setRef('AudienceManagerCreateAudienceDialog.react'),bootloadPlaceholder:c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'small'}),hasWeightColumn:false,termsAlreadyAccepted:this._isTermsAccepted(),tosRequirementsForAccount:this.props.tosRequirementsForAccount,onAudienceAdded:this.props.onAudienceAdded,onBackOut:this._onInitBackToCustomerList,onCancel:this._onCancel,onNavigateToAudienceManager:this._onFinishCreation,onNextOptionCreateAd:this._onCreateAdClick,onNextOptionCreateLAL:this._onCreateLookalikeClick,onStepOut:this._onFinishCreation}));default:return (c('React').createElement(c('AdsTargetingBootloadDialog.react'),{behaviors:{LayerHideOnEscape:c('LayerHideOnEscape')},bootloadLoader:c('JSResource')('XUIDialog.react').__setRef('AudienceManagerCreateAudienceDialog.react'),bootloadPlaceholder:s,dialogTitle:v,layerHideOnBlur:false,ref:'dialog',shown:true,width:r,onToggle:this._onToggle},this._renderDialogContentForStage()));}case c('CreateCADialogTypes').DATA_SET:return (c('React').createElement(c('AdsTargetingBootloadDialog.react'),{behaviors:{LayerHideOnEscape:c('LayerHideOnEscape')},bootloadLoader:c('JSResource')('XUIDialog.react').__setRef('AudienceManagerCreateAudienceDialog.react'),bootloadPlaceholder:s,layerHideOnBlur:false,ref:'dialog',shown:true,width:q,onToggle:this._onToggle},c('React').createElement(c('AudienceManagerDataSetDialogContentContainer.react'),{accountID:this.props.accountID,tosAccepted:this.props.tosAccepted,tosRequirements:this.props.tosRequirementsForAccount,onAudienceAdded:this.props.onAudienceAdded,onCancel:this._onCancel,onClose:this._onFinishCreation,onCreateAudience:this._onDataSetCreateAudienceClick})));case c('CreateCADialogTypes').ENGAGEMENT_AUDIENCE:if(!v)v=c('React').createElement(c('XUIDialogTitle.react'),null,c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'medium',weight:'bold'},i._("Create a Custom Audience")));return (c('React').createElement(c('AdsTargetingBootloadDialog.react'),{behaviors:{LayerHideOnEscape:c('LayerHideOnEscape')},bootloadLoader:c('JSResource')('XUIDialog.react').__setRef('AudienceManagerCreateAudienceDialog.react'),bootloadPlaceholder:s,dialogTitle:v,layerHideOnBlur:false,ref:'dialog',shown:true,width:r,onToggle:this._onToggle},this._renderDialogContentForStage()));case c('CreateCADialogTypes').WCA:return (c('React').createElement(c('BootloadedComponent.react'),{accountID:this.props.accountID,bootloadLoader:c('JSResource')('WebsiteCustomAudience.react').__setRef('AudienceManagerCreateAudienceDialog.react'),bootloadPlaceholder:s,dao:this.props.dao,isTosAccepted:c('CustomAudienceTosUtils').isWcaTosAccepted(this.props.tosAccepted),width:r,onAudienceAdded:this.props.onAudienceAdded,onBack:this._onWebsiteAudienceBack,onCancel:this._onCancel}));case c('CreateCADialogTypes').PLATFORM_AUDIENCE:return (c('React').createElement(c('BootloadedComponent.react'),{accountID:this.props.accountID,bootloadLoader:c('JSResource')('AdsCreatePlatformAudienceDialog.react').__setRef('AudienceManagerCreateAudienceDialog.react'),bootloadPlaceholder:s,shown:true,onAudienceAdded:this.props.onAudienceAdded,onBack:this._onPlatformAudienceBack,onCancel:this._onCancel,onCreateAudience:this._onCreatePlatformAudienceClick}));case c('CreateCADialogTypes').STOREVISIT_AUDIENCE:return (c('React').createElement(c('BootloadedComponent.react'),{accountID:this.props.accountID,bootloadLoader:c('JSResource')('AdsCreatePlatformAudienceDialog.react').__setRef('AudienceManagerCreateAudienceDialog.react'),bootloadPlaceholder:s,shown:true,onAudienceAdded:this.props.onAudienceAdded,onBack:this._onStoreVisitBack,onCancel:this._onCancel,onCreateAudience:this._onCreatePlatformAudienceClick}));}},_renderDialogContentForStage:function p(){var q=this._isTermsAccepted();if(this.state.viewStage===c('CreateCAStages').FILE_IMPORT_UPLOAD_COMPLETE||this.state.viewStage===c('CreateCAStages').COPY_PASTE_UPLOAD_COMPLETE)c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_IMPORT_COMPLETE},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);switch(this.state.viewStage){case c('CreateCAStages').CREATE_AUDIENCE_INIT:var r=c('AdsAccountUtils').hasCapabilityFromList(c('AdsSelectedAccountCapabilitiesGetter').get({}),c('AdsAccountCapabilities').STORE_VISITS_CUSTOM_AUDIENCES);return (c('React').createElement(c('AudienceManagerCreateAudienceInitDialogContentContainer.react'),{canCreateStoreVisitAudience:r,showEngagementAudienceNUX:!!this.props.showEngagementAudienceNUX,onCancel:this._onCancel,onCustomerListClick:this._onCustomerListClick,onDataSetClick:this._onDataSetClick,onEngagementAudienceClick:this._onEngagementClick,onMobileAppClick:this._onMobileAppClick,onPlatformAudienceClick:this._onPlatformClick,onStoreVisitAudienceClick:this._onStoreVisitClick,onWebsiteTrafficClick:this._onWebsiteTrafficClick}));case c('CreateCAStages').CUSTOMER_LIST:return (c('React').createElement(c('AudienceManagerCustomerListDialogContent.react'),{onBack:this._onCustomerListBack,onThirdPartyClick:this._onThirdPartyClick,onUploadFileClick:this._onUploadFileClick,onUploadWeightedFileClick:this._onUploadValueBasedFileClick}));case c('CreateCAStages').FILE_IMPORT_INIT:return (c('React').createElement(c('AudienceManagerCreateAudienceFileImportInitDialogContent.react'),{accountID:this.props.accountID,termsAlreadyAccepted:q,onBack:this._onInitBackToCustomerList,onCreateAudienceClick:this._onFileImportCreateAudienceClick}));case c('CreateCAStages').COPY_PASTE_INIT:return (c('React').createElement(c('AudienceManagerCopyPasteInitDialogContent.react'),{accountID:this.props.accountID,termsAlreadyAccepted:q,onBack:this._onInitBackToCustomerList,onCreateAudienceClick:this._onCopyPasteCreateAudienceClick}));case c('CreateCAStages').MAIL_CHIMP_INIT:return (c('React').createElement(c('AudienceManagerMailChimpInitDialogContent.react'),{onBack:this._onInitBackToCustomerList,onLogInToMailChimpClick:this._onLogInToMailChimpClick}));case c('CreateCAStages').MAIL_CHIMP_AUTHENTICATE:case c('CreateCAStages').FILE_IMPORT_CHECK_FILE:return (c('React').createElement('div',{className:"_3773"},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{background:'light',size:'large'})));case c('CreateCAStages').MAIL_CHIMP_FETCH_COMPLETE:return (c('React').createElement(c('AudienceManagerMailChimpSelectListDialogContent.react'),{accountID:this.props.accountID,contactsLists:this.state.contactsLists,currentPage:this.state.currentPage,termsAlreadyAccepted:q,totalPage:this.state.totalPage,onCreateAudienceClick:this._onMailChimpCreateAudienceClick,onLoadContactsLists:this._onLoadContactsLists}));case c('CreateCAStages').MAIL_CHIMP_UPLOAD:case c('CreateCAStages').COPY_PASTE_UPLOAD:case c('CreateCAStages').FILE_IMPORT_UPLOAD:return (c('React').createElement(c('AudienceManagerUploadDialogContent.react'),{progress:this.state.progress}));case c('CreateCAStages').FILE_IMPORT_UPLOAD_CONVERT_ERROR:case c('CreateCAStages').FILE_IMPORT_NO_VALID_ENTRY:return (c('React').createElement(c('AudienceManagerUploadFileErrorDialogContent.react'),{errorDetails:this.state.errorMessage,onUploadAnotherFileClick:this._onFileImportAnotherFileClick}));case c('CreateCAStages').MAIL_CHIMP_UPLOAD_COMPLETE:case c('CreateCAStages').COPY_PASTE_UPLOAD_COMPLETE:case c('CreateCAStages').FILE_IMPORT_UPLOAD_COMPLETE:var s=c('React').createElement(c('AudienceManagerCompleteUploadMessage.react'),{errorTokenLists:this.state.errorTokenLists,message:n,numberOfTotalRecords:this.state.numberOfRecords.totalRecord,numberOfValidRecords:this.state.numberOfRecords.validRecord});return (c('React').createElement(c('AudienceManagerCreateAudienceCompleteDialogContent.react'),{allowNextStep:this.props.allowNextStep,audiences:this.state.audiences,statusMessage:s,onCompleteClick:this._onUploadCompleteClick,onNextClick:this._onUploadCompleteNextClick}));case c('CreateCAStages').ENGAGEMENT_AUDIENCE_CREATED:var t=c('React').createElement(c('AudienceManagerAudienceCreatedMessage.react'),{isVideoAudience:this.state.isVideoAudience,message:n,numberOfVideosSelected:this.state.numberOfVideosSelected});return (c('React').createElement(c('AudienceManagerCreateAudienceCompleteDialogContent.react'),{allowNextStep:this.props.allowNextStep,audiences:this.state.audiences,hideInputs:true,statusMessage:t,onCompleteClick:this._onUploadCompleteClick,onNextClick:this._onUploadCompleteNextClick}));case c('CreateCAStages').FILE_IMPORT_UPLOAD_ERROR:return (c('React').createElement(c('AudienceManagerUploadErrorDialogContent.react'),{errorTokenLists:this.state.errorTokenLists,numErrors:this.state.errorDetailsForLimitReach.numErrors,numLines:this.state.errorDetailsForLimitReach.numLines,onContinueCreateAudience:this._onFileImportContinueCreateAudienceClick,onUploadAnotherFileClick:this._onFileImportAnotherFileClick}));case c('CreateCAStages').CREATION_COMPLETE_NEXT_STEP:return (c('React').createElement(c('AudienceManagerNextStepDialogContent.react'),{onCreateAdClick:this._onCreateAdClick,onCreateLookalikeClick:this._onCreateLookalikeClick,onFinish:this._onFinishCreation}));case c('CreateCAStages').FATAL_ERROR:return (c('React').createElement(c('AudienceManagerErrorDialogContent.react'),{errorMessage:this.state.errorMessage,onOkClick:this._onFinishCreation}));case c('CreateCAStages').CREATE_VIDEO_AUDIENCE:return (c('React').createElement(c('AudienceManagerEngagementAudienceDialogContentContainer.react'),{isCreateAudience:true,onAudienceAdded:this.props.onAudienceAdded,onBack:this._onVideoAudienceBack,onCancel:this._onCancel,onSaveAudience:this._onCreateEngagementAudienceClick}));case c('CreateCAStages').CREATE_LEAD_GEN_AUDIENCE:return (c('React').createElement(c('AudienceManagerCreateLeadGenAudienceContainer.react'),{onAudienceAdded:this.props.onAudienceAdded,onBack:this._onVideoAudienceBack,onCancel:this._onCancel,onCreateAudience:this._onCreateEngagementAudienceClick}));case c('CreateCAStages').CREATE_CANVAS_AUDIENCE:return (c('React').createElement(c('AudienceManagerCreateCanvasAudienceContainer.react'),{className:"_3rlv",onAudienceAdded:this.props.onAudienceAdded,onBack:this._onVideoAudienceBack,onCancel:this._onCancel,onCreateAudience:this._onCreateEngagementAudienceClick}));case c('CreateCAStages').CREATE_PAGE_ENGAGEMENT_AUDIENCE:return (c('React').createElement(c('AudienceManagerCreatePageEngagementAudienceContainer.react'),{onAudienceAdded:this.props.onAudienceAdded,onBack:this._onVideoAudienceBack,onCancel:this._onCancel,onCreateAudience:this._onCreateEngagementAudienceClick}));case c('CreateCAStages').CREATE_ENGAGEMENT_AUDIENCE:return (c('React').createElement(c('AudienceManagerChooseAudienceTypeDialogContent.react'),{onAudienceAdded:this.props.onAudienceAdded,onBack:this._onEngagementBack,onCancel:this._onCancel,onCanvasAudienceClick:this._onCanvasAudienceClick,onCreateAudience:this._onCreateEngagementAudienceClick,onCreationToggle:this._onToggle,onLeadGenAudienceClick:this._onLeadGenAudienceClick,onLinkSharingAudienceClick:this._onLinkSharingAudienceClick,onPageEngagementAudienceClick:this._onPageEngagementAudienceClick,onStoreVisitAudienceClick:this._onStoreVisitClick,onVideoAudienceClick:this._onVideoAudienceClick}));case c('CreateCAStages').CREATE_LINK_SHARING_AUDIENCE:var u=this.props.autoLaunch?this.props.autoLaunch.workflow_config.application:'',v=this.props.autoLaunch?this.props.autoLaunch.workflow_config.url:'';return (c('React').createElement(c('LinkSharingCreateAudienceDialog'),{dao:this.props.dao,proposedAppID:u,proposedURL:v,onAudienceAdded:this.props.onAudienceAdded,onCancel:this._onCancel,onSaveAudience:this._onCreateEngagementAudienceClick}));case c('CreateCAStages').CREATE_STORE_VISIT_AUDIENCE:return (c('React').createElement(c('AudienceManagerCreateStoreVisitAudienceContainer.react'),{onAudienceAdded:this.props.onAudienceAdded,onBack:this._onStoreVisitBack,onCancel:this._onCancel,onCreateAudience:this._onCreateStoreVisitAudienceClick}));}},_onLinkSharingAudienceClick:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').LS_CREATE_AUDIENCE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').CREATE_LINK_SHARING_AUDIENCE);},_onCreateEngagementAudienceClick:function p(q,r,s){c('AdsAMCreateAudienceServerActions').createCustomAudience(q,r,s);},_onCreatePlatformAudienceClick:function p(q,r,s){c('AdsAMCreateAudienceServerActions').createCustomAudience(q,r,s);},_onCreateStoreVisitAudienceClick:function p(q,r,s){c('AdsAMCreateAudienceServerActions').createCustomAudience(q,r,s);},_onVideoAudienceClick:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_VIDEO_AUDIENCE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').CREATE_VIDEO_AUDIENCE);},_onLeadGenAudienceClick:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_LEAD_AUDIENCE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').CREATE_LEAD_GEN_AUDIENCE);},_onPageEngagementAudienceClick:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_PAGE_ENGAGEMENT_AUDIENCE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').CREATE_PAGE_ENGAGEMENT_AUDIENCE);},_onStoreVisitClick:function p(){var q=c('AudienceManagerLoggingEvents').AM_CA_CREATE_STORE_VISIT_AUDIENCE_CLICK;c('AdsInterfacesLogger').log({eventName:q},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AudienceManagerStoreVisitAudienceViewAction').init();c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').CREATE_STORE_VISIT_AUDIENCE);},_onCanvasAudienceClick:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_CANVAS_AUDIENCE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').CREATE_CANVAS_AUDIENCE);},_onCustomerListClick:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_CUSTOMER_LIST_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').CUSTOMER_LIST);},_onWebsiteTrafficClick:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_WCA_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewDialogType(c('CreateCADialogTypes').WCA);},_onMobileAppClick:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_MACA_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').showMobileAppDialog();},_onDataSetClick:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_DATA_SET_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').showDataSetDialog();},_onEngagementBack:function p(){c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').CREATE_AUDIENCE_INIT);c('AdsAMCreateAudienceViewActions').setViewDialogType(c('CreateCADialogTypes').CUSTOMER_LIST);},_onEngagementClick:function p(){c('AdsAMCreateAudienceViewActions').setViewDialogType(c('CreateCADialogTypes').ENGAGEMENT_AUDIENCE);c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').CREATE_ENGAGEMENT_AUDIENCE);},_onPlatformClick:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_PLATFORM_AUDIENCE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').showPlatformAudienceDialog();},_onVideoAudienceBack:function p(){this._onEngagementClick();},_onCustomerListBack:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_CUSTOMER_LIST_BACK_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').CREATE_AUDIENCE_INIT);},_onWebsiteAudienceBack:function p(){c('AdsAMCreateAudienceViewActions').setViewDialogType(c('CreateCADialogTypes').CUSTOMER_LIST);},_onPlatformAudienceBack:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_PLATFORM_AUDIENCE_BACK_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewDialogType(c('CreateCADialogTypes').CUSTOMER_LIST);},_onMACABack:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_MACA_BACK_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').CREATE_AUDIENCE_INIT);c('AdsAMCreateAudienceViewActions').setViewDialogType(c('CreateCADialogTypes').CUSTOMER_LIST);},_onStoreVisitBack:function p(){var q=c('AudienceManagerLoggingEvents').AM_CA_CREATE_STORE_VISIT_BACK_CLICK;c('AdsInterfacesLogger').log({eventName:q},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').CREATE_AUDIENCE_INIT);},_onUploadFileClick:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_FILE_IMPORT_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').FILE_MULTIKEY_IMPORT_INIT);},_onValueBasedCustomAudienceNuxClick:function p(){c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').FILE_VALUE_BASED_MULTIKEY_TOS);},_onBackToValueBasedCustomAudienceNuxClick:function p(){c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').FILE_VALUE_BASED_MULTIKEY_NUX);},_onValueBasedCustomAudienceTOSConfirmClick:function p(){c('AudienceManagerCustomAudienceLoggerActions').acceptWeighteCustomAudienceTOS(r);var q=this.props,r=q.accountID,s=q.tosRequirementsForAccount,t=c('AudienceDaoManager').getPrimedDao(r);t.add.acceptCustomAudiencesTos.one(function(){c('AdsAMAudienceActions').addAcceptedTOS({value_based_custom_audience_tos:1});c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').FILE_VALUE_BASED_MULTIKEY_IMPORT_INIT);},{tos_id:s.value_based_custom_audience,accountId:r});},_onUploadValueBasedFileClick:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_VALUE_BASED_FILE_IMPORT_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);if(this._isValueBasedCATermsAccepted()){c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').FILE_VALUE_BASED_MULTIKEY_IMPORT_INIT);}else c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').FILE_VALUE_BASED_MULTIKEY_NUX);},_onCopyPasteClick:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_COPY_PASTE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').COPY_PASTE_INIT);},_onThirdPartyClick:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_MAIL_CHIMP_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').MAIL_CHIMP_INIT);},_onInitBackToCustomerList:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_BACK_TO_CUSTOMER_LIST_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').CUSTOMER_LIST);},_onFileImportCreateAudienceClick:function p(q,r,s,t){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_FILE_IMPORT_CREATE_AUDIENCE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').startFileImport(this.props.accountID,q,r,s,this.props.tosRequirementsForAccount.custom_audience,t);},_onFileImportContinueCreateAudienceClick:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_FILE_IMPORT_CONTINUE_CREATE_AUDIENCE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceServerActions').continueUploadSelectedFileToServer();},_onFileImportAnotherFileClick:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_FILE_IMPORT_CHOOSE_ANOTHER_FILE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').FILE_MULTIKEY_IMPORT_INIT);},_onCopyPasteCreateAudienceClick:function p(q,r,s,t){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_COPY_PASTE_CREATE_AUDIENCE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').startCopyPasteUpload(this.props.accountID,q,r,s,this.props.tosRequirementsForAccount.custom_audience,t);},_onDataSetCreateAudienceClick:function p(q,r){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_DATA_SET_CREATE_AUDIENCE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.props.dao.add.acceptCustomAudiencesTos.one(function(){c('AdsAMCreateAudienceServerActions').createCustomAudience(q,r);},{accountId:this.props.accountID,tos_id:this.props.tosRequirementsForAccount.custom_audience});},_getAudiencesNeedUpdate:function p(q){var r=[];for(var s in q){var t=q[s].name,u=q[s].description;if(t!==this.state.audiences[s].name||!!u)r.push(q[s]);}return r;},_onUploadCompleteClick:function p(q){var r=this._getAudiencesNeedUpdate(q);if(this.state.viewStage===c('CreateCAStages').ENGAGEMENT_AUDIENCE_CREATED)c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').CLOSE_DIALOG);c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_UPLOAD_COMPLETE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').updateAudiencesNameDescription(this.props.accountID,r,this._onFinishCreation);},_onUploadCompleteNextClick:function p(q){var r=this._getAudiencesNeedUpdate(q);if(this.state.viewStage===c('CreateCAStages').ENGAGEMENT_AUDIENCE_CREATED)c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').CLICK_NEXT_DIALOG);c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_UPLOAD_COMPLETE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);var s=function t(){c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').CREATION_COMPLETE_NEXT_STEP);};c('AdsAMCreateAudienceViewActions').updateAudiencesNameDescription(this.props.accountID,r,s);},_logPostAudienceCreationEvents:function p(event){var q={};Object.entries(this.state.audiences).filter(function(r){var s=r[0],t=r[1];return (t.subtype===j.ENGAGEMENT);}).forEach(function(r){var s=r[0],t=r[1];q[s]=t;});if(Object.keys(q).length)c('AdsEngagementAudienceUILogger').log(event,{audiences:q});},_onCreateAdClick:function p(){this._logPostAudienceCreationEvents(c('EngagementAudienceUIEvents').CREATE_AD_CLICK);c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_CREATE_AD_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceServerActions').batchCreateAd(this.props.accountID,this.state.audiences);this._onFinishCreation();},_onCreateLookalikeClick:function p(){this._logPostAudienceCreationEvents(c('EngagementAudienceUIEvents').CREATE_LAL_CLICK);c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_CREATE_LAL_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewDialogType(c('CreateCADialogTypes').LOOKALIKE);},_onLogInToMailChimpClick:function p(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_LOG_INTO_MAIL_CHIMP_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').MAIL_CHIMP_AUTHENTICATE);window.handleMailChimpCredential=this._handleMailChimpCredential;c('PopupWindow').open(k,c('AudienceManagerUIConstants').MAILCHIMP_WINDOW_HEIGHT,c('AudienceManagerUIConstants').MAILCHIMP_WINDOW_WIDTH);},_handleMailChimpCredential:function p(q){m=q;c('AdsAMCreateAudienceViewActions').handleMailChimpLogin(this.props.accountID,q);},_onLoadContactsLists:function p(q){c('AdsAMCreateAudienceViewActions').loadContactsList(this.props.accountID,m,q);},_onMailChimpCreateAudienceClick:function p(q){var r=this._getSelectedLists(q);c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_MAIL_CHIMP_CREATE_AUDIENCE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').startMailChimpUpload(this.props.accountID,r,this.props.tosRequirementsForAccount.custom_audience,m);},_getSelectedLists:function p(q){var r=[];Object.keys(q).forEach(function(s){if(q[s])r.push(this.state.selectableContactsLists[s]);}.bind(this));return r;},_isTermsAccepted:function p(){var q=this.props.tosRequirementsForAccount.custom_audience;return (!!this.props.tosAccepted.custom_audience_tos||Object.prototype.hasOwnProperty.call(this.props.tosAccepted,q)&&this.props.tosAccepted[q]==1);},_isValueBasedCATermsAccepted:function p(){return c('CustomAudienceTosUtils').isWeightedTosAccepted(this.props.tosAccepted);},_onFinishCreation:function p(){Object.keys(this.state.audiences).forEach(function(q){this.props.onAudienceAdded(q);}.bind(this));c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_FINISH_CREATION_SUCCESS},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this._onCancel();},_onToggle:function p(q){if(!q){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_CLOSE_DIALOG},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this._onCancel();}},_onCancel:function p(){this.props.onCancel();c('AdsAMCreateAudienceViewActions').reset();}});f.exports=o;}),null);
__d('APDSAttributeSelectorInfoTableRow.react',['cx','APDSAttributeSelector.react','InfoTableRow.react','React','APStrings'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(k){return (c('React').createElement(c('InfoTableRow.react'),{label:c('APStrings').getDataSetAttributeSelectorLabel(),className:"_1yzy",type:'data'},c('React').createElement('div',null,c('React').createElement(c('APDSAttributeSelector.react'),k))));};f.exports=i;}),null);
__d('AudienceManagerLookalikeDialog.react',['cx','fbt','AdInterfacesAppNames','AdInterfacesUiLogger','AdsInterfacesLogger','AdsAccountCapabilities','AdsAccountUtils','AdsAMAudienceStore','AdsCreateLookalikeConfig','AdsCreateLookalikeDialogTooltipRangeInput.react','AdsCreateLookalikeDialogCountryTypeahead.react','AdsCreateLookalikeDialogSourceTypeahead.react','AdsGraphAPI','APDSAttributeSelectorInfoTableRow.react','AsyncRequest','AudienceManagerLoggingEvents','BUIAdoptionXUINotice.react','BUIAdoptionXUISpinner.react','ads-cluster-constants','InfoTable.react','InfoTableRow.react','InfoTableSection.react','LayerHideOnEscape','immutable','React','SearchableEntry','TooltipLink.react','XAdsLookalikeSuggestedCountryController','XUIDialog.react','XUIDialogBody.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogButton.react','XUIDialogTitle.react','InsightsNumberUtils','adsGKCheck','ads-lib-formatters'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('immutable').List,k=c('ads-lib-formatters').createLimitedSigFigNumberFormatter(0,2),l=c('React').PropTypes,m=c('AdsCreateLookalikeConfig').countries,n=c('ads-cluster-constants').LOOKALIKE_SOURCE_TYPE,o=c('ads-cluster-constants').LOOKALIKE_CUSTOM_RATIO_LIMIT,p={CUSTOM_AUDIENCE:i._("Custom Audience"),CONVERSION_PIXEL:i._("Conversion Pixel"),PAGE:i._("Page"),APPLICATION:i._("Application"),DATA_SET:i._("Data set"),FB_PIXEL:i._("FB pixel")},q=c('React').createClass({displayName:'AudienceManagerLookalikeDialog',propTypes:{accountID:l.string.isRequired,audience:l.object,dao:l.object.isRequired,onAudienceAdded:l.func.isRequired,onClose:l.func.isRequired},getInitialState:function r(){return {loading:false,isFinancialService:false,error:null,source:undefined,country:undefined,ratio:o.MIN,minSize:undefined,maxSize:undefined,minRatio:o.MIN,maxRatio:o.MAX,granularity:o.GRANULARITY,dataSetAttributes:undefined,weightedAttribute:undefined,dialogCloseReason:c('AudienceManagerLoggingEvents').AM_LAL_DIALOG_CLOSE_CANCEL};},render:function r(){return (c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerHideOnEscape:c('LayerHideOnEscape')},shown:true,width:630,onToggle:this._onToggle},c('React').createElement(c('XUIDialogTitle.react'),null,i._("Create Lookalike Audience")),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_wm-"},this._renderError(),this._renderDialogBody())),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),{disabled:this.state.loading,onClick:this.props.onClose}),c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',disabled:this.state.loading||!this._canCreate(),label:i._("Create Audience"),use:'confirm',onClick:this._onCreateLookalike}))));},_renderDialogBody:function r(){if(this.state.loading)return (c('React').createElement('div',{className:"_5saq"},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{background:'light',size:'large'})));var s=c('React').createElement(c('InfoTableRow.react'),{className:"_wn2",key:'lookalikeAudienceSizeRow',label:i._("Size"),type:'data'},c('React').createElement('div',null,c('React').createElement('div',null,c('React').createElement('span',{className:"_wn3"},this.state.minSize),c('React').createElement('div',{className:"_wn4"},c('React').createElement(c('AdsCreateLookalikeDialogTooltipRangeInput.react'),{disabled:!this._canCreate(),max:this.state.maxRatio,min:this.state.minRatio,step:this.state.granularity,tooltip:this._getAudienceSizeText(),value:this.state.ratio,onChange:this._onAudienceSizeChange})),c('React').createElement('span',{className:"_wn3"},this.state.maxSize)),c('React').createElement('p',{className:"_wn5"},i._("Size range is based on the total audience in the country you choose. Smaller audiences most closely match your source audience. Creating a larger audience increases your potential reach, but reduces the level of similarity to your source.")))),t=[c('React').createElement(c('InfoTableRow.react'),{className:"_wn1",key:'lookalikeAudienceSourceRow',label:i._("Source"),type:'data'},c('React').createElement(c('AdsCreateLookalikeDialogSourceTypeahead.react'),{accountID:this.props.accountID,source:this.state.source,onSelectAttempt:this._onSourceSelected})),c('React').createElement(c('InfoTableRow.react'),{className:"_wn1",key:'lookalikeAudienceCountryRow',label:i._("Country"),type:'data'},c('React').createElement(c('AdsCreateLookalikeDialogCountryTypeahead.react'),{country:this.state.country,ref:'countryTypeahead',onSelectAttempt:this._onCountrySelected}))];if(this.state.country!==undefined)t.push(s);if(this._isDataSetSource(this.state.source)&&this.state.country!==undefined){var u=j(this.state.dataSetAttributes).filter(function(w){return w.type==='integer';}).map(function(w){return {name:w.name};}),v=c('React').createElement(c('APDSAttributeSelectorInfoTableRow.react'),{attributes:u,key:'lookalikeDataSetAttributeRow',onAttributeSelect:this._onDataSetAttributeSelected});t.push(v);}if(c('adsGKCheck')('financial_service_lookalike')||c('AdsAccountUtils').hasCapability(c('AdsAMAudienceStore').getAccount(),c('AdsAccountCapabilities').AD_BUSINESS_FINANCIAL_SERVICE_LOOKALIKE))t.push(c('React').createElement(c('InfoTableRow.react'),{key:'lookalikeAudienceFCRARow'},c('React').createElement('div',null,c('React').createElement('input',{checked:this.state.isFinancialService,type:'checkbox',onChange:this._toggleFinancialService}),c('React').createElement(c('TooltipLink.react'),{tooltip:'FCRA-compliant lookalikes are created without using age, gender, or race.'},i._("Use Fair Lending Lookalikes for financial services advertising")))));return (c('React').createElement('div',null,c('React').createElement('p',{className:"_wm_"},i._("Reach new people who are similar to an audience you care about. Select a source and a country below, then choose an optimisation.")),c('React').createElement(c('InfoTable.react'),{className:"_wn0"},c('React').createElement(c('InfoTableSection.react'),null,t))));},componentWillUnmount:function r(){this._logEvent(this.state.dialogCloseReason);},componentWillReceiveProps:function r(s){this._setStateForTinyLookalikes();this._setMaxRatio();},componentWillMount:function r(){this._init();},_init:function r(){if(this.props.audience){var s={uniqueID:this.props.audience.id,title:this.props.audience.name};s.subtitle=p.CUSTOM_AUDIENCE;s.type=n.CUSTOM_AUDIENCE;this.setState({source:new (c('SearchableEntry'))(s)});this._loadSuggestedCountry(this.props.audience.id,this.props.accountID);}c('AdInterfacesUiLogger').setAccountID(this.props.accountID);c('AdInterfacesUiLogger').setAppName(c('AdInterfacesAppNames').AUDIENCE_MANAGER);this._setStateForTinyLookalikes();this._setMaxRatio();},_isDataSetSource:function r(s){return !!(s&&s.getType()===n.DATA_SET);},_canCreate:function r(){if(this._isDataSetSource(this.state.source))return !!(this.state.country&&this.state.weightedAttribute);return !!(this.state.source&&this.state.country);},_toggleFinancialService:function r(s){this.setState({isFinancialService:s.target.checked});},_onSourceSelected:function r(s){var t=this.state.source;if(s&&(!t||s.getUniqueID()!==t.getUniqueID()))this._loadSuggestedCountry(s.getUniqueID(),this.props.accountID);if(this._isDataSetSource(t)){this.setState({dataSetAttributes:undefined});this.setState({weightedAttribute:undefined});}if(this._isDataSetSource(s))this._loadDataSetAttributes(s.getUniqueID());this.setState({source:s});},_onCountrySelected:function r(s){if(!s){this.setState({country:s});}else this.setState({country:s,minSize:c('InsightsNumberUtils').abbrevInt(this._getApproximateAudienceSize(s,this.state.minRatio)),maxSize:c('InsightsNumberUtils').abbrevInt(this._getApproximateAudienceSize(s,this.state.maxRatio))});},_onAudienceSizeChange:function r(s){this.setState({ratio:parseFloat(s),ratioChanged:true});},_onDataSetAttributeSelected:function r(s){this.setState({weightedAttribute:s});},_getApproximateAudienceSize:function r(s,t){var u=Math.floor(m[s].count*t);return u;},_getAudienceSizeText:function r(){if(!this._canCreate())return null;var s=this._getApproximateAudienceSize(this.state.country,this.state.ratio);return i._({"*":"{size} people"},[i.param('size',k(s),[0,s])]);},_renderError:function r(){if(this.state.error)return (c('React').createElement('div',{className:"_wn6"},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'error'},this.state.error.message)));},_onCreateLookalike:function r(){var s=this.state.source,t=this.state.country,u=this.state.ratio,v=void 0;this.setState({error:null});var w={accountId:this.props.accountID,lookalike_spec:{country:t,ratio:u,is_financial_service:this.state.isFinancialService,allow_international_seeds:true},handleError:function(y,z){this._logEvent(c('AudienceManagerLoggingEvents').AM_LAL_DIALOG_ERROR);this.setState({loading:false,error:z&&z.error});}.bind(this)},x=s.getUniqueID();switch(s.getType()){case n.CUSTOM_AUDIENCE:v='createLookalikeCluster';w.origin_audience_id=x;w.lookalike_spec.type=c('ads-cluster-constants').LOOKALIKE_CUSTOM_RATIO;break;case n.CONVERSION_PIXEL:v='createActionsLookalike';Object.assign(w.lookalike_spec,{pixel_ids:[x],conversion_type:'offsite'});break;case n.PAGE:v='createActionsLookalike';Object.assign(w.lookalike_spec,{page_id:x,conversion_type:'page_like'});break;case n.APPLICATION:v='createActionsLookalike';Object.assign(w.lookalike_spec,{app_id:x,conversion_type:'engaged_app_users'});break;case n.DATA_SET:v='createActionsLookalike';Object.assign(w.lookalike_spec,{data_set_id:x,conversion_type:'data_set',weight_expr:this.state.weightedAttribute});break;case n.FB_PIXEL:v='createActionsLookalike';Object.assign(w.lookalike_spec,{pixel_ids:[x],conversion_type:'fb_pixel'});break;default:return;}this.props.dao.add[v].one(function(y){this.setState({loading:false,dialogCloseReason:c('AudienceManagerLoggingEvents').AM_LAL_DIALOG_CLOSE_SUCCESS});this.props.onAudienceAdded(y.id);this.props.onClose();}.bind(this),w);this.setState({loading:true});},_loadSuggestedCountry:function r(s,t){var u=c('XAdsLookalikeSuggestedCountryController').getURIBuilder().setInt('origin_audience_id',s).setString('ad_account_id',t).getURI(),v=new (c('AsyncRequest'))().setURI(u).setHandler(function(w){var x=this.state.source.getUniqueID(),y=this.refs.countryTypeahead;if(x===s&&!y.state.queryString){var z=w&&w.payload;if(m[z])this._onCountrySelected(z);}}.bind(this));v.send();},_loadDataSetAttributes:function r(s){c('AdsGraphAPI').get(f.id).object('dataset',s).edge('attributes').batched().get({date_format:'U',fields:['name','type']}).done(function(t){if(this.isMounted())this.setState({dataSetAttributes:t.data});}.bind(this));},_onToggle:function r(s){if(!s)this.props.onClose();},_logEvent:function r(event){c('AdsInterfacesLogger').log({eventName:event},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);},_setStateForTinyLookalikes:function r(){var s=c('adsGKCheck')('ads_lookalike_tiny_ratio');if(s){k=c('ads-lib-formatters').createLimitedSigFigNumberFormatter(0,3);var t=o.TINY_MIN;this.setState({ratio:t,minRatio:t,granularity:t});}},_setMaxRatio:function r(){var s=c('AdsAccountUtils').hasCapability(c('AdsAMAudienceStore').getAccount(),c('AdsAccountCapabilities').ADS_LOOKALIKE_BIG_RATIO),t=s?o.BIG_MAX:o.MAX;this.setState({maxRatio:t});}});f.exports=q;}),null);
__d('AudienceManagerBlankState.react',['cx','fbt','AdsInterfacesLogger','AdsCreateSavedAudienceTargetingDialog.react','AdsManagerEmptyStateInfo.react','AsyncRequest','AudienceManagerCreateAudienceDialog.react','AudienceManagerLoggingEvents','AudienceManagerLookalikeDialog.react','AudienceManagerTieredLookalikeDialog.react','BUIAdoptionXUIText.react','Link.react','React','URI','XUIButton.react','adsGKCheck'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m='1409504736019761',n='676632195760106';j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={showCreateAudienceDialog:false,showCreateLookalikeAudienceDialog:false,showCreateSavedAudienceDialog:false,ignoreLinkClicks:false},this.$AudienceManagerBlankState1=function(){return (c('React').createElement('div',{className:"_2b16"},i._("Create and save audiences to reach the people who matter to your business."),c('React').createElement(c('Link.react'),{className:'mls',href:new (c('URI'))('/help/459892990722543'),target:'_blank'},i._("Learn More"))));},this.$AudienceManagerBlankState2=function(){var u=c('adsGKCheck')('ads_ui_data_set')?i._("Connect with the people who have already shown an interest in your business or product with Custom Audiences. You can create an audience from your customer contacts, website traffic, mobile app or data set describing your customers."):i._("Connect with the people who have already shown an interest in your business or product with Custom Audiences. You can create an audience from your customer contacts, website traffic or mobile app.");return (c('React').createElement('div',{className:"_2b17"},c('React').createElement(c('BUIAdoptionXUIText.react'),{className:'fcb',display:'block'},c('React').createElement(c('BUIAdoptionXUIText.react'),{display:'block',weight:'bold'},i._("Custom Audiences")),c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'small'},u)),c('React').createElement(c('XUIButton.react'),{className:"_2b18",disabled:!this.props.canWrite,label:i._("Create a Custom Audience"),size:'medium',use:'confirm',onClick:this.$AudienceManagerBlankState8})));}.bind(this),this.$AudienceManagerBlankState3=function(){return (c('React').createElement('div',{className:"_2b17"},c('React').createElement(c('BUIAdoptionXUIText.react'),{className:'fcb',display:'block'},c('React').createElement(c('BUIAdoptionXUIText.react'),{display:'block',weight:'bold'},i._("Lookalike Audiences")),c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'small'},i._("Reach new people who are similar to audiences you already care about. You can create a lookalike audience based on people who like your Page, conversion pixels or any of your existing Custom Audiences."))),c('React').createElement(c('XUIButton.react'),{className:"_2b18",disabled:!this.props.canWrite,label:i._("Create a Lookalike Audience"),size:'medium',use:'confirm',onClick:this.$AudienceManagerBlankState9})));}.bind(this),this.$AudienceManagerBlankState4=function(){return (c('React').createElement('div',{className:"_2b17"},c('React').createElement(c('BUIAdoptionXUIText.react'),{className:'fcb',display:'block'},c('React').createElement(c('BUIAdoptionXUIText.react'),{display:'block',weight:'bold'},i._("Saved audience")),c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'small'},i._("Save your commonly used targeting options for easy reuse. Choose your demographics, interests and behaviours, then save them to reuse in future adverts."))),c('React').createElement(c('XUIButton.react'),{className:"_2b18",disabled:!this.props.canWrite,label:i._("Create a Saved Audience"),size:'medium',use:'confirm',onClick:this.$AudienceManagerBlankState10})));}.bind(this),this.$AudienceManagerBlankState5=function(){if(this.state.showCreateAudienceDialog)return (c('React').createElement(c('AudienceManagerCreateAudienceDialog.react'),{accountID:this.props.accountId,allowNextStep:true,dao:this.props.dao,tosAccepted:this.props.tosAccepted,tosRequirementsForAccount:this.props.tosRequirementsForAccount,onAudienceAdded:this.props.onAudienceAdded,onCancel:this.$AudienceManagerBlankState11}));return null;}.bind(this),this.$AudienceManagerBlankState6=function(){if(this.state.showCreateLookalikeAudienceDialog)return (c('React').createElement(c('AudienceManagerTieredLookalikeDialog.react'),{accountID:this.props.accountId,audience:null,dao:this.props.dao,onAudienceAdded:this.props.onAudienceAdded,onClose:this.$AudienceManagerBlankState12}));}.bind(this),this.$AudienceManagerBlankState11=function(){this.setState({showCreateAudienceDialog:false});}.bind(this),this.$AudienceManagerBlankState12=function(){this.setState({showCreateLookalikeAudienceDialog:false});}.bind(this),this.$AudienceManagerBlankState13=function(){this.setState({showCreateSavedAudienceDialog:false});}.bind(this),this.$AudienceManagerBlankState9=function(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_LAL_NUX_CREATE_AUDIENCE},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.setState({showCreateLookalikeAudienceDialog:true});}.bind(this),this.$AudienceManagerBlankState8=function(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_NUX_CREATE_AUDIENCE},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.setState({showCreateAudienceDialog:true});}.bind(this),this.$AudienceManagerBlankState10=function(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_NUX_CREATE_SAVED_AUDIENCE_CLICKED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.setState({showCreateSavedAudienceDialog:true});}.bind(this),this.$AudienceManagerBlankState14=function(){if(this.state.ignoreLinkClicks)return;this.setState({ignoreLinkClicks:true});c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_HELP_BLANK_STATE_CLICKED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);var u=c('adsGKCheck')('latam_br_am_nonresponse_q12015')?m:n;new (c('AsyncRequest'))().setURI('/ajax/help/contact/'+u).setHandler(function(){return this.setState({ignoreLinkClicks:false});}.bind(this)).send();}.bind(this),q;}o.prototype.render=function(){var p=i._("Reach the People Who Matter to You");return c('React').createElement('div',{className:"_3yh5"},c('React').createElement(c('AdsManagerEmptyStateInfo.react'),{message:p},this.$AudienceManagerBlankState1(),this.$AudienceManagerBlankState2(),this.$AudienceManagerBlankState3(),this.$AudienceManagerBlankState4(),this.$AudienceManagerBlankState5(),this.$AudienceManagerBlankState6(),this.$AudienceManagerBlankState7()));};o.prototype.$AudienceManagerBlankState7=function(){if(this.state.showCreateSavedAudienceDialog)return c('React').createElement(c('AdsCreateSavedAudienceTargetingDialog.react'),{accountID:this.props.accountId,accountInfo:this.props.accountInfo,autoLaunch:this.props.autoLaunch,isShown:true,onCancel:this.$AudienceManagerBlankState13,onCreate:this.props.onSavedAudienceCreated});return null;};o.propTypes={accountInfo:l.object.isRequired,dao:l.object.isRequired,onAudienceAdded:l.func.isRequired,onSavedAudienceCreated:l.func.isRequired,accountId:l.string.isRequired,tosAccepted:l.object.isRequired,tosRequirementsForAccount:l.object.isRequired,autoLaunch:l.object,canWrite:l.bool};f.exports=o;}),null);
__d('AudienceManagerBulkDeleteDialog.react',['cx','fbt','AudienceManagerUIConstants','BUIAdoptionXUINotice.react','BUIAdoptionXUISpinner.react','List.react','React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react','getByPath'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=i._("Deleting these audiences will permanently remove them from your account, and any adverts that use them will stop running. You won't be able to restart any adverts that used these audiences in the past."),n=i._("Deleting these audiences will permanently remove them from all accounts that have access to them. Any adverts that use this audience will stop running. Neither you nor the recipients will be able to restart any adverts that used these audiences in the past.");j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(p,q){k.constructor.call(this,p,q);this.$AudienceManagerBulkDeleteDialog1=function(v){return !!v.lookalike_audience_ids&&this.$AudienceManagerBulkDeleteDialog2(v);}.bind(this);this.$AudienceManagerBulkDeleteDialog2=function(v){return !v.account_id||v.account_id===this.props.accountID;}.bind(this);this.$AudienceManagerBulkDeleteDialog3=function(v){if(!v)this.props.onClose();}.bind(this);this.$AudienceManagerBulkDeleteDialog4=function(){this.setState({isDeleting:true});this.props.onBulkDelete(this.state.deletingAudiences);this.props.onBulkUnshare(this.state.unsharingAudiences);}.bind(this);this.$AudienceManagerBulkDeleteDialog5=function(){if(this.state.isDeleting){return this.$AudienceManagerBulkDeleteDialog6();}else{var v=!this.state.adgroupData||!this.state.deletingAudiences.length&&!this.state.unsharingAudiences.length;return (c('React').createElement('div',null,c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_354l"},this.$AudienceManagerBulkDeleteDialog7())),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),{action:'close',use:'default',onClick:this.props.onClose}),c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',disabled:v,label:i._("Delete All"),use:'confirm',onClick:this.$AudienceManagerBulkDeleteDialog4}))));}}.bind(this);this.$AudienceManagerBulkDeleteDialog7=function(){return (c('React').createElement('div',null,this.$AudienceManagerBulkDeleteDialog8(),this.$AudienceManagerBulkDeleteDialog9(),this.$AudienceManagerBulkDeleteDialog10(),this.$AudienceManagerBulkDeleteDialog11()));}.bind(this);this.$AudienceManagerBulkDeleteDialog6=function(){return (c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_5rkr"},c('React').createElement('div',{className:"_5saq"},c('React').createElement('p',null,i._("Please wait while we delete these audiences...")),c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'})))));};this.$AudienceManagerBulkDeleteDialog8=function(){if(this.state.LALSeeds.length===0)return null;return (c('React').createElement('div',{className:"_4j-p"},c('React').createElement('div',{className:"_4j-q"},i._("{number of audiences we cannot delete} of {number of audiences selected} selected audiences cannot be deleted",[i.param('number of audiences we cannot delete',this.state.LALSeeds.length),i.param('number of audiences selected',this.props.selectedAudiences.length)])),c('React').createElement('div',null,i._("These audiences were used to create Lookalike Audiences. They will remain in your account and won't be able to be deleted until the associated lookalikes have been deleted."))));}.bind(this);this.$AudienceManagerBulkDeleteDialog10=function(){if(this.state.deletingSharedAudiences.length===0)return null;var v=this.state.deletingSharedAudiences.map(function(w,x){return (c('React').createElement('li',{key:x,style:{padding:'4px'}},w.name));});return (c('React').createElement('div',null,c('React').createElement('div',{className:"_4j-r"},i._("Audiences that are shared with other advert accounts")),c('React').createElement(c('List.react'),{className:"_4j-s"},v)));}.bind(this);this.$AudienceManagerBulkDeleteDialog11=function(){if(!this.state.adgroupData)return null;var v=this.props.selectedAudiences.filter(function(x,y){if(!this.state.adgroupData||!this.state.adgroupData[y])return false;var z=c('getByPath')(this.state.adgroupData[y],['data'],[]);return !this.$AudienceManagerBulkDeleteDialog1(x)&&z.length>0;}.bind(this)),w=v.map(function(x,y){return (c('React').createElement('li',{key:y,style:{padding:'4px'}},x.name));});if(v.length===0)return null;return (c('React').createElement('div',null,c('React').createElement('div',{className:"_4j-r"},i._("Audiences being used in your running adverts")),c('React').createElement(c('List.react'),{className:"_4j-s"},w)));}.bind(this);this.$AudienceManagerBulkDeleteDialog9=function(){var v=this.props.selectedAudiences.length,w=v-this.state.LALSeeds.length;if(!w)return null;var x=w<v?c('React').createElement('div',{className:"_4j-u"},i._("Permanently delete the remaining {number of audience we can delete} audiences from all accounts?",[i.param('number of audience we can delete',w)])):c('React').createElement('div',{className:"_4j-u"},i._("Permanently delete these audiences from all accounts")),y=this.state.deletingSharedAudiences.length>0?n:m;return (c('React').createElement('div',null,x,c('React').createElement('div',{className:"_354m"},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'information'},y))));}.bind(this);var r=p.selectedAudiences.filter(function(v){return this.$AudienceManagerBulkDeleteDialog1(v);}.bind(this)),s=p.selectedAudiences.filter(function(v){return !this.$AudienceManagerBulkDeleteDialog1(v)&&!this.$AudienceManagerBulkDeleteDialog2(v);}.bind(this)),t=p.selectedAudiences.filter(function(v){return !this.$AudienceManagerBulkDeleteDialog1(v)&&this.$AudienceManagerBulkDeleteDialog2(v);}.bind(this)),u=p.selectedAudiences.filter(function(v){var w=c('getByPath')(v,['capabilities','data','0','capabilities'],{});return !this.$AudienceManagerBulkDeleteDialog1(v)&&this.$AudienceManagerBulkDeleteDialog2(v)&&Object.keys(w).length>0;}.bind(this));this.state={adgroupData:null,isDeleting:false,LALSeeds:r,unsharingAudiences:s,deletingAudiences:t,deletingSharedAudiences:u};}o.prototype.componentWillMount=function(){this.props.controller.loadAudienceAdgroups(this.props.selectedAudiences,function(p){return this.setState({adgroupData:p});}.bind(this),function(p){return this.setState({adgroupData:p});}.bind(this));};o.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{shown:true,width:c('AudienceManagerUIConstants').DEFAULT_DIALOG_WIDTH,onToggle:this.$AudienceManagerBulkDeleteDialog3},c('React').createElement(c('XUIDialogTitle.react'),null,c('React').createElement('span',null,i._({"*":"Delete {total_audiences} audiences?"},[i.param('total_audiences',this.props.selectedAudiences.length,[0])]))),this.$AudienceManagerBulkDeleteDialog5());};o.propTypes={accountID:l.string.isRequired,controller:l.object.isRequired,selectedAudiences:l.array.isRequired,onBulkDelete:l.func.isRequired,onBulkUnshare:l.func.isRequired,onClose:l.func.isRequired};f.exports=o;}),null);
__d('AudienceManagerBulkDeleteSTSDialog.react',['cx','fbt','invariant','AudienceManagerUIConstants','React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes;k=babelHelpers.inherits(n,c('React').Component);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$AudienceManagerBulkDeleteSTSDialog2=function(){var t=void 0;this.props.selectedAudiences.length>0||j(0);if(this.props.selectedAudiences.length===1){t=i._("Delete 1 audience?");}else t=i._({"*":"Delete {total_audiences} audiences?"},[i.param('total_audiences',this.props.selectedAudiences.length,[0])]);return c('React').createElement('span',null,t);}.bind(this),this.$AudienceManagerBulkDeleteSTSDialog3=function(){var t=void 0;if(this.props.selectedAudiences.length===1){t=i._("Are you sure you want to delete this saved audience?");}else t=i._("Are you sure you want to delete these saved audiences?");return (c('React').createElement('div',{className:"_5rkr"},t));}.bind(this),this.$AudienceManagerBulkDeleteSTSDialog4=function(){if(this.props.selectedAudiences.length===1)return i._("Delete");return i._("Delete All");}.bind(this),this.$AudienceManagerBulkDeleteSTSDialog1=function(t){if(!t)this.props.onClose();}.bind(this),this.$AudienceManagerBulkDeleteSTSDialog5=function(){this.props.onBulkDelete(this.props.selectedAudiences);this.props.onClose();}.bind(this),p;}n.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{shown:true,width:c('AudienceManagerUIConstants').DEFAULT_DIALOG_WIDTH,onToggle:this.$AudienceManagerBulkDeleteSTSDialog1},c('React').createElement(c('XUIDialogTitle.react'),null,this.$AudienceManagerBulkDeleteSTSDialog2()),c('React').createElement(c('XUIDialogBody.react'),null,this.$AudienceManagerBulkDeleteSTSDialog3()),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),{action:'close',use:'default',onClick:this.props.onClose}),c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',label:this.$AudienceManagerBulkDeleteSTSDialog4(),use:'confirm',onClick:this.$AudienceManagerBulkDeleteSTSDialog5})));};n.propTypes={selectedAudiences:m.array.isRequired,onBulkDelete:m.func.isRequired,onClose:m.func.isRequired};f.exports=n;}),null);
__d('AudienceManagerBulkActionUtils',['AdsAudienceDeliveryStatusUtils'],(function a(b,c,d,e,f,g){var h={canDelete:function i(j,k){return this._ownAllAudiences(j,k);},canCreateAd:function i(j,k){if(j.length===0)return false;return this._areAllAudiencesActive(j);},_ownAllAudiences:function i(j,k){for(var l=0;l<j.length;l++)if(j[l].account_id!=k)return false;return true;},_areAllAudiencesActive:function i(j){for(var k=0;k<j.length;k++){var l=c('AdsAudienceDeliveryStatusUtils').isActive(j[k].delivery_status.code);if(!l)return false;}return true;},_allAudienceIDsSelected:function i(j,k){for(var l=0;l<k.length;l++)if(!this._isAudienceIDSelected(j,k[l]))return false;return true;},_isAudienceIDSelected:function i(j,k){for(var l=0;l<j.length;l++)if(j[l].id===k)return true;return false;}};f.exports=h;}),null);
__d('AudienceManagerCreateAdButton.react',['AdsInterfacesLogger','AdsAMAudienceUtils','AudienceManagerBulkActionUtils','AudienceManagerLoggingEvents','AudienceManagerUIConstants','BUIAdoptionButton.react','React'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$AudienceManagerCreateAdButton1=function(){var q=this.props.audiences.some(function(s){return c('AdsAMAudienceUtils').isSavedTargetSpec(s);});if(q){if(this.props.audiences.length===1){this.$AudienceManagerCreateAdButton3=true;return true;}return false;}var r=c('AudienceManagerBulkActionUtils').canCreateAd(this.props.audiences,this.props.accountID);if(r){this.$AudienceManagerCreateAdButton3=false;return true;}return false;}.bind(this),this.$AudienceManagerCreateAdButton2=function(){var q=this.$AudienceManagerCreateAdButton3?c('AudienceManagerUIConstants').AUDIENCE_TYPE.SAVED_TARGET_SPEC:c('AudienceManagerUIConstants').AUDIENCE_TYPE.CUSTOM_AUDIENCE;c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_TABLE_ACTION_CREATE_AD_CLICKED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);if(this.$AudienceManagerCreateAdButton3){this.$AudienceManagerCreateAdButton4();return;}this.$AudienceManagerCreateAdButton5();}.bind(this),this.$AudienceManagerCreateAdButton5=function(){if(this.props.onAdCreate){var q=this.props.audiences.map(function(t){return {id:t.id,name:t.name};}),r={custom_audiences:q},s=this.props.audiences.map(function(t){return t.id;});this.props.onAdCreate(r,s);return;}this.props.controller.bulkCreateAd&&this.props.controller.bulkCreateAd(this.props.audiences);}.bind(this),this.$AudienceManagerCreateAdButton4=function(){if(this.props.onAdCreate){var q=this.props.audiences.map(function(r){return r.id;});this.props.onAdCreate(this.props.audiences[0].target_spec,q);return;}this.props.controller.createAdFromSavedAudienceID(this.props.audiences[0].id);}.bind(this),m;}k.prototype.render=function(){'use strict';return c('React').createElement(c('BUIAdoptionButton.react'),{disabled:!this.$AudienceManagerCreateAdButton1(),label:this.props.label,onClick:this.$AudienceManagerCreateAdButton2});};k.propTypes={accountID:j.string.isRequired,audiences:j.array.isRequired,label:j.string.isRequired,controller:j.object.isRequired,onAdCreate:j.func};f.exports=k;}),null);
__d('AdsCreateSavedAudienceDialog.react',['cx','fbt','AdsCommonTargetingSentencesRenderer.react','AdsInterfacesLogger','AdsInfoTable.react','AdsInfoTableRow.react','AdsInfoTableSection.react','AdsLoadState','AdsSavedAudienceLoggingEvents','AdsTextInput.react','BUIAdoptionXUIGrayText.react','BUIAdoptionXUINotice.react','BUIAdoptionXUISpinner.react','BUIAdoptionXUIText.react','LayerFadeOnHide','LayerHideOnEscape','React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','ads-lib-formatters'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('ads-lib-formatters').createLimitedSigFigNumberFormatter(0,2),m=c('React').PropTypes,n=600;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$AdsCreateSavedAudienceDialog5=function(){var event=this.props.isSaveAs?c('AdsSavedAudienceLoggingEvents').SAVE_AS_COMPLETE:c('AdsSavedAudienceLoggingEvents').SAVE_TARGETING_COMPLETE;c('AdsInterfacesLogger').log({eventName:event},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.props.onSave();}.bind(this),this.$AdsCreateSavedAudienceDialog1=function(u){if(!u)this.$AdsCreateSavedAudienceDialog3();}.bind(this),this.$AdsCreateSavedAudienceDialog3=function(){c('AdsInterfacesLogger').log({eventName:c('AdsSavedAudienceLoggingEvents').SAVE_AS_CANCEL},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.props.onCancel();}.bind(this),this.$AdsCreateSavedAudienceDialog6=function(){return (this.props.sentences.loadState===c('AdsLoadState').ERROR||!this.props.sentences.sentenceLines);}.bind(this),this.$AdsCreateSavedAudienceDialog7=function(){return (this.props.reach.loadState===c('AdsLoadState').ERROR||!this.props.reach.users);}.bind(this),this.$AdsCreateSavedAudienceDialog2=function(){if(this.props.isLoading){return c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'});}else if(this.$AdsCreateSavedAudienceDialog6())return (c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'error'},i._("Could not retrieve targeting information.")));return (c('React').createElement('div',{className:"_3qgi"},c('React').createElement(c('AdsInfoTable.react'),null,c('React').createElement(c('AdsInfoTableSection.react'),null,c('React').createElement(c('AdsInfoTableRow.react'),{label:i._("Audience Name")},c('React').createElement(c('AdsTextInput.react'),{placeholder:'Name your audience',value:this.props.audienceName,onChange:this.$AdsCreateSavedAudienceDialog8})),c('React').createElement(c('AdsInfoTableRow.react'),null,this.$AdsCreateSavedAudienceDialog9(),c('React').createElement(c('AdsCommonTargetingSentencesRenderer.react'),{sentences:this.props.sentences.sentenceLines}))))));}.bind(this),this.$AdsCreateSavedAudienceDialog9=function(){if(this.$AdsCreateSavedAudienceDialog7())return null;return (c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'small'},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light'},i._("Size:")),' ',i._("{number of people can be reached} people",[i.param('number of people can be reached',l(this.props.reach.users))])));}.bind(this),this.$AdsCreateSavedAudienceDialog8=function(u){this.props.onAudienceNameChange(u);}.bind(this),q;}o.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide'),LayerHideOnEscape:c('LayerHideOnEscape')},className:"_4x9b",shown:this.props.isShown,width:n,onToggle:this.$AdsCreateSavedAudienceDialog1,key:'dialog'},c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:true},i._("Save audience")),c('React').createElement(c('XUIDialogBody.react'),null,this.$AdsCreateSavedAudienceDialog2()),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:i._("Cancel"),use:'default',onClick:this.$AdsCreateSavedAudienceDialog3}),c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',disabled:!this.$AdsCreateSavedAudienceDialog4(),label:i._("Save"),use:'confirm',onClick:this.$AdsCreateSavedAudienceDialog5})));};o.prototype.$AdsCreateSavedAudienceDialog4=function(){return this.props.isValidSpec&&this.props.audienceName.trim().length>0;};o.propTypes={audienceName:m.string.isRequired,isLoading:m.bool.isRequired,isSaveAs:m.bool,isShown:m.bool.isRequired,isValidSpec:m.bool.isRequired,onAudienceNameChange:m.func.isRequired,onCancel:m.func.isRequired,onSave:m.func.isRequired,reach:m.object.isRequired,sentences:m.object.isRequired};f.exports=o;}),null);
__d('AdsReachEstimateRecord',['immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k;h=babelHelpers.inherits(l,c('immutable').Record({accountID:'',bidValue:0,creativeActionSpec:null,currency:'',object_store_url:'',optimizeFor:'',targetingSpec:null}));i=h&&h.prototype;function l(){h.apply(this,arguments);}j=babelHelpers.inherits(m,c('immutable').Record({campaignID:'',optimizeFor:'',targetingSpec:null}));k=j&&j.prototype;function m(){j.apply(this,arguments);}f.exports={ReachEstimateAccountRecord:l,ReachEstimateCampaignRecord:m};}),null);
__d('AdsReachEstimateDataLoader',['AdsAPIReachEstimateFields','AdsGraphAPI','AdsReachEstimateRecord'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsReachEstimateRecord').ReachEstimateAccountRecord,i=c('AdsReachEstimateRecord').ReachEstimateCampaignRecord;function j(m){var n,o=m.get('creativeActionSpec'),p=(n={targeting_spec:m.get('targetingSpec').toJS(),currency:m.get('currency')},n[c('AdsAPIReachEstimateFields').OPTIMIZE_FOR]=m.get('optimizeFor'),n.creative_action_spec=o?o.toJS():undefined,n.object_store_url=m.get('object_store_url'),n.bid_value=m.get('bidValue'),n);return c('AdsGraphAPI').get(f.id).adaccount(m.get('accountID')).edge('reachestimate').get(p);}function k(m){var n,o=(n={},n[c('AdsAPIReachEstimateFields').TARGETING_SPEC]=m.get('targetingSpec').toJS(),n[c('AdsAPIReachEstimateFields').OPTIMIZE_FOR]=m.get('optimizeFor'),n);return c('AdsGraphAPI').get(f.id).object('adcampaign',m.get('campaignID')).edge('reachestimate').get(o);}var l={loadReachEstimateForAccount:j,loadReachEstimateForCampaign:k};f.exports=l;}),null);
__d('AdsReachEstimateDataDispatcher',['AdsInterfacesLogEvents','AdsInterfacesLogger','AdsReachEstimateDataLoader','AdsReachEstimateRecord','AdsReachEstimateServerActions'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsReachEstimateRecord').ReachEstimateAccountRecord,i=c('AdsReachEstimateRecord').ReachEstimateCampaignRecord,j=c('AdsInterfacesLogEvents').Event,k=c('AdsInterfacesLogEvents').EventCategory;function l(p){c('AdsReachEstimateServerActions').notifyStartedLoading(p);c('AdsReachEstimateDataLoader').loadReachEstimateForAccount(p).done(function(q){if(n(q))c('AdsInterfacesLogger').log({eventName:j.REACH_ESTIMATE_LOADED_WITHOUT_PREDICTION,EventCategory:k.ERROR},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsReachEstimateServerActions').updateReachEstimate(q.data,p);},function(q){c('AdsReachEstimateServerActions').failReachEstimate(q,p);});}function m(p){c('AdsReachEstimateServerActions').notifyStartedLoading(p);c('AdsReachEstimateDataLoader').loadReachEstimateForCampaign(p).done(function(q){if(n(q))c('AdsInterfacesLogger').log({eventName:j.REACH_ESTIMATE_LOADED_WITHOUT_PREDICTION,EventCategory:k.ERROR},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsReachEstimateServerActions').updateReachEstimate(q.data,p);},function(q){c('AdsReachEstimateServerActions').failReachEstimate(q,p);});}function n(p){return !(p&&p.data&&p.data.curve);}var o={loadReachEstimateForAccount:l,loadReachEstimateForCampaign:m};f.exports=o;}),null);
__d('AdsReachEstimateStore',['AdsDispatcher','AdsLoadState','AdsReachEstimateActionTypes','AdsReachEstimateDataDispatcher','FluxLoadObjectStore','immutable','LoadObject','AdsReachEstimateRecord','adsBaseStoreMixin','isValidTargetingSpec'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('AdsReachEstimateRecord').ReachEstimateAccountRecord,k=c('AdsReachEstimateRecord').ReachEstimateCampaignRecord,l=Error(c('AdsLoadState').ERROR);h=babelHelpers.inherits(m,c('FluxLoadObjectStore'));i=h&&h.prototype;function m(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);}m.prototype.getStoreName=function(){return 'AdsReachEstimateStore';};m.prototype.getReachEstimateForAccount=function(o,p,q,r,s,t,u,v){if(!c('isValidTargetingSpec')(q))return c('LoadObject').withError(l);var w=new j({accountID:o,currency:p||'',targetingSpec:c('immutable').fromJS(q),creativeActionSpec:c('immutable').fromJS(r||null),optimizeFor:s,object_store_url:t||'',bidValue:u||0}),x=this.get(w);if(x.hasError()&&v){this.__load(w);return c('LoadObject').loading();}return x;};m.prototype.getReachEstimateForCampaignOrAccount=function(o,p,q,r,s,t,u,v,w,x){if(!c('isValidTargetingSpec')(r))return c('LoadObject').withError(l);if(w||!o)return this.getReachEstimateForAccount(p,q,r,s,t,u,v,x);var y=new k({campaignID:o,targetingSpec:c('immutable').fromJS(r),optimizeFor:t}),z=this.get(y);if(z.hasError()&&x){this.__load(y);return c('LoadObject').loading();}return z;};m.prototype.reduce=function(o,p){var q=p.action;switch(q.actionType){case c('AdsReachEstimateActionTypes').LOAD_SUCCESS:return this.__handleOne(o,q.params,q.data);case c('AdsReachEstimateActionTypes').LOAD_ERROR:return this.__handleOne(o,q.params,l);case c('AdsReachEstimateActionTypes').STARTED_LOAD:return this.__setLoading(o,c('immutable').List.of(q.params));default:return o;}};m.prototype.__handleOne=function(o,p,q){var r=this.getCached(p);if(q instanceof Error){return o.set(p,r.setError(q).removeValue().done());}else return o.set(p,r.setValue(q).removeError().done());};m.prototype.__load=function(o){if(o instanceof k){c('AdsReachEstimateDataDispatcher').loadReachEstimateForCampaign(o);}else if(o instanceof j)c('AdsReachEstimateDataDispatcher').loadReachEstimateForAccount(o);};var n=new m();b.debug_AdsReachEstimateStore=n;f.exports=n;}),null);
__d('AdsCreateSavedAudienceDialogContainer.react',['AdsCreateSavedAudienceDialog.react','AdsDynamicTargetingUtils','AdsLoadState','AdsReachEstimateStore','AdsSavedAudienceActions','AdsTargetingSentenceLinesStore','AdsNewIDs','FluxMixinLegacy','React','isValidTargetingSpec'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'AdsCreateSavedAudienceDialogContainer',mixins:[c('FluxMixinLegacy')([c('AdsReachEstimateStore'),c('AdsTargetingSentenceLinesStore')],{withProps:true})],getInitialState:function j(){return {audienceName:this.props.defaultName||''};},statics:{calculateState:function j(k,l){var m=c('AdsDynamicTargetingUtils').targetingWithoutProductAudience(l.targetingAPISpec),n=true,o=void 0;if(!c('isValidTargetingSpec')(m)){o={loadState:c('AdsLoadState').ERROR};n=false;}else o=c('AdsTargetingSentenceLinesStore').getTargeting(l.accountID,m,{discardPlacement:true});var p=void 0;p={loadState:c('AdsLoadState').ERROR};var q=o.loadState===c('AdsLoadState').LOADING||p.loadState===c('AdsLoadState').LOADING;return {isLoading:q,isValidSpec:n,reach:p,sentences:o};}},propTypes:{accountID:h.string.isRequired,isSaveAs:h.bool,isShown:h.bool.isRequired,targetingAPISpec:h.object.isRequired,defaultName:h.node,onClose:h.func.isRequired,onSavedAudienceChange:h.func.isRequired},render:function j(){return (c('React').createElement(c('AdsCreateSavedAudienceDialog.react'),{audienceName:this.state.audienceName,isLoading:this.state.isLoading,isSaveAs:!!this.props.isSaveAs,isShown:this.props.isShown,isValidSpec:this.state.isValidSpec,reach:this.state.reach,sentences:this.state.sentences,onAudienceNameChange:this._onAudienceNameChange,onCancel:this.props.onClose,onSave:this._onSave}));},_onAudienceNameChange:function j(k){this.setState({audienceName:k});},_onSave:function j(){var k=c('AdsDynamicTargetingUtils').targetingWithoutProductAudience(this.props.targetingAPISpec),l=c('AdsNewIDs').newNegativeID().toString();c('AdsSavedAudienceActions').createSavedAudiences([{accountID:this.props.accountID,name:this.state.audienceName,targeting:k,tempID:l}]);this.props.onSavedAudienceChange({id:l,name:this.state.audienceName,targeting:k});this.props.onClose();}});f.exports=i;}),null);
__d('AdsEditSavedAudienceDialog.react',['fbt','AdsSavedAudienceTargetingDialogBody.react','LayerFadeOnHide','LayerHideOnEscape','React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','isValidTargetingSpec'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=910;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$AdsEditSavedAudienceDialog2=function(){return (this.props.isAudienceChanged&&this.props.audienceName.trim().length>0&&c('isValidTargetingSpec')(this.props.targetingAPISpec));}.bind(this),this.$AdsEditSavedAudienceDialog1=function(s){if(!s)this.props.onCancel();}.bind(this),o;}m.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide'),LayerHideOnEscape:c('LayerHideOnEscape')},fixedTopPosition:100,shown:this.props.isShown,width:l,onToggle:this.$AdsEditSavedAudienceDialog1,key:'dialog'},c('React').createElement(c('XUIDialogTitle.react'),null,h._("Edit audience")),c('React').createElement(c('XUIDialogBody.react'),{fontSize:"inherit"},c('React').createElement(c('AdsSavedAudienceTargetingDialogBody.react'),{accountID:this.props.accountID,audienceName:this.props.audienceName,dynamicTargetingContext:this.props.dynamicTargetingContext,isReachFrequency:this.props.isReachFrequency,reachFrequencySupportedCountries:this.props.reachFrequencySupportedCountries,targetingAPISpec:this.props.targetingAPISpec,onAudienceNameChange:this.props.onAudienceNameChange,onTargetingChange:this.props.onTargetingChange})),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{disabled:!this.$AdsEditSavedAudienceDialog2(),label:h._("Save as New"),use:'default',onClick:this.props.onSaveAs}),c('React').createElement(c('XUIDialogButton.react'),{disabled:!this.$AdsEditSavedAudienceDialog2(),label:h._("Update"),use:'confirm',onClick:this.props.onUpdate})));};m.propTypes={accountID:k.string.isRequired,audienceName:k.string.isRequired,dynamicTargetingContext:k.object,isReachFrequency:k.bool.isRequired,isShown:k.bool.isRequired,reachFrequencySupportedCountries:k.arrayOf(k.string),onAudienceNameChange:k.func.isRequired,onCancel:k.func.isRequired,onUpdate:k.func.isRequired,onSaveAs:k.func.isRequired,onTargetingChange:k.func.isRequired,targetingAPISpec:k.object.isRequired,isAudienceChanged:k.bool.isRequired};f.exports=m;}),null);
__d('AdsScheduleUtils',['fbt','DateConsts','DateTime'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('DateConsts').SEC_PER_MIN*c('DateConsts').MS_PER_SEC,j=i*c('DateConsts').MIN_PER_HOUR,k=j*c('DateConsts').HOUR_PER_DAY,l=1,m={getTimerangeUIData:function n(o,p){var q=null;if(o)q=c('DateTime').createFromISOString(o,l);var r=null;if(p)r=c('DateTime').createFromISOString(p,l);return this.getTimerangeUIDataByParsedDates(q,r);},getTimerangeUIDataByParsedDates:function n(o,p){var q=void 0,r=void 0;if(o)var s=o.format('M j, Y'),t=o.format('M d, Y g:ia');if(!p){r=h._("{start}\u2013Ongoing",[h.param('start',t)]);q=h._("{start}\u2013Ongoing",[h.param('start',s)]);return {range:q,rangeFull:r};}var u=p.format('M j, Y'),v=p.format('M d, Y g:ia');r=h._("{start}\u2013{end}",[h.param('start',t),h.param('end',v)]);q=h._("{start}\u2013{end}",[h.param('start',s),h.param('end',u)]);return {range:q,rangeFull:r,duration:o&&this.getDateDifference(o.getUnixTimestamp(),p.getUnixTimestamp())};},getDateDifference:function n(o,p){var q=p-o;if(q<j){var r=Math.round(q/i);return h._({"*":"{minutes} minutes","268435456":"1 minute"},[h.plural(r,'minutes')]);}else if(q<k){var s=Math.floor(q/j);return h._({"*":"{hours} hours","268435456":"1 hour"},[h.plural(s,'hours')]);}else{var t=Math.ceil(q/k);return h._({"*":"{days} days","268435456":"1 day"},[h.plural(t,'days')]);}},getLabelsForTable:function n(o,p){var q;if(o.equals(p)){q=o.format('g:ia');}else if(o.addDays(1).equals(p)){q=h._("Tomorrow");}else if(o.subtractDays(1).equals(p)){q=h._("Yesterday");}else q=o.format('M j, Y');return {label:q,fullLabel:o.format('M d, Y g:ia')};}};f.exports=m;}),null);
__d('AdsSavedAudienceCampaignListDialog.react',['cx','fbt','AdsInterfacesLogger','AdsSavedAudienceLoggingEvents','AdsScheduleUtils','BUIAdoptionXUIGrayText.react','BUIAdoptionXUINotice.react','FixedDataTable.react','FixedDataTableColumn.react','LayerFadeOnHide','LayerHideOnEscape','React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AdsSavedAudienceCampaignListDialog1=function(s){if(!s)this.$AdsSavedAudienceCampaignListDialog3();}.bind(this),this.$AdsSavedAudienceCampaignListDialog3=function(){c('AdsInterfacesLogger').log({eventName:c('AdsSavedAudienceLoggingEvents').CANCEL_IN_CAMPAIGN_LIST_DIALOG},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.props.onCancel();}.bind(this),this.$AdsSavedAudienceCampaignListDialog4=function(){c('AdsInterfacesLogger').log({eventName:c('AdsSavedAudienceLoggingEvents').SAVE_AS_IN_CAMPAIGN_LIST_DIALOG},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.props.onSaveAs();}.bind(this),this.$AdsSavedAudienceCampaignListDialog5=function(){c('AdsInterfacesLogger').log({eventName:c('AdsSavedAudienceLoggingEvents').UPDATE_IN_CAMPAIGN_LIST_DIALOG},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.props.onUpdate();}.bind(this),this.$AdsSavedAudienceCampaignListDialog2=function(){var s=[];this.props.campaigns.forEach(function(u){s.push({name:u.name,schedule:c('AdsScheduleUtils').getTimerangeUIData(u.start_time,u.end_time).range});});var t=function u(v){return s[v];};return (c('React').createElement('div',{className:"_1drc"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},i._("Updating this audience will also update the following advert sets:")),c('React').createElement('div',{className:"_3-8z _3-97"},c('React').createElement(c('FixedDataTable.react'),{headerHeight:40,maxHeight:250,rowGetter:t,rowHeight:50,rowsCount:s.length,width:650},c('React').createElement(c('FixedDataTableColumn.react'),{dataKey:'name',label:i._("Advert Set Name"),width:400}),c('React').createElement(c('FixedDataTableColumn.react'),{dataKey:'schedule',label:i._("Schedule"),width:250}))),c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'information'},i._("If you don't want to update the audience for these advert sets, you can save the changes as a new audience."))));}.bind(this),o;}m.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide'),LayerHideOnEscape:c('LayerHideOnEscape')},shown:this.props.isShown,width:750,onToggle:this.$AdsSavedAudienceCampaignListDialog1,key:'dialog'},c('React').createElement(c('XUIDialogTitle.react'),null,i._("This audience is used in {number of ad sets} advert sets",[i.param('number of ad sets',this.props.campaigns.length)])),c('React').createElement(c('XUIDialogBody.react'),null,this.$AdsSavedAudienceCampaignListDialog2()),c('React').createElement(c('XUIDialogFooter.react'),{leftContent:c('React').createElement(c('XUIDialogButton.react'),{label:i._("Cancel"),use:'default',onClick:this.$AdsSavedAudienceCampaignListDialog3})},c('React').createElement(c('XUIDialogButton.react'),{label:i._("Save as New"),use:'default',onClick:this.$AdsSavedAudienceCampaignListDialog4}),c('React').createElement(c('XUIDialogButton.react'),{label:i._("Update"),use:'confirm',onClick:this.$AdsSavedAudienceCampaignListDialog5})));};m.propTypes={campaigns:l.array.isRequired,isShown:l.bool.isRequired,onCancel:l.func.isRequired,onUpdate:l.func.isRequired,onSaveAs:l.func.isRequired};f.exports=m;}),null);
__d('AdsSavedAudienceErrorStore',['AdsDispatcher','AdsSavedAudienceActionTypes','FluxStore','Map','SavedTargetSpecSyncStatus','adsBaseStoreMixin'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$AdsSavedAudienceErrorStoreClass1=new (c('Map'))();}j.prototype.getStoreName=function(){return 'AdsSavedAudienceErrorStore';};j.prototype.__onDispatch=function(l){var m=l.action;switch(m.actionType){case c('AdsSavedAudienceActionTypes').SAVED_AUDIENCE.BATCH_UPDATED:m.savedAudiences.forEach(function(n){this.$AdsSavedAudienceErrorStoreClass2(n.id,n.sync_status);}.bind(this));this.__emitChange();break;case c('AdsSavedAudienceActionTypes').VIEW.CLEAR_SYNC_ERROR:this.$AdsSavedAudienceErrorStoreClass1['delete'](m.audienceID);this.__emitChange();break;}};j.prototype.$AdsSavedAudienceErrorStoreClass2=function(l,m){var n=new (c('Map'))();m.forEach(function(o){if(o.status===c('SavedTargetSpecSyncStatus').FAILURE)n.set(o.campaign_id,o.details);});this.$AdsSavedAudienceErrorStoreClass1.set(l,n);};j.prototype.getSyncErrorByAudienceID=function(l){return this.$AdsSavedAudienceErrorStoreClass1.get(l);};var k=new j();f.exports=k;}),null);
__d('AdsSavedAudienceSyncStatusErrorDialog.react',['cx','fbt','BUIAdoptionXUIGrayText.react','BUIAdoptionXUINotice.react','FixedDataTable.react','FixedDataTableColumn.react','Map','React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=50;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$AdsSavedAudienceSyncStatusErrorDialog1=function(t){if(!t)this.props.onClose();}.bind(this),this.$AdsSavedAudienceSyncStatusErrorDialog3=function(){var t=[],u=new (c('Map'))();this.props.campaigns.forEach(function(v){u.set(v.id,v.name);});this.props.error.forEach(function(v,w){t.push({name:u.get(w),details:v});});return t;}.bind(this),this.$AdsSavedAudienceSyncStatusErrorDialog2=function(){var t=this.$AdsSavedAudienceSyncStatusErrorDialog3(),u=function w(x){return t[x];},v=function w(x){return m*Math.ceil(t[x].details.length/100);};return (c('React').createElement('div',{className:"_y7m"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',weight:'bold'},i._("We cannot update the following Advert Sets:")),c('React').createElement('div',{className:"_3-8p"},c('React').createElement(c('FixedDataTable.react'),{headerHeight:40,maxHeight:250,rowGetter:u,rowHeight:m,rowHeightGetter:v,rowsCount:t.length,width:650},c('React').createElement(c('FixedDataTableColumn.react'),{dataKey:'name',label:i._("Advert Set Name"),width:250}),c('React').createElement(c('FixedDataTableColumn.react'),{dataKey:'details',label:i._("Reason"),width:400}))),c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'information'},i._("These advert sets will continue to run with the original targeting settings. They will no longer be associated with the updated saved audience."))));}.bind(this),p;}n.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{shown:true,width:750,onToggle:this.$AdsSavedAudienceSyncStatusErrorDialog1,key:'dialog'},c('React').createElement(c('XUIDialogTitle.react'),null,i._("Cannot update {number of faliures} of the {number of ad sets} Advert Sets",[i.param('number of faliures',this.props.error.size),i.param('number of ad sets',this.props.campaigns.length)])),c('React').createElement(c('XUIDialogBody.react'),null,this.$AdsSavedAudienceSyncStatusErrorDialog2()),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:i._("OK"),use:'confirm',onClick:this.props.onClose})));};n.propTypes={campaigns:l.array.isRequired,error:l.object.isRequired,onClose:l.func.isRequired};f.exports=n;}),null);
__d('AdsSavedAudienceViewActions',['AdsDispatcher','AdsSavedAudienceActionTypes'],(function a(b,c,d,e,f,g){'use strict';var h={clearSyncError:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({audienceID:j,type:c('AdsSavedAudienceActionTypes').VIEW.CLEAR_SYNC_ERROR});},updateName:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({name:j,type:c('AdsSavedAudienceActionTypes').VIEW.UPDATE_NAME});},toggleAudienceCreation:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({isSaveEnabled:j,type:c('AdsSavedAudienceActionTypes').VIEW.TOGGLE_SAVE});},clearAudienceSaveState:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsSavedAudienceActionTypes').VIEW.CLEAR_AUDIENCE_SAVE_STATE});},changeNavTabKey:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({navTabKey:j,type:c('AdsSavedAudienceActionTypes').VIEW.CHANGE_NAV_TAB});},userChangeNavTabKey:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({navTabKey:j,type:c('AdsSavedAudienceActionTypes').VIEW.USER_CHANGE_NAV_TAB});}};f.exports=h;}),null);
__d('SpinnerDialog.react',['BUIAdoptionXUISpinner.react','React','XUIDialog.react','XUIDialogBody.react'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){return (c('React').createElement(c('XUIDialog.react'),{layerHideOnBlur:false,shown:this.props.isShown,width:500,key:'dialog'},c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'}))));};function k(){h.apply(this,arguments);}k.propTypes={isShown:j.bool.isRequired};f.exports=k;}),null);
__d('AdsEditSavedAudienceDialogContainer.react',['fbt','AdsInterfacesLogger','AdsCommonTargetingUtils','AdsCreateSavedAudienceDialogContainer.react','AdsEditSavedAudienceDialog.react','AdsLoadState','AdsQEStore','AdsSavedAudienceActions','AdsSavedAudienceCampaignListDialog.react','AdsSavedAudienceErrorStore','AdsSavedAudienceLoggingEvents','AdsSavedAudienceStore','AdsSavedAudienceSyncStatusErrorDialog.react','AdsSavedAudienceViewActions','FluxMixinLegacy','React','SpinnerDialog.react','keyMirrorRecursive'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('keyMirrorRecursive')({CAMPAIGN_LIST:'',EDIT_TARGETING:'',SAVE_AS:''}),k=' - '+h._("copy"),l=c('React').createClass({displayName:'AdsEditSavedAudienceDialogContainer',mixins:[c('FluxMixinLegacy')([c('AdsQEStore'),c('AdsSavedAudienceErrorStore'),c('AdsSavedAudienceStore')],{withProps:true})],propTypes:{accountID:i.string.isRequired,audienceID:i.string.isRequired,dynamicTargetingContext:i.object.isRequired,isReachFrequency:i.bool.isRequired,isShown:i.bool.isRequired,reachFrequencySupportedCountries:i.arrayOf(i.string),onClose:i.func.isRequired,onSavedAudienceChange:i.func.isRequired,onSavedAudienceUpdated:i.func},getDefaultProps:function m(){return {isReachFrequency:false,dynamicTargetingContext:{productAdBehavior:null,productCatalogID:null,promotedProductSetID:null}};},componentWillReceiveProps:function m(n){var o=this.state,p=o.currentName,q=o.currentTargeting,r=o.viewState;if(n.isShown)r=j.EDIT_TARGETING;if(!n.isShown||n.audienceID!==this.props.audienceID){q=null;p=null;}this.setState({currentName:p,currentTargeting:q,viewState:r});},getInitialState:function m(){return {viewState:j.EDIT_TARGETING,audienceChanged:false};},statics:{calculateState:function m(n,o){var p=c('AdsSavedAudienceStore').get(o.audienceID),q=c('AdsSavedAudienceErrorStore').getSyncErrorByAudienceID(o.audienceID);return {error:q,loading:p.loadState===c('AdsLoadState').LOADING||p.loadState===c('AdsLoadState').PENDING_WRITE,originalAudience:p};}},render:function m(){if(this.state.error&&this.state.error.size>0&&!this.state.loading)return (c('React').createElement(c('AdsSavedAudienceSyncStatusErrorDialog.react'),{campaigns:this.state.originalAudience.adcampaigns.data,error:this.state.error,onClose:this._onClearError}));if(this.state.loading)return (c('React').createElement(c('SpinnerDialog.react'),{isShown:true}));if(!this.props.isShown)return null;var n=this._getNewOrOldTargeting(),o=this._getNewOrOldName();switch(this.state.viewState){case j.EDIT_TARGETING:return (c('React').createElement(c('AdsEditSavedAudienceDialog.react'),{accountID:this.props.accountID,audienceName:o,dynamicTargetingContext:this.props.dynamicTargetingContext,isAudienceChanged:this.state.audienceChanged,isReachFrequency:this.props.isReachFrequency,isShown:true,reachFrequencySupportedCountries:this.props.reachFrequencySupportedCountries,targetingAPISpec:n,onAudienceNameChange:this._onAudienceNameChange,onCancel:this.props.onClose,onSaveAs:this._onSaveAs,onTargetingChange:this._onTargetingChange,onUpdate:this._onUpdate}));case j.CAMPAIGN_LIST:return (c('React').createElement(c('AdsSavedAudienceCampaignListDialog.react'),{campaigns:this.state.originalAudience.adcampaigns.data,isShown:true,onCancel:this.props.onClose,onSaveAs:this._onSaveAs,onUpdate:this._onUpdateConfirmed}));case j.SAVE_AS:return (c('React').createElement(c('AdsCreateSavedAudienceDialogContainer.react'),{accountID:this.props.accountID,defaultName:this._getNewOrOldName()+k,isSaveAs:true,isShown:true,targetingAPISpec:n,onClose:this.props.onClose,onSavedAudienceChange:this.props.onSavedAudienceChange}));default:return null;}},_onClearError:function m(){c('AdsSavedAudienceViewActions').clearSyncError(this.props.audienceID);this.props.onClose();},_onAudienceNameChange:function m(n){var o=this.state.originalAudience.name!==n;this.setState({currentName:n,audienceChanged:o});},_onTargetingChange:function m(n){var o=this.state.originalAudience.name!==this._getNewOrOldName()||!c('AdsCommonTargetingUtils').areApiSpecEqual(this.state.originalAudience.targeting,n);this.setState({currentTargeting:n,audienceChanged:o});},_onSaveAs:function m(){c('AdsInterfacesLogger').log({eventName:c('AdsSavedAudienceLoggingEvents').SAVE_AS_IN_EDIT_DIALOG},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.setState({viewState:j.SAVE_AS});},_onUpdate:function m(){if(!this.state.audienceChanged){this.props.onClose();return;}if(this.state.originalAudience.adcampaigns&&this.state.audienceChanged){c('AdsInterfacesLogger').log({eventName:c('AdsSavedAudienceLoggingEvents').UPDATE_IN_EDIT_DIALOG_WITH_ADS},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.setState({viewState:j.CAMPAIGN_LIST});return;}c('AdsInterfacesLogger').log({eventName:c('AdsSavedAudienceLoggingEvents').UPDATE_IN_EDIT_DIALOG_NO_ADS},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this._updateSavedAudience();},_onUpdateConfirmed:function m(){this._updateSavedAudience();},_updateSavedAudience:function m(){var n={id:this.props.audienceID,name:this._getNewOrOldName(),targeting:this._getNewOrOldTargeting()};c('AdsSavedAudienceActions').updateSavedAudiences([n]);if(this.props.onSavedAudienceUpdated)this.props.onSavedAudienceUpdated(n);this.props.onClose();},_getNewOrOldName:function m(){return this.state.currentName||this.state.originalAudience.name;},_getNewOrOldTargeting:function m(){return this.state.currentTargeting||this.state.originalAudience.targeting;}});f.exports=l;}),null);
__d('AdsCustomConversionRuleCondition',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({ALSO_INCLUDE:'',ONLY_INCLUDE:'',EXCLUDE:''});f.exports=h;}),null);
__d('AdsCustomConversionRuleModel',['abstractMethod'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=i.condition,k=i.type,l=i.clauses,m=i.eventClauses;this.$AdsCustomConversionRuleModel1=j;this.$AdsCustomConversionRuleModel2=k;this.$AdsCustomConversionRuleModel3=l;this.$AdsCustomConversionRuleModel4=m;}h.prototype.reduceOr=function(i,j,k,l){if(l.length===1)return j;if(!i)i={or:[]};i.or.push(j);return i;};h.prototype.reduceAnd=function(i,j,k,l){if(l.length===1)return j;if(!i)i={and:[]};i.and.push(j);return i;};h.prototype.getCondition=function(){return this.$AdsCustomConversionRuleModel1;};h.prototype.getType=function(){return this.$AdsCustomConversionRuleModel2;};h.prototype.getClauses=function(){return this.$AdsCustomConversionRuleModel3||[];};h.prototype.getEventClauses=function(){return this.$AdsCustomConversionRuleModel4||[];};h.prototype.serialize=function(){return c('abstractMethod')('AdsCustomConversionRuleModel','serialize');};f.exports=h;}),null);
__d('AdsTargetingBuilderRule',['fbt'],(function a(b,c,d,e,f,g,h){'use strict';var i={IS:{label:h._("is"),value:'eq'},SUM_IS:{label:h._("sum is"),value:'sum_eq'},AVERAGE_IS:{label:h._("average is"),value:'average_eq'},CONTAINS:{label:h._("contains"),value:'i_contains'},NOT_CONTAINS:{label:h._("does not contain"),value:'i_not_contains'}},j=i.IS,k=i.SUM_IS,l=i.AVERAGE_IS,m=function o(p){return Boolean(p===j.value||p===k.value||p===l.value);},n={Rule:i,isArithmeticRule:m};f.exports=n;}),null);
__d('AdsCustomConversionEventRuleModel',['invariant','AdsCustomConversionRuleModel','AdsTargetingBuilderRule'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=function o(p){return Object.keys(p).reduce(function(q,r){return r;},'');},l=function o(p){var q=k(p),r=k(p[q]),s=[].concat(p[q][r]);return {parameter:q,operator:r,value:s};},m=function o(p){if(p.or){return p.or.reduce(function(q,r){var s=l(r),t=s.parameter,u=s.operator,v=s.value;return {parameter:t,operator:u,value:q.value.concat(v)};},{value:[]});}else return l(p);};i=babelHelpers.inherits(n,c('AdsCustomConversionRuleModel'));j=i&&i.prototype;n.prototype.serializeToken=function(o){o||h(0);return {event:{eq:o}};};n.prototype.serialize=function(){var o=this.getClauses().map(function(p){var event=p.map(this.serializeToken,this).reduce(this.reduceOr,null);if(event.length===0)return null;var q=this.getEventClauses().filter(function(s){return !!s.parameter;});if(q.length===0)return event;var r=q.map(function(s){var t=s.parameter,u=s.operator,v=s.value;return v.map(function(w){var x={};x[t]={};x[t][u]=w;return x;}).reduce(this.reduceOr,null);}.bind(this)).reduce(this.reduceAnd,null);return [event,r].reduce(this.reduceAnd,null);}.bind(this)).reduce(this.reduceOr,null);if(o!==null)o=JSON.stringify(o);return o;};n.getEventObject=function(o){try{var q=JSON.parse(o),r='',s=[];if(q.event){r=q.event.eq;}else if(q.and){r=q.and.filter(function(t){return t.event&&t.event.eq;}).reduce(function(t,u){return u.event.eq;},'');s=q.and.filter(function(t){return !t.event||!t.event.eq;}).reduce(function(t,u){if(u.and){return t.concat(u.and.map(m));}else return t.concat(m(u));},[]);}else throw Error('invalid event rule');return {name:r,clauses:s};}catch(p){h(0);}};function n(){i.apply(this,arguments);}f.exports=n;}),null);
__d('AdsCustomConversionRuleType',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({URL_CONTAINS:'',URL_EQUALS:'',EVENT:''});f.exports=h;}),null);
__d('AdsCustomConversionURLContainsRuleModel',['invariant','AdsCustomConversionRuleModel'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('AdsCustomConversionRuleModel'));j=i&&i.prototype;k.prototype.serializeToken=function(l){l||h(0);return {url:{i_contains:l}};};k.prototype.serialize=function(){var l=this.getClauses().filter(function(m){return m.length>0;}).map(function(m){return m.map(this.serializeToken).reduce(this.reduceOr,null);}.bind(this)).reduce(this.reduceAnd,null);if(l!==null)l=JSON.stringify(l);return l;};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('AdsCustomConversionURLEqualsRuleModel',['invariant','AdsCustomConversionRuleModel'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('AdsCustomConversionRuleModel'));j=i&&i.prototype;k.prototype.serializeToken=function(l){l||h(0);return {url:{eq:l}};};k.prototype.serialize=function(){var l=this.getClauses().filter(function(m){return m.length>0;}).map(function(m){return m.map(this.serializeToken).reduce(this.reduceOr,null);}.bind(this)).reduce(this.reduceAnd,null);if(l!==null)l=JSON.stringify(l);return l;};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('AdsCustomConversionRuleModelFactory',['invariant','AdsCustomConversionEventRuleModel','AdsCustomConversionRuleType','AdsCustomConversionURLContainsRuleModel','AdsCustomConversionURLEqualsRuleModel'],(function a(b,c,d,e,f,g,h){'use strict';var i={serialize:function j(k){var l=k.get('type'),m=k.toJS();switch(l){case c('AdsCustomConversionRuleType').URL_CONTAINS:return new (c('AdsCustomConversionURLContainsRuleModel'))(m).serialize();case c('AdsCustomConversionRuleType').URL_EQUALS:return new (c('AdsCustomConversionURLEqualsRuleModel'))(m).serialize();case c('AdsCustomConversionRuleType').EVENT:return new (c('AdsCustomConversionEventRuleModel'))(m).serialize();default:h(0);}}};f.exports=i;}),null);
__d('AdsCustomConversionRuleViewActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({ADD_EVENTS:'',ADD_EVENT_CLAUSE:'',ADD_RULE:'',ADD_RULE_CLAUSE:'',ADD_URLS:'',ADD_URL_KEYWORDS:'',INIT_EVENT_PARAMETER:'',REMOVE_EVENT_CLAUSE:'',REMOVE_RULE_CLAUSE:'',UPDATE_EVENT_PARAMETER:'',UPDATE_RULE_TYPE:'',SET_DEVICE_TYPE:'',SET_ADVANCED_RULE:''});f.exports=h;}),null);
__d('AdsTargetingBuilderOperator',['fbt'],(function a(b,c,d,e,f,g,h){'use strict';var i={GREATER_THAN:{label:'>',value:'gt'},LESS_THAN:{label:'<',value:'lt'},GREATER_OR_EQUAL_TO:{label:'>=',value:'gte'},LESS_OR_EQUAL_TO:{label:'<=',value:'lte'},EQUALS:{label:h._("equals"),value:'eq'},NOT_EQUALS:{label:h._("does not equal"),value:'neq'},CONTAINS:{label:h._("contains"),value:'i_contains'},NOT_CONTAINS:{label:h._("does not contain"),value:'i_not_contains'}},j=Object.keys(i).reduce(function(o,p){var q=i[p],r=q.label,s=q.value;o[s]=r;return o;},{}),k=function o(p){return j[p];},l=function o(p){return (p===i.NOT_CONTAINS.value||p===i.NOT_EQUALS.value);},m=function o(p){return (p===i.CONTAINS.value||p===i.EQUALS.value);},n={allowMultipleValues:m,getLabel:k,isNegateOperator:l,Operator:i};f.exports=n;}),null);
__d('AdsCustomConversionRuleStore',['AdsCustomConversionRuleCondition','AdsCustomConversionRuleModelFactory','AdsCustomConversionRuleType','AdsDispatcher','AdsPixelDialogTypes','AdsPixelViewActionTypes','AdsTargetingBuilderOperator','AdsTargetingBuilderRule','FluxReduceStore','immutable','AdsCustomConversionRuleViewActionTypes','WebsiteCustomAudienceModel'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('WebsiteCustomAudienceModel').Operations,k=function p(){return c('immutable').List([c('immutable').List()]);},l=function p(){return c('immutable').List([c('immutable').Map({})]);},m=function p(q){return c('immutable').Map({parameter:q,operator:c('AdsTargetingBuilderOperator').Operator.CONTAINS.value,value:[]});},n=function p(q){var r=q.condition,s=q.type;return c('immutable').Map({condition:r,type:s,clauses:k(),eventClauses:l()});};h=babelHelpers.inherits(o,c('FluxReduceStore'));i=h&&h.prototype;o.prototype.getInitialState=function(){return c('immutable').Map({rules:c('immutable').List([n({condition:c('AdsCustomConversionRuleCondition').ALSO_INCLUDE,type:c('AdsCustomConversionRuleType').URL_CONTAINS})]),advancedRule:null,device:null});};o.prototype.isRuleValid=function(){if(this.isAdvancedRule())return j.validateRule(this.getState().getIn(['advancedRule','rule']));var p=this.getState(),q=p.getIn(['rules',0,'clauses']),r=p.getIn(['rules',0,'eventClauses']),s=q.every(function(u){return u.size>0;}),t=r.every(function(u){var v=u.get('parameter'),w=u.get('value'),x=!v&&!w,y=v&&w&&w.length>0;return (x||y);});return (s&&t);};o.prototype.isEventBasedRule=function(){return (this.getState().getIn(['rules',0,'type'])===c('AdsCustomConversionRuleType').EVENT);};o.prototype.isAdvancedRule=function(){return this.getState().get('advancedRule')!==null;};o.prototype.getSerializedRule=function(){if(!this.isRuleValid())return null;if(this.isAdvancedRule())return j.serializeRule(this.getState().getIn(['advancedRule','rule']),this.getState().get('device'));var p=this.getState().getIn(['rules',0]);return c('AdsCustomConversionRuleModelFactory').serialize(p);};o.prototype.getSerializedAggregationRule=function(){if(this.isRuleValid()&&this.isAdvancedRule())return j.serializeAggregationForCustomConversion(this.getState().getIn(['advancedRule','rule']).aggregation);return null;};o.prototype.getRetentionDays=function(){if(this.isAdvancedRule())return this.getState().getIn(['advancedRule','rule']).duration;return null;};o.prototype.reduce=function(p,q){var r=q.action,s=r.data||{},t=s.ruleIndex,u=s.clauseIndex,v=s.eventClauseIndex,w=s.advancedRule,x=s.device,y=void 0,z=void 0,aa=void 0;switch(r.type){case c('AdsCustomConversionRuleViewActionTypes').ADD_URL_KEYWORDS:y=['rules',t,'clauses',u];return p.setIn(y,s.tokens);case c('AdsCustomConversionRuleViewActionTypes').ADD_URLS:y=['rules',t,'clauses',0];return p.setIn(y,s.tokens);case c('AdsCustomConversionRuleViewActionTypes').ADD_EVENTS:y=['rules',t,'clauses',0];return p.setIn(y,s.tokens).setIn(['rules',t,'eventClauses'],l());case c('AdsCustomConversionRuleViewActionTypes').ADD_RULE:return p.set('rules',p.get('rules').concat([n({condition:s.condition,type:c('AdsCustomConversionRuleType').URL_CONTAINS})]));case c('AdsCustomConversionRuleViewActionTypes').ADD_RULE_CLAUSE:y=['rules',t,'clauses'];aa=p.getIn(y);return p.setIn(y,aa.concat(k()));case c('AdsCustomConversionRuleViewActionTypes').REMOVE_RULE_CLAUSE:return p.deleteIn(['rules',t,'clauses',u]);case c('AdsCustomConversionRuleViewActionTypes').ADD_EVENT_CLAUSE:y=['rules',t,'eventClauses'];aa=p.getIn(y);return p.setIn(y,aa.concat(l()));case c('AdsCustomConversionRuleViewActionTypes').REMOVE_EVENT_CLAUSE:return p.deleteIn(['rules',t,'eventClauses',v]);case c('AdsCustomConversionRuleViewActionTypes').INIT_EVENT_PARAMETER:y=['rules',t,'eventClauses',v];z=m(s.value);return p.setIn(y,z);case c('AdsCustomConversionRuleViewActionTypes').UPDATE_EVENT_PARAMETER:y=['rules',t,'eventClauses',v];z=p.getIn(y);return p.setIn(y,z.set(s.key,s.value));case c('AdsCustomConversionRuleViewActionTypes').UPDATE_RULE_TYPE:var ba=p.getIn(['rules',t,'type']),ca=p.setIn(['rules',t,'type'],s.type);if(s.type===c('AdsCustomConversionRuleType').EVENT||ba===c('AdsCustomConversionRuleType').EVENT)return ca.setIn(['rules',t,'clauses'],k());return ca;case c('AdsCustomConversionRuleViewActionTypes').SET_ADVANCED_RULE:return p.set('advancedRule',w);case c('AdsCustomConversionRuleViewActionTypes').SET_DEVICE_TYPE:return p.set('device',x);case c('AdsPixelViewActionTypes').DIALOG_TYPE_CHANGE:if(r.data.dialogType===c('AdsPixelDialogTypes').NO_DIALOG)return this.getInitialState();return p;case c('AdsPixelViewActionTypes').OUTCOME_BASE_PIXEL_CHANGE:return this.getInitialState();default:return p;}};function o(){h.apply(this,arguments);}f.exports=new o(c('AdsDispatcher'));}),null);
__d('AdsCustomConversionStoreUtils',['AdsCustomConversionRuleStore'],(function a(b,c,d,e,f,g){'use strict';var h={getOriginalRule:function i(){return c('AdsCustomConversionRuleStore').getState().toJS();},getSerializedRule:function i(){return c('AdsCustomConversionRuleStore').getSerializedRule();},getAggregationRule:function i(){return c('AdsCustomConversionRuleStore').getSerializedAggregationRule();},getRetentionDays:function i(){return c('AdsCustomConversionRuleStore').getRetentionDays();},isRuleValid:function i(){return c('AdsCustomConversionRuleStore').isRuleValid();}};f.exports=h;}),null);
__d('AdsCustomConversionsLearnMoreLink.react',['fbt','Link.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){return (c('React').createElement(c('Link.react'),{href:this.props.href,target:'_blank',onClick:this.props.onClick},h._("Learn more")));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('AdsGoalServerActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h={CLEAR_ERROR:'',CREATED_GOAL:'',DELETE_GOALS:'',DETAILS_GET_CONVERSION_ACTIVITIES:'',DETAILS_GET_CONVERSION_ACTIVITIES_ERROR:'',EDITED_GOAL:'',ERROR_CREATE_GOAL:'',ERROR_EDIT_GOAL:'',RECEIVE_GOALS:'',RECEIVE_GOAL_STATS:'',RECEIVE_RAW_FIRES:'',RECEIVE_RAW_FIRES_BY_FILTER:'',RECEIVE_ID_CONVERSION:'',RECEIVE_ID_CONVERSION_ERROR:''},i=c('keyMirrorRecursive')(h,'GOAL_SERVER_ACTION');f.exports=i;}),null);
__d('AdsGoalServerActions',['AdsDispatcher','AdsGoalServerActionTypes','AdsPixelLoggingPrefix','AdsPixelServerActionTypes','AdsTargetingViewActionsLogger'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsTargetingViewActionsLogger').attachLog({updateGoals:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({feedback:{goalList:j},type:c('AdsGoalServerActionTypes').RECEIVE_GOALS});},createdGoal:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({feedback:{goal:j},type:c('AdsGoalServerActionTypes').CREATED_GOAL});},deleteGoals:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({feedback:{goalList:j},type:c('AdsGoalServerActionTypes').DELETE_GOALS});},editedGoal:function i(){c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsGoalServerActionTypes').EDITED_GOAL});},errorCreateGoal:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({feedback:{error:j},type:c('AdsGoalServerActionTypes').ERROR_CREATE_GOAL});},errorEditGoal:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({feedback:{error:j},type:c('AdsGoalServerActionTypes').ERROR_EDIT_GOAL});},errorUpdateCustomConversion:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({feedback:{error:k},type:c('AdsGoalServerActionTypes').RECEIVE_ID_CONVERSION_ERROR});},errorUpdateCustomConversionActivities:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({feedback:{error:k},type:c('AdsGoalServerActionTypes').DETAILS_GET_CONVERSION_ACTIVITIES_ERROR});},receiveError:function i(j){c('AdsDispatcher').handleUpdateFromServerResponse({feedback:{error:j},type:c('AdsPixelServerActionTypes').RECEIVE_ERROR});},clearError:function i(){c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsGoalServerActionTypes').CLEAR_ERROR});},updateCustomConversion:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({feedback:{conversionID:j,conversion:k},type:c('AdsGoalServerActionTypes').RECEIVE_ID_CONVERSION});},updateCustomConversionActivities:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({feedback:{conversionID:j,activities:k},type:c('AdsGoalServerActionTypes').DETAILS_GET_CONVERSION_ACTIVITIES});},updateGoalStats:function i(j,k,l){c('AdsDispatcher').handleUpdateFromServerResponse({feedback:{conversionID:k,stats:l},statsType:j,type:c('AdsGoalServerActionTypes').RECEIVE_GOAL_STATS});},updateRawFires:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({conversionID:j,rawFires:k,type:c('AdsGoalServerActionTypes').RECEIVE_RAW_FIRES});},updateRawFiresByFilter:function i(j,k,l,m){c('AdsDispatcher').handleUpdateFromServerResponse({conversionID:j,filterType:k,filter:l,rawFires:m,type:c('AdsGoalServerActionTypes').RECEIVE_RAW_FIRES_BY_FILTER});}},{prefix:c('AdsPixelLoggingPrefix').CUSTOM_CONVERSION_SERVER_ACTION_});f.exports=h;}),null);
__d('AdsGoalViewActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h={DISMISS_NOTICE:'',SHOW_DESCRIPTION:'',START_CREATION:'',START_EDIT:'',TOGGLE_VALUE_ROW:'',UPDATE_CATEGORY:'',UPDATE_CONVERSION_VALUE:'',UPDATE_DESCRIPTION:'',UPDATE_NAME:'',UPDATE_RULE:'',UPDATE_SORT_SETTING:'',TOGGLE_TABLE_SELECTION:''},i=c('keyMirrorRecursive')(h,'GOAL_VIEW_ACTION');f.exports=i;}),null);
__d('AdsGoalViewActions',['AdsInterfacesLogger','AdsDispatcher','AdsGoalViewActionTypes','AdsPixelLoggingPrefix','AdsTargetingViewActionsLogger'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsTargetingViewActionsLogger').attachLog({updateRule:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({data:{rule:j},type:c('AdsGoalViewActionTypes').UPDATE_RULE});},updateCategory:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({data:{category:j},type:c('AdsGoalViewActionTypes').UPDATE_CATEGORY});},updateName:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({data:{name:j},type:c('AdsGoalViewActionTypes').UPDATE_NAME});},updateDescription:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({data:{description:j},type:c('AdsGoalViewActionTypes').UPDATE_DESCRIPTION});},showDescription:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsGoalViewActionTypes').SHOW_DESCRIPTION});},toggleValueRow:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({data:{showValueRow:j},type:c('AdsGoalViewActionTypes').TOGGLE_VALUE_ROW});},updateConversionValue:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({data:{conversionValue:j},type:c('AdsGoalViewActionTypes').UPDATE_CONVERSION_VALUE});},toggleCustomConversionTableSelection:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({data:{selectedIDs:j},type:c('AdsGoalViewActionTypes').TOGGLE_TABLE_SELECTION});c('AdsInterfacesLogger').log({eventName:c('AdsGoalViewActionTypes').TOGGLE_TABLE_SELECTION},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);},startCreation:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsGoalViewActionTypes').START_CREATION});},startEdit:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsGoalViewActionTypes').START_EDIT});},updateSortSetting:function i(j,k){c('AdsDispatcher').handleUpdateFromViewAction({data:{dataKey:j,sortStatus:k},type:c('AdsGoalViewActionTypes').UPDATE_SORT_SETTING});},dismissNotice:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsGoalViewActionTypes').DISMISS_NOTICE});}},{prefix:c('AdsPixelLoggingPrefix').CUSTOM_CONVERSION_VIEW_ACTION_});f.exports=h;}),null);
__d('AdsGoalEdit',['Promise','AdsGoalServerActions','AdsGoalViewActions','AdsGraphAPI'],(function a(b,c,d,e,f,g){'use strict';var h={deleteConversions:function i(j,k){c('AdsGoalViewActions').startEdit();var l=j.map(function(m){return (c('AdsGraphAPI').get(f.id).object('customconversion',m.id).remove());});c('Promise').all(l).done(function(m){if(m.every(function(n){return n.success;})){c('AdsGoalServerActions').deleteGoals(j);k&&k();c('AdsGoalServerActions').editedGoal();}},function(m){return c('AdsGoalServerActions').errorEditGoal(m);});},update:function i(j,k){c('AdsGoalViewActions').startEdit();c('AdsGraphAPI').get(f.id).object('customconversion',j.id).post(k).done(function(l){if(l.success){c('AdsGoalServerActions').updateGoals([Object.assign(j||{},k)]);c('AdsGoalServerActions').editedGoal();}},function(l){return c('AdsGoalServerActions').errorEditGoal(l);});}};f.exports=h;}),null);
__d('AdsGoalDeleteContent.react',['cx','fbt','AdsCustomConversionsLearnMoreLink.react','AdsInterfacesLogger','AdsGoalEdit','AdsGoalViewActions','AdsSpinnerCover.react','AdsPixelDialogTypes','AdsPixelHelpCenter','AdsPixelViewActions','BUIAdoptionXUIGrayText.react','BUIAdoptionXUINotice.react','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react','immutable'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('immutable').List;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AdsGoalDeleteContent6=function(){if(this.props.viewerHasPermission)return null;return (c('React').createElement('div',{className:"_2x-r"},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'information'},i._("You do not have permission to delete custom conversions for this advert account"))));}.bind(this),this.$AdsGoalDeleteContent2=function(){return (c('React').createElement(c('XUIDialogBody.react'),{className:"_2x-s"},this.$AdsGoalDeleteContent6(),c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-8-",display:'block',shade:'dark',size:'small'},this.$AdsGoalDeleteContent7(),' ',this.$AdsGoalDeleteContent8(),'.')));}.bind(this),this.$AdsGoalDeleteContent8=function(){return (c('React').createElement(c('AdsCustomConversionsLearnMoreLink.react'),{href:c('AdsPixelHelpCenter').CUSTOM_CONVERSION_DELETION.uri,onClick:this.$AdsGoalDeleteContent9}));}.bind(this),this.$AdsGoalDeleteContent3=function(){if(!this.props.error)return null;var s=this.props.error.error_user_title||i._("Error"),t=this.props.error.error_user_msg||i._("Deletion failed");return (c('React').createElement('div',{className:"_2x-t"},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'error'},i._("{error message}",[i.param('error message',s+': '+t)]))));}.bind(this),this.$AdsGoalDeleteContent4=function(){return (c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:this.$AdsGoalDeleteContent10}),c('React').createElement(c('XUIDialogButton.react'),{disabled:this.$AdsGoalDeleteContent11(),label:i._("Delete"),use:'confirm',onClick:this.$AdsGoalDeleteContent12})));}.bind(this),this.$AdsGoalDeleteContent11=function(){return !this.props.viewerHasPermission;}.bind(this),this.$AdsGoalDeleteContent12=function(){var s=this.props.customConversions.toJS(),t=s.map(function(u){return (u.id);});c('AdsGoalEdit').deleteConversions(s,function(){return c('AdsInterfacesLogger').log({eventName:'ads_pixel_goal_delete_done'},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);});}.bind(this),this.$AdsGoalDeleteContent5=function(){return (c('React').createElement(c('AdsSpinnerCover.react'),{background:'light',show:this.props.isDeleting}));}.bind(this),o;}m.prototype.render=function(){return c('React').createElement('div',{className:"_2x-q"},c('React').createElement(c('XUIDialogTitle.react'),null,this.$AdsGoalDeleteContent1()),this.$AdsGoalDeleteContent2(),this.$AdsGoalDeleteContent3(),this.$AdsGoalDeleteContent4(),this.$AdsGoalDeleteContent5());};m.prototype.$AdsGoalDeleteContent1=function(){return i._({"*":"Delete {number} custom conversions","268435456":"Delete custom conversion"},[i.plural(this.props.customConversions.size,'number')]);};m.prototype.$AdsGoalDeleteContent7=function(){return i._({"*":"You won't be able to track actions or optimise advert delivery for these custom conversions once they've been deleted. This may affect existing advertising campaigns.","268435456":"You won't be able to track actions or optimise advert delivery for this custom conversion once it's deleted. This may affect existing advertising campaigns."},[i.plural(this.props.customConversions.size)]);};m.prototype.$AdsGoalDeleteContent10=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').NO_DIALOG);c('AdsInterfacesLogger').log({eventName:'ads_pixel_goal_delete_cancel'});};m.prototype.$AdsGoalDeleteContent9=function(){c('AdsInterfacesLogger').log({eventName:'ads_pixel_goal_delete_learn_more'});};f.exports=m;}),null);
__d('AdsGoalEditStore',['AdsDispatcher','AdsGoalServerActionTypes','AdsGoalViewActionTypes','AdsPixelDialogTypes','AdsPixelViewActionTypes','FluxStore','adsBaseStoreMixin'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$AdsGoalEditStoreClass3();}j.prototype.$AdsGoalEditStoreClass3=function(){this.$AdsGoalEditStoreClass1=false;this.$AdsGoalEditStoreClass2=null;};j.prototype.__onDispatch=function(l){var m=l.action;switch(m.actionType){case c('AdsGoalViewActionTypes').START_EDIT:this.$AdsGoalEditStoreClass1=true;this.$AdsGoalEditStoreClass2=null;this.__emitChange();break;case c('AdsGoalServerActionTypes').EDITED_GOAL:this.$AdsGoalEditStoreClass1=false;this.__emitChange();break;case c('AdsGoalServerActionTypes').CLEAR_ERROR:this.$AdsGoalEditStoreClass2=null;this.__emitChange();break;case c('AdsGoalServerActionTypes').ERROR_EDIT_GOAL:this.$AdsGoalEditStoreClass2=m.feedback.error;this.$AdsGoalEditStoreClass1=false;this.__emitChange();break;case c('AdsPixelViewActionTypes').DIALOG_TYPE_CHANGE:if(m.data.dialogType===c('AdsPixelDialogTypes').NO_DIALOG){this.$AdsGoalEditStoreClass3();this.__emitChange();}break;}};j.prototype.isEditing=function(){return this.$AdsGoalEditStoreClass1;};j.prototype.getError=function(){return this.$AdsGoalEditStoreClass2;};var k=new j();f.exports=k;}),null);
__d('AdsCustomConversionRuleInfo.react',['cx','fbt','AdsCustomConversionEventRuleModel','AdsTargetingBuilderOperator','BUIAdoptionXUIGrayText.react','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light',size:'small',weight:'bold'},i._(", AND")),n=250;j=babelHelpers.inherits(o,l);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$AdsCustomConversionRuleInfo1=function(u,v,w){var x=this.props.numClausesToDisplay;if(x&&v>=x)return null;var y=c('joinClasses')(this.props.className,"_3xeh"),z=this.props.width?{width:this.props.width}:{},aa=v===w.length-1,ba=aa?null:m,ca=!(x&&w.length>1)?null:' ...',da=u.value.length,ea=Math.min(da,n),fa=da>0?u.value[0]:'';for(var ga=1;ga<ea-1;++ga)fa=i._("{previous items}, {following items}",[i.param('previous items',fa),i.param('following items',u.value[ga])]);var ha=ea>1?c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light',size:'small',weight:'bold'},' ',i._("OR"),' '):'';return (c('React').createElement('div',{className:!aa?c('joinClasses')(y,"_3-95"):y,key:v,style:z},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'small',weight:'bold'},u.parameter),c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-99",shade:'medium',size:'small',weight:'bold'},c('AdsTargetingBuilderOperator').getLabel(u.operator)),c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-99",shade:'medium',size:'small'},fa,ha,da>1?u.value[da-1]:null),ba,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'dark',size:'small'},ca)));}.bind(this),q;}o.prototype.render=function(){var p=this.props,q=p.pixelAggregationRule,r=p.pixelRule,s=p.retentionDays,event=c('AdsCustomConversionEventRuleModel').getEventObject(r);if(!event)return null;var t=event.clauses.map(this.$AdsCustomConversionRuleInfo1,this),u=q?c('React').createElement('div',{className:"_3-8x"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'small',weight:'bold'},i._("Aggregation")),c('React').createElement('div',{style:{display:'block'}},q)):null,v=s?c('React').createElement('div',{className:"_3-8x"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'small',weight:'bold'},i._("Retention")),c('React').createElement('div',{style:{display:'block'}},s,' ',i._("days"))):null;return c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'small',weight:'bold'},i._("Event"),' '),c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'small'},i._("{rule type}",[i.param('rule type',event.name)])),t,u,v);};f.exports=o;}),null);
__d('AdsCustomConversionsTableConstant',[],(function a(b,c,d,e,f,g){'use strict';var h={GROUP_HEADER_HEIGHT:50,MAX_VISIBLE_ROWS:20,MAX_ROWS:20,NOTICE_LOWERBOUND:35,ROW_KEY_ID:'customConversionID'};f.exports=h;}),null);
__d('AdsCustomConversionsUtil',['cx','fbt','invariant','AdsCurrencyFormatter','AdsCustomConversionRuleInfo.react','AdsCustomConversionsFields','BUIAdoptionXUIGrayText.react','AdsCustomConversionsTableConstant','CustomEventType','immutable','React','WebsiteCustomAudienceModel','getByPath','formatDate','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('WebsiteCustomAudienceModel').Operations,l='ASC',m='m\/d\/Y g:ia',n=['event','eq'],o=250,p={getShouldDisableCreation:function q(r){return r>=c('AdsCustomConversionsTableConstant').MAX_ROWS;},getIsCustomConversion:function q(r){return r.pixel_rule!==undefined;},isEventBased:function q(r){var s=false;try{var u=JSON.parse(r),v=c('immutable').fromJS(u),w=v.get('and'),x=v.get('or');s=v.hasIn(n)||!!w&&w.some(function(y){return y.hasIn(n);})||!!x&&x.some(function(y){return y.hasIn(n);});}catch(t){j(0);}return s;},getCustomConversionsMatchedPixel:function q(r,s){return r.filter(function(t){return t.pixelID===s;});},sort:function q(r,s,t){return r.sort(function(u,v){var w=s.toLowerCase(),x=u[w],y=v[w],z=t===l?1:-1;if(x>y){return z;}else if(x<y){return -z;}else return 0;});},filterByTime:function q(r,s,t){return (r.lastFiredTime>=s&&r.lastFiredTime<=t);},filterByDateChoice:function q(r,s){return p.filterByTime(r,s.startTime,s.endTime);},getFieldDisplay:function q(r,s,t,u){var v=s;switch(r){case c('AdsCustomConversionsFields').CATEGORY:v=c('CustomEventType')[s]||s;break;case c('AdsCustomConversionsFields').CREATION_TIME:case c('AdsCustomConversionsFields').LAST_FIRED_TIME:v=c('formatDate')(new Date(s),m);break;case c('AdsCustomConversionsFields').RETENTION_DAYS:break;case c('AdsCustomConversionsFields').RULE:var w=s.pixelRule,x=s.pixelAggregationRule,y=s.retentionDays,z=k.deserializeRule(w)||{};v=p.getRuleDisplay(w,x,y,c('getByPath')(z,['clauses'])||[],null,z.scope);break;case c('AdsCustomConversionsFields').VALUE:t||j(0);v=u?c('AdsCurrencyFormatter').formatCurrencyWithISO(t,s):c('AdsCurrencyFormatter').formatCurrency(t,s);break;}return v;},getRuleDisplay:function q(r,s,t,u,v,w,x,y){if(p.isEventBased(r))return (c('React').createElement(c('AdsCustomConversionRuleInfo.react'),{className:y,numClausesToDisplay:v,pixelAggregationRule:s,pixelRule:r,retentionDays:t,width:x}));var z=[];if(!v)v=u.length;for(var aa=0;aa<v;aa++)z.push(c('React').createElement('div',{key:'rule_clause_'+aa},this._parseClause(u[aa],u.length,w,aa===u.length-1,x,y,u.length>1&&v===1)));if(s)z.push(c('React').createElement('div',{className:"_3-8x",key:'aggregation_rule'},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'small',weight:'bold'},i._("Aggregation")),c('React').createElement('div',null,s)));if(t)z.push(c('React').createElement('div',{className:"_3-8x",key:'retention_days'},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'small',weight:'bold'},i._("Retention")),c('React').createElement('div',null,t,' ',i._("days"))));return c('React').createElement('div',null,z);},_parseClause:function q(r,s,t,u,v,w,x){var y=!u?c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light',size:'small',weight:'bold'},' ',i._("AND")):'',z=r.tokens,aa=x?' ...':null,ba=z.length,ca=Math.min(o,ba),da=ba>0?z[0]:'';for(var ea=1;ea<ca-1;++ea)da=i._("{previous items}, {following items}",[i.param('previous items',da),i.param('following items',z[ea])]);var fa=z.length>1&&s>1,ga=ca>1?c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light',size:'small',weight:'bold'},' ',i._("OR"),' '):'';return (c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'medium',size:'small',weight:'bold'},i._("{scope} {operator}",[i.param('scope',this._getCustomFieldText(r.customfield)||this._getScopeText(t)),i.param('operator',this._getOperatorText(r.filter))])),c('React').createElement('div',{className:!u?c('joinClasses')(w,"_3-95"):w,style:{width:v}},c('React').createElement('span',null,fa?'(':'',da,ga,ba>1?z[ba-1]:null,fa?')':''),y,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'dark',size:'small'},aa))));},_getCustomFieldText:function q(r){if(!r)return null;if(r==='event_name')return i._("Event name");if(r==='value')return i._("Value");if(r.startsWith('custom_data.'))return i._("Custom data \"{field name}\"",[i.param('field name',r.replace('custom_data.',''))]);return null;},_getScopeText:function q(r){return (r==='device_type'?i._("Device"):i._("URL"));},_getOperatorText:function q(r){var s=null;switch(r){case 'i_contains':s=i._("Contains (not case sensitive)");break;case 'i_not_contains':s=i._("Does not contain (not case sensitive)");break;case 'contains':s=i._("Contains (case sensitive)");break;case 'not_contains':s=i._("Does not contain (case sensitive)");break;case 'eq':s=i._("Equal to (case sensitive)");break;case 'neq':s=i._("Not equal to (case sensitive)");break;case 'lt':s=i._("Less than");break;case 'lte':s=i._("Less than or equal to");break;case 'gt':s=i._("Greater than");break;case 'gte':s=i._("Greater than or equal to");break;case 'regex_match':s=i._("Matches regular expression");break;default:}return s;}};f.exports=p;}),null);
__d('AdsGoalCategories',['fbt','AdsPixelConversionStandardEvents','ImmutableObject'],(function a(b,c,d,e,f,g,h){'use strict';var i=babelHelpers['extends']({},c('AdsPixelConversionStandardEvents'),{Other:{name:h._("Other"),custom_event_type:'OTHER'}});f.exports=new (c('ImmutableObject'))(i);}),null);
__d('AdsGoalGraphAPI',['invariant','AdsAccountStoreWrapper_DEPRECATED','AdsGoalServerActions','AdsGraphAPI','AdsPixelStatusUtils','GraphAPIPaging','GraphEdgeName','StatsTypeToAggregationType'],(function a(b,c,d,e,f,g,h){'use strict';var i=['account_id','aggregation_rule','application','creation_time','custom_event_type','default_conversion_value','description','event_source_type','first_fired_time','id','is_archived','last_fired_time','name','offline_conversion_data_set','pixel','retention_days','rule'],j={loadActivities:function k(l,m,n,o){c('AdsGraphAPI').get(f.id).object('customconversions',l).edge('activities').get({start_time:m,end_time:n,event_type:o}).then(c('GraphAPIPaging').allPages()).done(function(p){return c('AdsGoalServerActions').updateCustomConversionActivities(l,p.data);},function(p){return c('AdsGoalServerActions').errorUpdateCustomConversionActivities(l,p);});},loadCustomConversion:function k(l){c('AdsGraphAPI').get(f.id).object('customconversions',l).get({fields:i}).done(function(m){return c('AdsGoalServerActions').updateCustomConversion(l,m);},function(m){return c('AdsGoalServerActions').errorUpdateCustomConversion(l,m);});},loadGoals:function k(){c('AdsGraphAPI').get(f.id).adaccount(c('AdsAccountStoreWrapper_DEPRECATED').getAccountID()).edge(c('GraphEdgeName').CUSTOMCONVERSIONS).get({fields:i}).then(c('GraphAPIPaging').allPages()).done(function(l){return c('AdsGoalServerActions').updateGoals(l.data);},function(l){return c('AdsGoalServerActions').receiveError(l);});},loadStats:function k(l,m){l in c('StatsTypeToAggregationType')||h(0);c('AdsGraphAPI').get(f.id).object('customconversions',m).edge('stats').get({aggregation:c('StatsTypeToAggregationType')[l],start_time:c('AdsPixelStatusUtils').getStatsStartTime()}).done(function(n){c('AdsGoalServerActions').updateGoalStats(l,m,n.data);});},loadRawFires:function k(l){c('AdsGraphAPI').get(f.id).object('customconversions',l).edge('raw_fires').get().done(function(m){c('AdsGoalServerActions').updateRawFires(l,m.data);});},loadRawFiresByFilter:function k(l,m,n){c('AdsGraphAPI').get(f.id).object('customconversions',l).edge('raw_fires').get({filter_type:c('StatsTypeToAggregationType')[m],filter:n}).done(function(o){c('AdsGoalServerActions').updateRawFiresByFilter(l,m,n,o.data);});}};f.exports=j;}),null);
__d('AdsGoalStatsStore',['invariant','AdsDispatcher','AdsGoalGraphAPI','AdsGoalServerActionTypes','AdsPixelDate','AdsPixelStats','AdsPixelStatsTypes','FluxStore','StatsTypeToAggregationType','adsBaseStoreMixin'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=24*60*60*1000,l=14;i=babelHelpers.inherits(m,c('FluxStore'));j=i&&i.prototype;function m(){j.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$AdsGoalStatsStoreClass1={traffic:{},domain:{},url:{},event:{},device:{}};}m.prototype.getStoreName=function(){return 'AdsGoalStatsStore';};m.prototype.__onDispatch=function(o){var p=o.action;switch(p.actionType){case c('AdsGoalServerActionTypes').RECEIVE_GOAL_STATS:this.$AdsGoalStatsStoreClass2(p.statsType,p.feedback.conversionID,p.feedback.stats);this.__emitChange();break;}};m.prototype.getConversionStats=function(o,p){this.$AdsGoalStatsStoreClass3(o);if(!(p in this.$AdsGoalStatsStoreClass1[o])){this.$AdsGoalStatsStoreClass1[o][p]=undefined;c('AdsGoalGraphAPI').loadStats(o,p);}return this.$AdsGoalStatsStoreClass1[o][p];};m.prototype.getConversionStatsByDateChoices=function(o,p){var q=this.getConversionStats(o,p);return (q?q.getAggregationForAllDateChoices():{});};m.prototype.getConversionTrafficByDate=function(o,p){var q=arguments.length<=2||arguments[2]===undefined?l:arguments[2],r=this.getConversionStats(o,p),s=c('StatsTypeToAggregationType')[c('AdsPixelStatsTypes').TRAFFIC],t=r?r.getFireChartData():{},u=t[s]||[];return this.$AdsGoalStatsStoreClass4(u,q);};m.prototype.isGoalStatsLoaded=function(o,p){this.$AdsGoalStatsStoreClass3(p);return (o in this.$AdsGoalStatsStoreClass1[p]&&this.$AdsGoalStatsStoreClass1[p][o]!==undefined);};m.prototype.$AdsGoalStatsStoreClass4=function(o,p){if(o.length===0)return [];var q=c('AdsPixelDate').getDaysBefore(p).getTime(),r=c('AdsPixelDate').getTodayStart(),s=[],t={};for(var u=0;u<o.length;u++)t[o[u].datetime]=o[u].value;for(var v=q;v<=r;v+=k)s.push({datetime:v,value:t[v]||0});return s;};m.prototype.$AdsGoalStatsStoreClass2=function(o,p,q){this.$AdsGoalStatsStoreClass3(o);this.$AdsGoalStatsStoreClass1[o][p]=new (c('AdsPixelStats'))(q,o);};m.prototype.$AdsGoalStatsStoreClass3=function(o){o in this.$AdsGoalStatsStoreClass1||h(0);};var n=new m();f.exports=n;}),null);
__d('AdsCustomConversionsTableColumns',[],(function a(b,c,d,e,f,g){'use strict';var h={ACTIVITY:null,CATEGORY:null,NAME:null,RULE:null,SOURCE:null,STATUS:null},i=Object.keys(h).reduce(function(j,k){j[k]=k.toLowerCase();return j;},{});f.exports=i;}),null);
__d('AdsGoalTableSettingStore',['AdsCustomConversionsTableColumns','AdsDispatcher','AdsGoalServerActionTypes','AdsGoalViewActionTypes','FluxStore','adsBaseStoreMixin'],(function a(b,c,d,e,f,g){'use strict';var h,i,j='DESC';h=babelHelpers.inherits(k,c('FluxStore'));i=h&&h.prototype;function k(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.init();}k.prototype.init=function(){this.$AdsGoalTableSettingStoreClass1=[];this.$AdsGoalTableSettingStoreClass2=c('AdsCustomConversionsTableColumns').STATUS;this.$AdsGoalTableSettingStoreClass3=j;};k.prototype.getStoreName=function(){return 'AdsGoalTableSettingStore';};k.prototype.__onDispatch=function(m){var n=m.action,o=n.data||{};switch(n.actionType){case c('AdsGoalViewActionTypes').UPDATE_SORT_SETTING:this.$AdsGoalTableSettingStoreClass4(o.dataKey,o.sortStatus);this.__emitChange();break;case c('AdsGoalViewActionTypes').TOGGLE_TABLE_SELECTION:this.$AdsGoalTableSettingStoreClass5(n.data.selectedIDs);this.__emitChange();break;case c('AdsGoalServerActionTypes').EDITED_GOAL:this.$AdsGoalTableSettingStoreClass1=[];this.__emitChange();break;}};k.prototype.getSelectedIDs=function(){return this.$AdsGoalTableSettingStoreClass1;};k.prototype.getSortDataKey=function(){return this.$AdsGoalTableSettingStoreClass2;};k.prototype.getSortStatus=function(){return this.$AdsGoalTableSettingStoreClass3;};k.prototype.$AdsGoalTableSettingStoreClass4=function(m,n){this.$AdsGoalTableSettingStoreClass2=m;this.$AdsGoalTableSettingStoreClass3=n;};k.prototype.$AdsGoalTableSettingStoreClass5=function(m){var n=this.$AdsGoalTableSettingStoreClass1.filter(function(o){return m.indexOf(o)>-1;});m.forEach(function(o){if(n.indexOf(o)>-1){this.$AdsGoalTableSettingStoreClass1.splice(this.$AdsGoalTableSettingStoreClass1.indexOf(o),1);}else this.$AdsGoalTableSettingStoreClass1.push(o);}.bind(this));};var l=new k();f.exports=l;}),null);
__d('AdsGoalStore',['AdsAccountStoreWrapper_DEPRECATED','AdsActionTypes','AdsCustomConversionsUtil','AdsDispatcher','AdsGoalCategories','AdsGoalGraphAPI','AdsGoalServerActionTypes','AdsGoalStatsStore','AdsGoalTableSettingStore','AdsGoalViewActionTypes','AdsInsightsCustomConversionPrefix','AdsLoadState','AdsPixelConversionTypes','AdsPixelStatsTypes','AdsPixelStore','Bootloader','CustomConversionEventSourceType','FluxStore','ImmutableObject','XAdsManagerPixelsController','adsBaseStoreMixin','getByPath'],(function a(b,c,d,e,f,g){'use strict';var h,i,j='ASC',k=Object.keys(c('AdsGoalCategories')).reduce(function(o,p){var q=c('AdsGoalCategories')[p];o[q.custom_event_type]=q.name;return o;},{}),l=void 0;h=babelHelpers.inherits(m,c('FluxStore'));i=h&&h.prototype;function m(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$AdsGoalStoreClass8();}m.prototype.getStoreName=function(){return 'AdsGoalStore';};m.prototype.__onDispatch=function(o){var p=o.action;switch(p.actionType){case c('AdsGoalServerActionTypes').RECEIVE_GOALS:p.feedback.goalList.forEach(function(q){q.lastFiredTime=q.last_fired_time;q.category=k[q.custom_event_type]||'';q.pixelID=q.pixel&&q.pixel.id;q.dataSetID=q.offline_conversion_data_set&&q.offline_conversion_data_set.id;q.eventSourceID=q.pixelID||q.dataSetID;q.eventSourceType=q.event_source_type||c('CustomConversionEventSourceType').PIXEL;switch(q.eventSourceType){case c('CustomConversionEventSourceType').OFFLINE_CONVERSION_DATA_SET:q.actionTypePrefix=c('AdsInsightsCustomConversionPrefix').OFFLINE;break;case c('CustomConversionEventSourceType').APPLICATION:q.actionTypePrefix=c('AdsInsightsCustomConversionPrefix').APP;break;case c('CustomConversionEventSourceType').PIXEL:default:q.actionTypePrefix=c('AdsInsightsCustomConversionPrefix').OFFSITE;}q.type=c('AdsPixelConversionTypes').NEW;q.value=q.name;q.pixel_rule=q.rule;q.pixel_aggregation_rule=q.aggregation_rule;if(q.is_archived){this.$AdsGoalStoreClass1[this.constructKeyFromData(q,q.eventSourceID)]=q;this.$AdsGoalStoreClass2[q.id]=new (c('ImmutableObject'))(q);}else{this.$AdsGoalStoreClass4[this.constructKeyFromData(q,q.eventSourceID)]=q;this.$AdsGoalStoreClass5[q.id]=new (c('ImmutableObject'))(q);}}.bind(this));this.$AdsGoalStoreClass3=c('AdsLoadState').LOADED;this.__emitChange();break;case c('AdsGoalServerActionTypes').CREATED_GOAL:this.$AdsGoalStoreClass9();break;case c('AdsGoalServerActionTypes').DELETE_GOALS:p.feedback.goalList.forEach(function(q){delete this.$AdsGoalStoreClass4[this.constructKeyFromData(q,q.eventSourceID)];delete this.$AdsGoalStoreClass5[q.id];this.$AdsGoalStoreClass1[this.constructKeyFromData(q,q.eventSourceID)]=q;this.$AdsGoalStoreClass2[q.id]=new (c('ImmutableObject'))(q);}.bind(this));this.__emitChange();break;case c('AdsGoalViewActionTypes').TOGGLE_TABLE_SELECTION:this.$AdsGoalStoreClass10(p.data.selectedIDs);this.__emitChange();break;case c('AdsActionTypes').ACCOUNT.SELECT:this.$AdsGoalStoreClass8();this.__emitChange();break;}};m.prototype.constructKeyFromData=function(o,p){var q=o.rule||o.pixel_rule,r=o.aggregation_rule||o.pixel_aggregation_rule,s=o.retention_days;return r!=null&&r!==''?(p||'')+'_'+q+'_'+r+'_'+s:(p||'')+'_'+q;};m.prototype.getGoal=function(o){var p=this.constructKeyFromData(o,o.pixel_id);return this.$AdsGoalStoreClass4[p]?this.$AdsGoalStoreClass4[p]:null;};m.prototype.getArchivedGoal=function(o){var p=this.constructKeyFromData(o,o.pixel_id);return this.$AdsGoalStoreClass1[p]?this.$AdsGoalStoreClass1[p]:null;};m.prototype.getArchivedGoals=function(){if(this.$AdsGoalStoreClass3===c('AdsLoadState').NOT_LOADED){this.$AdsGoalStoreClass3=c('AdsLoadState').LOADING;c('AdsGoalGraphAPI').loadGoals();}return this.$AdsGoalStoreClass1;};m.prototype.getGoalListByPixelID=function(o){return c('AdsCustomConversionsUtil').getCustomConversionsMatchedPixel(this.$AdsGoalStoreClass11(),o);};m.prototype.getGoalByID=function(o){var p=this.getGoals();for(var q in p)if(p[q].id===o)return p[q];return null;};m.prototype.hasGoals=function(){return Object.keys(this.$AdsGoalStoreClass4).length>0;};m.prototype.getGoals=function(){if(this.$AdsGoalStoreClass3===c('AdsLoadState').NOT_LOADED){this.$AdsGoalStoreClass3=c('AdsLoadState').LOADING;c('AdsGoalGraphAPI').loadGoals();}return this.$AdsGoalStoreClass4;};m.prototype.getGoalsByPixelID=function(o){if(!o)return null;var p=this.getGoals();return Object.keys(p).filter(function(q){return p[q].pixelID===o;}).reduce(function(q,r){q[r]=p[r];return q;},{});};m.prototype.getGoalListByID=function(){if(this.$AdsGoalStoreClass3===c('AdsLoadState').NOT_LOADED){this.$AdsGoalStoreClass3=c('AdsLoadState').LOADING;c('AdsGoalGraphAPI').loadGoals();}return this.$AdsGoalStoreClass5;};m.prototype.getArchivedGoalListByID=function(){if(this.$AdsGoalStoreClass3===c('AdsLoadState').NOT_LOADED){this.$AdsGoalStoreClass3=c('AdsLoadState').LOADING;c('AdsGoalGraphAPI').loadGoals();}return this.$AdsGoalStoreClass2;};m.prototype.getActiveAndArchivedGoalListByID=function(){return babelHelpers['extends']({},this.getArchivedGoalListByID(),this.getGoalListByID());};m.prototype.getGoalName=function(o){return c('getByPath')(this.getGoalListByID()[o]||{},['name']);};m.prototype.getArchivedGoalName=function(o){return c('getByPath')(this.getArchivedGoalListByID()[o]||{},['name']);};m.prototype.$AdsGoalStoreClass12=function(){return Object.keys(this.getGoals()).map(function(o){return this.$AdsGoalStoreClass4[o].id;}.bind(this));};m.prototype.$AdsGoalStoreClass11=function(){var o=c('AdsAccountStoreWrapper_DEPRECATED').getAccountID(),p=this.getGoals();return Object.keys(p).map(function(q){var r=p[q],s=r.category,t=r.id,u=r.offline_conversion_data_set&&r.offline_conversion_data_set.id,v=r.pixel&&r.pixel.id,w=r.eventSourceID,x=r.eventSourceType,y=r.actionTypePrefix,z=r.name,aa=r.lastFiredTime||'',ba=r.aggregation_rule,ca=r.rule,da=r.retention_days,ea=r.selected,fa=void 0,ga=void 0;if(v){fa=c('AdsPixelStore').getName(v);ga=c('XAdsManagerPixelsController').getURIBuilder().setInt('act',o).setInt('pixel_id',v).getURI();}else if(u)if(l==null){c('Bootloader').loadModules(["SignalsDSStore"],function(ja){return l=ja;},'AdsGoalStore');}else{var ha=l.get(u).getValue();if(ha!=null)fa=ha.name;}var ia=aa;return {actionTypePrefix:y,aggregationRule:ba,category:s,customConversionID:t,dataSetID:u,eventSourceID:w,eventSourceType:x,id:q,lastFiredTime:aa,name:z,pixelAggregationRule:ba,pixelID:v,pixelRule:ca,retentionDays:da,rule:ca,selected:ea,source:fa,sourceUri:ga,status:ia};});};m.prototype.$AdsGoalStoreClass13=function(){return this.$AdsGoalStoreClass11().map(function(o){var p=c('AdsGoalStatsStore').getConversionStatsByDateChoices(c('AdsPixelStatsTypes').TRAFFIC,o.customConversionID);o.activity=p.LAST_14_DAYS&&p.LAST_14_DAYS.pixel_fire||0;return o;});};m.prototype.getGoalListLength=function(){return this.$AdsGoalStoreClass11().length;};m.prototype.getSortedGoals=function(){return c('AdsCustomConversionsUtil').sort(this.$AdsGoalStoreClass13(),c('AdsGoalTableSettingStore').getSortDataKey().toLowerCase(),c('AdsGoalTableSettingStore').getSortStatus());};m.prototype.getTimeFilteredGoals=function(o,p){var q=p||new Date();return this.$AdsGoalStoreClass11().filter(function(r){return c('AdsCustomConversionsUtil').filterByTime(r,o,q);});};m.prototype.getShouldShowUpsellCard=function(o){return this.getGoalListByPixelID(o).length===0;};m.prototype.isGoalListLoaded=function(){return this.$AdsGoalStoreClass3===c('AdsLoadState').LOADED;};m.prototype.$AdsGoalStoreClass10=function(o){Object.keys(this.$AdsGoalStoreClass4).forEach(function(p){if(o.indexOf(p)>-1)this.$AdsGoalStoreClass4[p].selected=!this.$AdsGoalStoreClass4[p].selected;}.bind(this));};m.prototype.$AdsGoalStoreClass9=function(){this.$AdsGoalStoreClass3=c('AdsLoadState').LOADING;c('AdsGoalGraphAPI').loadGoals();};m.prototype.$AdsGoalStoreClass8=function(){this.$AdsGoalStoreClass3=c('AdsLoadState').NOT_LOADED;this.$AdsGoalStoreClass4={};this.$AdsGoalStoreClass5={};this.$AdsGoalStoreClass1={};this.$AdsGoalStoreClass2={};this.$AdsGoalStoreClass6='';this.$AdsGoalStoreClass7=j;};var n=new m();f.exports=n;}),null);
__d('AdsGoalDeleteContainer.react',['AdproAccountUserPermission','AdsAccountStore','AdsFluxContainer','AdsGoalDeleteContent.react','AdsGoalEditStore','AdsGoalStore','AdsGoalTableSettingStore','FluxStore','React','immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').List;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.getStores=function(){return [c('AdsAccountStore'),c('AdsGoalEditStore'),c('AdsGoalStore'),c('AdsGoalTableSettingStore')];};k.calculateState=function(l,m){var n=c('AdsGoalEditStore').getError(),o=c('AdsGoalTableSettingStore').getSelectedIDs()||'',p=[];o.forEach(function(s){return (p.push(c('AdsGoalStore').getGoalByID(s)));});var q=c('AdsAccountStore').getViewerHasPermission(c('AdproAccountUserPermission').ADMANAGER_WRITE),r=c('AdsGoalEditStore').isEditing();return {customConversions:new j(p),error:n,isDeleting:r,viewerHasPermission:q};};k.prototype.render=function(){return c('React').createElement(c('AdsGoalDeleteContent.react'),this.state);};function k(){h.apply(this,arguments);}f.exports=c('AdsFluxContainer').create(k);}),null);
__d('AdsGoalDraftStore',['AdsDispatcher','AdsGoalCategories','AdsGoalServerActionTypes','AdsGoalViewActionTypes','AdsPixelDialogTypes','AdsPixelViewActionTypes','FluxStore','WebsiteCustomAudienceModel','adsBaseStoreMixin'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$AdsGoalDraftStoreClass10();}j.prototype.$AdsGoalDraftStoreClass10=function(){this.$AdsGoalDraftStoreClass1=new (c('WebsiteCustomAudienceModel').RuleClause)();this.$AdsGoalDraftStoreClass2='';this.$AdsGoalDraftStoreClass3='';this.$AdsGoalDraftStoreClass4='';this.$AdsGoalDraftStoreClass5='url';this.$AdsGoalDraftStoreClass6=false;this.$AdsGoalDraftStoreClass7=false;this.$AdsGoalDraftStoreClass8=null;this.$AdsGoalDraftStoreClass9='';};j.prototype.__onDispatch=function(l){var m=l.action;switch(m.actionType){case c('AdsGoalViewActionTypes').UPDATE_RULE:this.$AdsGoalDraftStoreClass1=m.data.rule;this.__emitChange();break;case c('AdsGoalViewActionTypes').UPDATE_CATEGORY:this.$AdsGoalDraftStoreClass2=m.data.category;this.__emitChange();break;case c('AdsGoalViewActionTypes').UPDATE_NAME:this.$AdsGoalDraftStoreClass3=m.data.name;this.__emitChange();break;case c('AdsGoalViewActionTypes').UPDATE_DESCRIPTION:this.$AdsGoalDraftStoreClass4=m.data.description;this.__emitChange();break;case c('AdsGoalViewActionTypes').SHOW_DESCRIPTION:this.$AdsGoalDraftStoreClass6=true;this.__emitChange();break;case c('AdsGoalViewActionTypes').TOGGLE_VALUE_ROW:this.$AdsGoalDraftStoreClass7=m.data.showValueRow;this.__emitChange();break;case c('AdsGoalViewActionTypes').UPDATE_CONVERSION_VALUE:this.$AdsGoalDraftStoreClass8=m.data.conversionValue;this.__emitChange();break;case c('AdsGoalServerActionTypes').CREATED_GOAL:this.$AdsGoalDraftStoreClass9=m.feedback.goal.id;this.__emitChange();break;case c('AdsPixelViewActionTypes').DIALOG_TYPE_CHANGE:if(m.data.dialogType===c('AdsPixelDialogTypes').NO_DIALOG){this.$AdsGoalDraftStoreClass10();this.__emitChange();}break;}};j.prototype.isRuleValid=function(){return this.$AdsGoalDraftStoreClass1.tokens.length>0;};j.prototype.getRule=function(){return this.$AdsGoalDraftStoreClass1;};j.prototype.getCategory=function(){return this.$AdsGoalDraftStoreClass2;};j.prototype.isCategorySelected=function(){return this.$AdsGoalDraftStoreClass2!=='';};j.prototype.getName=function(){return this.$AdsGoalDraftStoreClass3;};j.prototype.getDescription=function(){return this.$AdsGoalDraftStoreClass4;};j.prototype.getScope=function(){return this.$AdsGoalDraftStoreClass5;};j.prototype.showDescription=function(){return this.$AdsGoalDraftStoreClass6;};j.prototype.showValueRow=function(){return this.$AdsGoalDraftStoreClass7;};j.prototype.getConversionValue=function(){return this.$AdsGoalDraftStoreClass8;};j.prototype.getGoalID=function(){return this.$AdsGoalDraftStoreClass9;};j.prototype.showPotentialWarnings=function(){return false;};var k=new j();f.exports=k;}),null);
__d('AdsCustomConversionEditRuleRow.react',['cx','fbt','AdsCustomConversionRuleInfo.react','AdsCustomConversionsUtil','BUIAdoptionXUIGrayText.react','Layout.react','React','WebsiteCustomAudienceModel','WebsiteCustomAudienceOperators','getByPath','intlList'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column,m=c('React').Component,n=c('React').PropTypes,o=c('WebsiteCustomAudienceModel').Operations,p=c('WebsiteCustomAudienceOperators').URLOperators,q=c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light'},i._(", and"));j=babelHelpers.inherits(r,m);k=j&&j.prototype;function r(s){k.constructor.call(this,s);var t=o.deserializeRule(s.rule),u=c('getByPath')(t,['clauses']),v=u.some(function(aa){return c('getByPath')(aa,['customfield'])!=null;}),w=o.getOperatorLabel(p,c('getByPath')(u[0],['filter'])),x=u.map(function(aa){return (c('getByPath')(aa,['tokens']));}),y=s.rule,z=c('AdsCustomConversionsUtil').isEventBased(y);this.state={isEventRule:z,hasCustomField:v,ruleClauses:u,ruleLabel:w,ruleTokens:x};}r.prototype.render=function(){var s=this.props,t=s.aggregationRule,u=s.rule,v=s.retentionDays,w=this.state,x=w.isEventRule,y=w.hasCustomField,z=x?c('React').createElement(c('AdsCustomConversionRuleInfo.react'),{pixelAggregationRule:t,pixelRule:u,retentionDays:v}):y?this.$AdsCustomConversionEditRuleRow1():this.$AdsCustomConversionEditRuleRow2();return (c('React').createElement(c('Layout.react'),{className:"_2zvf"},c('React').createElement(l,{className:"_2zvg"},c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',weight:'bold'},i._("Rule")))),c('React').createElement(l,{className:"_2zvh"},z)));};r.prototype.$AdsCustomConversionEditRuleRow1=function(){var s=this.props,t=s.rule,u=s.aggregationRule,v=s.retentionDays,w=this.state.ruleClauses,x=c('AdsCustomConversionsUtil').getRuleDisplay(t,u,v,w,null,'url',null,null);return (c('React').createElement('div',null,x));};r.prototype.$AdsCustomConversionEditRuleRow2=function(){var s=this.props,t=s.aggregationRule,u=s.retentionDays,v=this.state.ruleTokens.map(this.$AdsCustomConversionEditRuleRow3,this),w=t?c('React').createElement('div',{className:"_3-8x"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',weight:'bold'},i._("Aggregation")),c('React').createElement('div',null,t)):null,x=u?c('React').createElement('div',{className:"_3-8x"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',weight:'bold'},i._("Retention")),c('React').createElement('div',null,u,' ',i._("days"))):null;return (c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'small',weight:'bold'},i._("Include traffic that meets the following conditions:")),c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'medium',weight:'bold'},i._("{rule type}",[i.param('rule type',this.state.ruleLabel)])),v,w,x));};r.prototype.$AdsCustomConversionEditRuleRow3=function(s,t,u){var v=t===u.length-1,w=v?null:q;return (c('React').createElement('div',{key:t},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-99",shade:'medium'},c('intlList')(s,c('intlList').CONJUNCTIONS.OR)),w));};f.exports=r;}),null);
__d('AdsEventSourceInfo.react',['cx','fbt','AdsPixelStatus','Layout.react','React','SUIText.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PureComponent,m=c('Layout.react').Column;j=babelHelpers.inherits(n,l);k=j&&j.prototype;n.prototype.render=function(){var o=this.props,p=o.id,q=o.lastFiredTime,r=o.name,s=new (c('AdsPixelStatus'))(q||'');return (c('React').createElement(c('Layout.react'),null,c('React').createElement(m,null,s.getIcon()),c('React').createElement(m,{className:"_3-99"},c('React').createElement(c('SUIText.react'),{display:'block',shade:'dark',weight:'bold'},r),c('React').createElement(c('SUIText.react'),{shade:'medium'},i._("ID: {event source id}",[i.param('event source id',p)])))));};function n(){j.apply(this,arguments);}f.exports=n;}),null);
__d('AdsGoalDataSetRow.react',['cx','fbt','AdsEventSourceInfo.react','Layout.react','React','SUIText.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('Layout.react').Column;j=babelHelpers.inherits(n,l);k=j&&j.prototype;n.prototype.render=function(){var o=this.props.dataSet,p=o!=null?c('React').createElement(c('AdsEventSourceInfo.react'),{id:o.id,lastFiredTime:o.lastFiredTime,name:o.name}):c('React').createElement(c('SUIText.react'),{shade:'light'},i._("You no longer have access to the source offline event set"));return (c('React').createElement(c('Layout.react'),{className:"_1l8c"},c('React').createElement(m,{className:"_1l8d"},c('React').createElement(c('SUIText.react'),{shade:'medium',weight:'bold'},i._("Offline event set"))),c('React').createElement(m,null,p)));};function n(){j.apply(this,arguments);}f.exports=n;}),null);
__d('AdsGoalEditCategoryRow.react',['cx','fbt','AdsGoalCategories','BUIAdoptionXUIGrayText.react','Layout.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;n.prototype.render=function(){return (c('React').createElement(c('Layout.react'),{className:"_4dmv"},c('React').createElement(l,{className:"_4dmw"},this.$AdsGoalEditCategoryRow1()),c('React').createElement(l,null,c('React').createElement('div',{className:"_4dmx"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'medium'},this.$AdsGoalEditCategoryRow2())))));};n.prototype.$AdsGoalEditCategoryRow2=function(){return Object.keys(c('AdsGoalCategories')).filter(function(o){return (c('AdsGoalCategories')[o].custom_event_type===this.props.category);}.bind(this)).reduce(function(o,p){return c('AdsGoalCategories')[p].name;},null);};n.prototype.$AdsGoalEditCategoryRow1=function(){return (c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',weight:'bold'},i._("Category"))));};function n(){j.apply(this,arguments);}n.propTypes={category:m.string};f.exports=n;}),null);
__d('AdsGoalEditDescRow.react',['cx','fbt','BUIAdoptionXUIGrayText.react','Layout.react','Link.react','React','XUITextInput.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$AdsGoalEditDescRow1=function(){return (c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',weight:'bold'},i._("Description")));},this.$AdsGoalEditDescRow3=function(){return i._("Add a description");},this.$AdsGoalEditDescRow2=function(event){this.props.onDescriptionEdit(event.target.value);}.bind(this),p;}n.prototype.render=function(){if(!this.props.showDescription)return c('React').createElement(c('Link.react'),{className:"_1cde",onClick:this.props.onShowDescription},i._("Add a description"));return c('React').createElement(c('Layout.react'),{className:"_1cdf"},c('React').createElement(l,{className:"_1cdg"},this.$AdsGoalEditDescRow1()),c('React').createElement(l,null,c('React').createElement(c('XUITextInput.react'),{className:"_1cdh",disabled:this.props.disabled,height:'tall',value:this.props.description,onChange:this.$AdsGoalEditDescRow2})));};n.propTypes={description:m.string,disabled:m.bool,onDescriptionEdit:m.func.isRequired,onShowDescription:m.func.isRequired,showDescription:m.bool.isRequired};f.exports=n;}),null);
__d('AdsGoalEditNameRow.react',['cx','fbt','BUIAdoptionXUIGrayText.react','Layout.react','React','XUITextInput.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$AdsGoalEditNameRow1=function(){return (c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',weight:'bold'},i._("Name")));},this.$AdsGoalEditNameRow2=function(event){this.props.onNameEdit(event.target.value);}.bind(this),p;}n.prototype.render=function(){return c('React').createElement(c('Layout.react'),{className:"_4m5r"},c('React').createElement(l,{className:"_4m5s"},this.$AdsGoalEditNameRow1()),c('React').createElement(l,null,c('React').createElement(c('XUITextInput.react'),{className:"_4m5t",disabled:this.props.disabled,height:'tall',value:this.props.name,onChange:this.$AdsGoalEditNameRow2})));};n.propTypes={disabled:m.bool,name:m.string,onNameEdit:m.func.isRequired};f.exports=n;}),null);
__d('AdsPixelPickerViewActions',['AdsInterfacesLogger','AdsDispatcher','AdsPixelLoggingPrefix','AdsPixelViewActionTypes','AdsTargetingViewActionsLogger'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsTargetingViewActionsLogger').attachLog({initialize:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({data:{pixelID:j},type:c('AdsPixelViewActionTypes').INITIALIZE_PIXEL_PICKER});c('AdsInterfacesLogger').log({eventName:c('AdsPixelViewActionTypes').INITIALIZE_PIXEL_PICKER},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);},setPixelID:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({data:{pixelID:j},type:c('AdsPixelViewActionTypes').OUTCOME_BASE_PIXEL_CHANGE});c('AdsInterfacesLogger').log({eventName:c('AdsPixelViewActionTypes').OUTCOME_BASE_PIXEL_CHANGE},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);},disablePixelPicker:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsPixelViewActionTypes').DISABLE_PIXEL_PICKER});c('AdsInterfacesLogger').log({eventName:c('AdsPixelViewActionTypes').DISABLE_PIXEL_PICKER},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);}},{prefix:c('AdsPixelLoggingPrefix').PIXEL_PICKER_VIEW_ACTION_});f.exports=h;}),null);
__d('AdsPixelInfo.react',['cx','fbt','AdsPixelStatus','AdsPixelStore','AdsPixelPickerViewActions','BUIAdoptionXUIGrayText.react','FluxMixinLegacy','Layout.react','React','ReactComponentWithPureRenderMixin','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('Layout.react').Column,k=c('React').PropTypes,l=c('React').createClass({displayName:'AdsPixelInfo',mixins:[c('ReactComponentWithPureRenderMixin'),c('FluxMixinLegacy')([c('AdsPixelStore')],{withProps:true})],propTypes:{className:k.string,pixelID:k.string.isRequired},statics:{calculateState:function m(n,o){return {pixelName:c('AdsPixelStore').getName(o.pixelID),pixelStatus:new (c('AdsPixelStatus'))(c('AdsPixelStore').getPixelLastFiringTime(o.pixelID))};}},componentWillUpdate:function m(){c('AdsPixelPickerViewActions').initialize(this.props.pixelID);},render:function m(){return (c('React').createElement(c('Layout.react'),{className:c('joinClasses')("_4kj",this.props.className)},c('React').createElement(j,{className:"_4kk"},this.state.pixelStatus.getIcon()),c('React').createElement(j,{className:"_4kl"},c('React').createElement('div',{className:"_4evt"},this.state.pixelName),c('React').createElement('div',{className:"_4kp"},i._("Pixel ID: {pixel id}",[i.param('pixel id',this.props.pixelID)])))));}});f.exports=l;}),null);
__d('AdsPixelPickerStore',['AdsDispatcher','AdsPixelDialogTypes','AdsPixelViewActionTypes','FluxStore','adsBaseStoreMixin'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$AdsPixelPickerStoreClass2=false;}j.prototype.getStoreName=function(){return 'AdsPixelPickerStore';};j.prototype.__onDispatch=function(l){var m=l.action;switch(m.actionType){case c('AdsPixelViewActionTypes').DIALOG_TYPE_CHANGE:if(m.data.dialogType===c('AdsPixelDialogTypes').NO_DIALOG){this.$AdsPixelPickerStoreClass2=false;this.__emitChange();}break;case c('AdsPixelViewActionTypes').OUTCOME_BASE_PIXEL_CHANGE:if(m.data.pixelID&&m.data.pixelID!==this.$AdsPixelPickerStoreClass1){this.$AdsPixelPickerStoreClass1=m.data.pixelID;this.__emitChange();}break;case c('AdsPixelViewActionTypes').DISABLE_PIXEL_PICKER:this.$AdsPixelPickerStoreClass2=true;this.__emitChange();break;}};j.prototype.getCurrentPixelID=function(){return this.$AdsPixelPickerStoreClass1;};j.prototype.setCurrentPixelID=function(l){this.$AdsPixelPickerStoreClass1=l;};j.prototype.isPickerDisabled=function(){return this.$AdsPixelPickerStoreClass2;};var k=new j();f.exports=k;}),null);
__d('AdsPixelDateStore',['invariant','AdsCMActionTypes','AdsDispatcher','AdsPixelDateChoices','AdsPixelViewActionTypes','AdsCMURLParams','FluxStore','adsBaseStoreMixin'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k='LAST_7_DAYS';i=babelHelpers.inherits(l,c('FluxStore'));j=i&&i.prototype;function l(){j.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$AdsPixelDateStoreClass1={choice:k};}l.prototype.getStoreName=function(){return 'AdsPixelDateStore';};l.prototype.__onDispatch=function(n){var o=n.action,p=this.$AdsPixelDateStoreClass2(o);if(this.$AdsPixelDateStoreClass1.choice!=p&&p in c('AdsPixelDateChoices')){this.$AdsPixelDateStoreClass1.choice=p;this.__emitChange();}};l.prototype.$AdsPixelDateStoreClass2=function(n){switch(n.actionType){case c('AdsCMActionTypes').INIT_FROM_URL:var o=n.data.uri.getQueryData();return o[c('AdsCMURLParams').PIXEL_DATE_CHOICE];case c('AdsPixelViewActionTypes').UPDATE_DATE_PICKER_SETTING:return n.data.choice;}Object.assign(this.$AdsPixelDateStoreClass1,n.data);};l.prototype.toURLParams=function(){if(this.$AdsPixelDateStoreClass1.choice===k)return {};var n={};n[c('AdsCMURLParams').PIXEL_DATE_CHOICE]=this.$AdsPixelDateStoreClass1.choice;return n;};l.prototype.getCurrentChoice=function(){this.$AdsPixelDateStoreClass1.choice in c('AdsPixelDateChoices')||h(0);return this.$AdsPixelDateStoreClass1.choice;};var m=new l();f.exports=m;}),null);
__d('AdsPixelTableColumnDataKey',[],(function a(b,c,d,e,f,g){'use strict';var h={NAME:'name',DOMAIN:'domains',TRAFFIC:'traffic',STATUS:'last_fired_time',USER:'matches',SHARE:'owner_business',VALUE:'value'};f.exports=h;}),null);
__d('adsDataSourceTableSort',['AdsPixelDateStore','AdsPixelTableColumnDataKey'],(function a(b,c,d,e,f,g){'use strict';function h(j){this.$AdsDataSourceTableSortClass1=Object.keys(j).map(function(k){return j[k];});}h.prototype.sort=function(j,k){this.$AdsDataSourceTableSortClass1.sort(function(l,m){var n=l[j]||'',o=m[j]||'';return this.$AdsDataSourceTableSortClass2(n,o,j)*(k==='ASC'?1:-1);}.bind(this));return this.$AdsDataSourceTableSortClass1;};h.prototype.$AdsDataSourceTableSortClass2=function(j,k,l){var m=j,n=k;switch(l){case c('AdsPixelTableColumnDataKey').TRAFFIC:case c('AdsPixelTableColumnDataKey').USER:var o=c('AdsPixelDateStore').getCurrentChoice();m=m[o]||0;n=n[o]||0;break;case c('AdsPixelTableColumnDataKey').VALUE:m=m.toLowerCase();n=n.toLowerCase();return m.localeCompare(n);}if(m>n){return 1;}else if(m<n){return -1;}else return 0;};var i=function j(k,l,m){return new h(k).sort(l,m);};f.exports=i;}),null);
__d('AdsPixelDetailStore',['invariant','AdsAccountStoreWrapper_DEPRECATED','AdsDispatcher','AdsPixelDataManager','AdsPixelDateChoices','AdsPixelDevices','AdsPixelServerActionTypes','AdsPixelStats','AdsPixelStatsTypes','DateTime','FluxStore','immutable','Timezone','adsBaseStoreMixin','adsDataSourceTableSort','dotAccess'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k='count',l='DESC',m=24*60*60*1000,n='value',o=7*m;i=babelHelpers.inherits(p,c('FluxStore'));j=i&&i.prototype;function p(){j.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$AdsPixelDetailStoreClass1={traffic:{},domain:{},url:{},event:{},device:{}};this.$AdsPixelDetailStoreClass2={domain:{},url:{},device:{}};this.$AdsPixelDetailStoreClass3={};this.$AdsPixelDetailStoreClass4={};this.$AdsPixelDetailStoreClass5={};this.$AdsPixelDetailStoreClass6={};}p.prototype.getStoreName=function(){return 'AdsPixelDetailStore';};p.prototype.__onDispatch=function(r){var s=r.action;switch(s.actionType){case c('AdsPixelServerActionTypes').RECEIVE_PIXEL_AUDIENCE:this.$AdsPixelDetailStoreClass7(s.feedback.pixelID,s.feedback.audiences,s.feedback.hasLoadAll);this.__emitChange();break;case c('AdsPixelServerActionTypes').RECEIVE_PIXEL_STATS:this.$AdsPixelDetailStoreClass8(s.statsType,s.feedback.pixelID,s.feedback.stats);this.__emitChange();break;case c('AdsPixelServerActionTypes').RECEIVE_PIXEL_STATS_BY_EVENT:this.$AdsPixelDetailStoreClass9(s.statsType,s.feedback.pixelID,s.event,s.feedback.stats);this.__emitChange();break;case c('AdsPixelServerActionTypes').RECEIVE_PIXEL_PARAMETERS:this.$AdsPixelDetailStoreClass10(s.feedback.event,s.feedback.pixelID,s.feedback.stats);this.__emitChange();break;case c('AdsPixelServerActionTypes').RECEIVE_PIXEL_ACCOUNTS:this.$AdsPixelDetailStoreClass11(s.feedback.pixelID,s.feedback.accounts);this.__emitChange();break;case c('AdsPixelServerActionTypes').RECEIVE_PIXEL_UNIQUE_USER_STATS:this.$AdsPixelDetailStoreClass12(s.feedback.pixelID,s.feedback.uniqueUserData);this.__emitChange();break;}};p.prototype.hasLoadAllPixelAudiences=function(r){return !!c('dotAccess')(this.$AdsPixelDetailStoreClass13(r),'hasLoadAllAudiences');};p.prototype.$AdsPixelDetailStoreClass10=function(event,r,s){var t=r.concat('_',event);this.$AdsPixelDetailStoreClass6[t]=s;};p.prototype.getPixelAudiences=function(r){var s=this.$AdsPixelDetailStoreClass13(r);return c('dotAccess')(s,'audiences')||[];};p.prototype.$AdsPixelDetailStoreClass13=function(r){if(!(r in this.$AdsPixelDetailStoreClass3)){this.$AdsPixelDetailStoreClass3[r]=undefined;c('AdsPixelDataManager').loadAudiences(r);}return c('dotAccess')(this.$AdsPixelDetailStoreClass3,r)||{};};p.prototype.getPixelSharedAccounts=function(r,s){if(!(r in this.$AdsPixelDetailStoreClass4)&&s){this.$AdsPixelDetailStoreClass4[r]=undefined;c('AdsPixelDataManager').loadPixelAccounts(r,s);}return c('dotAccess')(this.$AdsPixelDetailStoreClass4,r)||[];};p.prototype.getFireChartData=function(r,s){var t=this.getPixelStats(c('AdsPixelStatsTypes').TRAFFIC,r);return t?t.getFireChartData(s):{};};p.prototype.getPaddedFireChartData=function(r,s,t){var u=[],v={},w=this.getFireChartData(r);w=w.pixel_fire||[];for(var x=0;x<w.length;x++)v[w[x].datetime]=w[x].value;for(var y=s;y<=t;y+=m)u.push({datetime:y/1000,value:v[y]||0});return u;};p.prototype.getPaddedFireChartDataByEvent=function(r,event,s,t){var u,v=[],w=this.getPixelStats(c('AdsPixelStatsTypes').EVENT,r,false);w=w?w.getData().map(function(z){var aa=z.timestamp,ba=z.data;return [c('DateTime').fromISOString(aa.substring(0,10),c('Timezone').UTC).getUnixTimestamp(),ba];}).reduce(function(z,aa){var ba=aa[0],ca=aa[1];return ca.reduce(function(da,ea){var fa=ea.value,ga=ea.count;return da.set(fa,da.get(fa,c('immutable').Map()).set(ba,da.get(fa,c('immutable').Map()).get(ba,0)+ga));},z);},c('immutable').Map()).get(event,c('immutable').Map()):c('immutable').Map();var x=function z(aa){var ba=aa===t,ca=w.find(function(da,ea){return ea===aa;});v.push({count:ca||0,date:aa/1000,$AdsPixelDetailStoreClass14:{className:ba?'dashed':''}});};for(var y=s;y<=t;y+=m)x(y);return v;};p.prototype.getUserChartData=function(r){if(!(r in this.$AdsPixelDetailStoreClass5)){this.$AdsPixelDetailStoreClass5[r]={};c('AdsPixelDataManager').loadUniqueUser(r);}return this.$AdsPixelDetailStoreClass5[r];};p.prototype.getTrafficMaxTimestamp=function(r,s){var t=this.getPixelStats(c('AdsPixelStatsTypes').TRAFFIC,r);return t?t.getMaxTimestamp(s):Date.now();};p.prototype.getSortedStatsListForDateChoice=function(r,s,t,u,v){var w=this.getPixelStats(s,r);return this.$AdsPixelDetailStoreClass15(w,t,u,v);};p.prototype.getSortedStatsListForDateChoiceAndEventAndBreakdown=function(r,s,event,t,u,v){var w=c('AdsPixelDateChoices')[t].startTime.getTime(),x=c('AdsPixelDateChoices')[t].startTime.getTime()+o,y=this.getPixelStatsByEvent(s,r,event,false),z=y?y.getAggregationForAllDateChoices()[t]:null,aa=y?y.getFireChartData():null,ba=u===n||u===k?u:k,ca=z&&aa?Object.keys(z).map(function(da){var ea,fa=aa[da],ga=[],ha=function ja(ka){var la=ka===x,ma=fa.find(function(na){return na.datetime===ka;});ga.push({count:ma?ma.value:0,date:ka/1000,$AdsPixelDetailStoreClass14:{className:la?'dashed':''}});};for(var ia=w;ia<=x;ia+=m)ha(ia);return {count:z[da],value:s===c('AdsPixelStatsTypes').DEVICE?c('AdsPixelDevices')[da].userFacingValue.toString():da,activity:ga};}).sort(function(da,ea){return ba===n?da[n].localeCompare(ea[n]):da[ba]-ea[ba];}):null;return ca&&v===l?ca.reverse():ca;};p.prototype.getPixelStats=function(r,s){var t=arguments.length<=2||arguments[2]===undefined?true:arguments[2];this.$AdsPixelDetailStoreClass16(r);if(!(s in this.$AdsPixelDetailStoreClass1[r])){this.$AdsPixelDetailStoreClass1[r][s]=undefined;c('AdsPixelDataManager').loadStats(r,s,t);}return this.$AdsPixelDetailStoreClass1[r][s];};p.prototype.getPixelStatsByEvent=function(r,s,event){var t=arguments.length<=3||arguments[3]===undefined?true:arguments[3];this.$AdsPixelDetailStoreClass17(r);if(!(s in this.$AdsPixelDetailStoreClass2[r]))this.$AdsPixelDetailStoreClass2[r][s]={};if(!(event in this.$AdsPixelDetailStoreClass2[r][s])){this.$AdsPixelDetailStoreClass2[r][s][event]=undefined;c('AdsPixelDataManager').loadStatsByEvent(r,s,event,t);}return this.$AdsPixelDetailStoreClass2[r][s][event];};p.prototype.arePixelAudiencesLoaded=function(r){return (r in this.$AdsPixelDetailStoreClass3&&this.$AdsPixelDetailStoreClass3[r]!==undefined);};p.prototype.isPixelStatsLoaded=function(r,s){this.$AdsPixelDetailStoreClass16(r);return (s in this.$AdsPixelDetailStoreClass1[r]&&this.$AdsPixelDetailStoreClass1[r][s]!==undefined);};p.prototype.isPixelStatsByEventLoaded=function(r,s,event){this.$AdsPixelDetailStoreClass16(r);return (s in this.$AdsPixelDetailStoreClass2[r]&&event in this.$AdsPixelDetailStoreClass2[r][s]&&this.$AdsPixelDetailStoreClass2[r][s][event]!==undefined);};p.prototype.$AdsPixelDetailStoreClass15=function(r,s,t,u){if(!r)return [];var v=r.getTableDataForAllDateChoices();return c('adsDataSourceTableSort')(v[s],t,u);};p.prototype.$AdsPixelDetailStoreClass7=function(r,s,t){this.$AdsPixelDetailStoreClass3[r]={audiences:s,hasLoadAllAudiences:t};};p.prototype.$AdsPixelDetailStoreClass11=function(r,s){var t=[];s.forEach(function(u){if(u.account_id!==c('AdsAccountStoreWrapper_DEPRECATED').getAccountID())t.push(u);});this.$AdsPixelDetailStoreClass4[r]=t;};p.prototype.$AdsPixelDetailStoreClass8=function(r,s,t){if(!(r in this.$AdsPixelDetailStoreClass1))return;this.$AdsPixelDetailStoreClass1[r][s]=new (c('AdsPixelStats'))(t,r);};p.prototype.$AdsPixelDetailStoreClass9=function(r,s,event,t){this.$AdsPixelDetailStoreClass2[r][s][event]=new (c('AdsPixelStats'))(t,r);};p.prototype.$AdsPixelDetailStoreClass12=function(r,s){Object.keys(s).forEach(function(t){var u=new Date(t*1000);u=new Date(Date.UTC(u.getFullYear(),u.getMonth(),u.getDate()));Object.keys(s[t]).forEach(function(v){this.$AdsPixelDetailStoreClass5[r][v]=this.$AdsPixelDetailStoreClass5[r][v]||[];this.$AdsPixelDetailStoreClass5[r][v].push({datetime:u.getTime(),value:s[t][v]});}.bind(this));}.bind(this));};p.prototype.$AdsPixelDetailStoreClass16=function(r){r in this.$AdsPixelDetailStoreClass1||h(0);};p.prototype.$AdsPixelDetailStoreClass17=function(r){r in this.$AdsPixelDetailStoreClass2||h(0);};var q=new p();f.exports=q;}),null);
__d('BrandPixelServerActionTypes.brands',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h={CLEAR_ERROR:'',BUSINESS_PIXEL_CREATED:'',RECEIVE_ERROR:'',RECEIVE_PIXEL_SHARED_ACCOUNTS:'',RECEIVE_PIXEL_SHARED_AGENCIES:'',RECEIVE_PIXELS:'',REMOVE_PIXEL_SHARED_ACCOUNT:'',REMOVE_PIXEL_SHARED_AGENCY:''},i=c('keyMirrorRecursive')(h,'BRAND_PIXEL_SERVER_ACTION');f.exports=i;}),null);
__d('BrandPixelStore.brands',['AdsDispatcher','AdsLoadState','AppConstants.brands','Bootloader','BrandPixelServerActionTypes.brands','FluxStore','ImmutableObject','adsBaseStoreMixin','dotAccess'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('AppConstants.brands').ACCESS_TYPE,k=c('AppConstants.brands').ASSET_TYPE,l=c('AppConstants.brands').OBJECT_STATUS,m=c('AppConstants.brands').REQUESTED_ASSET_STATUS;h=babelHelpers.inherits(n,c('FluxStore'));i=h&&h.prototype;function n(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$BrandPixelStoreClass8();}n.prototype.getStoreName=function(){return 'BrandPixelStore.brands';};n.prototype.__onDispatch=function(p){var q=p.action;switch(q.actionType){case c('BrandPixelServerActionTypes.brands').RECEIVE_PIXELS:this.$BrandPixelStoreClass9(q.feedback);this.$BrandPixelStoreClass1=c('AdsLoadState').LOADED;this.__emitChange();break;case c('BrandPixelServerActionTypes.brands').BUSINESS_PIXEL_CREATED:this.$BrandPixelStoreClass9(q.feedback);this.$BrandPixelStoreClass1=c('AdsLoadState').LOADED;this.__emitChange();break;case c('BrandPixelServerActionTypes.brands').RECEIVE_PIXEL_SHARED_ACCOUNTS:this.$BrandPixelStoreClass10(q.feedback);this.__emitChange();break;case c('BrandPixelServerActionTypes.brands').RECEIVE_PIXEL_SHARED_AGENCIES:this.$BrandPixelStoreClass11(q.feedback);this.__emitChange();break;case c('BrandPixelServerActionTypes.brands').REMOVE_PIXEL_SHARED_ACCOUNT:this.$BrandPixelStoreClass12(q.feedback.pixelID,q.feedback.adAccountID);this.__emitChange();break;case c('BrandPixelServerActionTypes.brands').REMOVE_PIXEL_SHARED_AGENCY:this.$BrandPixelStoreClass13(q.feedback.pixelID,q.feedback.agencyID);this.__emitChange();break;}};n.prototype.getPixelList=function(p){if(this.$BrandPixelStoreClass1===c('AdsLoadState').NOT_LOADED){this.$BrandPixelStoreClass1=c('AdsLoadState').LOADING;c('Bootloader').loadModules(["AdsPixelBrandsDataManager.brands"],function(q){q.loadPixels(p);},'BrandPixelStore.brands');}return this.$BrandPixelStoreClass3;};n.prototype.getBrandPixelsByID=function(){return this.$BrandPixelStoreClass2;};n.prototype.getPixelInfo=function(p){return p&&c('dotAccess')(this.$BrandPixelStoreClass2,p)||{};};n.prototype.getName=function(p){return p&&c('dotAccess')(this.$BrandPixelStoreClass2,p+'.name')||'';};n.prototype.getPixelLastFiringTime=function(p){return c('dotAccess')(this.$BrandPixelStoreClass2,p+'.lastActive')||'';};n.prototype.getSharedAdAccounts=function(p){if(!(p in this.$BrandPixelStoreClass4))return {};return this.$BrandPixelStoreClass4[p];};n.prototype.getSharedAgencies=function(p){if(!(p in this.$BrandPixelStoreClass6))return {};return this.$BrandPixelStoreClass6[p];};n.prototype.areSharedAdAccountsLoaded=function(p){return p in this.$BrandPixelStoreClass5&&this.$BrandPixelStoreClass5[p];};n.prototype.setSharedAgenciesLoaded=function(p){this.$BrandPixelStoreClass7[p]=true;};n.prototype.areSharedAgenciesLoaded=function(p){return p in this.$BrandPixelStoreClass7&&this.$BrandPixelStoreClass7[p];};n.prototype.isSharedWithAdAccount=function(p,q){return q in this.$BrandPixelStoreClass4&&p in this.$BrandPixelStoreClass4[q];};n.prototype.isSharedWithAgency=function(p,q){return q in this.$BrandPixelStoreClass6&&p in this.$BrandPixelStoreClass6[q];};n.prototype.isPixelListInitialized=function(){return this.$BrandPixelStoreClass1===c('AdsLoadState').LOADED;};n.prototype.getPixelListLoadState=function(){return this.$BrandPixelStoreClass1;};n.prototype.$BrandPixelStoreClass12=function(p,q){if(!(p in this.$BrandPixelStoreClass4)||!(q in this.$BrandPixelStoreClass4[p]))return;delete this.$BrandPixelStoreClass4[p][q];};n.prototype.$BrandPixelStoreClass13=function(p,q){if(!(p in this.$BrandPixelStoreClass6)||!(q in this.$BrandPixelStoreClass6[p]))return;delete this.$BrandPixelStoreClass6[p][q];};n.prototype.$BrandPixelStoreClass9=function(p){p.pixelList.forEach(function(q){var r=j.OWNER,s=q.owner_business;if(!s||p.businessID!==s.id)r=j.AGENCY;var t=new (c('ImmutableObject'))({accessType:r,assetType:k.PIXEL,business:s,id:q.id,isCreatedByBusiness:q.is_created_by_business,lastActive:q.last_fired_time,name:q.name,objectStatus:l.CREATING,status:m.PENDING});if(!this.$BrandPixelStoreClass2[q.id])this.$BrandPixelStoreClass3.push(t);this.$BrandPixelStoreClass2[q.id]=t;}.bind(this));this.$BrandPixelStoreClass1=c('AdsLoadState').LOADED;};n.prototype.$BrandPixelStoreClass10=function(p){var q=this.$BrandPixelStoreClass4[p.pixelID]||{};p.sharedAdAccounts.forEach(function(r){var s=new (c('ImmutableObject'))({account_id:r.account_id,assetType:k.AD_ACCOUNT,business:r.owner_business,id:r.id,name:r.name});q[r.account_id]=s;});this.$BrandPixelStoreClass14(p.pixelID);this.$BrandPixelStoreClass4[p.pixelID]=q;};n.prototype.$BrandPixelStoreClass11=function(p){var q=this.$BrandPixelStoreClass6[p.pixelID]||{};p.sharedAgencies.forEach(function(r){var s=new (c('ImmutableObject'))({business:r,id:r.id,name:r.name,picture:r.picture});q[r.id]=s;});this.$BrandPixelStoreClass6[p.pixelID]=q;};n.prototype.$BrandPixelStoreClass14=function(p){this.$BrandPixelStoreClass5[p]=true;};n.prototype.$BrandPixelStoreClass8=function(){this.$BrandPixelStoreClass1=c('AdsLoadState').NOT_LOADED;this.$BrandPixelStoreClass2={};this.$BrandPixelStoreClass3=[];this.$BrandPixelStoreClass4={};this.$BrandPixelStoreClass5={};this.$BrandPixelStoreClass6={};this.$BrandPixelStoreClass7={};};var o=new n();f.exports=o;}),null);
__d('AdsPixelStoreWrapper',['AdsAccountStoreWrapper_DEPRECATED','AdsDataSourceTables','AdsPixelDetailStore','AdsPixelPickerStore','AdsPixelStatsTypes','AdsPixelStore','AdsPixelTableColumnDataKey','AdsPixelTableSettingStore','BrandPixelStore.brands','adsDataSourceTableSort','getByPath'],(function a(b,c,d,e,f,g){'use strict';var h={getPixelSharedAccounts:function i(j){var k=c('getByPath')(c('AdsPixelStore').getPixelInfo(j),['owner_business','id']);return c('AdsPixelDetailStore').getPixelSharedAccounts(j,k);},getSortedPixels:function i(){var j=c('AdsPixelTableSettingStore').getSortDataKey(c('AdsDataSourceTables').PIXEL),k=c('AdsPixelTableSettingStore').getSortStatus(c('AdsDataSourceTables').PIXEL),l=this._getPixels();return c('adsDataSourceTableSort')(l,j,k);},getTotalMatchForDateChoice:function i(j,k){var l=(c('AdsPixelTableColumnDataKey').USER+'.'+k).split('.');return c('getByPath')(this._getPixel(j),l);},getPixelCode:function i(j){return c('getByPath')(this._getPixel(j),['code']);},getCurrentPixelID:function i(){return c('AdsPixelPickerStore').getCurrentPixelID()||this._getPixelIDs()[0];},getTotalTrafficForDateChoice:function i(j,k){var l=(c('AdsPixelTableColumnDataKey').TRAFFIC+'.'+k).split('.');return c('getByPath')(this._getPixel(j),l);},getPixelName:function i(j){return c('getByPath')(this._getPixel(j),['name']);},getIsTableDataLoaded:function i(){return (c('AdsPixelStore').isListLoaded()&&Object.keys(this._getPixels()).filter(function(j){return !this.getPixelStatsLoaded(j);}.bind(this)).length===0);},getPixelStatsLoaded:function i(j){return (c('AdsPixelDetailStore').isPixelStatsLoaded(c('AdsPixelStatsTypes').DOMAIN,j)&&c('AdsPixelDetailStore').isPixelStatsLoaded(c('AdsPixelStatsTypes').TRAFFIC,j));},_getPixelIDs:function i(){return c('AdsAccountStoreWrapper_DEPRECATED').getAccountID()?c('AdsPixelStore').getPixelIDs():Object.keys(c('BrandPixelStore.brands').getBrandPixelsByID());},_getPixels:function i(){var j=this._getPixelIDs(),k={};j.forEach(function(l){k[l]=this._getPixel(l);}.bind(this));return k;},_getPixel:function i(j){var k=c('AdsPixelStore').getPixelInfo(j),l=c('AdsPixelDetailStore').getPixelStats(c('AdsPixelStatsTypes').DOMAIN,j);k[c('AdsPixelTableColumnDataKey').DOMAIN]=l&&l.getTopKeys();var m=c('AdsPixelDetailStore').getPixelStats(c('AdsPixelStatsTypes').TRAFFIC,j);if(!m)return k;var n={},o={},p=m.getAggregationForAllDateChoices();Object.keys(p).forEach(function(q){n[q]=p[q].pixel_fire;o[q]=p[q].user_match;});k[c('AdsPixelTableColumnDataKey').TRAFFIC]=n;k[c('AdsPixelTableColumnDataKey').USER]=o;return k;}};f.exports=h;}),null);
__d('AdsPixelPicker.react',['cx','AdsPixelInfo.react','AdsPixelPickerStore','AdsPixelPickerViewActions','AdsPixelStatus','AdsPixelStore','AdsPixelStoreWrapper','AdsRichSelector.react','BUIAdoptionXUIGrayText.react','FluxMixinLegacy','Layout.react','React','ReactComponentWithPureRenderMixin'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('Layout.react').Column,j=c('AdsRichSelector.react').Option,k=c('React').PropTypes,l=c('React').createClass({displayName:'AdsPixelPicker',mixins:[c('ReactComponentWithPureRenderMixin'),c('FluxMixinLegacy')([c('AdsPixelStore'),c('AdsPixelPickerStore')],{withProps:true})],propTypes:{selectedPixelID:k.string.isRequired,size:k.string,onChange:k.func},statics:{calculateState:function m(n,o){var p=o.selectedPixelID||c('AdsPixelStoreWrapper').getCurrentPixelID(),q=p&&c('AdsPixelStore').getName(p),r=p&&new (c('AdsPixelStatus'))(c('AdsPixelStore').getPixelLastFiringTime(p)),s=c('AdsPixelStore').getPixelIDs();return {currentPixelID:p,currentPixelName:q,currentPixelStatus:r,pixelIDs:s};}},componentWillUpdate:function m(n,o){if(!!this.state.currentPixelID&&o.currentPixelID===this.state.currentPixelID)c('AdsPixelPickerViewActions').initialize(o.currentPixelID);},render:function m(){if(!this.state.currentPixelID)return null;var n=this.state.pixelIDs.map(function(o){return (c('React').createElement(j,{className:"_1pnw",key:o,value:o},c('React').createElement(c('AdsPixelInfo.react'),{className:"_1pnx",pixelID:o})));});return (c('React').createElement(c('AdsRichSelector.react'),{className:"_4y1r",defaultValue:this.props.selectedPixelID,label:this._getLabel(),maxheight:160,size:this.props.size,onChange:this._onChange},n));},_getLabel:function m(){return (c('React').createElement(c('Layout.react'),{className:"_1pny"},c('React').createElement(i,{className:"_4y1s"},this.state.currentPixelStatus.getIcon()),c('React').createElement(i,{className:"_4y1t"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_4jbv",shade:'dark'},this.state.currentPixelName))));},_onChange:function m(n){this.props.onChange&&this.props.onChange(n.value);c('AdsPixelPickerViewActions').setPixelID(n.value);}});f.exports=l;}),null);
__d('AdsPixelPickerWrapper.react',['AdsPixelInfo.react','AdsPixelPicker.react','AdsPixelPickerStore','AdsPixelStore','AdsPixelStoreWrapper','FluxMixinLegacy','React','ReactComponentWithPureRenderMixin'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'AdsPixelPickerWrapper',mixins:[c('ReactComponentWithPureRenderMixin'),c('FluxMixinLegacy')([c('AdsPixelStore'),c('AdsPixelPickerStore')],{withProps:true})],propTypes:{isPickerDisabled:h.bool,selectedPixelID:h.string,onChange:h.func},statics:{calculateState:function j(k,l){return {currentPixelID:l.selectedPixelID||c('AdsPixelStoreWrapper').getCurrentPixelID(),pixelIDs:c('AdsPixelStore').getPixelIDs(),isPickerDisabled:c('AdsPixelPickerStore').isPickerDisabled()||l.isPickerDisabled};}},render:function j(){if(this.state.isPickerDisabled||this.state.pixelIDs.length===1)return (c('React').createElement(c('AdsPixelInfo.react'),{pixelID:this.state.currentPixelID}));return (c('React').createElement(c('AdsPixelPicker.react'),{selectedPixelID:this.state.currentPixelID,onChange:this.props.onChange}));}});f.exports=i;}),null);
__d('AdsGoalEditPixelRow.react',['cx','fbt','AdsPixelPickerWrapper.react','BUIAdoptionXUIGrayText.react','Layout.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column,m=c('React').Component,n=c('React').PropTypes;j=babelHelpers.inherits(o,m);k=j&&j.prototype;o.prototype.render=function(){return (c('React').createElement(c('Layout.react'),{className:"_4dku"},c('React').createElement(l,{className:"_4dkv"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',weight:'bold'},i._("Pixel"))),c('React').createElement(l,null,this.$AdsGoalEditPixelRow1())));};o.prototype.$AdsGoalEditPixelRow1=function(){var p=this.props.pixelID;return !p?c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light',size:'small'},i._("You no longer have access to the source pixel")):c('React').createElement(c('AdsPixelPickerWrapper.react'),{isPickerDisabled:true,selectedPixelID:p});};function o(){j.apply(this,arguments);}o.propType={pixelID:n.string};f.exports=o;}),null);
__d('AdsGoalEditValueRow.react',['cx','fbt','AdsCurrencyInput.react','BUIAdoptionXUIGrayText.react','Layout.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column,m=c('Layout.react').FillColumn,n=c('React').PropTypes;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$AdsGoalEditValueRow2=function(){return (c('React').createElement(c('AdsCurrencyInput.react'),{className:"_2q4j",currency:this.props.accountCurrency,disabled:this.props.disabled,eventType:'blur',height:'tall',invalidInputIsNull:false,nonnegative:true,value:this.props.currencyValue,withISO:true,onDataUpdate:this.props.onValueEdit}));}.bind(this),this.$AdsGoalEditValueRow1=function(){return (c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',weight:'bold'},i._("Conversion Value")));},q;}o.prototype.render=function(){return c('React').createElement(c('Layout.react'),{className:"_4txk"},c('React').createElement(l,{className:"_4txl"},this.$AdsGoalEditValueRow1()),c('React').createElement(m,null,this.$AdsGoalEditValueRow2()));};o.propTypes={accountCurrency:n.string,currencyValue:n.number.isRequired,disabled:n.bool,onValueEdit:n.func.isRequired};f.exports=o;}),null);
__d('AdsGoalEditContent.react',['cx','fbt','AdsAccountStoreWrapper_DEPRECATED','AdsCurrencyFormatter','AdsCustomConversionEditRuleRow.react','AdsGoalDataSetRow.react','AdsGoalEdit','AdsGoalEditCategoryRow.react','AdsGoalEditDescRow.react','AdsGoalEditNameRow.react','AdsGoalEditPixelRow.react','AdsGoalEditValueRow.react','AdsInterfacesLogger','AdsPixelDialogTypes','AdsPixelViewActions','AdsSpinnerCover.react','BUIAdoptionXUINotice.react','React','SUINotice.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react','shallowCompare'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component;j=babelHelpers.inherits(m,l);k=j&&j.prototype;function m(o){k.constructor.call(this,o);n.call(this);var p=o.customConversion,q=p.aggregation_rule,r=p.custom_event_type,s=p.default_conversion_value,t=p.description,u=p.id,v=p.name,w=p.pixelID,x=p.retention_days,y=p.rule;this.state={aggregationRule:q,category:r,currencyValue:s,description:t,name:v,pixelID:w,retentionDays:x,rule:y,showDescription:!!t};}m.prototype.shouldComponentUpdate=function(o,p){return c('shallowCompare')(this,o,p);};m.prototype.render=function(){var o=this.state,p=o.aggregationRule,q=o.rule,r=o.retentionDays,s=c('React').createElement(c('AdsCustomConversionEditRuleRow.react'),{aggregationRule:p,rule:q,retentionDays:r});return (c('React').createElement('div',{className:"_2qmc"},c('React').createElement(c('XUIDialogTitle.react'),null,this.$AdsGoalEditContent1()),c('React').createElement(c('XUIDialogBody.react'),{className:"_2qmd"},this.$AdsGoalEditContent2(),this.$AdsGoalEditContent3(),s,c('React').createElement(c('AdsGoalEditCategoryRow.react'),{category:this.state.category}),c('React').createElement(c('AdsGoalEditValueRow.react'),{accountCurrency:this.props.accountCurrency,currencyValue:this.state.currencyValue,disabled:!this.props.viewerHasPermission,onValueEdit:this.onValueEdit}),c('React').createElement(c('AdsGoalEditNameRow.react'),{disabled:!this.props.viewerHasPermission,name:this.state.name,onNameEdit:this.onNameEdit}),c('React').createElement(c('AdsGoalEditDescRow.react'),{description:this.state.description,disabled:!this.props.viewerHasPermission,showDescription:this.state.showDescription,onDescriptionEdit:this.onDescriptionEdit,onShowDescription:this.onShowDescription})),this.$AdsGoalEditContent4(),this.$AdsGoalEditContent5(),this.$AdsGoalEditContent6()));};m.prototype.$AdsGoalEditContent3=function(){var o=this.props.customConversion;if(o.pixelID){return (c('React').createElement(c('AdsGoalEditPixelRow.react'),{pixelID:this.state.pixelID}));}else if(o.dataSetID){var p=o.offline_conversion_data_set;return (p!=null?c('React').createElement(c('AdsGoalDataSetRow.react'),{dataSet:{id:p.id,name:p.name,lastFiredTime:o.lastFiredTime}}):c('React').createElement(c('AdsGoalDataSetRow.react'),{dataSet:null}));}else return (c('React').createElement(c('SUINotice.react'),{style:{marginLeft:20,marginRight:20,marginBottom:20},type:'information'},i._("You no longer have access to the source")));};m.prototype.$AdsGoalEditContent2=function(){if(this.props.viewerHasPermission)return null;return (c('React').createElement(c('SUINotice.react'),{style:{marginLeft:20,marginRight:20,marginBottom:20},type:'information'},i._("You do not have permission to edit this custom conversion")));};m.prototype.$AdsGoalEditContent7=function(){return c('AdsCurrencyFormatter').formatCurrencyWithISO(c('AdsAccountStoreWrapper_DEPRECATED').getCurrency(),this.state.currencyValue);};m.prototype.$AdsGoalEditContent1=function(){return i._("Edit a Custom Conversion");};m.prototype.$AdsGoalEditContent4=function(){if(!this.props.error)return null;var o=this.props.error.error_user_title||'Error',p=this.props.error.error_user_msg||'Edit failed',q=i._("{error message}",[i.param('error message',o+': '+p)]);return (c('React').createElement('div',{className:"_2qme"},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'error'},q)));};m.prototype.$AdsGoalEditContent5=function(){return (c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:this.$AdsGoalEditContent8}),c('React').createElement(c('XUIDialogButton.react'),{disabled:this.$AdsGoalEditContent9(),label:i._("Done"),use:'confirm',onClick:this.onUpdate})));};m.prototype.$AdsGoalEditContent9=function(){return (this.state.name.trim().length===0||!this.props.viewerHasPermission||this.state.currencyValue>Number.MAX_SAFE_INTEGER);};m.prototype.$AdsGoalEditContent6=function(){return (c('React').createElement(c('AdsSpinnerCover.react'),{background:'light',show:this.props.isEditing}));};m.prototype.$AdsGoalEditContent8=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').NO_DIALOG);c('AdsInterfacesLogger').log({eventName:'ads_pixel_goal_edit_cancel'},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};m.prototype.$AdsGoalEditContent10=function(){return {default_conversion_value:this.state.currencyValue,description:this.state.description,name:this.state.name.trim()};};var n=function o(){this.onDescriptionEdit=function(p){this.setState({description:p||''});}.bind(this);this.onShowDescription=function(){this.setState({showDescription:true});}.bind(this);this.onValueEdit=function(p){this.setState({currencyValue:p});}.bind(this);this.onNameEdit=function(p){this.setState({name:p||''});}.bind(this);this.onUpdate=function(){c('AdsGoalEdit').update(this.props.customConversion,this.$AdsGoalEditContent10());c('AdsInterfacesLogger').log({eventName:'ads_pixel_goal_edit_done'},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);}.bind(this);};f.exports=m;}),null);
__d('AdsGoalEditContainer.react',['invariant','AdproAccountUserPermission','AdsAccountStore','AdsFluxContainer','AdsGoalEditContent.react','AdsGoalEditStore','AdsGoalStore','AdsGoalTableSettingStore','AdsSelectedAccountCurrencyGetter','FluxStore','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.getStores=function(){return [c('AdsAccountStore'),c('AdsGoalEditStore'),c('AdsGoalStore'),c('AdsGoalTableSettingStore')].concat(c('AdsSelectedAccountCurrencyGetter').getStores());};k.calculateState=function(l,m){var n=c('AdsSelectedAccountCurrencyGetter').get({})||'',o=c('AdsGoalTableSettingStore').getSelectedIDs();o.length<=1||h(0);var p=c('AdsGoalStore').getGoalByID(o[0])||{},q=c('AdsGoalEditStore').getError(),r=c('AdsGoalEditStore').isEditing(),s=c('AdsAccountStore').getViewerHasPermission(c('AdproAccountUserPermission').ADMANAGER_WRITE);return {accountCurrency:n,customConversion:p,error:q,isEditing:r,viewerHasPermission:s};};k.prototype.render=function(){return c('React').createElement(c('AdsGoalEditContent.react'),this.state);};function k(){i.apply(this,arguments);}f.exports=c('AdsFluxContainer').create(k);}),null);
__d('AdsCustomConversionAdvancedConstants',['AdsCustomConversionAdvancedOperators'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsCustomConversionAdvancedOperators').GenericOperators,i={URL_SCOPE:'url',EVENT_SCOPE:'event',DEFAULT_COMPARATOR:h.GTE.value,DEFAULT_FREQUENCY:1,DEFAULT_DURATION:30};f.exports=i;}),null);
__d('AdsCustomConversionAdvancedOperatorSelector.react',['fbt','AdsSelectorWithTooltips.react','React','AdsCustomConversionAdvancedOperators'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PureComponent,l=c('AdsSelectorWithTooltips.react').Option,m=c('AdsCustomConversionAdvancedOperators').GenericOperators;i=babelHelpers.inherits(n,k);j=i&&i.prototype;n.prototype.render=function(){var o=m.EQ,p=m.NEQ,q=m.GT,r=m.LT,s=m.GTE,t=m.LTE,u=this.props.isAggregationOperator;return (u?c('React').createElement(c('AdsSelectorWithTooltips.react'),this.props,c('React').createElement(l,babelHelpers['extends']({},q,{tooltip:h._("Greater than")}),q.label),c('React').createElement(l,babelHelpers['extends']({},s,{tooltip:h._("Greater than or equal to")}),s.label)):c('React').createElement(c('AdsSelectorWithTooltips.react'),this.props,c('React').createElement(l,babelHelpers['extends']({},o,{tooltip:h._("Equal to")}),o.label),c('React').createElement(l,babelHelpers['extends']({},p,{tooltip:h._("Not equal to")}),p.label),c('React').createElement(l,babelHelpers['extends']({},q,{tooltip:h._("Greater than")}),q.label),c('React').createElement(l,babelHelpers['extends']({},r,{tooltip:h._("Less than")}),r.label),c('React').createElement(l,babelHelpers['extends']({},s,{tooltip:h._("Greater than or equal to")}),s.label),c('React').createElement(l,babelHelpers['extends']({},t,{tooltip:h._("Less than or equal to")}),t.label)));};function n(){i.apply(this,arguments);}f.exports=n;}),null);
__d('AdsCustomConversionAdvancedRuleSelector.react',['fbt','AdsCustomConversionAdvancedOperators','AdsSelectorWithTooltips.react','React','XUIMenuSeparator.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsSelectorWithTooltips.react').Option,l=c('React').PureComponent,m=c('AdsCustomConversionAdvancedOperators').GenericOperators,n=c('AdsCustomConversionAdvancedOperators').Placeholder,o=c('AdsCustomConversionAdvancedOperators').AggregationOperators,p=h._("Multiple aggregations cannot be combined in the same rule");i=babelHelpers.inherits(q,l);j=i&&i.prototype;q.prototype.render=function(){return (c('React').createElement(c('AdsSelectorWithTooltips.react'),this.props,c('React').createElement(k,m.CONTAINS,m.CONTAINS.label),c('React').createElement(k,m.NOT_CONTAINS,m.NOT_CONTAINS.label),c('React').createElement(c('XUIMenuSeparator.react'),{key:'separator'}),c('React').createElement(k,n.IS,n.IS.label),c('React').createElement(k,babelHelpers['extends']({},o.SUM,{disabled:this.props.disableAggregation,tooltip:this.props.disableAggregation&&p}),o.SUM.label)));};function q(){i.apply(this,arguments);}f.exports=q;}),null);
__d('AdsCustomConversionRuleClauseButtons.react',['cx','fbt','BUIAdoptionCloseButton.react','Image.react','Layout.react','React','XUIButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('React').PropTypes,n=c('Layout.react').Column,o=i._("and");j=babelHelpers.inherits(p,l);k=j&&j.prototype;p.prototype.$AdsCustomConversionRuleClauseButtons1=function(){return (c('React').createElement(c('XUIButton.react'),{className:"_1lak",disabled:this.props.disableAdd,label:o,size:'large',suppressed:this.props.disableAdd,onClick:this.props.onAdd}));};p.prototype.$AdsCustomConversionRuleClauseButtons2=function(){if(this.props.disableRemove)return null;return (c('React').createElement(c('BUIAdoptionCloseButton.react'),{className_DEPRECATED:"_1lal",onClick:this.props.onRemove}));};p.prototype.render=function(){var q="_39ax"+(' '+"_39ay");return (c('React').createElement(n,{className:q},this.$AdsCustomConversionRuleClauseButtons1(),this.$AdsCustomConversionRuleClauseButtons2()));};function p(){j.apply(this,arguments);}p.propTypes={disableRemove:m.bool,disableAdd:m.bool,onAdd:m.func,onRemove:m.func};f.exports=p;}),null);
__d('AdsPixelCommonSearchSource',['AbstractSearchSource','SearchableEntry'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AbstractSearchSource'));i=h&&h.prototype;j.prototype.searchImpl=function(k,l,m){var n=[],o=k.toLowerCase();Object.keys(this.items).forEach(function(p){if(Object.prototype.hasOwnProperty.call(this.items,p))if(p.toLowerCase().indexOf(o)!==-1){var q=new (c('SearchableEntry'))({uniqueID:p,title:p});n.push(q);}}.bind(this));l(n,k);};j.prototype.setItems=function(k){this.items=k;};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('AdsPixelCommonTypeahead.react',['AdsPixelCommonSearchSource','React','XUITypeahead.react'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes,k=new (c('AdsPixelCommonSearchSource'))();h=babelHelpers.inherits(l,c('React').Component);i=h&&h.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.state={query:''},n;}l.prototype.render=function(){'use strict';k.setItems(this.props.items);return (c('React').createElement(c('XUITypeahead.react'),{placeholder:this.props.placeholder,queryString:this.state.query,searchSource:k,showEntriesOnFocus:true,tallInput:true,viewStyle:'textonly',onChange:function(event){return this.setState({query:event.target.value});}.bind(this),onSelectAttempt:function(m){return this.props.onSelected(m.getTitle());}.bind(this)}));};l.propTypes={items:j.object.isRequired,onSelected:j.func.isRequired,placeholder:j.string.isRequired};f.exports=l;}),null);
__d('WebsiteCustomAudienceRuleBuilderUtil',[],(function a(b,c,d,e,f,g){'use strict';var h={updateByField:function i(j,k){return Object.keys(j).reduce(function(l,m){l[m]=j[m];return l;},k);}};f.exports=h;}),null);
__d('AdsCustomConversionAdvancedEventRuleClause.react',['cx','fbt','AdsCustomConversionAdvancedOperatorSelector.react','AdsCustomConversionAdvancedOperators','AdsCustomConversionAdvancedRuleSelector.react','AdsCustomConversionRuleClauseButtons.react','AdsPixelCommonTypeahead.react','AdsRichSelector.react','AdsTargetingTokenInput.react','Layout.react','React','WebsiteCustomAudienceRuleBuilderUtil','WebsiteCustomAudienceModel'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('WebsiteCustomAudienceModel').Aggregation,m=c('WebsiteCustomAudienceModel').RuleClause,n=c('Layout.react').Column,o=c('Layout.react').FillColumn,p=c('AdsRichSelector.react').Option,q=c('AdsCustomConversionAdvancedOperators').GenericOperators,r=c('AdsCustomConversionAdvancedOperators').Placeholder,s=c('AdsCustomConversionAdvancedOperators').isContainsOperator,t=c('AdsCustomConversionAdvancedOperators').isAggregationOperator,u=c('React').Component,v=/,/;j=babelHelpers.inherits(w,u);k=j&&j.prototype;function w(){var x,y;for(var z=arguments.length,aa=Array(z),ba=0;ba<z;ba++)aa[ba]=arguments[ba];return y=(x=k.constructor).call.apply(x,[this].concat(aa)),this.$AdsCustomConversionAdvancedEventRuleClause1=function(){var ca=[];for(var da in this.$AdsCustomConversionAdvancedEventRuleClause2())ca.push(c('React').createElement(p,{key:'field_option_'+da,label:da,value:da},da));return (c('React').createElement(n,{className:"_4jkp"},c('React').createElement(c('AdsRichSelector.react'),{defaultValue:this.props.clause.customfield,onChange:this.$AdsCustomConversionAdvancedEventRuleClause3},ca)));}.bind(this),this.$AdsCustomConversionAdvancedEventRuleClause2=function(){var ca=this.props.customFields;if(ca&&this.props.clause.customfield&&!Object.prototype.hasOwnProperty.call(ca,this.props.clause.customfield))ca[this.props.clause.customfield]=true;return ca;}.bind(this),this.$AdsCustomConversionAdvancedEventRuleClause4=function(){var ca=this.props.clause;return s(ca.filter)?ca.filter:ca.aggregationType||r.IS.value;}.bind(this),this.$AdsCustomConversionAdvancedEventRuleClause5=function(){return this.props.clauseIndex!==this.props.totalClauseCount-1;}.bind(this),this.$AdsCustomConversionAdvancedEventRuleClause6=function(){return this.props.totalClauseCount===1;}.bind(this),this.$AdsCustomConversionAdvancedEventRuleClause7=function(){return (!!this.props.aggregation&&t(this.props.aggregation.type)&&!this.props.clause.aggregationType);}.bind(this),this.$AdsCustomConversionAdvancedEventRuleClause8=function(ca){var da=ca.value,ea=this.props.clause,fa=ea.filter;if(s(da)){if(ea.aggregationType)this.$AdsCustomConversionAdvancedEventRuleClause9();this.$AdsCustomConversionAdvancedEventRuleClause10({filter:da,aggregationType:null});}else if(t(da)){var ga=s(fa)||!ea.aggregationType?q.GTE.value:fa;this.$AdsCustomConversionAdvancedEventRuleClause10({filter:ga,aggregationType:da});this.$AdsCustomConversionAdvancedEventRuleClause11({type:da,operator:ga,customfield:ea.customfield,value:ea.tokens&&ea.tokens[0]});}else{if(ea.aggregationType)this.$AdsCustomConversionAdvancedEventRuleClause9();this.$AdsCustomConversionAdvancedEventRuleClause10({filter:q.EQ.value,aggregationType:null});}}.bind(this),this.$AdsCustomConversionAdvancedEventRuleClause12=function(ca){this.$AdsCustomConversionAdvancedEventRuleClause10({filter:ca.value});if(this.props.clause.aggregationType)this.$AdsCustomConversionAdvancedEventRuleClause11({operator:ca.value});}.bind(this),this.$AdsCustomConversionAdvancedEventRuleClause3=function(ca){this.$AdsCustomConversionAdvancedEventRuleClause13(ca.value);}.bind(this),this.$AdsCustomConversionAdvancedEventRuleClause13=function(ca){this.$AdsCustomConversionAdvancedEventRuleClause10({customfield:ca});if(this.props.clause.aggregationType)this.$AdsCustomConversionAdvancedEventRuleClause11({customfield:ca});}.bind(this),this.$AdsCustomConversionAdvancedEventRuleClause14=function(ca){this.$AdsCustomConversionAdvancedEventRuleClause10({tokens:ca});if(this.props.clause.aggregationType)this.$AdsCustomConversionAdvancedEventRuleClause11({value:ca[0]});}.bind(this),this.$AdsCustomConversionAdvancedEventRuleClause9=function(){this.props.onUpdateAggregation(new l());}.bind(this),this.$AdsCustomConversionAdvancedEventRuleClause15=function(){var ca=this.props,da=ca.clause,ea=ca.clauseIndex,fa=ca.totalClauseCount;if(da.aggregationType)this.$AdsCustomConversionAdvancedEventRuleClause9();this.props.onDeleteClause(ea,fa);}.bind(this),this.$AdsCustomConversionAdvancedEventRuleClause10=function(ca){var da=this.props.clauseIndex,ea=c('WebsiteCustomAudienceRuleBuilderUtil').updateByField(ca,this.props.clause);this.props.onUpdateClause(da,ea);}.bind(this),this.$AdsCustomConversionAdvancedEventRuleClause11=function(ca){var da=this.props.aggregation;if(da){var ea=c('WebsiteCustomAudienceRuleBuilderUtil').updateByField(ca,da);this.props.onUpdateAggregation(ea);}}.bind(this),y;}w.prototype.render=function(){var x=this.props,y=x.clause,z=x.onAddClause,aa=s(this.$AdsCustomConversionAdvancedEventRuleClause4())?null:c('React').createElement(n,{className:"_4jkp"},c('React').createElement(c('AdsCustomConversionAdvancedOperatorSelector.react'),{isAggregationOperator:t(this.$AdsCustomConversionAdvancedEventRuleClause4()),value:y.filter,onChange:this.$AdsCustomConversionAdvancedEventRuleClause12}));if(y.customfield)return (c('React').createElement(c('Layout.react'),{className:"_4jkq"},this.$AdsCustomConversionAdvancedEventRuleClause1(),c('React').createElement(n,{className:"_4jkp"},c('React').createElement(c('AdsCustomConversionAdvancedRuleSelector.react'),{defaultValue:this.$AdsCustomConversionAdvancedEventRuleClause4(),disableAggregation:this.$AdsCustomConversionAdvancedEventRuleClause7(),onChange:this.$AdsCustomConversionAdvancedEventRuleClause8})),aa,c('React').createElement(o,null,c('React').createElement(c('AdsTargetingTokenInput.react'),{defaultTokens:y.tokens,placeholder:i._("Add a value"),separator:i._("or"),separatorRegex:v,onTokenChange:this.$AdsCustomConversionAdvancedEventRuleClause14})),c('React').createElement(n,null,c('React').createElement(c('AdsCustomConversionRuleClauseButtons.react'),{disableAdd:this.$AdsCustomConversionAdvancedEventRuleClause5(),disableRemove:this.$AdsCustomConversionAdvancedEventRuleClause6(),onAdd:z,onRemove:this.$AdsCustomConversionAdvancedEventRuleClause15}))));return (c('React').createElement('div',{className:"_j_3"},c('React').createElement(c('AdsPixelCommonTypeahead.react'),{items:this.$AdsCustomConversionAdvancedEventRuleClause2(),placeholder:i._("Add a parameter (optional)"),onSelected:this.$AdsCustomConversionAdvancedEventRuleClause13})));};f.exports=w;}),null);
__d('AdsPixelEventSelector.react',['cx','fbt','AdsPixelCommonTypeahead.react','BUIAdoptionCloseButton.react','React'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AdsPixelEventSelector1=function(s){this.props.onUpdateRuleEvent(s);this.props.onEventSelected(s);}.bind(this),this.$AdsPixelEventSelector2=function(){this.props.onUpdateRuleEvent(null);}.bind(this),o;}m.prototype.render=function(){'use strict';if(!this.props.rule.event)return c('React').createElement('div',{className:"_5ssa"+(this.props.showPotentialWarnings?' '+"_3gqy":'')},c('React').createElement(c('AdsPixelCommonTypeahead.react'),{items:this.props.events,placeholder:i._("Choose an event"),onSelected:this.$AdsPixelEventSelector1}));return c('React').createElement('div',{className:"_5ssc _5ssa"},this.props.rule.event,c('React').createElement(c('BUIAdoptionCloseButton.react'),{className_DEPRECATED:"_3-90 _5ssb",key:'close_button',onClick:this.$AdsPixelEventSelector2}));};m.propTypes={rule:l.object.isRequired,onUpdateRuleEvent:l.func.isRequired,events:l.object.isRequired,onEventSelected:l.func.isRequired,showPotentialWarnings:l.bool};f.exports=m;}),null);
__d('AdsCustomConversionAdvancedEventRuleEditor.react',['cx','AdsCustomConversionAdvancedEventRuleClause.react','AdsPixelEventSelector.react','immutable','React','WebsiteCustomAudienceRuleBuilderUtil','WebsiteCustomAudienceModel'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('immutable').Map,l=c('WebsiteCustomAudienceModel').Rule,m=c('WebsiteCustomAudienceModel').RuleClause,n=c('WebsiteCustomAudienceModel').Aggregation,o=c('React').Component;i=babelHelpers.inherits(p,o);j=i&&i.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=j.constructor).call.apply(q,[this].concat(t)),this.$AdsCustomConversionAdvancedEventRuleEditor3=function(){return this.props.eventState.getIn(['events',this.$AdsCustomConversionAdvancedEventRuleEditor1(this.props),'parameters']).toObject();}.bind(this),this.$AdsCustomConversionAdvancedEventRuleEditor4=function(){return this.props.eventState.get('events').toObject();}.bind(this),this.$AdsCustomConversionAdvancedEventRuleEditor6=function(v,w,x){return (c('React').createElement(c('AdsCustomConversionAdvancedEventRuleClause.react'),{aggregation:this.props.rule.aggregation,clause:v,clauseIndex:w,customFields:this.$AdsCustomConversionAdvancedEventRuleEditor3(),key:'event_rule_clause_'+v.key,totalClauseCount:x.length,onAddClause:this.$AdsCustomConversionAdvancedEventRuleEditor7,onDeleteClause:this.$AdsCustomConversionAdvancedEventRuleEditor8,onUpdateAggregation:this.$AdsCustomConversionAdvancedEventRuleEditor9,onUpdateClause:this.$AdsCustomConversionAdvancedEventRuleEditor10}));}.bind(this),this.$AdsCustomConversionAdvancedEventRuleEditor11=function(event){if(event!==this.props.rule.event)this.$AdsCustomConversionAdvancedEventRuleEditor12({event:event,clauses:[new m()],aggregation:new n()});}.bind(this),this.$AdsCustomConversionAdvancedEventRuleEditor10=function(v,w){var x=this.props.rule.clauses;x[v]=w;this.$AdsCustomConversionAdvancedEventRuleEditor12({clauses:x});}.bind(this),this.$AdsCustomConversionAdvancedEventRuleEditor9=function(v){this.$AdsCustomConversionAdvancedEventRuleEditor12({aggregation:v});}.bind(this),this.$AdsCustomConversionAdvancedEventRuleEditor7=function(){var v=this.props.rule.clauses;v.push(new m());this.$AdsCustomConversionAdvancedEventRuleEditor12({clauses:v});}.bind(this),this.$AdsCustomConversionAdvancedEventRuleEditor8=function(v,w){if(w>1){var x=this.props.rule.clauses;x.splice(v,1);this.$AdsCustomConversionAdvancedEventRuleEditor12({clauses:x});}}.bind(this),this.$AdsCustomConversionAdvancedEventRuleEditor12=function(v){var w=c('WebsiteCustomAudienceRuleBuilderUtil').updateByField(v,this.props.rule);this.props.onUpdateRule(w);}.bind(this),r;}p.prototype.$AdsCustomConversionAdvancedEventRuleEditor1=function(q){return q.rule.event;};p.prototype.$AdsCustomConversionAdvancedEventRuleEditor2=function(q){var r=q.eventState,s=this.$AdsCustomConversionAdvancedEventRuleEditor1(this.props),t=r.getIn(['events',s,'parameters']);return r.get('events').size>0&&!!t&&t.size>0;};p.prototype.componentWillUpdate=function(q,r){if(!this.$AdsCustomConversionAdvancedEventRuleEditor2(q)){var event=this.$AdsCustomConversionAdvancedEventRuleEditor1(q);if(event)this.props.loadEventParameters(event);}};p.prototype.$AdsCustomConversionAdvancedEventRuleEditor5=function(){if(!this.props.rule.event||!this.$AdsCustomConversionAdvancedEventRuleEditor2(this.props))return null;return this.props.rule.clauses.map(this.$AdsCustomConversionAdvancedEventRuleEditor6,this);};p.prototype.render=function(){return (c('React').createElement('div',{className:"_53rw"},c('React').createElement(c('AdsPixelEventSelector.react'),{events:this.$AdsCustomConversionAdvancedEventRuleEditor4(),rule:this.props.rule,onEventSelected:this.props.loadEventParameters,onUpdateRuleEvent:this.$AdsCustomConversionAdvancedEventRuleEditor11}),this.$AdsCustomConversionAdvancedEventRuleEditor5()));};f.exports=p;}),null);
__d('AdsCustomConversionAdvancedFrequencyAndRetentionSelector.react',['cx','fbt','AdsHelpLink.react','React','XUITextInput.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=i._("Minimum number of visits:"),n=i._("Minimum number of events:");j=babelHelpers.inherits(o,l);k=j&&j.prototype;function o(p){k.constructor.call(this,p);this.$AdsCustomConversionAdvancedFrequencyAndRetentionSelector1=function(event){this.setState({frequency:event.target.value});}.bind(this);this.$AdsCustomConversionAdvancedFrequencyAndRetentionSelector2=function(event){this.setState({duration:event.target.value});}.bind(this);this.$AdsCustomConversionAdvancedFrequencyAndRetentionSelector3=function(){var q=parseInt(this.state.frequency,10);if(!isNaN(q)&&q>0){this.props.onFrequencyChange(q);}else this.setState({frequency:this.props.frequency.toString()});}.bind(this);this.$AdsCustomConversionAdvancedFrequencyAndRetentionSelector4=function(){var q=parseInt(this.state.duration,10);if(!isNaN(q)&&q>0&&q<=30){this.props.onDurationChange(q);}else this.setState({duration:this.props.duration.toString()});}.bind(this);this.state={comparator:this.props.comparator,frequency:this.props.frequency.toString(),duration:this.props.duration.toString()};}o.prototype.componentWillReceiveProps=function(p){this.setState({comparator:p.comparator,frequency:p.frequency.toString(),duration:p.duration.toString()});};o.prototype.render=function(){var p=this.props.isEventBasedRule?n:m,q=this.props.disableFrequency?null:c('React').createElement('div',null,c('React').createElement('div',{className:"_47uj"},p),c('React').createElement(c('XUITextInput.react'),{className:"_47uk",defaultValue:this.props.frequency.toString(),value:this.state.frequency,onBlur:this.$AdsCustomConversionAdvancedFrequencyAndRetentionSelector3,onChange:this.$AdsCustomConversionAdvancedFrequencyAndRetentionSelector1}),c('React').createElement('div',{className:"_5831"},c('React').createElement(c('AdsHelpLink.react'),{position:'above',width:300},i._("Enter the minimum frequency of visits or events for a conversion."))));return (c('React').createElement('div',{className:"_47ui"},q,c('React').createElement('div',{className:"_47ul"},c('React').createElement('div',{className:"_47uj"},i._("In the last")),c('React').createElement(c('XUITextInput.react'),{className:"_47uk",defaultValue:this.props.duration.toString(),value:this.state.duration,onBlur:this.$AdsCustomConversionAdvancedFrequencyAndRetentionSelector4,onChange:this.$AdsCustomConversionAdvancedFrequencyAndRetentionSelector2}),c('React').createElement('div',{className:"_47un"},i._({"*":"days","268435456":"day"},[i.plural(this.props.duration)])),c('React').createElement('div',{className:"_5831"},c('React').createElement(c('AdsHelpLink.react'),{position:'above',width:300},i._("Enter the number of days that the aggregation criteria is active for. If the aggregation criteria is met within this retention period, it would count as a conversion match."),c('React').createElement('br',null),c('React').createElement('br',null),i._("Maximum time: 30 days."))))));};f.exports=o;}),null);
__d('AdsCustomConversionAdvancedURLContainsRuleClause.react',['cx','fbt','AdsCustomConversionRuleClauseButtons.react','AdsTargetingTokenInput.react','Layout.react','React','WebsiteCustomAudienceRuleBuilderUtil','WebsiteCustomAudienceModel'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column,m=c('Layout.react').FillColumn,n=c('React').PureComponent,o=c('WebsiteCustomAudienceModel').RuleClause,p=i._("Add URL keywords"),q=i._("or");j=babelHelpers.inherits(r,n);k=j&&j.prototype;function r(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=k.constructor).call.apply(s,[this].concat(v)),this.$AdsCustomConversionAdvancedURLContainsRuleClause1=function(){return this.props.clauseIndex!==this.props.totalClauseCount-1;}.bind(this),this.$AdsCustomConversionAdvancedURLContainsRuleClause2=function(){return this.props.totalClauseCount===1;}.bind(this),this.$AdsCustomConversionAdvancedURLContainsRuleClause3=function(x){this.$AdsCustomConversionAdvancedURLContainsRuleClause4({tokens:x});}.bind(this),this.$AdsCustomConversionAdvancedURLContainsRuleClause4=function(x){var y=c('WebsiteCustomAudienceRuleBuilderUtil').updateByField(x,this.props.clause),z=this.props.clauseIndex;this.props.onUpdateClause(z,y);}.bind(this),this.$AdsCustomConversionAdvancedURLContainsRuleClause5=function(){var x=this.props,y=x.clauseIndex,z=x.totalClauseCount;this.props.onDeleteClause(y,z);}.bind(this),t;}r.prototype.render=function(){return (c('React').createElement(c('Layout.react'),{className:"_4jkq"},c('React').createElement(m,null,c('React').createElement(c('AdsTargetingTokenInput.react'),{defaultTokens:this.props.clause.tokens,placeholder:p,separator:q,onTokenChange:this.$AdsCustomConversionAdvancedURLContainsRuleClause3})),c('React').createElement(l,null,c('React').createElement(c('AdsCustomConversionRuleClauseButtons.react'),{disableAdd:this.$AdsCustomConversionAdvancedURLContainsRuleClause1(),disableRemove:this.$AdsCustomConversionAdvancedURLContainsRuleClause2(),onAdd:this.props.onAddClause,onRemove:this.$AdsCustomConversionAdvancedURLContainsRuleClause5}))));};f.exports=r;}),null);
__d('AdsCustomConversionAdvancedURLContainsRuleEditor.react',['cx','AdsCustomConversionAdvancedURLContainsRuleClause.react','React','WebsiteCustomAudienceRuleBuilderUtil','WebsiteCustomAudienceModel'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=c('WebsiteCustomAudienceModel').Rule,m=c('WebsiteCustomAudienceModel').RuleClause;i=babelHelpers.inherits(n,k);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$AdsCustomConversionAdvancedURLContainsRuleEditor1=function(t,u,v){return (c('React').createElement(c('AdsCustomConversionAdvancedURLContainsRuleClause.react'),{clause:t,clauseIndex:u,key:'url_contains_rule_clause_'+t.key,totalClauseCount:v.length,onAddClause:this.$AdsCustomConversionAdvancedURLContainsRuleEditor2,onDeleteClause:this.$AdsCustomConversionAdvancedURLContainsRuleEditor3,onUpdateClause:this.$AdsCustomConversionAdvancedURLContainsRuleEditor4}));}.bind(this),this.$AdsCustomConversionAdvancedURLContainsRuleEditor4=function(t,u){var v=this.props.rule.clauses;v[t]=u;this.$AdsCustomConversionAdvancedURLContainsRuleEditor5({clauses:v});}.bind(this),this.$AdsCustomConversionAdvancedURLContainsRuleEditor2=function(){var t=this.props.rule.clauses;t.push(new m());this.$AdsCustomConversionAdvancedURLContainsRuleEditor5({clauses:t});}.bind(this),this.$AdsCustomConversionAdvancedURLContainsRuleEditor3=function(t,u){if(u>1){var v=this.props.rule.clauses;v.splice(t,1);this.$AdsCustomConversionAdvancedURLContainsRuleEditor5({clauses:v});}}.bind(this),this.$AdsCustomConversionAdvancedURLContainsRuleEditor5=function(t){var u=c('WebsiteCustomAudienceRuleBuilderUtil').updateByField(t,this.props.rule);this.props.onUpdateRule(u);}.bind(this),p;}n.prototype.render=function(){var o=this.props.rule.clauses.map(this.$AdsCustomConversionAdvancedURLContainsRuleEditor1,this);return (c('React').createElement('div',{className:"_53rw"},o));};f.exports=n;}),null);
__d('AdsCustomConversionAdvancedURLEqualsRuleClause.react',['cx','fbt','AdsTargetingTokenInput.react','Layout.react','React','WebsiteCustomAudienceRuleBuilderUtil','WebsiteCustomAudienceModel'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('Layout.react').FillColumn,n=c('WebsiteCustomAudienceModel').RuleClause,o=i._("Add URL"),p=i._("or");j=babelHelpers.inherits(q,l);k=j&&j.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.$AdsCustomConversionAdvancedURLEqualsRuleClause1=function(w){this.$AdsCustomConversionAdvancedURLEqualsRuleClause2({tokens:w});}.bind(this),this.$AdsCustomConversionAdvancedURLEqualsRuleClause2=function(w){var x=c('WebsiteCustomAudienceRuleBuilderUtil').updateByField(w,this.props.clause);this.props.onUpdateClause(x);}.bind(this),s;}q.prototype.render=function(){return c('React').createElement(c('Layout.react'),{className:"_4jkq"},c('React').createElement(m,null,c('React').createElement(c('AdsTargetingTokenInput.react'),{defaultTokens:this.props.clause.tokens,placeholder:o,separator:p,onTokenChange:this.$AdsCustomConversionAdvancedURLEqualsRuleClause1})));};f.exports=q;}),null);
__d('AdsCustomConversionAdvancedURLEqualsRuleEditor.react',['cx','AdsCustomConversionAdvancedURLEqualsRuleClause.react','React','WebsiteCustomAudienceRuleBuilderUtil','WebsiteCustomAudienceModel'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=c('WebsiteCustomAudienceModel').Rule,m=c('WebsiteCustomAudienceModel').RuleClause;i=babelHelpers.inherits(n,k);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$AdsCustomConversionAdvancedURLEqualsRuleEditor1=function(t){var u=[t];this.$AdsCustomConversionAdvancedURLEqualsRuleEditor2({clauses:u});}.bind(this),this.$AdsCustomConversionAdvancedURLEqualsRuleEditor2=function(t){var u=c('WebsiteCustomAudienceRuleBuilderUtil').updateByField(t,this.props.rule);this.props.onUpdateRule(u);}.bind(this),p;}n.prototype.render=function(){return c('React').createElement('div',{className:"_53rw"},c('React').createElement(c('AdsCustomConversionAdvancedURLEqualsRuleClause.react'),{clause:this.props.rule.clauses[0],onUpdateClause:this.$AdsCustomConversionAdvancedURLEqualsRuleEditor1}));};f.exports=n;}),null);
__d('AdsCustomConversionRuleTypeSelector.react',['fbt','AdsCustomConversionRuleType','AdsRichSelector.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=c('React').PropTypes,m=c('AdsRichSelector.react').Option,n={label:h._("URL contains"),value:c('AdsCustomConversionRuleType').URL_CONTAINS},o={label:h._("URL equals"),value:c('AdsCustomConversionRuleType').URL_EQUALS},p={label:h._("Event"),value:c('AdsCustomConversionRuleType').EVENT};i=babelHelpers.inherits(q,k);j=i&&i.prototype;q.prototype.$AdsCustomConversionRuleTypeSelector1=function(){var r=[c('React').createElement(m,babelHelpers['extends']({},n,{key:n.value}),n.label),c('React').createElement(m,babelHelpers['extends']({},o,{key:o.value}),o.label)];if(this.props.shouldRenderEvent)r.push(c('React').createElement(m,babelHelpers['extends']({},p,{key:p.value}),p.label));return r;};q.prototype.render=function(){return (c('React').createElement(c('AdsRichSelector.react'),babelHelpers['extends']({defaultValue:c('AdsCustomConversionRuleType').URL_CONTAINS},this.props),this.$AdsCustomConversionRuleTypeSelector1()));};function q(){i.apply(this,arguments);}q.propTypes={onChange:l.func,shouldRenderEvent:l.bool.isRequired};f.exports=q;}),null);
__d('AdsCustomConversionAdvancedRuleEditor.react',['cx','AdsCustomConversionAdvancedConstants','AdsCustomConversionAdvancedEventRuleEditor.react','AdsCustomConversionAdvancedFrequencyAndRetentionSelector.react','AdsCustomConversionAdvancedOperators','AdsCustomConversionAdvancedURLContainsRuleEditor.react','AdsCustomConversionAdvancedURLEqualsRuleEditor.react','AdsCustomConversionRuleType','AdsCustomConversionRuleTypeSelector.react','AdsPixelDataManager','WebsiteCustomAudienceAggregationFunctions','immutable','React','WebsiteCustomAudienceRuleBuilderUtil','WebsiteCustomAudienceModel'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=c('immutable').Map,m=c('WebsiteCustomAudienceModel').Aggregation,n=c('WebsiteCustomAudienceModel').Operations,o=c('WebsiteCustomAudienceModel').Rule,p=c('WebsiteCustomAudienceModel').RuleClause,q=c('AdsCustomConversionAdvancedOperators').GenericOperators;i=babelHelpers.inherits(r,k);j=i&&i.prototype;function r(s){j.constructor.call(this,s);this.$AdsCustomConversionAdvancedRuleEditor1=function(event){var t=this.props.pixelID;if(event&&t)c('AdsPixelDataManager').loadEventParameters(event,t);}.bind(this);this.$AdsCustomConversionAdvancedRuleEditor2=function(t){var u=this.props.rule.aggregation;if(u){u.value=t;this.$AdsCustomConversionAdvancedRuleEditor3({aggregation:u});}}.bind(this);this.$AdsCustomConversionAdvancedRuleEditor4=function(t){this.$AdsCustomConversionAdvancedRuleEditor3({duration:t});}.bind(this);this.$AdsCustomConversionAdvancedRuleEditor5=function(){var t=this.props.rule;if(t.scope===c('AdsCustomConversionAdvancedConstants').EVENT_SCOPE)return c('AdsCustomConversionRuleType').EVENT;var u=t.clauses[0].filter;if(u===q.CONTAINS.value){return c('AdsCustomConversionRuleType').URL_CONTAINS;}else return c('AdsCustomConversionRuleType').URL_EQUALS;}.bind(this);this.$AdsCustomConversionAdvancedRuleEditor6=function(t){var u=t.value===c('AdsCustomConversionRuleType').EVENT?c('AdsCustomConversionAdvancedConstants').EVENT_SCOPE:c('AdsCustomConversionAdvancedConstants').URL_SCOPE,v=new p();if(t.value===c('AdsCustomConversionRuleType').URL_EQUALS)v.filter=q.EQ.value;this.$AdsCustomConversionAdvancedRuleEditor3({scope:u,event:null,clauses:[v],aggregation:new m()});}.bind(this);this.$AdsCustomConversionAdvancedRuleEditor3=function(t){var u=c('WebsiteCustomAudienceRuleBuilderUtil').updateByField(t,this.props.rule);this.props.onUpdateRule(u);}.bind(this);this.$AdsCustomConversionAdvancedRuleEditor8=function(){var t=this.$AdsCustomConversionAdvancedRuleEditor5();switch(t){case c('AdsCustomConversionRuleType').EVENT:return (c('React').createElement(c('AdsCustomConversionAdvancedEventRuleEditor.react'),babelHelpers['extends']({},this.props,{eventState:this.props.eventState,loadEventParameters:this.$AdsCustomConversionAdvancedRuleEditor1})));case c('AdsCustomConversionRuleType').URL_CONTAINS:return (c('React').createElement(c('AdsCustomConversionAdvancedURLContainsRuleEditor.react'),this.props));case c('AdsCustomConversionRuleType').URL_EQUALS:return (c('React').createElement(c('AdsCustomConversionAdvancedURLEqualsRuleEditor.react'),this.props));default:return null;}}.bind(this);}r.prototype.$AdsCustomConversionAdvancedRuleEditor7=function(){return this.props.eventState.size>0||n.isEventBasedRule(this.props.rule);};r.prototype.render=function(){var s=this.props.rule.aggregation,t=s&&s.type===c('WebsiteCustomAudienceAggregationFunctions').COUNT;return (c('React').createElement('div',{className:"_116n"},c('React').createElement(c('AdsCustomConversionRuleTypeSelector.react'),{className:"_116o",defaultValue:this.$AdsCustomConversionAdvancedRuleEditor5(),shouldRenderEvent:this.$AdsCustomConversionAdvancedRuleEditor7(),onChange:this.$AdsCustomConversionAdvancedRuleEditor6}),this.$AdsCustomConversionAdvancedRuleEditor8(),c('React').createElement(c('AdsCustomConversionAdvancedFrequencyAndRetentionSelector.react'),{comparator:t?s.operator:c('AdsCustomConversionAdvancedConstants').DEFAULT_COMPARATOR,disableFrequency:!t,duration:this.props.rule.duration,frequency:t?s.value:c('AdsCustomConversionAdvancedConstants').DEFAULT_FREQUENCY,isEventBasedRule:this.$AdsCustomConversionAdvancedRuleEditor5()===c('AdsCustomConversionRuleType').EVENT,onDurationChange:this.$AdsCustomConversionAdvancedRuleEditor4,onFrequencyChange:this.$AdsCustomConversionAdvancedRuleEditor2})));};f.exports=r;}),null);
__d('AdsCustomConversionAdvancedRuleSet.react',['fbt','cx','AdsCustomConversionAdvancedRuleEditor.react','BUIAdoptionXUIGrayText.react','immutable','React','WebsiteCustomAudienceModel'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('immutable').Map,n=c('WebsiteCustomAudienceModel').Rule;j=babelHelpers.inherits(o,l);k=j&&j.prototype;o.prototype.render=function(){var p=this.props,q=p.pixelID,r=p.rule,s=p.eventState;return (c('React').createElement('div',null,c('React').createElement('div',{className:"_151-"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'small',weight:'bold'},h._("Include traffic that meets the following conditions:"))),c('React').createElement(c('AdsCustomConversionAdvancedRuleEditor.react'),{eventState:s,pixelID:q,rule:r,onUpdateRule:this.props.onUpdateRuleSet})));};function o(){j.apply(this,arguments);}f.exports=o;}),null);
__d('AdsCustomConversionRuleViewActions',['AdsCustomConversionRuleViewActionTypes','AdsDispatcher','immutable','AdsCustomConversionRuleType'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').Map,i={addRule:function j(k){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCustomConversionRuleViewActionTypes').ADD_RULE,data:babelHelpers['extends']({},k,{type:c('AdsCustomConversionRuleType').URL_CONTAINS})});},updateRuleType:function j(k){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCustomConversionRuleViewActionTypes').UPDATE_RULE_TYPE,data:k});},addURLKeywords:function j(k){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCustomConversionRuleViewActionTypes').ADD_URL_KEYWORDS,data:k});},addURLs:function j(k){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCustomConversionRuleViewActionTypes').ADD_URLS,data:k});},addEvents:function j(k){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCustomConversionRuleViewActionTypes').ADD_EVENTS,data:k});},addRuleClause:function j(k){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCustomConversionRuleViewActionTypes').ADD_RULE_CLAUSE,data:k});},removeRuleClause:function j(k){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCustomConversionRuleViewActionTypes').REMOVE_RULE_CLAUSE,data:k});},addEventClause:function j(k){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCustomConversionRuleViewActionTypes').ADD_EVENT_CLAUSE,data:k});},removeEventClause:function j(k){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCustomConversionRuleViewActionTypes').REMOVE_EVENT_CLAUSE,data:k});},initEventParameter:function j(k){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCustomConversionRuleViewActionTypes').INIT_EVENT_PARAMETER,data:k});},updateEventParameter:function j(k){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCustomConversionRuleViewActionTypes').UPDATE_EVENT_PARAMETER,data:k});},setAdvancedRule:function j(k){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCustomConversionRuleViewActionTypes').SET_ADVANCED_RULE,data:k});},setDeviceType:function j(k){c('AdsDispatcher').handleUpdateFromViewAction({type:c('AdsCustomConversionRuleViewActionTypes').SET_DEVICE_TYPE,data:k});}};f.exports=i;}),null);
__d('BUIAdoptionToggleButtonGroup.react',['BIGAdoptionConfig','BUIAdoptionWrapper.react','React','SUIBusinessTheme','SUIToggleButtonGroup.react','XUIRadioButtonGroup.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){return (c('React').createElement(c('BUIAdoptionWrapper.react'),{enabled:c('BIGAdoptionConfig').sui_button_adoption,fallback:c('React').createElement(c('XUIRadioButtonGroup.react'),k(this.props))},c('React').createElement(c('SUIToggleButtonGroup.react'),babelHelpers['extends']({theme:c('SUIBusinessTheme')},this.props))));};function j(){h.apply(this,arguments);}function k(l){var m=l.onChange,n=l.value,o=l.use,p=babelHelpers.objectWithoutProperties(l,['onChange','value','use']);return babelHelpers['extends']({},p,{onValueChange:m,selectedUse:o,selectedValue:n});}f.exports=j;}),null);
__d('WebsiteCustomAudienceMobileDeviceSelector.react',['AdsRichSelector.react','WebsiteCustomAudienceDeviceTypes','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes,k=c('AdsRichSelector.react').Option,l=c('AdsRichSelector.react').Separator,m=c('WebsiteCustomAudienceDeviceTypes').DeviceTypes;h=babelHelpers.inherits(n,c('React').Component);i=h&&h.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=i.constructor).call.apply(o,[this].concat(r)),this.$WebsiteCustomAudienceMobileDeviceSelector1=function(t){this.props.onChange(t.value);}.bind(this),p;}n.prototype.render=function(){return c('React').createElement(c('AdsRichSelector.react'),{defaultValue:this.props.device,onChange:this.$WebsiteCustomAudienceMobileDeviceSelector1},c('React').createElement(k,m.ALL_MOBILE,m.ALL_MOBILE.label),c('React').createElement(l,null),c('React').createElement(k,m.ANDROID,m.ANDROID.label),c('React').createElement(k,m.IOS,m.IOS.label),c('React').createElement(k,m.OTHER_MOBILE,m.OTHER_MOBILE.label));};n.propTypes={onChange:j.func.isRequired,device:j.string};f.exports=n;}),null);
__d('WebsiteCustomAudienceDeviceSelector.react',['cx','fbt','BUIAdoptionToggleButtonGroup.react','React','WebsiteCustomAudienceDeviceTypes','WebsiteCustomAudienceMobileDeviceSelector.react','XUIButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('WebsiteCustomAudienceDeviceTypes').DeviceTypes,l=c('React').createClass({displayName:'WebsiteCustomAudienceDeviceSelector',propTypes:{device:j.string.isRequired,disabled:j.bool,onChange:j.func.isRequired},getDefaultProps:function m(){return {device:k.ALL.value};},getInitialState:function m(){return {selectedType:this._getSelectedType(this.props.device)};},render:function m(){return (c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionToggleButtonGroup.react'),{use:'confirm',value:this.state.selectedType,onChange:this._onClick},c('React').createElement(c('XUIButton.react'),babelHelpers['extends']({},k.ALL,{'aria-label':i._("All Devices"),className:"_4no9",disabled:this.props.disabled})),c('React').createElement(c('XUIButton.react'),babelHelpers['extends']({},k.MOBILE,{className:"_4no9",disabled:this.props.disabled})),c('React').createElement(c('XUIButton.react'),babelHelpers['extends']({},k.DESKTOP,{className:"_4no9",disabled:this.props.disabled}))),this._getMobileDeviceSelector()));},_getMobileDeviceSelector:function m(){if(this.state.selectedType!==k.MOBILE.value)return null;return (c('React').createElement('div',{className:"_2cbg"},c('React').createElement(c('WebsiteCustomAudienceMobileDeviceSelector.react'),{device:this.props.device,onChange:this.props.onChange})));},_onClick:function m(n){if(n===k.MOBILE.value)if(this.state.selectedType===k.MOBILE.value){return;}else n=k.ALL_MOBILE.value;this.props.onChange(n);this.setState({selectedType:this._getSelectedType(n)});},_getSelectedType:function m(n){switch(n){case k.ALL.value:case k.MOBILE.value:case k.DESKTOP.value:return n;case k.ALL_MOBILE.value:case k.ANDROID.value:case k.IOS.value:case k.OTHER_MOBILE.value:return k.MOBILE.value;default:return k.ALL.value;}}});f.exports=l;}),null);
__d('AdsCustomConversionAdvancedRuleContent.react',['cx','fbt','AdsCustomConversionAdvancedRuleSet.react','AdsCustomConversionRuleViewActions','AdsHelpLink.react','BUIAdoptionXUIGrayText.react','immutable','Layout.react','React','WebsiteCustomAudienceDeviceSelector.react','WebsiteCustomAudienceDeviceTypes','WebsiteCustomAudienceModel'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('WebsiteCustomAudienceDeviceTypes').DeviceTypes,n=c('WebsiteCustomAudienceModel').Rule,o=c('Layout.react').Column,p=c('Layout.react').FillColumn,q=c('immutable').Map;j=babelHelpers.inherits(r,l);k=j&&j.prototype;function r(s){k.constructor.call(this,s);this.$AdsCustomConversionAdvancedRuleContent1=function(t){this.setState({rule:t});c('AdsCustomConversionRuleViewActions').setAdvancedRule({advancedRule:q({rule:t})});}.bind(this);this.$AdsCustomConversionAdvancedRuleContent2=function(t){this.setState({device:t});c('AdsCustomConversionRuleViewActions').setDeviceType({device:t});}.bind(this);this.state={rule:new n(),device:m.ALL.value};}r.prototype.render=function(){var s=this.state,t=s.rule,u=s.device,v=this.props,w=v.pixelID,x=v.eventState;return (c('React').createElement('div',null,c('React').createElement(c('Layout.react'),null,c('React').createElement(o,{className:"_1_yh"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',weight:'bold'},i._("Rule")),c('React').createElement(c('AdsHelpLink.react'),{position:'above'},i._("Define a conversion from a combination of events and parameters or traffic from specific URLs"))),c('React').createElement(p,null,c('React').createElement(c('AdsCustomConversionAdvancedRuleSet.react'),{eventState:x,pixelID:w,rule:t,onUpdateRuleSet:this.$AdsCustomConversionAdvancedRuleContent1}))),c('React').createElement(c('Layout.react'),null,c('React').createElement(o,{className:"_1_yh"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',weight:'bold'},i._("Device")),c('React').createElement(c('AdsHelpLink.react'),{position:'above'},i._("The type of the device where the pixel is triggered"))),c('React').createElement(p,null,c('React').createElement(c('WebsiteCustomAudienceDeviceSelector.react'),{device:u,onChange:this.$AdsCustomConversionAdvancedRuleContent2})))));};f.exports=r;}),null);
__d('AdsCustomConversionEventStore',['AdsDispatcher','AdsPixelServerActionTypes','AdsPixelViewActionTypes','FluxReduceStore','immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k,l=c('immutable').Map,m=c('immutable').Record,n='event',o=function s(t){return c('immutable').Map(t.filter(function(u){return u.data;}).reduce(function(u,v){return u.concat(v.data);},[]).reduce(function(u,v){var w=v.count,x=v.value;if(x!='__missing_event')if(u[x]){u[x]+=w;}else u[x]=w;return u;},{}));},p=function s(t){var u=o(t);return c('immutable').Map(u.reduce(function(v,w,x){v[x]=c('immutable').Map({name:x,value:w,parameters:c('immutable').Map({})});return v;},{}));};h=babelHelpers.inherits(q,m({statsLoaded:false,parametersLoaded:false,events:l({})}));i=h&&h.prototype;function q(){h.apply(this,arguments);}j=babelHelpers.inherits(r,c('FluxReduceStore'));k=j&&j.prototype;r.prototype.getInitialState=function(){return {selectedPixelID:'',pixels:c('immutable').Map({})};};r.prototype.reduce=function(s,t){var u=t.action;switch(u.type){case c('AdsPixelViewActionTypes').OUTCOME_BASE_PIXEL_CHANGE:case c('AdsPixelViewActionTypes').INITIALIZE_PIXEL_PICKER:return {selectedPixelID:u.data.pixelID,pixels:s.pixels};case c('AdsPixelServerActionTypes').RECEIVE_PIXEL_STATS:if(u.statsType===n&&u.feedback.stats){var v=u.feedback,w=v.pixelID,x=v.stats,y=p(x),z=this.getPixelStats(w).set('events',y).set('statsLoaded',true);return {selectedPixelID:s.selectedPixelID,pixels:s.pixels.set(w,z)};}return s;case c('AdsPixelServerActionTypes').RECEIVE_PIXEL_PARAMETERS:if(u.feedback.stats){var aa=u.feedback,event=aa.event,ba=aa.pixelID,ca=aa.stats,da=o(ca),ea=this.getPixelStats(ba).setIn(['events',event,'parameters'],da).set('parametersLoaded',true);return {selectedPixelID:s.selectedPixelID,pixels:s.pixels.set(ba,ea)};}return s;case c('AdsPixelServerActionTypes').RECEIVE_ERROR:default:return s;}};r.prototype.getPixelStats=function(s){var t=this.getState();return t.pixels.get(s)||new q();};function r(){j.apply(this,arguments);}f.exports=new r(c('AdsDispatcher'));}),null);
__d('AdsCustomConversionEventParamsSearchSource',['AbstractSearchSource','SearchableEntry'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AbstractSearchSource'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.$AdsCustomConversionEventParamsSearchSource1=[];}j.prototype.searchImpl=function(k,l,m){var n=this.$AdsCustomConversionEventParamsSearchSource1.filter(function(o){return o.toLowerCase().indexOf(k.toLowerCase())!==-1;}).map(function(o){return new (c('SearchableEntry'))({title:o,uniqueID:o});});l(n,k);};j.prototype.update=function(k){this.$AdsCustomConversionEventParamsSearchSource1=k;return this;};f.exports=j;}),null);
__d('AdsCustomConversionEventParamsTypeahead.react',['fbt','AdsCustomConversionEventParamsSearchSource','immutable','React','XUITypeahead.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=c('React').PropTypes,m=new (c('AdsCustomConversionEventParamsSearchSource'))();i=babelHelpers.inherits(n,k);j=i&&i.prototype;function n(o){j.constructor.call(this,o);this.$AdsCustomConversionEventParamsTypeahead1=function(p){this.setState({queryString:p.target.value});}.bind(this);this.$AdsCustomConversionEventParamsTypeahead2=function(){this.$AdsCustomConversionEventParamsTypeahead4('');}.bind(this);this.$AdsCustomConversionEventParamsTypeahead3=function(p){this.$AdsCustomConversionEventParamsTypeahead4(p.getTitle());}.bind(this);this.state={queryString:o.selectedParameter||''};}n.prototype.render=function(){var o=this.props.parameters.map(function(p,q){return q;}).toArray();return c('React').createElement(c('XUITypeahead.react'),babelHelpers['extends']({clearable:true,queryString:this.state.queryString,searchSource:m.update(o),showEntriesOnFocus:true,tallInput:true,onChange:this.$AdsCustomConversionEventParamsTypeahead1,onClear:this.$AdsCustomConversionEventParamsTypeahead2,onSelectAttempt:this.$AdsCustomConversionEventParamsTypeahead3},this.props));};n.prototype.$AdsCustomConversionEventParamsTypeahead4=function(o){this.props.onParameterChange(o);this.setState({queryString:o});};n.propTypes={parameters:l.instanceOf(c('immutable').Map).isRequired,placeholder:l.string,queryString:l.string,onParameterChange:l.func.isRequired};n.defaultProps={placeholder:h._("Choose a parameter (optional)")};f.exports=n;}),null);
__d('AdsTargetingOperatorSelector.react',['AdsRichSelector.react','AdsTargetingBuilderOperator','React','emptyFunction','shallowCompare'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Component,k=c('React').PropTypes,l=c('AdsRichSelector.react').Option,m=c('AdsTargetingBuilderOperator').Operator;h=babelHelpers.inherits(n,j);i=h&&h.prototype;n.prototype.shouldComponentUpdate=function(o,p){return c('shallowCompare')(this,o,p);};n.prototype.render=function(){var o=m.GREATER_THAN,p=m.LESS_THAN,q=m.GREATER_OR_EQUAL_TO,r=m.LESS_OR_EQUAL_TO,s=m.EQUALS,t=m.NOT_EQUALS,u=m.CONTAINS,v=m.NOT_CONTAINS;return (c('React').createElement(c('AdsRichSelector.react'),this.props,c('React').createElement(l,s,s.label),c('React').createElement(l,t,t.label),c('React').createElement(l,p,p.label),c('React').createElement(l,o,o.label),c('React').createElement(l,q,q.label),c('React').createElement(l,r,r.label),c('React').createElement(l,u,u.label),c('React').createElement(l,v,v.label)));};function n(){h.apply(this,arguments);}n.propTypes={onChange:k.func.isRequired};n.defaultProps={onChange:c('emptyFunction')};f.exports=n;}),null);
__d('AdsCustomConversionEventRuleClause.react',['cx','fbt','AdsCustomConversionEventParamsTypeahead.react','AdsCustomConversionRuleClauseButtons.react','AdsTargetingOperatorSelector.react','AdsTargetingTokenInput.react','BUITextInput.react','immutable','Layout.react','React','shallowCompare'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('React').PropTypes,n=c('Layout.react').Column,o=c('Layout.react').FillColumn,p=i._("Add a value"),q=i._("or"),r=/,/;j=babelHelpers.inherits(s,l);k=j&&j.prototype;function s(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=k.constructor).call.apply(t,[this].concat(w)),this.$AdsCustomConversionEventRuleClause4=function(){var y=this.props.ruleIndex;this.context.addEventClause({ruleIndex:y});}.bind(this),this.$AdsCustomConversionEventRuleClause5=function(){var y=this.props,z=y.ruleIndex,aa=y.eventClauseIndex;this.context.removeEventClause({ruleIndex:z,eventClauseIndex:aa});}.bind(this),this.$AdsCustomConversionEventRuleClause1=function(y){var z=this.props,aa=z.ruleIndex,ba=z.eventClauseIndex;this.context.initEventParameter({ruleIndex:aa,eventClauseIndex:ba,value:y});}.bind(this),this.$AdsCustomConversionEventRuleClause2=function(y){var z=this.props,aa=z.ruleIndex,ba=z.eventClauseIndex;this.context.updateEventParameter({ruleIndex:aa,eventClauseIndex:ba,key:'operator',value:y.value});}.bind(this),this.$AdsCustomConversionEventRuleClause3=function(y){var z=this.props,aa=z.ruleIndex,ba=z.eventClauseIndex;this.context.updateEventParameter({ruleIndex:aa,eventClauseIndex:ba,key:'value',value:y});}.bind(this),u;}s.prototype.$AdsCustomConversionEventRuleClause6=function(){return !!this.props.eventClause.get('parameter');};s.prototype.$AdsCustomConversionEventRuleClause7=function(t){var u=t?n:o,v=this.props,w=v.eventClause,x=v.eventState,y=v.rule,z=w.get('parameter'),aa=(!t?"_39v9":'')+(' '+"_5amh"),ba=y.getIn(['clauses',0,0]),ca=x.getIn(['events',ba,'parameters']);return c('React').createElement(u,{className:aa},c('React').createElement(c('AdsCustomConversionEventParamsTypeahead.react'),{parameters:ca,selectedParameter:z,onParameterChange:this.$AdsCustomConversionEventRuleClause1}));};s.prototype.$AdsCustomConversionEventRuleClause8=function(t){if(!t)return null;var u=this.props.eventClause,v=this.props.eventClause.get('operator');return c('React').createElement(n,{className:"_5amj"},c('React').createElement(c('AdsTargetingOperatorSelector.react'),{defaultValue:v,onChange:this.$AdsCustomConversionEventRuleClause2}));};s.prototype.$AdsCustomConversionEventRuleClause9=function(t){if(!t)return null;var u=this.props.eventClause.get('value');return (c('React').createElement(o,null,c('React').createElement(c('AdsTargetingTokenInput.react'),{autoFocus:true,defaultTokens:u,placeholder:p,separator:q,separatorRegex:r,onTokenChange:this.$AdsCustomConversionEventRuleClause3.bind(this)})));};s.prototype.$AdsCustomConversionEventRuleClause10=function(t){if(!t)return null;var u=this.props,v=u.ruleIndex,w=u.eventClauseIndex,x=u.eventClauseLength,y=w!==x-1,z=x<=1;return (c('React').createElement(n,null,c('React').createElement(c('AdsCustomConversionRuleClauseButtons.react'),{clauseIndex:w,disableAdd:y,disableRemove:z,ruleIndex:v,onAdd:this.$AdsCustomConversionEventRuleClause4,onRemove:this.$AdsCustomConversionEventRuleClause5})));};s.prototype.shouldComponentUpdate=function(t,u){return c('shallowCompare')(this,t,u);};s.prototype.render=function(){var t=this.$AdsCustomConversionEventRuleClause6(),u="_39va"+(' '+"_4nqd");return (c('React').createElement(c('Layout.react'),{className:u},this.$AdsCustomConversionEventRuleClause7(t),this.$AdsCustomConversionEventRuleClause8(t),this.$AdsCustomConversionEventRuleClause9(t),this.$AdsCustomConversionEventRuleClause10(t)));};s.contextTypes={initEventParameter:m.func.isRequired,updateEventParameter:m.func.isRequired,addEventClause:m.func.isRequired,removeEventClause:m.func.isRequired};s.propTypes={eventState:m.instanceOf(c('immutable').Map).isRequired,eventClause:m.instanceOf(c('immutable').Map).isRequired,ruleIndex:m.number.isRequired,eventClauseIndex:m.number.isRequired};f.exports=s;}),null);
__d('AdsCustomConversionEventSearchSource',['AbstractSearchSource','SearchableEntry'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AbstractSearchSource'));i=h&&h.prototype;function j(){i.constructor.call(this);this.$AdsCustomConversionEventSearchSource1=[];}j.prototype.searchImpl=function(k,l,m){var n=this.$AdsCustomConversionEventSearchSource1.filter(function(o){return -1!==o.toLowerCase().indexOf(k.toLowerCase());}).map(function(o){return new (c('SearchableEntry'))({title:o,uniqueID:o});});l(n,k);};j.prototype.update=function(k){this.$AdsCustomConversionEventSearchSource1=k;return this;};f.exports=j;}),null);
__d('AdsCustomConversionEventTypeahead.react',['AdsCustomConversionEventSearchSource','immutable','React','XUITypeahead.react','emptyFunction'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Component,k=c('React').PropTypes,l=new (c('AdsCustomConversionEventSearchSource'))();h=babelHelpers.inherits(m,j);i=h&&h.prototype;function m(n){i.constructor.call(this,n);this.$AdsCustomConversionEventTypeahead1=function(o){this.setState({queryString:o.target.value});this.$AdsCustomConversionEventTypeahead4();}.bind(this);this.$AdsCustomConversionEventTypeahead2=function(){this.$AdsCustomConversionEventTypeahead5('');this.$AdsCustomConversionEventTypeahead4();}.bind(this);this.$AdsCustomConversionEventTypeahead3=function(o){this.$AdsCustomConversionEventTypeahead5(o.getTitle());}.bind(this);this.state={queryString:n.selectedEvent||''};}m.prototype.render=function(){var n=this.props.events.toArray().map(function(event){return event.get('name');});if(n.length===0)return null;return c('React').createElement(c('XUITypeahead.react'),babelHelpers['extends']({clearable:true,focusedOnInit:true,queryString:this.state.queryString,searchSource:l.update(n),showEntriesOnFocus:true,tallInput:true},this.props,{onChange:this.$AdsCustomConversionEventTypeahead1,onClear:this.$AdsCustomConversionEventTypeahead2,onSelectAttempt:this.$AdsCustomConversionEventTypeahead3}));};m.prototype.$AdsCustomConversionEventTypeahead4=function(){this.context.addEvents({ruleIndex:this.props.ruleIndex,tokens:c('immutable').List()});};m.prototype.$AdsCustomConversionEventTypeahead5=function(n){this.props.onEventChange(n);this.setState({queryString:n});};m.contextTypes={addEvents:k.func.isRequired};m.propTypes={events:k.instanceOf(c('immutable').Map).isRequired,ruleIndex:k.number.isRequired,selectedEvent:k.string,onEventChange:k.func.isRequired};m.defaultProps={onEventChange:c('emptyFunction')};f.exports=m;}),null);
__d('AdsCustomConversionEventRuleEditor.react',['cx','fbt','AdsCustomConversionEventRuleClause.react','AdsCustomConversionEventTypeahead.react','AdsCustomConversionRuleTypeSelector.react','AdsPixelDataManager','immutable','Layout.react','React','shallowCompare'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('immutable').List,m=c('immutable').Map,n=c('React').Component,o=c('React').PropTypes,p=c('Layout.react').Column,q=c('Layout.react').FillColumn,r=i._("Select an event");j=babelHelpers.inherits(s,n);k=j&&j.prototype;function s(){var t;(t=k.constructor).call.apply(t,[this].concat(Array.prototype.slice.call(arguments)));this.$AdsCustomConversionEventRuleEditor2=function(event){this.context.addEvents({ruleIndex:this.props.ruleIndex,tokens:l([event])});this.$AdsCustomConversionEventRuleEditor3(event);}.bind(this);this.$AdsCustomConversionEventRuleEditor3=function(event){var u=this.props.pixelID;if(event&&u)c('AdsPixelDataManager').loadEventParameters(event,u);}.bind(this);this.$AdsCustomConversionEventRuleEditor1=this.$AdsCustomConversionEventRuleEditor1.bind(this);}s.prototype.$AdsCustomConversionEventRuleEditor1=function(t,u,v){var w=t.hashCode()+u;return (c('React').createElement(c('Layout.react'),{key:w},c('React').createElement(q,null,c('React').createElement(c('AdsCustomConversionEventRuleClause.react'),babelHelpers['extends']({},this.props,{eventClause:t,eventClauseIndex:u,eventClauseLength:v.size})))));};s.prototype.$AdsCustomConversionEventRuleEditor4=function(t){var u=t.eventState,v=this.$AdsCustomConversionEventRuleEditor5(this.props),w=u.getIn(['events',v,'parameters']);return (u.get('events').size>0&&!!w&&w.size>0);};s.prototype.$AdsCustomConversionEventRuleEditor5=function(t){return t.rule.getIn(['clauses',0,0]);};s.prototype.$AdsCustomConversionEventRuleEditor6=function(){return this.$AdsCustomConversionEventRuleEditor4(this.props);};s.prototype.shouldComponentUpdate=function(t,u){return c('shallowCompare')(this,t,u);};s.prototype.componentWillUpdate=function(t,u){if(!this.$AdsCustomConversionEventRuleEditor4(t)){var event=this.$AdsCustomConversionEventRuleEditor5(t);this.$AdsCustomConversionEventRuleEditor3(event);}};s.prototype.render=function(){var t=this.props,u=t.rule,v=t.ruleIndex,w=t.eventState,x=u.get('type'),y=w.get('events'),z=null;if(this.$AdsCustomConversionEventRuleEditor6())z=u.get('eventClauses').map(this.$AdsCustomConversionEventRuleEditor1,this);var aa="_170a"+(' '+"_1waa"),ba=this.$AdsCustomConversionEventRuleEditor5(this.props);return (c('React').createElement('div',{className:aa},c('React').createElement(c('Layout.react'),null,c('React').createElement(p,null,c('React').createElement(c('AdsCustomConversionRuleTypeSelector.react'),{className:"_170b",defaultValue:x,shouldRenderEvent:true,size:'large',onChange:function(ca){return this.props.updateRuleType({ruleIndex:v,type:ca.value});}.bind(this)})),c('React').createElement(q,null,c('React').createElement(c('AdsCustomConversionEventTypeahead.react'),{className:"_170c",events:y,placeholder:r,ruleIndex:v,selectedEvent:ba,onEventChange:this.$AdsCustomConversionEventRuleEditor2}))),z));};s.contextTypes={addEvents:o.func.isRequired};f.exports=s;}),null);
__d('AdsCustomConversionURLContainsRuleClause.react',['cx','fbt','AdsCustomConversionRuleClauseButtons.react','AdsTargetingTokenInput.react','immutable','Layout.react','React','joinClasses','shallowCompare'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('React').PropTypes,n=c('Layout.react').Column,o=c('Layout.react').FillColumn,p=/\s/,q=i._("Add URL keywords"),r=i._("or");j=babelHelpers.inherits(s,l);k=j&&j.prototype;function s(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=k.constructor).call.apply(t,[this].concat(w)),this.$AdsCustomConversionURLContainsRuleClause3=function(y){var z=this.props,aa=z.ruleIndex,ba=z.clauseIndex;this.context.addURLKeywords({ruleIndex:aa,clauseIndex:ba,tokens:c('immutable').List(y)});}.bind(this),this.$AdsCustomConversionURLContainsRuleClause1=function(){var y=this.props.ruleIndex;this.context.addRuleClause({ruleIndex:y});}.bind(this),this.$AdsCustomConversionURLContainsRuleClause2=function(){var y=this.props,z=y.ruleIndex,aa=y.clauseIndex;this.context.removeRuleClause({ruleIndex:z,clauseIndex:aa});}.bind(this),u;}s.prototype.$AdsCustomConversionURLContainsRuleClause4=function(){return this.props.clauseIndex===0;};s.prototype.shouldComponentUpdate=function(t,u){return c('shallowCompare')(this,t,u);};s.prototype.render=function(){var t=this.props,u=t.ruleIndex,v=t.clauseIndex,w=t.tokens,x=t.clauseLength,y=w.toJS(),z=c('joinClasses')("_4nq4"+(' '+"_4nqd"),this.props.className),aa=v!==x-1,ba=x<=1;return (c('React').createElement(c('Layout.react'),{className:z},c('React').createElement(o,null,c('React').createElement(c('AdsTargetingTokenInput.react'),{autoFocus:true,defaultTokens:y,placeholder:q,separator:r,separatorRegex:p,onTokenChange:this.$AdsCustomConversionURLContainsRuleClause3})),c('React').createElement(n,null,c('React').createElement(c('AdsCustomConversionRuleClauseButtons.react'),{clauseIndex:v,disableAdd:aa,disableRemove:ba,ruleIndex:u,onAdd:this.$AdsCustomConversionURLContainsRuleClause1,onRemove:this.$AdsCustomConversionURLContainsRuleClause2}))));};s.contextTypes={addURLKeywords:m.func.isRequired,addRuleClause:m.func.isRequired,removeRuleClause:m.func.isRequired};s.propTypes={clauseIndex:m.number.isRequired,ruleIndex:m.number.isRequired,tokens:m.instanceOf(c('immutable').List).isRequired};f.exports=s;}),null);
__d('AdsCustomConversionURLContainsRuleEditor.react',['cx','AdsCustomConversionRuleTypeSelector.react','AdsCustomConversionURLContainsRuleClause.react','immutable','Layout.react','React','shallowCompare'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=c('React').PropTypes,m=c('Layout.react').FillColumn;i=babelHelpers.inherits(n,k);j=i&&i.prototype;n.prototype.shouldComponentUpdate=function(o,p){return c('shallowCompare')(this,o,p);};n.prototype.$AdsCustomConversionURLContainsRuleEditor1=function(o,p,q){var r=o.hashCode()+p;return (c('React').createElement(c('AdsCustomConversionURLContainsRuleClause.react'),{clauseIndex:p,clauseLength:q.size,key:r,ruleIndex:this.props.ruleIndex,tokens:o}));};n.prototype.render=function(){var o=this.props,p=o.rule,q=o.ruleIndex,r=o.shouldRenderEvent,s=o.updateRuleType,t=p.get('type'),u=p.get('clauses').map(this.$AdsCustomConversionURLContainsRuleEditor1,this),v="_1wa2"+(' '+"_1waa");return (c('React').createElement('div',{className:v},c('React').createElement(c('Layout.react'),null,c('React').createElement(m,null,c('React').createElement(c('AdsCustomConversionRuleTypeSelector.react'),{className:"_1wab",defaultValue:t,shouldRenderEvent:r,size:'large',onChange:function w(x){return s({ruleIndex:q,type:x.value});}}))),u));};function n(){i.apply(this,arguments);}n.propTypes={rule:l.instanceOf(c('immutable').Map).isRequired,ruleIndex:l.number.isRequired,shouldRenderEvent:l.bool.isRequired,updateRuleType:l.func.isRequired};f.exports=n;}),null);
__d('AdsCustomConversionURLEqualsRuleEditor.react',['cx','fbt','AdsCustomConversionRuleTypeSelector.react','AdsTargetingTokenInput.react','immutable','Layout.react','React','shallowCompare'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('React').PropTypes,n=c('Layout.react').FillColumn,o=i._("Add URL"),p=i._("or"),q=/\s/;j=babelHelpers.inherits(r,l);k=j&&j.prototype;function r(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=k.constructor).call.apply(s,[this].concat(v)),this.$AdsCustomConversionURLEqualsRuleEditor1=function(x){var y=this.props,z=y.ruleIndex,aa=y.clauseIndex;this.context.addURLs({ruleIndex:z,clauseIndex:aa,tokens:c('immutable').List(x)});}.bind(this),t;}r.prototype.shouldComponentUpdate=function(s,t){return c('shallowCompare')(this,s,t);};r.prototype.render=function(){var s=this.props,t=s.rule,u=s.ruleIndex,v=s.shouldRenderEvent,w=s.updateRuleType,x=t.get('type'),y=t.getIn(['clauses',0]).toJS();return (c('React').createElement('div',{className:"_1waa"},c('React').createElement(c('Layout.react'),null,c('React').createElement(n,null,c('React').createElement(c('AdsCustomConversionRuleTypeSelector.react'),{className:"_352d",defaultValue:x,shouldRenderEvent:v,size:'large',onChange:function z(aa){return w({ruleIndex:u,type:aa.value});}}))),c('React').createElement(c('Layout.react'),null,c('React').createElement(n,null,c('React').createElement(c('AdsTargetingTokenInput.react'),{autoFocus:true,defaultTokens:y,placeholder:o,separator:p,separatorRegex:q,onTokenChange:this.$AdsCustomConversionURLEqualsRuleEditor1})))));};r.contextTypes={addURLs:m.func.isRequired};r.propTypes={rule:m.instanceOf(c('immutable').Map).isRequired,ruleIndex:m.number.isRequired,shouldRenderEvent:m.bool.isRequired,updateRuleType:m.func.isRequired};f.exports=r;}),null);
__d('AdsCustomConversionRuleEditorSet.react',['cx','fbt','invariant','AdsCustomConversionEventRuleEditor.react','AdsCustomConversionRuleCondition','AdsCustomConversionRuleType','AdsCustomConversionURLContainsRuleEditor.react','AdsCustomConversionURLEqualsRuleEditor.react','BUIAdoptionXUIGrayText.react','immutable','React','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').Component,n=c('React').PropTypes,o=c('immutable').List,p=c('immutable').Map;k=babelHelpers.inherits(q,m);l=k&&k.prototype;function q(){var r;(r=l.constructor).call.apply(r,[this].concat(Array.prototype.slice.call(arguments)));this.$AdsCustomConversionRuleEditorSet2=function(s){this.context.updateRuleType(s);}.bind(this);this.$AdsCustomConversionRuleEditorSet1=function(s,t){return (c('React').createElement('div',{className:"_1a8x",key:t},this.$AdsCustomConversionRuleEditorSet3(s,t),this.$AdsCustomConversionRuleEditorSet4(s,t)));}.bind(this);this.$AdsCustomConversionRuleEditorSet1=this.$AdsCustomConversionRuleEditorSet1.bind(this);}q.prototype.$AdsCustomConversionRuleEditorSet3=function(r,s){var t=null,u=r.get('condition');switch(u){case c('AdsCustomConversionRuleCondition').ALSO_INCLUDE:t=i._("Include traffic that meets the following conditions:");break;case c('AdsCustomConversionRuleCondition').ONLY_INCLUDE:t=i._("ALSO INCLUDE traffic that meets the following conditions:");break;case c('AdsCustomConversionRuleCondition').EXCLUDE:t=i._("EXCLUDE traffic that meets the following conditions:");break;}return c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_1a8w",shade:'medium',size:'small',weight:'bold'},t);};q.prototype.$AdsCustomConversionRuleEditorSet4=function(r,s){var t=this.props,u=t.eventState,v=t.pixelID,w=r.get('type'),x=u.get('statsLoaded')&&u.get('events').size>0,y={rule:r,ruleIndex:s,updateRuleType:this.$AdsCustomConversionRuleEditorSet2,shouldRenderEvent:x};switch(w){case c('AdsCustomConversionRuleType').URL_CONTAINS:return c('React').createElement(c('AdsCustomConversionURLContainsRuleEditor.react'),y);case c('AdsCustomConversionRuleType').URL_EQUALS:return c('React').createElement(c('AdsCustomConversionURLEqualsRuleEditor.react'),y);case c('AdsCustomConversionRuleType').EVENT:return c('React').createElement(c('AdsCustomConversionEventRuleEditor.react'),babelHelpers['extends']({},y,{eventState:u,pixelID:v}));default:j(0);}};q.prototype.shouldComponentUpdate=function(r,s){return c('shallowCompare')(this,r,s);};q.prototype.render=function(){var r=this.props.rules.map(this.$AdsCustomConversionRuleEditorSet1,this);return (c('React').createElement('div',{className:"_1a8y"},r));};q.contextTypes={updateRuleType:n.func.isRequired};f.exports=q;}),null);
__d('AdsCustomConversionRuleContent.react',['cx','fbt','AdsCustomConversionRuleEditorSet.react','AdsHelpLink.react','BUIAdoptionXUIGrayText.react','Layout.react','React','immutable'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column,m=c('Layout.react').FillColumn,n=c('immutable').List,o=c('immutable').Map;j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;p.prototype.$AdsCustomConversionRuleContent1=function(){return (c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'small',weight:'bold'},i._("Rule")),c('React').createElement(c('AdsHelpLink.react'),{position:'above'},i._("Define a conversion from a combination of events and parameters or traffic from specific URLs"))));};p.prototype.render=function(){var q=this.props,r=q.eventState,s=q.pixelID,t=q.rules;return (c('React').createElement(c('Layout.react'),null,c('React').createElement(l,{className:"_1_yh"},this.$AdsCustomConversionRuleContent1()),c('React').createElement(m,null,c('React').createElement(c('AdsCustomConversionRuleEditorSet.react'),{eventState:r,pixelID:s,rules:t}))));};function p(){j.apply(this,arguments);}f.exports=p;}),null);
__d('AdsCustomConversionRuleContainer.react',['cx','fbt','AdsCustomConversionAdvancedRuleContent.react','AdsCustomConversionEventStore','AdsCustomConversionRuleContent.react','AdsCustomConversionRuleStore','AdsFluxContainer','AdsHelpLink.react','AdsPixelDataManager','BUIAdoptionXUIGrayText.react','BUISwitch.react','FluxStore','immutable','Layout.react','React','AdsCustomConversionRuleViewActions'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column,m=c('Layout.react').FillColumn,n=c('React').Component,o=c('React').PropTypes,p=c('immutable').Map,q='event',r=300;j=babelHelpers.inherits(s,n);k=j&&j.prototype;function s(t){k.constructor.call(this,t);this.state={eventState:{selectedPixelID:'',pixels:p({})},ruleState:p({})};}s.getStores=function(){return [c('AdsCustomConversionEventStore'),c('AdsCustomConversionRuleStore')];};s.calculateState=function(t){return {eventState:c('AdsCustomConversionEventStore').getState(),ruleState:c('AdsCustomConversionRuleStore').getState()};};s.prototype.getChildContext=function(){return c('AdsCustomConversionRuleViewActions');};s.prototype.componentWillMount=function(){var t=this.state.eventState.selectedPixelID,u=this.state.eventState.pixels.getIn([t,'statsLoaded']);if(!t||!u)c('AdsPixelDataManager').loadPixels();};s.prototype.componentWillUpdate=function(t,u){var v=u.eventState.selectedPixelID,w=u.eventState.pixels.getIn([v,'statsLoaded']);if(v&&!w)c('AdsPixelDataManager').loadStats(q,v);};s.prototype.render=function(){var t=this.state,u=t.eventState,v=t.ruleState,w=this.props.advancedMode,x=v.get('rules'),y=u.selectedPixelID,z=p(c('AdsCustomConversionEventStore').getPixelStats(y)),aa=w?c('AdsCustomConversionAdvancedRuleContent.react'):c('AdsCustomConversionRuleContent.react');return (c('React').createElement('div',null,this.$AdsCustomConversionRuleContainer1(),c('React').createElement(aa,{eventState:z,pixelID:y,rules:x})));};s.prototype.$AdsCustomConversionRuleContainer1=function(){var t=this.props,u=t.advancedMode,v=t.canSeeAdvancedBuilder,w=t.onSwitchMode;return v?c('React').createElement(c('Layout.react'),null,c('React').createElement(l,{className:"_1_yh"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',weight:'bold'},i._("Advanced mode")),c('React').createElement(c('AdsHelpLink.react'),{position:'above',width:r},i._("Use advanced rules to create a limited number of audiences based on frequency, devices, sum, average, maximum or minimum values."))),c('React').createElement(m,null,c('React').createElement('div',{className:"_4e1z"},c('React').createElement(c('BUISwitch.react'),{ref:'switch',showLabel:true,value:u,onToggle:w})))):null;};s.childContextTypes=Object.keys(c('AdsCustomConversionRuleViewActions')).reduce(function(t,u){t[u]=o.func.isRequired;return t;},{});f.exports=c('AdsFluxContainer').create(s,{withProps:true});}),null);
__d('AdsGoalCategoryRowContent.react',['cx','fbt','AdsGoalCategories','AdsHelpLink.react','BUIAdoptionXUIGrayText.react','Layout.react','React','AdsRichSelector.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column,m=c('Layout.react').FillColumn,n=c('AdsRichSelector.react').Option,o=i._("Choose a category");j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;p.prototype.render=function(){return (c('React').createElement(c('Layout.react'),{className:"_2lh6"},c('React').createElement(l,{className:"_1_yh"},this.$AdsGoalCategoryRowContent1()),c('React').createElement(m,null,c('React').createElement(c('AdsRichSelector.react'),{defaultLabel:o,defaultValue:this.props.category,size:'large',onChange:this.props.onCategoryChange},this.$AdsGoalCategoryRowContent2()),c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'light',size:'small',style:{marginTop:8}},i._("Choose the category that best describes the rule that you're defining. Selecting a category helps Facebook learn how to optimise advert delivery for the custom conversion that you're creating.")))));};p.prototype.$AdsGoalCategoryRowContent1=function(){return (c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'small',weight:'bold'},i._("Category")),c('React').createElement(c('AdsHelpLink.react'),{position:'above',width:400},i._("Selecting a category helps Facebook learn how to optimise advert delivery for the custom conversion that you're creating."))));};p.prototype.$AdsGoalCategoryRowContent2=function(){return Object.keys(c('AdsGoalCategories')).map(function(q){var r=c('AdsGoalCategories')[q].name,s=c('AdsGoalCategories')[q].custom_event_type;return (c('React').createElement(n,{key:q,label:r,value:s},r));});};function p(){j.apply(this,arguments);}f.exports=p;}),null);
__d('AdsGoalCategoryRowContainer.react',['AdsFluxContainer','AdsGoalCategoryRowContent.react','AdsGoalDraftStore','AdsGoalViewActions','FluxStore','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.getStores=function(){return [c('AdsGoalDraftStore')];};j.calculateState=function(k,l){var m=c('AdsGoalDraftStore').getCategory();return {category:m};};j.prototype.render=function(){return (c('React').createElement(c('AdsGoalCategoryRowContent.react'),babelHelpers['extends']({},this.state,{onCategoryChange:this.$AdsGoalCategoryRowContainer1})));};j.prototype.$AdsGoalCategoryRowContainer1=function(k){c('AdsGoalViewActions').updateCategory(k.value);};function j(){h.apply(this,arguments);}f.exports=c('AdsFluxContainer').create(j);}),null);
__d('AdsPixelPickerRow.react',['cx','fbt','AdsHelpLink.react','AdsPixelPickerStore','AdsPixelPickerWrapper.react','AdsPixelStore','AdsPixelStoreWrapper','BUIAdoptionXUIGrayText.react','FluxMixinLegacy','Layout.react','React','ReactComponentWithPureRenderMixin'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('Layout.react').Column,k=c('React').PropTypes,l=c('React').createClass({displayName:'AdsPixelPickerRow',mixins:[c('ReactComponentWithPureRenderMixin'),c('FluxMixinLegacy')([c('AdsPixelPickerStore'),c('AdsPixelStore')])],propTypes:{className:k.string,isPickerDisabled:k.bool,labelMargin:k.number,labelWidth:k.number},statics:{calculateState:function m(){return {currentPixelID:c('AdsPixelStoreWrapper').getCurrentPixelID()};}},render:function m(){if(!this.state.currentPixelID)return null;var n={};if(this.props.labelMargin)n.marginRight=this.props.labelMargin;if(this.props.labelWidth)n.width=this.props.labelWidth;return (c('React').createElement(c('Layout.react'),{className:"_1s93"},c('React').createElement(j,{className:this.props.className||"_4_dt",style:n},this._getLabel()),c('React').createElement(j,null,c('React').createElement(c('AdsPixelPickerWrapper.react'),{isPickerDisabled:this.props.isPickerDisabled}))));},_getLabel:function m(){return (c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'small',weight:'bold'},i._("Pixel")),c('React').createElement(c('AdsHelpLink.react'),{position:'above'},i._("The Facebook pixel that is the source of this traffic."))));}});f.exports=l;}),null);
__d('AdsGoalStepOneContent.react',['cx','fbt','AdsAccountUtils','AdsAccountCapabilities','AdsInterfacesLogger','AdsCustomConversionRuleContainer.react','AdsGoalCategoryRowContainer.react','AdsPixelDialogTypes','AdsPixelPickerRow.react','AdsPixelViewActions','AdsSelectedAccountGetter','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react','nullthrows'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('React').PropTypes;j=babelHelpers.inherits(n,l);k=j&&j.prototype;function n(o){k.constructor.call(this,o);this.$AdsGoalStepOneContent2=function(q){this.setState({advancedMode:q});}.bind(this);var p=c('AdsAccountUtils').hasCapability(c('nullthrows')(c('AdsSelectedAccountGetter').get({})),c('AdsAccountCapabilities').CAN_CREATE_AGGREGATE_CUSTOM_CONVERSIONS);this.state={advancedMode:p,canSeeAdvancedBuilder:p};}n.prototype.render=function(){var o=this.state,p=o.advancedMode,q=o.canSeeAdvancedBuilder;return c('React').createElement('div',{className:"_29j6"},c('React').createElement(c('XUIDialogTitle.react'),null,this.$AdsGoalStepOneContent1()),c('React').createElement(c('XUIDialogBody.react'),{className:"_29j7"},c('React').createElement('div',{className:"_2e5f"},c('React').createElement(c('AdsPixelPickerRow.react'),{className:"_1_yh"})),c('React').createElement(c('AdsCustomConversionRuleContainer.react'),{advancedMode:p,canSeeAdvancedBuilder:q,onSwitchMode:this.$AdsGoalStepOneContent2}),c('React').createElement(c('AdsGoalCategoryRowContainer.react'),null)),this.$AdsGoalStepOneContent3());};n.prototype.$AdsGoalStepOneContent1=function(){return i._("Create a Custom Conversion");};n.prototype.$AdsGoalStepOneContent3=function(){return c('React').createElement(c('XUIDialogFooter.react'),{leftContent:this.props.backButton},c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:this.$AdsGoalStepOneContent4}),c('React').createElement(c('XUIDialogButton.react'),{disabled:!this.props.isRuleValid,label:i._("Next"),use:'confirm',onClick:this.$AdsGoalStepOneContent5}));};n.prototype.$AdsGoalStepOneContent5=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').GOAL_CREATE_STEP_TWO);c('AdsInterfacesLogger').log({eventName:'ads_pixel_goal_creation_next_step_1'},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};n.prototype.$AdsGoalStepOneContent4=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').NO_DIALOG);c('AdsInterfacesLogger').log({eventName:'ads_pixel_goal_creation_cancel_step_1'},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};n.propTypes={backButton:m.element,isRuleValid:m.bool,showPotentialWarnings:m.bool};f.exports=n;}),null);
__d('AdsPixelDialogTitleMap',['fbt'],(function a(b,c,d,e,f,g,h){'use strict';f.exports={CREATE_PIXEL:h._("Create a Facebook pixel"),EMAIL_CODE:h._("Email pixel code"),EMAIL_CODE_SUCCESS:h._("Email pixel code"),INTEGRATIONS_LIST:h._("Choose your solution"),INTEGRATION_REQUEST_SUCCESS:h._("Request a new integration solution"),INTEGRATIONS_SHOPIFY:h._("Install your pixel on Shopify"),SETUP_CONVERSION:h._("View pixel code"),SOLUTION_TYPE_SELECTOR:h._("Install your pixel code"),VIEW_CODE:h._("View pixel base code"),VIEW_EVENT_CODE:h._("View pixel code")};}),null);
__d("XAdsPixelIntegrationsContentController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ads\/pixel\/integrations_content\/{pixel_id}\/{name}\/",{name:{type:"String",required:true},pixel_id:{type:"String",required:true}});}),null);
__d('AdsPixelIntegrationDataManager',['invariant','AdsDispatcher','AdsActionTypes','AsyncRequest','XAdsPixelIntegrationsContentController'],(function a(b,c,d,e,f,g,h){'use strict';var i={setIntegration:function j(k,l){k||h(0);l||h(0);var m=c('XAdsPixelIntegrationsContentController').getURIBuilder().setString('pixel_id',k).setString('name',l).getURI();new (c('AsyncRequest'))().setURI(m).setHandler(function(n){var o=n.payload;c('AdsDispatcher').handleUpdateFromServerResponse({content:o,name:l,pixelID:k,type:c('AdsActionTypes').ADS_PIXEL.CMS_LOAD.SUCCESS});}).setErrorHandler(function(n){c('AdsDispatcher').handleUpdateFromServerResponse({error:n,name:l,pixelID:k,type:c('AdsActionTypes').ADS_PIXEL.CMS_LOAD.ERROR});}).send();}};f.exports=i;}),null);
__d('AdsPixelIntegrationsStore',['AdsActionTypes','AdsDispatcher','AdsPixelIntegrationDataManager','FluxLoadObjectStore','LoadObject','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxLoadObjectStore'));i=h&&h.prototype;j.prototype.getContent=function(k,l){return this.get(this.$AdsPixelIntegrationsStoreClass1(k,l));};j.prototype.reduce=function(k,l){var m=l.action,n=void 0;switch(m.type){case c('AdsActionTypes').ADS_PIXEL.CMS_LOAD.SUCCESS:n=this.$AdsPixelIntegrationsStoreClass1(m.pixelID,m.name);return this.__handleOne(k,n,m.content);case c('AdsActionTypes').ADS_PIXEL.CMS_LOAD.ERROR:n=this.$AdsPixelIntegrationsStoreClass1(m.pixelID,m.name);return this.__handleOne(k,n,m.error);default:return k;}};j.prototype.__load=function(k){var l=this.$AdsPixelIntegrationsStoreClass2(k),m=l.pixelID,n=l.name;c('AdsPixelIntegrationDataManager').setIntegration(m,n);};j.prototype.$AdsPixelIntegrationsStoreClass1=function(k,l){return k+'_'+l;};j.prototype.$AdsPixelIntegrationsStoreClass2=function(k){var l=k.split('_');return {pixelID:c('nullthrows')(l[0]),name:c('nullthrows')(l[1])};};function j(){h.apply(this,arguments);}f.exports=new j(c('AdsDispatcher'));}),null);
__d('AdsPixelDialogStore',['AdsDispatcher','AdsPixelDialogTitleMap','AdsPixelDialogTypes','AdsPixelDataManager','AdsPixelIntegrationsStore','AdsGoalServerActionTypes','AdsPixelViewActionTypes','FluxStore','adsBaseStoreMixin'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$AdsPixelDialogStoreClass1='';this.$AdsPixelDialogStoreClass3=c('AdsPixelDialogTypes').NO_DIALOG;this.$AdsPixelDialogStoreClass4=[];this.$AdsPixelDialogStoreClass5=null;this.$AdsPixelDialogStoreClass2=false;this.$AdsPixelDialogStoreClass6=null;}j.prototype.$AdsPixelDialogStoreClass7=function(){return [c('AdsPixelIntegrationsStore')];};j.prototype.getStoreName=function(){return 'AdsPixelDialogStore';};j.prototype.__onDispatch=function(l){var m=l.action;switch(m.actionType){case c('AdsPixelViewActionTypes').DIALOG_TYPE_CHANGE:var n=m.data,o=n.dialogType,p=n.integrationName,q=n.isInlineFlow,r=n.pixelIDForDialog;if(o in c('AdsPixelDialogTypes')){if(o===c('AdsPixelDialogTypes').NO_DIALOG){this.$AdsPixelDialogStoreClass8();}else this.$AdsPixelDialogStoreClass4.push(this.$AdsPixelDialogStoreClass3);if(this.$AdsPixelDialogStoreClass3 in c('AdsPixelDialogTitleMap'))this.$AdsPixelDialogStoreClass5=c('AdsPixelDialogTitleMap')[this.$AdsPixelDialogStoreClass3];this.$AdsPixelDialogStoreClass3=o;if(q!=null)this.$AdsPixelDialogStoreClass2=q;if(p!=null)this.$AdsPixelDialogStoreClass1=p;if(r!=null)this.$AdsPixelDialogStoreClass6=r;this.__emitChange();}break;case c('AdsPixelViewActionTypes').ON_DIALOG_BACK:if(this.$AdsPixelDialogStoreClass4.length>0){if(this.$AdsPixelDialogStoreClass3 in c('AdsPixelDialogTitleMap'))this.$AdsPixelDialogStoreClass5=c('AdsPixelDialogTitleMap')[this.$AdsPixelDialogStoreClass3];this.$AdsPixelDialogStoreClass3=this.$AdsPixelDialogStoreClass4.pop();}this.__emitChange();break;case c('AdsGoalServerActionTypes').EDITED_GOAL:this.$AdsPixelDialogStoreClass3=c('AdsPixelDialogTypes').NO_DIALOG;this.$AdsPixelDialogStoreClass8();this.__emitChange();break;case c('AdsGoalServerActionTypes').CREATED_GOAL:this.$AdsPixelDialogStoreClass3=c('AdsPixelDialogTypes').GOAL_CREATE_STEP_THREE;this.__emitChange();break;}};j.prototype.getCurrentDialogType=function(){return this.$AdsPixelDialogStoreClass3;};j.prototype.getPreviousDialogType=function(){return this.$AdsPixelDialogStoreClass4.length>0?this.$AdsPixelDialogStoreClass4[this.$AdsPixelDialogStoreClass4.length-1]:c('AdsPixelDialogTypes').NO_DIALOG;};j.prototype.getPreviousDialogTitle=function(){return this.$AdsPixelDialogStoreClass5;};j.prototype.getCurrentIntegraionName=function(){return this.$AdsPixelDialogStoreClass1;};j.prototype.getPixelIDForDialog=function(){return this.$AdsPixelDialogStoreClass6;};j.prototype.getIsInlineFlow=function(){return this.$AdsPixelDialogStoreClass2;};j.prototype.setPixelIDForDialog=function(l){this.$AdsPixelDialogStoreClass6=l;};j.prototype.$AdsPixelDialogStoreClass8=function(){this.$AdsPixelDialogStoreClass4=[];};var k=new j();f.exports=k;}),null);
__d('AdsGoalStepOneContainer.react',['fbt','AdsCustomConversionStoreUtils','AdsFluxContainer','AdsGoalDraftStore','AdsGoalStepOneContent.react','AdsPixelDialogStore','AdsPixelDialogTypes','AdsPixelViewActions','FluxStore','React','XUIDialogButton.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;l.getStores=function(){return [c('AdsGoalDraftStore'),c('AdsPixelDialogStore')];};l.calculateState=function(m){var n=c('AdsCustomConversionStoreUtils').isRuleValid()&&c('AdsGoalDraftStore').isCategorySelected();return {isRuleValid:n,prevDialogType:c('AdsPixelDialogStore').getPreviousDialogType(),showPotentialWarnings:c('AdsGoalDraftStore').showPotentialWarnings()};};l.prototype.render=function(){return (c('React').createElement(c('AdsGoalStepOneContent.react'),{backButton:this.$AdsGoalStepOneContainer1(),isRuleValid:this.state.isRuleValid,showPotentialWarnings:this.state.showPotentialWarnings}));};l.prototype.$AdsGoalStepOneContainer1=function(){var m=this.state.prevDialogType;if(m===c('AdsPixelDialogTypes').NO_DIALOG)return null;return (c('React').createElement(c('XUIDialogButton.react'),{label:h._("Back"),use:'default',onClick:this.$AdsGoalStepOneContainer2}));};l.prototype.$AdsGoalStepOneContainer2=function(){c('AdsPixelViewActions').onDialogBack();};function l(){i.apply(this,arguments);}f.exports=c('AdsFluxContainer').create(l);}),null);
__d('AdsGoalCompleteRow.react',['cx','fbt','ix','AdsGoalDraftStore','BUIAdoptionXUIGrayText.react','FluxMixinLegacy','Image.react','Layout.react','React','ReactComponentWithPureRenderMixin'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('Layout.react').Column,l=c('Layout.react').FillColumn,m=c('React').createClass({displayName:'AdsGoalCompleteRow',mixins:[c('ReactComponentWithPureRenderMixin'),c('FluxMixinLegacy')([c('AdsGoalDraftStore')])],statics:{calculateState:function n(){return {name:c('AdsGoalDraftStore').getName(),goalID:c('AdsGoalDraftStore').getGoalID()};}},render:function n(){return (c('React').createElement('div',{className:"_3t74"},c('React').createElement(c('Layout.react'),null,c('React').createElement(k,{className:"_3t77"},c('React').createElement(c('Image.react'),{className:"_3t78",src:j("23287")})),c('React').createElement(l,null,c('React').createElement('div',{className:"_3-9c"},c('React').createElement('div',{className:'ellipsis','data-hover':'tooltip','data-tooltip-display':'overflow'},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'large',weight:'bold'},i._("You created the custom conversion \"{custom conversion name}\"",[i.param('custom conversion name',this.state.name)]))),this._getDetail())))));},_getDetail:function n(){return (c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3t7a",display:'block',shade:'light',size:'small'},i._("ID: {custom conversion id}",[i.param('custom conversion id',this.state.goalID)])));}});f.exports=m;}),null);
__d('AdsGoalPixelStatusRow.react',['cx','fbt','AdsAccountStoreWrapper_DEPRECATED','AdsPixelPickerRow.react','AdsPixelPickerStore','AdsPixelStatus','AdsPixelStatusEnum','AdsPixelStore','AdsPixelStoreWrapper','BUIAdoptionXUINotice.react','BizSiteIdentifier.brands','FluxMixinLegacy','Link.react','React','ReactComponentWithPureRenderMixin'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('React').createClass({displayName:'AdsGoalPixelStatusRow',contextTypes:{getPixelDetailURI:j.func.isRequired},mixins:[c('ReactComponentWithPureRenderMixin'),c('FluxMixinLegacy')([c('AdsPixelPickerStore'),c('AdsPixelStore')])],statics:{calculateState:function l(){var m=String(c('AdsPixelStoreWrapper').getCurrentPixelID()),n=new (c('AdsPixelStatus'))(c('AdsPixelStore').getPixelLastFiringTime(m)).getStatus();return {pixelID:m,status:n};}},render:function l(){if(this.state.status===c('AdsPixelStatusEnum').ACTIVE)return null;return (c('React').createElement('div',{className:"_aqi"},c('React').createElement(c('AdsPixelPickerRow.react'),{className:"_56k8",isPickerDisabled:true}),c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'information'},this._getNoticeText(),this._getLink())));},_getNoticeText:function l(){if(this.state.status===c('AdsPixelStatusEnum').IN_ACTIVE)return i._("We haven't received fires from this pixel recently. The custom conversion will not be ready until the pixel is active.");return i._("We haven't received fires from this pixel yet. The custom conversion will not be ready until the pixel is active.");},_getLink:function l(){var m=this.context.getPixelDetailURI({accountID:c('AdsAccountStoreWrapper_DEPRECATED').getAccountID(),pixelID:this.state.pixelID,businessID:c('BizSiteIdentifier.brands').getBusinessID()});return (c('React').createElement(c('Link.react'),{className:"_3-99",href:m,target:'_blank'},i._("Check pixel status.")));}});f.exports=k;}),null);
__d('AdsGoalStepThreeContent.react',['cx','fbt','AdsInterfacesLogger','AdsGoalCompleteRow.react','AdsGoalPixelStatusRow.react','AdsPixelDialogTypes','AdsPixelViewActions','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$AdsGoalStepThreeContent1=function(){return i._("Create a Custom Conversion");},this.$AdsGoalStepThreeContent2=function(){return (c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:i._("Done"),use:'confirm',onClick:this.$AdsGoalStepThreeContent3})));}.bind(this),n;}l.prototype.render=function(){return c('React').createElement('div',{className:"_2hfd"},c('React').createElement(c('XUIDialogTitle.react'),null,this.$AdsGoalStepThreeContent1()),c('React').createElement(c('XUIDialogBody.react'),{className:"_2hfe"},c('React').createElement(c('AdsGoalCompleteRow.react'),null),c('React').createElement(c('AdsGoalPixelStatusRow.react'),null)),this.$AdsGoalStepThreeContent2());};l.prototype.$AdsGoalStepThreeContent3=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').NO_DIALOG);c('AdsInterfacesLogger').log({eventName:'ads_pixel_goal_creation_done_step_3'},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};f.exports=l;}),null);
__d('AdsGoalCreation',['invariant','AdsAccountStoreWrapper_DEPRECATED','AdsCustomConversionStoreUtils','AdsGoalDraftStore','AdsGoalServerActions','AdsGraphAPI','AdsPixelStoreWrapper'],(function a(b,c,d,e,f,g,h){'use strict';var i={create:function j(){var k=c('AdsCustomConversionStoreUtils').getSerializedRule();k||h(0);var l={name:c('AdsGoalDraftStore').getName(),event_source_id:c('AdsPixelStoreWrapper').getCurrentPixelID(),description:c('AdsGoalDraftStore').getDescription(),rule:k,default_conversion_value:c('AdsGoalDraftStore').getConversionValue(),custom_event_type:c('AdsGoalDraftStore').getCategory(),aggregation_rule:c('AdsCustomConversionStoreUtils').getAggregationRule(),retention_days:c('AdsCustomConversionStoreUtils').getRetentionDays()};c('AdsGraphAPI').get(f.id).adaccount(c('AdsAccountStoreWrapper_DEPRECATED').getAccountID()).edge('customconversions').post(l).done(function(m){var n=Object.assign({},l,{id:m.id});c('AdsGoalServerActions').createdGoal(n);},function(m){c('AdsGoalServerActions').errorCreateGoal(m);});}};f.exports=i;}),null);
__d('AdsGoalCreationStore',['AdsDispatcher','AdsGoalServerActionTypes','AdsGoalViewActionTypes','AdsPixelDialogTypes','AdsPixelViewActionTypes','FluxStore','adsBaseStoreMixin'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$AdsGoalCreationStoreClass3();}j.prototype.$AdsGoalCreationStoreClass3=function(){this.$AdsGoalCreationStoreClass1=false;this.$AdsGoalCreationStoreClass2=null;};j.prototype.__onDispatch=function(l){var m=l.action;switch(m.actionType){case c('AdsGoalViewActionTypes').START_CREATION:this.$AdsGoalCreationStoreClass1=true;this.$AdsGoalCreationStoreClass2=null;this.__emitChange();break;case c('AdsGoalServerActionTypes').CREATED_GOAL:this.$AdsGoalCreationStoreClass1=false;this.__emitChange();break;case c('AdsGoalServerActionTypes').CLEAR_ERROR:this.$AdsGoalCreationStoreClass2=null;this.__emitChange();break;case c('AdsGoalServerActionTypes').ERROR_CREATE_GOAL:this.$AdsGoalCreationStoreClass2=m.feedback.error;this.$AdsGoalCreationStoreClass1=false;this.__emitChange();break;case c('AdsPixelViewActionTypes').DIALOG_TYPE_CHANGE:if(m.data.dialogType===c('AdsPixelDialogTypes').NO_DIALOG){this.$AdsGoalCreationStoreClass3();this.__emitChange();}break;}};j.prototype.isCreating=function(){return this.$AdsGoalCreationStoreClass1;};j.prototype.getError=function(){return this.$AdsGoalCreationStoreClass2;};var k=new j();f.exports=k;}),null);
__d('AdsGoalDescRowContent.react',['cx','fbt','AdsHelpLink.react','BUIAdoptionXUIGrayText.react','Layout.react','Link.react','React','XUITextInput.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){if(!this.props.showDescription&&!this.props.description)return (c('React').createElement(c('Link.react'),{className:"_50iz",onClick:this.props.onShowDescription},i._("Add a description")));return (c('React').createElement(c('Layout.react'),{className:"_50i-"},c('React').createElement(l,{className:"_50j4"},this.$AdsGoalDescRowContent1()),c('React').createElement(l,null,c('React').createElement(c('XUITextInput.react'),{className:"_50j5",height:'tall',placeholder:this.$AdsGoalDescRowContent2(),value:this.props.description,onChange:this.props.onDescriptionChange}))));};m.prototype.$AdsGoalDescRowContent1=function(){return (c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',weight:'bold'},i._("Description"),c('React').createElement(c('AdsHelpLink.react'),{position:'above',width:400},i._("Enter a description that lets you easily find and select this rule later"))));};m.prototype.$AdsGoalDescRowContent2=function(){return i._("Enter a description (optional)");};function m(){j.apply(this,arguments);}f.exports=m;}),null);
__d('AdsGoalDescRowContainer.react',['AdsFluxContainer','AdsGoalDescRowContent.react','AdsGoalDraftStore','AdsGoalViewActions','FluxStore','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.getStores=function(){return [c('AdsGoalDraftStore')];};j.calculateState=function(){var k=c('AdsGoalDraftStore').showDescription(),l=c('AdsGoalDraftStore').getDescription();return {showDescription:k,description:l};};j.prototype.render=function(){return (c('React').createElement(c('AdsGoalDescRowContent.react'),babelHelpers['extends']({},this.state,{onDescriptionChange:this.$AdsGoalDescRowContainer1,onShowDescription:this.$AdsGoalDescRowContainer2})));};j.prototype.$AdsGoalDescRowContainer1=function(event){c('AdsGoalViewActions').updateDescription(event.target.value);};j.prototype.$AdsGoalDescRowContainer2=function(){c('AdsGoalViewActions').showDescription();};function j(){h.apply(this,arguments);}f.exports=c('AdsFluxContainer').create(j);}),null);
__d('AdsGoalNameRowContent.react',['cx','fbt','AdsHelpLink.react','BUIAdoptionXUIGrayText.react','Layout.react','React','XUITextInput.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){return (c('React').createElement(c('Layout.react'),{className:"__ts"},c('React').createElement(l,{className:"__u4"},this.$AdsGoalNameRowContent1()),c('React').createElement(l,null,c('React').createElement(c('XUITextInput.react'),{className:"__u5",height:'tall',placeholder:this.$AdsGoalNameRowContent2(),value:this.props.name,onChange:this.props.onNameChange}))));};m.prototype.$AdsGoalNameRowContent1=function(){return (c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',weight:'bold'},i._("Name"),c('React').createElement(c('AdsHelpLink.react'),{position:'above',width:400},i._("Use a unique name that lets you easily find and select the rule later. Avoid using the same name as existing conversion events"))));};m.prototype.$AdsGoalNameRowContent2=function(){return i._("Enter a name for this custom conversion");};function m(){j.apply(this,arguments);}f.exports=m;}),null);
__d('AdsGoalNameRowContainer.react',['AdsFluxContainer','AdsGoalNameRowContent.react','AdsGoalDraftStore','AdsGoalViewActions','FluxStore','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.getStores=function(){return [c('AdsGoalDraftStore')];};j.calculateState=function(k,l){var m=c('AdsGoalDraftStore').getName();return {name:m};};j.prototype.render=function(){return (c('React').createElement(c('AdsGoalNameRowContent.react'),babelHelpers['extends']({},this.state,{onNameChange:this.$AdsGoalNameRowContainer1})));};j.prototype.$AdsGoalNameRowContainer1=function(event){c('AdsGoalViewActions').updateName(event.target.value);};function j(){h.apply(this,arguments);}f.exports=c('AdsFluxContainer').create(j);}),null);
__d('AdsGoalValueInput.react',['cx','fbt','AdsAccountStoreWrapper_DEPRECATED','AdsCurrencyInput.react','AdsGoalDraftStore','AdsGoalViewActions','FluxMixinLegacy','React','ReactComponentWithPureRenderMixin'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('React').createClass({displayName:'AdsGoalValueInput',mixins:[c('ReactComponentWithPureRenderMixin'),c('FluxMixinLegacy')([c('AdsGoalDraftStore')])],propTypes:{isEventBasedRule:j.bool.isRequired},statics:{calculateState:function l(){return {value:c('AdsGoalDraftStore').getConversionValue()};}},render:function l(){return (c('React').createElement(c('AdsCurrencyInput.react'),{className:"_119x",currency:c('AdsAccountStoreWrapper_DEPRECATED').getCurrency(),eventType:'blur',height:'tall',invalidInputIsNull:false,nonnegative:true,placeholder:this._getPlaceholder(),value:this.state.value,withISO:true,onDataUpdate:this._onConversionValueUpdate}));},_getPlaceholder:function l(){if(this.props.isEventBasedRule)return i._("Enter a default conversion value");return i._("Enter a conversion value");},_onConversionValueUpdate:function l(m){c('AdsGoalViewActions').updateConversionValue(m);}});f.exports=k;}),null);
__d('AdsGoalValueRowContent.react',['cx','fbt','AdsPixelHelpCenter','AdsGoalValueInput.react','AdsHelpLink.react','BUIAdoptionXUIGrayText.react','Layout.react','Link.react','React','XUICheckboxInput.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column,m=c('Layout.react').FillColumn;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$AdsGoalValueRowContent1=function(){return (c('React').createElement(c('XUICheckboxInput.react'),{checked:this.props.showValueRow,onChange:this.props.onCheckboxChange}));}.bind(this),this.$AdsGoalValueRowContent2=function(){var t=this.props.isEventBasedRule?i._("Set a default conversion value"):i._("Set a conversion value");return (c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium'},t));}.bind(this),this.$AdsGoalValueRowContent3=function(){return (c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-8w",display:'block',shade:'light'},this.$AdsGoalValueRowContent5(),c('React').createElement('div',{className:"_w6i"},this.$AdsGoalValueRowContent6())));}.bind(this),this.$AdsGoalValueRowContent4=function(){return (c('React').createElement('div',{className:"_w6j"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',weight:'bold'},i._("Value")),c('React').createElement(c('AdsHelpLink.react'),{position:'above'},this.$AdsGoalValueRowContent7())));}.bind(this),this.$AdsGoalValueRowContent5=function(){if(this.props.isEventBasedRule)return i._("Set the default value that each of these conversions is worth to you to track your return on advert spend.");return i._("Set the value that each of these conversions is worth to you to track your return on advert spend.");}.bind(this),this.$AdsGoalValueRowContent7=function(){if(this.props.isEventBasedRule)return i._("You can use fixed or dynamic conversion values in your pixel code, but we'll use the default value if you don't provide one.");return i._("Set the value that each of these conversions is worth to you to track your return on advert spend.");}.bind(this),p;}n.prototype.render=function(){if(!this.props.showValueRow)return c('React').createElement(c('Layout.react'),{className:"_w6d"},c('React').createElement(l,{className:"_w6e"},this.$AdsGoalValueRowContent1()),c('React').createElement(m,null,this.$AdsGoalValueRowContent2(),this.$AdsGoalValueRowContent3()));return c('React').createElement('div',{className:"_w6d"},c('React').createElement(c('Layout.react'),{className:"_w6f"},c('React').createElement(l,{className:"_w6e"},this.$AdsGoalValueRowContent1()),c('React').createElement(m,null,this.$AdsGoalValueRowContent2())),c('React').createElement(c('Layout.react'),{className:"_w6f"},c('React').createElement(l,{className:"_w6e"},this.$AdsGoalValueRowContent4()),c('React').createElement(m,null,c('React').createElement(c('AdsGoalValueInput.react'),{isEventBasedRule:this.props.isEventBasedRule}))));};n.prototype.$AdsGoalValueRowContent6=function(){return (c('React').createElement(c('Link.react'),{href:c('AdsPixelHelpCenter').SET_CONVERSION_VALUE.uri,target:'_blank'},i._("Learn more"),'.'));};f.exports=n;}),null);
__d('AdsGoalValueRowContainer.react',['AdsFluxContainer','AdsGoalValueRowContent.react','AdsGoalViewActions','AdsGoalDraftStore','FluxStore','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.getStores=function(){return [c('AdsGoalDraftStore')];};j.calculateState=function(k,l){var m=c('AdsGoalDraftStore').showValueRow();return {showValueRow:m};};j.prototype.render=function(){return (c('React').createElement(c('AdsGoalValueRowContent.react'),babelHelpers['extends']({},this.state,{isEventBasedRule:this.props.isEventBasedRule,onCheckboxChange:this.$AdsGoalValueRowContainer1})));};j.prototype.$AdsGoalValueRowContainer1=function(event){c('AdsGoalViewActions').toggleValueRow(event.target.checked);};function j(){h.apply(this,arguments);}f.exports=c('AdsFluxContainer').create(j);}),null);
__d('AdsGoalStepTwoContent.react',['cx','fbt','AdsInterfacesLogger','AdsCustomConversionRuleStore','AdsGoalCreation','AdsGoalCreationStore','AdsGoalDescRowContainer.react','AdsGoalDraftStore','AdsGoalNameRowContainer.react','AdsGoalValueRowContainer.react','AdsGoalViewActions','AdsGoalServerActions','AdsPixelDialogTypes','AdsPixelViewActions','AdsSpinnerCover.react','BUIAdoptionXUINotice.react','FluxMixinLegacy','React','ReactComponentWithPureRenderMixin','WebsiteCustomAudienceModel','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('WebsiteCustomAudienceModel').Operations,k=c('React').createClass({displayName:'AdsGoalStepTwoContent',mixins:[c('ReactComponentWithPureRenderMixin'),c('FluxMixinLegacy')([c('AdsCustomConversionRuleStore'),c('AdsGoalCreationStore'),c('AdsGoalDraftStore')])],statics:{calculateState:function l(){return {error:c('AdsGoalCreationStore').getError(),isCreating:c('AdsGoalCreationStore').isCreating(),name:c('AdsGoalDraftStore').getName(),isEventBasedRule:c('AdsCustomConversionRuleStore').isEventBasedRule()||j.isEventBasedRule(c('AdsGoalDraftStore').getRule()),defaultConversionValue:c('AdsGoalDraftStore').getConversionValue()};}},render:function l(){return (c('React').createElement('div',{className:"_6r-"},c('React').createElement(c('XUIDialogTitle.react'),null,this._getTitle()),c('React').createElement(c('XUIDialogBody.react'),{className:this._getDialogStyling()},c('React').createElement(c('AdsGoalNameRowContainer.react'),null),c('React').createElement(c('AdsGoalDescRowContainer.react'),null),c('React').createElement(c('AdsGoalValueRowContainer.react'),{isEventBasedRule:this.state.isEventBasedRule}),this._getSpinner()),this._getError(),this._getFooter()));},_getTitle:function l(){return i._("Create a Custom Conversion");},_getError:function l(){if(!this.state.error)return null;var m=this.state.error.error_user_title||'Error',n=this.state.error.error_user_msg||'Creation failed',o=i._("{error message}",[i.param('error message',m+': '+n)]);return (c('React').createElement('div',{className:"_cdl"},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'error'},o)));},_getFooter:function l(){return (c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:i._("Back"),onClick:this._onBack}),c('React').createElement(c('XUIDialogButton.react'),{disabled:this._shouldDisableButton(),label:i._("Create"),use:'confirm',onClick:this._onCreate})));},_getSpinner:function l(){return (c('React').createElement(c('AdsSpinnerCover.react'),{background:'light',show:this.state.isCreating}));},_shouldDisableButton:function l(){return (this.state.isCreating||!this.state.name||this.state.defaultConversionValue>Number.MAX_SAFE_INTEGER);},_getDialogStyling:function l(){return "_6s1"+(this.state.isCreating?' '+"_4c4v":'');},_onBack:function l(){c('AdsGoalServerActions').clearError();c('AdsPixelViewActions').onDialogBack();c('AdsInterfacesLogger').log({eventName:'ads_pixel_goal_creation_back_step_2'},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);},_onCreate:function l(){c('AdsGoalViewActions').startCreation();c('AdsGoalCreation').create();c('AdsInterfacesLogger').log({eventName:'ads_pixel_goal_creation_create_step_2'},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);}});f.exports=k;}),null);
__d('AdsPixelStandardEventCodeUtil',['AdsPixelConversionStandardEvents'],(function a(b,c,d,e,f,g){'use strict';var h='Purchase',i={getExampleCode:function j(k,l){if(l!==h||!k)return c('AdsPixelConversionStandardEvents')[l].code;return 'fbq(\'track\', \'Purchase\', {value: \'0.00\', currency:\''+k+'\'});';}};f.exports=i;}),null);
__d('AdsSeeMore.react',['cx','fbt','BUIAdoptionXUIGrayText.react','React','Link.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;m.prototype.render=function(){var n=this.props.rowCount?i._("See {itemCount} More",[i.param('itemCount',this.props.rowCount)]):i._("See more");return (c('React').createElement(c('Link.react'),{className:this.props.className,onClick:this.props.onClick},c('React').createElement('div',{className:"_3zkw _2pif _2pio"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',weight:'bold'},n),c('React').createElement('span',{className:"_3zkx"}))));};function m(){j.apply(this,arguments);}m.propTypes={className:l.string,rowCount:l.number,onClick:l.func.isRequired};f.exports=m;}),null);
__d('AdsPixelStandardEventsTable.react',['cx','fbt','AccessibleTableParts.react','AdsPixelConversionEventsEnum','AdsPixelConversionStandardEvents','AdsPixelStandardEventCodeUtil','AdsSeeMore.react','AdsSelectedAccountCurrencyGetter','React','XUITable.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('AccessibleTableParts.react').BodyRow,m=c('AccessibleTableParts.react').HeadRow,n=3;j=babelHelpers.inherits(o,c('React').PureComponent);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={canShowMoreEvents:true},this.$AdsPixelStandardEventsTable1=function(){var u=[];for(var event in c('AdsPixelConversionEventsEnum')){var v=c('AdsPixelConversionEventsEnum')[event],w=this.$AdsPixelStandardEventsTable3(event,v);if(w)u.push(w);}if(this.state.canShowMoreEvents)u=u.slice(0,n);return u;}.bind(this),this.$AdsPixelStandardEventsTable3=function(event,u){if(c('AdsPixelConversionStandardEvents')[u]){var v=c('AdsSelectedAccountCurrencyGetter').get({})||'USD',w=[c('React').createElement('td',{key:'_events'},u),c('React').createElement('td',{key:'_description'},c('AdsPixelConversionStandardEvents')[u].description),c('React').createElement('td',{key:'_code'},c('AdsPixelStandardEventCodeUtil').getExampleCode(v,u))];return (c('React').createElement(l,{key:event},w));}},this.$AdsPixelStandardEventsTable2=function(){if(!this.state.canShowMoreEvents)return null;return (c('React').createElement(c('AdsSeeMore.react'),{className:"_69b",onClick:this.$AdsPixelStandardEventsTable4}));}.bind(this),this.$AdsPixelStandardEventsTable4=function(){this.setState({canShowMoreEvents:false});}.bind(this),q;}o.prototype.render=function(){return c('React').createElement('div',null,c('React').createElement(c('XUITable.react'),{className:"_3-8x",outerBorder:true},c('React').createElement('thead',null,c('React').createElement(m,null,c('React').createElement('th',null,i._("Name")),c('React').createElement('th',null,i._("Description")),c('React').createElement('th',{width:'190'},i._("Event code")))),c('React').createElement('tbody',null,this.$AdsPixelStandardEventsTable1())),this.$AdsPixelStandardEventsTable2());};f.exports=o;}),null);
__d('AdsPixelVideoConstants',[],(function a(b,c,d,e,f,g){'use strict';f.exports={COVER_IMAGE_URL:'https://scontent-sea1-1.xx.fbcdn.net/hphotos-xpa1/v/t1.0-9/1383728_228075684020029_1397854685_n.jpg?oh=11845142a480f77aa9f59409242a1640&oe=5648194D',INSTALL_BASE_CODE:'1546480925674593',ADD_STANDARD_EVENT:'1552307491758603'};}),null);
__d('SignalsVideoPlayer.react',['cx','fbt','ix','AdsVideoPlayer.react','AdsUiImage.react','Image.react','React'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').PropTypes,n=j("23690"),o=i._("Replay");k=babelHelpers.inherits(p,c('React').Component);l=k&&k.prototype;function p(q){l.constructor.call(this,q);this.$SignalsVideoPlayer1=function(){this.refs.videoPlayer.playVideo();}.bind(this);this.$SignalsVideoPlayer2=function(){this.setState({videoStatus:'playing'});}.bind(this);this.$SignalsVideoPlayer3=function(){this.setState({videoStatus:'finished'});}.bind(this);this.state={videoStatus:'loading'};}p.prototype.render=function(){var q=this.state.videoStatus,r=q==='finished'?c('React').createElement('div',{className:"_3ibt"},c('React').createElement('div',{className:"_3ibu",role:'button',tabIndex:'0',onClick:this.$SignalsVideoPlayer1},c('React').createElement(c('Image.react'),{className:"_3ibv",height:14,src:n,width:14}),o)):null,s=this.props.width;return (c('React').createElement('div',{className:"_3ibw",style:{width:s}},c('React').createElement(c('AdsVideoPlayer.react'),{autoPlay:true,forceHD:true,playerHeight:this.props.height,playerWidth:this.props.width,ref:'videoPlayer',showControls:false,videoID:this.props.videoID,onBeginPlayback:this.$SignalsVideoPlayer2,onFinishPlayback:this.$SignalsVideoPlayer3},c('React').createElement(c('AdsUiImage.react'),{fixedHeight:300,realHeight:639,realWidth:960,src:this.props.coverImageURL})),c('React').createElement('div',{className:"_3ibx"}),r));};p.propTypes={coverImageURL:m.string.isRequired,height:m.number,videoID:m.string.isRequired,width:m.number};p.defaultProps={height:250,width:550};f.exports=p;}),null);
__d('AdsPixelAddStandardEventCodeDialog.react',['cx','fbt','AdsPixelHelpCenter','AdsPixelStandardEventsTable.react','AdsPixelVideoConstants','BUIAdoptionXUIGrayText.react','Link.react','React','SignalsVideoPlayer.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','shallowCompare'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);}l.prototype.componentWillMount=function(){this.$AdsPixelAddStandardEventCodeDialog1=true;};l.prototype.shouldComponentUpdate=function(m){return c('shallowCompare')(this,m);};l.prototype.componentWillUnmount=function(){this.$AdsPixelAddStandardEventCodeDialog1=false;};l.prototype.render=function(){return (c('React').createElement('div',null,this.$AdsPixelAddStandardEventCodeDialog2(),this.$AdsPixelAddStandardEventCodeDialog3(),this.$AdsPixelAddStandardEventCodeDialog4()));};l.prototype.$AdsPixelAddStandardEventCodeDialog3=function(){return (c('React').createElement(c('XUIDialogBody.react'),{className:"_2hrv"},c('React').createElement('div',{className:"_4awy"},this.$AdsPixelAddStandardEventCodeDialog5(),this.$AdsPixelAddStandardEventCodeDialog6(),this.$AdsPixelAddStandardEventCodeDialog7())));};l.prototype.$AdsPixelAddStandardEventCodeDialog7=function(){return (c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-8x",display:'block',shade:'light',size:'small'},i._("You can also add events to track specific actions. Copy the code for the event that you want to track, and paste it after the pixel code on the web pages where you want to track the action. Bear in mind that standard event codes are case-sensitive. {learn more}.",[i.param('learn more',c('React').createElement(c('Link.react'),{href:c('AdsPixelHelpCenter').CONVERSION.uri,target:'_blank'},i._("Learn about conversion tracking")))])),c('React').createElement(c('AdsPixelStandardEventsTable.react'),null)));};l.prototype.$AdsPixelAddStandardEventCodeDialog6=function(){return (c('React').createElement('div',{className:"_2hrw"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'medium',size:'medium',weight:'bold'},i._("Add conversion tracking"))));};l.prototype.$AdsPixelAddStandardEventCodeDialog5=function(){return (c('React').createElement('div',{className:"_56_m"},c('React').createElement(c('SignalsVideoPlayer.react'),{coverImageURL:c('AdsPixelVideoConstants').COVER_IMAGE_URL,videoID:c('AdsPixelVideoConstants').ADD_STANDARD_EVENT})));};l.prototype.$AdsPixelAddStandardEventCodeDialog2=function(){return (c('React').createElement(c('XUIDialogTitle.react'),null,i._("View pixel code")));};l.prototype.$AdsPixelAddStandardEventCodeDialog4=function(){return (c('React').createElement(c('XUIDialogFooter.react'),{leftContent:this.props.backButton},c('React').createElement(c('XUIDialogButton.react'),{label:i._("Email Pixel Code"),use:'default',onClick:this.props.onEmailPixelCode}),c('React').createElement(c('XUIDialogButton.react'),{label:i._("Done"),use:'confirm',onClick:this.props.onClose})));};f.exports=l;}),null);
__d('AdsPixelAddStandardEventCodeDialogContainer.react',['AdsPixelAddStandardEventCodeDialog.react','AdsPixelDialogTypes','AdsPixelViewActions','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){return (c('React').createElement(c('AdsPixelAddStandardEventCodeDialog.react'),{backButton:this.props.backButton,onClose:this.props.onClose,onEmailPixelCode:this.$AdsPixelAddStandardEventCodeDialogContainer1}));};j.prototype.$AdsPixelAddStandardEventCodeDialogContainer1=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').EMAIL_CODE);};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('SignalsCancellationToken',[],(function a(b,c,d,e,f,g){'use strict';function h(){this.isCanceled=false;}h.prototype.resume=function(){this.isCanceled=false;};f.exports=h;}),null);
__d('SignalsAnimationContainer',['invariant','Promise','SignalsCancellationToken','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').Component,j=c('React').PropTypes,k=c('React').createElement;function l(r,s,t){if(typeof r==='function')return r(s,t);return r;}function m(r){r.forEach(function(s){s.name||h(0);});}function n(r,s){var t,u;m(r);t=babelHelpers.inherits(v,i);u=t&&t.prototype;v.prototype.getChildContext=function(){'use strict';return {addAnimationListeners:this.$Animated2};};function v(w,x){'use strict';u.constructor.call(this,w,x);this.runningAnimationTokens={};this.$Animated1=0;this.$Animated2=function(z,aa){var ba=[];z.forEach(function(ca){var da,ea=this;if(ca.runOnParentAnimation)(function(){var fa=ca.name+'_'+ea.$Animated1++;ca.runOnParentAnimation.forEach(function(ga){if(!this.$Animated3[ga])return;this.$Animated3[ga][fa]={fire:aa.bind(null,ca),timing:ca.timing||'concurrent',start:ca.animationChainStart||null};ba.push({name:ga,key:fa});}.bind(ea));})();}.bind(this));return function(){ba.forEach(function(ca){var da=ca.name,ea=ca.key;return delete this.$Animated3[da][ea];}.bind(this));}.bind(this);}.bind(this);this.$Animated3={};this.$Animated10=0;this.$Animated7=false;this.$Animated14={children:function(z,aa,ba){return this.$Animated13(z.name,aa,ba);}.bind(this),self:function(z,aa,ba,ca){if(z.animate)return z.animate.call(this,this.refs.target,this.runningAnimationTokens[z.name],aa,ba,ca);return null;}.bind(this),cleanup:function(z){return (delete this.runningAnimationTokens[z.name]);}.bind(this),startCallbacks:function(z,aa,ba){if(z.animationChainStart)z.animationChainStart(this.refs.target,aa,ba);this.$Animated12(z.name,aa,ba);}.bind(this),afterCallbacks:function(z,aa,ba){if(z.animationChainDone){var ca=!this.runningAnimationTokens[z.name]||this.runningAnimationTokens[z.name].isCanceled;z.animationChainDone(this.refs.target,ca,aa,ba);}}.bind(this)};this.state={childProps:w};if(x.addAnimationListeners){var y=function(z,aa){if(!z.trigger||l(z.trigger,this.props)){return this.$Animated5(z,this.props,undefined,aa,false);}else return c('Promise').resolve(this.refs.target);}.bind(this);this.$Animated4=x.addAnimationListeners(r,y);}r.forEach(function(z){return this.$Animated3[z.name]={};}.bind(this));}v.prototype.$Animated6=function(){'use strict';return this.context.animationsDisabled||this.props.animationsDisabled;};v.prototype.componentWillMount=function(){'use strict';this.$Animated7=true;if(this.$Animated6())return;var w=null;r.forEach(function(x){if(x.getTransientProps&&x.runOnMount&&(x.trigger==null||l(x.trigger,this.props)))w=x.getTransientProps(w||this.props,this.props);}.bind(this));if(w)this.$Animated8(w);};v.prototype.componentDidMount=function(){var w,x=this;'use strict';if(this.$Animated6())return;var y=r.filter(function(z){return z.runOnMount&&(z.trigger==null||l(z.trigger,this.state.childProps));}.bind(this));if(y.length)(function(){var z=function ca(){},aa=new (c('Promise'))(function(ca){return z=ca;}),ba=x.runAnimations(y,x.state.childProps,undefined,aa);ba.then(function(){if(this.props!==this.state.childProps){this.$Animated9(this.state.childProps,this.props,[z]);}else z();}.bind(x)).done();})();};v.prototype.componentWillUnmount=function(){'use strict';this.$Animated7=false;if(this.$Animated4){this.$Animated4();this.$Animated4=null;}};v.prototype.$Animated11=function(){'use strict';var w=Date.now();return function(x,y){if(this.$Animated10<=w){this.$Animated10=w;this.$Animated8(x,y);}else if(y)y.forEach(function(z){return z(this.refs.target);}.bind(this));}.bind(this);};v.prototype.$Animated8=function(w,x){'use strict';if(!this.$Animated7)return;this.setState({childProps:w},function(){if(x)x.forEach(function(y){return y(this.refs.target);}.bind(this));}.bind(this));};v.prototype.$Animated12=function(w,x,y){'use strict';for(var z in this.$Animated3[w])if(this.$Animated3[w][z].start)this.$Animated3[w][z].start(this.refs.target,x,y);};v.prototype.$Animated13=function(w,x,y){'use strict';var z=[];for(var aa in this.$Animated3[w])if(this.$Animated3[w][aa].timing===x)z.push(this.$Animated3[w][aa].fire(y));return c('Promise').all(z);};v.prototype.getChildRegistrationKeys=function(){'use strict';var w=Object.keys(this.$Animated3),x=w.map(function(y){var z=Object.keys(this.$Animated3[y]);return z.map(function(aa){return y+':'+aa;});}.bind(this));return Array.prototype.concat.apply([],x);};v.prototype.fireAnimations=function(){'use strict';var w={};for(var x=arguments.length,y=Array(x),z=0;z<x;z++)y[z]=arguments[z];y.forEach(function(ba){return w[ba]=true;});var aa=r.filter(function(ba){return w[ba.name];});return this.runAnimations(aa,this.state.childProps);};v.prototype.runAnimations=function(w,x,y,z){'use strict';var aa=null,ba=null,ca=new (c('Promise'))(function(da,ea){aa=da;ba=ea;});c('Promise').all(w.map(function(da){return (this.$Animated5(da,x,y,z||ca,true));}.bind(this))).then(aa,ba).done();return ca;};v.prototype.$Animated5=function(w,x,y,z,aa){'use strict';if(w.cancelAnimations)w.cancelAnimations.forEach(function(da){if(this.runningAnimationTokens[da])this.runningAnimationTokens[da].isCanceled=true;}.bind(this));this.runningAnimationTokens[w.name]=new (c('SignalsCancellationToken'))();var ba=this.$Animated14;if(aa)ba.startCallbacks(w,x,y);var ca=new (c('Promise'))(function(da,ea){ba.children(w,'before',z).then(function(){c('Promise').all([ba.self(w,x,y,z),ba.children(w,'concurrent',z)]).then(function(){ba.children(w,'after',z).then(da,ea).done();}).done();}).done();});z.then(function(){return ba.afterCallbacks(w,x,y);}).then(function(){return ba.cleanup(w);}).done();return ca;};v.prototype.$Animated9=function(w,x,y){'use strict';if(this.$Animated6()){this.$Animated8(x);return;}var z=this.$Animated11(),aa=[].concat(y||[]),ba=[],ca=false,da=null;r.forEach(function(fa){if(!fa.runOnMount&&fa.trigger&&l(fa.trigger,w,x)){ba.push(fa);if(fa.delayProps)ca=true;if(fa.getTransientProps)da=fa.getTransientProps(da||w,x);}});var ea=function(){var fa=function ja(){},ga=function ja(){},ha=new (c('Promise'))(function(ja,ka){fa=ja;ga=ka;}),ia=this.runAnimations(ba,w,x,ha);if(ca||da){ia.then(function(){return z(x,[].concat(aa,[fa]));},ga).done();}else ia.then(fa,ga).done();ia.done();ha.done();}.bind(this);if(da){z(da,[ea]);}else if(!ca){z(x,[].concat(aa,[ea]));}else ea();};v.prototype.componentWillReceiveProps=function(w){'use strict';this.$Animated9(this.props,w);};v.prototype.render=function(){'use strict';return k(s,babelHelpers['extends']({},this.state.childProps,{ref:'target'}),this.props.children);};v.prototype.isAnimating=function(w){'use strict';if(!w){var x=Object.keys(this.runningAnimationTokens);return x.length>0;}return !w.find(function(y){return !this.runningAnimationTokens[y];}.bind(this));};v.childContextTypes={addAnimationListeners:j.func};v.contextTypes={addAnimationListeners:j.func,animationsDisabled:j.bool};return v;}function o(r,s,t){if(!r.isAnimating||typeof r.isAnimating!=='function'){t();return;}if(!r.isAnimating(s)){t();return;}window.requestAnimationFrame(function(){return o(r,s,t);});}function p(r,s,t){if(!r||!r.fireAnimations||typeof r.fireAnimations!=='function'){if(t)t();}else{var u=Array.isArray(s)?s:[s],v=r.fireAnimations.apply(r,u);if(t)v.then(t).done();}}function q(r,s){return babelHelpers['extends']({},r,{trigger:function t(u,v){if(r.trigger!=null&&!l(r.trigger,u,v))return false;return !!s.find(function(w){return !w.trigger||l(w.trigger,u,v);});},animate:function t(u,v,w,x,y){var z=s.filter(function(aa){return (aa.trigger==null||l(aa.trigger,w,x));});return this.runAnimations(z,w,x,y);},animationChainStart:function(){var t=this,u=arguments;s.forEach(function(v){if(v.animationChainStart)v.animationChainStart.apply(t,u);});}.bind(this)});}f.exports={createAnimationContainer:n,validateAnimations:m,waitForAnimation:o,fireAnimations:p,composeAnimations:q};}),null);
__d('SignalsBehaviorUtil',['invariant','Promise','SignalsCancellationToken'],(function a(b,c,d,e,f,g,h){'use strict';function i(n,o,p){if(typeof n==='function')return n(o,p);return n;}function j(n,o){return new (c('Promise'))(function(p,q){o.then(function(){var r=Function.prototype.bind.apply(p,[this,arguments]);setTimeout(r,n);}.bind(this),function(){q.apply(this,arguments);}.bind(this)).done();}.bind(this));}function k(n,o,p){return (o-n)*p+n;}function l(n,o){var p=babelHelpers['extends']({},n);if(o)for(var q in o)if(q!=null)p[q]=o[q];return p;}function m(n,o){var p=(Array.isArray(n)?n:[n]).map(function(q){q.animate||h(0);var r=q.animate;function s(t,u,v,w){var x=i(o,v,w),y=this,z=arguments;return new (c('Promise'))(function(aa,ba){return setTimeout(function(){if(!u.isCanceled){r.apply(y,z).then(aa,ba).done();}else aa();},x);});}return babelHelpers['extends']({},q,{animate:s});}.bind(this));return p;}f.exports={delayStart:m,delayResolve:j,resolveConfig:l,resolveDuration:i,scale:k};}),null);
__d("bezier-easing",[],(function a(b,c,d,e,f,g){var h=4,i=.001,j=1e-07,k=10,l=11,m=1/(l-1),n=typeof Float32Array==='function';function o(v,w){return 1-3*w+3*v;}function p(v,w){return 3*w-6*v;}function q(v){return 3*v;}function r(v,w,x){return ((o(w,x)*v+p(w,x))*v+q(w))*v;}function s(v,w,x){return 3*o(w,x)*v*v+2*p(w,x)*v+q(w);}function t(v,w,x,y,z){var aa,ba,ca=0;do{ba=w+(x-w)/2;aa=r(ba,y,z)-v;if(aa>0){x=ba;}else w=ba;}while(Math.abs(aa)>j&&++ca<k);return ba;}function u(v,w,x,y){for(var z=0;z<h;++z){var aa=s(w,x,y);if(aa===0)return w;var ba=r(w,x,y)-v;w-=ba/aa;}return w;}f.exports=function v(w,x,y,z){if(!(0<=w&&w<=1&&0<=y&&y<=1))throw new Error('bezier x values must be in [0, 1] range');var aa=n?new Float32Array(l):new Array(l);if(w!==x||y!==z)for(var ba=0;ba<l;++ba)aa[ba]=r(ba*m,w,y);function ca(da){var ea=0,fa=1,ga=l-1;for(;fa!==ga&&aa[fa]<=da;++fa)ea+=m;--fa;var ha=(da-aa[fa])/(aa[fa+1]-aa[fa]),ia=ea+ha*m,ja=s(ia,w,y);if(ja>=i){return u(da,ia,w,y);}else if(ja===0){return ia;}else return t(da,ea,ea+m,w,y);}return function da(ea){if(w===x&&y===z)return ea;if(ea===0)return 0;if(ea===1)return 1;return r(ca(ea),x,z);};};}),null);
__d("spring-easing",[],(function a(b,c,d,e,f,g){function h(l){return (-l.tension*l.x)-(l.friction*l.v);}function i(l,m,n){var o={x:l.x+n.dx*m,v:l.v+n.dv*m,tension:l.tension,friction:l.friction};return {dx:o.v,dv:h(o)};}function j(l,m){var n={dx:l.v,dv:h(l)},o=i(l,m*.5,n),p=i(l,m*.5,o),q=i(l,m,p),r=1/6*(n.dx+2*(o.dx+p.dx)+q.dx),s=1/6*(n.dv+2*(o.dv+p.dv)+q.dv);l.x=l.x+r*m;l.v=l.v+s*m;return l;}function k(l,m,n){var o={x:-1,v:0,tension:null,friction:null},p=[0],q=0,r=1/10000,s=16/1000,t,u,v;l=parseFloat(l)||500;m=parseFloat(m)||20;n=n||null;o.tension=l;o.friction=m;t=n!==null;if(t){q=k(l,m);u=q/n*s;}else u=s;while(true){v=j(v||o,u);p.push(1+v.x);q+=16;if(!(Math.abs(v.x)>r&&Math.abs(v.v)>r))break;}return !t?q:function(w){return p[(w*(p.length-1))|0];};}f.exports=k;}),null);
__d('SignalsEasings',['bezier-easing','spring-easing'],(function a(b,c,d,e,f,g){'use strict';f.exports={bezier:c('bezier-easing'),ease:c('bezier-easing')(.25,.1,.25,1),easeIn:c('bezier-easing')(.42,0,1,1),easeInOut:c('bezier-easing')(.42,0,.58,1),easeOut:c('bezier-easing')(0,0,.58,1),linear:function h(i){return i;},spring:c('spring-easing')};}),null);
__d('SignalsTweening',['Promise','SignalsCancellationToken','SignalsEasings','SignalsBehaviorUtil','Tween'],(function a(b,c,d,e,f,g){'use strict';var h=c('SignalsBehaviorUtil').resolveDuration;function i(k,l,m,n){return new (c('Promise'))(function(o,p){var q=n||c('SignalsEasings').linear,r=new (c('Tween'))();r.start(function(s,t){if(k.isCanceled){r.stop();o();}try{l(s,t);if(t)o();}catch(u){p(u);}},m,q);});}function j(k,l,m,n,o){var p=Array.isArray(l)?function(s,t,u){l.forEach(function(v){return v(s,t,u);});}:l;function q(s,t,u){var v=n(s,t,u);p(v,0,false);if(k.animationChainStart)k.animationChainStart(s,t,u);}function r(s,t,u,v){var w=n(s,u,v),x=h(m,u,v);return i(t,p.bind(null,w),x,o);}return babelHelpers['extends']({},k,{animate:r,animationChainStart:q});}j.simple=function k(l,m,n,o){return j(l,m,n,function(p){return p;},o);};f.exports=j;}),null);
__d('SignalsCascadeIn.behavior',['invariant','SignalsEasings','ReactDOM','SignalsTweening','SignalsBehaviorUtil','Style'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('ReactDOM').findDOMNode,j=c('SignalsBehaviorUtil').resolveDuration,k=c('SignalsBehaviorUtil').scale,l=c('SignalsBehaviorUtil').resolveConfig,m=300,n=20,o='UP',p={duration:m,distance:n,direction:o,easing:c('SignalsEasings').easeOut};function q(s,t){var u=s.target,v=s.axis;if(t!=1){var w=s.frameDistance(t);c('Style').set(u,'transform','translate'+v+'('+w+'px)');}else c('Style').set(u,'transform',null);}function r(s,t){var u=l(p,s);u.duration||h(0);u.distance||h(0);u.direction||h(0);u.easing||h(0);var v=u.direction==='UP'||u.direction==='RIGHT'?1:-1,w=u.direction==='UP'||u.direction==='DOWN'?'Y':'X';return [c('SignalsTweening')(babelHelpers['extends']({name:'cascadeIn'},t||{},{runOnMount:true}),q,u.duration,function(x,y,z){var aa=i(x),ba=j(u.distance,y,z),ca=v*ba,da=function ea(fa){return k(ca,0,fa);};return {target:aa,frameDistance:da,axis:w};},u.easing)];}f.exports=r;}),null);
__d('SignalsFadeIn.behavior',['invariant','SignalsEasings','ReactDOM','SignalsTweening','Style'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('ReactDOM').findDOMNode,j={duration:300,easing:c('SignalsEasings').easeOut};function k(l){var m=babelHelpers['extends']({},j,l||{});m.duration||h(0);m.easing||h(0);var n=m.duration;return [c('SignalsTweening').simple({name:'fadeIn',runOnMount:true},function(o,p){var q=i(o);if(p!=1){c('Style').set(q,'opacity',p);}else c('Style').set(q,'opacity',null);},n,m.easing)];}f.exports=k;}),null);
__d('SignalsFadeOut.behavior',['invariant','SignalsEasings','ReactDOM','SignalsTweening','Style'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('ReactDOM').findDOMNode,j={duration:300,easing:c('SignalsEasings').easeIn,name:'fadeOut',doClean:true,trigger:false};function k(l,m){var n=babelHelpers['extends']({},j,l||{});n.name||h(0);n.duration||h(0);n.easing||h(0);var o=n.duration;return [c('SignalsTweening')(babelHelpers['extends']({},m||{},{name:n.name,trigger:n.trigger,animationChainDone:function p(q){if(n.doClean){var r=i(q);if(!r)return;c('Style').set(r,'opacity',null);}}}),function(p,q){c('Style').set(p,'opacity',1-q);},o,function(p){return i(p);},n.easing)];}f.exports=k;}),null);
__d('SignalsPop.behavior',['invariant','SignalsEasings','ReactDOM','SignalsBehaviorUtil','SignalsTweening','Style'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('ReactDOM').findDOMNode,j=c('SignalsBehaviorUtil').resolveDuration,k=c('SignalsBehaviorUtil').resolveConfig,l=400,m=420,n=20.17,o={trigger:true,runOnMount:true,duration:l,friction:n,tension:m};function p(r){r.duration||h(0);r.friction>0||h(0);r.tension>0||h(0);}function q(r){var s=k(o,r);p(s);function t(u,v,w){s.duration||h(0);var x=j(s.duration,v,w),y=c('SignalsEasings').spring(s.tension,s.friction,x),z=i(u);return {easing:y,target:z};}return [c('SignalsTweening')({name:'pop',trigger:s.trigger,runOnMount:s.runOnMount},function(u,v,w){if(w){c('Style').set(u.target,'transform',null);return;}var x=u.easing(v);c('Style').set(u.target,'transform','scale('+x+')');},s.duration,t)];}f.exports=q;}),null);
__d('AdsNewPixelEmailCodeSuccessDialogContent.react',['cx','fbt','ix','SignalsEasings','Image.react','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','SignalsAnimationContainer','SignalsCascadeIn.behavior','SignalsFadeIn.behavior','SignalsFadeOut.behavior','SignalsPop.behavior'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').Component,n=c('React').PropTypes,o=c('React').PureComponent,p=c('SignalsAnimationContainer').createAnimationContainer,q=c('SignalsAnimationContainer').fireAnimations,r=400,s=600,t=i._("Email pixel code"),u=i._("Email sent successfully"),v=j("23254"),w=p(c('SignalsPop.behavior')({duration:r}),c('Image.react')),x=p([].concat(c('SignalsFadeIn.behavior')({duration:s}),c('SignalsCascadeIn.behavior')({duration:s})),function(){var ba,ca;ba=babelHelpers.inherits(da,o);ca=ba&&ba.prototype;da.prototype.render=function(){'use strict';return c('React').createElement('div',null,this.props.text);};function da(){'use strict';ba.apply(this,arguments);}return da;}()),y=p([].concat(c('SignalsFadeOut.behavior')({name:'hide'})),c('XUIDialogBody.react')),z=p(c('SignalsFadeIn.behavior')({duration:500,easing:c('SignalsEasings').easeInOut}),c('XUIDialogFooter.react'));k=babelHelpers.inherits(aa,m);l=k&&k.prototype;function aa(){var ba,ca;for(var da=arguments.length,ea=Array(da),fa=0;fa<da;fa++)ea[fa]=arguments[fa];return ca=(ba=l.constructor).call.apply(ba,[this].concat(ea)),this.$AdsNewPixelEmailCodeSuccessDialogContent5=function(){q(this.refs.body,'hide',function(){this.props.onClose();}.bind(this));}.bind(this),ca;}aa.prototype.render=function(){return c('React').createElement('div',null,this.$AdsNewPixelEmailCodeSuccessDialogContent1(),this.$AdsNewPixelEmailCodeSuccessDialogContent2(),this.$AdsNewPixelEmailCodeSuccessDialogContent3());};aa.prototype.$AdsNewPixelEmailCodeSuccessDialogContent1=function(){return c('React').createElement(c('XUIDialogTitle.react'),null,t);};aa.prototype.$AdsNewPixelEmailCodeSuccessDialogContent2=function(){return c('React').createElement(y,null,c('React').createElement('div',{className:"_dfq"},c('React').createElement('div',{className:"_dfu"},c('React').createElement(w,{src:v})),c('React').createElement('div',{className:"_dfv"},c('React').createElement(x,{text:u}))));};aa.prototype.$AdsNewPixelEmailCodeSuccessDialogContent3=function(){return c('React').createElement(z,null,c('React').createElement(c('XUIDialogButton.react'),{label:this.$AdsNewPixelEmailCodeSuccessDialogContent4(),use:'confirm',onClick:this.$AdsNewPixelEmailCodeSuccessDialogContent5}));};aa.prototype.$AdsNewPixelEmailCodeSuccessDialogContent4=function(){return i._("Done");};aa.propTypes={onClose:n.func.isRequired};f.exports=aa;}),null);
__d('AdsPixelAudienceDialogTypes',[],(function a(b,c,d,e,f,g){'use strict';var h={INTRODUCTION_DIALOG:null,VIEW_REMARKETING_PIXEL_DIALOG:null,CREATE_AUDIENCE_DIALOG:null,CREATE_AUDIENCE_REQUEST_SENT:null,CREATE_AUDIENCE_REQUEST_COMPLETE:null,CREATING_PIXEL:null,EDIT_AUDIENCE_DIALOG:null,LOADING_PIXEL:null,SEND_PIXEL_EMAIL_DIALOG:null,NO_DIALOG:null},i={};Object.keys(h).forEach(function(j){return i[j]=j;});f.exports=i;}),null);
__d('AdsPixelAudienceCreateStore',['AdsDispatcher','AdsPixelDataManager','AdsPixelDialogTypes','AdsPixelServerActionTypes','AdsPixelViewActionTypes','AdsPixelAudienceDialogTypes','FluxStore','adsBaseStoreMixin','getByPath'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$AdsPixelAudienceCreateStoreClass1=c('AdsPixelAudienceDialogTypes').NO_DIALOG;this.$AdsPixelAudienceCreateStoreClass2={};}j.prototype.getStoreName=function(){return 'AdsPixelAudienceCreateStore';};j.prototype.__onDispatch=function(l){var m=l.action;switch(m.actionType){case c('AdsPixelViewActionTypes').DIALOG_TYPE_CHANGE:if(c('AdsPixelAudienceDialogTypes')[m.data.dialogType]||c('AdsPixelDialogTypes')[m.data.dialogType]){this.$AdsPixelAudienceCreateStoreClass1=m.data.dialogType;this.__emitChange();}break;case c('AdsPixelServerActionTypes').RECEIVE_AUDIENCE:this.$AdsPixelAudienceCreateStoreClass2[m.feedback.audienceID]=c('getByPath')(m.feedback,['audience','external_event_source','id']);this.__emitChange();break;case c('AdsPixelServerActionTypes').RECEIVE_PIXELS:if(this.$AdsPixelAudienceCreateStoreClass1===c('AdsPixelDialogTypes').INTEGRATIONS_CMS)break;if(m.feedback.pixelList.length>0){if(this.$AdsPixelAudienceCreateStoreClass1===c('AdsPixelAudienceDialogTypes').INTRODUCTION_DIALOG)break;this.$AdsPixelAudienceCreateStoreClass1=c('AdsPixelAudienceDialogTypes').CREATE_AUDIENCE_DIALOG;}else this.$AdsPixelAudienceCreateStoreClass1=c('AdsPixelAudienceDialogTypes').INTRODUCTION_DIALOG;this.__emitChange();break;}};j.prototype.getAudiencePixelID=function(l){if(!(l in this.$AdsPixelAudienceCreateStoreClass2)){this.$AdsPixelAudienceCreateStoreClass2[l]=undefined;c('AdsPixelDataManager').loadAudience(l);}return this.$AdsPixelAudienceCreateStoreClass2[l];};j.prototype.getCurrentDialogType=function(){return this.$AdsPixelAudienceCreateStoreClass1;};var k=new j();f.exports=k;}),null);
__d('AdsPixelAudienceViewActions',['AdsInterfacesLogger','AdsPixelDialogTypes','AdsPixelViewActions','AdsPixelAudienceDialogTypes','AudienceManagerLoggingEvents'],(function a(b,c,d,e,f,g){'use strict';var h='basecode-new',i={gotoRuleBuilder:function j(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_WCA_NUX_CREATE_AUDIENCE},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelAudienceDialogTypes').CREATE_AUDIENCE_DIALOG);},gotoViewCode:function j(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_WCA_NUX_VIEW_PIXEL},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').INTEGRATIONS_CMS,{integrationName:h});},gotoSendEmail:function j(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').WCA_EMAIL_PIXEL},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelAudienceDialogTypes').SEND_PIXEL_EMAIL_DIALOG);},gotoRequestComplete:function j(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_WCA_EDITOR_CREATE_SUCCESS},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelAudienceDialogTypes').CREATE_AUDIENCE_REQUEST_COMPLETE);}};f.exports=i;}),null);
__d('AdsPixelCreateStore',['AdsDispatcher','AdsPixelDialogTypes','AdsPixelViewActionTypes','AdsPixelServerActionTypes','BrandPixelServerActionTypes.brands','FluxStore','adsBaseStoreMixin'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$AdsPixelCreateStoreClass2={isCreating:false,pixelNUX:false};this.$AdsPixelCreateStoreClass1=null;this.$AdsPixelCreateStoreClass3=false;}j.prototype.getStoreName=function(){return 'AdsPixelCreateStore';};j.prototype.getIsWaitingForServerResponse=function(){return this.$AdsPixelCreateStoreClass3;};j.prototype.getCreatedPixelID=function(){if(this.$AdsPixelCreateStoreClass1===null||this.$AdsPixelCreateStoreClass1===undefined)return '';return this.$AdsPixelCreateStoreClass1.id.toString();};j.prototype.getCreatedPixelName=function(){if(!this.$AdsPixelCreateStoreClass1)return '';return this.$AdsPixelCreateStoreClass1.name.toString();};j.prototype.getIsPixelNUX=function(){return this.$AdsPixelCreateStoreClass2.pixelNUX;};j.prototype.getIsInPixelCreation=function(){return this.$AdsPixelCreateStoreClass2.isCreating;};j.prototype.getPixelCode=function(){if(this.$AdsPixelCreateStoreClass1===null||this.$AdsPixelCreateStoreClass1===undefined)return '';return this.$AdsPixelCreateStoreClass1.code;};j.prototype.getIsPixelCreated=function(){return !(this.$AdsPixelCreateStoreClass1===null||this.$AdsPixelCreateStoreClass1===undefined);};j.prototype.__onDispatch=function(k){var l=k.action,m=true;switch(l.actionType){case c('AdsPixelViewActionTypes').VIEW_PIXEL_NUX_START:if(this.$AdsPixelCreateStoreClass2.pixelNUX===true)m=false;this.$AdsPixelCreateStoreClass2.pixelNUX=true;break;case c('AdsPixelViewActionTypes').START_PIXEL_CREATE:this.$AdsPixelCreateStoreClass2.isCreating=true;break;case c('AdsPixelViewActionTypes').DIALOG_TYPE_CHANGE:if(l.data.dialogType===c('AdsPixelDialogTypes').NO_DIALOG){this.$AdsPixelCreateStoreClass2.pixelNUX=false;this.$AdsPixelCreateStoreClass2.isCreating=false;}break;case c('AdsPixelViewActionTypes').VIEW_PIXEL_NUX_END:this.$AdsPixelCreateStoreClass2.pixelNUX=false;break;case c('AdsPixelViewActionTypes').END_PIXEL_CREATE:this.$AdsPixelCreateStoreClass2.isCreating=false;break;case c('AdsPixelServerActionTypes').RECEIVE_ERROR:this.$AdsPixelCreateStoreClass3=false;break;case c('AdsPixelServerActionTypes').WAIT_FOR_SERVER_RESPONSE:this.$AdsPixelCreateStoreClass3=true;break;case c('AdsPixelServerActionTypes').PIXEL_CREATED:this.$AdsPixelCreateStoreClass1=l.pixel;this.$AdsPixelCreateStoreClass3=false;break;case c('BrandPixelServerActionTypes.brands').BUSINESS_PIXEL_CREATED:this.$AdsPixelCreateStoreClass1=l.feedback.pixelList[0];this.$AdsPixelCreateStoreClass3=false;break;default:m=false;break;}if(m)this.__emitChange();};f.exports=new j();}),null);
__d('AdsPixelCreationConfirmationDialog.react',['cx','fbt','ix','AdsPixelDialogTypes','AdsPixelViewActions','BUIAdoptionXUIGrayText.react','ImageBlock.react','Image.react','InlineBlock.react','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').Component,n='basecode',o=i._("Install Pixel Now"),p=i._("Email Pixel Code");k=babelHelpers.inherits(q,m);l=k&&k.prototype;q.prototype.render=function(){return (c('React').createElement('div',null,this.$AdsPixelCreationConfirmationDialog1(),this.$AdsPixelCreationConfirmationDialog2()));};q.prototype.$AdsPixelCreationConfirmationDialog2=function(){return (c('React').createElement('div',null,c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_4awy"},this.$AdsPixelCreationConfirmationDialog3(),this.$AdsPixelCreationConfirmationDialog4())),this.$AdsPixelCreationConfirmationDialog5()));};q.prototype.$AdsPixelCreationConfirmationDialog1=function(){return (c('React').createElement(c('XUIDialogTitle.react'),null,i._("Create a Facebook pixel")));};q.prototype.$AdsPixelCreationConfirmationDialog5=function(){return this.props.isBusinessPixelCreationFlow?c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:o,use:'default',onClick:this.$AdsPixelCreationConfirmationDialog6}),c('React').createElement(c('XUIDialogButton.react'),{label:p,use:'confirm',onClick:this.$AdsPixelCreationConfirmationDialog7})):c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:o,use:'default',onClick:this.$AdsPixelCreationConfirmationDialog6}),c('React').createElement(c('XUIDialogButton.react'),{label:p,use:'confirm',onClick:this.$AdsPixelCreationConfirmationDialog8}));};q.prototype.$AdsPixelCreationConfirmationDialog3=function(){return (c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{src:j("23287")}),c('React').createElement(c('InlineBlock.react'),{alignv:'middle',className:"_3-99",height:44},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'medium',size:'medium',weight:'bold'},i._("{pixel name} is ready",[i.param('pixel name',this.props.createdPixelName)])),c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light',size:'small'},i._("Pixel ID: {id}",[i.param('id',this.props.createdPixelID)])))));};q.prototype.$AdsPixelCreationConfirmationDialog4=function(){return (c('React').createElement('div',{className:"_3-8-"},i._("You can view the pixel code to install it yourself now, or you can email it to your website developer to install.")));};q.prototype.$AdsPixelCreationConfirmationDialog9=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').NO_DIALOG,{});};q.prototype.$AdsPixelCreationConfirmationDialog6=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').VIEW_CODE,{integrationName:n});};q.prototype.$AdsPixelCreationConfirmationDialog8=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').EMAIL_CODE,{integrationName:n});};q.prototype.$AdsPixelCreationConfirmationDialog7=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').EMAIL_INSTRUCTIONS,{integrationName:n});};function q(){k.apply(this,arguments);}f.exports=q;}),null);
__d('WebsiteCustomAudiencePixelCreatedConfirmationDialog.react',['cx','fbt','ix','AdsPixelDialogTypes','AdsPixelViewActions','BUIAdoptionXUIGrayText.react','ImageBlock.react','Image.react','InlineBlock.react','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').Component;k=babelHelpers.inherits(n,m);l=k&&k.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=l.constructor).call.apply(o,[this].concat(r)),this.$WebsiteCustomAudiencePixelCreatedConfirmationDialog1=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').VIEW_CODE);},p;}n.prototype.render=function(){return (c('React').createElement('div',null,this.$WebsiteCustomAudiencePixelCreatedConfirmationDialog2(),this.$WebsiteCustomAudiencePixelCreatedConfirmationDialog3()));};n.prototype.$WebsiteCustomAudiencePixelCreatedConfirmationDialog3=function(){return (c('React').createElement('div',null,c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_4awy"},this.$WebsiteCustomAudiencePixelCreatedConfirmationDialog4(),this.$WebsiteCustomAudiencePixelCreatedConfirmationDialog5())),this.$WebsiteCustomAudiencePixelCreatedConfirmationDialog6()));};n.prototype.$WebsiteCustomAudiencePixelCreatedConfirmationDialog2=function(){return (c('React').createElement(c('XUIDialogTitle.react'),null,i._("Create a Custom Audience")));};n.prototype.$WebsiteCustomAudiencePixelCreatedConfirmationDialog6=function(){return (c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:i._("Install Pixel"),use:'default',onClick:this.$WebsiteCustomAudiencePixelCreatedConfirmationDialog1}),c('React').createElement(c('XUIDialogButton.react'),{label:i._("Create Audience"),use:'confirm',onClick:this.props.onCreateAudience})));};n.prototype.$WebsiteCustomAudiencePixelCreatedConfirmationDialog4=function(){return (c('React').createElement(c('ImageBlock.react'),{spacing:'large'},c('React').createElement(c('Image.react'),{src:j("23287")}),c('React').createElement(c('InlineBlock.react'),{alignv:'middle',className:"_3-99",height:44},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'medium',size:'medium',weight:'bold'},i._("Your Facebook pixel has been created")),c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light',size:'small'},i._("{=Pixel Name}",[i.param('=Pixel Name',this.props.createdPixelName)])),c('React').createElement('br',null),c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light',size:'small'},i._("Pixel ID: {id}",[i.param('id',this.props.createdPixelID)])))));};n.prototype.$WebsiteCustomAudiencePixelCreatedConfirmationDialog5=function(){return (c('React').createElement('div',{className:"_3-8-"},i._("You've created your pixel. Now make it work by installing some code. You won't be able to use your audience until you install your pixel code.")));};f.exports=n;}),null);
__d('AdsPixelCreationConfirmationDialogContainer.react',['AdsFluxContainer','AdsPixelCreateStore','AdsPixelCreationConfirmationDialog.react','FluxStore','React','WebsiteCustomAudiencePixelCreatedConfirmationDialog.react'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.getStores=function(){return [c('AdsPixelCreateStore')];};k.calculateState=function(){return {createdPixelID:c('AdsPixelCreateStore').getCreatedPixelID(),createdPixelName:c('AdsPixelCreateStore').getCreatedPixelName()};};k.prototype.render=function(){return this.props.isWCAFlow?c('React').createElement(c('WebsiteCustomAudiencePixelCreatedConfirmationDialog.react'),babelHelpers['extends']({},this.state,{onCreateAudience:this.props.onCreateAudience})):c('React').createElement(c('AdsPixelCreationConfirmationDialog.react'),this.state);};function k(){h.apply(this,arguments);}f.exports=c('AdsFluxContainer').create(k);}),null);
__d('AdsPixelEmailInput.react',['cx','fbt','CIWebmailValidator','React','ReactDOM','Token.react','XUITextInput.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={emails:[],textInProgress:''},this.$AdsPixelEmailInput6=function(){this.refs.dialog.showDialog();}.bind(this),this.$AdsPixelEmailInput1=function(){return this.state.emails.map(function(s,t){return (c('React').createElement(c('Token.react'),{className:"_2_r"+(!c('CIWebmailValidator').isValidEmail(s)?' '+"_2_s":''),key:t,label:s,removable:true,onRemove:this.$AdsPixelEmailInput7.bind(this,t)}));}.bind(this));}.bind(this),this.$AdsPixelEmailInput2=function(){return i._("Add a recipient");},this.$AdsPixelEmailInput4=function(event){this.$AdsPixelEmailInput8(event.target.value);this.setState({textInProgress:''});}.bind(this),this.$AdsPixelEmailInput5=function(event){var s=event.target.value,t=s.slice(-1);if([',',';',' '].indexOf(t)!==-1){this.$AdsPixelEmailInput8(s.slice(0,s.length-1));this.setState({textInProgress:''});}else this.setState({textInProgress:s});this.props.onChange&&this.props.onChange();}.bind(this),this.$AdsPixelEmailInput8=function(s){if(s){var t=this.state.emails;t.push(s);this.setState({emails:t});this.props.onChange&&this.props.onChange();}}.bind(this),this.$AdsPixelEmailInput3=function(event){var s=event.target.value;if(s.length===0&&this.state.emails.length>0)this.$AdsPixelEmailInput7(-1);}.bind(this),this.$AdsPixelEmailInput7=function(s){var t=this.state.emails;t.splice(s,1);this.setState({emails:t});this.props.onChange&&this.props.onChange();}.bind(this),this.getEmailList=function(){return this.state.emails;}.bind(this),this.isInputValid=function(){if(this.state.textInProgress&&!c('CIWebmailValidator').isValidEmail(this.state.textInProgress))return false;if(this.state.emails.length===0&&!this.state.textInProgress)return false;return this.state.emails.every(function(s){return c('CIWebmailValidator').isValidEmail(s);});}.bind(this),o;}m.prototype.componentDidMount=function(){this.props.onChange&&this.props.onChange();};m.prototype.render=function(){return c('React').createElement('div',{className:"_2_m clearfix",role:'presentation',onClick:function(){c('ReactDOM').findDOMNode(this.refs.textInput).focus();}.bind(this)},c('React').createElement('div',null,this.$AdsPixelEmailInput1()),c('React').createElement(c('XUITextInput.react'),{className:"_2_q",placeholder:this.$AdsPixelEmailInput2(),ref:'textInput',value:this.state.textInProgress,onBackspace:this.$AdsPixelEmailInput3,onBlur:this.$AdsPixelEmailInput4,onChange:this.$AdsPixelEmailInput5,onEnter:this.$AdsPixelEmailInput4}));};m.propTypes={onChange:l.func};f.exports=m;}),null);
__d("XAdsPixelCodeEmailController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ads\/pixels\/sendcodebymail\/",{email_cms:{type:"String"},recipients:{type:"StringVector",required:true},personal_message:{type:"String"},pixel_id:{type:"Int",required:true},show_new_email:{type:"Bool",defaultValue:false}});}),null);
__d('AdsPixelEmailInstructionsContent.react',['cx','fbt','AdsInterfacesLogger','AdsPixelDialogTypes','AdsPixelNotifParamsEnum','AdsPixelViewActions','AdsSpinnerCover.react','AsyncRequest','BUIAdoptionXUIGrayText.react','AdsPixelEmailInput.react','AdsInterfacesLoggerConfigColumns','BUIAdoptionXUINotice.react','PixelInterfacesLoggingKeys','React','XAdsPixelCodeEmailController','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PureComponent;j=babelHelpers.inherits(m,l);k=j&&j.prototype;function m(n){k.constructor.call(this,n);this.$AdsPixelEmailInstructionsContent5=function(){var o=this.refs.emailInput?this.refs.emailInput.isInputValid():false;this.setState({canSendEmail:o});}.bind(this);this.$AdsPixelEmailInstructionsContent7=function(){var o=this.props,p=o.emailCMS,q=o.pixelID,r=this.$AdsPixelEmailInstructionsContent8();if(r){this.setState({sendingEmail:true});r.setHandler(function(s){var t;c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').EMAIL_CODE_SUCCESS);c('AdsInterfacesLogger').log({eventName:c('PixelInterfacesLoggingKeys').PIXEL_EMAIL_INSTRUCTIONS_SUCCESS,data:(t={},t[c('AdsInterfacesLoggerConfigColumns').SIGNALS_UI_EVENT_DATA]=JSON.stringify({emailCMS:p,pixelID:q}),t)},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);}).setErrorHandler(function(s,t){return this.setState({sendEmailFailed:true,sendingEmail:false});}.bind(this)).send();}else this.props.onClose();}.bind(this);this.state={canSendEmail:false,sendEmailFailed:false,sendingEmail:false};}m.prototype.render=function(){return c('React').createElement('div',null,this.$AdsPixelEmailInstructionsContent1(),this.$AdsPixelEmailInstructionsContent2(),this.$AdsPixelEmailInstructionsContent3());};m.prototype.$AdsPixelEmailInstructionsContent2=function(){return c('React').createElement(c('XUIDialogBody.react'),{style:{position:'relative'}},c('React').createElement('div',{className:"_4awy"},this.$AdsPixelEmailInstructionsContent4(),c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light',size:'medium',weight:'bold'},i._("To")),c('React').createElement(c('AdsPixelEmailInput.react'),{ref:'emailInput',onChange:this.$AdsPixelEmailInstructionsContent5}),this.$AdsPixelEmailInstructionsContent6()),c('React').createElement(c('AdsSpinnerCover.react'),{background:'light',show:this.state.sendingEmail}));};m.prototype.$AdsPixelEmailInstructionsContent1=function(){return c('React').createElement(c('XUIDialogTitle.react'),null,i._("Email pixel code"));};m.prototype.$AdsPixelEmailInstructionsContent3=function(){return c('React').createElement(c('XUIDialogFooter.react'),{leftContent:this.props.backButton},c('React').createElement(c('XUIDialogButton.react'),{disabled:!this.state.canSendEmail,label:i._("Send"),use:'confirm',onClick:this.$AdsPixelEmailInstructionsContent7}));};m.prototype.$AdsPixelEmailInstructionsContent6=function(){return c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_4az6",display:'block',shade:'light',size:'medium',weight:'bold'},i._("Instructions and pixel codes")),c('React').createElement('div',{className:"_4az9 _4azd _4aze"},c('React').createElement('div',{dangerouslySetInnerHTML:{__html:this.props.emailInstructions}})));};m.prototype.$AdsPixelEmailInstructionsContent4=function(){if(!this.state.sendEmailFailed)return null;return c('React').createElement(c('BUIAdoptionXUINotice.react'),{style:{marginBottom:'8px'},type:'error'},i._("Failed to send the pixel code. Please try again."));};m.prototype.$AdsPixelEmailInstructionsContent8=function(){var n=this.props,o=n.emailCMS,p=n.pixelID,q=c('XAdsPixelCodeEmailController').getURIBuilder().setInt(c('AdsPixelNotifParamsEnum').PIXEL_ID,p).setBool(c('AdsPixelNotifParamsEnum').SHOW_NEW_EMAIL,true).setString(c('AdsPixelNotifParamsEnum').EMAIL_CMS,o).setStringVector(c('AdsPixelNotifParamsEnum').RECIPIENTS,this.refs.emailInput.getEmailList()).getURI();return new (c('AsyncRequest'))().setURI(q);};f.exports=m;}),null);
__d('AdsPixelEmailInstructionsContainer.react',['AdsFluxContainer','AdsPixelEmailInstructionsContent.react','AdsPixelIntegrationsStore','AdsSpinnerCover.react','Bootloader','FluxStore','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Component,k=c('React').PropTypes;h=babelHelpers.inherits(l,j);i=h&&h.prototype;l.getStores=function(){return [c('AdsPixelIntegrationsStore')];};function l(m){i.constructor.call(this,m);this.state={emailCMS:'',emailInstructions:null,CMSProcessor:null,isEmailLoaded:false};}l.prototype.componentDidMount=function(){if(this.context.heightChanged)this.context.heightChanged();c('Bootloader').loadModules(["AdsPixelIntegrationsCMSContentProcessor"],function(m){var n=m.renderDirectHTML;this.setState({CMSProcessor:n});}.bind(this),'AdsPixelEmailInstructionsContainer.react');};l.prototype.componentDidUpdate=function(m){if(this.context.heightChanged)this.context.heightChanged();};l.calculateState=function(m,n){var o=n.pixelID,p=n.integrationName,q=p+'-email',r=c('AdsPixelIntegrationsStore').getContent(o,q),s=r.getValue(),t=m&&m.CMSProcessor,u=!r.isLoading()&&s!=null;return {emailCMS:q,emailInstructions:s,CMSProcessor:t,isEmailLoaded:u};};l.prototype.render=function(){var m=this.props,n=m.backButton,o=m.onClose,p=m.pixelID,q=this.state,r=q.emailCMS,s=q.emailInstructions,t=q.isEmailLoaded,u=q.CMSProcessor,v=s&&u&&u(s,{pixelId:p})||null,w=!u||!t||!v;return (c('React').createElement('div',{style:{position:'relative'}},c('React').createElement(c('AdsPixelEmailInstructionsContent.react'),{backButton:n,emailCMS:r,emailInstructions:v,pixelID:p,onClose:o}),c('React').createElement(c('AdsSpinnerCover.react'),{background:'light',show:w})));};l.contextTypes={heightChanged:k.func};l.propTypes={backButton:k.element,pixelID:k.string.isRequired,onClose:k.func.isRequired};f.exports=c('AdsFluxContainer').create(l,{withProps:true});}),null);
__d('AdsPixelEmailCodeDialogContentContainer.react',['fbt','AdsPixelDialogStore','AdsPixelDialogTypes','AdsPixelEmailInstructionsContainer.react','AdsPixelViewActions','React','FluxContainer','SUIBusinessTheme','SUIButton.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=c('FluxContainer').create,m=c('AdsPixelViewActions').onDialogBack;function n(p){var q=p.prevDialogType;return q!==c('AdsPixelDialogTypes').NO_DIALOG?c('React').createElement(c('SUIButton.react'),{label:h._("Back"),theme:c('SUIBusinessTheme'),use:'default',onClick:m}):c('React').createElement('div',null);}i=babelHelpers.inherits(o,k);j=i&&i.prototype;o.getStores=function(){return [c('AdsPixelDialogStore')];};o.calculateState=function(p){return {prevDialogType:c('AdsPixelDialogStore').getPreviousDialogType()};};o.prototype.render=function(){return (c('React').createElement(c('AdsPixelEmailInstructionsContainer.react'),{backButton:c('React').createElement(n,{prevDialogType:this.state.prevDialogType}),integrationName:'basecode',pixelID:this.props.pixelID,onClose:this.props.onClose}));};function o(){i.apply(this,arguments);}f.exports=l(o,{withProps:true});}),null);
__d('AdsPixelErrorStore',['AdsDispatcher','AdsPixelDialogTypes','AdsPixelServerActionTypes','AdsPixelViewActionTypes','FluxStore','adsBaseStoreMixin'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$AdsPixelErrorStoreClass2();}j.prototype.$AdsPixelErrorStoreClass2=function(){this.$AdsPixelErrorStoreClass1=null;};j.prototype.getStoreName=function(){return 'AdsPixelErrorStore';};j.prototype.__onDispatch=function(l){var m=l.action,n=true;switch(m.actionType){case c('AdsPixelServerActionTypes').RECEIVE_ERROR:var o=m.feedback.error;this.$AdsPixelErrorStoreClass1={code:o.code,subcode:o.error_subcode,message:o.error_user_msg||o.message};break;case c('AdsPixelServerActionTypes').CLEAR_ERROR:this.$AdsPixelErrorStoreClass2();break;case c('AdsPixelViewActionTypes').DIALOG_TYPE_CHANGE:if(m.data.dialogType===c('AdsPixelDialogTypes').NO_DIALOG)this.$AdsPixelErrorStoreClass2();break;default:n=false;break;}if(n)this.__emitChange();};j.prototype.getError=function(){return this.$AdsPixelErrorStoreClass1;};var k=new j();f.exports=k;}),null);
__d('AdsPixelSnippet.react',['cx','React','ReactDOM','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$AdsPixelSnippet1=function(){setTimeout(function(){var r=c('ReactDOM').findDOMNode(this.refs.pixelCodeTextArea);r.select(0,r.value.length);}.bind(this),1);}.bind(this),n;}l.prototype.render=function(){var m=this.props,n=m.className,o=babelHelpers.objectWithoutProperties(m,['className']);n=c('joinClasses')(n,"_2_sh");var p=this.props.pixelCode.trim(),q="_2_sk";if(this.props.expandTextArea)q=c('joinClasses')(q,"_5ysb");return c('React').createElement('div',babelHelpers['extends']({},o,{className:n}),c('React').createElement('div',{className:"_2_si"},c('React').createElement('textarea',{className:q,readOnly:true,ref:'pixelCodeTextArea',value:p,onFocus:this.$AdsPixelSnippet1})));};l.propTypes={expandTextArea:k.bool,pixelCode:k.string.isRequired};l.defaultProps={pixelCode:''};f.exports=l;}),null);
__d('AdsPixelInstallBaseCodeDialog.react',['cx','fbt','AdsHelpLink.react','AdsPixelHelpCenter','AdsPixelSnippet.react','AdsPixelVideoConstants','BUIAdoptionXUIGrayText.react','BUISwitch.react','Link.react','React','SignalsVideoPlayer.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','adsGKCheck','shallowCompare'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l='https://developers.facebook.com/docs/'+'facebook-pixel/pixel-with-ads/conversion-tracking#advanced_match',m=320;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(o){k.constructor.call(this,o);this.state={showAdvancedMatching:false};}n.prototype.componentWillMount=function(){this.$AdsPixelInstallBaseCodeDialog1=true;};n.prototype.shouldComponentUpdate=function(o){return c('shallowCompare')(this,o);};n.prototype.componentWillUnmount=function(){this.$AdsPixelInstallBaseCodeDialog1=false;};n.prototype.render=function(){return (c('React').createElement('div',null,this.$AdsPixelInstallBaseCodeDialog2(),this.$AdsPixelInstallBaseCodeDialog3(),this.$AdsPixelInstallBaseCodeDialog4()));};n.prototype.$AdsPixelInstallBaseCodeDialog3=function(){return (c('React').createElement(c('XUIDialogBody.react'),{className:"_52pr"},c('React').createElement('div',{className:"_4awy"},this.$AdsPixelInstallBaseCodeDialog5(),this.$AdsPixelInstallBaseCodeDialog6(),this.$AdsPixelInstallBaseCodeDialog7())));};n.prototype.$AdsPixelInstallBaseCodeDialog7=function(){return (c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-8x",display:'block',shade:'light',size:'small'},i._("Copy the code below and paste it between the \u003Chead> and \u003C\/head> in your website code. The pixel will track visits to every page of your website. {help_link}.",[i.param('help_link',c('React').createElement(c('Link.react'),{href:c('AdsPixelHelpCenter').INSTALL.uri,target:'_blank'},i._("Get help with installing your pixel")))])),this.$AdsPixelInstallBaseCodeDialog8()));};n.prototype.$AdsPixelInstallBaseCodeDialog8=function(){var o=this.props.pixelCode,p=o.advanced,q=o.base,r=this.state.showAdvancedMatching?p:q;return (c('React').createElement('div',null,c('React').createElement('div',{className:"_3-8x _24hu"},r),c('React').createElement('div',{className:"_3-8x"},this.$AdsPixelInstallBaseCodeDialog9())));};n.prototype.$AdsPixelInstallBaseCodeDialog6=function(){return (c('React').createElement('div',{className:"_52v3"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'medium',size:'medium',weight:'bold'},i._("Install pixel base code (required)"))));};n.prototype.$AdsPixelInstallBaseCodeDialog5=function(){return (c('React').createElement('div',{className:"_5l_k"},c('React').createElement(c('SignalsVideoPlayer.react'),{coverImageURL:c('AdsPixelVideoConstants').COVER_IMAGE_URL,videoID:c('AdsPixelVideoConstants').INSTALL_BASE_CODE})));};n.prototype.$AdsPixelInstallBaseCodeDialog2=function(){return (c('React').createElement(c('XUIDialogTitle.react'),null,i._("View pixel base code")));};n.prototype.$AdsPixelInstallBaseCodeDialog4=function(){return (c('React').createElement(c('XUIDialogFooter.react'),{leftContent:this.props.backButton},this.$AdsPixelInstallBaseCodeDialog10('default'),this.$AdsPixelInstallBaseCodeDialog11('confirm')));};n.prototype.$AdsPixelInstallBaseCodeDialog12=function(o){return (c('React').createElement(c('XUIDialogButton.react'),{label:i._("Set up Events"),use:o,onClick:this.props.onNextSteps}));};n.prototype.$AdsPixelInstallBaseCodeDialog11=function(o){return (c('React').createElement(c('XUIDialogButton.react'),{label:i._("Email Pixel Code"),use:o,onClick:this.props.onEmailPixelCode}));};n.prototype.$AdsPixelInstallBaseCodeDialog13=function(o){return (c('React').createElement(c('XUIDialogButton.react'),{label:this.$AdsPixelInstallBaseCodeDialog14(),use:o,onClick:this.props.onClose}));};n.prototype.$AdsPixelInstallBaseCodeDialog9=function(){var o=this.state.showAdvancedMatching,p=function(){return this.setState({showAdvancedMatching:!o});}.bind(this);return (c('React').createElement('div',{className:"_m7f"},c('React').createElement(c('BUISwitch.react'),{value:o,onToggle:p}),c('React').createElement('div',{className:"_m7g"},i._("ADVANCED MATCHING")),c('React').createElement(c('AdsHelpLink.react'),{width:m},i._("When you turn on data matching, information from your pixel will be used to match website actions with Facebook people. This helps increase the effectiveness of conversion reporting, advert optimisation and targeting. {=Learn more}.",[i.param('=Learn more',c('React').createElement(c('Link.react'),{href:l,target:'_blank'},i._("Learn more")))]))));};n.prototype.$AdsPixelInstallBaseCodeDialog14=function(){return (this.props.onCloseLabel||i._("Done"));};n.prototype.$AdsPixelInstallBaseCodeDialog10=function(o){return (this.props.shouldShowNextStep?this.$AdsPixelInstallBaseCodeDialog12(o):this.$AdsPixelInstallBaseCodeDialog13(o));};f.exports=n;}),null);
__d('AdsPixelInstallBaseCodeDialogContainer.react',['AdsFluxContainer','AdsPixelInstallBaseCodeDialog.react','AdsPixelIntegrationsStore','AdsPixelCreateStore','AdsPixelDialogTypes','AdsPixelViewActions','AdsSelectedAccountIDGetter','AdsSpinnerCover.react','Bootloader','FluxStore','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j='pixelBaseCodePII',k='pixelBaseCode';h=babelHelpers.inherits(l,c('React').Component);i=h&&h.prototype;l.getStores=function(){return [c('AdsPixelCreateStore'),c('AdsPixelIntegrationsStore')];};function l(){i.constructor.call(this);this.state={accountID:null,advancedCode:null,baseCode:null,CMSProcessor:null,isCodeLoaded:false,shouldShowNextStep:false};}l.prototype.componentDidMount=function(){c('Bootloader').loadModules(["AdsPixelIntegrationsCMSContentProcessor"],function(m){var n=m.translateNode;this.setState({CMSProcessor:n});}.bind(this),'AdsPixelInstallBaseCodeDialogContainer.react');};l.calculateState=function(m,n){var o=!n.isBusinessPixelCreationFlow?c('AdsSelectedAccountIDGetter').get({}):null,p=c('AdsPixelIntegrationsStore').getContent(n.pixelID,j),q=p.getValue(),r=c('AdsPixelIntegrationsStore').getContent(n.pixelID,k),s=r.getValue(),t=m&&m.CMSProcessor,u=!p.isLoading()&&q!=null&&!r.isLoading()&&s!=null,v=c('AdsPixelCreateStore').getIsPixelNUX();return {accountID:o,advancedCode:q,baseCode:s,CMSProcessor:t,isCodeLoaded:u,shouldShowNextStep:v};};l.prototype.render=function(){var m=this.state,n=m.advancedCode,o=m.baseCode,p=m.CMSProcessor,q=n&&p&&p(n,{})||null,r=o&&p&&p(o,{})||null,s=!p||!this.state.isCodeLoaded||!q||!r,t=this.props.isBusinessPixelCreationFlow?this.$AdsPixelInstallBaseCodeDialogContainer1:this.$AdsPixelInstallBaseCodeDialogContainer2;return (c('React').createElement('div',{style:{position:'relative'}},c('React').createElement(c('AdsPixelInstallBaseCodeDialog.react'),{backButton:this.props.backButton,pixelCode:{advanced:q,base:r},shouldShowNextStep:this.state.shouldShowNextStep,onClose:this.props.onClose,onCloseLabel:this.props.onCloseLabel,onEmailPixelCode:t,onNextSteps:this.$AdsPixelInstallBaseCodeDialogContainer3}),c('React').createElement(c('AdsSpinnerCover.react'),{background:'light',show:s})));};l.prototype.$AdsPixelInstallBaseCodeDialogContainer2=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').EMAIL_CODE);};l.prototype.$AdsPixelInstallBaseCodeDialogContainer1=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').EMAIL_INSTRUCTIONS);};l.prototype.$AdsPixelInstallBaseCodeDialogContainer3=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').SETUP_CONVERSION);};f.exports=c('AdsFluxContainer').create(l,{withProps:true});}),null);
__d('SignalsIntegrationsCMSConstants',[],(function a(b,c,d,e,f,g){'use strict';var h=600,i=h/10,j=20;f.exports={ANIMATION_DURATION:h,STAY_COLLAPSED_DELAY:400,CASCADE_DELAY_PER_ITEM:i,CASCADE_DISTANCE:j};}),null);
__d('AdsPixelIntegrationPreamble.react',['cx','React','SignalsIntegrationsCMSConstants','SignalsFadeIn.behavior','SignalsAnimationContainer'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=c('SignalsAnimationContainer').createAnimationContainer,m=c('SignalsIntegrationsCMSConstants').ANIMATION_DURATION;i=babelHelpers.inherits(n,k);j=i&&i.prototype;n.prototype.render=function(){return c('React').createElement('div',{className:"_8ua"},this.props.children);};function n(){i.apply(this,arguments);}var o=l([].concat(c('SignalsFadeIn.behavior')({duration:m/2})),n);f.exports=o;}),null);
__d('SignalsColor',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';function i(o){return o[o.length-1]==='%';}function j(o,p){var q=parseInt(p.r,10),r=parseInt(p.g,10),s=parseInt(p.b,10),t=p.a?parseFloat(p.a,10):1;if(i(p.r))q=Math.round(q*255/100);if(i(p.g))r=Math.round(r*255/100);if(i(p.b))s=Math.round(s*255/100);if(p.a&&i(p.a))t/=100;return new n(o,q,r,s,t);}function k(o){return new n('rgba',parseInt(o.r+o.r,16),parseInt(o.g+o.g,16),parseInt(o.b+o.b,16),o.a?parseInt(o.a+o.a,16)/255:1);}function l(o){return new n('rgba',parseInt(o.r,16),parseInt(o.g,16),parseInt(o.b,16),o.a?parseInt(o.a,16)/255:1);}var m={HEX3:{test:/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])?$/,translate:k},HEX6:{test:/^#([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})?$/,translate:l},RGBA:{test:/^(?:(?:rgb\()|(?:rgba\())\s*([0-9]+%?)\s*,\s*([0-9]+%?)\s*,\s*([0-9]+%?)\s*(?:,\s*([0-9.]+%?)\s*)?\)$/i,translate:j.bind(null,'rgba')},HSLA:{test:/^(?:(?:hsl\()|(?:hsla\())\s*([0-9]+%?)\s*,\s*([0-9]+%?)\s*,\s*([0-9]+%?)\s*(?:,\s*([0-9.]+%?)\s*)?\)$/i,translate:j.bind(null,'hsla')}};function n(o,p,q,r,s){this.type=o;this.r=p;this.g=q;this.b=r;this.a=s;}n.prototype.toString=function(){var o=this.type,p=this.r,q=this.g,r=this.b,s=this.a;return o+'('+p+', '+q+', '+r+', '+s+')';};n.scaleColor=function(o,p,q){if(o.type!==p.type)throw new Error('start and end types are not the same.  Feel free add '+'the ability to do this.');return new n(o.type,Math.round(o.r+(p.r-o.r)*q),Math.round(o.g+(p.g-o.g)*q),Math.round(o.b+(p.b-o.b)*q),o.a+(p.a-o.a)*q);};n.parseColor=function(o){var p=o.trim(),q=null;for(var r in m){q=m[r].test.exec(p);if(q){q[1]||h(0);q[2]||h(0);q[3]||h(0);return m[r].translate({r:q[1],g:q[2],b:q[3],a:q[4]});}}return null;};n.makeTween=function(o,p){var q=typeof o==='string'?n.parseColor(o):o,r=typeof p==='string'?n.parseColor(p):p;q||h(0);r||h(0);return n.scaleColor.bind(null,q,r);};f.exports=n;}),null);
__d('AdsPixelAnimations',['Promise','Animation','SignalsIntegrationsCMSConstants','Style','DOMDimensions','ReactDOM','React'],(function a(b,c,d,e,f,g){'use strict';var h=c('DOMDimensions').measureElementBox,i=c('ReactDOM').findDOMNode,j=c('React').Component,k=c('SignalsIntegrationsCMSConstants').CASCADE_DELAY_PER_ITEM,l=c('SignalsIntegrationsCMSConstants').CASCADE_DISTANCE;function m(t){return new (c('Promise'))(function(u){return t.ondone(function(){return u(t.obj);});});}var n=function t(u){return {marginTop:parseInt(c('Style').get(u,'margin-top'),10),marginBottom:parseInt(c('Style').get(u,'margin-bottom'),10),offset:u.offsetHeight,whole:u.offsetHeight+h(u,'height',false,false,true)};};function o(t,u,v){var w=i(v);return m(new (c('Animation'))(w).from('opacity',0).to('opacity',0).duration(u||0).checkpoint().from('opacity',0).from('translateY',l).to('opacity',1).to('translateY',0).duration(t).go());}function p(t,u,v){var w=i(v),x=[];for(var y=0;y<w.childNodes.length;y++){var z=y*k+u;x.push(o(t,z,w.childNodes[y]));}return c('Promise').all(x);}function q(t,u,v){var w=i(v);return m(new (c('Animation'))(w).from('opacity','1').to('opacity','1').duration(u).checkpoint().from('opacity','1').to('opacity',0).duration(t).go());}function r(t,u,v){var w=i(v);return m(new (c('Animation'))(w).from('opacity','0').to('opacity','0').duration(u).checkpoint().from('opacity','0').to('opacity',1).duration(t).go());}function s(t,u,v,w,x,y){var z=i(t),aa=new (c('Animation'))(z);if(y!=null)aa.from(w,y);aa.duration(v||0).to(w,x).duration(u).go();return m(aa);}f.exports={animationToPromise:m,cascadeInItem:o,cascadeChildrenIn:p,fadeOut:q,fadeIn:r,measureWholeHeight:n,style:s};}),null);
__d('SignalsSlideIn.behavior',['invariant','AdsPixelAnimations','SignalsEasings','ReactDOM','SignalsBehaviorUtil','SignalsTweening','Style'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('ReactDOM').findDOMNode,j=c('SignalsBehaviorUtil').scale,k=c('AdsPixelAnimations').measureWholeHeight,l=300;function m(p){if(p.context&&p.context.heightChanged&&typeof p.context.heightChanged==='function')p.context.heightChanged();}var n={duration:l,easing:c('SignalsEasings').easeOut,doClean:true,name:'slideIn',trigger:true,runOnMount:true};function o(p){var q=babelHelpers['extends']({},n,p||{});q.name||h(0);q.duration||h(0);q.easing||h(0);return [c('SignalsTweening')({name:q.name,runOnMount:q.runOnMount,animationChainDone:function r(s){m(s);var t=i(s.refs.wrapper),u=i(s.refs.content);if(q.doClean){c('Style').set(t,'position',null);c('Style').set(t,'height',null);c('Style').set(t,'overflow',null);c('Style').set(u,'position',null);c('Style').set(u,'width',null);}},trigger:q.trigger},function(r,s){r.frameHeight(s);},q.duration,function(r,s,t){r.refs.wrapper||h(0);r.refs.content||h(0);var u=i(r.refs.wrapper),v=i(r.refs.content);c('Style').set(u,'position','relative');c('Style').set(u,'overflow','hidden');c('Style').set(u,'height',0);c('Style').set(v,'position','absolute');c('Style').set(v,'width','100%');var w=k(v).whole,x=function y(z){var aa=j(0,w,z);c('Style').set(u,'height',aa+'px');m(r);};return {frameHeight:x};},q.easing)];}f.exports=o;}),null);
__d('SignalsSlideOut.behavior',['invariant','AdsPixelAnimations','SignalsEasings','ReactDOM','SignalsBehaviorUtil','SignalsTweening','Style'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('ReactDOM').findDOMNode,j=c('SignalsBehaviorUtil').scale,k=c('AdsPixelAnimations').measureWholeHeight,l=300;function m(p){if(p.context&&p.context.heightChanged&&typeof p.context.heightChanged==='function')p.context.heightChanged();}var n={duration:l,easing:c('SignalsEasings').easeOut,name:'slideOut',doClean:false,trigger:false};function o(p){var q=babelHelpers['extends']({},n,p||{});q.trigger!=null||h(0);q.name||h(0);q.duration||h(0);q.easing||h(0);q.doClean!=null||h(0);return [c('SignalsTweening')({name:q.name,trigger:q.trigger,animationChainDone:function r(s){var t=i(s);if(!t)return;m(s);if(q.doClean){var u=i(s.refs.wrapper),v=i(s.refs.content);c('Style').set(u,'position',null);c('Style').set(u,'height',null);c('Style').set(u,'overflow',null);c('Style').set(v,'position',null);c('Style').set(v,'width',null);c('Style').set(v,'top',null);c('Style').set(v,'left',null);}}},function(r,s){r.frameHeight(s);},q.duration,function(r,s,t){r.refs.wrapper||h(0);r.refs.content||h(0);var u=i(r.refs.wrapper),v=i(r.refs.content),w=k(v).whole;c('Style').set(u,'position','relative');c('Style').set(u,'overflow','hidden');c('Style').set(u,'height',w+'px');c('Style').set(v,'position','absolute');c('Style').set(v,'top','0');c('Style').set(v,'left','0');c('Style').set(v,'width','100%');var x=function y(z){var aa=j(w,0,z);c('Style').set(u,'height',aa+'px');m(r);};return {frameHeight:x};},q.easing)];}f.exports=o;}),null);
__d('AdsPixelIntegrationStep.react',['ix','cssVar','cx','invariant','Promise','SignalsEasings','Image.react','LeftRight.react','React','ReactDOM','Scroll','SignalsAnimationContainer','SignalsBehaviorUtil','SignalsColor','SignalsIntegrationsCMSConstants','SignalsTweening','Style','SUIBusinessTheme','SUIButton.react','Tween','SignalsCascadeIn.behavior','SignalsFadeIn.behavior','SignalsFadeOut.behavior','fbglyph','SignalsSlideIn.behavior','SignalsSlideOut.behavior'],(function a(b,c,d,e,f,g,h,i,j,k){'use strict';var l,m,n=c('React').Component,o=c('React').cloneElement,p=c('React').PropTypes,q=c('SignalsAnimationContainer').createAnimationContainer,r=c('SignalsAnimationContainer').composeAnimations,s=c('SignalsBehaviorUtil').scale,t=c('SignalsBehaviorUtil').delayStart,u=c('ReactDOM').findDOMNode,v=c('SignalsIntegrationsCMSConstants').ANIMATION_DURATION,w=c('SignalsIntegrationsCMSConstants').CASCADE_DELAY_PER_ITEM,x=c('SignalsIntegrationsCMSConstants').STAY_COLLAPSED_DELAY,y=q([{name:'open',runOnParentAnimation:['open'],animate:function ha(){return c('Promise').resolve();}},{name:'step_body_collapse',runOnParentAnimation:['collapse']}].concat(c('SignalsFadeOut.behavior')({name:'step_body_collapse',duration:v/2},{runOnParentAnimation:['collapse'],timing:'before'}),[{name:'step_body_open',runOnParentAnimation:['open'],timing:'after'},{name:'step_body_open_delay',runOnParentAnimation:['open'],timing:'before',animate:function ha(){return new (c('Promise'))(function(ia){return setTimeout(ia,v/2);});}}]),function(){var ha,ia;ha=babelHelpers.inherits(ja,n);ia=ha&&ha.prototype;ja.prototype.render=function(){'use strict';return c('React').createElement('div',this.props,this.props.children);};function ja(){'use strict';ha.apply(this,arguments);}return ja;}());l=babelHelpers.inherits(z,n);m=l&&l.prototype;function z(){var ha,ia;for(var ja=arguments.length,ka=Array(ja),la=0;la<ja;la++)ka[la]=arguments[la];return ia=(ha=m.constructor).call.apply(ha,[this].concat(ka)),this.$AdsPixelIntegrationStep1=function(){if(this.props.index!=null&&this.props.onSelected)this.props.onSelected(this.props.index);}.bind(this),ia;}z.prototype.signalHeight=function(){if(this.context.heightChanged)this.context.heightChanged();};z.prototype.render=function(){var ha=c('React').Children.toArray(this.props.children),ia=ha.find(function(ra){return ra.type==='header';});ia||k(0);var ja=ha.indexOf(ia),ka=ha.slice(0,ja).concat(ha.slice(ja+1)),la=this.props.onNext?c('React').createElement(c('SUIButton.react'),{label:'Next',theme:c('SUIBusinessTheme'),use:'confirm',onClick:this.props.onNext}):null,ma=this.props.onPrevious?c('React').createElement(c('SUIButton.react'),{label:'Back',theme:c('SUIBusinessTheme'),onClick:this.props.onPrevious}):null,na=null;if(this.props.hideFooter!==true&&(this.props.onNext||this.props.onPrevious))na=c('React').createElement('footer',{ref:'footer'},c('React').createElement(c('LeftRight.react'),null,ma,la));var oa=!this.props.selected?{role:'button',style:babelHelpers['extends']({cursor:'pointer'},ia.style),onClick:this.$AdsPixelIntegrationStep1}:{},pa=o(ia,babelHelpers['extends']({ref:'header'},oa)),qa=null;if(this.props.selectedIndex!=null&&this.props.index!=null&&this.props.showSuccess&&this.props.index<this.props.selectedIndex)qa=c('React').createElement(c('Image.react'),{alt:'checkmark-solid',src:h("119372"),style:{display:'inline',float:'right',marginTop:'6px',marginRight:'36px'}});return (c('React').createElement('step',{className:(!this.props.selected?"collapsed":'')+(this.props.greyBackground?' '+"grey":'')},qa,pa,c('React').createElement('div',{ref:'wrapper'},c('React').createElement('div',{ref:'content'},c('React').createElement(y,{className:"_2o-o"},ka,na)))));};z.contextTypes={heightChanged:p.func};function aa(ha,ia,ja){return new (c('Promise'))(function(ka){var la=c('Style').getScrollParent(ha);if(la===window)la=document.body;var ma=ha.offsetTop+ia;if(ja==='BOTTOM')ma+=ha.offsetHeight;var na=c('Scroll').getTop(la);if(na<ma){ka();return;}var oa=new (c('Tween'))();oa.start(function(pa,qa){c('Scroll').setTop(document.body,c('Tween').scale(na,ma,pa));if(qa)ka();},v/2,c('SignalsEasings').easeOut);});}var ba=c('SignalsColor').makeTween("#1d2129","#90949c"),ca=c('SignalsColor').makeTween("#ffffff","#f6f7f9");function da(ha){var ia=u(ha.refs.header),ja=u(ha);c('Style').set(ja,'backgroundColor',null);c('Style').set(ja,'paddingTop',null);c('Style').set(ia,'marginBottom',null);c('Style').set(ia,'color',null);}var ea=c('SignalsTweening')({name:'step_style_close',trigger:true,animationChainDone:da},function(ha,ia){return ha(ia);},v/2,function(ha){var ia=u(ha.refs.header),ja=u(ha);return function(ka){c('Style').set(ja,'backgroundColor',ca(ka));c('Style').set(ja,'paddingTop',s(16,12,ka)+'px');c('Style').set(ia,'marginBottom',s(4,0,ka)+'px');c('Style').set(ia,'color',ba(ka));};}),fa=c('SignalsTweening')({name:'step_style_open',trigger:true,animationChainDone:da},function(ha,ia){return ha(ia);},v/2,function(ha){var ia=u(ha.refs.header),ja=u(ha);return function(ka){c('Style').set(ja,'backgroundColor',ca(1-ka));c('Style').set(ja,'paddingTop',s(16,12,1-ka)+'px');c('Style').set(ia,'marginBottom',s(4,0,1-ka)+'px');c('Style').set(ia,'color',ba(1-ka));};}),ga=q([{name:'mount_delay',runOnMount:true,getTransientProps:function ha(ia,ja){return babelHelpers['extends']({},ia,{selected:false});},animate:function ha(){return new (c('Promise'))(function(ia){return setTimeout(ia,x);});}}].concat(t(r({name:'load-simple',runOnMount:true,trigger:function ha(ia){return !ia.doExpandContract;}},[].concat(c('SignalsCascadeIn.behavior')(),c('SignalsFadeIn.behavior')())),function(ha){return (ha.index||0)*w;}),[r({name:'collapse',delayProps:true,trigger:function ha(ia,ja){return (ia.doExpandContract&&!!ia.selected&&!(ja&&ja.selected));}},[].concat(c('SignalsSlideOut.behavior')({name:'step_slide_out',doClean:true,trigger:true,duration:v/2}),[ea])),r({name:'open',getTransientProps:function ha(ia,ja){return babelHelpers['extends']({},ja,{selected:false});},trigger:function ha(ia,ja){return (ia.doExpandContract&&!ia.selected&&!!ja&&!!ja.selected);}},[].concat(c('SignalsSlideIn.behavior')({name:'step_slide_in',trigger:true,duration:v/2}),[fa,{name:'scroll',trigger:true,animate:function ha(ia,ja,ka){var la=72*((ka.index||0)+1)-36,ma=u(ia);return aa(ma.parentNode,la,'TOP');}}]))]),z);f.exports=ga;}),null);
__d('AdsPixelIntegrationSubSteps.react',['Promise','AdsPixelAnimations','React','ReactDOM','SignalsAnimationContainer','SignalsIntegrationsCMSConstants','Style'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Component,k=c('AdsPixelAnimations').cascadeChildrenIn,l=c('SignalsAnimationContainer').createAnimationContainer,m=c('ReactDOM').findDOMNode,n=c('SignalsIntegrationsCMSConstants').ANIMATION_DURATION;h=babelHelpers.inherits(o,j);i=h&&h.prototype;o.prototype.render=function(){return c('React').createElement('substeps',null,this.props.children);};function o(){h.apply(this,arguments);}var p=[{name:'prehide_substeps',runOnParentAnimation:['step_body_open_delay'],timing:'before',animate:function r(s){return (c('Style').set(m(s),'opacity',0));}},{name:'substep_show',runOnParentAnimation:['step_body_open'],timing:'after',animate:function r(s){var t=m(s),u=k(n/2,0,s);c('Style').set(t,'opacity',null);return u;}},{name:'open',runOnParentAnimation:['open'],animate:function r(){return c('Promise').resolve();}}],q=l(p,o);f.exports=q;}),null);
__d('AdsPixelIntegrationSteps.react',['cx','invariant','AdsPixelIntegrationStep.react','AdsPixelIntegrationSubSteps.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('React').cloneElement,n=c('React').PropTypes;j=babelHelpers.inherits(o,l);k=j&&j.prototype;function o(q){k.constructor.call(this,q);p.call(this);var r=0;if(q.children&&Array.isArray(q.children))for(var s=0;s<q.children.length;s++)if(q.children[s].props.selected){r=s;break;}this.state={selectedIndex:r};}o.prototype.$AdsPixelIntegrationSteps2=function(){return Array.isArray(this.props.children)?this.props.children.length-1:0;};o.prototype.componentWillMount=function(){if(this.context.onLastStepEnter&&!this.props.doExpandContract){this.context.onLastStepEnter();}else if(this.context.onLastStepLeave)this.context.onLastStepLeave();};o.prototype.render=function(){var q=this.$AdsPixelIntegrationSteps2();return (c('React').createElement('ol',{className:"_36d5"+(this.props.doExpandContract?' '+"expand-contract":'')+(!this.props.doExpandContract?' '+"simple-list":''),ref:'list'},c('React').Children.map(this.props.children,function(r,s){return m(r,{doExpandContract:this.props.doExpandContract,index:s,key:s,selected:!this.props.doExpandContract?true:s===this.state.selectedIndex,selectedIndex:this.state.selectedIndex,onNext:s!==q&&this.props.doExpandContract?this.moveForward:null,onPrevious:s!==0&&this.props.doExpandContract?this.$AdsPixelIntegrationSteps4:null,onSelected:this.$AdsPixelIntegrationSteps3});}.bind(this))));};o.AdsPixelIntegrationStep=c('AdsPixelIntegrationStep.react');o.AdsPixelIntegrationSubSteps=c('AdsPixelIntegrationSubSteps.react');o.contextTypes={heightChanged:n.func,onLastStepEnter:n.func,onLastStepLeave:n.func};var p=function q(){this.$AdsPixelIntegrationSteps1=function(){if(this.context.heightChanged)this.context.heightChanged();}.bind(this);this.moveForward=function(){if(this.context.onLastStepEnter&&this.state.selectedIndex+1===this.$AdsPixelIntegrationSteps2())this.context.onLastStepEnter();this.setState({selectedIndex:this.state.selectedIndex+1},this.$AdsPixelIntegrationSteps1);}.bind(this);this.$AdsPixelIntegrationSteps3=function(r){r>=0||i(0);r<=this.$AdsPixelIntegrationSteps2()||i(0);if(this.context.onLastStepEnter&&r===this.$AdsPixelIntegrationSteps2())this.context.onLastStepEnter();this.setState({selectedIndex:r},this.$AdsPixelIntegrationSteps1);}.bind(this);this.$AdsPixelIntegrationSteps4=function(){if(this.context.onLastStepLeave&&this.state.selectedIndex===this.$AdsPixelIntegrationSteps2())this.context.onLastStepLeave();if(this.state.selectedIndex>0)this.setState({selectedIndex:this.state.selectedIndex-1},this.$AdsPixelIntegrationSteps1);}.bind(this);};f.exports=o;}),null);
__d('SignalsAccordion.behavior',['AdsPixelAnimations','SignalsEasings','ReactDOM','SignalsBehaviorUtil','SignalsTweening','React','Style','getVendorPrefixedName'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').Component,i=c('ReactDOM').findDOMNode,j=c('AdsPixelAnimations').measureWholeHeight,k=c('SignalsBehaviorUtil').scale,l=200,m={CONTENT_CLIP:c('SignalsEasings').easeInOut,CONTENT_FADE_OUT:c('SignalsEasings').easeIn,CONTENT_FADE_IN:c('SignalsEasings').easeOut};function n(y){var z=u(y),aa=z.body,ba=z.bodyWrapper,ca=z.chevron;c('Style').set(aa,'height',null);c('Style').set(aa,'opacity',null);c('Style').set(ba,'bottom',null);if(ca){var da=c('getVendorPrefixedName')('transform');c('Style').set(ca,da,null);}}function o(y,z,aa){return function(ba,ca){var da=ba.chevron,ea=k(0,y,ca),fa=k(0,z,ca),ga=k(0,aa,ca),ha=c('getVendorPrefixedName')('transform');if(ha){var ia='rotateZ('+ga+'deg) '+'translateX('+ea+'px) '+'translateY('+fa+'px)';c('Style').set(da,ha,ia);}};}function p(y){return Array.prototype.reduce.call(y.childNodes,function(z,aa){return z+(aa.nodeType===Node.TEXT_NODE?j(aa.parentNode).whole:j(aa).whole);},0);}function q(y,z){var aa=y.body,ba=y.bodyContentHeight,ca=m.CONTENT_CLIP(z),da=k(0,ba,ca);c('Style').set(aa,'height',da+'px');}function r(y,z){var aa=y.body,ba=y.bodyContentHeight,ca=y.bodyWrapper,da=y.doMoveContentUpWithClip,ea=m.CONTENT_CLIP(z),fa=k(ba,0,ea);c('Style').set(aa,'height',fa+'px');if(da)c('Style').set(ca,'bottom',ba-fa+'px');}function s(y,z){var aa=y.body,ba=m.CONTENT_FADE_IN(z);c('Style').set(aa,'opacity',ba);}function t(y,z){var aa=y.body,ba=1-m.CONTENT_FADE_OUT(z);c('Style').set(aa,'opacity',ba);}function u(y,z,aa){if(!y.refs.body)throw new Error('body ref not found');if(!y.refs.wrapper)throw new Error('wrapper ref not found');var ba=i(y.refs.body),ca=i(y.refs.wrapper),da=p(ba);return {body:ba,bodyContentHeight:da,bodyWrapper:ca,doMoveContentUpWithClip:!!aa&&(aa.selectedIndex||-1)<(aa.index||-1),chevron:y.refs.chevron?i(y.refs.chevron):null};}function v(y,z){return !y.selected&&!!z&&!!z.selected;}function w(y,z){return !!y.selected&&!!z&&!z.selected;}function x(y,z){return [c('SignalsTweening')({name:'accordion_open',cancelAnimations:['accordion_close','accordion_open'],delayProps:true,trigger:v,animationChainDone:n},y,l,u),c('SignalsTweening')({name:'accordion_close',cancelAnimations:['accordion_close','accordion_open'],delayProps:true,trigger:w,animationChainDone:n},z,l,u)];}f.exports={accordionBehavior:x,clipOpenFrame:q,clipCloseFrame:r,opacityOpenFrame:s,opacityCloseFrame:t,makeChevronFrame:o};}),null);
__d('SignalsAccordionItem.react',['ix','cx','React','SignalsAnimationContainer','SignalsAccordion.behavior','SUIGlyphIcon.react','fbglyph'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('SignalsAnimationContainer').createAnimationContainer,m=c('SignalsAccordion.behavior').accordionBehavior,n=c('SignalsAccordion.behavior').clipCloseFrame,o=c('SignalsAccordion.behavior').clipOpenFrame,p=c('SignalsAccordion.behavior').makeChevronFrame,q=c('SignalsAccordion.behavior').opacityCloseFrame,r=c('SignalsAccordion.behavior').opacityOpenFrame,s=c('React').Component,t=c('React').PropTypes,u=c('React').Children,v=c('React').cloneElement,w=p(-2,2,90),x=p(2,2,-90);j=babelHelpers.inherits(y,s);k=j&&j.prototype;function y(){var aa,ba;for(var ca=arguments.length,da=Array(ca),ea=0;ea<ca;ea++)da[ea]=arguments[ea];return ba=(aa=k.constructor).call.apply(aa,[this].concat(da)),this.$SignalsAccordionItem1=function(){if(this.props.onHeaderClick)this.props.onHeaderClick(this.props.index);}.bind(this),ba;}y.prototype.$SignalsAccordionItem2=function(){return this.context.animationsDisabled||!this.props.selected;};y.prototype.getChildContext=function(){return {animationsDisabled:this.$SignalsAccordionItem2()};};y.prototype.render=function(){var aa=this.props.selected?c('React').createElement(c('SUIGlyphIcon.react'),{srcDefault:h("114092")}):c('React').createElement(c('SUIGlyphIcon.react'),{srcDefault:h("114100")}),ba=typeof this.props.children==='string'?c('React').createElement('div',null,this.props.children):this.props.children;return c('React').createElement('div',{className:"_5jai"+(this.props.selected?' '+"_5jaj":'')+(this.props.separatorTop?' '+"_5jak":'')},c('React').createElement('div',{className:"_5jal",ref:'chevron',role:'button',tabIndex:(this.props.index||0)+1,onClick:this.$SignalsAccordionItem1},aa),c('React').createElement('div',{className:"_5jam",ref:'header',tabIndex:(this.props.index||0)+1,onClick:this.$SignalsAccordionItem1},this.props.header),c('React').createElement('div',{className:"_5jan",ref:'body'},c('React').createElement('div',{ref:'wrapper'},u.map(ba,function(ca){return typeof ca==='object'||typeof ca==='function'?v(ca,{animationsDisabled:this.$SignalsAccordionItem2()}):ca;}.bind(this)))));};y.childContextTypes={animationsDisabled:t.bool};y.contextTypes={animationsDisabled:t.bool};var z=l(m([o,r,w],[n,q,x]),y);f.exports=z;}),null);
__d('SignalsAccordion.react',['cx','SignalsAccordionItem.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=c('React').cloneElement,m=c('React').Children;i=babelHelpers.inherits(n,k);j=i&&i.prototype;function n(){j.constructor.call(this);this.$SignalsAccordion1=function(o){this.setState({selectedIndex:o});}.bind(this);this.state={selectedIndex:0};}n.prototype.render=function(){var o=m.map(this.props.children,function(p,q){return l(p,babelHelpers['extends']({},p.props,{index:q,key:q,selected:q===this.state.selectedIndex,selectedIndex:this.state.selectedIndex,onHeaderClick:this.$SignalsAccordion1}));}.bind(this));return (c('React').createElement('div',{className:"_4iq4"+(this.props.dark?' '+"_4iqa":'')},o));};f.exports=n;}),null);
__d('SignalsAnimatedGIF.react',['cx','ix','fbt','Image.react','React','ReactDOM'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').Component,n=150,o=300;k=babelHelpers.inherits(p,m);l=k&&k.prototype;function p(){l.constructor.call(this);this.$SignalsAnimatedGIF2=function(q){this.setState({hideFull:false,isHovered:true,transitioningOut:false});}.bind(this);this.$SignalsAnimatedGIF3=function(q){this.setState({isHovered:false,transitioningOut:true});}.bind(this);this.$SignalsAnimatedGIF4=function(q){this.$SignalsAnimatedGIF1();c('ReactDOM').findDOMNode(this.refs.full).removeEventListener('load',this.$SignalsAnimatedGIF4);this.setState({hasFullLoaded:true});}.bind(this);this.$SignalsAnimatedGIF5=function(q){if(this.state.transitioningOut)this.setState({transitioningOut:false,hideFull:true});}.bind(this);this.state={imageWidth:o,imageHeight:n,hasFullLoaded:false,hideFull:true,isHovered:false,transitioningOut:false};}p.prototype.$SignalsAnimatedGIF1=function(){var q=document.createElement('canvas'),r=c('ReactDOM').findDOMNode(this.refs.full);q.height=r.height;q.width=r.width;var s=q.getContext('2d');if(s==null)return;s.drawImage(r,0,0);var t=c('ReactDOM').findDOMNode(this.refs.firstFrame);t.src=q.toDataURL('image/png');};p.prototype.componentDidMount=function(){var q=c('ReactDOM').findDOMNode(this.refs.full);q.addEventListener('load',this.$SignalsAnimatedGIF4);};p.prototype.componentWillUnmount=function(){var q=c('ReactDOM').findDOMNode(this.refs.full);q.removeEventListener('load',this.$SignalsAnimatedGIF4);};p.prototype.render=function(){var q="_47g-"+(this.state.isHovered?' '+"_47g_":'')+(this.state.hideFull?' '+"_47h0":'');return (c('React').createElement('div',{className:q,ref:'container',onMouseLeave:this.$SignalsAnimatedGIF3,onMouseOver:this.$SignalsAnimatedGIF2},c('React').createElement(c('Image.react'),{className:"_47h1",crossOrigin:'anonymous',ref:'full',src:this.props.src,onTransitionEnd:this.$SignalsAnimatedGIF5}),c('React').createElement(c('Image.react'),{className:"_47h2",ref:'firstFrame'}),c('React').createElement('div',{className:"_47h3"}),c('React').createElement('div',{className:"_47hu"},c('React').createElement(c('Image.react'),{src:i("23655")}),j._("Hover to Play"))));};f.exports=p;}),null);
__d('SignalsFade.behavior',['SignalsEasings','ReactDOM','SignalsBehaviorUtil','SignalsTweening','Style'],(function a(b,c,d,e,f,g){'use strict';var h=c('ReactDOM').findDOMNode,i=c('SignalsBehaviorUtil').scale;function j(o,p){var q=h(o),r=parseFloat(q.style.opacity),s=isNaN(r)?null:r;return {startOpacity:s,target:q};}function k(o,p){var q=i(o.startOpacity==null?0:o.startOpacity,1,c('SignalsEasings').easeOut(p));c('Style').set(o.target,'opacity',q);}function l(o,p){var q=i(o.startOpacity==null?1:o.startOpacity,0,c('SignalsEasings').easeIn(p));c('Style').set(o.target,'opacity',q);}function m(o){var p=h(o);if(p)c('Style').set(p,'opacity',null);}function n(o,p,q,r){var s=c('SignalsTweening')({name:'fade_show',cancelAnimations:['fade_hide'],trigger:o,animationChainDone:m},k,p,j),t=c('SignalsTweening')({name:'fade_hide',delayProps:true,cancelAnimations:['fade_show'],trigger:q,animationChainDone:m},l,r,j);return [s,t];}f.exports=n;}),null);
__d('SignalsCodeBlock.react',['ix','cssVar','cx','invariant','fbt','Promise','Clipboard','Image.react','React','ReactDOM','SignalsAnimationContainer','SignalsColor','SignalsTweening','Style','SignalsFade.behavior','joinClasses','SignalsPop.behavior','fbglyph'],(function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';var m,n,o,p,q,r,s,t,u,v,w=c('React').Component,x=c('React').PropTypes,y=c('React').PureComponent,z=c('ReactDOM').findDOMNode,aa=c('SignalsAnimationContainer').createAnimationContainer,ba=300,ca=200,da=100,ea=700,fa=1000,ga=da+ea+fa,ha=300,ia=400,ja=c('SignalsColor').parseColor("#4080ff");ja||k(0);ja.a=.64;var ka=c('SignalsColor').parseColor("#4080ff");ka||k(0);ka.a=.88;var la=c('SignalsColor').parseColor("#42b72a");la||k(0);la.a=.88;var ma=c('SignalsColor').makeTween(ja,ka),na=c('SignalsColor').makeTween(ka,la),oa='hold',pa='down';m=babelHelpers.inherits(qa,y);n=m&&m.prototype;qa.prototype.render=function(){if(this.props.show)return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:"_3yv-"+(this.props.display==='inline'?' '+"_2eab":'')+(this.props.shade==='light'?' '+"_2eac":'')+(this.props.weight==='bold'?' '+"_2ead":'')+(' '+"_3kh4")}),c('React').createElement('div',null,!this.props.shouldShowIcon?null:c('React').createElement(c('Image.react'),{src:h("114691")}),this.props.label?this.props.label:l._("Copy code to clipboard"))));return null;};function qa(){m.apply(this,arguments);}o=babelHelpers.inherits(ra,y);p=o&&o.prototype;ra.prototype.render=function(){return (c('React').createElement('div',{className:"_3kh4"},!this.props.shouldShowIcon?null:c('React').createElement(c('Image.react'),{src:h("114571")}),this.props.label?this.props.label:l._("Copied to clipboard")));};function ra(){o.apply(this,arguments);}q=babelHelpers.inherits(sa,y);r=q&&q.prototype;sa.prototype.render=function(){if(this.props.show)return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:"_3yv_"+(this.props.display==='inline'?' '+"_2eab":'')+(this.props.shade==='light'?' '+"_2eac":'')+(this.props.weight==='bold'?' '+"_2ead":'')}),c('React').createElement(ya,{label:this.props.label,shouldShowIcon:this.props.shouldShowIcon})));return null;};function sa(){q.apply(this,arguments);}s=babelHelpers.inherits(ta,w);t=s&&s.prototype;ta.prototype.getBgColor=function(){switch(this.props.mode){case 'PROMPT':return ja.toString();case 'DOWN':return ka.toString();default:return la.toString();}};ta.prototype.render=function(){if(this.props.mode!=='HIDDEN')return (c('React').createElement('div',{className:"_3yw0",style:babelHelpers['extends']({},this.props.style,{backgroundColor:this.getBgColor()})}));return null;};function ta(){s.apply(this,arguments);}function ua(gb,hb){return !gb.show&&!!hb&&hb.show;}function va(gb,hb){return gb.show&&!!hb&&!hb.show;}var wa=aa(c('SignalsFade.behavior')(ua,ba,va,ca),qa),xa=aa(c('SignalsFade.behavior')(ua,ha,va,ea),sa),ya=aa(c('SignalsPop.behavior')({duration:ia}),ra),za=c('SignalsTweening').simple({name:pa,delayProps:true,trigger:function gb(hb,ib){return (hb.mode==='PROMPT'&&!!ib&&ib.mode==='DOWN');}},function(gb,hb){var ib=z(gb),jb=ma(hb);c('Style').set(ib,'backgroundColor',jb.toString());},da),ab=c('SignalsTweening').simple({name:'confirm',delayProps:true,trigger:function gb(hb,ib){return (hb.mode==='DOWN'&&!!ib&&ib.mode==='CONFIRM');}},function(gb,hb){var ib=z(gb),jb=na(hb);c('Style').set(ib,'backgroundColor',jb.toString());},da),bb={name:oa,delayProps:true,trigger:function gb(hb,ib){return (hb.mode==='DOWN'&&!!ib&&ib.mode==='CONFIRM');},animate:function gb(){return new (c('Promise'))(function(hb){return setTimeout(hb,ga);});}},cb=aa([].concat(c('SignalsFade.behavior')(function(gb,hb){return (gb.mode==='HIDDEN'&&!!hb&&hb.mode!=='HIDDEN');},ba,function(gb,hb){return (gb.mode!=='HIDDEN'&&!!hb&&hb.mode==='HIDDEN');},function(gb,hb){return (gb.mode==='PROMPT'?ca:ea);}),[za,ab,bb]),ta),db=60,eb=30;u=babelHelpers.inherits(fb,w);v=u&&u.prototype;fb.prototype.getChildContext=function(){return {animationsDisabled:this.props.disableAnimations==null?this.context.animationsDisabled:this.props.disableAnimations};};function fb(){v.constructor.call(this);this.$SignalsCodeBlock6=function(gb){this.$SignalsCodeBlock1=gb;}.bind(this);this.$SignalsCodeBlock7=function(gb){this.$SignalsCodeBlock2=gb;}.bind(this);this.$SignalsCodeBlock11=function(){if(!c('Clipboard').isSupported()){this.$SignalsCodeBlock9();return;}if(this.state.mode==='DOWN'){this.$SignalsCodeBlock10(function(){return this.setState({mode:'CONFIRM'});}.bind(this),pa);this.$SignalsCodeBlock8();}}.bind(this);this.$SignalsCodeBlock12=function(){if(this.$SignalsCodeBlock4())return;this.setState({mode:'DOWN'});}.bind(this);this.$SignalsCodeBlock13=false;this.$SignalsCodeBlock14=function(){this.$SignalsCodeBlock13=true;if(!this.$SignalsCodeBlock4())this.setState({mode:'PROMPT'});}.bind(this);this.$SignalsCodeBlock15=function(){this.$SignalsCodeBlock13=false;if(!this.$SignalsCodeBlock4()&&this.state.mode!=='HIDDEN')this.setState({mode:'HIDDEN'});}.bind(this);this.$SignalsCodeBlock16=function(){var gb=z(this.$SignalsCodeBlock2);this.setState({scrollTop:gb.scrollTop,scrollLeft:gb.scrollLeft});}.bind(this);this.state={mode:'HIDDEN',scrollLeft:0,scrollTop:0};}fb.prototype.$SignalsCodeBlock3=function(){var gb=z(this),hb=this.props.display==='inline'?eb:db;return !gb||gb.offsetHeight>hb;};fb.prototype.$SignalsCodeBlock4=function(){return this.$SignalsCodeBlock5(oa)||this.state.mode==='CONFIRM';};fb.prototype.$SignalsCodeBlock8=function(){var gb=z(this.$SignalsCodeBlock1);c('Clipboard').copy(gb.innerText);this.setState({mode:'CONFIRM'},function(){setTimeout(function(){this.setState({mode:'HIDDEN'});}.bind(this),ha+fa);}.bind(this));};fb.prototype.$SignalsCodeBlock9=function(){var gb=document.createRange(),hb=z(this.$SignalsCodeBlock1);gb.selectNodeContents(hb);var ib=window.getSelection();ib.removeAllRanges();ib.addRange(gb);};fb.prototype.$SignalsCodeBlock5=function(){for(var gb=arguments.length,hb=Array(gb),ib=0;ib<gb;ib++)hb[ib]=arguments[ib];return this.refs.bg&&this.refs.bg.isAnimating&&this.refs.bg.isAnimating(hb);};fb.prototype.$SignalsCodeBlock10=function(gb){for(var hb=arguments.length,ib=Array(hb>1?hb-1:0),jb=1;jb<hb;jb++)ib[jb-1]=arguments[jb];var kb=function(){if(this.$SignalsCodeBlock5.apply(this,ib)){window.requestAnimationFrame(kb);}else gb();}.bind(this);kb();};fb.prototype.render=function(){var gb=this.state.mode,hb=c('joinClasses')("_3yw3"+(this.$SignalsCodeBlock4()?' '+"_3yw4":'')+(this.props.wrap==='break-word'?' '+"_2eae":'')+(this.props.maxHeight!=null?' '+"_1jef":''),this.props.className),ib={left:this.state.scrollLeft,maxHeight:this.props.maxHeight,top:this.state.scrollTop};return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:hb,ref:this.$SignalsCodeBlock7,style:{maxHeight:this.props.maxHeight},onScroll:this.$SignalsCodeBlock16}),c('React').createElement('div',{onMouseDown:this.$SignalsCodeBlock12,onMouseEnter:this.$SignalsCodeBlock14,onMouseLeave:this.$SignalsCodeBlock15,onMouseUp:this.$SignalsCodeBlock11},this.props.code?c('React').createElement('code',{dangerouslySetInnerHTML:{__html:this.props.code.map(function(jb){return jb.__html;}).join('')},ref:this.$SignalsCodeBlock6}):c('React').createElement('code',{ref:this.$SignalsCodeBlock6},this.props.children),!c('Clipboard').isSupported()?null:c('React').createElement('div',null,c('React').createElement(cb,{mode:gb,ref:'bg',style:ib}),c('React').createElement(wa,{display:this.props.display,label:this.props.promptLabel,shade:this.props.shade,shouldShowIcon:this.$SignalsCodeBlock3(),show:gb==='PROMPT'||gb==='DOWN',style:ib,weight:this.props.weight}),c('React').createElement(xa,{display:this.props.display,label:this.props.confirmLabel,shade:this.props.shade,shouldShowIcon:this.$SignalsCodeBlock3(),show:gb==='CONFIRM',style:ib,weight:this.props.weight})))));};fb.defaultProps={disableAnimations:false,display:'block',shade:'medium',weight:'normal',wrap:'nowrap'};fb.childContextTypes={animationsDisabled:x.bool};fb.contextTypes={animationsDisabled:x.bool};fb.PromptBlock=qa;fb.ConfirmBlock=sa;fb.ConfirmContents=ra;fb.Background=ta;f.exports=fb;}),null);
__d('SignalsAdvancedMatchingToggleSelect.react',['cx','fbt','AdsHelpLink.react','BUISwitch.react','Link.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PureComponent,m='https://developers.facebook.com/docs/'+'facebook-pixel/pixel-with-ads/conversion-tracking#advanced_match',n=320;j=babelHelpers.inherits(o,l);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.onToggle=function(){return this.props.onSelect(this.props.selectedName==='advanced'?'recommended':'advanced');}.bind(this),q;}o.prototype.render=function(){var p=this.props.selectedName==='advanced';return (c('React').createElement('div',{className:"_m7f"},c('React').createElement(c('BUISwitch.react'),{disabled:!!this.props.disabled,value:p,onToggle:this.onToggle}),c('React').createElement('div',{className:"_m7g"},i._("ADVANCED MATCHING")),c('React').createElement(c('AdsHelpLink.react'),{width:n},i._("When you turn on data matching, information from your pixel will be used to match website actions with Facebook people. This helps increase the effectiveness of conversion reporting, advert optimisation and targeting. {=Learn more}.",[i.param('=Learn more',c('React').createElement(c('Link.react'),{href:m,target:'_blank'},i._("Learn more")))]))));};f.exports=o;}),null);
__d('SignalsVariationsContainerChild',['invariant','FluxContainerSubscriptions','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').Component,j=c('React').PropTypes;function k(l){var m,n;return n=m=function(){var o,p;o=babelHelpers.inherits(q,i);p=o&&o.prototype;function q(r,s){'use strict';p.constructor.call(this,r,s);this.$SignalsVariationsContainerChild1=new (c('FluxContainerSubscriptions'))();s.variationsStore||h(0);this.$SignalsVariationsContainerChild1.setStores([s.variationsStore]);this.$SignalsVariationsContainerChild1.addListener(function(){this.setState({selectedName:s.variationsStore.getSelectedName()});}.bind(this));this.state={selectedName:s.variationsStore.getSelectedName()};}q.prototype.componentWillUnmount=function(){'use strict';this.$SignalsVariationsContainerChild1.reset();};q.prototype.render=function(){'use strict';return (c('React').createElement(l,babelHelpers['extends']({selectedName:this.state.selectedName,onSelect:this.context.onVariationChange},this.props),this.props.children));};return q;}(),m.contextTypes={variationsStore:j.object,onVariationChange:j.func},n;}f.exports=k;}),null);
__d('SignalsVariationsAdvancedMatchingToggleSelect.react',['SignalsAdvancedMatchingToggleSelect.react','SignalsVariationsContainerChild'],(function a(b,c,d,e,f,g){'use strict';f.exports=c('SignalsVariationsContainerChild')(c('SignalsAdvancedMatchingToggleSelect.react'));}),null);
__d('SignalsVariationsStore',['FluxReduceStore'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxReduceStore'));i=h&&h.prototype;j.prototype.getInitialState=function(){return 'recommended';};j.prototype.reduce=function(k,l){if(l.type==='select-name')return l.selectedName;return k;};j.prototype.getSelectedName=function(){return this.getState();};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('SignalsVariationsContainer.react',['Dispatcher_DEPRECATED','React','SignalsVariationsStore'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Component,k=c('React').PropTypes;h=babelHelpers.inherits(l,j);i=h&&h.prototype;l.prototype.getChildContext=function(){return {variationsStore:this.$SignalsVariationsContainer2,onVariationChange:this.$SignalsVariationsContainer3};};function l(m){i.constructor.call(this,m);this.$SignalsVariationsContainer1=new (c('Dispatcher_DEPRECATED'))();this.$SignalsVariationsContainer2=new (c('SignalsVariationsStore'))(this.$SignalsVariationsContainer1);this.$SignalsVariationsContainer3=function(n){this.$SignalsVariationsContainer1.dispatch({type:'select-name',selectedName:n});}.bind(this);this.$SignalsVariationsContainer3(m.initialName);this.state={selectedName:m.initialName};}l.prototype.render=function(){return c('React').createElement('div',{className:this.props.className},this.props.children);};l.childContextTypes={variationsStore:k.object,onVariationChange:k.func};f.exports=l;}),null);
__d('SignalsMultiPane.react',['cx','invariant','Promise','SignalsEasings','React','ReactDOM','SignalsAnimationContainer','SignalsBehaviorUtil','SignalsTweening','Style'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('React').Children,n=c('SignalsAnimationContainer').createAnimationContainer,o=c('ReactDOM').findDOMNode,p=c('SignalsBehaviorUtil').scale,q=200;j=babelHelpers.inherits(r,l);k=j&&j.prototype;function r(){k.constructor.call(this);this.$SignalsMultiPane2={};this.$SignalsMultiPane3={};this.state={height:0};}r.prototype.$SignalsMultiPane1=function(){var t={};if(this.props.orderedNames){m.forEach(this.props.children,function(u){t[u.props.name]=u;});this.props.orderedNames||i(0);return this.props.orderedNames.map(function(u){return t[u];});}return m.toArray(this.props.children);};r.prototype.getLeftForName=function(t){var u=this.$SignalsMultiPane1();for(var v=0;v<u.length;v++)if(u[v].props.name===t)return v*-100;return 0;};r.prototype.getHeight=function(t){var u=this.getWrapperForNodeName(t);return u.offsetHeight;};r.prototype.getItemNodeForName=function(t){this.$SignalsMultiPane3[t]||i(0);return o(this.$SignalsMultiPane3[t]);};r.prototype.getWrapperForNodeName=function(t){this.$SignalsMultiPane2[t]||i(0);return o(this.$SignalsMultiPane2[t]);};r.prototype.updateHeight=function(t){var u=t||this.props.selectedName;this.setState({height:this.getHeight(u)});};r.prototype.componentDidMount=function(){setTimeout(function(){return this.updateHeight();}.bind(this),0);};r.prototype.componentWillUpdate=function(t){if(t.selectedName!==this.props.selectedName)this.updateHeight(t.selectedName);};r.prototype.render=function(){var t=this.$SignalsMultiPane1(),u=this.props.transition==='crossfade',v=!u?{left:this.getLeftForName(this.props.selectedName)+'%',width:t.length*100+'%',height:this.state.height+'px'}:null;return (c('React').createElement('div',{className:"_2b5u",ref:'wrapper'},c('React').createElement('div',{className:"_2b5y"+(u?' '+"_2b5_":''),ref:'content',style:v},t.map(function(w,x){return (c('React').createElement('div',{className:"_2b60"+(this.props.selectedName===w.props.name?' '+"_2b61":''),key:w.props.name,ref:function(y){return this.$SignalsMultiPane3[w.props.name]=y;}.bind(this)},c('React').createElement('div',{className:"_2b62",ref:function(y){return this.$SignalsMultiPane2[w.props.name]=y;}.bind(this)},w)));}.bind(this)))));};var s=n([{name:'open',runOnParentAnimation:['open'],animate:function t(u){u.updateHeight();return c('Promise').resolve();}},c('SignalsTweening')({name:'adjust_height',cancelAnimations:['adjust_height'],trigger:function t(u,v){return (!!v&&u.selectedName!==v.selectedName);},delayProps:true,animationChainDone:function t(u){if(u.props.transition==='crossfade')c('Style').set(o(u.refs.content),'height',null);}},function t(u,v){var w=u.newHeight,x=u.oldHeight,y=u.contentNode,z=p(x,w,v);c('Style').set(y,'height',z+'px');},q,function t(u,v,w){w||i(0);var x=u.getHeight(w.selectedName),y=o(u.refs.content),z=o(u.refs.wrapper),aa=z.offsetHeight;return {contentNode:y,oldHeight:aa,newHeight:x};},c('SignalsEasings').easeOut),c('SignalsTweening')({name:'slide',cancelAnimations:['slide'],trigger:function t(u,v){return ((!u.transition||u.transition==='slide')&&!!v&&u.selectedName!==v.selectedName);},delayProps:true},function t(u,v){var w=u.newPosition,x=u.oldPosition,y=u.contentNode,z=p(x,w,v);c('Style').set(y,'left',z+'%');},q,function t(u,v,w){w||i(0);var x=u.getLeftForName(w.selectedName),y=o(u.refs.content),z=parseInt(y.style.left,10);return {contentNode:y,newPosition:x,oldPosition:z};},c('SignalsEasings').easeOut),c('SignalsTweening')({name:'crossfade',cancelAnimations:['crossfade'],trigger:function t(u,v){return (u.transition==='crossfade'&&!!v&&u.selectedName!==v.selectedName);},delayProps:true,animationChainStart:function t(u,v,w){w||i(0);var x=u.getItemNodeForName(w.selectedName),y=u.getItemNodeForName(v.selectedName);c('Style').set(x,'display','block');c('Style').set(x,'position','absolute');c('Style').set(x,'top','0');c('Style').set(x,'left','0');c('Style').set(x,'width','100%');c('Style').set(x,'opacity','0');c('Style').set(y,'position','absolute');c('Style').set(y,'top','0');c('Style').set(y,'left','0');c('Style').set(y,'width','100%');c('Style').set(y,'opacity','1');},animationChainDone:function t(u,v,w,x){x||i(0);var y=u.getItemNodeForName(x.selectedName),z=u.getItemNodeForName(w.selectedName);c('Style').set(z,'position',null);c('Style').set(z,'top',null);c('Style').set(z,'left',null);c('Style').set(z,'width',null);c('Style').set(z,'opacity',null);c('Style').set(y,'position',null);c('Style').set(y,'top',null);c('Style').set(y,'left',null);c('Style').set(y,'width',null);c('Style').set(y,'opacity',null);c('Style').set(y,'display',null);}},function(t,u){return t(u);},q,function t(u,v,w){w||i(0);var x=u.getItemNodeForName(w.selectedName),y=u.getItemNodeForName(v.selectedName);return function(z){c('Style').set(y,'opacity',1-z);c('Style').set(x,'opacity',z);};}),c('SignalsEasings').easeIn],r);f.exports=s;}),null);
__d('SignalsVariationsMultiPane.react',['SignalsMultiPane.react','SignalsVariationsContainerChild'],(function a(b,c,d,e,f,g){'use strict';f.exports=c('SignalsVariationsContainerChild')(c('SignalsMultiPane.react'));}),null);
__d('SignalsMultiPaneSelect.react',['cx','invariant','Promise','SignalsEasings','React','ReactDOM','SignalsAnimationContainer','SignalsBehaviorUtil','SignalsTweening','Style','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Children,m=c('React').Component,n=c('SignalsAnimationContainer').createAnimationContainer,o=c('ReactDOM').findDOMNode,p=c('SignalsBehaviorUtil').scale,q=200;j=babelHelpers.inherits(r,m);k=j&&j.prototype;function r(){k.constructor.call(this);this.$SignalsMultiPaneSelect2={};this.$SignalsMultiPaneSelect3=function(t){var u=t.currentTarget.getAttribute('data-name');u||i(0);this.props.onSelect(u);}.bind(this);this.state={markerLeft:0,markerWidth:0};}r.prototype.$SignalsMultiPaneSelect1=function(){var t={};if(this.props.orderedNames){l.forEach(this.props.children,function(u){t[u.props.name]=u;});this.props.orderedNames||i(0);return this.props.orderedNames.map(function(u){return t[u];});}return l.toArray(this.props.children);};r.prototype.getLeftAndWidthForName=function(t){this.$SignalsMultiPaneSelect2[t]||i(0);var u=o(this.$SignalsMultiPaneSelect2[t]);return {left:u.offsetLeft,width:u.offsetWidth};};r.prototype.updateMarker=function(t){var u=this.getLeftAndWidthForName(t||this.props.selectedName);this.setState({markerLeft:u.left,markerWidth:u.width});};r.prototype.componentDidMount=function(){this.updateMarker();};r.prototype.componentWillUpdate=function(t){if(t.selectedName!==this.props.selectedName)this.updateMarker(t.selectedName);};r.prototype.render=function(){var t=this.$SignalsMultiPaneSelect1(),u={left:this.state.markerLeft+'px',width:this.state.markerWidth+'px'};return (c('React').createElement('div',{className:c('joinClasses')("_4jg9",this.props.className)},t.map(function(v,w){return ([c('React').createElement('div',{className:"_4jga",'data-name':v.props.name,key:v.props.name,ref:function(x){return this.$SignalsMultiPaneSelect2[v.props.name]=x;}.bind(this),role:'button',tabIndex:w+1,onClick:this.$SignalsMultiPaneSelect3},v),w!==t.length-1?c('React').createElement('div',{className:"_4jgb",key:'div_'+w}):null]);}.bind(this)).reduce(function(v,w){return v.concat(w);},[]),c('React').createElement('div',{className:"_4jgc",ref:'marker',style:u})));};var s=n([{name:'calc_on_parent_open',runOnParentAnimation:['open'],animate:function t(u){u.updateMarker();return c('Promise').resolve();}},c('SignalsTweening')({name:'slide',cancelAnimations:['slide'],trigger:function t(u,v){return (!!v&&u.selectedName!==v.selectedName);},delayProps:true,animationChainDone:function t(u){var v=o(u.refs.marker);c('Style').set(v,'transform',null);}},function t(u,v){var w=u.newPosition,x=u.oldPosition,y=u.markerNode,z=p(x.left,w.left,v),aa=p(x.width,w.width,v);c('Style').set(y,'left',z+'px');c('Style').set(y,'width',aa+'px');},q,function t(u,v,w){w||i(0);var x=u.getLeftAndWidthForName(w.selectedName);u.refs.marker||i(0);var y=o(u.refs.marker),z={left:y.offsetLeft,width:y.offsetWidth};return {markerNode:y,newPosition:x,oldPosition:z};},c('SignalsEasings').easeOut)],r);f.exports=s;}),null);
__d('SignalsVariationsMultiPaneSelect.react',['SignalsMultiPaneSelect.react','SignalsVariationsContainerChild'],(function a(b,c,d,e,f,g){'use strict';f.exports=c('SignalsVariationsContainerChild')(c('SignalsMultiPaneSelect.react'));}),null);
__d('AdsPixelIntegrationsCMSContentProcessor',['ix','cx','invariant','AdsPixelIntegrationPreamble.react','AdsPixelIntegrationSteps.react','React','SignalsAccordion.react','SignalsAccordionItem.react','SignalsAnimatedGIF.react','SignalsCodeBlock.react','SignalsVariationsAdvancedMatchingToggleSelect.react','SignalsVariationsContainer.react','SignalsVariationsMultiPane.react','SignalsVariationsMultiPaneSelect.react','SUIGlyphIcon.react','SUITooltip.react','fbglyph','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('AdsPixelIntegrationSteps.react').AdsPixelIntegrationStep,l=c('AdsPixelIntegrationSteps.react').AdsPixelIntegrationSubSteps,m=c('React').createElement;function n(w){var x=0;for(;x<w.children.length;x++)if(w.children[x].name==='header')break;x<w.children.length||j(0);var y=[].concat(w.children),z=y.splice(x,1)[0];return {remainingChildren:y,header:z};}function o(w){return (c('React').createElement(c('SUITooltip.react'),{alignment:'center',className:'tooltip',position:'below',tooltip:w.tooltip},c('React').createElement(c('SUIGlyphIcon.react'),{srcDefault:h("124740")})));}var p={ANIMATED_IMAGE:'animated img',CODE:'code',ITEM_LIST:'item-list',ITEM_LIST_ITEM:'item-list-item',ITEM_LIST_ITEM_WITH_SEPARATOR:'item-list-item separator-top',STEP:'step',STEPS_SIMPLE_LIST:'steps simple-list',STEPS:'steps',SUBSTEP:'substep',SUBSTEPS:'substeps',SUBTITLE:'subtitle',TOOLTIP:'tooltip',VARIATIONS_ADVANCED_TOGGLE:'variations-advanced-toggle',VARIATIONS_SELECT:'variation-select',VARIATIONS_SHOW:'variations-show',VARIATIONS_ITEM:'variations-item',VARIATIONS:'variations'};function q(w,x,y){var z=void 0,aa={key:y},ba=w.children;if(w.content)return w.content;switch(w.attributes['class']){case p.ANIMATED_IMAGE:z=c('SignalsAnimatedGIF.react');break;case p.CODE:z=c('SignalsCodeBlock.react');aa.className=c('joinClasses')("_3zej",w.attributes['class']);break;case p.ITEM_LIST:z=c('SignalsAccordion.react');aa.dark=true;break;case p.ITEM_LIST_ITEM:case p.ITEM_LIST_ITEM_WITH_SEPARATOR:z=c('SignalsAccordionItem.react');var ca=n(w),da=ca.remainingChildren,ea=ca.header,fa=babelHelpers['extends']({},ea,{name:'div'});ba=da;aa.header=q(fa,x,0);aa.separatorTop=w.attributes['class'].indexOf('separator-top')!==-1;break;case p.STEP:z=k;break;case p.STEPS_SIMPLE_LIST:case p.STEPS:z=c('AdsPixelIntegrationSteps.react');aa.doExpandContract=!w.attributes['class']||w.attributes['class'].indexOf('simple-list')===-1;break;case p.SUBSTEP:z='step';break;case p.SUBSTEPS:z=l;break;case p.SUBTITLE:z='header';break;case p.TOOLTIP:z=o;aa.tooltip=m('div',{},ba.map(function(ha,ia){return q(ha,x,ia);}));break;case p.VARIATIONS_ADVANCED_TOGGLE:z=c('SignalsVariationsAdvancedMatchingToggleSelect.react');break;case p.VARIATIONS_SELECT:z=c('SignalsVariationsMultiPaneSelect.react');aa.className="_5vw1";break;case p.VARIATIONS_SHOW:z=c('SignalsVariationsMultiPane.react');aa.transition=w.attributes['data-transition'];break;case p.VARIATIONS_ITEM:z='div';aa.name=w.attributes['data-name'];break;case p.VARIATIONS:z=c('SignalsVariationsContainer.react');aa.className="_1flp";aa.initialName='recommended';break;default:z=w.name||'';break;}if(w.attributes['class']&&w.attributes['class'].indexOf('param-')===0){w.attributes.id||j(0);x[w.attributes.id]||j(0);ba=[{attributes:{},children:[],content:x[w.attributes.id]}];}var ga=babelHelpers['extends']({},w.attributes,{className:w.attributes['class']},aa);delete ga['class'];if(z==='hr')return c('React').createElement('hr',{key:y});return m(z,ga,z!=='img'?ba.map(function(ha,ia){return q(ha,x,ia);}):undefined);}function r(w,x){var y='PREAMBLE',z=[],aa=[];w.children.forEach(function(ca,da){if(y==='PREAMBLE'&&ca.attributes['class']&&ca.attributes['class'].indexOf('steps')!==-1)y='STEPS';if(y==='PREAMBLE'){z.push(q(ca,x,da));}else{ca.attributes['class'].indexOf('steps')!==-1||j(0);aa.push(q(ca,x,da));}});var ba=z.length?[m(c('AdsPixelIntegrationPreamble.react'),{key:'-1'},z)]:[];return [].concat(ba,aa);}function s(w){var x=w.children;if(x.length>0&&x[0].name==='header')return babelHelpers['extends']({},w,{children:x.slice(1)});return w;}function t(w,x){return m('div',{},r(s(w),x));}function u(w){return Object.keys(w.attributes).map(function(x){return x+'="'+w.attributes[x]+'"';}).join(' ');}function v(w,x){var y=arguments.length<=2||arguments[2]===undefined?'NORMAL':arguments[2];if(w.content)if(y==='CODE'){return w.content.replace('<','&lt;').replace('>','&gt;');}else return w.content;if(x[w.attributes.id])return x[w.attributes.id];if(w.name==='code')y='CODE';var z=u(w),aa=w.children.map(function(ba){return v(ba,x,y);}).join('');w.name||j(0);return '<'+w.name+' '+z+'>'+aa+'</'+w.name+'>';}f.exports={processContent:t,renderDirectHTML:v,translateNode:q};}),null);
__d('SignalsIntegrationsCMSContent.react',['cx','AdsPixelIntegrationsCMSContentProcessor','React','SUIBusinessThemeContainer.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=c('React').PureComponent,m=c('AdsPixelIntegrationsCMSContentProcessor').processContent;i=babelHelpers.inherits(n,l);j=i&&i.prototype;n.prototype.render=function(){if(this.props.content){var o=m(this.props.content,{}),p=this.props.content.attributes.id.slice(0,3)==='gtm'||this.props.content.attributes.id.slice(0,8)==='basecode';return (c('React').createElement(c('SUIBusinessThemeContainer.react'),null,c('React').createElement('div',{className:"_2yvr"+(p?' '+"dark":'')},o)));}return null;};n.prototype.componentDidMount=function(){if(this.context.heightChanged)this.context.heightChanged();};n.prototype.componentDidUpdate=function(o){if(o.content!==this.props.content&&this.context.heightChanged)this.context.heightChanged();};function n(){i.apply(this,arguments);}n.contextTypes={heightChanged:k.func};f.exports=n;}),null);
__d('SignalsIntegrationsCMSTitle.react',['AdsPixelIntegrationsCMSContentProcessor','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PureComponent,k=c('AdsPixelIntegrationsCMSContentProcessor').translateNode;h=babelHelpers.inherits(l,j);i=h&&h.prototype;l.prototype.render=function(){if(this.props.content){var m=this.props.content.children,n=m.find(function(p){return p.name==='header';});if(n){var o=k(n,{});return typeof o==='string'?c('React').createElement('span',null,o):o;}}return null;};function l(){h.apply(this,arguments);}f.exports=l;}),null);
__d('AdsPixelIntegrationsCMSDialog.react',['cx','fbt','AdsPixelDialogTypes','AdsPixelViewActions','SignalsIntegrationsCMSContent.react','SignalsIntegrationsCMSTitle.react','LoadObject','React','SUIBusinessTheme','SUIButton.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('React').PropTypes;j=babelHelpers.inherits(n,l);k=j&&j.prototype;n.prototype.getChildContext=function(){return {onLastStepEnter:this.$AdsPixelIntegrationsCMSDialog1,onLastStepLeave:this.$AdsPixelIntegrationsCMSDialog2};};function n(o){k.constructor.call(this,o);this.$AdsPixelIntegrationsCMSDialog1=function(){this.setState({isLastStep:true});}.bind(this);this.$AdsPixelIntegrationsCMSDialog2=function(){this.setState({isLastStep:false});}.bind(this);if(o.setWidth)o.setWidth(640);this.state={isLastStep:false};}n.prototype.render=function(){var o=this.props.contentLoadObject,p=o.getValue();if(o.isLoading()||p==null)return null;return (c('React').createElement('div',null,c('React').createElement(c('XUIDialogTitle.react'),null,c('React').createElement(c('SignalsIntegrationsCMSTitle.react'),{content:p})),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement(c('SignalsIntegrationsCMSContent.react'),{content:p})),c('React').createElement(c('XUIDialogFooter.react'),{className:"_2yvs pixel",leftContent:this.props.backButton},this.$AdsPixelIntegrationsCMSDialog3())));};n.prototype.$AdsPixelIntegrationsCMSDialog3=function(){var o=this.props.onClose,p=function q(){return c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').EMAIL_INSTRUCTIONS);};return (c('React').createElement('div',null,c('React').createElement(c('SUIButton.react'),{label:i._("Close"),style:{marginLeft:'8px'},theme:c('SUIBusinessTheme'),use:'default',onClick:o}),c('React').createElement(c('SUIButton.react'),{label:i._("Email Instructions"),style:{marginLeft:'8px'},theme:c('SUIBusinessTheme'),use:this.state.isLastStep?'confirm':'default',onClick:p})));};n.childContextTypes={onLastStepEnter:m.func,onLastStepLeave:m.func};f.exports=n;}),null);
__d('AdsPixelIntegrationsCMSDialogContainer.react',['AdsFluxContainer','AdsPixelIntegrationsCMSDialog.react','AdsPixelIntegrationsStore','FluxStore','LoadObject','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.getStores=function(){return [c('AdsPixelIntegrationsStore')];};k.calculateState=function(l,m){var n=m.pixelID,o=m.integrationName,p=c('AdsPixelIntegrationsStore').getContent(n,o);return {contentLoadObject:p};};k.prototype.render=function(){return (c('React').createElement(c('AdsPixelIntegrationsCMSDialog.react'),babelHelpers['extends']({},this.props,{contentLoadObject:this.state.contentLoadObject})));};function k(){h.apply(this,arguments);}f.exports=c('AdsFluxContainer').create(k,{withProps:true});}),null);
__d('WebRemarketingDialogGear.react',['fbt','ix','AudienceManagerURLConstants','BUIAdoptionButton.react','ContextualDialogArrow','ContextualLayerAutoFlip','Image.react','PopoverMenu.react','React','ReactXUIMenu','XUIMenuSeparator.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('ReactXUIMenu').Item,m=c('React').PropTypes,n="pixel";j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$WebRemarketingDialogGear2=function(){var u=[];if(this.props.onViewPixelCode)u.push(this.$WebRemarketingDialogGear3());if(this.props.learnMoreURL)u.push(this.$WebRemarketingDialogGear4());if(u.length)u.push(c('React').createElement(c('XUIMenuSeparator.react'),{key:'separator'}));u.push(this.$WebRemarketingDialogGear5());return u;}.bind(this),this.$WebRemarketingDialogGear3=function(){return (c('React').createElement(l,{key:n,value:n},h._("View pixel code")));},this.$WebRemarketingDialogGear4=function(){return (c('React').createElement(l,{href:this.props.learnMoreURL,key:'learnMore',target:'_blank'},h._("Learn More")));}.bind(this),this.$WebRemarketingDialogGear5=function(){return (c('React').createElement(l,{href:c('AudienceManagerURLConstants').WCA_FEEDBACK,key:'feedback',target:'_blank'},h._("Send Feedback")));},this.$WebRemarketingDialogGear1=function(u,v){switch(v.item.getValue()){case n:this.props.onViewPixelCode();break;}}.bind(this),q;}o.prototype.render=function(){return c('React').createElement(c('PopoverMenu.react'),{layerBehaviors:[c('ContextualLayerAutoFlip'),c('ContextualDialogArrow')],menu:c('React').createElement(c('ReactXUIMenu'),{onItemClick:this.$WebRemarketingDialogGear1},this.$WebRemarketingDialogGear2())},c('React').createElement(c('BUIAdoptionButton.react'),{icon:c('React').createElement(c('Image.react'),{src:i("101318")}),label:h._("Settings"),labelIsHidden:true}));};o.propTypes={learnMoreURL:m.string,onViewPixelCode:m.func};f.exports=o;}),null);
__d('WebsiteCustomAudienceConfirmationDialog.react',['cx','fbt','AudienceManagerURLConstants','React','WebRemarketingDialogGear.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogOkayButton.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$WebsiteCustomAudienceConfirmationDialog1=function(){if(this.props.pixel.last_fired_time)return i._("Your audience is ready.");return i._("Finish setting up your Facebook pixel code to start adding people to this audience.");}.bind(this),this.$WebsiteCustomAudienceConfirmationDialog2=function(){return this.props.pixel.last_fired_time?c('AudienceManagerURLConstants').WCA_TARGET_IN_AD:c('AudienceManagerURLConstants').WCA_INSTALL_PIXEL_DOC;}.bind(this),o;}m.prototype.render=function(){return c('React').createElement('div',null,c('React').createElement(c('XUIDialogTitle.react'),null,i._("Website Custom Audience Created")),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_qtd"},c('React').createElement('div',{className:"_5saq"},c('React').createElement('div',{className:"_5svr _5svs"},i._("Thank You for Creating a Custom Audience")),c('React').createElement('p',null,this.$WebsiteCustomAudienceConfirmationDialog1())))),c('React').createElement(c('XUIDialogFooter.react'),{leftContent:c('React').createElement(c('WebRemarketingDialogGear.react'),{learnMoreURL:this.$WebsiteCustomAudienceConfirmationDialog2()})},c('React').createElement(c('XUIDialogOkayButton.react'),{action:'cancel',use:'confirm'})));};m.propTypes={pixel:l.object.isRequired};f.exports=m;}),null);
__d('WebsiteCustomAudienceLoadingDialog.react',['cx','fbt','AudienceManagerURLConstants','BUIAdoptionXUISpinner.react','React','WebRemarketingDialogGear.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){'use strict';return (c('React').createElement('div',null,c('React').createElement(c('XUIDialogTitle.react'),null,i._("Loading account information")),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_qtd"},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{background:'light',className:"_5swe",size:'small'}))),c('React').createElement(c('XUIDialogFooter.react'),{leftContent:c('React').createElement(c('WebRemarketingDialogGear.react'),{learnMoreURL:c('AudienceManagerURLConstants').WCA_GETTING_STARTED})})));};function l(){'use strict';j.apply(this,arguments);}f.exports=l;}),null);
__d('AdsPixelCampaignStore',['AdsDispatcher','AdsPixelServerActionTypes','FluxStore','adsBaseStoreMixin'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$AdsPixelCampaignStoreClass1="";this.$AdsPixelCampaignStoreClass2=false;}j.prototype.getStoreName=function(){return 'AdsPixelCampaignStore';};j.prototype.__onDispatch=function(l){var m=l.action;switch(m.actionType){case c('AdsPixelServerActionTypes').PIXEL_ATTACHED:this.setPixelAttached(true);this.__emitChange();break;default:break;}};j.prototype.getCampaignID=function(){return this.$AdsPixelCampaignStoreClass1;};j.prototype.getPixelAttached=function(){return this.$AdsPixelCampaignStoreClass2;};j.prototype.setCampaignID=function(l){this.$AdsPixelCampaignStoreClass1=l;};j.prototype.setPixelAttached=function(l){this.$AdsPixelCampaignStoreClass2=l;};var k=new j();f.exports=k;}),null);
__d("XAdsConversionPixelAttachController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ads\/conversion_pixel\/attach_ad\/",{campaign_id:{type:"Int",required:true},pixel_id:{type:"Int",required:true}});}),null);
__d('AdsPixelAttachingUtil',['AdsPixelCampaignStore','AdsPixelCreateStore','AdsPixelServerActions','AsyncRequest','XAdsConversionPixelAttachController'],(function a(b,c,d,e,f,g){'use strict';var h={attachPixelToCampaign:function i(){var j=c('AdsPixelCampaignStore').getCampaignID(),k=c('AdsPixelCreateStore').getCreatedPixelID();if(!j||!k)return;var l=10,m=c('XAdsConversionPixelAttachController').getURIBuilder().setInt('campaign_id',parseInt(j,l)).setInt('pixel_id',parseInt(k,l)).getURI();new (c('AsyncRequest'))().setURI(m).setHandler(c('AdsPixelServerActions').attachPixel).send();}};f.exports=h;}),null);
__d('AdsPixelError.react',['fbt','BUIAdoptionXUINotice.react','React','getByPath'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){return (c('React').createElement('div',{className:this.props.className},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'error'},this.$AdsPixelError1())));};l.prototype.$AdsPixelError1=function(){if(c('getByPath')(this.props.error,['message']))return h._("{error message}.",[h.param('error message',this.props.error.message)]);return h._("Oops, something went wrong. Please try reloading the page.");};function l(){i.apply(this,arguments);}l.propTypes={className:k.string,error:k.object.isRequired};f.exports=l;}),null);
__d('PixelCreationUIConstants',[],(function a(b,c,d,e,f,g){'use strict';f.exports={DEFAULT_DIALOG_WIDTH:640};}),null);
__d('SignalsCancelButton.react',['fbt','React','SUIButton.react','SUIBusinessTheme'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=c('React').PropTypes;i=babelHelpers.inherits(m,k);j=i&&i.prototype;m.prototype.render=function(){var n=this.props,o=n.disabled,p=n.width,q=n.onClick;return (c('React').createElement(c('SUIButton.react'),{disabled:o,label:h._("Cancel"),theme:c('SUIBusinessTheme'),use:'default',width:p,onClick:q}));};function m(){i.apply(this,arguments);}m.propTypes={disabled:l.bool,width:l.number,onClick:l.func};f.exports=m;}),null);
__d("XBusinessPixelTOSController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/pixels\/tos\/",{});}),null);
__d('AdsPixelCreationDialogV2.react',['cx','fbt','ix','AdsClearableTextInput.react','AdsInterfacesLogger','AdsOffsiteConversionConstants','AdsPixelAttachingUtil','AdsPixelDataManager','AdsPixelDialogTypes','AdsPixelError.react','AdsPixelHelpCenter','AdsPixelViewActions','AdsSpinnerCover.react','Bootloader','BUIAdoptionXUIGrayText.react','Image.react','Link.react','AdsInterfacesLoggerConfigColumns','PixelInterfacesLoggingKeys','React','SignalsCancelButton.react','SUIBusinessTheme','SUIButton.react','URI','XBusinessPixelTOSController','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react','PixelCreationUIConstants'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').Component,n=c('PixelCreationUIConstants').DEFAULT_DIALOG_WIDTH,o=8150,p='basecode-new',q=j("23260"),r=j("23263"),s=j("23264"),t=j("23261");k=babelHelpers.inherits(u,m);l=k&&k.prototype;function u(v){l.constructor.call(this,v);this.$AdsPixelCreationDialogV216=function(w){this.setState({name:w||''});}.bind(this);this.$AdsPixelCreationDialogV221=function(w){this.setState({termsAccepted:w.target.checked});}.bind(this);this.$AdsPixelCreationDialogV223=function(){if(this.props.isWCAPixelCreationFLow)c('Bootloader').loadModules(["AdsAMAudienceActions"],function(w){w.addAcceptedTOS({web_custom_audience_tos:1});},'AdsPixelCreationDialogV2.react');if(this.props.isBusinessPixelCreationFlow){if(!this.state.termsAccepted||!this.props.onCreateBusinessPixel)return;this.props.onCreateBusinessPixel(this.state.name,o);}else{c('AdsPixelDataManager').acceptTOS();c('AdsPixelDataManager').createPixel(this.state.name,this.$AdsPixelCreationDialogV225,this.$AdsPixelCreationDialogV226);}}.bind(this);this.$AdsPixelCreationDialogV225=function(){if(this.$AdsPixelCreationDialogV227())c('AdsPixelAttachingUtil').attachPixelToCampaign();if(this.props.isWCAPixelCreationFLow){c('AdsInterfacesLogger').log({eventName:'ads_pixel_pixel_creation_complete'},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);return;}var w=this.props.isInlineFlow?c('AdsPixelDialogTypes').INLINE_CREATION_NEXT_STEPS:c('AdsPixelDialogTypes').SOLUTION_TYPE_SELECTOR;setTimeout(function(){return c('AdsPixelViewActions').dialogTypeChange(w);},o);c('AdsInterfacesLogger').log({eventName:c('PixelInterfacesLoggingKeys').PIXEL_CREATE_SUCCESS},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);}.bind(this);this.state={name:v.defaultPixelName,termsAccepted:true};}u.prototype.componentDidMount=function(){var v=this.props.setWidth;v&&v(n);c('AdsInterfacesLogger').log({eventName:c('PixelInterfacesLoggingKeys').PIXEL_CREATE_START},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};u.prototype.render=function(){return c('React').createElement('div',null,this.$AdsPixelCreationDialogV21(),this.$AdsPixelCreationDialogV22());};u.prototype.$AdsPixelCreationDialogV21=function(){var v=this.$AdsPixelCreationDialogV23(),w=this.$AdsPixelCreationDialogV24();return !this.props.isWCAPixelCreationFLow?c('React').createElement('div',null,c('React').createElement(c('XUIDialogTitle.react'),null,i._("Create a Facebook pixel")),c('React').createElement('div',{className:v?"_5ijd":''})):w;};u.prototype.$AdsPixelCreationDialogV24=function(){return c('React').createElement(c('XUIDialogTitle.react'),null,i._("Create a Custom Audience"));};u.prototype.$AdsPixelCreationDialogV22=function(){var v=this.$AdsPixelCreationDialogV23();return c('React').createElement('div',{className:"_4z2_"},this.$AdsPixelCreationDialogV25(),c('React').createElement(c('XUIDialogBody.react'),null,this.$AdsPixelCreationDialogV26(),c('React').createElement('div',{className:"_4z30"},c('React').createElement('div',{className:v?"_49-w":''},this.$AdsPixelCreationDialogV27(),this.$AdsPixelCreationDialogV28()),c('React').createElement('div',{className:v?"_49-x":''},this.$AdsPixelCreationDialogV29(),c('React').createElement('div',{className:"_3km"},c('React').createElement('div',{className:"_3kn"},this.$AdsPixelCreationDialogV210()))))),this.$AdsPixelCreationDialogV211(),this.$AdsPixelCreationDialogV212(),this.$AdsPixelCreationDialogV213());};u.prototype.$AdsPixelCreationDialogV26=function(){var v=this.$AdsPixelCreationDialogV23(),w=this.props.isWCAPixelCreationFLow;return c('React').createElement('div',{className:"_3ko"},c('React').createElement('div',{className:"_4z31"+(!v?' '+"_49-y":'')+(v?' '+"_49-z":'')},c('React').createElement(c('Image.react'),{src:s})),c('React').createElement('div',{className:"_4z31"+(' '+"_3m-")+(!v?' '+"_49--":'')+(v?' '+"_49-_":'')},c('React').createElement(c('Image.react'),{src:t})),c('React').createElement('div',{className:"_4z31"+(' '+"_4gk")+(!v?' '+"_49_0":'')+(v?' '+"_49_1":'')},c('React').createElement(c('Image.react'),{src:q})),c('React').createElement('div',{className:"_4z31"+(!v?' '+"_49_2":'')+(v&&!w?' '+"_49_z":'')+(v&&w?' '+"_2cu9":'')},c('React').createElement(c('Image.react'),{src:r})));};u.prototype.$AdsPixelCreationDialogV29=function(){var v=this.$AdsPixelCreationDialogV214();return !this.props.isWCAPixelCreationFLow?c('React').createElement('div',{className:"_4z32"},i._("Create a Facebook pixel to track website actions, measure results from your advertising, optimise adverts for conversions and target audiences for remarketing. {=Learn More}.",[i.param('=Learn More',this.$AdsPixelCreationDialogV215(c('AdsPixelHelpCenter').CREATE_PIXEL.uri))])):v;};u.prototype.$AdsPixelCreationDialogV214=function(){return c('React').createElement('div',{className:"_4z32"},i._("Create a Facebook pixel to build a Custom Audience of people who have taken actions on your website. Your Facebook pixel also lets you measure and optimise adverts for website conversions. {=Learn More}.",[i.param('=Learn More',this.$AdsPixelCreationDialogV215(c('AdsPixelHelpCenter').INTRODUCTION.uri))]));};u.prototype.$AdsPixelCreationDialogV215=function(v){return c('React').createElement('b',null,c('React').createElement(c('Link.react'),{href:v,target:'_blank'},i._("Learn More")));};u.prototype.$AdsPixelCreationDialogV210=function(){var v=i._("Choose a name for your advert account's pixel");return c('React').createElement('div',null,c('React').createElement('div',{className:"_4z33"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',weight:'bold'},i._("Pixel name"))),c('React').createElement('div',{className:"_4z34"},c('React').createElement(c('AdsClearableTextInput.react'),{defaultValue:this.state.name.toString(),disabled:this.props.waitingForServerResponse,height:'tall',placeholder:v,onChange:this.$AdsPixelCreationDialogV216})),this.$AdsPixelCreationDialogV217());};u.prototype.$AdsPixelCreationDialogV217=function(){return this.props.isBusinessPixelCreationFlow?c('React').createElement('div',{className:"_4z35"},i._("You can create"),' ',c('React').createElement('div',{className:"_4z36"},i._("5 pixels for your business."))):c('React').createElement('div',{className:"_4z35"},i._("You can create"),' ',c('React').createElement('div',{className:"_4z36"},i._("One pixel per advert account.")));};u.prototype.$AdsPixelCreationDialogV28=function(){var v=this.$AdsPixelCreationDialogV23();if(!v)return null;var w=this.$AdsPixelCreationDialogV218();return !this.props.isWCAPixelCreationFLow?c('React').createElement('div',{className:"_2cua"},i._("You've created your pixel."),c('React').createElement('br',null),i._("Now, make it work by installing some code.")):w;};u.prototype.$AdsPixelCreationDialogV218=function(){return c('React').createElement('div',{className:"_2cua"},i._("You've created your pixel."),c('React').createElement('br',null),i._("Now, make it work by installing some code."));};u.prototype.$AdsPixelCreationDialogV27=function(){var v=this.$AdsPixelCreationDialogV23();if(!v)return null;var w=this.$AdsPixelCreationDialogV219();return !this.props.isWCAPixelCreationFLow?c('React').createElement('div',{className:"_49__"},c('React').createElement('div',{className:"_4a00"},this.props.createdPixelName)):w;};u.prototype.$AdsPixelCreationDialogV219=function(){return c('React').createElement('div',{className:"_2cuc"},c('React').createElement('div',{className:"_4a00"},this.props.createdPixelName));};u.prototype.$AdsPixelCreationDialogV220=function(){if(this.props.isTosAccepted&&!this.props.isBusinessPixelCreationFlow)return null;var v=this.props.accountID?new (c('URI'))(c('AdsOffsiteConversionConstants').pixelTOS).addQueryData({act:this.props.accountID}):c('XBusinessPixelTOSController').getURIBuilder().getURI();return c('React').createElement('div',{className:"_4z37"},c('React').createElement('div',{className:"_4z38"},c('React').createElement('input',{checked:this.state.termsAccepted,type:'checkbox',onChange:this.$AdsPixelCreationDialogV221})),i._("I agree to the {=Facebook Pixel Terms}",[i.param('=Facebook Pixel Terms',c('React').createElement(c('Link.react'),{className:"_3-99",href:v,target:'_blank'},i._("Facebook Pixel Terms")))]));};u.prototype.$AdsPixelCreationDialogV211=function(){var v=this.$AdsPixelCreationDialogV23();return c('React').createElement('div',{className:(!v?"_4gp":'')+(v?' '+"_4a01":'')},c('React').createElement(c('XUIDialogFooter.react'),{leftContent:this.$AdsPixelCreationDialogV220()},c('React').createElement(c('SignalsCancelButton.react'),{disabled:this.props.waitingForServerResponse||v,onClick:this.props.onClose}),c('React').createElement(c('SUIButton.react'),{disabled:this.$AdsPixelCreationDialogV222(),label:i._("Next"),style:{marginLeft:'8px'},theme:c('SUIBusinessTheme'),use:'confirm',onClick:this.$AdsPixelCreationDialogV223})));};u.prototype.$AdsPixelCreationDialogV212=function(){if(!this.props.isWCAPixelCreationFLow)return null;var v=this.$AdsPixelCreationDialogV23();if(v)return c('React').createElement('div',{className:v?"_2cud":''},c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('SUIButton.react'),{label:i._("Install Pixel"),style:{marginLeft:'8px'},theme:c('SUIBusinessTheme'),use:'default',onClick:this.$AdsPixelCreationDialogV224}),c('React').createElement(c('SUIButton.react'),{label:i._("Create Audience"),style:{marginLeft:'8px'},theme:c('SUIBusinessTheme'),use:'confirm',onClick:this.props.onCreateAudience})));return null;};u.prototype.$AdsPixelCreationDialogV25=function(){var v=this.props,w=v.error,x=v.waitingForServerResponse;if(!w||x)return null;return c('React').createElement('div',{className:"_4z39"},c('React').createElement(c('AdsPixelError.react'),{error:w}));};u.prototype.$AdsPixelCreationDialogV213=function(){return c('React').createElement(c('AdsSpinnerCover.react'),{background:'light',show:this.props.waitingForServerResponse});};u.prototype.$AdsPixelCreationDialogV224=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').INTEGRATIONS_CMS,{integrationName:p});};u.prototype.$AdsPixelCreationDialogV226=function(v){var w;c('AdsInterfacesLogger').log({eventName:c('PixelInterfacesLoggingKeys').PIXEL_CREATE_ERROR,data:(w={},w[c('AdsInterfacesLoggerConfigColumns').SIGNALS_UI_EVENT_DATA]=JSON.stringify({error:v}),w)},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};u.prototype.$AdsPixelCreationDialogV222=function(){return (!this.state.name.toString().trim()||!this.state.termsAccepted||this.props.waitingForServerResponse||this.$AdsPixelCreationDialogV23());};u.prototype.$AdsPixelCreationDialogV23=function(){return !this.props.waitingForServerResponse&&this.props.isPixelCreated;};u.prototype.$AdsPixelCreationDialogV227=function(){return (this.props.campaignID!==''&&!this.props.isPixelAttached);};f.exports=u;}),null);
__d('AdsPixelNameUtil',['fbt','AdsAccountStoreWrapper_DEPRECATED'],(function a(b,c,d,e,f,g,h){'use strict';var i={getPixelDefaultName:function j(){var k=c('AdsAccountStoreWrapper_DEPRECATED').getAccountName();if(!k)return h._("Facebook Pixel");return h._("{Ad account's name}'s Pixel",[h.param('Ad account\'s name',k)]);},getPixelDefaultNameForBusiness:function j(k){return !k?h._("Facebook pixel"):h._("{Business's name}'s pixel",[h.param('Business\'s name',k)]);}};f.exports=i;}),null);
__d('WebsiteCustomAudienceNUXContainer.react',['AdsFluxContainer','AdsPixelCampaignStore','AdsPixelCreateStore','AdsPixelCreationDialogV2.react','AdsPixelErrorStore','AdsPixelNameUtil','AdsSelectedAccountIDGetter','FluxStore','React','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.getStores=function(){return [c('AdsPixelCampaignStore'),c('AdsPixelCreateStore'),c('AdsPixelErrorStore')];};k.calculateState=function(){var l=c('nullthrows')(c('AdsSelectedAccountIDGetter').get({}));return {accountID:l,campaignID:c('AdsPixelCampaignStore').getCampaignID(),createdPixelID:c('AdsPixelCreateStore').getCreatedPixelID(),createdPixelName:c('AdsPixelCreateStore').getCreatedPixelName(),defaultPixelName:c('AdsPixelNameUtil').getPixelDefaultName(),isPixelAttached:c('AdsPixelCampaignStore').getPixelAttached(),isPixelCreated:c('AdsPixelCreateStore').getIsPixelCreated(),error:c('AdsPixelErrorStore').getError(),waitingForServerResponse:c('AdsPixelCreateStore').getIsWaitingForServerResponse()};};k.prototype.render=function(){return (c('React').createElement(c('AdsPixelCreationDialogV2.react'),babelHelpers['extends']({},this.state,{isInlineFlow:false,isTosAccepted:this.props.isTosAccepted,isWCAPixelCreationFLow:true,onClose:this.props.onClose,onCreateAudience:this.props.onCreateAudience})));};function k(){h.apply(this,arguments);}f.exports=c('AdsFluxContainer').create(k);}),null);
__d('AYMTEnhancedWebsiteCustomAudienceNUXRenderer',['cx','fbt','AdsGuidanceBaseNuxRenderer','AdsGuidanceChannelObject','AdsGuidanceInlineNux.react','immutable','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('AdsGuidanceChannelObject').NuxData,m=c('AdsGuidanceChannelObject').ChannelData,n=i._("More ways to customise your audience");j=babelHelpers.inherits(o,c('AdsGuidanceBaseNuxRenderer'));k=j&&j.prototype;o.prototype.getIDs=function(){return c('immutable').Set(['aymt_enhanced_website_custom_audience_tip']);};o.prototype.canRender=function(p,q,r){return true;};o.prototype.getElement=function(p,q,r,s,t){var u=function(){s();this.getProps().onClose();}.bind(this);return (c('React').createElement('div',{className:"_3-98"},c('React').createElement(c('AdsGuidanceInlineNux.react'),{title:n,onClose:u},i._("You can now create audiences based on device type, frequency of website visits or pixel events, and summed or average values for purchases made on your website. Choose \"Custom Combination\" in the website traffic options to get started."))));};function o(){j.apply(this,arguments);}f.exports=o;}),null);
__d('AdsPixelHostDataSource',['AbstractSearchSource','SearchableEntry'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=.05,k=100;h=babelHelpers.inherits(l,c('AbstractSearchSource'));i=h&&h.prototype;function l(m,n,o){i.constructor.call(this);this.hosts=[];this.$AdsPixelHostDataSource1=o;m.fetch.pixelInsights.one(this.$AdsPixelHostDataSource2.bind(this),{pixelId:n,start_time:'-7 days',aggregation:'host'});}l.prototype.$AdsPixelHostDataSource2=function(m){if(!m.length){this.$AdsPixelHostDataSource1();return;}var n={},o=0;for(var p=0,q=m.length;p<q;p++){if(!Object.prototype.hasOwnProperty.call(m[p],'data'))return;var r=m[p].data;for(var s=0;s<r.length;s++){var t=r[s];o+=t.count;if(Object.prototype.hasOwnProperty.call(n,t.value)){n[t.value]+=t.count;}else n[t.value]=t.count;}}for(var u in n)if(n[u]>Math.min(o*j,k))this.hosts.push(u);this.$AdsPixelHostDataSource1();};l.prototype.searchImpl=function(m,n){var o=[];m=m.toLowerCase();this.hosts.forEach(function(p){p=p.toLowerCase();if(p.includes(m))o.push(new (c('SearchableEntry'))({uniqueID:p,title:p}));});n(o,m);};l.prototype.getHostNumber=function(){return this.hosts.length;};f.exports=l;}),null);
__d('WebsiteCustomAudienceMetaInfo.react',['cx','fbt','AudienceManagerTextInput','InfoTable.react','InfoTableRow.react','InfoTableSection.react','Link.react','React','XUITextInput.react'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;'use strict';for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={showDescription:this.props.audience.description.length>0},this.$WebsiteCustomAudienceMetaInfo1=function(){if(this.state.showDescription)return;return (c('React').createElement(c('Link.react'),{onClick:this.setState.bind(this,{showDescription:true},null)},i._("Add a description")));}.bind(this),this.$WebsiteCustomAudienceMetaInfo2=function(){if(!this.state.showDescription)return;return (c('React').createElement(c('InfoTableRow.react'),{label:i._("Description")},c('React').createElement('div',null,c('React').createElement(c('AudienceManagerTextInput'),{className:"_5w16",isTextArea:true,placeholder:i._("Add an optional description of your audience"),value:this.props.audience.description,onChange:function(s){this.props.onUpdateAudienceFields(this.props.audience,{description:s});}.bind(this)}))));}.bind(this),o;}m.prototype.render=function(){'use strict';return c('React').createElement(c('InfoTable.react'),null,c('React').createElement(c('InfoTableSection.react'),null,c('React').createElement(c('InfoTableRow.react'),{label:i._("Audience Name"),type:'data'},c('React').createElement('div',null,c('React').createElement(c('XUITextInput.react'),{className:"_4u_"+(this.props.enableValidation&&!this.props.audience.name.length?' '+"_4b5f":''),placeholder:i._("Enter a name for your audience"),title:i._("Enter a name to create audience"),value:this.props.audience.name,onChange:function(event){this.props.onUpdateAudienceFields(this.props.audience,{name:event.target.value});}.bind(this)}),this.$WebsiteCustomAudienceMetaInfo1())),this.$WebsiteCustomAudienceMetaInfo2()));};m.propTypes={audience:l.object.isRequired,onUpdateAudienceFields:l.func.isRequired,enableValidation:l.bool.isRequired};f.exports=m;}),null);
__d('WebsiteCustomAudienceRetention.react',['cx','fbt','AdsHelpLink.react','AudienceManagerDayInput.react','AudienceManagerUIConstants','InfoTable.react','InfoTableRow.react','InfoTableSection.react','InputLabel.react','React','XUICheckboxInput.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=180;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$WebsiteCustomAudienceRetention2=function(){if(this.props.shouldHideDuration)return null;return (c('React').createElement(c('AudienceManagerDayInput.react'),{className:"_56mh",height:'short',max:m,value:this.props.duration,onChange:this.props.onChangeDuration}));}.bind(this),this.$WebsiteCustomAudienceRetention3=function(){if(!this.props.onChangePrefill)return;return (c('React').createElement('div',{className:"_5ns4"},c('React').createElement(c('InputLabel.react'),null,c('React').createElement(c('XUICheckboxInput.react'),{defaultChecked:this.props.prefill,onChange:function(event){return this.props.onChangePrefill(event.target.checked);}.bind(this)}),c('React').createElement('label',null,i._("Include past website traffic")))));}.bind(this),this.$WebsiteCustomAudienceRetention1=function(){if(this.props.shouldHideDuration)return null;return (c('React').createElement(c('AdsHelpLink.react'),{position:'above',width:c('AudienceManagerUIConstants').HELP_LINK_WIDTH},i._("The number of days people will remain in your audience after they've visited your website. People will be removed from your audience after the set time period, unless they visit your website again."),c('React').createElement('br',null),c('React').createElement('br',null),i._("Maximum time: 180 days")));}.bind(this),p;}n.prototype.render=function(){return c('React').createElement(c('InfoTable.react'),null,c('React').createElement(c('InfoTableSection.react'),null,c('React').createElement(c('InfoTableRow.react'),{helpLink:this.$WebsiteCustomAudienceRetention1(),label:this.props.shouldHideDuration?null:i._("In the Last"),type:'data'},c('React').createElement('div',null,this.$WebsiteCustomAudienceRetention2(),this.$WebsiteCustomAudienceRetention3()))));};n.propTypes={duration:l.number.isRequired,prefill:l.bool.isRequired,shouldHideDuration:l.bool,onChangeDuration:l.func.isRequired,onChangePrefill:l.func};f.exports=n;}),null);
__d('AdsPixelEventDataSource',['AdsDaoGraph'],(function a(b,c,d,e,f,g){var h=['NoScript','__missing_event'],i=['null'];function j(k){'use strict';this.pixelID=k;}j.prototype.fetchEvents=function(k){'use strict';if(!this.pixelID)this.events={};if(this.events){k(this.events);return;}c('AdsDaoGraph').fetch.pixelInsights.one(function(l){return this.$AdsPixelEventDataSource1(l,k);}.bind(this),{pixelId:this.pixelID,start_time:'-7 days',aggregation:'event'});};j.prototype.fetchCustomFields=function(k,l){'use strict';if(this.events[k].fields){l(this.events);return;}c('AdsDaoGraph').fetch.pixelInsights.one(function(m){return this.$AdsPixelEventDataSource2(m,k,l);}.bind(this),{pixelId:this.pixelID,start_time:'-7 days',aggregation:'custom_data_field',event:k});};j.prototype.$AdsPixelEventDataSource1=function(k,l){'use strict';if(!k.length)return;k=this.$AdsPixelEventDataSource3(k);this.events=this.$AdsPixelEventDataSource4(k);l(this.events);};j.prototype.$AdsPixelEventDataSource2=function(k,l,m){'use strict';if(!k.length)return;k=this.$AdsPixelEventDataSource3(k);this.events[l].fields=this.$AdsPixelEventDataSource5(k);m(this.events);};j.prototype.$AdsPixelEventDataSource3=function(k){'use strict';var l={};for(var m=0;m<k.length;m++){var n=k[m].data;if(!n)continue;for(var o=0;o<n.length;o++){var p=n[o];if(Object.prototype.hasOwnProperty.call(l,p.value)){l[p.value].count+=p.count;}else l[p.value]={count:p.count};}}return l;};j.prototype.$AdsPixelEventDataSource4=function(k){'use strict';var l=k;h.forEach(function(m){return delete l[m];});return l;};j.prototype.$AdsPixelEventDataSource5=function(k){'use strict';var l=k;i.forEach(function(m){return delete l[m];});return l;};f.exports=j;}),null);
__d('AdsPixelRuleDialogMode',[],(function a(b,c,d,e,f,g){var h={CREATE:'create',EDIT:'edit'};f.exports=h;}),null);
__d('AdsPixelRuleClauseTokenInput.react',['cx','fbt','Grid.react','React','ReactDOM','Token.react','XUITextInput.react'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('Grid.react').GridItem,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={textInProgress:''},this.$AdsPixelRuleClauseTokenInput1=function(){if(!this.props.clause.tokens.length)return [];var t=[this.$AdsPixelRuleClauseTokenInput3(this.props.clause.tokens[0],0)];for(var u=1;u<this.props.clause.tokens.length;u++){t.push(c('React').createElement('span',{className:"_2ck8",key:"or_token_"+u},i._("or")));t.push(this.$AdsPixelRuleClauseTokenInput3(this.props.clause.tokens[u],u));}return t;}.bind(this),this.$AdsPixelRuleClauseTokenInput2=function(){return (c('React').createElement(c('XUITextInput.react'),{className:"_2ck9",key:'token_input',placeholder:this.props.placeholder,ref:'tokeninput',value:this.state.textInProgress,onBackspace:this.$AdsPixelRuleClauseTokenInput4,onBlur:this.$AdsPixelRuleClauseTokenInput5,onChange:this.$AdsPixelRuleClauseTokenInput6,onEnter:this.$AdsPixelRuleClauseTokenInput5}));}.bind(this),this.$AdsPixelRuleClauseTokenInput3=function(t,u){return (c('React').createElement(c('Token.react'),{className:"_2cka",key:"clause_token_"+u+"_"+t,label:t,removable:true,onRemove:this.$AdsPixelRuleClauseTokenInput7.bind(this,u)}));}.bind(this),this.$AdsPixelRuleClauseTokenInput6=function(event){var t=event.target.value,u=t.slice(-1);if(u===','||u===' '){this.$AdsPixelRuleClauseTokenInput8(t.slice(0,t.length-1));t='';}this.setState({textInProgress:t});}.bind(this),this.$AdsPixelRuleClauseTokenInput8=function(t){var u=this.props.clause.tokens;u.push(t);this.props.onUpdateTokens(u);}.bind(this),this.$AdsPixelRuleClauseTokenInput7=function(t){var u=this.props.clause.tokens;u.splice(t,1);this.props.onUpdateTokens(u);}.bind(this),this.$AdsPixelRuleClauseTokenInput5=function(event){var t=event.target.value;if(t.length>0){this.$AdsPixelRuleClauseTokenInput8(t);t='';}this.setState({textInProgress:t});}.bind(this),this.$AdsPixelRuleClauseTokenInput4=function(event){var t=event.target.value;if(t.length===0&&this.props.clause.tokens.length>0)this.$AdsPixelRuleClauseTokenInput7(this.props.clause.tokens.length-1);}.bind(this),p;}n.prototype.render=function(){'use strict';return c('React').createElement(l,{className:"_2ck7",key:'token_input',onClick:function(){return c('ReactDOM').findDOMNode(this.refs.tokeninput).focus();}.bind(this)},this.$AdsPixelRuleClauseTokenInput1(),this.$AdsPixelRuleClauseTokenInput2());};n.propTypes={onUpdateTokens:m.func.isRequired,clause:m.object.isRequired,placeholder:m.string.isRequired};f.exports=n;}),null);
__d('AdsPixelRuleClause.react',['cx','fbt','Grid.react','React','AdsPixelCommonTypeahead.react','AdsPixelRuleClauseTokenInput.react','XUISelector.react','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('XUISelector.react').Option,m=c('Grid.react').GridItem,n=c('React').PropTypes;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={textInProgress:''},this.$AdsPixelRuleClause3=function(){return c('React').createElement(c('AdsPixelRuleClauseTokenInput.react'),{clause:this.props.clause,placeholder:this.$AdsPixelRuleClause7(),onUpdateTokens:this.$AdsPixelRuleClause8});}.bind(this),this.$AdsPixelRuleClause5=function(){var u=this.props.customFields;if(this.props.clause.customfield&&!Object.prototype.hasOwnProperty.call(u,this.props.clause.customfield))u[this.props.clause.customfield]=true;return u;}.bind(this),this.$AdsPixelRuleClause1=function(){return c('joinClasses')(this.props.className,"_j_4"+(this.props.showPotentialWarnings&&!this.props.clause.tokens.length?' '+"_j_5":''));}.bind(this),this.$AdsPixelRuleClause4=function(){var u=[];for(var v in this.$AdsPixelRuleClause5())u.push(c('React').createElement(l,{key:'field_option_'+v,value:v},v));return (c('React').createElement(m,{className:"_j_6",key:'custom_field'},c('React').createElement(c('XUISelector.react'),{className:"_j_7",size:'large',value:this.props.clause.customfield,onChange:function(event){return this.$AdsPixelRuleClause6(event.value);}.bind(this)},u)));}.bind(this),this.$AdsPixelRuleClause2=function(){var u=[];for(var v in this.props.operators)u.push(c('React').createElement(l,{key:'operation_option_'+this.props.operators[v].value,value:this.props.operators[v].value},this.props.operators[v].label));return (c('React').createElement(m,{className:"_j_6",key:'operator'},c('React').createElement(c('XUISelector.react'),{className:"_j_7",size:'large',value:this.props.clause.filter,onChange:this.$AdsPixelRuleClause9},u)));}.bind(this),this.$AdsPixelRuleClause7=function(){return this.props.isSimpleClause?i._("Add URL keywords"):i._("Add a value");}.bind(this),this.$AdsPixelRuleClause8=function(u){this.$AdsPixelRuleClause10({tokens:u});}.bind(this),this.$AdsPixelRuleClause9=function(event){this.$AdsPixelRuleClause10({filter:event.value});}.bind(this),this.$AdsPixelRuleClause6=function(u){this.$AdsPixelRuleClause10({customfield:u});}.bind(this),this.$AdsPixelRuleClause10=function(u){var v=this.props.clause;for(var w in u)v[w]=u[w];this.props.onUpdateClause(v);}.bind(this),q;}o.prototype.render=function(){if(this.props.isSimpleClause)return c('React').createElement(c('Grid.react'),{className:this.$AdsPixelRuleClause1(),cols:2},this.$AdsPixelRuleClause2(),this.$AdsPixelRuleClause3());if(this.props.clause.customfield)return c('React').createElement(c('Grid.react'),{className:this.$AdsPixelRuleClause1(),cols:3},this.$AdsPixelRuleClause4(),this.$AdsPixelRuleClause2(),this.$AdsPixelRuleClause3());return c('React').createElement('div',{className:"_j_3"},c('React').createElement(c('AdsPixelCommonTypeahead.react'),{items:this.$AdsPixelRuleClause5(),placeholder:i._("Add a parameter (optional)"),onSelected:this.$AdsPixelRuleClause6}));};o.propTypes={clause:n.object.isRequired,customFields:n.object,isSimpleClause:n.bool.isRequired,operators:n.object.isRequired,onUpdateClause:n.func.isRequired,showPotentialWarnings:n.bool,className:n.string};f.exports=o;}),null);
__d('AdsPixelRuleClauseGroup.react',['cx','fbt','BUIAdoptionCloseButton.react','React','AdsPixelEventSelector.react','AdsPixelRuleClause.react','WebsiteCustomAudienceModel','WebsiteCustomAudienceOperators','XUIButton.react','AdsPixelRuleDialogMode','isEmpty'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('WebsiteCustomAudienceModel').Operations,m=c('WebsiteCustomAudienceModel').RuleClause,n=c('React').PropTypes;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;'use strict';for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$AdsPixelRuleClauseGroup3=function(u,v){if(u!==v-1)return (c('React').createElement('span',{className:"_2arl",key:"and_token_"+u},i._("and")));return (c('React').createElement(c('XUIButton.react'),{className:"_2arm",key:"and_token_"+u,label:i._("and"),size:'large',onClick:this.$AdsPixelRuleClauseGroup5}));}.bind(this),this.$AdsPixelRuleClauseGroup4=function(u,v){if(v===1&&!this.props.onDeleteRule)return null;return (c('React').createElement(c('BUIAdoptionCloseButton.react'),{className_DEPRECATED:"_3-90",key:"delete_button_"+u,onClick:this.$AdsPixelRuleClauseGroup6.bind(this,u,v)}));}.bind(this),this.$AdsPixelRuleClauseGroup1=function(event){if(event!==this.props.rule.event)this.$AdsPixelRuleClauseGroup7({event:event,clauses:[new m()]});}.bind(this),this.$AdsPixelRuleClauseGroup2=function(u,v){var w=this.props.rule.clauses;w[u]=v;this.$AdsPixelRuleClauseGroup7({clauses:w});}.bind(this),this.$AdsPixelRuleClauseGroup5=function(){var u=this.props.rule.clauses;u.push(new m());this.$AdsPixelRuleClauseGroup7({clauses:u});}.bind(this),this.$AdsPixelRuleClauseGroup6=function(u,v){if(v===1){this.props.onDeleteRule();}else{var w=this.props.rule.clauses;w.splice(u,1);this.$AdsPixelRuleClauseGroup7({clauses:w});}}.bind(this),this.$AdsPixelRuleClauseGroup7=function(u){var v=this.props.rule;for(var w in u)v[w]=u[w];this.props.onUpdateRule(v);}.bind(this),q;}o.prototype.render=function(){'use strict';var p=[],q=l.isEventBasedRule(this.props.rule);if(q){p.push(c('React').createElement(c('AdsPixelEventSelector.react'),{events:this.props.events,key:'event_selector',rule:this.props.rule,showPotentialWarnings:this.props.showPotentialWarnings,onEventSelected:this.props.onEventSelected,onUpdateRuleEvent:this.$AdsPixelRuleClauseGroup1}));if(!this.props.rule.event)return c('React').createElement('div',null,p);}var r=this.props.rule.clauses.length,s=q?c('WebsiteCustomAudienceOperators').GenericOperators:c('WebsiteCustomAudienceOperators').SimpleOperators,t=this.props.events[this.props.rule.event]&&this.props.events[this.props.rule.event].fields||{};if(q&&c('isEmpty')(t)&&this.props.mode===c('AdsPixelRuleDialogMode').CREATE)return c('React').createElement('div',null,p);for(var u=0;u<r;u++)p.push(c('React').createElement('div',{className:(q||u>0?"_54al":'')+(q&&u===0?' '+"_54am":''),key:"rule_clause_row_"+u},c('React').createElement(c('AdsPixelRuleClause.react'),{clause:this.props.rule.clauses[u],customFields:t,isSimpleClause:!q,key:"rule_clause_"+u,operators:s,showPotentialWarnings:this.props.showPotentialWarnings,onUpdateClause:this.$AdsPixelRuleClauseGroup2.bind(this,u)}),c('React').createElement('div',{className:"_54an"},this.$AdsPixelRuleClauseGroup3(u,r),this.$AdsPixelRuleClauseGroup4(u,r))));return c('React').createElement('div',null,p);};o.propTypes={rule:n.object.isRequired,onUpdateRule:n.func.isRequired,showPotentialWarnings:n.bool,onDeleteRule:n.func,onEventSelected:n.func.isRequired,events:n.object.isRequired,mode:n.string.isRequired};f.exports=o;}),null);
__d('AdsPixelRuleBuilder.react',['cx','fbt','AdsPixelRuleClauseGroup.react','React','WebsiteCustomAudienceModel','XUISelector.react'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('WebsiteCustomAudienceModel').Operations,m=c('WebsiteCustomAudienceModel').RuleClause,n=c('XUISelector.react').Option,o=c('React').PropTypes;j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(){var q,r;'use strict';for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.state={events:{}},this.$AdsPixelRuleBuilder2=function(){var v=[c('React').createElement(n,{key:'scope_option_url',value:'url'},i._("URL"))];if(this.$AdsPixelRuleBuilder4())v.push(c('React').createElement(n,{key:'scope_option_event',value:'event'},i._("Event")));return (c('React').createElement(c('XUISelector.react'),{className:"_4hia",value:this.props.rule.scope,onChange:this.$AdsPixelRuleBuilder5},v));}.bind(this),this.$AdsPixelRuleBuilder5=function(v){this.$AdsPixelRuleBuilder6({scope:v.value,event:null,clauses:[new m()]});}.bind(this),this.$AdsPixelRuleBuilder6=function(v){var w=this.props.rule;for(var x in v)w[x]=v[x];this.props.onUpdateRule(w);}.bind(this),this.$AdsPixelRuleBuilder4=function(){return Object.keys(this.state.events).length>0||l.isEventBasedRule(this.props.rule);}.bind(this),this.$AdsPixelRuleBuilder3=function(v){this.props.eventSource.fetchCustomFields(v,this.$AdsPixelRuleBuilder7);}.bind(this),this.$AdsPixelRuleBuilder7=function(v){this.setState({events:v});}.bind(this),this.$AdsPixelRuleBuilder1=function(v){this.$AdsPixelRuleBuilder7(v);if(this.props.rule.event)this.$AdsPixelRuleBuilder3(this.props.rule.event);}.bind(this),r;}p.prototype.componentWillMount=function(){'use strict';this.props.eventSource.fetchEvents(this.$AdsPixelRuleBuilder1);};p.prototype.render=function(){'use strict';return c('React').createElement('span',null,this.$AdsPixelRuleBuilder2(),c('React').createElement(c('AdsPixelRuleClauseGroup.react'),{events:this.state.events,mode:this.props.mode,rule:this.props.rule,showPotentialWarnings:this.props.showPotentialWarnings,onDeleteRule:this.props.onDeleteRule,onEventSelected:this.$AdsPixelRuleBuilder3,onUpdateRule:this.props.onUpdateRule}));};p.propTypes={rule:o.object.isRequired,onDeleteRule:o.func,onUpdateRule:o.func.isRequired,eventSource:o.object.isRequired,showPotentialWarnings:o.bool,mode:o.string.isRequired};f.exports=p;}),null);
__d('AdsPixelRuleSet.react',['cx','fbt','AdsPixelRuleBuilder.react','BUIAdoptionButton.react','React','WebsiteCustomAudienceModel','AdsPixelRuleDialogMode'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('WebsiteCustomAudienceModel').Rule,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$AdsPixelRuleSet1=function(t){return (c('React').createElement('div',{className:"_npy",key:"rule_or_separator"+t},i._("Or, traffic that meets the following conditions:")));},this.$AdsPixelRuleSet4=function(t,u){var v=this.props.rules;v[t]=u;this.props.onUpdateRuleSet(v);}.bind(this),this.$AdsPixelRuleSet2=function(t){var u=this.props.rules;u.splice(t,1);this.props.onUpdateRuleSet(u);}.bind(this),this.$AdsPixelRuleSet3=function(){this.props.onUpdateRuleSet([new l()]);this.props.onDeleteRuleSet();}.bind(this),this.$AdsPixelRuleSet5=function(){var t=this.props.rules;t.push(new l());this.props.onUpdateRuleSet(t);}.bind(this),p;}n.prototype.render=function(){'use strict';var o=[],p=this.props.rules.length;for(var q=0;q<p;q++){o.push(q>0?this.$AdsPixelRuleSet1(q):null);o.push(c('React').createElement(c('AdsPixelRuleBuilder.react'),{eventSource:this.props.eventSource,key:"rule_builder_"+q,mode:this.props.mode,rule:this.props.rules[q],showPotentialWarnings:this.props.showPotentialWarnings,onDeleteRule:this.props.mode===c('AdsPixelRuleDialogMode').EDIT?null:p>1?this.$AdsPixelRuleSet2.bind(this,q):this.props.onDeleteRuleSet?this.$AdsPixelRuleSet3:null,onUpdateRule:this.$AdsPixelRuleSet4.bind(this,q)}));}if(this.props.mode===c('AdsPixelRuleDialogMode').CREATE)o.push(c('React').createElement('div',{className:"_npx",key:"add_new_condition_button"},c('React').createElement(c('BUIAdoptionButton.react'),{height:'normal',label:i._("Add New Condition"),onClick:this.$AdsPixelRuleSet5})));return c('React').createElement('span',null,o);};n.propTypes={rules:m.array.isRequired,onDeleteRuleSet:m.func,onUpdateRuleSet:m.func.isRequired,eventSource:m.object.isRequired,mode:m.string.isRequired,showPotentialWarnings:m.bool};f.exports=n;}),null);
__d('WebsiteCustomAudienceRuleBuilderCustom.react',['cx','fbt','AdsHelpLink.react','AdsPixelEventDataSource','AdsPixelRuleSet.react','AudienceManagerUIConstants','InfoTable.react','InfoTableRow.react','InfoTableSection.react','Link.react','React','WebsiteCustomAudienceModel','AdsPixelRuleDialogMode'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('WebsiteCustomAudienceModel').Operations,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(o){'use strict';k.constructor.call(this,o);this.$WebsiteCustomAudienceRuleBuilderCustom1=function(){return (c('React').createElement(c('InfoTableRow.react'),{helpLink:c('React').createElement(c('AdsHelpLink.react'),{position:'above',width:c('AudienceManagerUIConstants').HELP_LINK_WIDTH},i._("These people would be included in your targeting")),label:i._("Include"),type:'data'},c('React').createElement('span',null,this.$WebsiteCustomAudienceRuleBuilderCustom3(),c('React').createElement(c('AdsPixelRuleSet.react'),{eventSource:this.state.eventDataSource,mode:this.$WebsiteCustomAudienceRuleBuilderCustom4()?c('AdsPixelRuleDialogMode').EDIT:c('AdsPixelRuleDialogMode').CREATE,rules:this.props.audience.inclusion_rules,showPotentialWarnings:this.props.showPotentialWarnings,onUpdateRuleSet:this.$WebsiteCustomAudienceRuleBuilderCustom5}),this.$WebsiteCustomAudienceRuleBuilderCustom6())));}.bind(this);this.$WebsiteCustomAudienceRuleBuilderCustom2=function(){if(!this.state.showExclusions)return null;return (c('React').createElement(c('InfoTableRow.react'),{helpLink:c('React').createElement(c('AdsHelpLink.react'),{position:'above',width:c('AudienceManagerUIConstants').HELP_LINK_WIDTH},i._("These people would be excluded from your targeting")),label:i._("Exclude"),type:'data'},c('React').createElement('span',null,this.$WebsiteCustomAudienceRuleBuilderCustom3(),c('React').createElement(c('AdsPixelRuleSet.react'),{eventSource:this.state.eventDataSource,mode:this.$WebsiteCustomAudienceRuleBuilderCustom4()?c('AdsPixelRuleDialogMode').EDIT:c('AdsPixelRuleDialogMode').CREATE,rules:this.props.audience.exclusion_rules,showPotentialWarnings:this.props.showPotentialWarnings,onDeleteRuleSet:function(){return this.setState({showExclusions:false});}.bind(this),onUpdateRuleSet:this.$WebsiteCustomAudienceRuleBuilderCustom7}))));}.bind(this);this.$WebsiteCustomAudienceRuleBuilderCustom6=function(){if(this.state.showExclusions||this.$WebsiteCustomAudienceRuleBuilderCustom4())return null;return (c('React').createElement('div',{className:"_38cl"},c('React').createElement(c('Link.react'),{onClick:this.$WebsiteCustomAudienceRuleBuilderCustom8},i._("Add exclusions"))));}.bind(this);this.$WebsiteCustomAudienceRuleBuilderCustom3=function(){return (c('React').createElement('div',{className:"_38cm"},i._("Traffic that meets the following conditions:")));};this.$WebsiteCustomAudienceRuleBuilderCustom4=function(){return !!this.props.audience.id;}.bind(this);this.$WebsiteCustomAudienceRuleBuilderCustom8=function(){this.setState({showExclusions:true});}.bind(this);this.$WebsiteCustomAudienceRuleBuilderCustom5=function(r){this.props.onUpdateAudienceFields(this.props.audience,{inclusion_rules:r});}.bind(this);this.$WebsiteCustomAudienceRuleBuilderCustom7=function(r){this.props.onUpdateAudienceFields(this.props.audience,{exclusion_rules:r});}.bind(this);var p=o.audience.exclusion_rules.filter(l.validateRule),q=new (c('AdsPixelEventDataSource'))(o.pixel&&o.pixel.id);this.state={showExclusions:p.length>0,eventDataSource:q};}n.prototype.componentWillReceiveProps=function(o){'use strict';if(!this.props.pixel||this.props.pixel.id!==o.pixel.id){var p=new (c('AdsPixelEventDataSource'))(o.pixel.id);this.setState({eventDataSource:p});}};n.prototype.render=function(){'use strict';return c('React').createElement(c('InfoTable.react'),{className:"_38ck"},c('React').createElement(c('InfoTableSection.react'),null,this.$WebsiteCustomAudienceRuleBuilderCustom1(),this.$WebsiteCustomAudienceRuleBuilderCustom2()));};n.propTypes={audience:m.object.isRequired,onUpdateAudienceFields:m.func.isRequired,pixel:m.object,showPotentialWarnings:m.bool.isRequired};f.exports=n;}),null);
__d('WebsiteCustomAudienceConstants',['WebsiteCustomAudienceOperators'],(function a(b,c,d,e,f,g){'use strict';var h=c('WebsiteCustomAudienceOperators').GenericOperators,i={URL_SCOPE:'url',EVENT_SCOPE:'event',DEFAULT_COMPARATOR:h.GTE.value,DEFAULT_FREQUENCY:1,DEFAULT_DURATION:30};f.exports=i;}),null);
__d('WebsiteCustomAudienceOperatorSelector.react',['fbt','AdsSelectorWithTooltips.react','React','WebsiteCustomAudienceOperators','emptyFunction','shallowCompare'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=c('React').PropTypes,m=c('AdsSelectorWithTooltips.react').Option,n=c('WebsiteCustomAudienceOperators').GenericOperators;i=babelHelpers.inherits(o,k);j=i&&i.prototype;o.prototype.shouldComponentUpdate=function(p,q){return c('shallowCompare')(this,p,q);};o.prototype.render=function(){var p=n.EQ,q=n.NEQ,r=n.GT,s=n.LT,t=n.GTE,u=n.LTE;return (c('React').createElement(c('AdsSelectorWithTooltips.react'),this.props,c('React').createElement(m,babelHelpers['extends']({},p,{tooltip:h._("Equal to")}),p.label),c('React').createElement(m,babelHelpers['extends']({},q,{tooltip:h._("Not equal to")}),q.label),c('React').createElement(m,babelHelpers['extends']({},r,{tooltip:h._("Greater than")}),r.label),c('React').createElement(m,babelHelpers['extends']({},s,{tooltip:h._("Less than")}),s.label),c('React').createElement(m,babelHelpers['extends']({},t,{tooltip:h._("Greater than or equal to")}),t.label),c('React').createElement(m,babelHelpers['extends']({},u,{tooltip:h._("Less than or equal to")}),u.label)));};function o(){i.apply(this,arguments);}o.propTypes={onChange:l.func.isRequired};o.defaultProps={onChange:c('emptyFunction')};f.exports=o;}),null);
__d('WebsiteCustomAudienceRuleSelector.react',['fbt','AdsSelectorWithTooltips.react','React','XUIMenuSeparator.react','WebsiteCustomAudienceOperators','emptyFunction','shallowCompare'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsSelectorWithTooltips.react').Option,l=c('React').Component,m=c('React').PropTypes,n=c('WebsiteCustomAudienceOperators').GenericOperators,o=c('WebsiteCustomAudienceOperators').Placeholder,p=c('WebsiteCustomAudienceOperators').AggregationOperators,q=h._("Multiple aggregations can't be combined in the same rule");i=babelHelpers.inherits(r,l);j=i&&i.prototype;r.prototype.shouldComponentUpdate=function(s,t){return c('shallowCompare')(this,s,t);};r.prototype.render=function(){return (c('React').createElement(c('AdsSelectorWithTooltips.react'),this.props,c('React').createElement(k,n.CONTAINS,n.CONTAINS.label),c('React').createElement(k,n.NOT_CONTAINS,n.NOT_CONTAINS.label),c('React').createElement(c('XUIMenuSeparator.react'),{key:'separator'}),c('React').createElement(k,o.IS,o.IS.label),c('React').createElement(k,babelHelpers['extends']({},p.SUM,{disabled:this.props.disableAggregation,tooltip:this.props.disableAggregation&&q}),p.SUM.label),c('React').createElement(k,babelHelpers['extends']({},p.AVG,{disabled:this.props.disableAggregation,tooltip:this.props.disableAggregation&&q}),p.AVG.label),c('React').createElement(k,babelHelpers['extends']({},p.MAX,{disabled:this.props.disableAggregation,tooltip:this.props.disableAggregation&&q}),p.MAX.label),c('React').createElement(k,babelHelpers['extends']({},p.MIN,{disabled:this.props.disableAggregation,tooltip:this.props.disableAggregation&&q}),p.MIN.label)));};function r(){i.apply(this,arguments);}r.propTypes={disableAggregation:m.bool,onChange:m.func.isRequired};r.defaultProps={onChange:c('emptyFunction')};f.exports=r;}),null);
__d('WebsiteCustomAudienceEventRuleClause.react',['cx','fbt','AdsCustomConversionRuleClauseButtons.react','AdsPixelCommonTypeahead.react','AdsRichSelector.react','AdsTargetingTokenInput.react','Layout.react','WebsiteCustomAudienceRuleBuilderUtil','WebsiteCustomAudienceModel','WebsiteCustomAudienceOperatorSelector.react','WebsiteCustomAudienceOperators','WebsiteCustomAudienceRuleSelector.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('WebsiteCustomAudienceModel').Aggregation,m=c('AdsRichSelector.react').Option,n=c('Layout.react').Column,o=c('Layout.react').FillColumn,p=c('WebsiteCustomAudienceOperators').GenericOperators,q=c('WebsiteCustomAudienceOperators').Placeholder,r=c('WebsiteCustomAudienceOperators').isContainsOperator,s=c('WebsiteCustomAudienceOperators').isAggregationOperator,t=c('React').PropTypes,u=i._("Add a value"),v=i._("or"),w=/,/,x=i._("Add a value");j=babelHelpers.inherits(y,c('React').Component);k=j&&j.prototype;function y(){var z,aa;for(var ba=arguments.length,ca=Array(ba),da=0;da<ba;da++)ca[da]=arguments[da];return aa=(z=k.constructor).call.apply(z,[this].concat(ca)),this.$WebsiteCustomAudienceEventRuleClause1=function(){var ea=[];for(var fa in this.$WebsiteCustomAudienceEventRuleClause6())ea.push(c('React').createElement(m,{key:'field_option_'+fa,label:fa,value:fa},fa));return (c('React').createElement(n,{className:"_4xbe"},c('React').createElement(c('AdsRichSelector.react'),{defaultValue:this.props.clause.customfield,onChange:this.$WebsiteCustomAudienceEventRuleClause8},ea)));}.bind(this),this.$WebsiteCustomAudienceEventRuleClause2=function(){return (c('React').createElement(n,{className:"_4xbe"},c('React').createElement(c('WebsiteCustomAudienceRuleSelector.react'),{defaultValue:this.$WebsiteCustomAudienceEventRuleClause9(),disableAggregation:this.$WebsiteCustomAudienceEventRuleClause10(),onChange:this.$WebsiteCustomAudienceEventRuleClause11})));}.bind(this),this.$WebsiteCustomAudienceEventRuleClause3=function(){var ea=this.$WebsiteCustomAudienceEventRuleClause9();if(r(ea))return null;return (c('React').createElement(n,{className:"_4xbe"},c('React').createElement(c('WebsiteCustomAudienceOperatorSelector.react'),{value:this.props.clause.filter,onChange:this.$WebsiteCustomAudienceEventRuleClause12})));}.bind(this),this.$WebsiteCustomAudienceEventRuleClause5=function(){return (c('React').createElement(n,null,c('React').createElement(c('AdsCustomConversionRuleClauseButtons.react'),{disableAdd:this.$WebsiteCustomAudienceEventRuleClause14(),disableRemove:this.$WebsiteCustomAudienceEventRuleClause15(),onAdd:this.props.onAddClause,onRemove:this.$WebsiteCustomAudienceEventRuleClause16})));}.bind(this),this.$WebsiteCustomAudienceEventRuleClause6=function(){var ea=this.props.customFields;if(ea&&this.props.clause.customfield&&!Object.prototype.hasOwnProperty.call(ea,this.props.clause.customfield))ea[this.props.clause.customfield]=true;return ea;}.bind(this),this.$WebsiteCustomAudienceEventRuleClause9=function(){var ea=this.props.clause.filter;if(!r(ea))ea=this.props.clause.aggregationType||q.IS.value;return ea;}.bind(this),this.$WebsiteCustomAudienceEventRuleClause14=function(){return this.props.clauseIndex!==this.props.totalClauseCount-1;}.bind(this),this.$WebsiteCustomAudienceEventRuleClause15=function(){return this.props.totalClauseCount===1&&!this.props.isRuleDeleteable;}.bind(this),this.$WebsiteCustomAudienceEventRuleClause10=function(){return (!!this.props.aggregation&&s(this.props.aggregation.type)&&!this.props.clause.aggregationType);}.bind(this),this.$WebsiteCustomAudienceEventRuleClause11=function(ea){var fa=ea.value,ga=this.props.clause.filter;if(r(fa)){if(this.props.clause.aggregationType)this.$WebsiteCustomAudienceEventRuleClause17();this.$WebsiteCustomAudienceEventRuleClause18({filter:fa,aggregationType:null});}else if(s(fa)){var ha=r(ga)||!this.props.clause.aggregationType?p.GTE.value:ga;this.$WebsiteCustomAudienceEventRuleClause18({filter:ha,aggregationType:fa});this.$WebsiteCustomAudienceEventRuleClause19({type:fa,operator:ha,customfield:this.props.clause.customfield,value:this.props.clause.tokens&&this.props.clause.tokens[0]});}else{if(this.props.clause.aggregationType)this.$WebsiteCustomAudienceEventRuleClause17();this.$WebsiteCustomAudienceEventRuleClause18({filter:p.EQ.value,aggregationType:null});}}.bind(this),this.$WebsiteCustomAudienceEventRuleClause12=function(ea){this.$WebsiteCustomAudienceEventRuleClause18({filter:ea.value});if(this.props.clause.aggregationType)this.$WebsiteCustomAudienceEventRuleClause19({operator:ea.value});}.bind(this),this.$WebsiteCustomAudienceEventRuleClause8=function(ea){this.$WebsiteCustomAudienceEventRuleClause7(ea.value);}.bind(this),this.$WebsiteCustomAudienceEventRuleClause7=function(ea){this.$WebsiteCustomAudienceEventRuleClause18({customfield:ea});if(this.props.clause.aggregationType)this.$WebsiteCustomAudienceEventRuleClause19({customfield:ea});}.bind(this),this.$WebsiteCustomAudienceEventRuleClause13=function(ea){this.$WebsiteCustomAudienceEventRuleClause18({tokens:ea});if(this.props.clause.aggregationType)this.$WebsiteCustomAudienceEventRuleClause19({value:ea[0]});}.bind(this),this.$WebsiteCustomAudienceEventRuleClause17=function(){this.props.onUpdateAggregation(new l());}.bind(this),this.$WebsiteCustomAudienceEventRuleClause16=function(){if(this.props.clause.aggregationType)this.$WebsiteCustomAudienceEventRuleClause17();this.props.onDeleteClause();}.bind(this),this.$WebsiteCustomAudienceEventRuleClause18=function(ea){var fa=c('WebsiteCustomAudienceRuleBuilderUtil').updateByField(ea,this.props.clause);this.props.onUpdateClause(fa);}.bind(this),this.$WebsiteCustomAudienceEventRuleClause19=function(ea){var fa=this.props.aggregation;if(fa){var ga=c('WebsiteCustomAudienceRuleBuilderUtil').updateByField(ea,fa);this.props.onUpdateAggregation(ga);}}.bind(this),aa;}y.prototype.render=function(){if(this.props.clause.customfield)return c('React').createElement(c('Layout.react'),{className:"_5tfc"},this.$WebsiteCustomAudienceEventRuleClause1(),this.$WebsiteCustomAudienceEventRuleClause2(),this.$WebsiteCustomAudienceEventRuleClause3(),this.$WebsiteCustomAudienceEventRuleClause4(),this.$WebsiteCustomAudienceEventRuleClause5());return c('React').createElement('div',{className:"_j_3"},c('React').createElement(c('AdsPixelCommonTypeahead.react'),{items:this.$WebsiteCustomAudienceEventRuleClause6(),placeholder:i._("Add a parameter (optional)"),onSelected:this.$WebsiteCustomAudienceEventRuleClause7}));};y.prototype.$WebsiteCustomAudienceEventRuleClause4=function(){var z=this.props.showPotentialWarnings&&!this.props.clause.tokens.length?x:null;return c('React').createElement(o,null,c('React').createElement(c('AdsTargetingTokenInput.react'),{defaultTokens:this.props.clause.tokens,placeholder:u,separator:v,separatorRegex:w,xuiError:z,onTokenChange:this.$WebsiteCustomAudienceEventRuleClause13}));};y.propTypes={aggregation:t.object,clause:t.object.isRequired,clauseIndex:t.number.isRequired,customFields:t.object,isRuleDeleteable:t.bool.isRequired,showPotentialWarnings:t.bool,totalClauseCount:t.number.isRequired,onAddClause:t.func.isRequired,onDeleteClause:t.func.isRequired,onUpdateAggregation:t.func.isRequired,onUpdateClause:t.func.isRequired};f.exports=y;}),null);
__d('WebsiteCustomAudienceEventRuleEditor.react',['cx','AdsPixelEventSelector.react','React','WebsiteCustomAudienceRuleBuilderUtil','WebsiteCustomAudienceModel','WebsiteCustomAudienceEventRuleClause.react','AdsPixelRuleDialogMode','isEmpty'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('WebsiteCustomAudienceModel').RuleClause,l=c('WebsiteCustomAudienceModel').Aggregation,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$WebsiteCustomAudienceEventRuleEditor1=function(){return (c('React').createElement(c('AdsPixelEventSelector.react'),{events:this.props.events,rule:this.props.rule,showPotentialWarnings:this.props.showPotentialWarnings,onEventSelected:this.props.onEventSelected,onUpdateRuleEvent:this.$WebsiteCustomAudienceEventRuleEditor3}));}.bind(this),this.$WebsiteCustomAudienceEventRuleEditor2=function(){var t=this.$WebsiteCustomAudienceEventRuleEditor4();if(!this.props.rule.event||c('isEmpty')(t)&&this.props.mode===c('AdsPixelRuleDialogMode').CREATE)return null;return this.props.rule.clauses.map(this.$WebsiteCustomAudienceEventRuleEditor5,this);}.bind(this),this.$WebsiteCustomAudienceEventRuleEditor5=function(t,u,v){return (c('React').createElement(c('WebsiteCustomAudienceEventRuleClause.react'),{aggregation:this.props.rule.aggregation,clause:t,clauseIndex:u,customFields:this.$WebsiteCustomAudienceEventRuleEditor4(),isRuleDeleteable:this.props.isRuleDeleteable,key:'event_rule_clause_'+t.key,showPotentialWarnings:this.props.showPotentialWarnings,totalClauseCount:v.length,onAddClause:this.$WebsiteCustomAudienceEventRuleEditor6,onDeleteClause:this.$WebsiteCustomAudienceEventRuleEditor7.bind(this,u,v.length),onUpdateAggregation:this.$WebsiteCustomAudienceEventRuleEditor8,onUpdateClause:this.$WebsiteCustomAudienceEventRuleEditor9.bind(this,u)}));}.bind(this),this.$WebsiteCustomAudienceEventRuleEditor4=function(){return this.props.events[this.props.rule.event]&&this.props.events[this.props.rule.event].fields||{};}.bind(this),this.$WebsiteCustomAudienceEventRuleEditor3=function(event){if(event!==this.props.rule.event)this.$WebsiteCustomAudienceEventRuleEditor10({event:event,clauses:[new k()],aggregation:new l()});}.bind(this),this.$WebsiteCustomAudienceEventRuleEditor9=function(t,u){var v=this.props.rule.clauses;v[t]=u;this.$WebsiteCustomAudienceEventRuleEditor10({clauses:v});}.bind(this),this.$WebsiteCustomAudienceEventRuleEditor8=function(t){this.$WebsiteCustomAudienceEventRuleEditor10({aggregation:t});}.bind(this),this.$WebsiteCustomAudienceEventRuleEditor6=function(){var t=this.props.rule.clauses;t.push(new k());this.$WebsiteCustomAudienceEventRuleEditor10({clauses:t});}.bind(this),this.$WebsiteCustomAudienceEventRuleEditor7=function(t,u){if(u===1){this.props.onDeleteRule();}else{var v=this.props.rule.clauses;v.splice(t,1);this.$WebsiteCustomAudienceEventRuleEditor10({clauses:v});}}.bind(this),this.$WebsiteCustomAudienceEventRuleEditor10=function(t){var u=c('WebsiteCustomAudienceRuleBuilderUtil').updateByField(t,this.props.rule);this.props.onUpdateRule(u);}.bind(this),p;}n.prototype.render=function(){return c('React').createElement('div',{className:"_y8i"},this.$WebsiteCustomAudienceEventRuleEditor1(),this.$WebsiteCustomAudienceEventRuleEditor2());};n.propTypes={events:m.object.isRequired,isRuleDeleteable:m.bool.isRequired,mode:m.string.isRequired,rule:m.object.isRequired,showPotentialWarnings:m.bool,onDeleteRule:m.func.isRequired,onEventSelected:m.func.isRequired,onUpdateRule:m.func.isRequired};f.exports=n;}),null);
__d('WebsiteCustomAudienceFrequencyAndRetentionSelector.react',['cx','fbt','AdsHelpLink.react','AdsRichSelector.react','AudienceManagerUIConstants','BUIAdoptionXUINoticeSmall.react','React','WebsiteCustomAudienceConstants','WebsiteCustomAudienceOperators','XUITextInput.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('WebsiteCustomAudienceOperators').GenericOperators,l=c('AdsRichSelector.react').Option,m=i._("At least"),n=i._("At most"),o=i._("Number of visits:"),p=i._("Number of events:"),q=c('React').createClass({displayName:'WebsiteCustomAudienceFrequencyAndRetentionSelector',propTypes:{comparator:j.string.isRequired,disableFrequency:j.bool,duration:j.number.isRequired,frequency:j.number.isRequired,isEventBasedRule:j.bool,onComparatorChange:j.func.isRequired,onDurationChange:j.func.isRequired,onFrequencyChange:j.func.isRequired},getDefaultProps:function r(){return {comparator:c('WebsiteCustomAudienceConstants').DEFAULT_COMPARATOR,frequency:c('WebsiteCustomAudienceConstants').DEFAULT_FREQUENCY,duration:c('WebsiteCustomAudienceConstants').DEFAULT_DURATION};},getInitialState:function r(){return {comparator:this.props.comparator,frequency:this.props.frequency.toString(),duration:this.props.duration.toString()};},componentWillReceiveProps:function r(s){this.setState({comparator:s.comparator,frequency:s.frequency.toString(),duration:s.duration.toString()});},render:function r(){return (c('React').createElement('div',{className:"_47ui"},this._renderFrequency(),this._renderRetention(),this._renderNotice()));},_renderFrequency:function r(){if(this.props.disableFrequency)return null;return (c('React').createElement('div',null,c('React').createElement('div',{className:"_47uj"},this.props.isEventBasedRule?p:o),c('React').createElement(c('AdsRichSelector.react'),{className:"_47um",defaultValue:this.props.comparator,onChange:this.props.onComparatorChange},c('React').createElement(l,{label:m,value:k.GTE.value},m),c('React').createElement(l,{label:n,value:k.LTE.value},n)),c('React').createElement(c('XUITextInput.react'),{className:"_47uk",defaultValue:this.props.frequency.toString(),value:this.state.frequency,onBlur:this._onUpdateFrequency,onChange:this._onFrequencyInputChange}),this._renderFrequencyHelpLink()));},_renderRetention:function r(){return (c('React').createElement('div',{className:"_47ul"},c('React').createElement('div',{className:"_47uj"},i._("In the last")),c('React').createElement(c('XUITextInput.react'),{className:"_47uk",defaultValue:this.props.duration.toString(),value:this.state.duration,onBlur:this._onUpdateDuration,onChange:this._onDurationInputChange}),this._renderDaysLabel(),this._renderRetentionHelpLink()));},_renderNotice:function r(){if(!this.props.disableFrequency)return null;return (c('React').createElement('div',{className:"_3muo"},c('React').createElement(c('BUIAdoptionXUINoticeSmall.react'),{type:'information'},i._("We've removed the frequency rule because it can't be applied to sum, average, maximum or minimum aggregations."))));},_renderDaysLabel:function r(){if(this.props.duration===1){return (c('React').createElement('div',{className:"_47un"},i._("day")));}else return (c('React').createElement('div',{className:"_47un"},i._("days")));},_renderFrequencyHelpLink:function r(){return (c('React').createElement('div',{className:"_5831"},c('React').createElement(c('AdsHelpLink.react'),{position:'above',width:c('AudienceManagerUIConstants').HELP_LINK_WIDTH},i._("Enter the desired frequency of visits or events. You can specify a minimum or maximum number for the period of time that you choose."))));},_renderRetentionHelpLink:function r(){return (c('React').createElement('div',{className:"_5831"},c('React').createElement(c('AdsHelpLink.react'),{position:'above',width:c('AudienceManagerUIConstants').HELP_LINK_WIDTH},i._("Enter the number of days that you want people to remain in your audience for after meeting the website traffic criteria that you've specified. People will be removed from your audience after this time unless they meet the criteria again."),c('React').createElement('br',null),c('React').createElement('br',null),i._("Maximum time: 180 days."))));},_onFrequencyInputChange:function r(event){this.setState({frequency:event.target.value});},_onDurationInputChange:function r(event){this.setState({duration:event.target.value});},_onUpdateFrequency:function r(){var s=parseInt(this.state.frequency,10);if(!isNaN(s)&&s>0){this.props.onFrequencyChange(s);}else this.setState({frequency:this.props.frequency.toString()});},_onUpdateDuration:function r(){var s=parseInt(this.state.duration,10);if(!isNaN(s)&&s>0&&s<=180){this.props.onDurationChange(s);}else this.setState({duration:this.props.duration.toString()});}});f.exports=q;}),null);
__d('WebsiteCustomAudienceURLContainsRuleClause.react',['cx','fbt','AdsCustomConversionRuleClauseButtons.react','AdsTargetingTokenInput.react','Layout.react','React','WebsiteCustomAudienceRuleBuilderUtil'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column,m=c('Layout.react').FillColumn,n=c('React').PropTypes,o=i._("Add URL keywords"),p=i._("or"),q=i._("Add a URL keyword");j=babelHelpers.inherits(r,c('React').Component);k=j&&j.prototype;function r(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=k.constructor).call.apply(s,[this].concat(v)),this.$WebsiteCustomAudienceURLContainsRuleClause2=function(){return this.props.clauseIndex!==this.props.totalClauseCount-1;}.bind(this),this.$WebsiteCustomAudienceURLContainsRuleClause3=function(){return this.props.totalClauseCount===1&&!this.props.isRuleDeleteable;}.bind(this),this.$WebsiteCustomAudienceURLContainsRuleClause1=function(x){this.$WebsiteCustomAudienceURLContainsRuleClause4({tokens:x});}.bind(this),this.$WebsiteCustomAudienceURLContainsRuleClause4=function(x){var y=c('WebsiteCustomAudienceRuleBuilderUtil').updateByField(x,this.props.clause);this.props.onUpdateClause(y);}.bind(this),t;}r.prototype.render=function(){var s=this.props.showPotentialWarnings&&!this.props.clause.tokens.length?q:null;return c('React').createElement(c('Layout.react'),{className:"_5tfc"},c('React').createElement(m,null,c('React').createElement(c('AdsTargetingTokenInput.react'),{defaultTokens:this.props.clause.tokens,placeholder:o,separator:p,xuiError:s,onTokenChange:this.$WebsiteCustomAudienceURLContainsRuleClause1})),c('React').createElement(l,null,c('React').createElement(c('AdsCustomConversionRuleClauseButtons.react'),{disableAdd:this.$WebsiteCustomAudienceURLContainsRuleClause2(),disableRemove:this.$WebsiteCustomAudienceURLContainsRuleClause3(),onAdd:this.props.onAddClause,onRemove:this.props.onDeleteClause})));};r.propTypes={clause:n.object.isRequired,clauseIndex:n.number.isRequired,isRuleDeleteable:n.bool.isRequired,showPotentialWarnings:n.bool,totalClauseCount:n.number.isRequired,onAddClause:n.func.isRequired,onDeleteClause:n.func.isRequired,onUpdateClause:n.func.isRequired};f.exports=r;}),null);
__d('WebsiteCustomAudienceURLContainsRuleEditor.react',['cx','React','WebsiteCustomAudienceRuleBuilderUtil','WebsiteCustomAudienceModel','WebsiteCustomAudienceURLContainsRuleClause.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('WebsiteCustomAudienceModel').RuleClause,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$WebsiteCustomAudienceURLContainsRuleEditor1=function(s,t,u){return (c('React').createElement(c('WebsiteCustomAudienceURLContainsRuleClause.react'),{clause:s,clauseIndex:t,isRuleDeleteable:this.props.isRuleDeleteable,key:'url_contains_rule_clause_'+s.key,showPotentialWarnings:this.props.showPotentialWarnings,totalClauseCount:u.length,onAddClause:this.$WebsiteCustomAudienceURLContainsRuleEditor2,onDeleteClause:this.$WebsiteCustomAudienceURLContainsRuleEditor3.bind(this,t,u.length),onUpdateClause:this.$WebsiteCustomAudienceURLContainsRuleEditor4.bind(this,t)}));}.bind(this),this.$WebsiteCustomAudienceURLContainsRuleEditor4=function(s,t){var u=this.props.rule.clauses;u[s]=t;this.$WebsiteCustomAudienceURLContainsRuleEditor5({clauses:u});}.bind(this),this.$WebsiteCustomAudienceURLContainsRuleEditor2=function(){var s=this.props.rule.clauses;s.push(new k());this.$WebsiteCustomAudienceURLContainsRuleEditor5({clauses:s});}.bind(this),this.$WebsiteCustomAudienceURLContainsRuleEditor3=function(s,t){if(t===1){this.props.onDeleteRule();}else{var u=this.props.rule.clauses;u.splice(s,1);this.$WebsiteCustomAudienceURLContainsRuleEditor5({clauses:u});}}.bind(this),this.$WebsiteCustomAudienceURLContainsRuleEditor5=function(s){var t=c('WebsiteCustomAudienceRuleBuilderUtil').updateByField(s,this.props.rule);this.props.onUpdateRule(t);}.bind(this),o;}m.prototype.render=function(){var n=this.props.rule.clauses.map(this.$WebsiteCustomAudienceURLContainsRuleEditor1,this);return c('React').createElement('div',{className:"_y8i"},n);};m.propTypes={isRuleDeleteable:l.bool.isRequired,mode:l.string.isRequired,rule:l.object.isRequired,showPotentialWarnings:l.bool,onDeleteRule:l.func.isRequired,onUpdateRule:l.func.isRequired};f.exports=m;}),null);
__d('WebsiteCustomAudienceURLEqualsRuleClause.react',['cx','fbt','AdsTargetingTokenInput.react','BUIAdoptionCloseButton.react','Layout.react','React','WebsiteCustomAudienceRuleBuilderUtil'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column,m=c('Layout.react').FillColumn,n=c('React').PropTypes,o=i._("Add URLs"),p=i._("or"),q=i._("Add a URL");j=babelHelpers.inherits(r,c('React').Component);k=j&&j.prototype;function r(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=k.constructor).call.apply(s,[this].concat(v)),this.$WebsiteCustomAudienceURLEqualsRuleClause2=function(){if(!this.props.isRuleDeleteable)return null;return (c('React').createElement(c('BUIAdoptionCloseButton.react'),{className_DEPRECATED:"_5tfe",onClick:this.props.onDeleteClause}));}.bind(this),this.$WebsiteCustomAudienceURLEqualsRuleClause1=function(x){this.$WebsiteCustomAudienceURLEqualsRuleClause3({tokens:x});}.bind(this),this.$WebsiteCustomAudienceURLEqualsRuleClause3=function(x){var y=c('WebsiteCustomAudienceRuleBuilderUtil').updateByField(x,this.props.clause);this.props.onUpdateClause(y);}.bind(this),t;}r.prototype.render=function(){var s=this.props.showPotentialWarnings&&!this.props.clause.tokens.length?q:null;return c('React').createElement(c('Layout.react'),{className:"_5tfc"},c('React').createElement(m,null,c('React').createElement(c('AdsTargetingTokenInput.react'),{defaultTokens:this.props.clause.tokens,placeholder:o,separator:p,xuiError:s,onTokenChange:this.$WebsiteCustomAudienceURLEqualsRuleClause1})),c('React').createElement(l,null,this.$WebsiteCustomAudienceURLEqualsRuleClause2()));};r.propTypes={clause:n.object.isRequired,isRuleDeleteable:n.bool.isRequired,onDeleteClause:n.func,onUpdateClause:n.func.isRequired,showPotentialWarnings:n.bool};f.exports=r;}),null);
__d('WebsiteCustomAudienceURLEqualsRuleEditor.react',['cx','React','WebsiteCustomAudienceRuleBuilderUtil','WebsiteCustomAudienceURLEqualsRuleClause.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$WebsiteCustomAudienceURLEqualsRuleEditor1=function(r){var s=[r];this.$WebsiteCustomAudienceURLEqualsRuleEditor2({clauses:s});}.bind(this),this.$WebsiteCustomAudienceURLEqualsRuleEditor2=function(r){var s=c('WebsiteCustomAudienceRuleBuilderUtil').updateByField(r,this.props.rule);this.props.onUpdateRule(s);}.bind(this),n;}l.prototype.render=function(){return c('React').createElement('div',{className:"_y8i"},c('React').createElement(c('WebsiteCustomAudienceURLEqualsRuleClause.react'),{clause:this.props.rule.clauses[0],isRuleDeleteable:this.props.isRuleDeleteable,showPotentialWarnings:this.props.showPotentialWarnings,onDeleteClause:this.props.onDeleteRule,onUpdateClause:this.$WebsiteCustomAudienceURLEqualsRuleEditor1}));};l.propTypes={isRuleDeleteable:k.bool.isRequired,mode:k.string.isRequired,onDeleteRule:k.func.isRequired,onUpdateRule:k.func.isRequired,rule:k.object.isRequired,showPotentialWarnings:k.bool};f.exports=l;}),null);
__d('WebsiteCustomAudienceRuleEditor.react',['cx','AdsCustomConversionRuleType','AdsCustomConversionRuleTypeSelector.react','WebsiteCustomAudienceAggregationFunctions','React','WebsiteCustomAudienceRuleBuilderUtil','WebsiteCustomAudienceConstants','WebsiteCustomAudienceEventRuleEditor.react','WebsiteCustomAudienceFrequencyAndRetentionSelector.react','WebsiteCustomAudienceModel','WebsiteCustomAudienceOperators','WebsiteCustomAudienceURLContainsRuleEditor.react','WebsiteCustomAudienceURLEqualsRuleEditor.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=c('WebsiteCustomAudienceModel').Operations,m=c('WebsiteCustomAudienceModel').Aggregation,n=c('WebsiteCustomAudienceModel').RuleClause,o=c('WebsiteCustomAudienceOperators').GenericOperators;i=babelHelpers.inherits(p,c('React').Component);j=i&&i.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=j.constructor).call.apply(q,[this].concat(t)),this.state={events:{}},this.$WebsiteCustomAudienceRuleEditor2=function(){return (c('React').createElement(c('AdsCustomConversionRuleTypeSelector.react'),{className:"_4xbd",defaultValue:this.$WebsiteCustomAudienceRuleEditor5(),shouldRenderEvent:this.$WebsiteCustomAudienceRuleEditor6(),onChange:this.$WebsiteCustomAudienceRuleEditor7}));}.bind(this),this.$WebsiteCustomAudienceRuleEditor3=function(){var v=this.$WebsiteCustomAudienceRuleEditor5();switch(v){case c('AdsCustomConversionRuleType').EVENT:return (c('React').createElement(c('WebsiteCustomAudienceEventRuleEditor.react'),babelHelpers['extends']({},this.props,{events:this.state.events,onEventSelected:this.$WebsiteCustomAudienceRuleEditor8})));case c('AdsCustomConversionRuleType').URL_CONTAINS:return (c('React').createElement(c('WebsiteCustomAudienceURLContainsRuleEditor.react'),this.props));case c('AdsCustomConversionRuleType').URL_EQUALS:return (c('React').createElement(c('WebsiteCustomAudienceURLEqualsRuleEditor.react'),this.props));default:return null;}}.bind(this),this.$WebsiteCustomAudienceRuleEditor4=function(){var v=this.props.rule.aggregation,w=v&&v.type===c('WebsiteCustomAudienceAggregationFunctions').COUNT;return (c('React').createElement(c('WebsiteCustomAudienceFrequencyAndRetentionSelector.react'),{comparator:w?v.operator:c('WebsiteCustomAudienceConstants').DEFAULT_COMPARATOR,disableFrequency:!w,duration:this.props.rule.duration,frequency:w?v.value:c('WebsiteCustomAudienceConstants').DEFAULT_FREQUENCY,isEventBasedRule:this.$WebsiteCustomAudienceRuleEditor5()===c('AdsCustomConversionRuleType').EVENT,onComparatorChange:this.$WebsiteCustomAudienceRuleEditor9,onDurationChange:this.$WebsiteCustomAudienceRuleEditor10,onFrequencyChange:this.$WebsiteCustomAudienceRuleEditor11}));}.bind(this),this.$WebsiteCustomAudienceRuleEditor9=function(v){var w=this.props.rule.aggregation;if(w){w.operator=v.value;this.$WebsiteCustomAudienceRuleEditor12({aggregation:w});}}.bind(this),this.$WebsiteCustomAudienceRuleEditor11=function(v){var w=this.props.rule.aggregation;if(w){w.value=v;this.$WebsiteCustomAudienceRuleEditor12({aggregation:w});}}.bind(this),this.$WebsiteCustomAudienceRuleEditor10=function(v){this.$WebsiteCustomAudienceRuleEditor12({duration:v});}.bind(this),this.$WebsiteCustomAudienceRuleEditor5=function(){var v=this.props.rule;if(v.scope===c('WebsiteCustomAudienceConstants').EVENT_SCOPE)return c('AdsCustomConversionRuleType').EVENT;var w=v.clauses[0].filter;if(w===o.CONTAINS.value){return c('AdsCustomConversionRuleType').URL_CONTAINS;}else return c('AdsCustomConversionRuleType').URL_EQUALS;}.bind(this),this.$WebsiteCustomAudienceRuleEditor7=function(v){var w=v.value===c('AdsCustomConversionRuleType').EVENT?c('WebsiteCustomAudienceConstants').EVENT_SCOPE:c('WebsiteCustomAudienceConstants').URL_SCOPE,x=new n();if(v.value===c('AdsCustomConversionRuleType').URL_EQUALS)x.filter=o.EQ.value;this.$WebsiteCustomAudienceRuleEditor12({scope:w,event:null,clauses:[x],aggregation:new m()});}.bind(this),this.$WebsiteCustomAudienceRuleEditor12=function(v){var w=c('WebsiteCustomAudienceRuleBuilderUtil').updateByField(v,this.props.rule);this.props.onUpdateRule(w);}.bind(this),this.$WebsiteCustomAudienceRuleEditor6=function(){return Object.keys(this.state.events).length>0||l.isEventBasedRule(this.props.rule);}.bind(this),this.$WebsiteCustomAudienceRuleEditor8=function(v){this.props.eventSource.fetchCustomFields(v,this.$WebsiteCustomAudienceRuleEditor13);}.bind(this),this.$WebsiteCustomAudienceRuleEditor13=function(v){this.setState({events:v});}.bind(this),this.$WebsiteCustomAudienceRuleEditor1=function(v){this.$WebsiteCustomAudienceRuleEditor13(v);if(this.props.rule.event)this.$WebsiteCustomAudienceRuleEditor8(this.props.rule.event);}.bind(this),r;}p.prototype.componentWillMount=function(){this.props.eventSource.fetchEvents(this.$WebsiteCustomAudienceRuleEditor1);};p.prototype.render=function(){return c('React').createElement('div',{className:"_4xbc"},this.$WebsiteCustomAudienceRuleEditor2(),this.$WebsiteCustomAudienceRuleEditor3(),this.$WebsiteCustomAudienceRuleEditor4());};p.propTypes={eventSource:k.object.isRequired,isRuleDeleteable:k.bool.isRequired,mode:k.string.isRequired,rule:k.object.isRequired,showPotentialWarnings:k.bool,onDeleteRule:k.func.isRequired,onUpdateRule:k.func.isRequired};f.exports=p;}),null);
__d('WebsiteCustomAudienceRuleSet.react',['fbt','cx','AdsPixelRuleBuilder.react','BUIAdoptionXUIGrayText.react','React','WebsiteCustomAudienceModel','WebsiteCustomAudienceRuleEditor.react','AdsPixelRuleDialogMode'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('WebsiteCustomAudienceModel').Rule,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$WebsiteCustomAudienceRuleSet1=function(t,u,v){return (c('React').createElement('div',{className:"_3pb1",key:'rule_'+t.key},this.$WebsiteCustomAudienceRuleSet2(u),this.$WebsiteCustomAudienceRuleSet3(t,u,v)));}.bind(this),this.$WebsiteCustomAudienceRuleSet2=function(t){var u=h._("ALSO INCLUDE traffic that meets the following:");if(t===0){u=h._("Traffic that meets the following:");}else if(this.props.isExclusion)u=h._("ALSO EXCLUDE traffic that meets the following:");return (c('React').createElement('div',{className:"_3pb2",key:'rule_desc_'+t},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light',size:'small',weight:'bold'},u)));}.bind(this),this.$WebsiteCustomAudienceRuleSet3=function(t,u,v){return (c('React').createElement(c('WebsiteCustomAudienceRuleEditor.react'),{eventSource:this.props.eventSource,isRuleDeleteable:this.$WebsiteCustomAudienceRuleSet4(),key:'rule_builder_'+t.key,mode:this.props.mode,rule:t,showPotentialWarnings:this.props.showPotentialWarnings,onDeleteRule:this.$WebsiteCustomAudienceRuleSet5.bind(this,u),onUpdateRule:this.$WebsiteCustomAudienceRuleSet6.bind(this,u)}));}.bind(this),this.$WebsiteCustomAudienceRuleSet6=function(t,u){var v=this.props.rules;v[t]=u;this.props.onUpdateRuleSet(v);}.bind(this),this.$WebsiteCustomAudienceRuleSet5=function(t){var u=this.props.rules;if(this.props.mode!==c('AdsPixelRuleDialogMode').EDIT)if(u.length>1){u.splice(t,1);this.props.onUpdateRuleSet(u);}else this.props.onDeleteRuleSet&&this.$WebsiteCustomAudienceRuleSet7();}.bind(this),this.$WebsiteCustomAudienceRuleSet7=function(){this.props.onUpdateRuleSet([new l()]);this.props.onDeleteRuleSet&&this.props.onDeleteRuleSet();}.bind(this),this.$WebsiteCustomAudienceRuleSet4=function(){if(this.props.mode===c('AdsPixelRuleDialogMode').EDIT||this.props.rules.length===1&&!this.props.onDeleteRuleSet)return false;return true;}.bind(this),p;}n.prototype.render=function(){var o=this.props.rules.map(this.$WebsiteCustomAudienceRuleSet1,this);return c('React').createElement('div',null,o);};n.propTypes={eventSource:m.object.isRequired,isExclusion:m.bool,mode:m.string.isRequired,rules:m.array.isRequired,showPotentialWarnings:m.bool,onDeleteRuleSet:m.func,onUpdateRuleSet:m.func.isRequired};f.exports=n;}),null);
__d('WebsiteCustomAudienceRuleBuilderAdvanced.react',['cx','fbt','AdsInterfacesLogger','AdsHelpLink.react','AdsPixelEventDataSource','AudienceManagerUIConstants','BUIAdoptionXUIGrayText.react','BUISwitch.react','InfoTable.react','InfoTableRow.react','InfoTableSection.react','Link.react','AudienceManagerLoggingEvents','AdsPixelRuleDialogMode','React','SimpleNUXMessage','SimpleNUXMessageTypes','WebsiteCustomAudienceDeviceSelector.react','WebsiteCustomAudienceModel','WebsiteCustomAudienceRuleBuilderCustom.react','WebsiteCustomAudienceRuleSet.react','XUIAmbientNUX.react','intlList'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('WebsiteCustomAudienceModel').Rule,m=c('WebsiteCustomAudienceModel').Operations,n=c('React').PropTypes,o=null;j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(q){k.constructor.call(this,q);this.renderLayers=function(){return (c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:this.$WebsiteCustomAudienceRuleBuilderAdvanced5,position:'above',shown:this.state.shouldShowNux,onCloseButtonClick:this.$WebsiteCustomAudienceRuleBuilderAdvanced6,key:'nux'},i._("Now you can use advanced rules to further define an audience by frequency of website visits or pixel events, device type and aggregated values. Turn the switch on to get started.")));}.bind(this);this.$WebsiteCustomAudienceRuleBuilderAdvanced2=function(){return (c('React').createElement(c('InfoTable.react'),null,c('React').createElement(c('InfoTableSection.react'),null,c('React').createElement(c('InfoTableRow.react'),null,c('React').createElement('div',{className:"_549k"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light',size:'small',weight:'bold'},i._("Advanced mode")),c('React').createElement(c('AdsHelpLink.react'),{position:'above',width:c('AudienceManagerUIConstants').HELP_LINK_WIDTH},i._("Use advanced rules to create a limited number of audiences based on frequency, devices, sum, average, maximum or minimum values.")),c('React').createElement('div',{className:"_549l"},c('React').createElement(c('BUISwitch.react'),{ref:'switch',showLabel:true,value:this.props.advancedMode,onToggle:this.props.onSwitchMode})))))));}.bind(this);this.$WebsiteCustomAudienceRuleBuilderAdvanced3=function(){if(this.props.advancedMode)return null;return (c('React').createElement(c('WebsiteCustomAudienceRuleBuilderCustom.react'),this.props));}.bind(this);this.$WebsiteCustomAudienceRuleBuilderAdvanced4=function(){if(!this.props.advancedMode)return null;return (c('React').createElement(c('InfoTable.react'),{className:"_549m"},c('React').createElement(c('InfoTableSection.react'),null,this.$WebsiteCustomAudienceRuleBuilderAdvanced7(),this.$WebsiteCustomAudienceRuleBuilderAdvanced8(),this.$WebsiteCustomAudienceRuleBuilderAdvanced9(),this.$WebsiteCustomAudienceRuleBuilderAdvanced10())));}.bind(this);this.$WebsiteCustomAudienceRuleBuilderAdvanced7=function(){return (c('React').createElement(c('InfoTableRow.react'),{helpLink:c('React').createElement(c('AdsHelpLink.react'),{position:'above',width:c('AudienceManagerUIConstants').HELP_LINK_WIDTH},i._("You can include people in your audience who meet criteria that you specify, based on website visits or events.")),label:i._("Include"),type:'data'},c('React').createElement(c('WebsiteCustomAudienceRuleSet.react'),{eventSource:this.$WebsiteCustomAudienceRuleBuilderAdvanced1(),mode:this.$WebsiteCustomAudienceRuleBuilderAdvanced11()?c('AdsPixelRuleDialogMode').EDIT:c('AdsPixelRuleDialogMode').CREATE,rules:this.props.audience.inclusion_rules,showPotentialWarnings:this.props.showPotentialWarnings,onUpdateRuleSet:this.$WebsiteCustomAudienceRuleBuilderAdvanced12})));}.bind(this);this.$WebsiteCustomAudienceRuleBuilderAdvanced8=function(){if(!this.state.showExclusions)return null;return (c('React').createElement(c('InfoTableRow.react'),{helpLink:c('React').createElement(c('AdsHelpLink.react'),{position:'above',width:c('AudienceManagerUIConstants').HELP_LINK_WIDTH},i._("You can exclude people from your audience who meet criteria that you specify, based on website visits or events.")),label:i._("Exclude"),type:'data'},c('React').createElement(c('WebsiteCustomAudienceRuleSet.react'),{eventSource:this.$WebsiteCustomAudienceRuleBuilderAdvanced1(),isExclusion:true,mode:this.$WebsiteCustomAudienceRuleBuilderAdvanced11()?c('AdsPixelRuleDialogMode').EDIT:c('AdsPixelRuleDialogMode').CREATE,rules:this.props.audience.exclusion_rules,showPotentialWarnings:this.props.showPotentialWarnings,onDeleteRuleSet:this.$WebsiteCustomAudienceRuleBuilderAdvanced13,onUpdateRuleSet:this.$WebsiteCustomAudienceRuleBuilderAdvanced14})));}.bind(this);this.$WebsiteCustomAudienceRuleBuilderAdvanced9=function(){if(this.$WebsiteCustomAudienceRuleBuilderAdvanced11())return null;var s=[];s.push(this.$WebsiteCustomAudienceRuleBuilderAdvanced15());s.push(this.$WebsiteCustomAudienceRuleBuilderAdvanced16());return (c('React').createElement(c('InfoTableRow.react'),{type:'data'},c('React').createElement('div',{className:"_549r"},c('intlList')(s,c('intlList').CONJUNCTIONS.OR))));}.bind(this);this.$WebsiteCustomAudienceRuleBuilderAdvanced15=function(){return (c('React').createElement(c('Link.react'),{onClick:this.$WebsiteCustomAudienceRuleBuilderAdvanced17},i._("Include more")));}.bind(this);this.$WebsiteCustomAudienceRuleBuilderAdvanced16=function(){return (c('React').createElement(c('Link.react'),{onClick:this.$WebsiteCustomAudienceRuleBuilderAdvanced18},i._("Exclude people")));}.bind(this);this.$WebsiteCustomAudienceRuleBuilderAdvanced1=function(){if(!o)o=new (c('AdsPixelEventDataSource'))(this.props.pixel&&this.props.pixel.id);return o;}.bind(this);this.$WebsiteCustomAudienceRuleBuilderAdvanced5=function(){return this.refs['switch'];}.bind(this);this.$WebsiteCustomAudienceRuleBuilderAdvanced11=function(){return !!this.props.audience.id;}.bind(this);this.$WebsiteCustomAudienceRuleBuilderAdvanced6=function(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').WCA_ADVANCED_BLUETIP_NUX_CLOSED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('SimpleNUXMessage').markMessageSeenByUser(c('SimpleNUXMessageTypes').ADS_WCA_ADVANCED_NUX);this.setState({shouldShowNux:false});}.bind(this);this.$WebsiteCustomAudienceRuleBuilderAdvanced17=function(){var s=this.props.audience.inclusion_rules;s.push(new l());this.$WebsiteCustomAudienceRuleBuilderAdvanced12(s);}.bind(this);this.$WebsiteCustomAudienceRuleBuilderAdvanced18=function(){if(!this.state.showExclusions){this.setState({showExclusions:true});}else{var s=this.props.audience.exclusion_rules;s.push(new l());this.$WebsiteCustomAudienceRuleBuilderAdvanced14(s);}}.bind(this);this.$WebsiteCustomAudienceRuleBuilderAdvanced12=function(s){this.props.onUpdateAudienceFields(this.props.audience,{inclusion_rules:s});}.bind(this);this.$WebsiteCustomAudienceRuleBuilderAdvanced14=function(s){this.props.onUpdateAudienceFields(this.props.audience,{exclusion_rules:s});}.bind(this);this.$WebsiteCustomAudienceRuleBuilderAdvanced13=function(){this.setState({showExclusions:false});}.bind(this);this.$WebsiteCustomAudienceRuleBuilderAdvanced19=function(s){this.props.onUpdateAudienceFields(this.props.audience,{device:s});}.bind(this);var r=q.audience.exclusion_rules.filter(m.validateRule);this.state={showExclusions:r.length>0,shouldShowNux:!c('SimpleNUXMessage').hasUserSeenMessage(c('SimpleNUXMessageTypes').ADS_WCA_ADVANCED_NUX)};}p.prototype.componentWillMount=function(){this.$WebsiteCustomAudienceRuleBuilderAdvanced1();};p.prototype.componentWillReceiveProps=function(q){if(!this.props.pixel||this.props.pixel.id!==q.pixel.id)o=new (c('AdsPixelEventDataSource'))(q.pixel.id);};p.prototype.render=function(){return c('React').createElement('div',null,this.$WebsiteCustomAudienceRuleBuilderAdvanced2(),this.$WebsiteCustomAudienceRuleBuilderAdvanced3(),this.$WebsiteCustomAudienceRuleBuilderAdvanced4(),this.renderLayers());};p.prototype.$WebsiteCustomAudienceRuleBuilderAdvanced10=function(){return c('React').createElement(c('InfoTableRow.react'),{helpLink:c('React').createElement(c('AdsHelpLink.react'),{position:'above',width:c('AudienceManagerUIConstants').HELP_LINK_WIDTH},i._("The type of the device where the pixel is triggered")),label:i._("Visited website on"),type:'data'},c('React').createElement(c('WebsiteCustomAudienceDeviceSelector.react'),{device:this.props.audience.device,disabled:this.$WebsiteCustomAudienceRuleBuilderAdvanced11(),onChange:this.$WebsiteCustomAudienceRuleBuilderAdvanced19}));};p.propTypes={advancedMode:n.bool.isRequired,audience:n.object.isRequired,pixel:n.object,showPotentialWarnings:n.bool.isRequired,onSwitchMode:n.func.isRequired,onUpdateAudienceFields:n.func.isRequired};f.exports=p;}),null);
__d('AdsSBTokenizerCheckBox.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props.hovered,n=this.props.checked,o=(!m&&n?"_2ut4":'')+(!m&&!n?' '+"_2ut5":'')+(m&&n?' '+"_2ut6":'')+(m&&!n?' '+"_2ut7":'')+(' '+"_2ut8")+(' '+"_4b91");return (c('React').createElement('div',{className:o,onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},c('React').createElement('span',{className:"_2_2o"})));};function l(){i.apply(this,arguments);}l.propTypes={hovered:k.bool,checked:k.bool,onMouseEnter:k.func,onMouseLeave:k.func,onMouseDown:k.func};f.exports=l;}),null);
__d('AdsSBTokenizerPlusIcon.react',['cx','ix','Image.react','React'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';var n;if(this.props.hidden)return c('React').createElement('div',null);if(this.props.hovered){n=c('React').createElement(c('Image.react'),{className:"_5m4p",src:i("22558"),onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave});}else n=c('React').createElement(c('Image.react'),{className:"_5m4q",src:i("22559"),onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave});return n;};function m(){'use strict';j.apply(this,arguments);}m.propTypes={hovered:l.bool,hidden:l.bool,onMouseEnter:l.func,onMouseLeave:l.func,onMouseDown:l.func};f.exports=m;}),null);
__d('AdsSB2TypeaheadEntriesView.react',['cx','AdsSBAreaClicked','AdsSBTokenizerConstants','AdsSBTokenizerPlusIcon.react','AdsSBTokenizerCheckBox.react','AdsSBTokenizerWhiteBox.react','ScrollableArea.react','React'],(function a(b,c,d,e,f,g,h){var i,j,k,l,m=c('React').PropTypes,n=c('AdsSBTokenizerConstants').ROW.HEIGHT,o=c('AdsSBTokenizerConstants').TYPEAHEAD.HEIGHT,p=c('AdsSBTokenizerConstants').WHITE_BOX.WIDTH;i=babelHelpers.inherits(q,c('React').Component);j=i&&i.prototype;function q(){var s,t;'use strict';for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=j.constructor).call.apply(s,[this].concat(v)),this.state={},this.$AdsSB2TypeaheadEntriesView2=function(x,y){return (c('React').createElement(r,{entry:x,highlighted:x===this.props.highlightedEntry,index:y,key:x.getUniqueID(),showCheckIcon:this.props.showCheckIcon,onHighlight:this.props.onHighlight,onSelect:this.props.onSelect,onUnhlight:this.props.onHighlight}));}.bind(this),this.$AdsSB2TypeaheadEntriesView4=function(){this.props.onHighlight&&this.props.onHighlight();}.bind(this),this.$AdsSB2TypeaheadEntriesView3=function(){c('AdsSBAreaClicked').setAreaClicked(this.props.uniqueID,true);}.bind(this),this.$AdsSB2TypeaheadEntriesView1=function(){var x=this.props.highlightedEntry;if(!this.refs||!this.refs.scrollArea||!x||!x.name)return;var y=this.props.entries.indexOf(x)*n,z=this.refs.scrollArea.getArea(),aa=z.getScrollTop(),ba;if(aa+o<y+n){ba=n*(parseInt(aa/n,10)+2);z.setScrollTop(ba);}else if(aa>y){ba=n*(parseInt(aa/n,10)-1);z.setScrollTop(ba);}}.bind(this),t;}q.prototype.componentDidUpdate=function(){'use strict';this.$AdsSB2TypeaheadEntriesView1();};q.prototype.render=function(){'use strict';var s=this.props.entries;if(s&&s.length){var t=s.map(this.$AdsSB2TypeaheadEntriesView2,this),u,v=this.props.width;if(this.props.highlightedEntry&&Object.keys(this.props.highlightedEntry).length>0&&this.props.showWhiteBox){u=c('React').createElement('div',{className:"_hpi"},c('React').createElement(c('AdsSBTokenizerWhiteBox.react'),babelHelpers['extends']({},this.props,{info:this.props.highlightedEntry,type:c('AdsSBTokenizerConstants').ACTIVE_STATES.SEARCH,uniqueID:this.props.uniqueID})));v=this.props.width+p;}var w="_1y42"+(this.props.showWhiteBox?' '+"_2ui8":'');return c('React').createElement('div',{className:w,onMouseDown:this.$AdsSB2TypeaheadEntriesView3,onMouseLeave:this.$AdsSB2TypeaheadEntriesView4},c('React').createElement('ul',{className:"_hpl clearfix",style:{width:v}},c('React').createElement('div',{className:"_hpp _hpj",style:{width:this.props.width}},c('React').createElement(c('ScrollableArea.react'),{height:o,ref:'scrollArea',width:this.props.width},c('React').createElement('div',{className:"_hpt",style:{width:this.props.width-1,minHeight:o}},t)),u)));}return c('React').createElement('ul',{className:"_hpn"});};q.propTypes={highlightedEntry:m.object,entries:m.array.isRequired,onSelect:m.func.isRequired,onHighlight:m.func,width:m.number.isRequired,uniqueID:m.string.isRequired,showWhiteBox:m.bool,showPlusIcon:m.bool,reportedInterests:m.object,addReportedInterest:m.func,deleteReportedInterest:m.func,showCheckIcon:m.bool};q.defaultProps={showWhiteBox:true,showPlusIcon:true};k=babelHelpers.inherits(r,c('React').Component);l=k&&k.prototype;function r(){var s,t;'use strict';for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=l.constructor).call.apply(s,[this].concat(v)),this.$EntryRowView3=function(x){var y=x.getTitle(),z=y.split(' '),aa=x.matchArray,ba=x.disambiguationCategory,ca=[];for(var da=0;da<z.length;da++)if(!aa||!aa[da]){ca.push(c('React').createElement('span',null,z[da]+' '));}else ca.push(c('React').createElement('span',null,z[da].substring(0,aa[da].start),c('React').createElement('span',{className:"_hpm"},z[da].substring(aa[da].start,aa[da].end)),z[da].substring(aa[da].end)+' '));var ea=null;if(ba)ea=c('React').createElement('span',{className:"_5ovq"},' '+ba);ca.push(ea);return ca;},this.$EntryRowView1=function(x){this.props.onSelect(this.props.entry,x);}.bind(this),this.$EntryRowView2=function(){this.props.onHighlight&&this.props.onHighlight(this.props.entry);}.bind(this),t;}r.prototype.render=function(){'use strict';var s="_hpf"+(this.props.highlighted?' '+"_hpr":''),t=this.props.entry,u;if(t.numLeafCategories&&t.numLeafCategories>0)u=c('React').createElement('div',{className:"_hpg"},t.numLeafCategories);return c('React').createElement('li',{className:s},c('React').createElement('div',{className:"_hpw",onMouseDown:this.$EntryRowView1,onMouseEnter:this.$EntryRowView2},c('React').createElement('div',{className:"_17_t"},c('React').createElement('div',{className:"_hpq"},c('React').createElement('div',{className:"_hps"},this.$EntryRowView3(t)),u),this.props.showCheckIcon?c('React').createElement(c('AdsSBTokenizerCheckBox.react'),{hovered:this.props.highlighted}):null,this.props.showPlusIcon?c('React').createElement(c('AdsSBTokenizerPlusIcon.react'),{hovered:this.props.highlighted}):'')),c('React').createElement('div',{className:"_hpo"}),c('React').createElement('div',{className:"_5oe8"}));};r.propTypes={entry:m.object.isRequired,onHighlight:m.func,showCheckIcon:m.bool};f.exports=q;}),null);
__d('AdsSearchHostTokenizerListItem.react',['cx','AdsSBTokenizerConstants','AdsSBTokenizerWhiteBoxLayer.react','BUIAdoptionCloseButton.react','React'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={highlighted:false},this.$AdsSearchHostTokenizerListItem3=function(){this.setState({highlighted:true});}.bind(this),this.$AdsSearchHostTokenizerListItem4=function(){this.setState({highlighted:false});}.bind(this),this.$AdsSearchHostTokenizerListItem1=function(){this.setState({highlighted:true});}.bind(this),this.$AdsSearchHostTokenizerListItem2=function(){this.setState({highlighted:false});}.bind(this),n;}l.prototype.render=function(){'use strict';return c('React').createElement(c('AdsSBTokenizerWhiteBoxLayer.react'),{info:this.props.entry,shown:this.state.highlighted,type:c('AdsSBTokenizerConstants').ACTIVE_STATES.BROWSE,uniqueID:this.props.uniqueID,onMouseEnterBox:this.$AdsSearchHostTokenizerListItem1,onMouseLeaveBox:this.$AdsSearchHostTokenizerListItem2},c('React').createElement('li',{className:"_5w24 _5ahx",key:this.props.entry.getUniqueID(),onMouseEnter:this.$AdsSearchHostTokenizerListItem3,onMouseLeave:this.$AdsSearchHostTokenizerListItem4},this.props.entry.getTitle(),c('React').createElement(c('BUIAdoptionCloseButton.react'),{className_DEPRECATED:"_5w28 _5ah_",onClick:this.props.onRemoveEntry})));};l.propTypes={entry:k.object.isRequired,onRemoveEntry:k.func.isRequired,uniqueID:k.string.isRequired};f.exports=l;}),null);
__d('AdsSearchHostTokenizerList.react',['cx','AdsSearchHostTokenizerListItem.react','React'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$AdsSearchHostTokenizerList1=function(r){return (c('React').createElement(c('AdsSearchHostTokenizerListItem.react'),{entry:r,key:r.getUniqueID(),uniqueID:this.props.uniqueID,onRemoveEntry:function(){return this.props.onRemoveEntry(r);}.bind(this)}));}.bind(this),n;}l.prototype.render=function(){'use strict';return c('React').createElement('div',{className:"_5w21"},this.props.entries.map(this.$AdsSearchHostTokenizerList1));};l.propTypes={entries:k.array.isRequired,onRemoveEntry:k.func.isRequired,uniqueID:k.string.isRequired};f.exports=l;}),null);
__d('AdsSearchHostTokenizer.react',['fbt','cx','AbstractTypeahead.react','AdsSearchHostTokenizerList.react','React','SearchableEntry','AdsSB2TypeaheadEntriesView.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=450,n='AdsSearchHostTokenizer';j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={queryString:''},this.$AdsSearchHostTokenizer1=function(){if(this.props.tokens.length===0)return null;var u=this.$AdsSearchHostTokenizer3()?"_1-my":'';return (c('React').createElement('div',{className:u},c('React').createElement(c('AdsSearchHostTokenizerList.react'),{entries:this.$AdsSearchHostTokenizer4(),uniqueID:n,onRemoveEntry:this.$AdsSearchHostTokenizer5})));}.bind(this),this.$AdsSearchHostTokenizer2=function(){if(this.$AdsSearchHostTokenizer3())return null;return (c('React').createElement('div',null,c('React').createElement(c('AbstractTypeahead.react'),{className:"_1qju",excludedEntries:this.$AdsSearchHostTokenizer6(),placeholder:h._("Choose a website domain"),presenter:this.$AdsSearchHostTokenizer7(),queryString:this.state.queryString,ref:'typeahead',searchSource:this.props.dataSource,showEntriesOnFocus:true,onBlur:this.$AdsSearchHostTokenizer8,onChange:this.$AdsSearchHostTokenizer9,onSelectAttempt:this.$AdsSearchHostTokenizer10}),this.$AdsSearchHostTokenizer11()));}.bind(this),this.$AdsSearchHostTokenizer11=function(){return (c('React').createElement('div',{className:"_49v2 _4-97 _xkk",key:'browse',onMouseDown:this.$AdsSearchHostTokenizer12},h._("Browse"),c('React').createElement('div',{className:"_ekn _xkl"})));}.bind(this),this.$AdsSearchHostTokenizer3=function(){if(this.props.dataSource&&this.props.dataSource.getHostNumber()===this.props.tokens.length)return true;return false;}.bind(this),this.$AdsSearchHostTokenizer12=function(){setTimeout(function(){this.setState({queryString:''});this.refs.typeahead.focusInput();}.bind(this),0);}.bind(this),this.$AdsSearchHostTokenizer4=function(){var u=[];this.props.tokens.forEach(function(v){if(v)u.push(new (c('SearchableEntry'))({uniqueID:v,title:v}));});return u;}.bind(this),this.$AdsSearchHostTokenizer6=function(){var u={};this.props.tokens.forEach(function(v){u[v]=new (c('SearchableEntry'))({uniqueID:v,title:v});});return u;}.bind(this),this.$AdsSearchHostTokenizer5=function(u){var v=this.$AdsSearchHostTokenizer4().slice(),w=this.props.tokens.indexOf(u.getTitle());if(w!==false){v.splice(w,1);this.props.onUpdate(v);}}.bind(this),this.$AdsSearchHostTokenizer10=function(u){this.props.onUpdate(this.$AdsSearchHostTokenizer4().concat([u]));}.bind(this),this.$AdsSearchHostTokenizer7=function(){return {ViewRenderer:c('AdsSB2TypeaheadEntriesView.react'),useLayer:true,extraRendererProps:{width:m,uniqueID:n,showWhiteBox:false,excludedEntries:this.$AdsSearchHostTokenizer6()}};}.bind(this),this.$AdsSearchHostTokenizer8=function(){this.setState({queryString:''});}.bind(this),this.$AdsSearchHostTokenizer9=function(event){this.setState({queryString:event.target.value});}.bind(this),q;}o.prototype.render=function(){return c('React').createElement('div',{className:"_4g1r"},this.$AdsSearchHostTokenizer1(),this.$AdsSearchHostTokenizer2());};o.propTypes={onUpdate:l.func.isRequired,tokens:l.array.isRequired,dataSource:l.object.isRequired};f.exports=o;}),null);
__d('WebsiteCustomAudienceRuleBuilderChooseDomain.react',['cx','fbt','AdsHelpLink.react','AdsSearchHostTokenizer.react','InfoTable.react','InfoTableRow.react','InfoTableSection.react','React','SearchableEntry'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$WebsiteCustomAudienceRuleBuilderChooseDomain1=function(r){var s=r.map(function(t){return t.getTitle();});this.props.onUpdateClauseFields(this.props.rule.clauses[0],{tokens:s});}.bind(this),n;}l.prototype.render=function(){if(!this.props.shouldShow)return null;return c('React').createElement(c('InfoTable.react'),{className:"_3af5"},c('React').createElement(c('InfoTableSection.react'),null,c('React').createElement(c('InfoTableRow.react'),null,c('React').createElement('span',null,c('React').createElement('div',{className:"_19g1"},i._("Include people who visit any page on the following domains (optional)."),c('React').createElement(c('AdsHelpLink.react'),{position:'above'},c('React').createElement('div',{className:"_46rj"},i._("In some cases, you may see domains in this list where your pixel is not installed. If the domain for a pixel event can't be detected, this will show the referral domain that the person was on when they came to your site.")))),c('React').createElement(c('AdsSearchHostTokenizer.react'),{dataSource:this.props.domainDataSource,tokens:this.props.rule.clauses[0].tokens,onUpdate:this.$WebsiteCustomAudienceRuleBuilderChooseDomain1})))));};f.exports=l;}),null);
__d('WebsiteCustomAudienceRuleBuilderChurners.react',['cx','fbt','InfoTable.react','InfoTableRow.react','InfoTableSection.react','React'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;l.prototype.render=function(){'use strict';return (c('React').createElement(c('InfoTable.react'),{className:"_3af5"},c('React').createElement(c('InfoTableSection.react'),null,c('React').createElement(c('InfoTableRow.react'),null,c('React').createElement('div',{className:"_19g1"},i._("Include people who have visited your website in the last 180 days but haven't been back"))))));};function l(){'use strict';j.apply(this,arguments);}f.exports=l;}),null);
__d('WebsiteCustomAudienceRuleBuilderIncludeExclude.react',['cx','fbt','AdsPixelRuleClause.react','WebsiteCustomAudienceOperators','InfoTable.react','InfoTableRow.react','InfoTableSection.react','React'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';return (c('React').createElement(c('InfoTable.react'),{className:"_4xt2"},c('React').createElement(c('InfoTableSection.react'),null,c('React').createElement(c('InfoTableRow.react'),null,c('React').createElement('div',null,c('React').createElement('div',{className:"_4xt3"},i._("Include people who visit any web page that meets the following rules.")),c('React').createElement(c('AdsPixelRuleClause.react'),{className:"_4xt4",clause:this.props.inclusionClause,isSimpleClause:true,operators:c('WebsiteCustomAudienceOperators').URLOperators,showPotentialWarnings:this.props.showPotentialWarnings,onUpdateClause:this.props.onUpdateInclusionClause}),c('React').createElement('div',{className:"_4xt3"},i._("Exclude people who visit any web page that meets the following rules.")),c('React').createElement(c('AdsPixelRuleClause.react'),{className:"_4xt4",clause:this.props.exclusionClause,isSimpleClause:true,operators:c('WebsiteCustomAudienceOperators').URLOperators,showPotentialWarnings:this.props.showPotentialWarnings,onUpdateClause:this.props.onUpdateExclusionClause}))))));};function m(){'use strict';j.apply(this,arguments);}m.propTypes={inclusionClause:l.object.isRequired,exclusionClause:l.object.isRequired,onUpdateInclusionClause:l.func.isRequired,onUpdateExclusionClause:l.func.isRequired,showPotentialWarnings:l.bool.isRequired};f.exports=m;}),null);
__d('WebsiteCustomAudienceRuleBuilderSpecificPages.react',['cx','fbt','AdsPixelRuleClause.react','WebsiteCustomAudienceOperators','InfoTable.react','InfoTableRow.react','InfoTableSection.react','React'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){'use strict';return (c('React').createElement(c('InfoTable.react'),{className:"_23h"},c('React').createElement(c('InfoTableSection.react'),null,c('React').createElement(c('InfoTableRow.react'),null,c('React').createElement('div',null,c('React').createElement('div',{className:"_28x"},i._("Include people who visit any web page that meets the following rules.")),c('React').createElement(c('AdsPixelRuleClause.react'),{className:"_28y",clause:this.props.clause,isSimpleClause:true,operators:c('WebsiteCustomAudienceOperators').URLOperators,showPotentialWarnings:this.props.showPotentialWarnings,onUpdateClause:this.props.onUpdateClause}))))));};function m(){'use strict';j.apply(this,arguments);}m.propTypes={clause:l.object.isRequired,onUpdateClause:l.func.isRequired,showPotentialWarnings:l.bool.isRequired};f.exports=m;}),null);
__d('WebsiteCustomAudienceRuleBuilderTimeSpent.react',['cx','fbt','AdsInterfacesLogger','AdsHelpLink.react','AdsRichSelector.react','AdsSearchHostTokenizer.react','AudienceManagerLoggingEvents','AudienceManagerUIConstants','InfoTable.react','InfoTableRow.react','InfoTableSection.react','Link.react','WebsiteCustomAudiencePercentileOptions','React','WebsiteCustomAudienceModel','getByPath'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('AdsRichSelector.react').Option,n=c('AdsRichSelector.react').Separator,o=c('WebsiteCustomAudienceModel').RuleTemplates,p=c('WebsiteCustomAudienceModel').RuleClause,q=i._("Most active users"),r=i._("Specify your domains (optional)"),s=function u(v){if(!v.isMultiDomainPixel)return null;var w=c('React').createElement(c('Link.react'),{onClick:v.onClickDomainLink},r);if(v.showDomainSelector){var x=c('getByPath')(v.domainRule,['clauses','0','tokens'],[]);w=c('React').createElement(c('AdsSearchHostTokenizer.react'),{dataSource:v.domainDataSource,tokens:x,onUpdate:v.onUpdateDomain});}return (c('React').createElement('div',{className:"_b97"},w));};j=babelHelpers.inherits(t,l);k=j&&j.prototype;function t(u){k.constructor.call(this,u);this.$WebsiteCustomAudienceRuleBuilderTimeSpent2=function(v){this.setState({showDomainSelector:true});}.bind(this);this.$WebsiteCustomAudienceRuleBuilderTimeSpent1=function(v){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').WCA_TIME_SPENT_PERCENTILE_SELECT},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.props.onUpdatePercentile(v.value);}.bind(this);this.$WebsiteCustomAudienceRuleBuilderTimeSpent3=function(v){var w=v.map(function(x){return x.getTitle();});this.props.onUpdateDomain(c('getByPath')(this.props.domainRule,['clauses','0'],new p()),{tokens:w});}.bind(this);this.state={showDomainSelector:!o.isAllVisitors(JSON.stringify(u.domainRule))};}t.prototype.render=function(){return c('React').createElement(c('InfoTable.react'),{className:"_1g8z"},c('React').createElement(c('InfoTableSection.react'),null,c('React').createElement(c('InfoTableRow.react'),null,c('React').createElement('div',null,c('React').createElement('div',{className:"_1g8-"},i._("Include people who are in the following percentile for time spent on your website."),c('React').createElement(c('AdsHelpLink.react'),{position:'above',width:c('AudienceManagerUIConstants').HELP_LINK_WIDTH},i._("This allows you to create an audience based on the relative amount of time that people spend on your website. We recommend installing a pixel on every page for the best results."))),c('React').createElement(c('AdsRichSelector.react'),{className:"_1g93",defaultValue:this.props.selectedOption,onChange:this.$WebsiteCustomAudienceRuleBuilderTimeSpent1},c('React').createElement(n,{label:q}),c('React').createElement(m,c('WebsiteCustomAudiencePercentileOptions').TOP_5,c('WebsiteCustomAudiencePercentileOptions').TOP_5.label),c('React').createElement(m,c('WebsiteCustomAudiencePercentileOptions').TOP_10,c('WebsiteCustomAudiencePercentileOptions').TOP_10.label),c('React').createElement(m,c('WebsiteCustomAudiencePercentileOptions').TOP_25,c('WebsiteCustomAudiencePercentileOptions').TOP_25.label)),c('React').createElement(s,{domainDataSource:this.props.domainDataSource,domainRule:this.props.domainRule,isMultiDomainPixel:this.props.isMultiDomainPixel,showDomainSelector:this.state.showDomainSelector,onClickDomainLink:this.$WebsiteCustomAudienceRuleBuilderTimeSpent2,onUpdateDomain:this.$WebsiteCustomAudienceRuleBuilderTimeSpent3})))));};f.exports=t;}),null);
__d('WebsiteCustomAudienceTrafficSelector.react',['fbt','AdsGuidanceNewBadge.react','AdsHelpLink.react','AudienceManagerUIConstants','InfoTable.react','InfoTableRow.react','InfoTableSection.react','React','XUISelector.react','WebsiteCustomAudienceTrafficType','XUIMenuSeparator.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('XUISelector.react').Option,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$WebsiteCustomAudienceTrafficSelector1=function(){return (c('React').createElement(k,{key:c('WebsiteCustomAudienceTrafficType').ALL_WEBSITE_VISITORS,value:c('WebsiteCustomAudienceTrafficType').ALL_WEBSITE_VISITORS},h._("Anyone who visits your website")));},this.$WebsiteCustomAudienceTrafficSelector2=function(){return (c('React').createElement(k,{key:c('WebsiteCustomAudienceTrafficType').SPECIFIC_PAGE_VISITORS,value:c('WebsiteCustomAudienceTrafficType').SPECIFIC_PAGE_VISITORS},h._("People who visit specific web pages")));},this.$WebsiteCustomAudienceTrafficSelector3=function(){return (c('React').createElement(k,{key:c('WebsiteCustomAudienceTrafficType').SPECIFIC_PAGE_VISITORS_WITH_EXCLUSION,value:c('WebsiteCustomAudienceTrafficType').SPECIFIC_PAGE_VISITORS_WITH_EXCLUSION},h._("People who visit specific web pages but not others")));},this.$WebsiteCustomAudienceTrafficSelector4=function(){return (c('React').createElement(k,{key:c('WebsiteCustomAudienceTrafficType').CHURNED_VISITORS,value:c('WebsiteCustomAudienceTrafficType').CHURNED_VISITORS},h._("People who haven't visited in a certain amount of time")));},this.$WebsiteCustomAudienceTrafficSelector5=function(){if(!this.props.shouldShowTimeSpent)return null;return (c('React').createElement(k,{key:c('WebsiteCustomAudienceTrafficType').TIME_SPENT,value:c('WebsiteCustomAudienceTrafficType').TIME_SPENT},h._("Based on time spent on your website"),c('React').createElement(c('AdsGuidanceNewBadge.react'),null)));}.bind(this),this.$WebsiteCustomAudienceTrafficSelector6=function(){return (c('React').createElement(k,{key:c('WebsiteCustomAudienceTrafficType').CUSTOM,value:c('WebsiteCustomAudienceTrafficType').CUSTOM},h._("Custom combination")));},o;}m.prototype.render=function(){return c('React').createElement(c('InfoTable.react'),null,c('React').createElement(c('InfoTableSection.react'),null,c('React').createElement(c('InfoTableRow.react'),{helpLink:c('React').createElement(c('AdsHelpLink.react'),{position:'above',width:c('AudienceManagerUIConstants').HELP_LINK_WIDTH},h._("Choose how you want to add people to your audience. Include all of your website visitors, or create rules that only add people who visit specific parts of your website.")),key:'wca_traffic_type',label:h._("Website traffic"),type:'data'},c('React').createElement('div',null,c('React').createElement(c('XUISelector.react'),{disabled:this.props.disabled,maxwidth:0,size:'large',value:this.props.trafficType,onChange:this.props.onChangeTrafficType},this.$WebsiteCustomAudienceTrafficSelector1(),this.$WebsiteCustomAudienceTrafficSelector2(),this.$WebsiteCustomAudienceTrafficSelector3(),this.$WebsiteCustomAudienceTrafficSelector4(),c('React').createElement(c('XUIMenuSeparator.react'),null),this.$WebsiteCustomAudienceTrafficSelector5(),this.$WebsiteCustomAudienceTrafficSelector6())))));};m.propTypes={disabled:l.bool,shouldShowTimeSpent:l.bool,trafficType:l.number.isRequired,onChangeTrafficType:l.func.isRequired};f.exports=m;}),null);
__d('WebsiteCustomAudienceUneditableRule.react',['cx','fbt','AdsPixelPickerRow.react','AudienceManagerURLConstants','BUIAdoptionXUINotice.react','BUIAdoptionXUISpinner.react','BUIAdoptionXUIText.react','InfoTable.react','InfoTableRow.react','InfoTableSection.react','React','WebRemarketingDialogGear.react','WebsiteCustomAudienceModel','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('WebsiteCustomAudienceModel').Operations,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={migratedRule:l.migrateRule(JSON.parse(this.props.audience.rule))},this.$WebsiteCustomAudienceUneditableRule1=function(){var t=c('React').createElement('span',null);if(!this.state.migratedRule)return t;t=i._("Update Audience");return c('React').createElement(c('XUIDialogButton.react'),{label:t,use:'confirm',onClick:this.$WebsiteCustomAudienceUneditableRule2});}.bind(this),this.$WebsiteCustomAudienceUneditableRule2=function(){var t=c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'information'},c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'small',weight:'bold'},i._("Audience Updated")),c('React').createElement('br',null),c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'small'},i._("Your audience has been automatically updated to the new settings. You can undo these changes or save them and continue.")));this.props.onSetNotice(t);this.props.onAudienceRuleUpdated(this.state.migratedRule);}.bind(this),p;}n.prototype.render=function(){var o=this.state.migratedRule?c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'error'},c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'small',weight:'bold'},i._("Can't Edit Audience")),c('React').createElement('br',null),c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'small'},i._("This audience was created using settings that have been changed. You can still use this audience for your adverts. To make changes to this audience, update to the new settings."))):c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'error'},c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'small',weight:'bold'},i._("Can't Edit Audience")),c('React').createElement('br',null),c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'small'},i._("This audience can't be edited because it was created using settings that are no longer available. You can still use this audience for your adverts. To make changes or updates, create a new audience.")));return c('React').createElement('div',null,c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_qtd"},c('React').createElement('div',{className:"_5rkp _5rkq"},c('React').createElement(c('AdsPixelPickerRow.react'),null),this.props.audienceMetaInfo,c('React').createElement('div',null,c('React').createElement(c('InfoTable.react'),{className:"_3af5"},c('React').createElement(c('InfoTableSection.react'),null,c('React').createElement(c('InfoTableRow.react'),{label:i._("Rule")},this.props.audience.rule),c('React').createElement(c('InfoTableRow.react'),{label:i._("Retention")},this.props.audience.retention_days))),o)),!!this.props.errorMessage?c('React').createElement('div',{className:"_4o1o"},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'error'},c('React').createElement('div',{className:"_5wbz"},this.props.errorMessage))):c('React').createElement('span',null))),c('React').createElement(c('XUIDialogFooter.react'),{leftContent:c('React').createElement(c('WebRemarketingDialogGear.react'),{learnMoreURL:c('AudienceManagerURLConstants').WCA_CONFIGURE_RULES_DOC,onViewPixelCode:this.props.onViewPixelCode})},this.props.waitingForServerReponse?c('React').createElement(c('BUIAdoptionXUISpinner.react'),{background:'light',className:"_5swe",size:'small'}):c('React').createElement('span',null),c('React').createElement(c('XUIDialogCancelButton.react'),{disabled:this.props.waitingForServerReponse}),this.$WebsiteCustomAudienceUneditableRule1()));};n.propTypes={audience:m.object.isRequired,audienceMetaInfo:m.object.isRequired,errorMessage:m.string.isRequired,onAudienceRuleUpdated:m.func.isRequired,onSetNotice:m.func.isRequired,onViewPixelCode:m.func.isRequired,waitingForServerReponse:m.bool.isRequired};f.exports=n;}),null);
__d('WebsiteCustomAudienceRuleBuilderDialog.react',['cx','fbt','AdsInterfacesLogger','AdsAccountCapabilities','AdsAccountStoreWrapper_DEPRECATED','AdsAccountUtils','AdsAMAudienceActions','AdsAMViewActions','AdsAudienceRuleBuilderActions','AdsGuidanceStandaloneNuxContainer.react','AdsOffsiteConversionConstants','AdsPixelAudienceViewActions','AdsPixelHostDataSource','AdsPixelPickerRow.react','AdsPixelStoreWrapper','AudienceManagerURLConstants','AYMTEnhancedWebsiteCustomAudienceNUXRenderer','BUIAdoptionXUINotice.react','CustomAudienceTosUtils','Link.react','AudienceManagerLoggingEvents','BUIAdoptionXUISpinner.react','React','URI','WebRemarketingDialogGear.react','WebsiteCustomAudienceDeviceTypes','WebsiteCustomAudienceMetaInfo.react','WebsiteCustomAudienceModel','WebsiteCustomAudiencePercentileOptions','WebsiteCustomAudienceRetention.react','WebsiteCustomAudienceRuleBuilderAdvanced.react','WebsiteCustomAudienceRuleBuilderChooseDomain.react','WebsiteCustomAudienceRuleBuilderChurners.react','WebsiteCustomAudienceRuleBuilderCustom.react','WebsiteCustomAudienceRuleBuilderIncludeExclude.react','WebsiteCustomAudienceRuleBuilderSpecificPages.react','WebsiteCustomAudienceRuleBuilderTimeSpent.react','WebsiteCustomAudienceTrafficSelector.react','WebsiteCustomAudienceUneditableRule.react','WebsiteCustomAudienceTrafficType','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react','areEqual','getByPath','emptyFunction'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('WebsiteCustomAudienceModel').Operations,m=c('WebsiteCustomAudienceModel').Rule,n=c('WebsiteCustomAudienceModel').RuleTemplates,o=c('WebsiteCustomAudienceDeviceTypes').getPixelDeviceTypes,p=c('React').PropTypes,q=180,r=3600*24*14;j=babelHelpers.inherits(s,c('React').Component);k=j&&j.prototype;function s(t,u){k.constructor.call(this,t,u);this.$WebsiteCustomAudienceRuleBuilderDialog7=function(){var y=c('React').createElement(c('WebsiteCustomAudienceMetaInfo.react'),{audience:this.state.audience,enableValidation:this.state.enableValidation,onUpdateAudienceFields:this.$WebsiteCustomAudienceRuleBuilderDialog8});if(this.state.audience.isRuleEditable){return (c('React').createElement('div',null,c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_qtd"},c('React').createElement('div',{className:"_5rkp _5rkq"},this.$WebsiteCustomAudienceRuleBuilderDialog9(),c('React').createElement(c('AdsPixelPickerRow.react'),{isPickerDisabled:!!this.props.audience}),this.$WebsiteCustomAudienceRuleBuilderDialog10(),c('React').createElement('div',{className:"_1x0g"}),y,this.state.audienceNotice),!!this.state.errorMessage?c('React').createElement('div',{className:"_4o1o"},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'error'},c('React').createElement('div',{className:"_5wbz"},this.state.errorMessage))):c('React').createElement('span',null))),this.$WebsiteCustomAudienceRuleBuilderDialog11()));}else return c('React').createElement(c('WebsiteCustomAudienceUneditableRule.react'),{audience:this.props.audience,audienceMetaInfo:y,errorMessage:this.state.errorMessage,waitingForServerReponse:this.state.waitingForServerReponse,onAudienceRuleUpdated:this.$WebsiteCustomAudienceRuleBuilderDialog12,onSetNotice:this.$WebsiteCustomAudienceRuleBuilderDialog13,onViewPixelCode:c('AdsPixelAudienceViewActions').gotoViewCode});}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog9=function(){if(!this.state.canUseWCAV3UI)return null;return (c('React').createElement(c('AdsGuidanceStandaloneNuxContainer.react'),{accountID:this.props.accountID,channelName:'AYMTAdsAudienceManagerChannel',nuxName:'aymt_enhanced_website_custom_audience_tip',renderer:new (c('AYMTEnhancedWebsiteCustomAudienceNUXRenderer'))({onClose:this.$WebsiteCustomAudienceRuleBuilderDialog14})}));}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog10=function(){return (c('React').createElement('div',null,c('React').createElement(c('WebsiteCustomAudienceTrafficSelector.react'),{disabled:!!this.props.audience,shouldShowTimeSpent:this.state.canUseTimeSpent,trafficType:this.state.audience.trafficType,onChangeTrafficType:this.$WebsiteCustomAudienceRuleBuilderDialog15}),this.$WebsiteCustomAudienceRuleBuilderDialog16(),this.$WebsiteCustomAudienceRuleBuilderDialog17()));}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog6=function(){if(this.props.embedded)return;var y=i._("Create Audience");if(this.props.audience)y=i._("Edit {Audience Name}",[i.param('Audience Name',this.props.audience.name)]);return (c('React').createElement(c('XUIDialogTitle.react'),null,y));}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog18=function(y){this.setState({termsAccepted:y.target.checked});}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog16=function(){switch(this.state.audience.trafficType){case c('WebsiteCustomAudienceTrafficType').ALL_WEBSITE_VISITORS:return (c('React').createElement(c('WebsiteCustomAudienceRuleBuilderChooseDomain.react'),{domainDataSource:this.$WebsiteCustomAudienceRuleBuilderDialog1,rule:this.state.domainRules[0],shouldShow:this.state.isMultiDomainPixel,onUpdateClauseFields:this.$WebsiteCustomAudienceRuleBuilderDialog21}));case c('WebsiteCustomAudienceTrafficType').SPECIFIC_PAGE_VISITORS:return (c('React').createElement(c('WebsiteCustomAudienceRuleBuilderSpecificPages.react'),{clause:this.state.audience.inclusion_rules[0].clauses[0],showPotentialWarnings:this.state.enableValidation,onUpdateClause:this.$WebsiteCustomAudienceRuleBuilderDialog22}));case c('WebsiteCustomAudienceTrafficType').SPECIFIC_PAGE_VISITORS_WITH_EXCLUSION:return (c('React').createElement(c('WebsiteCustomAudienceRuleBuilderIncludeExclude.react'),{exclusionClause:this.state.audience.exclusion_rules[0].clauses[0],inclusionClause:this.state.audience.inclusion_rules[0].clauses[0],showPotentialWarnings:this.state.enableValidation,onUpdateExclusionClause:this.$WebsiteCustomAudienceRuleBuilderDialog23,onUpdateInclusionClause:this.$WebsiteCustomAudienceRuleBuilderDialog22}));case c('WebsiteCustomAudienceTrafficType').CHURNED_VISITORS:return c('React').createElement(c('WebsiteCustomAudienceRuleBuilderChurners.react'),null);case c('WebsiteCustomAudienceTrafficType').TIME_SPENT:return (c('React').createElement('div',null,c('React').createElement(c('WebsiteCustomAudienceRuleBuilderTimeSpent.react'),{domainDataSource:this.$WebsiteCustomAudienceRuleBuilderDialog1,domainRule:this.state.domainRules[0],isMultiDomainPixel:this.state.isMultiDomainPixel,selectedOption:this.state.selectedPercentile,onUpdateDomain:this.$WebsiteCustomAudienceRuleBuilderDialog21,onUpdatePercentile:this.$WebsiteCustomAudienceRuleBuilderDialog24})));case c('WebsiteCustomAudienceTrafficType').CUSTOM:if(this.state.canUseWCAV3UI)return (c('React').createElement(c('WebsiteCustomAudienceRuleBuilderAdvanced.react'),{advancedMode:this.state.advancedMode,audience:this.state.audience,pixel:this.props.pixel,showPotentialWarnings:this.state.enableValidation,onSwitchMode:this.$WebsiteCustomAudienceRuleBuilderDialog25,onUpdateAudienceFields:this.$WebsiteCustomAudienceRuleBuilderDialog8}));return (c('React').createElement(c('WebsiteCustomAudienceRuleBuilderCustom.react'),{audience:this.state.audience,pixel:this.props.pixel,showPotentialWarnings:this.state.enableValidation,onUpdateAudienceFields:this.$WebsiteCustomAudienceRuleBuilderDialog8}));default:return null;}}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog17=function(){return (c('React').createElement(c('WebsiteCustomAudienceRetention.react'),{duration:this.state.audience.duration,prefill:this.state.prefill,shouldHideDuration:this.$WebsiteCustomAudienceRuleBuilderDialog26(),onChangeDuration:function(y){this.$WebsiteCustomAudienceRuleBuilderDialog8(this.state.audience,{duration:y});}.bind(this),onChangePrefill:this.props.pixel&&!this.props.pixel.last_fired_time||this.props.audience?null:function(y){return this.setState({prefill:y});}.bind(this)}));}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog30=function(y,z){if(!l.validateRule(y))return null;var aa={id:y.id,type:'website',retention_days:this.state.audience.duration,rule:l.serializeRule(y)};if(z)aa.rule_aggregation=l.serializePercentileAggregation(z);return aa;}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog15=function(y){var z=y.value;this.$WebsiteCustomAudienceRuleBuilderDialog8(this.state.audience,{trafficType:z});switch(z){case c('WebsiteCustomAudienceTrafficType').ALL_WEBSITE_VISITORS:c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').WCA_TRAFFIC_SELECTOR_ALL_WEBSITE_VISITORS_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case c('WebsiteCustomAudienceTrafficType').SPECIFIC_PAGE_VISITORS:c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').WCA_TRAFFIC_SELECTOR_SPECIFIC_PAGES_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case c('WebsiteCustomAudienceTrafficType').SPECIFIC_PAGE_VISITORS_WITH_EXCLUSION:c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').WCA_TRAFFIC_SELECTOR_INC_EXC_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case c('WebsiteCustomAudienceTrafficType').CHURNED_VISITORS:c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').WCA_TRAFFIC_SELECTOR_CHURNED_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case c('WebsiteCustomAudienceTrafficType').TIME_SPENT:c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').WCA_TRAFFIC_SELECTOR_TIME_SPENT_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case c('WebsiteCustomAudienceTrafficType').CUSTOM:c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').WCA_TRAFFIC_SELECTOR_CUSTOM_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;}}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog13=function(y){this.setState({audienceNotice:y});}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog25=function(y){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').WCA_ADVANCED_MODE_SWITCH_TOGGLED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.setState({advancedMode:y&&this.state.canUseWCAV3UI});}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog26=function(){return (this.state.advancedMode&&this.state.audience.trafficType===c('WebsiteCustomAudienceTrafficType').CUSTOM);}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog28=function(){this.$WebsiteCustomAudienceRuleBuilderDialog32(this.$WebsiteCustomAudienceRuleBuilderDialog33,c('emptyFunction'));}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog33=function(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_WCA_EDITOR_CREATE_AUDIENCE},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);var y=this.$WebsiteCustomAudienceRuleBuilderDialog31(),z={accountId:this.props.accountID,name:this.state.audience.name,description:this.state.audience.description,inclusions:y.inclusion_rules,prefill:this.state.prefill,creation_params:{combination_type:'website',traffic_type:this.state.audience.trafficType},pixel_id:c('AdsPixelStoreWrapper').getCurrentPixelID(),handleError:function(ca,da){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_WCA_EDITOR_CREATE_FAIL},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.setState({waitingForServerReponse:false,errorMessage:da.error.message});}.bind(this)};if(this.$WebsiteCustomAudienceRuleBuilderDialog26())z.creation_params.device_type=this.state.audience.device;if(y.exclusion_rules.length)z.exclusions=y.exclusion_rules;if(this.props.isTosAccepted){this.props.dao.add.createWebsiteCombinationAudience.one(function(ca){this.props.onAudienceAdded&&this.props.onAudienceAdded(ca.id);c('AdsPixelAudienceViewActions').gotoRequestComplete();c('AdsAudienceRuleBuilderActions').createOrUpdateOldWCA();}.bind(this),z);}else{var aa=c('CustomAudienceTosUtils').getTosRequirements().website_custom_audience,ba={tos_id:aa,accountId:this.props.accountID};this.props.dao.add.acceptCustomAudiencesTos.one(function(ca){c('AdsAMAudienceActions').addAcceptedTOS({web_custom_audience_tos:1});this.props.dao.add.createWebsiteCombinationAudience.one(function(da){this.props.onAudienceAdded&&this.props.onAudienceAdded(da.id);c('AdsPixelAudienceViewActions').gotoRequestComplete();c('AdsAudienceRuleBuilderActions').createOrUpdateOldWCA();}.bind(this),z);}.bind(this),ba);}this.setState({waitingForServerReponse:true,errorMessage:''});}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog27=function(){var y={name:this.state.audience.name,description:this.state.audience.description,retention_days:this.state.audience.duration},z={name:this.props.audience.name,description:this.props.audience.description,retention_days:this.props.audience.retention_days};if(this.props.audience.rule){z.rule=this.props.audience.rule;if(this.state.audience.trafficType===c('WebsiteCustomAudienceTrafficType').TIME_SPENT){var aa=n.getTimeSpentPercentile(this.state.domainRules[0],this.state.selectedPercentile),ba=aa.rule,ca=aa.aggregation;y.rule=l.serializeRule(ba);y.rule_aggregation=l.serializePercentileAggregation(ca);}else if(this.state.audience.trafficType===c('WebsiteCustomAudienceTrafficType').ALL_WEBSITE_VISITORS){if(l.validateRule(this.state.domainRules[0])){y.rule=l.serializeRule(this.state.domainRules[0]);}else y.rule=l.serializeRule(c('WebsiteCustomAudienceModel').RuleTemplates.getAllVisitors());}else{y.rule=l.serializeRule(this.state.audience.inclusion_rules[0]);if(this.$WebsiteCustomAudienceRuleBuilderDialog26()){y.rule_aggregation=l.serializeAggregation(this.state.audience.inclusion_rules[0].aggregation);y.retention_days=this.state.audience.inclusion_rules[0].duration;}}}else{var da=this.$WebsiteCustomAudienceRuleBuilderDialog31();z.inclusions=this.props.audience.included_custom_audiences;z.exclusions=this.props.audience.excluded_custom_audiences;y.inclusions=da.inclusion_rules;y.exclusions=da.exclusion_rules;}this.$WebsiteCustomAudienceRuleBuilderDialog32(function(){return this.$WebsiteCustomAudienceRuleBuilderDialog34(y,z);}.bind(this),function(){return this.$WebsiteCustomAudienceRuleBuilderDialog35(y);}.bind(this));}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog8=function(y,z){var aa=this.$WebsiteCustomAudienceRuleBuilderDialog36();for(var ba in z)if(Object.prototype.hasOwnProperty.call(z,ba))aa[ba]=z[ba];this.setState({audience:aa},this.$WebsiteCustomAudienceRuleBuilderDialog37);}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog37=function(){if(this.props.embedded)this.$WebsiteCustomAudienceRuleBuilderDialog27();}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog22=function(y){var z=this.$WebsiteCustomAudienceRuleBuilderDialog36();z.inclusion_rules.clauses=[y];this.setState({audience:z},this.$WebsiteCustomAudienceRuleBuilderDialog37);}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog23=function(y){var z=this.$WebsiteCustomAudienceRuleBuilderDialog36();z.exclusion_rules.clauses=[y];this.setState({audience:z},this.$WebsiteCustomAudienceRuleBuilderDialog37);}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog21=function(y,z){var aa=this.state.domainRules,ba=l.findRuleClauseInArray(aa,y.key);for(var ca in z)if(Object.prototype.hasOwnProperty.call(z,ca))ba[ca]=z[ca];this.setState({domainRules:aa},this.$WebsiteCustomAudienceRuleBuilderDialog37);}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog24=function(y){this.setState({selectedPercentile:y});}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog36=function(){return Object.assign(new (c('WebsiteCustomAudienceModel').Audience)(),this.state.audience);}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog12=function(y){if(!l.validateRule(y))return;var z=this.$WebsiteCustomAudienceRuleBuilderDialog36();z.isRuleEditable=true;z.inclusion_rules=[y];z.trafficType=c('WebsiteCustomAudienceTrafficType').CUSTOM;this.setState({audience:z});}.bind(this);this.$WebsiteCustomAudienceRuleBuilderDialog5=function(y){if(y&&n.isTimeSpentPercentile(y))return l.deserializePercentileAggregation(y.rule_aggregation);return c('WebsiteCustomAudiencePercentileOptions').TOP_25.value;};this.$WebsiteCustomAudienceRuleBuilderDialog3=function(){if(this.$WebsiteCustomAudienceRuleBuilderDialog1.getHostNumber()>1){this.setState({isMultiDomainPixel:true});c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_WCA_EDITOR_DOMAIN_SELECTOR_SHOWN},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);}else{this.setState({isMultiDomainPixel:false});c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_WCA_EDITOR_DOMAIN_SELECTOR_HIDDEN},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);}}.bind(this);var v=null;if(t.audience){v=this.$WebsiteCustomAudienceRuleBuilderDialog2(t.audience);}else v=new (c('WebsiteCustomAudienceModel').Audience)();var w=c('AdsAccountUtils').hasCapability(c('AdsAccountStoreWrapper_DEPRECATED').getAccount(),c('AdsAccountCapabilities').CAN_USE_WCA_V3_UI),x=c('AdsAccountUtils').hasCapability(c('AdsAccountStoreWrapper_DEPRECATED').getAccount(),c('AdsAccountCapabilities').WCA_TIME_SPENT_PERCENTILE_UI);this.$WebsiteCustomAudienceRuleBuilderDialog1=new (c('AdsPixelHostDataSource'))(this.props.dao,this.props.pixel.id,this.$WebsiteCustomAudienceRuleBuilderDialog3);this.state={prefill:true,audience:v,domainRules:this.$WebsiteCustomAudienceRuleBuilderDialog4(t.audience),errorMessage:'',waitingForServerReponse:false,enableValidation:false,audienceNotice:c('React').createElement('span',null),canUseWCAV3UI:w,advancedMode:w,canUseTimeSpent:x,selectedPercentile:this.$WebsiteCustomAudienceRuleBuilderDialog5(t.audience),isMultiDomainPixel:this.$WebsiteCustomAudienceRuleBuilderDialog1.getHostNumber()>1,termsAccepted:true};}s.prototype.componentWillReceiveProps=function(t){if(this.props.audience&&this.props.audience!=t.audience){var u=this.$WebsiteCustomAudienceRuleBuilderDialog2(t.audience);this.setState({audience:u,waitingForServerReponse:false});}if(this.props.pixel&&this.props.pixel!==t.pixel)this.$WebsiteCustomAudienceRuleBuilderDialog1=new (c('AdsPixelHostDataSource'))(t.dao,t.pixel.id,this.$WebsiteCustomAudienceRuleBuilderDialog3);};s.prototype.render=function(){return c('React').createElement('div',null,this.$WebsiteCustomAudienceRuleBuilderDialog6(),this.$WebsiteCustomAudienceRuleBuilderDialog7());};s.prototype.$WebsiteCustomAudienceRuleBuilderDialog19=function(){var t=this.props,u=t.accountID,v=t.isTosAccepted;if(v)return null;var w=new (c('URI'))(c('AdsOffsiteConversionConstants').pixelTOS).addQueryData({act:u});return c('React').createElement('div',null,c('React').createElement('input',{checked:this.state.termsAccepted,type:'checkbox',onChange:this.$WebsiteCustomAudienceRuleBuilderDialog18}),i._("I agree to the {=Facebook Pixel Terms}",[i.param('=Facebook Pixel Terms',c('React').createElement(c('Link.react'),{href:w,target:'_blank'},i._("Facebook pixel terms")))]));};s.prototype.$WebsiteCustomAudienceRuleBuilderDialog11=function(){if(this.props.embedded)return;var t=this.props.isTosAccepted?c('React').createElement(c('WebRemarketingDialogGear.react'),{learnMoreURL:c('AudienceManagerURLConstants').WCA_CONFIGURE_RULES_DOC,onViewPixelCode:c('AdsPixelAudienceViewActions').gotoViewCode}):this.$WebsiteCustomAudienceRuleBuilderDialog19();return c('React').createElement(c('XUIDialogFooter.react'),{leftContent:t},this.state.waitingForServerReponse?c('React').createElement(c('BUIAdoptionXUISpinner.react'),{background:'light',className:"_5swe",size:'small'}):c('React').createElement('span',null),c('React').createElement(c('XUIDialogCancelButton.react'),{disabled:this.state.waitingForServerReponse}),this.$WebsiteCustomAudienceRuleBuilderDialog20());};s.prototype.$WebsiteCustomAudienceRuleBuilderDialog20=function(){if(this.props.audience){return c('React').createElement(c('XUIDialogButton.react'),{label:i._("Update Audience"),use:'confirm',onClick:this.$WebsiteCustomAudienceRuleBuilderDialog27});}else return c('React').createElement(c('XUIDialogButton.react'),{disabled:this.state.waitingForServerReponse||!this.state.termsAccepted||!this.state.audience.name.length,label:i._("Create Audience"),use:'confirm',onClick:this.$WebsiteCustomAudienceRuleBuilderDialog28});};s.prototype.$WebsiteCustomAudienceRuleBuilderDialog29=function(t,u){var v=this.$WebsiteCustomAudienceRuleBuilderDialog26();if(!u)u=v?t.duration:this.state.audience.duration;var w=v?this.state.audience.device:null;if(w&&o(w)&&!l.validateRule(t))return null;var x=l.serializeRule(t,w),y=v?l.serializeAggregation(t.aggregation):null;if(x)return {id:t.id,type:'website',retention_days:u,rule:x,rule_aggregation:y};};s.prototype.$WebsiteCustomAudienceRuleBuilderDialog31=function(){var t=[],u=[];switch(this.state.audience.trafficType){case c('WebsiteCustomAudienceTrafficType').ALL_WEBSITE_VISITORS:c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_WCA_EDITOR_AUDIENCE_TYPE_ALL_WEBSITE_VISITORS},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);if(l.validateRule(this.state.domainRules[0])){t.push(this.$WebsiteCustomAudienceRuleBuilderDialog29(this.state.domainRules[0]));c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_WCA_EDITOR_AUDIENCE_TYPE_ALL_WEBSITE_VISITORS_WITH_DOMAIN},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);}else t.push(this.$WebsiteCustomAudienceRuleBuilderDialog29(c('WebsiteCustomAudienceModel').RuleTemplates.getAllVisitors()));break;case c('WebsiteCustomAudienceTrafficType').SPECIFIC_PAGE_VISITORS:c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_WCA_EDITOR_AUDIENCE_TYPE_SPECIFIC_PAGES},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);t.push(this.$WebsiteCustomAudienceRuleBuilderDialog29(this.state.audience.inclusion_rules[0]));break;case c('WebsiteCustomAudienceTrafficType').SPECIFIC_PAGE_VISITORS_WITH_EXCLUSION:c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_WCA_EDITOR_AUDIENCE_TYPE_INC_EXC},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);t.push(this.$WebsiteCustomAudienceRuleBuilderDialog29(this.state.audience.inclusion_rules[0]));u.push(this.$WebsiteCustomAudienceRuleBuilderDialog29(this.state.audience.exclusion_rules[0]));break;case c('WebsiteCustomAudienceTrafficType').CHURNED_VISITORS:c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_WCA_EDITOR_AUDIENCE_TYPE_CHURNED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);var v=c('WebsiteCustomAudienceModel').RuleTemplates.getAllVisitors();v.id=c('getByPath')(this.state.audience,['inclusion_rules','0','id']);t.push(this.$WebsiteCustomAudienceRuleBuilderDialog29(v,q));var w=c('WebsiteCustomAudienceModel').RuleTemplates.getAllVisitors();w.id=c('getByPath')(this.state.audience,['exclusion_rules','0','id']);u.push(this.$WebsiteCustomAudienceRuleBuilderDialog29(w));break;case c('WebsiteCustomAudienceTrafficType').TIME_SPENT:c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_WCA_EDITOR_AUDIENCE_TYPE_TIME_SPENT},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);var x=n.getTimeSpentPercentile(this.state.domainRules[0],this.state.selectedPercentile),y=x.rule,z=x.aggregation;t.push(this.$WebsiteCustomAudienceRuleBuilderDialog30(y,z));break;case c('WebsiteCustomAudienceTrafficType').CUSTOM:c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_WCA_EDITOR_AUDIENCE_TYPE_RULES},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);t=this.state.audience.inclusion_rules.map(function(aa){return this.$WebsiteCustomAudienceRuleBuilderDialog29(aa);}.bind(this)).filter(function(aa){return !!aa;});u=this.state.audience.exclusion_rules.map(function(aa){return this.$WebsiteCustomAudienceRuleBuilderDialog29(aa);}.bind(this)).filter(function(aa){return !!aa;});break;}return {inclusion_rules:t,exclusion_rules:u};};s.prototype.$WebsiteCustomAudienceRuleBuilderDialog14=function(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').WCA_ADVANCED_BANNER_NUX_CLOSED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};s.prototype.$WebsiteCustomAudienceRuleBuilderDialog34=function(t,u){if(!c('areEqual')(t,u))this.props.onAudienceUpdated(this.props.audience,t);if(!this.props.embedded)c('AdsAMViewActions').closeWCADialog();};s.prototype.$WebsiteCustomAudienceRuleBuilderDialog35=function(t){this.props.onValidationFail&&this.props.onValidationFail(t);};s.prototype.$WebsiteCustomAudienceRuleBuilderDialog38=function(t,u){var v=this.$WebsiteCustomAudienceRuleBuilderDialog36(),w=l.findRule(v,t.key);for(var x in u)if(Object.prototype.hasOwnProperty.call(u,x))w[x]=u[x];this.setState({audience:v},this.$WebsiteCustomAudienceRuleBuilderDialog37);};s.prototype.$WebsiteCustomAudienceRuleBuilderDialog39=function(t,u){var v=this.$WebsiteCustomAudienceRuleBuilderDialog36(),w=l.findRuleClause(v,t.key);for(var x in u)if(Object.prototype.hasOwnProperty.call(u,x))w[x]=u[x];this.setState({audience:v},this.$WebsiteCustomAudienceRuleBuilderDialog37);};s.prototype.$WebsiteCustomAudienceRuleBuilderDialog2=function(t){var u=new (c('WebsiteCustomAudienceModel').Audience)();u.id=t.id;u.name=t.name;u.description=t.description;u.duration=t.retention_days;var v=JSON.parse(t.data_source.creation_params);if(v.device_type)u.device=v.device_type;if(t.rule){var w=l.deserializeRule(t.rule);if(!w||!l.validateRule(w)){u.isRuleEditable=false;return u;}if(n.isTimeSpentPercentile(t)){u.trafficType=c('WebsiteCustomAudienceTrafficType').TIME_SPENT;return u;}var x=t.rule_aggregation;w=this.$WebsiteCustomAudienceRuleBuilderDialog40(w,x);w.duration=t.retention_days;u.inclusion_rules=[w];if(x||w.event||w.clauses.length>1){u.trafficType=c('WebsiteCustomAudienceTrafficType').CUSTOM;}else if(parseInt(v.traffic_type,10)===1||c('WebsiteCustomAudienceModel').RuleTemplates.isAllVisitors(t.rule)){u.trafficType=c('WebsiteCustomAudienceTrafficType').ALL_WEBSITE_VISITORS;}else u.trafficType=c('WebsiteCustomAudienceTrafficType').SPECIFIC_PAGE_VISITORS;}else if(t.included_custom_audiences){u.trafficType=+v.traffic_type;var y=t.included_custom_audiences,z=t.excluded_custom_audiences||[],aa=[],ba=[];for(var ca=0;ca<y.length;ca++){var da=y[ca];u.duration=da.retention_days;var ea=l.deserializeRule(da.rule);ea=this.$WebsiteCustomAudienceRuleBuilderDialog40(ea,da.rule_aggregation);ea.duration=da.retention_days;ea.id=da.id;aa.push(ea);}for(ca=0;ca<z.length;ca++){var fa=z[ca];ea=l.deserializeRule(fa.rule);ea=this.$WebsiteCustomAudienceRuleBuilderDialog40(ea,fa.rule_aggregation);ea.duration=fa.retention_days;ea.id=fa.id;ba.push(ea);}if(aa.length)u.inclusion_rules=aa;if(ba.length)u.exclusion_rules=ba;if(u.trafficType==c('WebsiteCustomAudienceTrafficType').CHURNED_VISITORS)u.duration=z[0].retention_days;}return u;};s.prototype.$WebsiteCustomAudienceRuleBuilderDialog4=function(t){if(t&&t.rule){var u=l.deserializeRule(t.rule);if(u&&u.clauses&&u.clauses.length>0&&u.clauses[0].tokens){u.clauses[0].tokens=u.clauses[0].tokens.filter(Boolean);return [u];}}return [new m()];};s.prototype.$WebsiteCustomAudienceRuleBuilderDialog40=function(t,u){var v=babelHelpers['extends']({},t);v.aggregation=l.deserializeAggregation(u);var w=l.getAggregationClause(v.aggregation);if(w)if(v.clauses.length===1&&!v.clauses[0].customfield){v.clauses=[w];}else v.clauses.push(w);return v;};s.prototype.$WebsiteCustomAudienceRuleBuilderDialog32=function(t,u){var v=this.$WebsiteCustomAudienceRuleBuilderDialog41();if(!v){this.setState({enableValidation:true});c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_WCA_EDITOR_VALIDATION_FAILURE},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);u();return;}t();};s.prototype.$WebsiteCustomAudienceRuleBuilderDialog41=function(){if(!this.state.audience.name.length)return false;var t=[];switch(this.state.audience.trafficType){case c('WebsiteCustomAudienceTrafficType').SPECIFIC_PAGE_VISITORS:t=[this.state.audience.inclusion_rules[0]];break;case c('WebsiteCustomAudienceTrafficType').SPECIFIC_PAGE_VISITORS_WITH_EXCLUSION:t=[this.state.audience.inclusion_rules[0],this.state.audience.exclusion_rules[0]];break;case c('WebsiteCustomAudienceTrafficType').CUSTOM:if(this.state.audience.exclusion_rules.length>1){t=this.state.audience.inclusion_rules.concat(this.state.audience.exclusion_rules);}else t=this.state.audience.inclusion_rules;}if(t.length)return t.every(function(u){return l.validateRule(u);});return true;};s.propTypes={accountID:p.string.isRequired,audience:p.object,dao:p.object.isRequired,embedded:p.bool,isTosAccepted:p.bool,pixel:p.object,onAudienceAdded:p.func,onAudienceUpdated:p.func,onValidationFail:p.func};f.exports=s;}),null);
__d('WebsiteCustomAudienceOld.react',['fbt','AdsAudienceScenarioLoggerStore','AdsAMCreateAudienceServerActions','AdsAMViewActions','AdsAudienceRuleBuilderActions','AdsCreatePlatformAudienceDialog.react','AudienceManagerLoggingEvents','AdsNewPixelEmailCodeSuccessDialogContent.react','AdsPixelAudienceCreateStore','AdsPixelAudienceViewActions','AdsPixelCreateStore','AdsPixelCreationConfirmationDialogContainer.react','AdsPixelDataManager','AdsPixelDialogTypes','AdsPixelEmailCodeDialogContentContainer.react','AdsPixelEmailInstructionsContainer.react','AdsPixelErrorStore','AdsPixelInstallBaseCodeDialogContainer.react','AdsPixelIntegrationsCMSDialogContainer.react','AdsPixelPickerStore','AdsPixelPickerViewActions','AdsPixelStore','AdsPixelStoreWrapper','AdsPixelViewActions','AdsQEStore','AudienceManagerCustomAudienceLoggerActions','AdsPixelAudienceDialogTypes','FluxMixinLegacy','LayerHideOnEscape','CustomAudienceRuleSignalSource','React','ReactComponentWithPureRenderMixin','ReactLayeredComponentMixin_DEPRECATED','SUIBusinessTheme','SUISpinner.react','WebsiteCustomAudienceConfirmationDialog.react','WebsiteCustomAudienceLoadingDialog.react','WebsiteCustomAudienceNUXContainer.react','WebsiteCustomAudienceRuleBuilderDialog.react','XUIDialog.react','adsGKCheck','getByPath'],(function a(b,c,d,e,f,g,h){'use strict';c('AdsAudienceScenarioLoggerStore');var i=c('CustomAudienceRuleSignalSource').PIXEL,j=c('React').PropTypes,k='basecode-new',l=640,m=c('React').createClass({displayName:'WebsiteCustomAudienceOld',mixins:[c('ReactLayeredComponentMixin_DEPRECATED'),c('ReactComponentWithPureRenderMixin'),c('FluxMixinLegacy')([c('AdsPixelAudienceCreateStore'),c('AdsPixelCreateStore'),c('AdsPixelErrorStore'),c('AdsPixelPickerStore'),c('AdsPixelStore'),c('AdsQEStore')],{withProps:true})],propTypes:{accountID:j.string.isRequired,audience:j.object,dao:j.object.isRequired,embedded:j.bool,isTosAccepted:j.bool.isRequired,pixel:j.object,onAudienceAdded:j.func,onAudienceUpdated:j.func,onBack:j.func,onCancel:j.func},getInitialState:function n(){return {pixelMessage:null};},componentWillMount:function n(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelAudienceDialogTypes').LOADING_PIXEL);if(this.props.pixel){this._setPixel(this.props.pixel);}else c('AdsPixelDataManager').loadPixels();},componentWillReceiveProps:function n(o){if(o.pixel&&c('getByPath')(o.pixel,['id'])!==c('getByPath')(this.state.pixel,['id'])){this._setPixel(o.pixel);return;}if(this.props.accountID!==o.accountID)c('AdsPixelDataManager').loadPixels();},statics:{calculateState:function n(o,p){if(p.audience&&p.audience.id){var q=c('AdsPixelAudienceCreateStore').getAudiencePixelID(p.audience.id);q&&c('AdsPixelPickerViewActions').setPixelID(q);}if(!c('AdsPixelStore').isListLoaded())return {dialogType:c('AdsPixelAudienceDialogTypes').LOADING_PIXEL};if(p&&!p.audience&&o&&!o.setDefaultPixelID){var r=c('AdsPixelStore').getAdAccountOwnPixelIDs(p.accountID);if(r.length>0){c('AdsPixelPickerStore').setCurrentPixelID(r[0]);o.setDefaultPixelID=true;}}var s=c('AdsPixelStoreWrapper').getCurrentPixelID(),t=s?c('AdsPixelStore').getPixelInfo(s):null,u=o?o.setDefaultPixelID:false,v=c('AdsQEStore').get('platform_wca_qe_experiment',p.accountID);return {dialogType:this._getDialogType(p.audience,p.isTosAccepted,t),error:c('AdsPixelErrorStore').getError(),pixel:t,isCreatingPixel:c('AdsPixelCreateStore').getIsWaitingForServerResponse(),platformWCAQE:v,setDefaultPixelID:u};},_getDialogType:function n(o,p,q){if(!p&&!q)return c('AdsPixelAudienceDialogTypes').INTRODUCTION_DIALOG;return c('AdsPixelAudienceCreateStore').getCurrentDialogType();}},render:function n(){if(!this.props.embedded)return null;return this._renderDialogBody();},renderLayers:function n(){return (!this.props.embedded&&{dialog:c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerHideOnEscape:c('LayerHideOnEscape')},layerHideOnBlur:false,shown:true,width:l,onToggle:this._onToggle},this._renderDialogBody())}||{});},_renderDialogBody:function n(){var o=this.state.platformWCAQE;if(o===undefined||o.isLoading())return (c('React').createElement('div',{style:{textAlign:'center'}},c('React').createElement(c('SUISpinner.react'),{size:'large',theme:c('SUIBusinessTheme')})));var p=this._shouldShowNewCreationUI();switch(this.state.dialogType){case c('AdsPixelAudienceDialogTypes').LOADING_PIXEL:if(p){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelAudienceDialogTypes').CREATE_AUDIENCE_DIALOG);return null;}return c('React').createElement(c('WebsiteCustomAudienceLoadingDialog.react'),null);case c('AdsPixelAudienceDialogTypes').INTRODUCTION_DIALOG:return this._getNUXDialog();case c('AdsPixelDialogTypes').CREATE_PIXEL_COMPLETE:return (c('React').createElement(c('AdsPixelCreationConfirmationDialogContainer.react'),{isWCAFlow:true,onCreateAudience:this._onCreateAudience}));case c('AdsPixelDialogTypes').INTEGRATIONS_CMS:return (c('React').createElement(c('AdsPixelIntegrationsCMSDialogContainer.react'),{backButton:null,integrationName:k,pixelID:this.state.pixel.id,onClose:this._onCreateAudience}));case c('AdsPixelDialogTypes').EMAIL_INSTRUCTIONS:return (c('React').createElement(c('AdsPixelEmailInstructionsContainer.react'),{integrationName:k,pixelID:this.state.pixel.id,onClose:this._onToggle}));case c('AdsPixelDialogTypes').EMAIL_CODE_SUCCESS:return (c('React').createElement(c('AdsNewPixelEmailCodeSuccessDialogContent.react'),{onClose:this._onCreateAudience}));case c('AdsPixelDialogTypes').EMAIL_CODE:return (c('React').createElement(c('AdsPixelEmailCodeDialogContentContainer.react'),{pixelID:this.state.pixel.id,onClose:this._onToggle}));case c('AdsPixelDialogTypes').VIEW_CODE:return (c('React').createElement(c('AdsPixelInstallBaseCodeDialogContainer.react'),{pixelID:this.state.pixel.id,onClose:this._onCreateAudience,onCloseLabel:h._("Create Audience")}));case c('AdsPixelAudienceDialogTypes').CREATE_AUDIENCE_DIALOG:if(p)if(!this.props.audience||this.props.audience.rule_v2){var q=this.props.audience?this._onUpdatePlatformAudienceClick:this._onCreatePlatformAudienceClick;if(this.props.audience){c('AdsAudienceRuleBuilderActions').openWCAEditDialog();}else c('AdsAudienceRuleBuilderActions').openWCACreationDialog();return (c('React').createElement(c('AdsCreatePlatformAudienceDialog.react'),{accountID:this.props.accountID,audience:this.props.audience,dao:this.props.dao,isWcaTosAccepted:this.props.isTosAccepted,shouldUseXUIDialogWrapper:false,signalSourceType:i,onAudienceAdded:this.props.onAudienceAdded,onBack:this._onBack,onCancel:this._onToggle,onCreateAudience:q,onFinishCreateAudience:this._onFinishCreateAudience}));}if(this.props.audience){c('AdsAudienceRuleBuilderActions').openOldWCAEditDialog();}else c('AdsAudienceRuleBuilderActions').openOldWCACreationDialog();return (c('React').createElement(c('WebsiteCustomAudienceRuleBuilderDialog.react'),{accountID:this.props.accountID,audience:this.props.audience,dao:this.props.dao,embedded:this.props.embedded,isTosAccepted:this.props.isTosAccepted,pixel:this.state.pixel,onAudienceAdded:this.props.onAudienceAdded,onAudienceUpdated:this.props.onAudienceUpdated}));case c('AdsPixelAudienceDialogTypes').CREATE_AUDIENCE_REQUEST_COMPLETE:return (c('React').createElement(c('WebsiteCustomAudienceConfirmationDialog.react'),{pixel:this.state.pixel}));default:return null;}},_getNUXDialog:function n(){return (c('React').createElement(c('WebsiteCustomAudienceNUXContainer.react'),{isTosAccepted:this.props.isTosAccepted,onClose:this._onToggle,onCreateAudience:this._onCreateAudience}));},_shouldShowNewCreationUI:function n(){if(c('adsGKCheck')('can_account_use_pca_in_wca_ui'))return true;var o=this.state.platformWCAQE;if(o&&o.isDone()){var p=o.getValueEnforcing();p.maybeLogExposure();return p.getParamBool('show_new_ui');}return false;},_setPixel:function n(o){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelAudienceDialogTypes').CREATE_AUDIENCE_DIALOG);c('AdsPixelPickerViewActions').setPixelID(o.id);},_onCreateAudience:function n(){this._setPixel(this.state.pixel);},_onBack:function n(){if(this.props.onBack!==undefined){if(this._shouldShowNewCreationUI()){c('AdsAudienceRuleBuilderActions').createOrUpdateWCAAbandon();}else c('AdsAudienceRuleBuilderActions').createOrUpdateOldWCAAbandon();this.props.onBack&&this.props.onBack();}else this._onToggle();},_onToggle:function n(){if(this.state.dialogType===c('AdsPixelAudienceDialogTypes').CREATE_AUDIENCE_DIALOG)if(this._shouldShowNewCreationUI()){c('AdsAudienceRuleBuilderActions').createOrUpdateWCAAbandon();}else c('AdsAudienceRuleBuilderActions').createOrUpdateOldWCAAbandon();c('AdsAMViewActions').closeWCADialog();c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelAudienceDialogTypes').NO_DIALOG);this.props.onCancel&&this.props.onCancel();},_onCreatePlatformAudienceClick:function n(o,p,q){c('AudienceManagerCustomAudienceLoggerActions').logWithScenarioInfo(c('AudienceManagerLoggingEvents').RULE_BUILDER_CREATE_AUDIENCE_BUTTON_CLICK,{rule:o.rule});c('AdsAMCreateAudienceServerActions').createCustomAudience(o,p,q);},_onFinishCreateAudience:function n(o){c('AudienceManagerCustomAudienceLoggerActions').logWithScenarioInfo(c('AudienceManagerLoggingEvents').RULE_BUILDER_AUDIENCE_CREATED,{audience_id:o});c('AdsAudienceRuleBuilderActions').createOrUpdateWCA();c('AdsPixelAudienceViewActions').gotoRequestComplete();},_onUpdatePlatformAudienceClick:function n(o,p,q){c('AdsAudienceRuleBuilderActions').createOrUpdateWCA();c('AdsAMCreateAudienceServerActions').updateCustomAudience(o,p,q);}});f.exports=m;}),null);
__d('WebsiteCustomAudience.react',['AdsAccountStoreWrapper_DEPRECATED','React','WebsiteCustomAudienceOld.react'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.componentWillMount=function(){c('AdsAccountStoreWrapper_DEPRECATED').setAccountID(this.props.accountID);};k.prototype.render=function(){return c('React').createElement(c('WebsiteCustomAudienceOld.react'),this.props);};function k(){h.apply(this,arguments);}k.propTypes={accountID:j.string.isRequired,audience:j.object,dao:j.object.isRequired,isTosAccepted:j.bool.isRequired,pixel:j.object,onAudienceAdded:j.func,onAudienceUpdated:j.func,onBack:j.func,onCancel:j.func};f.exports=k;}),null);
__d('AdsPixelAudienceDialogContainer.react',['AdsAccountStoreWrapper_DEPRECATED','AdsPixelDataManager','AdsPixelStore','AudienceDaoManager','FluxMixinLegacy','React','WebsiteCustomAudience.react'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'AdsPixelAudienceDialogContainer',mixins:[c('FluxMixinLegacy')([c('AdsPixelStore')],{withProps:true})],statics:{calculateState:function j(k,l){var m=c('AdsAccountStoreWrapper_DEPRECATED').getAccountID();return {isTosAccepted:c('AdsAccountStoreWrapper_DEPRECATED').isTosAccepted(),accountID:m,dao:c('AudienceDaoManager').getPrimedDao(m),pixel:l&&l.pixelID&&c('AdsPixelStore').getPixelInfo(l.pixelID)};}},propTypes:{pixelID:h.string},render:function j(){return (c('React').createElement(c('WebsiteCustomAudience.react'),{accountID:this.state.accountID,dao:this.state.dao,isTosAccepted:this.state.isTosAccepted,pixel:this.state.pixel,onAudienceAdded:this._onAudienceAdded}));},_onAudienceAdded:function j(){this.props.pixelID&&c('AdsPixelDataManager').loadAudiences(this.props.pixelID);}});f.exports=i;}),null);
__d('AdsPixelDialogBootloadConstants',['JSResource'],(function a(b,c,d,e,f,g){'use strict';f.exports={CREATE_CONVERSION:c('JSResource')('AdsPixelConversionCreationDialog.react').__setRef('AdsPixelDialogBootloadConstants'),CREATE_PIXEL:c('JSResource')('AdsPixelCreationDialogContainer.react').__setRef('AdsPixelDialogBootloadConstants'),EMAIL_CODE:c('JSResource')('AdsPixelEmailCodeDialogContentContainer.react').__setRef('AdsPixelDialogBootloadConstants'),EMAIL_INSTRUCTIONS:c('JSResource')('AdsPixelEmailInstructionsContainer.react').__setRef('AdsPixelDialogBootloadConstants'),EMAIL_CODE_SUCCESS:c('JSResource')('AdsPixelEmailCodeSuccessDialogContentContainer.react').__setRef('AdsPixelDialogBootloadConstants'),GOAL_CREATE_STEP_ONE:c('JSResource')('AdsGoalStepOneContainer.react').__setRef('AdsPixelDialogBootloadConstants'),GOAL_CREATE_STEP_TWO:c('JSResource')('AdsGoalStepTwoContent.react').__setRef('AdsPixelDialogBootloadConstants'),GOAL_CREATE_STEP_THREE:c('JSResource')('AdsGoalStepThreeContent.react').__setRef('AdsPixelDialogBootloadConstants'),INLINE_CREATION_NEXT_STEPS:c('JSResource')('AdsPixelInlineCreationSuccess.react').__setRef('AdsPixelDialogBootloadConstants'),INTEGRATIONS_LIST:c('JSResource')('AdsPixelIntegrationsListContainer.react').__setRef('AdsPixelDialogBootloadConstants'),INTEGRATION_REQUEST_SUCCESS:c('JSResource')('AdsPixelIntegrationRequestSuccessModel.react').__setRef('AdsPixelDialogBootloadConstants'),INTEGRATIONS_CMS:c('JSResource')('AdsPixelIntegrationsCMSDialogContainer.react').__setRef('AdsPixelDialogBootloadConstants'),SETUP_CONVERSION:c('JSResource')('AdsPixelAddStandardEventCodeDialogContainer.react').__setRef('AdsPixelDialogBootloadConstants'),SOLUTION_TYPE_SELECTOR:c('JSResource')('AdsPixelSolutionTypeSelector.react').__setRef('AdsPixelDialogBootloadConstants'),VIEW_CODE:c('JSResource')('AdsPixelInstallBaseCodeDialogContainer.react').__setRef('AdsPixelDialogBootloadConstants'),VIEW_EVENT_CODE:c('JSResource')('AdsPixelAddStandardEventCodeDialogContainer.react').__setRef('AdsPixelDialogBootloadConstants')};}),null);
__d('AdsPixelBaseDialogContainer.react',['cx','fbt','AdsAccountStoreWrapper_DEPRECATED','AdsPixelAndAudienceContextUtils','AdsPixelCreateStore','AdsPixelDialogBootloadConstants','AdsPixelDialogStore','AdsPixelDialogTypes','AdsPixelUIEnvironments','AdsPixelViewActions','AdsSelectedAccountIDGetter','BootloadedComponent.react','FluxContainer','FluxStore','LoadingDialog.react','React','SUIBusinessTheme','SUIButton.react','XUIDialog.react','PixelCreationUIConstants'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('React').PropTypes,n=c('PixelCreationUIConstants').DEFAULT_DIALOG_WIDTH,o=c('AdsPixelAndAudienceContextUtils').getContextTypes(),p=c('AdsPixelAndAudienceContextUtils').getDefaultChildContext();j=babelHelpers.inherits(q,l);k=j&&j.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.$AdsPixelBaseDialogContainer3=function(){this.$AdsPixelBaseDialogContainer1&&this.setState({width:n});c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').NO_DIALOG);}.bind(this),this.$AdsPixelBaseDialogContainer4=function(w){this.$AdsPixelBaseDialogContainer1&&this.setState({width:w});}.bind(this),this.$AdsPixelBaseDialogContainer7=function(){if(this.refs.dialog)this.refs.dialog.layer.updatePosition();}.bind(this),s;}q.getStores=function(){return [c('AdsPixelCreateStore'),c('AdsPixelDialogStore')];};q.calculateState=function(r,s){var t=c('AdsAccountStoreWrapper_DEPRECATED').getEnvironment(),u=t===c('AdsPixelUIEnvironments').LWI?c('AdsAccountStoreWrapper_DEPRECATED').getAccountID():c('AdsSelectedAccountIDGetter').get({}),v=c('AdsPixelDialogStore').getCurrentIntegraionName(),w=c('AdsPixelDialogStore').getCurrentDialogType(),x=c('AdsPixelCreateStore').getCreatedPixelID()||s.pixelID,y=c('AdsPixelDialogStore').getPreviousDialogTitle(),z=c('AdsPixelDialogStore').getPreviousDialogType(),aa=r&&r.width||n;return {accountID:u,currentIntegration:v,dialogType:w,pixelID:x,prevDialogTitle:y,prevDialogType:z,width:aa};};q.prototype.componentDidMount=function(){this.$AdsPixelBaseDialogContainer1=true;};q.prototype.componentWillUnmount=function(){this.$AdsPixelBaseDialogContainer1=false;};q.prototype.$AdsPixelBaseDialogContainer2=function(){c('AdsPixelViewActions').onDialogBack();};q.prototype.render=function(){var r=this.state,s=r.dialogType,t=r.width;return s!==c('AdsPixelDialogTypes').NO_DIALOG?c('React').createElement(c('XUIDialog.react'),{className:"_g32",key:'dialog',layerHideOnBlur:true,ref:'dialog',shown:true,width:t,onToggle:this.$AdsPixelBaseDialogContainer3},this.$AdsPixelBaseDialogContainer5()):null;};q.prototype.$AdsPixelBaseDialogContainer5=function(){var r=this.state,s=r.currentIntegration,t=r.dialogType,u=r.pixelID,v=r.prevDialogTitle;return c('React').createElement(c('BootloadedComponent.react'),{accountID:this.state.accountID,backButton:this.$AdsPixelBaseDialogContainer6(),bootloadLoader:c('AdsPixelDialogBootloadConstants')[t],bootloadPlaceholder:c('React').createElement(c('LoadingDialog.react'),{behaviors:{LayerHideOnBlur:false}}),integrationName:s,key:t,pixelID:u,prevDialogTitle:v,setWidth:this.$AdsPixelBaseDialogContainer4,onClose:this.$AdsPixelBaseDialogContainer3,onComponentLoad:this.$AdsPixelBaseDialogContainer7});};q.prototype.$AdsPixelBaseDialogContainer6=function(){var r=this.state.prevDialogType;return r!==c('AdsPixelDialogTypes').NO_DIALOG?c('React').createElement(c('SUIButton.react'),{label:i._("Back"),theme:c('SUIBusinessTheme'),use:'default',onClick:this.$AdsPixelBaseDialogContainer2}):null;};q.prototype.$AdsPixelBaseDialogContainer8=function(r){if(r in c('AdsPixelDialogTypes'))c('AdsPixelViewActions').dialogTypeChange(r);};q.prototype.getChildContext=function(){return babelHelpers['extends']({},p,{heightChanged:this.$AdsPixelBaseDialogContainer7});};q.childContextTypes=babelHelpers['extends']({},o,{heightChanged:m.func});f.exports=c('FluxContainer').create(q,{withProps:true});}),null);
__d('SignalsNextStepsSelector.react',['cx','Image.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;function l(){j.constructor.call(this);this.state={selectedOption:null};}l.prototype.render=function(){var m=this.props.options.map(function(n){var o=this.state.selectedOption,p=function(){this.setState({selectedOption:null});}.bind(this),q=function(){this.setState({selectedOption:n.id});}.bind(this),r=function(){this.props.onOptionSelect(n.id);}.bind(this),s=c('joinClasses')("_1spg"+(o==n.id?' '+"_c9r":''),n.className);return (c('React').createElement('div',{className:s,key:n.id,role:'button',tabIndex:'0',onClick:r,onMouseDown:q,onMouseUp:p},c('React').createElement('div',{className:"_1spi"},c('React').createElement(c('Image.react'),{src:n.iconURL})),c('React').createElement('div',{className:"_1spj"},c('React').createElement('div',{className:"_1spk"},n.title),c('React').createElement('div',{className:"_1spl"},n.description))));}.bind(this));return (c('React').createElement('div',{className:"_1spm"},m));};f.exports=l;}),null);
__d('AdsPixelConversionCreationDialog.react',['cx','fbt','AdsPixelCreationConstants','BUIAdoptionXUIGrayText.react','SignalsNextStepsSelector.react','AdsPixelDialogTypes','AdsPixelHelpCenter','AdsPixelViewActions','Link.react','React','XUIDialogBody.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=c('AdsPixelCreationConstants').CUSTOM_CONVERSION,n=c('AdsPixelCreationConstants').STANDARD_EVENTS;j=babelHelpers.inherits(o,c('React').PureComponent);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$AdsPixelConversionCreationDialog1=function(){return (c('React').createElement(c('XUIDialogTitle.react'),null,i._("Set up conversion tracking")));},this.$AdsPixelConversionCreationDialog2=function(){return (c('React').createElement(c('XUIDialogBody.react'),{className:"__zn"},c('React').createElement('div',{className:"__zo"},c('React').createElement('div',{className:"_3-95"},this.$AdsPixelConversionCreationDialog3()),this.$AdsPixelConversionCreationDialog4()),c('React').createElement('div',{className:"__zp"},this.$AdsPixelConversionCreationDialog5())));}.bind(this),this.$AdsPixelConversionCreationDialog5=function(){var u=[{id:n.key,title:n.title,description:this.$AdsPixelConversionCreationDialog6(),iconURL:n.image},{id:m.key,title:m.title,description:this.$AdsPixelConversionCreationDialog7(),iconURL:m.image}];return (c('React').createElement(c('SignalsNextStepsSelector.react'),{options:u,onOptionSelect:this.$AdsPixelConversionCreationDialog8}));}.bind(this),this.$AdsPixelConversionCreationDialog8=function(u){var v=u==m.key?this.$AdsPixelConversionCreationDialog9:this.$AdsPixelConversionCreationDialog10;v();}.bind(this),this.$AdsPixelConversionCreationDialog3=function(){return (c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},i._("Choose a tracking method")));},this.$AdsPixelConversionCreationDialog4=function(){return (c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light',size:'small'},i._("You can use the Facebook pixel to track valuable actions that people take on your website and optimise your adverts for those actions.")));},this.$AdsPixelConversionCreationDialog7=function(){return i._("{custom conversion message} {link to learn more}",[i.param('custom conversion message',m.message),i.param('link to learn more',this.$AdsPixelConversionCreationDialog11(c('AdsPixelHelpCenter').CUSTOM_CONVERSIONS.uri))]);}.bind(this),this.$AdsPixelConversionCreationDialog12=function(u){u.stopPropagation();},this.$AdsPixelConversionCreationDialog6=function(){return i._("{standard events message} {link to learn more}",[i.param('standard events message',n.message),i.param('link to learn more',this.$AdsPixelConversionCreationDialog11(c('AdsPixelHelpCenter').STANDARD_EVENTS.uri))]);}.bind(this),this.$AdsPixelConversionCreationDialog11=function(u){return (c('React').createElement(c('Link.react'),{href:u,target:'_blank',onClick:this.$AdsPixelConversionCreationDialog12},i._("Learn more.")));}.bind(this),q;}o.prototype.render=function(){return c('React').createElement('div',null,this.$AdsPixelConversionCreationDialog1(),this.$AdsPixelConversionCreationDialog2());};o.prototype.$AdsPixelConversionCreationDialog9=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').GOAL_CREATE_STEP_ONE);};o.prototype.$AdsPixelConversionCreationDialog10=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').SETUP_CONVERSION);};o.propTypes={onClose:l.func.isRequired};f.exports=o;}),null);
__d('AdsPixelCreationNextSteps.react',['cx','fbt','AdsPixelCreationConstants','BUIAdoptionXUIGrayText.react','SignalsNextStepsSelector.react','AdsPixelDialogTypes','AdsPixelHelpCenter','AdsPixelPickerViewActions','AdsPixelViewActions','Link.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=c('AdsPixelCreationConstants').CUSTOM_AUDIENCE,n=c('AdsPixelCreationConstants').CUSTOM_CONVERSION;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$AdsPixelCreationNextSteps3=function(){var u=this.$AdsPixelCreationNextSteps4(),v=[];if(u)v.push({id:n.key,title:n.title,description:this.$AdsPixelCreationNextSteps5(),iconURL:n.image});v.push({id:m.key,title:m.title,description:m.message,iconURL:m.image});return (c('React').createElement(c('SignalsNextStepsSelector.react'),{options:v,onOptionSelect:this.$AdsPixelCreationNextSteps6}));}.bind(this),this.$AdsPixelCreationNextSteps6=function(u){var v=u==n.key?this.$AdsPixelCreationNextSteps7:this.$AdsPixelCreationNextSteps8;v();}.bind(this),this.$AdsPixelCreationNextSteps5=function(){return i._("{custom conversion message} {link to learn more}",[i.param('custom conversion message',n.message),i.param('link to learn more',c('React').createElement(c('Link.react'),{href:c('AdsPixelHelpCenter').CUSTOM_CONVERSIONS.uri,target:'_blank',onClick:this.$AdsPixelCreationNextSteps9},i._("Learn more.")))]);}.bind(this),this.$AdsPixelCreationNextSteps9=function(u){u.stopPropagation();},this.$AdsPixelCreationNextSteps7=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').GOAL_CREATE_STEP_ONE);},this.$AdsPixelCreationNextSteps8=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').AUDIENCE);c('AdsPixelPickerViewActions').disablePixelPicker();},this.$AdsPixelCreationNextSteps1=function(){return (c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},i._("Next steps")));},this.$AdsPixelCreationNextSteps2=function(){if(this.$AdsPixelCreationNextSteps4())return (c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light',size:'small'},i._("Set up conversions and audiences now and they'll automatically work when you install the pixel code on your site.")));return (c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light',size:'small'},i._("Set up audiences now and they'll automatically work when you install the pixel code on your site.")));}.bind(this),this.$AdsPixelCreationNextSteps4=function(){return this.props.showCreateConversion;}.bind(this),q;}o.prototype.render=function(){return c('React').createElement('div',null,c('React').createElement('div',{className:"_3ivx"},c('React').createElement('div',{className:"_3-95"},this.$AdsPixelCreationNextSteps1()),this.$AdsPixelCreationNextSteps2()),c('React').createElement('div',{className:"_3ivz"},this.$AdsPixelCreationNextSteps3()));};o.propTypes={showCreateConversion:l.bool.isRequired};f.exports=o;}),null);
__d('AdsPixelCreateNextStepsDialog.react',['cx','fbt','AdsCustomConversionsUtil','AdsGoalStore','AdsPixelCreationNextSteps.react','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AdsPixelCreateNextStepsDialog1=function(){return (c('React').createElement(c('XUIDialogTitle.react'),null,i._("View pixel code")));},this.$AdsPixelCreateNextStepsDialog2=function(){var s=c('AdsGoalStore').getGoalListLength(),t=!c('AdsCustomConversionsUtil').getShouldDisableCreation(s);return (c('React').createElement('div',{className:"_2897"},c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement(c('AdsPixelCreationNextSteps.react'),{showCreateConversion:t}))));},this.$AdsPixelCreateNextStepsDialog3=function(){return (c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:i._("Done"),use:'confirm',onClick:this.props.onClose})));}.bind(this),o;}m.prototype.render=function(){return c('React').createElement('div',null,this.$AdsPixelCreateNextStepsDialog1(),this.$AdsPixelCreateNextStepsDialog2(),this.$AdsPixelCreateNextStepsDialog3());};m.propTypes={onClose:l.func.isRequired};f.exports=m;}),null);
__d('AdsPixelCreationDialogContainer.react',['AdsAccountStoreWrapper_DEPRECATED','AdsFluxContainer','AdsPixelCampaignStore','AdsPixelCreateStore','AdsPixelDialogStore','AdsPixelCreationDialogV2.react','AdsPixelErrorStore','AdsPixelNameUtil','AdsPixelStore','AdsPixelUIEnvironments','AdsSelectedAccountIDGetter','FluxStore','React','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.getStores=function(){return [c('AdsPixelCampaignStore'),c('AdsPixelCreateStore'),c('AdsPixelDialogStore'),c('AdsPixelErrorStore'),c('AdsPixelStore')];};k.calculateState=function(){var l=c('AdsAccountStoreWrapper_DEPRECATED').getEnvironment(),m=l===c('AdsPixelUIEnvironments').LWI?c('nullthrows')(c('AdsAccountStoreWrapper_DEPRECATED').getAccountID()):c('nullthrows')(c('AdsSelectedAccountIDGetter').get({})),n=c('AdsAccountStoreWrapper_DEPRECATED').isTosAccepted();return {accountID:m,campaignID:c('AdsPixelCampaignStore').getCampaignID(),createdPixelID:c('AdsPixelCreateStore').getCreatedPixelID(),createdPixelName:c('AdsPixelCreateStore').getCreatedPixelName(),defaultPixelName:c('AdsPixelNameUtil').getPixelDefaultName(),hasPixels:c('AdsPixelStore').hasPixels(),isInlineFlow:c('AdsPixelDialogStore').getIsInlineFlow(),isPixelAttached:c('AdsPixelCampaignStore').getPixelAttached(),isPixelCreated:c('AdsPixelCreateStore').getIsPixelCreated(),isTosAccepted:n,error:c('AdsPixelErrorStore').getError(),waitingForServerResponse:c('AdsPixelCreateStore').getIsWaitingForServerResponse()};};k.prototype.render=function(){return (c('React').createElement(c('AdsPixelCreationDialogV2.react'),babelHelpers['extends']({},this.state,{setWidth:this.props.setWidth,onClose:this.props.onClose})));};function k(){h.apply(this,arguments);}f.exports=c('AdsFluxContainer').create(k);}),null);
__d('AdsPixelCommonDialog.react',['cx','fbt','ix','BUIAdoptionXUIGrayText.react','Image.react','Layout.react','React','XUIDialogTitle.react','XUIDialogBody.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('Layout.react').Column,n=c('Layout.react').FillColumn,o=c('React').PropTypes,p=j("23256");k=babelHelpers.inherits(q,c('React').Component);l=k&&k.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.$AdsPixelCommonDialog1=function(){return (c('React').createElement(c('Layout.react'),null,c('React').createElement(m,null,c('React').createElement(c('Image.react'),{className:"_4vvw",src:p})),c('React').createElement(n,null,c('React').createElement('div',{className:"_3-9c"},c('React').createElement('div',{className:'ellipsis','data-hover':'tooltip','data-tooltip-display':'overflow'},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'large',weight:'bold'},this.props.pixelName)),this.$AdsPixelCommonDialog2()))));}.bind(this),this.$AdsPixelCommonDialog2=function(){return (c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_4vvx",display:'block',shade:'light',size:'small'},i._("Pixel ID: {pixel id}",[i.param('pixel id',this.props.pixelID)])));}.bind(this),s;}q.prototype.render=function(){return c('React').createElement('div',null,c('React').createElement(c('XUIDialogTitle.react'),null,this.props.title),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_4vvv"},this.$AdsPixelCommonDialog1(),this.props.children)),this.props.footer);};q.propTypes={pixelID:o.string.isRequired,pixelName:o.string.isRequired,title:o.any.isRequired,footer:o.element.isRequired};f.exports=q;}),null);
__d('EditPixelDialogContent.react',['cx','fbt','AdsClearableTextInput.react','AdsPixelCommonDialog.react','BUIAdoptionXUIGrayText.react','Layout.react','React','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column,m=c('Layout.react').FillColumn,n=c('React').PropTypes;j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={newPixelName:this.props.pixelName,error:false},this.$EditPixelDialogContent2=function(){return i._("Edit pixel");},this.$EditPixelDialogContent3=function(){return (c('React').createElement('div',null,this.$EditPixelDialogContent4(),this.$EditPixelDialogContent5()));}.bind(this),this.$EditPixelDialogContent4=function(){return (c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-8-",display:'block',shade:'dark'},i._("There is only one pixel per advert account, so choose a name that represents your business.")));},this.$EditPixelDialogContent5=function(){var u=i._("Enter a name for your pixel"),v=i._("Pixel name");return (c('React').createElement(c('Layout.react'),{className:"_3-8z"},c('React').createElement(l,null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_nu6",customSizeUseSparingly:'13px',display:'block',shade:'light'},v)),c('React').createElement(m,null,c('React').createElement('div',{className:this.state.error?"_5fwf":''},c('React').createElement(c('AdsClearableTextInput.react'),{defaultValue:this.state.newPixelName,height:'tall',placeholder:u,onChange:function(w){this.setState({newPixelName:w||'',error:false});}.bind(this)})))));}.bind(this),this.$EditPixelDialogContent1=function(){return (c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),null),c('React').createElement(c('XUIDialogButton.react'),{disabled:this.state.newPixelName.length===0||this.state.error,label:i._("Done"),use:'confirm',onClick:this.$EditPixelDialogContent6})));}.bind(this),this.$EditPixelDialogContent6=function(){this.props.onEditPixel(this.state.newPixelName,this.$EditPixelDialogContent7);}.bind(this),this.$EditPixelDialogContent7=function(){this.setState({error:true});}.bind(this),q;}o.prototype.render=function(){return c('React').createElement(c('AdsPixelCommonDialog.react'),{footer:this.$EditPixelDialogContent1(),pixelID:this.props.pixelID,pixelName:this.props.pixelName,title:this.$EditPixelDialogContent2()},this.$EditPixelDialogContent3());};o.propTypes={pixelID:n.string.isRequired,pixelName:n.string.isRequired,onEditPixel:n.func.isRequired};f.exports=o;}),null);
__d('AdsPixelEditDialogContentContainer.react',['AdsPixelDialogTypes','AdsPixelDataManager','AdsPixelStore','AdsPixelViewActions','EditPixelDialogContent.react','FluxMixinLegacy','React','ReactComponentWithPureRenderMixin'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'AdsPixelEditDialogContentContainer',mixins:[c('ReactComponentWithPureRenderMixin'),c('FluxMixinLegacy')([c('AdsPixelStore')],{withProps:true})],propTypes:{pixelID:h.string.isRequired},statics:{calculateState:function j(k,l){return {pixelName:c('AdsPixelStore').getName(l.pixelID)};}},render:function j(){return (c('React').createElement(c('EditPixelDialogContent.react'),{pixelID:this.props.pixelID,pixelName:this.state.pixelName,onEditPixel:this._onEditPixel}));},_onEditPixel:function j(k,l){if(k===this.state.pixelName){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').NO_DIALOG);return;}c('AdsPixelDataManager').editPixel(this.props.pixelID,{name:k},function(m){if(m.success){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').NO_DIALOG);return;}l&&l();});}});f.exports=i;}),null);
__d('AdsPixelEmailCodeSuccessDialogContentContainer.react',['AdsCustomConversionsUtil','AdsFluxContainer','AdsGoalStore','AdsNewPixelEmailCodeSuccessDialogContent.react','AdsPixelCreateStore','AdsSelectedAccountIDGetter','FluxStore','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.getStores=function(){return [c('AdsGoalStore'),c('AdsPixelCreateStore')];};k.calculateState=function(l){var m=c('AdsSelectedAccountIDGetter').get({}),n=c('AdsPixelCreateStore').getIsPixelNUX(),o=false;if(m)o=!c('AdsCustomConversionsUtil').getShouldDisableCreation(c('AdsGoalStore').getGoalListLength());return {accountID:m,showCreateConversionItem:o,shouldShowNextStep:n};};k.prototype.render=function(){return (c('React').createElement(c('AdsNewPixelEmailCodeSuccessDialogContent.react'),{onClose:this.props.onClose}));};function k(){h.apply(this,arguments);}f.exports=c('AdsFluxContainer').create(k);}),null);
__d('AdsPixelGTMDefaults',['ix','fbt','immutable'],(function a(b,c,d,e,f,g,h,i){'use strict';f.exports={GOOGLE_API_CONSTANTS:{key:'AIzaSyA86r1yNMQyQRTCfBR7HE4yS82xBzvxhdM',client_id:'317458656164-8mu8gsmbd7q4nu8kb3gs4ib41gv194m9.apps.googleusercontent.com',scopes:'https://www.googleapis.com/auth/tagmanager.edit.containers '+'https://www.googleapis.com/auth/tagmanager.publish '+'https://www.googleapis.com/auth/tagmanager.edit.containerversions'},DEFAULT_TAG:{event:'PageView',name:'Pixel Base Code',fire:'Once Per Page',trigger:'All Pages',status:'Draft',edited:'Just Now',keys:Array(5),vals:Array(5)},ACCOUNT_URI:'https://support.google.com/tagmanager/answer/6103696?hl=en#CreatingAnAccount',PIXEL_URI:'https://www.facebook.com/business/help/402791146561655',ADS_MAN_URI:'https://www.facebook.com/ads/manager/pixel',DEFAULT_EDIT:undefined,SUCCESS:'Success',AGENT:'tmgoogletagmanager',ERROR_STATUS:'',TAG_ERROR_STATUS:'',DEFAULT_ACCOUNT:{name:'fb_def',accountId:'-',containers:new (c('immutable').List)()},WARNING_ICON_URL:h("23688"),DEFAULT_TRIGGER:{name:'All Pages',triggerId:'2147479553'},OPTIONS:['ViewContent','Search','AddToCart','AddToWishlist','InitiateCheckout','AddPaymentInfo','Purchase','Lead','CompleteRegistration','PageView'],DEFAULT_EVENT:'Choose an Event',EVENT_DESC:i._("Events are actions that happen on your website. Facebook pixel offers 9 standard events useful for tracking website conversions and building audiences"),FIRE_OPT_DESC:i._("Select how often a tag fires."),PARAM_DESC:i._("Variables are optional for Facebook pixel implementation. Based on your Google Tag Manager implementation, variables may not be available for this event."),TRIGGER_DESC:i._("Triggers are the conditions that determine when a tag fires. You must select at least one trigger per tag."),EVENT_DESC_LINK:'https://developers.facebook.com/docs/facebook-pixel/api-reference#events',FIRE_OPT_DESC_LINK:'https://support.google.com/tagmanager/answer/6106899?hl=en',PARAM_DESC_LINK:'https://support.google.com/tagmanager/answer/6279951?hl=en',TRIGGER_DESC_LINK:'https://support.google.com/tagmanager/answer/6106961?hl=en',DEFAULT_FIRE:'Choose a Firing Option',DEFAULT_NAME:'',DEFAULT_TRIGGER_NAME:'Choose a Trigger',DEFAULT_STATUS:'',EVENT_KEY:10,FIRE_KEY:20,PARAM_KEY:30,TRIGGER_KEY:30,PARAM_KEY_OPTIONS:['content_ids','value','origin'],firing_opt_select:['Once Per Page','Once Per Event']};}),null);
__d('AdsPixelGTMAccount',['immutable','AdsPixelGTMDefaults'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('immutable').Record(c('AdsPixelGTMDefaults').DEFAULT_ACCOUNT));i=h&&h.prototype;function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('AdsPixelGTMActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({CREATE_NEW_TAG:'',CREATE_TAG_VAL:'',DELETE_TAG:'',EDIT_TAG:'',EDITED_TAG:'',ERROR:'',FETCHED_ALL_ACCOUNTS:'',FETCHED_ALL_CONTAINERS:'',FETCHED_ALL_TAGS:'',FETCHED_TRIGGERS:'',FETCHED_VARIABLES:'',PUBLISH_ADD:'',PUBLISH_SET:'',SELECTED_ACCOUNT:'',SELECTED_CONTAINER:'',SET_EDIT_TAG_CONFIG:'',SET_TAG_CONFIG:'',TAG_ERROR:'',TOGGLE_INDEX:'',SELECTED_CONTAINTER_WITH_SAVED_TAGS:''});f.exports=h;}),null);
__d('AdsPixelGTMTagCreatorConfig',['AdsPixelGTMDefaults','immutable'],(function a(b,c,d,e,f,g){var h,i,j=c('immutable').Record;'use strict';var k={tagName:c('AdsPixelGTMDefaults').DEFAULT_NAME,eventName:null,paramKeys:Array(5),paramVals:Array(5),paramKeyOptions:c('AdsPixelGTMDefaults').PARAM_KEY_OPTIONS,paramValOptions:[],firingOption:'Once Per Page',firingTrigger:'All Pages',numParam:1};h=babelHelpers.inherits(l,j(k));i=h&&h.prototype;l.create=function(m,n){'use strict';if(n){return new l().set('tagName',n.name).set('eventName',n.event).set('paramKeys',n.keys).set('paramVals',n.vals).set('paramValOptions',m).set('firingOption',n.fire).set('firingTrigger',n.trigger).set('numParam',l.$AdsPixelGTMTagCreatorConfig1(n.keys));}else return new l().set('paramValOptions',m);};l.$AdsPixelGTMTagCreatorConfig1=function(m){'use strict';var n=m.filter(function(o){return o!==undefined;}).length;return n>0?n:1;};l.prototype.isSaveable=function(){'use strict';return this.tagName!==c('AdsPixelGTMDefaults').DEFAULT_NAME&&this.eventName!=null&&this.firingOption!=null&&this.firingTrigger!=null;};l.prototype.getTag=function(){'use strict';return {name:this.tagName,trigger:this.firingTrigger||c('AdsPixelGTMDefaults').DEFAULT_TRIGGER_NAME,event:this.eventName||c('AdsPixelGTMDefaults').DEFAULT_EVENT,fire:this.firingOption||c('AdsPixelGTMDefaults').DEFAULT_FIRE,keys:this.paramKeys,vals:this.paramVals,status:'Draft'};};function l(){'use strict';h.apply(this,arguments);}f.exports=l;}),null);
__d("XEntGTMTagCreateOrUpdateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ads\/pixel\/gtm_install\/create_or_update_tag\/",{account_id:{type:"String",required:true},container_id:{type:"String",required:true},tag_name:{type:"String",required:true},event_name:{type:"String"},param_keys:{type:"String"},param_vals:{type:"String"},action:{type:"String",required:true},firing_option:{type:"String"},firing_trigger:{type:"String"},status:{type:"String"}});}),null);
__d('FBPixelEntGTMUpdateUtils',['XEntGTMTagCreateOrUpdateController','AsyncRequest'],(function a(b,c,d,e,f,g){'use strict';function h(j,k,l,m,n,o,p,q,r,s){var t=c('XEntGTMTagCreateOrUpdateController').getURIBuilder().setString('account_id',j).setString('container_id',k).setString('action',l).setString('event_name',n).setString('param_keys',o).setString('param_vals',p).setString('tag_name',m).setString('firing_option',q).setString('firing_trigger',r).setString('status',s).getURI();new (c('AsyncRequest'))().setURI(t).setHandler().send();}var i={updateEntGTMTagconfig:h};f.exports=i;}),null);
__d('AdsPixelGTMStore',['invariant','AdsPixelGTMAccount','AdsDispatcher','AdsPixelGTMTagCreatorConfig','AdsPixelGTMActionTypes','AsyncResponse','FBPixelEntGTMUpdateUtils','AdsPixelGTMDefaults','FluxReduceStore','immutable'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l,m=c('immutable').Record,n={accounts:[],createTag:false,curIndex:0,editTag:c('AdsPixelGTMDefaults').DEFAULT_EDIT,selectedAccount:new (c('AdsPixelGTMAccount'))(),selectedContainer:{},tagConfig:new (c('AdsPixelGTMTagCreatorConfig'))(),editConfig:new (c('AdsPixelGTMTagCreatorConfig'))(),publishStatus:c('AdsPixelGTMDefaults').DEFAULT_STATUS,checkBoxes:c('immutable').List(Array(50).fill(true)),errorStatus:c('AdsPixelGTMDefaults').ERROR_STATUS,tagErrorStatus:c('AdsPixelGTMDefaults').TAG_ERROR_STATUS,tagsFetched:c('immutable').Map()};i=babelHelpers.inherits(o,m(n));j=i&&i.prototype;function o(){i.apply(this,arguments);}k=babelHelpers.inherits(p,c('FluxReduceStore'));l=k&&k.prototype;function p(){l.constructor.call(this,c('AdsDispatcher'));}p.prototype.getInitialState=function(){return new o();};p.prototype.reduce=function(q,r){var s=r.action;switch(s.type){case c('AdsPixelGTMActionTypes').FETCHED_ALL_ACCOUNTS:return q.set('accounts',s.accounts.map(this.$AdsPixelGTMStore1));case c('AdsPixelGTMActionTypes').SELECTED_ACCOUNT:q.set('selectedContainer',{});return q.set('selectedAccount',s.account);case c('AdsPixelGTMActionTypes').FETCHED_ALL_CONTAINERS:var t=s.containers.map(this.$AdsPixelGTMStore2),u=q.selectedAccount.containers.concat(t);return q.set('selectedAccount',new (c('AdsPixelGTMAccount'))({containers:u,name:q.selectedAccount.name,accountId:q.selectedAccount.accountId}));case c('AdsPixelGTMActionTypes').SELECTED_CONTAINER:return q.set('selectedContainer',s.container);case c('AdsPixelGTMActionTypes').SELECTED_CONTAINTER_WITH_SAVED_TAGS:var v=q.selectedContainer.containerId;if(!q.tagsFetched.get(v)||q.selectedContainer.tags.length===0){var w=this.$AdsPixelGTMStore3(s.feedback.response);w.forEach(function(la){q.selectedContainer.tags.push(la);});q.selectedContainer.tags||h(0);var x=q.selectedContainer.tags.findIndex(function(la){return la.name==='Pixel Base Code';}),y=q.selectedContainer.tags[x];q.selectedContainer.tags.splice(x,1);q.selectedContainer.tags.unshift(y);q=q.set('tagsFetched',q.tagsFetched.set(v,true));}return q.set('tagConfig',c('AdsPixelGTMTagCreatorConfig').create(q.selectedContainer.variables));case c('AdsPixelGTMActionTypes').FETCHED_VARIABLES:var z=q.selectedContainer;z.variables=s.variables.map(this.$AdsPixelGTMStore4);q=q.set('tagConfig',c('AdsPixelGTMTagCreatorConfig').create(z.variables));return q.set('selectedContainer',z);case c('AdsPixelGTMActionTypes').FETCHED_TRIGGERS:var aa=this.$AdsPixelGTMStore5(q,s.triggers);return q.set('selectedContainer',aa);case c('AdsPixelGTMActionTypes').CREATE_NEW_TAG:var ba=q.selectedContainer,ca=this.$AdsPixelGTMStore6(s.tag.keys),da=this.$AdsPixelGTMStore6(s.tag.vals);c('FBPixelEntGTMUpdateUtils').updateEntGTMTagconfig(ba.accountId,ba.containerId,'Create',s.tag.name,s.tag.event,ca.join(),da.join(),s.tag.fire,s.tag.trigger,s.tag.status);ba.tags.push(s.tag);q=q.set('tagConfig',c('AdsPixelGTMTagCreatorConfig').create(ba.variables));return q.set('createTag',false);case c('AdsPixelGTMActionTypes').EDITED_TAG:if(s.tag){var ea=q.selectedContainer;ea.tags[q.curIndex]=s.tag;var fa=this.$AdsPixelGTMStore6(s.tag.keys),ga=this.$AdsPixelGTMStore6(s.tag.vals);c('FBPixelEntGTMUpdateUtils').updateEntGTMTagconfig(ea.accountId,ea.containerId,'Update',s.tag.name,s.tag.event,fa.join(),ga.join(),s.tag.fire,s.tag.trigger,s.tag.status);}return q.set('editTag',c('AdsPixelGTMDefaults').DEFAULT_EDIT);case c('AdsPixelGTMActionTypes').EDIT_TAG:q=q.set('editConfig',c('AdsPixelGTMTagCreatorConfig').create(q.selectedContainer.variables,s.tag));q=q.set('curIndex',s.index);return q.set('editTag',s.tag);case c('AdsPixelGTMActionTypes').DELETE_TAG:var ha=q.selectedContainer,ia=ha.tags[q.curIndex],ja=this.$AdsPixelGTMStore6(ia.keys),ka=this.$AdsPixelGTMStore6(ia.vals);c('FBPixelEntGTMUpdateUtils').updateEntGTMTagconfig(ha.accountId,ha.containerId,'Delete',ia.name,ia.event,ja.join(),ka.join(),ia.fire,ia.trigger,ia.status);ha.tags.splice(q.curIndex,1);q=q.set('selectedContainer',babelHelpers['extends']({},ha));return q.set('editTag',c('AdsPixelGTMDefaults').DEFAULT_EDIT);case c('AdsPixelGTMActionTypes').CREATE_TAG_VAL:return q.set('createTag',s.val);case c('AdsPixelGTMActionTypes').SET_TAG_CONFIG:return q.set('tagConfig',s.config);case c('AdsPixelGTMActionTypes').SET_EDIT_TAG_CONFIG:return q.set('editConfig',s.config);case c('AdsPixelGTMActionTypes').PUBLISH_SET:q=q.set('tagConfig',c('AdsPixelGTMTagCreatorConfig').create(q.selectedContainer.variables));return q.set('publishStatus',s.status);case c('AdsPixelGTMActionTypes').TOGGLE_INDEX:return q.set('checkBoxes',q.checkBoxes.set(s.index,!q.checkBoxes.get(s.index)));case c('AdsPixelGTMActionTypes').ERROR:return q.set('errorStatus',s.message);case c('AdsPixelGTMActionTypes').TAG_ERROR:return q.set('tagErrorStatus',s.message);default:return q;}};p.prototype.$AdsPixelGTMStore5=function(q,r){var s=q.selectedContainer;s.triggers=r.map(this.$AdsPixelGTMStore7);s.triggers.push(c('AdsPixelGTMDefaults').DEFAULT_TRIGGER);return s;};p.prototype.$AdsPixelGTMStore3=function(q){var r=[];for(var s=0;s<q.length;s++){var t={name:q[s].name,fire:q[s].fire,event:q[s].event,keys:q[s].keys,vals:q[s].vals,trigger:q[s].trigger,status:q[s].status,edited:''};r.push(t);}return r;};p.prototype.$AdsPixelGTMStore1=function(q){return new (c('AdsPixelGTMAccount'))({name:q.name,accountId:q.accountId,containers:new (c('immutable').List)()});};p.prototype.$AdsPixelGTMStore2=function(q){var r={name:q.name,accountId:q.accountId,containerId:q.containerId,triggers:[c('AdsPixelGTMDefaults').DEFAULT_TRIGGER],variables:[],tags:[]};return r;};p.prototype.$AdsPixelGTMStore7=function(q){var r=q.name,s=q.triggerId;return {name:r,triggerId:s};};p.prototype.$AdsPixelGTMStore6=function(q){return q.filter(function(r){return r!=='';});};p.prototype.$AdsPixelGTMStore4=function(q){return q.name;};p.prototype.getAccounts=function(){return this.getState().accounts;};p.prototype.getContainers=function(){return this.getState().containers;};p.prototype.getSelectedAccount=function(){return this.getState().selectedAccount;};p.prototype.getSelectedContainer=function(){return this.getState().selectedContainer;};p.prototype.getCreateTag=function(){return this.getState().createTag;};p.prototype.getEditTag=function(){return this.getState().editTag;};p.prototype.getTagConfig=function(){return this.getState().tagConfig;};p.prototype.getEditConfig=function(){return this.getState().editConfig;};p.prototype.getIndex=function(){return this.getState().curIndex;};p.prototype.getPublishStatus=function(){return this.getState().publishStatus;};p.prototype.getCheckBoxes=function(){return this.getState().checkBoxes;};p.prototype.getErrorStatus=function(){return this.getState().errorStatus;};p.prototype.getTagErrorStatus=function(){return this.getState().tagErrorStatus;};p.prototype.getTagsFetched=function(){return this.getState().tagsFetched;};f.exports=new p(c('AdsDispatcher'));}),null);
__d('AdsPixelGoogleAPIHelperUtils',['Promise','AdsPixelStoreWrapper','AdsInterfacesLogger','AdsPixelGTMDefaults','immutable','AdsInterfacesLoggerConfigColumns','PixelInterfacesLoggingKeys'],(function a(b,c,d,e,f,g){'use strict';var h=c('AdsPixelGTMDefaults').GOOGLE_API_CONSTANTS,i='fbq(\'track\', \"PageView\");';function j(k){this.$AdsPixelGoogleAPIHelperUtils7=function(){gapi.load('client:auth2',this.$AdsPixelGoogleAPIHelperUtils8);}.bind(this);this.$AdsPixelGoogleAPIHelperUtils1='/tagmanager/v1/accounts/';this.pixelID=k;this.$AdsPixelGoogleAPIHelperUtils2();}j.prototype.triggerSignIn=function(k){gapi.auth2.getAuthInstance().signIn().then(k).done;};j.prototype.getAccounts=function(k,l){this.$AdsPixelGoogleAPIHelperUtils3(this.$AdsPixelGoogleAPIHelperUtils1,k,l);};j.prototype.getContainers=function(k,l,m){var n=this.$AdsPixelGoogleAPIHelperUtils1+k+'/containers/';this.$AdsPixelGoogleAPIHelperUtils3(n,l,m);};j.prototype.getVariables=function(k,l,m,n){var o=this.$AdsPixelGoogleAPIHelperUtils1+k+'/containers/'+l+'/variables';this.$AdsPixelGoogleAPIHelperUtils3(o,m,n);};j.prototype.getTriggers=function(k,l,m,n){var o=this.$AdsPixelGoogleAPIHelperUtils1+k+'/containers/'+l+'/triggers';this.$AdsPixelGoogleAPIHelperUtils3(o,m,n);};j.prototype.createTag=function(k,l,m,n){var o=this.$AdsPixelGoogleAPIHelperUtils1+k+'/containers/'+l+'/tags',p=this.$AdsPixelGoogleAPIHelperUtils4(o,n);return p;};j.prototype.publishTags=function(k,l,m,n,o){var p=k.accountId,q=k.containerId,r=k.tags,s=k.triggers,t=s.reduce(function(v,w){v[w.name]=w;return v;},{}),u=r.filter(function(v,w){return v.status==='Draft'&&l.get(w)&&Object.prototype.hasOwnProperty.call(t,v.trigger);}).map(function(v){var w=t[v.trigger],x=c('AdsPixelStoreWrapper').getPixelCode(this.pixelID);x=this.getAgentCode(x);var y=this.getCustomCode(v.event,v.keys,v.vals),z=x.split(i),aa=z[0]+y+z[1],ba=aa.split('<noscript>')[0],ca=this.transform(v.fire),da=this.createPixelRequest(v.name,ca,w.triggerId,ba),ea=this.createTag(p,q,v,da).then(function(fa){return {v:fa,status:'resolved'};},function(fa){return {e:fa,status:'rejected'};});return c('Promise').all([ea]).then(function(fa){var ga=fa[0],ha=fa[1];return {tag:v,response:ga};});}.bind(this));c('Promise').all(u).then(function(v){v.forEach(function(x){var y=x.response;return n(y);});this.$AdsPixelGoogleAPIHelperUtils5(p,q,m,o);var w=v.map(function(x){var y=x.tag;return y;});return w;}.bind(this)).then(function(v){var w;c('AdsInterfacesLogger').log({eventName:c('PixelInterfacesLoggingKeys').PIXEL_INSTALL_GTM_PUBLISH,data:(w={},w[c('AdsInterfacesLoggerConfigColumns').SIGNALS_UI_EVENT_DATA]=JSON.stringify({pixelID:c('AdsPixelStoreWrapper').getCurrentPixelID(),accountId:p,containerid:q,publishedTags:v}),w)},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);}).done();};j.prototype.transform=function(k){return k==='Once Per Load'?'oncePerPage':'oncePerEvent';};j.prototype.getAgentCode=function(k){var l='\''+this.pixelID+'\'',m=k.split(l),n=',{\n\t\"em\" : \"too@root.com\"\n}',o=',{\n\t"agent" : "'+c('AdsPixelGTMDefaults').AGENT+'"\n}';return m[0]+l+n+o+m[1];};j.prototype.getCustomCode=function(event,k,l){var m='fbq(\'track\', "'+event+'",{\n';if(k[0]){k.filter(function(n){return n!=null;}).forEach(function(n,o){return m=''+m+n+': {{'+l[o]+'}},\n';});m=m.replace(/,\n$/,'\n');return m+'});\n';}else return 'fbq(\'track\', "'+event+'");\n';};j.prototype.$AdsPixelGoogleAPIHelperUtils5=function(k,l,m,n){var o=this.$AdsPixelGoogleAPIHelperUtils1+k+'/containers/'+l+'/versions',p=this.$AdsPixelGoogleAPIHelperUtils4(o,{}),q=this.$AdsPixelGoogleAPIHelperUtils6.bind(this,m,n);p.then(q).done;};j.prototype.$AdsPixelGoogleAPIHelperUtils6=function(k,l,m){var n=m.result.containerVersion,o=n.container.accountId,p=n.container.containerId,q=n.containerVersionId,r=this.$AdsPixelGoogleAPIHelperUtils1+o+'/containers/'+p+'/versions/'+q+'/publish',s=this.$AdsPixelGoogleAPIHelperUtils4(r,{});s.then(k,l).done;};j.prototype.$AdsPixelGoogleAPIHelperUtils4=function(k,l){return gapi.client.request({method:'POST',body:l,path:k});};j.prototype.$AdsPixelGoogleAPIHelperUtils3=function(k,l,m){var n=gapi.client.request({path:k});n.then(l,m).done;};j.prototype.$AdsPixelGoogleAPIHelperUtils2=function(){var k=document.createElement('script');k.src='//apis.google.com/js/api.js';k.async=true;k.type='text/javascript';k.onload=this.$AdsPixelGoogleAPIHelperUtils7;var l=document.body;if(l)l.appendChild(k);};j.prototype.$AdsPixelGoogleAPIHelperUtils8=function(){gapi.client.setApiKey(h.key);gapi.auth2.init({client_id:h.client_id,scope:h.scopes});};j.prototype.createPixelRequest=function(k,l,m,n){var o={};o.name=k;o.type='html';o.liveOnly=false;var p={};p.type='template';p.key='html';p.value=n;var q={};q.type='boolean';q.key='supportDocumentWrite';q.value='false';o.parameter=[p,q];o.tagFiringOption=l;o.firingTriggerId=[m];return o;};f.exports=j;}),null);
__d("XEntGTMAccountConigAndEntUserAssocController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ads\/pixel\/gtm\/entgtmaccount\/entuser\/assoc\/",{account_id:{type:"String",required:true},user_id:{type:"String",required:true}});}),null);
__d("XGTMAccountAndTagsReaderAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ads\/pixel\/gtm\/tags\/reader\/",{account_id:{type:"String",required:true},container_id:{type:"String",required:true}});}),null);
__d('AdsPixelGTMStoreLoader',['AdsDispatcher','AdsInterfacesLogger','AdsPixelGoogleAPIHelperUtils','AdsPixelGTMAccount','AdsPixelGTMActionTypes','AdsPixelGTMTagCreatorConfig','AdsPixelServerActions','AdsPixelStoreWrapper','AsyncRequest','AsyncResponse','AdsPixelGTMDefaults','CurrentUser','immutable','AdsInterfacesLoggerConfigColumns','PixelInterfacesLoggingKeys','XEntGTMAccountConigAndEntUserAssocController','XGTMAccountAndTagsReaderAsyncController'],(function a(b,c,d,e,f,g){'use strict';function h(i){this.api=new (c('AdsPixelGoogleAPIHelperUtils'))(i);}h.prototype.getAccounts=function(){this.api.getAccounts(this.$AdsPixelGTMStoreLoader1,this.errorHandler);};h.prototype.selectAccount=function(i,j){var k;c('AdsDispatcher').dispatch({action:{type:c('AdsPixelGTMActionTypes').SELECTED_ACCOUNT,account:i}});var l=c('XEntGTMAccountConigAndEntUserAssocController').getURIBuilder().setString('account_id',i.accountId).setString('user_id',String(c('CurrentUser').getID())).getURI();new (c('AsyncRequest'))().setURI(l).setHandler(function(n){}).setErrorHandler(function(n,o){return c('AdsPixelServerActions').receiveError(o);}).send();this.$AdsPixelGTMStoreLoader2(i);var m={account:i,pixelID:c('AdsPixelStoreWrapper').getCurrentPixelID()};c('AdsInterfacesLogger').log({eventName:c('PixelInterfacesLoggingKeys').PIXEL_INSTALL_GTM_SELECT_ACCOUNT,data:(k={},k[c('AdsInterfacesLoggerConfigColumns').SIGNALS_UI_EVENT_DATA]=JSON.stringify({data:m}),k)},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);j();};h.prototype.selectContainer=function(i,j){var k;c('AdsDispatcher').dispatch({action:{type:c('AdsPixelGTMActionTypes').SELECTED_CONTAINER,container:j}});var l={accountID:i.accountId,containers:i.containers,pixelID:c('AdsPixelStoreWrapper').getCurrentPixelID()};c('AdsInterfacesLogger').log({eventName:c('PixelInterfacesLoggingKeys').PIXEL_INSTALL_GTM_SELECT_CONTAINER,data:(k={},k[c('AdsInterfacesLoggerConfigColumns').SIGNALS_UI_EVENT_DATA]=JSON.stringify({data:l}),k)},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.loadPublishedTags(i.accountId,j.containerId);this.$AdsPixelGTMStoreLoader3(i.accountId,j.containerId);this.$AdsPixelGTMStoreLoader4(i.accountId,j.containerId);};h.prototype.updateSavedTags=function(i,j,k){c('AdsDispatcher').handleUpdateFromServerResponse({feedback:{accountId:i,containerId:j,response:k},type:c('AdsPixelGTMActionTypes').SELECTED_CONTAINTER_WITH_SAVED_TAGS});};h.prototype.loadPublishedTags=function(i,j){var k=c('XGTMAccountAndTagsReaderAsyncController').getURIBuilder().setString('account_id',i).setString('container_id',j).getURI();new (c('AsyncRequest'))().setURI(k).setHandler(function(l){this.updateSavedTags(i,j,l.payload);}.bind(this)).setErrorHandler(function(l,m){return c('AdsPixelServerActions').receiveError(m);}).send();};h.prototype.updateTagConfig=function(i){c('AdsDispatcher').dispatch({action:{type:c('AdsPixelGTMActionTypes').SET_TAG_CONFIG,config:i}});};h.prototype.handleCheckBox=function(i){c('AdsDispatcher').dispatch({action:{type:c('AdsPixelGTMActionTypes').TOGGLE_INDEX,index:i}});};h.prototype.editTagConfig=function(i){c('AdsDispatcher').dispatch({action:{type:c('AdsPixelGTMActionTypes').SET_EDIT_TAG_CONFIG,config:i}});};h.prototype.setStatus=function(){this.setPublishStatus(c('AdsPixelGTMDefaults').DEFAULT_STATUS);c('AdsDispatcher').dispatch({action:{type:c('AdsPixelGTMActionTypes').TAG_ERROR,message:c('AdsPixelGTMDefaults').TAG_ERROR_STATUS}});};h.prototype.editTag=function(i,j,k){if(!k)c('AdsDispatcher').dispatch({action:{type:c('AdsPixelGTMActionTypes').EDIT_TAG,tag:i,index:j}});};h.prototype.deleteTag=function(){c('AdsDispatcher').dispatch({action:{type:c('AdsPixelGTMActionTypes').DELETE_TAG}});};h.prototype.onChangeCreateTrue=function(){c('AdsDispatcher').dispatch({action:{type:c('AdsPixelGTMActionTypes').CREATE_TAG_VAL,val:true}});};h.prototype.onChangeCreateFalse=function(){this.$AdsPixelGTMStoreLoader5();c('AdsDispatcher').dispatch({action:{type:c('AdsPixelGTMActionTypes').CREATE_TAG_VAL,val:false}});};h.prototype.onSave=function(i){var j;c('AdsDispatcher').dispatch({action:{type:c('AdsPixelGTMActionTypes').CREATE_NEW_TAG,tag:i}});c('AdsInterfacesLogger').log({eventName:c('PixelInterfacesLoggingKeys').PIXEL_INSTALL_GTM_CREATE_TAG,data:(j={},j[c('AdsInterfacesLoggerConfigColumns').SIGNALS_UI_EVENT_DATA]=JSON.stringify({pixelID:c('AdsPixelStoreWrapper').getCurrentPixelID(),tag:i}),j)},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};h.prototype.onEdit=function(i){c('AdsDispatcher').dispatch({action:{type:c('AdsPixelGTMActionTypes').EDITED_TAG,tag:i}});};h.prototype.publishable=function(i,j){var k=i.tags.filter(function(m){return m.status==='Draft';}).length,l=j.toArray().filter(function(m,n){return m===true&&n<k;});return l.length>0;};h.prototype.publish=function(i,j,k,l){c('AdsDispatcher').dispatch({action:{type:c('AdsPixelGTMActionTypes').PUBLISH_SET,status:'IN_PROCESS'}});this.api.publishTags(i,j,k,l,this.errorHandler);};h.prototype.setPublishStatus=function(i){c('AdsDispatcher').dispatch({action:{type:c('AdsPixelGTMActionTypes').PUBLISH_SET,status:i}});if(i===c('AdsPixelGTMDefaults').SUCCESS){var j;c('AdsInterfacesLogger').log({eventName:c('PixelInterfacesLoggingKeys').PIXEL_INSTALL_GTM_API_SUCCESS,data:(j={},j[c('AdsInterfacesLoggerConfigColumns').SIGNALS_UI_EVENT_DATA]=JSON.stringify({pixelID:c('AdsPixelStoreWrapper').getCurrentPixelID(),status:i}),j)},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);}};h.prototype.errorHandler=function(i){var j;c('AdsDispatcher').dispatch({action:{type:c('AdsPixelGTMActionTypes').ERROR,message:i.body}});c('AdsInterfacesLogger').log({eventName:c('PixelInterfacesLoggingKeys').PIXEL_INSTALL_GTM_API_ERROR,data:(j={},j[c('AdsInterfacesLoggerConfigColumns').SIGNALS_UI_EVENT_DATA]=JSON.stringify({pixelID:c('AdsPixelStoreWrapper').getCurrentPixelID(),message:i.body}),j)},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};h.prototype.tagErrorHandler=function(i){var j;c('AdsDispatcher').dispatch({action:{type:c('AdsPixelGTMActionTypes').TAG_ERROR,message:i.e.body}});c('AdsInterfacesLogger').log({eventName:c('PixelInterfacesLoggingKeys').PIXEL_INSTALL_GTM_TAG_API_ERROR,data:(j={},j[c('AdsInterfacesLoggerConfigColumns').SIGNALS_UI_EVENT_DATA]=JSON.stringify({pixelID:c('AdsPixelStoreWrapper').getCurrentPixelID(),message:i.e.body}),j)},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};h.prototype.$AdsPixelGTMStoreLoader2=function(i){if(i.containers.size===0)this.api.getContainers(i.accountId,this.$AdsPixelGTMStoreLoader6,this.errorHandler);};h.prototype.$AdsPixelGTMStoreLoader1=function(i){c('AdsDispatcher').dispatch({action:{type:c('AdsPixelGTMActionTypes').FETCHED_ALL_ACCOUNTS,accounts:i.result.accounts}});};h.prototype.$AdsPixelGTMStoreLoader6=function(i){c('AdsDispatcher').dispatch({action:{type:c('AdsPixelGTMActionTypes').FETCHED_ALL_CONTAINERS,containers:i.result.containers}});};h.prototype.$AdsPixelGTMStoreLoader3=function(i,j){this.api.getVariables(i,j,this.$AdsPixelGTMStoreLoader7,this.errorHandler);};h.prototype.$AdsPixelGTMStoreLoader4=function(i,j){this.api.getTriggers(i,j,this.$AdsPixelGTMStoreLoader8,this.errorHandler);};h.prototype.$AdsPixelGTMStoreLoader7=function(i){if(i.result.variables)c('AdsDispatcher').dispatch({action:{type:c('AdsPixelGTMActionTypes').FETCHED_VARIABLES,variables:i.result.variables}});};h.prototype.$AdsPixelGTMStoreLoader8=function(i){if(i.result.triggers)c('AdsDispatcher').dispatch({action:{type:c('AdsPixelGTMActionTypes').FETCHED_TRIGGERS,triggers:i.result.triggers}});};h.prototype.$AdsPixelGTMStoreLoader5=function(){c('AdsDispatcher').dispatch({action:{type:c('AdsPixelGTMActionTypes').EDIT_TAG,val:{}}});};f.exports=h;}),null);
__d('AdsPixelGTMAccountSelectorContainer.react',['fbt','cx','AccessibleTableParts.react','AdsPixelGTMAccount','AdsPixelGTMStore','AdsPixelGTMStoreLoader','AdsPixelGTMDefaults','FluxContainer','Image.react','Link.react','React','SUIBusinessTheme','SUIText.react','XUITable.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('AccessibleTableParts.react').HeadRow,m=c('AccessibleTableParts.react').BodyRow,n=c('React').PureComponent;j=babelHelpers.inherits(o,n);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$AdsPixelGTMAccountSelectorContainer1=function(u,v){var w=this.props.storeLoader.selectAccount.bind(this.props.storeLoader,u,this.props.onNext);return (c('React').createElement(m,{key:v},c('React').createElement('td',null,c('React').createElement(c('Link.react'),{href:'#',onClick:w},u.name))));}.bind(this),q;}o.prototype.componentDidMount=function(){this.props.storeLoader.getAccounts();};o.getStores=function(){return [c('AdsPixelGTMStore')];};o.calculateState=function(p){return {accounts:c('AdsPixelGTMStore').getAccounts(),errorStatus:c('AdsPixelGTMStore').getErrorStatus()};};o.prototype.render=function(){var p=null,q=null;if(this.state.errorStatus!==c('AdsPixelGTMDefaults').ERROR_STATUS){p=c('React').createElement('center',null,c('React').createElement(c('Image.react'),{src:c('AdsPixelGTMDefaults').WARNING_ICON_URL,style:{marginBottom:'20px',marginTop:'12px'}}),c('React').createElement(c('SUIText.react'),{display:'block',textAlign:'center',theme:c('SUIBusinessTheme')},h._("Your Google Tag Manager accounts failed to load. This is most likely due to a temporary communication issue. Please try again later.")));}else q=c('React').createElement(c('XUITable.react'),{outerBorder:true},c('React').createElement('thead',null,c('React').createElement(l,null,c('React').createElement('th',null,h._("Account name")))),c('React').createElement('tbody',null,this.state.accounts.map(this.$AdsPixelGTMAccountSelectorContainer1)));return c('React').createElement('div',null,c('React').createElement('div',{className:"_3-8z _3-97"},c('React').createElement(c('SUIText.react'),{display:'block',theme:c('SUIBusinessTheme')},h._("To get started, choose a Google Tag Manager account for your Facebook pixel. If the appropriate account is not listed, you may need to {bolded_creation_sentence}",[h.param('bolded_creation_sentence',c('React').createElement('b',null,c('React').createElement('u',null,c('React').createElement(c('Link.react'),{href:c('AdsPixelGTMDefaults').ACCOUNT_URI,target:'_blank'},h._("create a new account within Google Tag Manager")))))])),c('React').createElement('br',null),q,p));};f.exports=c('FluxContainer').create(o);}),null);
__d('AdsPixelGTMContainerSelectorContainer.react',['cx','fbt','AccessibleTableParts.react','AdsPixelGTMAccount','AdsPixelGTMStore','AdsPixelGTMStoreLoader','AdsPixelGTMDefaults','FluxContainer','Image.react','immutable','Link.react','React','SUIBusinessTheme','SUIText.react','XUITable.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('AccessibleTableParts.react').HeadRow,m=c('AccessibleTableParts.react').BodyRow,n=c('React').PureComponent;j=babelHelpers.inherits(o,n);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$AdsPixelGTMContainerSelectorContainer1=function(u,v){var w=function(){this.props.storeLoader.selectContainer(this.state.selectedAccount,u);this.props.onNext();}.bind(this);return (c('React').createElement(m,{key:v},c('React').createElement('td',null,c('React').createElement(c('Link.react'),{href:'#',onClick:w},u.name)),c('React').createElement('td',null,u.containerId)));}.bind(this),q;}o.getStores=function(){return [c('AdsPixelGTMStore')];};o.calculateState=function(p){return {selectedAccount:c('AdsPixelGTMStore').getSelectedAccount(),errorStatus:c('AdsPixelGTMStore').getErrorStatus(),tagsFetched:c('AdsPixelGTMStore').getTagsFetched()};};o.prototype.render=function(){var p=c('React').createElement('div',{className:"_3-8z _3-97"},c('React').createElement(c('SUIText.react'),{display:'block',theme:c('SUIBusinessTheme')},i._("Next, choose the container for the site you'd like to track. If the container you want isn't listed, you may need to {bolded_creation_sentence}",[i.param('bolded_creation_sentence',c('React').createElement('b',null,c('React').createElement('u',null,c('React').createElement(c('Link.react'),{href:c('AdsPixelGTMDefaults').ACCOUNT_URI,target:'_blank'},i._("create a new container within Google Tag Manager")))))]))),q=null,r=null;if(this.state.errorStatus!==c('AdsPixelGTMDefaults').ERROR_STATUS){q=c('React').createElement('center',null,c('React').createElement(c('Image.react'),{src:c('AdsPixelGTMDefaults').WARNING_ICON_URL,style:{marginBottom:'20px',marginTop:'12px'}}),c('React').createElement(c('SUIText.react'),{display:'block',textAlign:'center',theme:c('SUIBusinessTheme')},i._("Your containers failed to load. This is most likely due to a temporary communication issue. Please try again later.")));}else r=c('React').createElement(c('XUITable.react'),{outerBorder:true},c('React').createElement('thead',null,c('React').createElement(l,null,c('React').createElement('th',null,i._("Container name")),c('React').createElement('th',null,c('React').createElement('div',null,i._("Container ID"))))),c('React').createElement('tbody',null,this.state.selectedAccount.containers.toArray().map(this.$AdsPixelGTMContainerSelectorContainer1)));return c('React').createElement('div',null,p,r,q);};f.exports=c('FluxContainer').create(o);}),null);
__d('AdsPixelGTMSuccess.react',['cx','fbt','ix','AdsPixelGTMDefaults','Image.react','Link.react','React','SUIBusinessTheme','SUIText.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').Component;k=babelHelpers.inherits(n,m);l=k&&k.prototype;n.prototype.render=function(){return (c('React').createElement('center',{style:{marginTop:'24px',marginBottom:'24px'}},c('React').createElement(c('Image.react'),{src:j("23671")}),c('React').createElement('div',{className:"_3-8y"},c('React').createElement(c('SUIText.react'),{size:'medium',theme:c('SUIBusinessTheme'),weight:'bold'},i._("Your Facebook pixel was published to Google Tag Manager")),c('React').createElement(c('SUIText.react'),{display:'block',theme:c('SUIBusinessTheme')},i._("To check the status of your pixel, go to {bolded_creation_sentence} and select {bold_pixels} from the top menu. If the status is {bold_active}, your pixel has been installed correctly. It may take up to 20 minutes for the status of your pixel to change after installing it.",[i.param('bolded_creation_sentence',c('React').createElement('b',null,c('React').createElement('u',null,c('React').createElement(c('Link.react'),{href:c('AdsPixelGTMDefaults').ADS_MAN_URI,target:'_blank'},i._("Facebook Adverts Manager"))))),i.param('bold_pixels',c('React').createElement('b',null,c('React').createElement('u',null,i._("Pixels")))),i.param('bold_active',c('React').createElement('b',null,c('React').createElement('u',null,i._("Active"))))])))));};function n(){k.apply(this,arguments);}f.exports=n;}),null);
__d("XEntGTMAccountAndTagUpdateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ads\/pixel\/gtm_install\/publish_tag\/",{account_id:{type:"String",required:true},container_id:{type:"String",required:true},tag_name:{type:"String",required:true},event_name:{type:"String"},param_keys:{type:"String"},param_vals:{type:"String"},firing_option:{type:"String"},firing_trigger:{type:"String"},status:{type:"String"}});}),null);
__d('AdsPixelGTMTagSummary.react',['cx','fbt','AccessibleTableParts.react','AdsInterfacesLogger','AdsPixelGTMAccount','AdsPixelGTMStoreLoader','AdsPixelGTMSuccess.react','AdsPixelGTMTagCreatorConfig','AdsPixelStoreWrapper','AdsPixelViewActions','AsyncRequest','AdsPixelGTMDefaults','Image.react','immutable','AdsInterfacesLoggerConfigColumns','PixelInterfacesLoggingKeys','React','SUIBusinessTheme','SUIBusinessThemeContainer.react','SUIButton.react','SUICheckboxInput.react','SUIText.react','XEntGTMAccountAndTagUpdateController','XUITable.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('AccessibleTableParts.react').HeadRow,m=c('AccessibleTableParts.react').BodyRow,n=c('React').Component;j=babelHelpers.inherits(o,n);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$AdsPixelGTMTagSummary3=function(u,v){if(u.status==='Published')return null;var w=function(){this.props.storeLoader.handleCheckBox(v);}.bind(this),x='dark';return (c('React').createElement(m,{key:v},c('React').createElement('td',null,c('React').createElement(c('SUICheckboxInput.react'),{theme:c('SUIBusinessTheme'),value:this.props.checkBoxes.get(v),onChange:w})),c('React').createElement('td',null,c('React').createElement(c('SUIText.react'),{shade:x,theme:c('SUIBusinessTheme')},u.name)),c('React').createElement('td',null,c('React').createElement(c('SUIText.react'),{shade:x,theme:c('SUIBusinessTheme')},this.$AdsPixelGTMTagSummary6(u.keys))),c('React').createElement('td',null,c('React').createElement(c('SUIText.react'),{shade:x,theme:c('SUIBusinessTheme')},u.fire)),c('React').createElement('td',null,c('React').createElement(c('SUIText.react'),{shade:x,theme:c('SUIBusinessTheme')},u.trigger)),c('React').createElement('td',null,c('React').createElement(c('SUIText.react'),{shade:x,theme:c('SUIBusinessTheme')},u.status))));}.bind(this),this.$AdsPixelGTMTagSummary4=function(u){var v=u.status===200?'Success':'Something Went Wrong';this.props.storeLoader.setPublishStatus(v);}.bind(this),this.$AdsPixelGTMTagSummary5=function(u){var v,w=this;if(u.status==='resolved'){(function(){var x,y=u.v.result.name,z=w.props.selectedContainer.tags.filter(function(ca){return ca.name===y;});z[0].status='Published';var aa=z[0],ba=c('XEntGTMAccountAndTagUpdateController').getURIBuilder().setString('account_id',w.props.selectedContainer.accountId).setString('container_id',w.props.selectedContainer.containerId).setString('tag_name',aa.name).setString('event_name',aa.event).setString('param_keys',aa.keys.join()).setString('param_vals',aa.vals.join()).setString('firing_option',aa.fire).setString('firing_trigger',aa.trigger).setString('status',aa.status).getURI();new (c('AsyncRequest'))().setURI(ba).setHandler().send();c('AdsInterfacesLogger').log({eventName:c('PixelInterfacesLoggingKeys').PIXEL_INSTALL_GTM_PUBLISH_TAG,data:(x={},x[c('AdsInterfacesLoggerConfigColumns').SIGNALS_UI_EVENT_DATA]=JSON.stringify({pixelID:c('AdsPixelStoreWrapper').getCurrentPixelID(),accountId:w.props.selectedContainer.accountId,containerid:w.props.selectedContainer.containerId,publishedTags:z[0]}),x)},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);})();}else this.props.storeLoader.tagErrorHandler(u);}.bind(this),q;}o.prototype.render=function(){var p=this.$AdsPixelGTMTagSummary1(),q=null;if(this.props.publishStatus===c('AdsPixelGTMDefaults').SUCCESS){q=c('React').createElement(c('AdsPixelGTMSuccess.react'),null);p=null;}if(this.props.errorStatus!==c('AdsPixelGTMDefaults').ERROR_STATUS){p=null;q=c('React').createElement('center',{style:{marginTop:'24px'}},c('React').createElement(c('Image.react'),{src:c('AdsPixelGTMDefaults').WARNING_ICON_URL,style:{marginBottom:'20px',marginTop:'12px'}}),c('React').createElement(c('SUIText.react'),{display:'block',textAlign:'center',theme:c('SUIBusinessTheme')},i._("One or more of your tags failed to be published. This is typically due to a naming conflict between new tags and existing Google Tag manager tags. Please review your tag names and try again.")));}var r=c('React').createElement('div',{className:"_3-8z _3-97"},c('React').createElement(c('SUIText.react'),{display:'block',theme:c('SUIBusinessTheme')},i._("The pixel base code will automatically be published. Choose which event tags will also be published.")));return c('React').createElement('div',null,c('React').createElement('div',{className:"_3-8z _3-97"}),r,this.$AdsPixelGTMTagSummary2(),q,p);};o.prototype.$AdsPixelGTMTagSummary2=function(){var p=0,q=function(){this.props.storeLoader.handleCheckBox(p);}.bind(this);if(this.props.selectedContainer.tags&&this.props.publishStatus!==c('AdsPixelGTMDefaults').SUCCESS&&this.props.errorStatus===c('AdsPixelGTMDefaults').DEFAULT_STATUS){return c('React').createElement(c('XUITable.react'),{outerBorder:true,style:{marginBottom:'12px'}},c('React').createElement('thead',null,c('React').createElement(l,null,c('React').createElement('th',null,c('React').createElement(c('SUICheckboxInput.react'),{theme:c('SUIBusinessTheme'),value:false,onChange:q})),c('React').createElement('th',null,i._("Tag name")),c('React').createElement('th',null,i._("Parameters")),c('React').createElement('th',null,i._("Firing option")),c('React').createElement('th',null,i._("Firing trigger")),c('React').createElement('th',null,i._("Status")))),c('React').createElement('tbody',null,this.props.selectedContainer.tags.map(this.$AdsPixelGTMTagSummary3)));}else return null;};o.prototype.$AdsPixelGTMTagSummary1=function(){if(this.props.selectedContainer.tags){var p=this.props.publishStatus,q=p!==c('AdsPixelGTMDefaults').DEFAULT_STATUS,r=!this.props.storeLoader.publishable(this.props.selectedContainer,this.props.checkBoxes),s=function(){this.props.storeLoader.publish(this.props.selectedContainer,this.props.checkBoxes,this.$AdsPixelGTMTagSummary4,this.$AdsPixelGTMTagSummary5);}.bind(this);return c('React').createElement(c('SUIBusinessThemeContainer.react'),null,c('React').createElement('span',{className:"_3-8y"},c('React').createElement(c('SUIButton.react'),{disabled:r||q,label:i._("Publish"),style:{marginLeft:'8px',float:'right'},use:'confirm',onClick:s})));}else return null;};o.prototype.$AdsPixelGTMTagSummary6=function(p){var q=p.filter(function(r){return r!=undefined&&r!=='';}).length;return q>0?q.toString():'-';};o.prototype.$AdsPixelGTMTagSummary7=function(){c('AdsPixelViewActions').onDialogBack();};f.exports=o;}),null);
__d('AdsPixelGTMTAGSummaryContainer.react',['AdsPixelGTMAccount','AdsPixelGTMStore','AdsPixelGTMStoreLoader','AdsPixelGTMTagCreatorConfig','AdsPixelGTMTagSummary.react','FluxContainer','FluxStore','immutable','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.getStores=function(){return [c('AdsPixelGTMStore')];};k.calculateState=function(l){return {selectedContainer:c('AdsPixelGTMStore').getSelectedContainer(),selectedAccount:c('AdsPixelGTMStore').getSelectedAccount(),publishStatus:c('AdsPixelGTMStore').getPublishStatus(),checkBoxes:c('AdsPixelGTMStore').getCheckBoxes(),createTag:c('AdsPixelGTMStore').getCreateTag(),errorStatus:c('AdsPixelGTMStore').getTagErrorStatus(),tagConfig:c('AdsPixelGTMStore').getTagConfig()};};k.prototype.render=function(){return (c('React').createElement(c('AdsPixelGTMTagSummary.react'),{checkBoxes:this.state.checkBoxes,createTag:this.state.createTag,errorStatus:this.state.errorStatus,publishStatus:this.state.publishStatus,selectedAccount:this.state.selectedAccount,selectedContainer:this.state.selectedContainer,storeLoader:this.props.storeLoader,tagConfig:this.state.tagConfig}));};function k(){h.apply(this,arguments);}f.exports=c('FluxContainer').create(k);}),null);
__d('AdsPixelGTMTagCreator.react',['cx','fbt','ix','AdsPixelGTMTagCreatorConfig','AdsPixelGTMDefaults','Layout.react','Link.react','React','SignalsCancelButton.react','SignalsTooltipInfo.react','SUIBusinessTheme','SUIButton.react','SUIGlyphIcon.react','SUISelector.react','SUISelectorOption.react','SUIText.react','SUITextInput.react','XUIDialogFooter.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('Layout.react').Column,n=c('React').PureComponent;k=babelHelpers.inherits(o,n);l=k&&k.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=l.constructor).call.apply(p,[this].concat(s)),this.$AdsPixelGTMTagCreator12=function(){var u=this.props,v=u.config,w=u.onChange,x=v.numParam;w(v.set('numParam',x+1));}.bind(this),this.$AdsPixelGTMTagCreator7=function(u){var v=this.props,w=v.config,x=v.onChange;x(w.set('eventName',u));}.bind(this),this.$AdsPixelGTMTagCreator8=function(u){var v=this.props,w=v.config,x=v.onChange;x(w.set('firingOption',u));}.bind(this),this.$AdsPixelGTMTagCreator9=function(u){var v=this.props,w=v.config,x=v.onChange;x(w.set('firingTrigger',u));}.bind(this),this.$AdsPixelGTMTagCreator5=function(u){var v=this.props,w=v.config,x=v.onChange;x(w.set('tagName',u));}.bind(this),this.$AdsPixelGTMTagCreator16=function(){var u=this.props.config.getTag();this.props.onSave(u);}.bind(this),q;}o.prototype.render=function(){var p=this.props.config,q=p.tagName,r=p.eventName,s=p.firingOption,t=p.firingTrigger,u=p.numParam,v=[],w=0;for(var x=0;x<u;x++){v.push(this.$AdsPixelGTMTagCreator1(x,w));w+=3;if(x!=u-1)v.push(c('React').createElement('br',null));}var y=w+1,z=this.props.config.tagName===c('AdsPixelGTMDefaults').DEFAULT_NAME?undefined:this.props.config.tagName;return c('React').createElement('div',{className:"_22ub"},this.$AdsPixelGTMTagCreator2(),c('React').createElement(c('Layout.react'),{className:"_3-8x"},c('React').createElement(m,{className:"_2j4j"},this.$AdsPixelGTMTagCreator3(q),this.$AdsPixelGTMTagCreator4('Event',c('AdsPixelGTMDefaults').EVENT_DESC,c('AdsPixelGTMDefaults').EVENT_KEY,c('AdsPixelGTMDefaults').EVENT_DESC_LINK),this.$AdsPixelGTMTagCreator4('Firing Options',c('AdsPixelGTMDefaults').FIRE_OPT_DESC,y++,c('AdsPixelGTMDefaults').FIRE_OPT_DESC_LINK),this.$AdsPixelGTMTagCreator4('Firing Triggers',c('AdsPixelGTMDefaults').TRIGGER_DESC,c('AdsPixelGTMDefaults').FIRE_KEY,c('AdsPixelGTMDefaults').TRIGGER_DESC_LINK),this.$AdsPixelGTMTagCreator4('Parameters',c('AdsPixelGTMDefaults').PARAM_DESC,c('AdsPixelGTMDefaults').PARAM_KEY,c('AdsPixelGTMDefaults').PARAM_DESC_LINK)),c('React').createElement(m,null,c('React').createElement('div',{className:"_2j4k"},c('React').createElement(c('SUITextInput.react'),{disabled:this.props.onDelete!=undefined,theme:c('SUIBusinessTheme'),value:z,onChange:this.$AdsPixelGTMTagCreator5})),c('React').createElement('br',null),this.$AdsPixelGTMTagCreator6(c('AdsPixelGTMDefaults').DEFAULT_EVENT,c('AdsPixelGTMDefaults').EVENT_KEY+1,r,this.$AdsPixelGTMTagCreator7,c('AdsPixelGTMDefaults').OPTIONS,true),c('React').createElement('br',null),this.$AdsPixelGTMTagCreator6(c('AdsPixelGTMDefaults').DEFAULT_FIRE,c('AdsPixelGTMDefaults').FIRE_KEY+1,s,this.$AdsPixelGTMTagCreator8,c('AdsPixelGTMDefaults').firing_opt_select,true),c('React').createElement('br',null),this.$AdsPixelGTMTagCreator6(c('AdsPixelGTMDefaults').DEFAULT_TRIGGER_NAME,c('AdsPixelGTMDefaults').TRIGGER_KEY+1,t,this.$AdsPixelGTMTagCreator9,this.props.triggers,true),c('React').createElement('br',null),v,this.$AdsPixelGTMTagCreator10())),this.$AdsPixelGTMTagCreator11());};o.prototype.$AdsPixelGTMTagCreator10=function(){return c('React').createElement('span',null,c('React').createElement(c('SUIButton.react'),{disabled:this.props.variables.length==0,icon:c('React').createElement(c('SUIGlyphIcon.react'),{srcDefault:j("123418"),srcDisabled:j("126622")}),label:'',theme:c('SUIBusinessTheme'),onClick:this.$AdsPixelGTMTagCreator12}));};o.prototype.$AdsPixelGTMTagCreator2=function(){var p=this.props.edit?i._("Edit existing tag"):i._("Create new tag");return c('React').createElement('div',null,c('React').createElement(c('SUIText.react'),{className:"_2j4l",size:'medium',theme:c('SUIBusinessTheme'),weight:'bold'},p));};o.prototype.$AdsPixelGTMTagCreator3=function(p){return c('React').createElement('div',{className:"_2j4n"},c('React').createElement(c('SUIText.react'),{size:'xsmall',theme:c('SUIBusinessTheme'),weight:'bold'},i._("Tag name")));};o.prototype.$AdsPixelGTMTagCreator4=function(p,q,r,s){return c('React').createElement('div',{className:"_2j4n",key:r},c('React').createElement(c('SUIText.react'),{size:'xsmall',theme:c('SUIBusinessTheme'),weight:'bold'},p,c('React').createElement(c('SignalsTooltipInfo.react'),{iconURL:j("23672"),message:c('React').createElement('div',null,q,c('React').createElement(c('Link.react'),{href:s,target:'_blank'},i._("Learn more.")))})));};o.prototype.$AdsPixelGTMTagCreator13=function(p,q){return c('React').createElement(c('SUISelectorOption.react'),{key:q,theme:c('SUIBusinessTheme'),value:p},p);};o.prototype.$AdsPixelGTMTagCreator6=function(p,q,r,s,t,u){var v=t.map(this.$AdsPixelGTMTagCreator13);return c('React').createElement('div',{className:"_22ve",key:q},c('React').createElement(c('SUISelector.react'),{disabled:!u,maxHeight:140,placeholder:p,theme:c('SUIBusinessTheme'),value:r,onChange:s},v));};o.prototype.$AdsPixelGTMTagCreator1=function(p,q){return c('React').createElement('span',{key:q},this.$AdsPixelGTMTagCreator6('Parameter Key',q+1,this.props.config.paramKeys[p],this.$AdsPixelGTMTagCreator14.bind(this,p),this.props.config.paramKeyOptions,this.props.variables.length>0),this.$AdsPixelGTMTagCreator6('Parameter Variable',q+2,this.props.config.paramVals[p],this.$AdsPixelGTMTagCreator15.bind(this,p),this.props.config.paramValOptions,this.props.variables.length>0));};o.prototype.$AdsPixelGTMTagCreator14=function(p,q){var r=this.props,s=r.config,t=r.onChange,u=s.paramKeys.slice();u[p]=q;t(s.set('paramKeys',u));};o.prototype.$AdsPixelGTMTagCreator15=function(p,q){var r=this.props,s=r.config,t=r.onChange,u=s.paramVals.slice();u[p]=q;t(s.set('paramVals',u));};o.prototype.$AdsPixelGTMTagCreator11=function(){var p=this.props.config.isSaveable();return (c('React').createElement('div',{className:"_4a8a"},c('React').createElement('div',{style:{paddingTop:'16px'}},c('React').createElement(c('XUIDialogFooter.react'),{leftContent:c('React').createElement(c('SUIButton.react'),{disabled:this.props.onDelete==undefined,label:i._("Delete"),style:{marginLeft:'8px'},theme:c('SUIBusinessTheme'),use:'default',onClick:this.props.onDelete})},c('React').createElement(c('SignalsCancelButton.react'),{onClick:this.props.onClose}),c('React').createElement(c('SUIButton.react'),{disabled:!p,label:i._("Add"),style:{marginLeft:'8px'},theme:c('SUIBusinessTheme'),use:'confirm',onClick:this.$AdsPixelGTMTagCreator16})))));};f.exports=o;}),null);
__d('AdsPixelGTMTagSelectorContainer.react',['cx','fbt','ix','AccessibleTableParts.react','AdsPixelGTMStore','AdsPixelGTMStoreLoader','AdsPixelGTMTagCreator.react','AdsPixelGTMTagCreatorConfig','AdsPixelViewActions','AdsPixelGTMDefaults','Image.react','FluxContainer','FluxStore','Link.react','React','SignalsTooltipInfo.react','SUIBusinessTheme','SUIButton.react','SUIGlyphIcon.react','SUIText.react','XUITable.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('AccessibleTableParts.react').HeadRow,n=c('AccessibleTableParts.react').BodyRow,o=c('React').Component;k=babelHelpers.inherits(p,o);l=k&&k.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.$AdsPixelGTMTagSelectorContainer6=function(v,w){var x=v.name==='Pixel Base Code'||v.status==='Published'?'light':'dark',y=this.props.storeLoader.editTag.bind(this.props.storeLoader,v,w,this.state.createTag),z=c('React').createElement(c('SUIText.react'),{shade:x,theme:c('SUIBusinessTheme')},c('React').createElement(c('Link.react'),{className:"_3_uv",href:'#',onClick:y},v.name));if(v.status==='Published')z=c('React').createElement(c('SUIText.react'),{shade:x,theme:c('SUIBusinessTheme')},v.name);if(v.name==='Pixel Base Code')z=c('React').createElement(c('SUIText.react'),{shade:x,theme:c('SUIBusinessTheme')},v.name,c('React').createElement(c('SignalsTooltipInfo.react'),{iconURL:j("23672"),message:i._("A piece of JavaScript code for your website that enables you to measure, optimise and build audiences for your campaign. Pixel base code is required for Google Tag Manager integration.")}));return (c('React').createElement(n,{key:w},c('React').createElement('td',null,z),c('React').createElement('td',null,c('React').createElement(c('SUIText.react'),{shade:x,theme:c('SUIBusinessTheme')},this.$AdsPixelGTMTagSelectorContainer8(v.keys))),c('React').createElement('td',null,c('React').createElement(c('SUIText.react'),{shade:x,theme:c('SUIBusinessTheme')},v.fire)),c('React').createElement('td',null,c('React').createElement(c('SUIText.react'),{shade:x,theme:c('SUIBusinessTheme')},v.trigger)),c('React').createElement('td',null,c('React').createElement(c('SUIText.react'),{shade:x,theme:c('SUIBusinessTheme')},v.status))));}.bind(this),r;}p.getStores=function(){return [c('AdsPixelGTMStore')];};p.calculateState=function(q){return {createTag:c('AdsPixelGTMStore').getCreateTag(),editTag:c('AdsPixelGTMStore').getEditTag(),selectedContainer:c('AdsPixelGTMStore').getSelectedContainer(),tagConfig:c('AdsPixelGTMStore').getTagConfig(),editConfig:c('AdsPixelGTMStore').getEditConfig(),errorStatus:c('AdsPixelGTMStore').getErrorStatus()};};p.prototype.render=function(){var q=function(){this.props.storeLoader.setStatus();this.props.onNext();}.bind(this),r=null,s=null;if(this.state.errorStatus!==c('AdsPixelGTMDefaults').ERROR_STATUS){r=c('React').createElement('center',null,c('React').createElement(c('Image.react'),{src:c('AdsPixelGTMDefaults').WARNING_ICON_URL,style:{marginBottom:'20px',marginTop:'12px'}}),c('React').createElement(c('SUIText.react'),{display:'block',textAlign:'center',theme:c('SUIBusinessTheme')},i._("Something went wrong while fetching your containers from Google.")));}else s=c('React').createElement('div',null,this.$AdsPixelGTMTagSelectorContainer1(),this.$AdsPixelGTMTagSelectorContainer2(),this.$AdsPixelGTMTagSelectorContainer3(),this.$AdsPixelGTMTagSelectorContainer4(q));var t=c('React').createElement('div',{className:"_3-8z _3-97"},c('React').createElement(c('SUIText.react'),{display:'block',theme:c('SUIBusinessTheme')},i._("To track specific high-value events, add a new tag and select a {bolded_creation_sentence} You'll need to select Google Tag Manager configuration options for each tag. Adding tags is recommended but not required for Facebook pixel integration.",[i.param('bolded_creation_sentence',c('React').createElement('b',null,c('React').createElement('u',null,i._("Facebook pixel standard event."))))])));return c('React').createElement('div',null,t,r,s);};p.prototype.$AdsPixelGTMTagSelectorContainer4=function(q){var r=null,s=null,t=this.state.createTag===false&&this.state.editTag===c('AdsPixelGTMDefaults').DEFAULT_EDIT&&this.state.selectedContainer.tags;r=c('React').createElement(c('SUIButton.react'),{icon:c('React').createElement(c('SUIGlyphIcon.react'),{srcDefault:j("123418"),srcDisabled:j("126622")}),label:i._("Add new tag"),style:{marginBottom:'12px',marginTop:'12px'},theme:c('SUIBusinessTheme'),onClick:this.props.storeLoader.onChangeCreateTrue});s=c('React').createElement(c('SUIButton.react'),{disabled:!this.$AdsPixelGTMTagSelectorContainer5(),label:i._("Next"),style:{marginBottom:'12px',marginTop:'12px',float:'right'},theme:c('SUIBusinessTheme'),use:'confirm',onClick:q});return t?c('React').createElement('span',null,r,s):c('React').createElement('span',null);};p.prototype.$AdsPixelGTMTagSelectorContainer1=function(){if(this.state.selectedContainer.tags&&!this.state.createTag&&this.state.editTag===c('AdsPixelGTMDefaults').DEFAULT_EDIT){var q=this.state.selectedContainer.tags;return c('React').createElement(c('XUITable.react'),{outerBorder:true,style:{marginBottom:'0px'}},c('React').createElement('thead',null,c('React').createElement(m,null,c('React').createElement('th',null,i._("Tag name")),c('React').createElement('th',null,'Params'),c('React').createElement('th',null,'Firing Option'),c('React').createElement('th',null,'Firing Triggers'),c('React').createElement('th',null,'Status'))),c('React').createElement('tbody',null,q.map(this.$AdsPixelGTMTagSelectorContainer6)));}else return null;};p.prototype.$AdsPixelGTMTagSelectorContainer2=function(){if(this.state.createTag===true){var q=this.state.selectedContainer.variables,r=this.props.storeLoader.onChangeCreateFalse.bind(this.props.storeLoader);return c('React').createElement('div',{className:"_18vb"},c('React').createElement(c('AdsPixelGTMTagCreator.react'),{config:this.state.tagConfig,edit:false,triggers:this.state.selectedContainer.triggers.map(this.$AdsPixelGTMTagSelectorContainer7),variables:q,onChange:this.props.storeLoader.updateTagConfig,onClose:r,onSave:this.props.storeLoader.onSave}));}else return null;};p.prototype.$AdsPixelGTMTagSelectorContainer3=function(){if(this.state.editTag){var q=this.props.storeLoader.onChangeCreateFalse.bind(this.props.storeLoader);return c('React').createElement('div',{className:"_18vb"},c('React').createElement(c('AdsPixelGTMTagCreator.react'),{config:this.state.editConfig,edit:true,triggers:this.state.selectedContainer.triggers.map(this.$AdsPixelGTMTagSelectorContainer7),variables:this.state.selectedContainer.variables,onChange:this.props.storeLoader.editTagConfig,onClose:q,onDelete:this.props.storeLoader.deleteTag,onSave:this.props.storeLoader.onEdit}));}else return c('React').createElement('span',null);};p.prototype.$AdsPixelGTMTagSelectorContainer7=function(q){return q.name;};p.prototype.$AdsPixelGTMTagSelectorContainer9=function(){c('AdsPixelViewActions').onDialogBack();};p.prototype.$AdsPixelGTMTagSelectorContainer8=function(q){var r=q.filter(function(s){return s!=undefined&&s!='';}).length;return r>0?r.toString():'-';};p.prototype.$AdsPixelGTMTagSelectorContainer5=function(){var q=this.state.selectedContainer.tags;return q&&q.some(function(r){var s=r.status;return s==='Draft';});};f.exports=c('FluxContainer').create(p);}),null);
__d('AdsPixelGTM.react',['cx','fbt','AdsPixelGTMAccountSelectorContainer.react','AdsPixelGTMContainerSelectorContainer.react','AdsPixelGTMStoreLoader','AdsPixelGTMTagSelectorContainer.react','AdsPixelGTMTAGSummaryContainer.react','AdsPixelIntegrationPreamble.react','AdsPixelIntegrationStep.react','AdsPixelIntegrationSteps.react','AdsPixelGTMDefaults','Link.react','React','SUIBusinessTheme','SUIText.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PureComponent;j=babelHelpers.inherits(m,l);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AdsPixelGTM1=function(){this.refs.steps.moveForward();}.bind(this),o;}m.prototype.render=function(){return c('React').createElement('div',null,c('React').createElement(c('XUIDialogTitle.react'),null,c('React').createElement('div',null,i._("Google Tag Manager installation"))),c('React').createElement(c('AdsPixelIntegrationPreamble.react'),null,c('React').createElement(c('SUIText.react'),{display:'block',style:{marginLeft:'24px',marginRight:'24px',marginTop:'20px'},theme:c('SUIBusinessTheme')},i._("This tool will add Facebook pixel code snippets to your website using Google Tag Manager. It will also enable you to track specific website actions by assigning {bolded_pixel} to tags. You'll be able to add, edit and select the appropriate tags before publishing to Google Tag Manager.",[i.param('bolded_pixel',c('React').createElement('b',null,c('React').createElement('u',null,i._("pixel events"))))]),c('React').createElement(c('Link.react'),{href:c('AdsPixelGTMDefaults').PIXEL_URI,target:'_blank'}," Learn more.")),c('React').createElement('div',{className:"_en_"},c('React').createElement(c('AdsPixelIntegrationSteps.react'),{doExpandContract:true,ref:'steps'},c('React').createElement(c('AdsPixelIntegrationStep.react'),{greyBackground:true,hideFooter:true,selected:true,showSuccess:true},c('React').createElement('header',{className:"_eo0"},'Select your Google Tag Manager Account'),c('React').createElement(c('AdsPixelGTMAccountSelectorContainer.react'),{storeLoader:this.props.storeLoader,onNext:this.$AdsPixelGTM1})),c('React').createElement(c('AdsPixelIntegrationStep.react'),{greyBackground:true,hideFooter:true,selected:true,showSuccess:true},c('React').createElement('header',null,' Select a Container'),c('React').createElement(c('AdsPixelGTMContainerSelectorContainer.react'),{storeLoader:this.props.storeLoader,onNext:this.$AdsPixelGTM1})),c('React').createElement(c('AdsPixelIntegrationStep.react'),{greyBackground:true,hideFooter:true,selected:true,showSuccess:true},c('React').createElement('header',null,' Add or Edit Tags'),c('React').createElement(c('AdsPixelGTMTagSelectorContainer.react'),{storeLoader:this.props.storeLoader,onNext:this.$AdsPixelGTM1})),c('React').createElement(c('AdsPixelIntegrationStep.react'),{greyBackground:true,hideFooter:true,selected:true,showSuccess:true},c('React').createElement('header',null,' Publish Changes'),c('React').createElement(c('AdsPixelGTMTAGSummaryContainer.react'),{storeLoader:this.props.storeLoader,onNext:this.$AdsPixelGTM1}))))));};f.exports=m;}),null);
__d('AdsPixelGTMInstallSelector.react',['cx','fbt','AdsInterfacesLogger','AdsPixelDialogTypes','AdsPixelGoogleAPIHelperUtils','AdsPixelHelpCenter','AdsPixelIntegrationsConstants','AdsPixelStoreWrapper','AdsPixelViewActions','Link.react','AdsInterfacesLoggerConfigColumns','PixelInterfacesLoggingKeys','React','SignalsCancelButton.react','SignalsNextStepsSelector.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react','AdsPixelCreationConstants','PixelCreationUIConstants'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('AdsPixelCreationConstants').GTM_QUICKINSTALL,m=c('AdsPixelCreationConstants').GTM_MANNUALINSTALL,n=c('React').Component,o=c('PixelCreationUIConstants').DEFAULT_DIALOG_WIDTH;function p(u){var v=[{className:"_4a6_",id:l.key,title:l.title,description:c('React').createElement(r,null),iconURL:l.image},{className:"_4a6_",id:m.key,title:m.title,description:c('React').createElement(q,null),iconURL:m.image}];return (c('React').createElement('div',{className:"_4a70"},c('React').createElement(c('SignalsNextStepsSelector.react'),{options:v,onOptionSelect:u.onSelect})));}function q(){return (c('React').createElement('div',null,i._("{manual install pixel code in google tag manager}",[i.param('manual install pixel code in google tag manager',m.message)]),' ',c('React').createElement(c('Link.react'),{href:c('AdsPixelHelpCenter').GOOGLE_TAG_MANAGER_MANUAL.uri,target:'_blank',onClick:s},c('React').createElement('b',null,i._("Learn more"))),'.'));}function r(){return (c('React').createElement('div',null,i._("{quick install pixel code in google tag manager}",[i.param('quick install pixel code in google tag manager',l.message)]),' ',c('React').createElement(c('Link.react'),{href:c('AdsPixelHelpCenter').GOOGLE_TAG_MANAGER_QUICK.uri,target:'_blank',onClick:s},c('React').createElement('b',null,i._("Learn more"))),'.'));}function s(u){u.stopPropagation();}j=babelHelpers.inherits(t,n);k=j&&j.prototype;function t(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=k.constructor).call.apply(u,[this].concat(x)),this.$AdsPixelGTMInstallSelector3=function(z){var aa=c('AdsPixelIntegrationsConstants').GOOGLE.key;switch(z){case m.key:c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').INTEGRATIONS_CMS,{integrationName:aa});break;case l.key:this.props.api.triggerSignIn(this.routeToGTM);break;default:break;}}.bind(this),v;}t.prototype.componentDidMount=function(){var u,v=this.props.setWidth;v&&v(o);c('AdsInterfacesLogger').log({eventName:c('PixelInterfacesLoggingKeys').PIXEL_INSTALL_GTM_START,data:(u={},u[c('AdsInterfacesLoggerConfigColumns').SIGNALS_UI_EVENT_DATA]=JSON.stringify({pixelID:c('AdsPixelStoreWrapper').getCurrentPixelID()}),u)},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};t.prototype.render=function(){return c('React').createElement('div',null,this.$AdsPixelGTMInstallSelector1(),this.$AdsPixelGTMInstallSelector2());};t.prototype.$AdsPixelGTMInstallSelector1=function(){var u=this.props.prevDialogTitle;return c('React').createElement(c('XUIDialogTitle.react'),null,c('React').createElement('div',{className:"_4a71"},c('React').createElement('div',{className:"_4a72"},u),c('React').createElement('div',{className:"_4a73"},i._("Install your pixel code"))));};t.prototype.$AdsPixelGTMInstallSelector2=function(){return c('React').createElement('div',{className:"_4a74"},c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_4a75"},c('React').createElement('div',{className:"_4a76"},i._("Choose how you want to install your pixel in Google Tag Manager")),c('React').createElement('div',{className:"_4a77"},i._("To make your pixel work, you need to install some code on your website pages. There are two ways to do this.")),c('React').createElement(p,{onSelect:this.$AdsPixelGTMInstallSelector3}))),this.$AdsPixelGTMInstallSelector4());};t.prototype.$AdsPixelGTMInstallSelector4=function(){return c('React').createElement('div',{className:"_4a8a"},c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('SignalsCancelButton.react'),{onClick:this.props.onClose})));};t.prototype.routeToGTM=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').GTM_QUICKINSTALL);};f.exports=t;}),null);
__d('AssetImage.brands',['cx','ix','AppConstants.brands','BootloadOnRender.react','Image.react','JSResource','LazyComponent.react','React','fbglyph','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=c('AppConstants.brands').ASSET_TYPE;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$AssetImage2=function(){var t=this.props,u=t.asset,v=t.size,w=v==='xxlarge';switch(u.assetType){case m.AD_ACCOUNT:if(w){return i("114193");}else return i("114192");case m.PRODUCT_CATALOG:if(w){return i("115051");}else return i("115050");case m.INSTAGRAM_ACCOUNT:if(w){return i("114242");}else return i("114241");case m.PIXEL:if(w){return i("115389");}else return i("115388");case m.PAGE:if(w){return i("114257");}else return i("114256");case m.PROJECT:if(w){return i("114927");}else return i("114926");case m.SYSTEM_USER:if(w){return i("115143");}else return i("115142");case m.APP:if(w){return i("114285");}else return i("114284");case m.OFFLINE_CONVERSION_DATA_SET:if(w){return i("114780");}else return i("114779");default:return null;}}.bind(this),p;}n.prototype.$AssetImage1=function(){var o=this.props,p=o.asset,q=o.size;if(p.picture)return p.picture;return null;};n.prototype.render=function(){var o=this.props,p=o.asset,q=o.size,r=o.className,s=q==='xxlarge'?54:32,t=this.$AssetImage1();if(t)return (c('React').createElement(c('Image.react'),babelHelpers['extends']({},this.props,{height:s,src:t,width:s})));var u=this.$AssetImage2();if(u){var v=s+'px',w=q==='xxlarge'?24:20;return (c('React').createElement('div',{style:{height:v,width:v,padding:(s-w)/2+'px'},className:c('joinClasses')("_4ax1",r)},c('React').createElement(c('Image.react'),{className:"_4ax2",height:w,src:u,width:w})));}return (c('React').createElement(c('BootloadOnRender.react'),{loader:c('JSResource')('AssetImageAutomatic.brands').__setRef('AssetImage.brands'),placeholder:c('React').createElement('div',null),component:c('React').createElement(c('LazyComponent.react'),babelHelpers['extends']({},this.props,{height:s,width:s}))}));};n.propTypes={asset:l.object.isRequired,className:l.string,size:l.oneOf(['xlarge','xxlarge'])};n.defaultProps={size:'xlarge'};f.exports=n;}),null);
__d('AdsPixelInlineShareDialogContent.react',['cx','fbt','AppConstants.brands','AssetImage.brands','AssetName.brands','BUIAdoptionXUINotice.react','FBAssetSelector.react','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('AppConstants.brands').ASSET_TYPE,m=c('React').Component,n=c('React').PropTypes,o=i._("Successfully shared your pixel to the selected advert accounts");j=babelHelpers.inherits(p,m);k=j&&j.prototype;p.prototype.render=function(){return (c('React').createElement('div',null,c('React').createElement(c('XUIDialogTitle.react'),null,this.$AdsPixelInlineShareDialogContent1()),c('React').createElement(c('XUIDialogBody.react'),null,this.$AdsPixelInlineShareDialogContent2(),this.$AdsPixelInlineShareDialogContent3(),this.$AdsPixelInlineShareDialogContent4(),this.$AdsPixelInlineShareDialogContent5()),this.$AdsPixelInlineShareDialogContent6()));};p.prototype.$AdsPixelInlineShareDialogContent2=function(){if(!this.props.errorIDs||this.props.errorIDs.length===0)return null;return (c('React').createElement('div',{className:"_2hq"},i._({"*":"Failed to authorise {Number of accounts} advert account(s)"},[i.param('Number of accounts',this.props.errorIDs.length,[0])])));};p.prototype.$AdsPixelInlineShareDialogContent3=function(){var q=this.props.successAuthedAccounts;return q.length>0?c('React').createElement('div',{className:"_3-8m"},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'success'},o)):null;};p.prototype.$AdsPixelInlineShareDialogContent7=function(q){var r=babelHelpers['extends']({},q.originalAsset,{assetType:l.AD_ACCOUNT});return c('React').createElement(c('AssetImage.brands'),{asset:r});};p.prototype.$AdsPixelInlineShareDialogContent1=function(){return i._("Assign {pixel name} to advert accounts",[i.param('pixel name',this.props.pixel.name)]);};p.prototype.$AdsPixelInlineShareDialogContent4=function(){return i._("Select the advert accounts that you want to assign your Facebook pixel to.");};p.prototype.$AdsPixelInlineShareDialogContent5=function(){return (c('React').createElement(c('FBAssetSelector.react'),{assets:this.props.adAccounts,listTitle:c('AssetName.brands').getName(l.AD_ACCOUNT,1,true),renderImageForAssetFunction:this.$AdsPixelInlineShareDialogContent7,selectedAssets:this.props.selectedAdAccounts,textFilterField:this.props.filterField,onSelectionChange:this.props.onSelectionChange}));};p.prototype.$AdsPixelInlineShareDialogContent6=function(){var q=this.props.selectedAdAccounts,r=i._("Save Changes");return (c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),null),c('React').createElement(c('XUIDialogButton.react'),{disabled:!q||q.length===0,label:r,use:'confirm',onClick:this.props.onAuthorizeAdAccounts})));};function p(){j.apply(this,arguments);}p.propTypes={adAccounts:n.array.isRequired,businessID:n.string.isRequired,errorIDs:n.array,filterField:n.object,pixel:n.object.isRequired,selectedAdAccounts:n.array,successAuthedAccounts:n.array,onAuthorizeAdAccounts:n.func.isRequired,onSelectionChange:n.func.isRequired};f.exports=p;}),null);
__d('AdsPixelNoShareDialogContent.react',['cx','fbt','AdsInterfacesLogger','AdsAccountStoreWrapper_DEPRECATED','AdsPixelCommonDialog.react','BUIAdoptionXUIGrayText.react','BusinessConf','React','URI','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AdsPixelNoShareDialogContent2=function(){return i._("Share a pixel");},this.$AdsPixelNoShareDialogContent3=function(){return (c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-8-",display:'block',shade:'dark'},i._("You need to be an admin in the Business Manager account to share your pixel with other advert accounts. Contact the admin of your Business Manager account to share this pixel or request admin access.")));},this.$AdsPixelNoShareDialogContent1=function(){var s=i._("Contact Admin"),t=new (c('URI'))('/settings/info/').setSubdomain(c('BusinessConf').DOMAIN).addQueryData({act:c('AdsAccountStoreWrapper_DEPRECATED').getAccountID(),business_id:this.props.businessID});return (c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:this.$AdsPixelNoShareDialogContent4}),c('React').createElement(c('XUIDialogButton.react'),{href:t,label:s,target:'_blank',use:'confirm',onClick:this.$AdsPixelNoShareDialogContent5})));}.bind(this),o;}m.prototype.render=function(){return c('React').createElement(c('AdsPixelCommonDialog.react'),{footer:this.$AdsPixelNoShareDialogContent1(),pixelID:this.props.pixelID,pixelName:this.props.pixelName,title:this.$AdsPixelNoShareDialogContent2()},this.$AdsPixelNoShareDialogContent3());};m.prototype.$AdsPixelNoShareDialogContent5=function(){c('AdsInterfacesLogger').log({eventName:'ads_pixel_view_share_go_to_bm_info'},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};m.prototype.$AdsPixelNoShareDialogContent4=function(){c('AdsInterfacesLogger').log({eventName:'ads_pixel_view_share_go_to_bm_info_cancel'},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};m.propTypes={pixelID:l.string.isRequired,pixelName:l.string.isRequired,businessID:l.string.isRequired};f.exports=m;}),null);
__d('AdsPixelShareDialogContent.react',['cx','fbt','AdsInterfacesLogger','AdsAccountStoreWrapper_DEPRECATED','AdsPixelCommonDialog.react','BUIAdoptionXUIGrayText.react','BusinessConf','React','URI','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.render=function(){return (c('React').createElement(c('AdsPixelCommonDialog.react'),{footer:this.$AdsPixelShareDialogContent1(),pixelID:this.props.pixelID,pixelName:this.props.pixelName,title:this.$AdsPixelShareDialogContent2()},this.$AdsPixelShareDialogContent3()));};m.prototype.$AdsPixelShareDialogContent2=function(){return i._("Share a pixel");};m.prototype.$AdsPixelShareDialogContent3=function(){return (c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-8-",display:'block',shade:'dark'},i._("You need to use Business Manager to share your pixel with other advert accounts. Go to Business Manager to set up your free business account now.")));};m.prototype.$AdsPixelShareDialogContent1=function(){var n=i._("Create Business Manager Account"),o=new (c('URI'))('/create/').setSubdomain(c('BusinessConf').DOMAIN).addQueryData({act:c('AdsAccountStoreWrapper_DEPRECATED').getAccountID()});return (c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:this.$AdsPixelShareDialogContent4}),c('React').createElement(c('XUIDialogButton.react'),{href:o,label:n,target:'_blank',use:'confirm',onClick:this.$AdsPixelShareDialogContent5})));};m.prototype.$AdsPixelShareDialogContent5=function(){c('AdsInterfacesLogger').log({eventName:'ads_pixel_view_share_go_to_bm_intro'},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};m.prototype.$AdsPixelShareDialogContent4=function(){c('AdsInterfacesLogger').log({eventName:'ads_pixel_view_share_go_to_bm_intro_cancel'},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};function m(){j.apply(this,arguments);}m.propTypes={pixelID:l.string.isRequired,pixelName:l.string.isRequired};f.exports=m;}),null);
__d('AdsPixelShareInBMDialogContent.react',['cx','fbt','AdsInterfacesLogger','AdsPixelCommonDialog.react','BUIAdoptionXUIGrayText.react','BusinessConf','React','URI','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AdsPixelShareInBMDialogContent2=function(){return i._("Share a pixel");},this.$AdsPixelShareInBMDialogContent3=function(){return (c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-8-",display:'block',shade:'dark'},this.$AdsPixelShareInBMDialogContent4()));}.bind(this),this.$AdsPixelShareInBMDialogContent4=function(){return i._("You need to use Business Manager to share your pixel with other advert accounts.");},o;}m.prototype.render=function(){return c('React').createElement(c('AdsPixelCommonDialog.react'),{footer:this.$AdsPixelShareInBMDialogContent1(),pixelID:this.props.pixelID,pixelName:this.props.pixelName,title:this.$AdsPixelShareInBMDialogContent2()},this.$AdsPixelShareInBMDialogContent3());};m.prototype.$AdsPixelShareInBMDialogContent1=function(){var n=i._("Go to Business Manager"),o=new (c('URI'))('/settings/pixels/').setSubdomain(c('BusinessConf').DOMAIN).addQueryData({business_id:this.props.businessID,pixel_id:this.props.pixelID,show_authorize_ad_account:true});return (c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),{onClick:this.$AdsPixelShareInBMDialogContent5}),c('React').createElement(c('XUIDialogButton.react'),{href:o,label:n,target:'_blank',use:'confirm',onClick:this.$AdsPixelShareInBMDialogContent6})));};m.prototype.$AdsPixelShareInBMDialogContent6=function(){c('AdsInterfacesLogger').log({eventName:'ads_pixel_view_share_go_to_bm_setting'},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};m.prototype.$AdsPixelShareInBMDialogContent5=function(){c('AdsInterfacesLogger').log({eventName:'ads_pixel_view_share_go_to_bm_setting_cancel'},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};m.propTypes={businessID:l.string.isRequired,pixelID:l.string.isRequired,pixelName:l.string.isRequired};f.exports=m;}),null);
__d('AdAccountIDConverter',[],(function a(b,c,d,e,f,g){'use strict';var h={toActID:function i(j){if(j.startsWith('act_')){return j;}else return 'act_'+j;},toActIDs:function i(j){return j.map(function(k){return this.toActID(k);},this);},toID:function i(j){return j.replace(/^act_/,'');},toIDs:function i(j){return j.map(function(k){return this.toID(k);},this);}};f.exports=h;}),null);
__d('LoggingConstants.brands',[],(function a(b,c,d,e,f,g){f.exports={GET_OBJECT_API_ENDPOINT:'get_object',GET_OBJECT_BY_NEGATIVE_ID_API_ENDPOINT:'get_object_by_negative_id'};}),null);
__d('AnalyticsLogger.brands',['ads-lib-connect_DEPRECATED','AdsPerfTiming','ApiErrorHandler.brands','AppLogger.brands','GraphAPI','LoggingConstants.brands'],(function a(b,c,d,e,f,g){'use strict';var h=false,i={logHomePageInteractive:function j(){i.logInteractive(c('AppLogger.brands').CATEGORY.HOMEPAGE_V3);},logNewHomePageInteractive:function j(k){var l=c('AppLogger.brands').CATEGORY.HOMEPAGE_V4;i.logInteractive(l,{pane:k});},logSettingsPageInteractive:function j(k){var l=c('AppLogger.brands').CATEGORY.SETTINGS_V2;i.logInteractive(l,{pane:k});},logInteractive:function j(k,l){if(h)return;h=true;var m=Date.now()-c('AdsPerfTiming').start;c('AppLogger.brands').logForAnalytics(k,c('AppLogger.brands').EVENT.APP_INIT,Object.assign({current_action_time:m,actual_event_time:Date.now(),extra:window.performance&&window.performance.now&&window.performance.now()},l));},logPaneChange:function j(k,l){if(k===l)return;var m=c('AppLogger.brands').CATEGORY.SETTINGS_V2;c('AppLogger.brands').logForAnalytics(m,c('AppLogger.brands').EVENT.CHANGE_PANE,{previous_tab:k,tab:l});},logJSError:function j(k){if(k&&k.type==='http'&&k.message==='unknown error')return;c('AppLogger.brands').logError(c('AppLogger.brands').EVENT.JAVASCRIPT_ERROR,{error_message:k.message,error_type:k.name,stack_trace:k.stack,error_data:JSON.stringify(k)});},logApiCall:function j(k,l){if(!c('ads-lib-connect_DEPRECATED').isError(k))return;var m=k.error;if(!m)return;c('AppLogger.brands').logForAnalytics(c('AppLogger.brands').CATEGORY.API_CALL,c('AppLogger.brands').EVENT.API_CALL_FAILED,{api_fields:l.fields&&JSON.stringify(l.fields),api_endpoint:this._getAPIEndPoint(l.endpoint),raw_endpoint:l.endpoint,error_code:m.code,error_sub_code:m.subcode,error_message:m.message,error_type:m.type});},_getAPIEndPoint:function j(k){if(!k||k.length===0||k==='/')return k;if(k[0]==='/')k=k.slice(1);if(k[k.length-1]==='/')k=k.slice(0,-1);var l=void 0,m=void 0;l=/^[a-z\/\_]+$/;m=k.match(l);if(m)return m[0];l=/^[0-9\_]+$/;m=k.match(l);if(m)return c('LoggingConstants.brands').GET_OBJECT_API_ENDPOINT;l=/^[0-9\-]+$/;m=k.match(l);if(m)return c('LoggingConstants.brands').GET_OBJECT_BY_NEGATIVE_ID_API_ENDPOINT;l=/^act\_[0-9]+\/(.+)+$/;m=k.match(l);if(m)return m[1];l=/^[0-9]+\/(.+)+$/;m=k.match(l);if(m)return m[1];l=/.*facebook.com\/[0-9]*\/*(.+)\?/;m=k.match(l);if(m)return m[1];return k;}};if(!c('GraphAPI').hasCustomErrorHandler())c('GraphAPI').addErrorHandler(c('ApiErrorHandler.brands').setDefaultHandler(i.logJSError).handleApiError);f.exports=i;}),null);
__d('GraphDAO.brands',['AdsDaoGraph','BrandsAppConfig'],(function a(b,c,d,e,f,g){'use strict';var h={},i={forBrand:function j(k){if(Object.prototype.hasOwnProperty.call(h,k))return h[k];var l=c('AdsDaoGraph').primedForBrand(k,c('BrandsAppConfig').locale);h[k]=l;return l;},dao:c('AdsDaoGraph')};f.exports=i;}),null);
__d('ProjectAPIConverter.brands',['AppConstants.brands'],(function a(b,c,d,e,f,g){'use strict';var h=c('AppConstants.brands').ASSET_TYPE;function i(l){return {id:l.id+"",name:l.name,creationTime:new Date(l.created_time*1000),creatorName:l.creator&&l.creator.name||'Unknown',brandID:l.business?l.business.id:null,assetType:h.PROJECT};}function j(l,m){return {name:l.name,handleError:m};}function k(l,m,n){return {projectID:l.id,name:m,handleError:n};}f.exports={fromAPI:i,getDAOParamsForCreate:j,getDAOParamsForUpdate:k};}),null);
__d('ProjectAssetAPIConverter.brands',['AdAccountIDConverter','AppConstants.brands'],(function a(b,c,d,e,f,g){'use strict';var h=c('AppConstants.brands').ASSET_TYPE,i=c('AppConstants.brands').OBJECT_STATUS;function j(s,t){return {projectID:s,assetID:t.id,assetType:h.PAGE,objectStatus:i.SYNCED};}function k(s,t){return {projectID:s,assetID:t.account_id,assetType:h.AD_ACCOUNT,objectStatus:i.SYNCED};}function l(s,t){return {projectID:s,assetID:t.id,assetType:h.PRODUCT_CATALOG,objectStatus:i.SYNCED};}function m(s,t,u){return {project_id:s,page_id:t,handleError:u};}function n(s,t,u){return {project_id:s,adaccount_id:c('AdAccountIDConverter').toActID(t),handleError:u};}function o(s,t,u){return {project_id:s,product_catalog_id:t,handleError:u};}function p(s,t){return {project_id:s,page_id:t};}function q(s,t){return {project_id:s,adaccount_id:c('AdAccountIDConverter').toActID(t)};}function r(s,t){return {project_id:s,product_catalog_id:t};}f.exports={fromAPIForPage:j,fromAPIForAdAccount:k,fromAPIForProductCatalog:l,getDAOParamsForPageAdd:p,getDAOParamsForPageDelete:m,getDAOParamsForAdAccountAdd:q,getDAOParamsForAdAccountDelete:n,getDAOParamsForProductCatalogAdd:r,getDAOParamsForProductCatalogDelete:o};}),null);
__d('AdsValidator',['invariant','underscore.ads','emptyFunction'],(function a(b,c,d,e,f,g,h){'use strict';function i(j){this.propertySpecs=j;this.validators={};this.transforms={};this.nullables={};this.conditionals={};this.defaultErrorMessages={};this._initialize();}i.prototype.isDeclaredProperty=function(j){return this.propertySpecs[j]!==undefined;};i.prototype.validateProperty=function(j,k,l,m){var n=this._validate(j,k,false,l,m);return n;};i.prototype.validateProperties=function(j,k,l){return this._validateProperties(j,j,l,k,false);};i.prototype.transformAndValidateProperties=function(j,k,l){return this._validateProperties(j,j,l,k,true);};i.prototype.transformAndValidateEditedProperties=function(j,k){return this._validateProperties(j,k,j,false,true);};i.prototype._validateProperties=function(j,k,l,m,n){var o={},p=m?Object.keys(this.propertySpecs):Object.keys(j);p.forEach(function(q){if(!this.isDeclaredProperty(q))return;var r=j[q],s=this._validate(q,r,n,k||j,l);if(n||!s.isValid||s.hasWarning)o[q]=s;}.bind(this));return Object.keys(o).length?o:null;};i.prototype.transformAndValidateProperty=function(j,k,l,m){return this._validate(j,k,true,l,m);};i.prototype._initialize=function(){function j(k){if(!Array.isArray(k)){c('underscore.ads').isFunction(k)||h(0);return [k];}return k;}c('underscore.ads').forEach(this.propertySpecs,function(k,l){if(k.validators)this.validators[l]=j(k.validators);if(k.transforms)this.transforms[l]=j(k.transforms);if(k.isNullable)this.nullables[l]=typeof k.isNullable==='function'?k.isNullable:c('emptyFunction').thatReturns(k.isNullable);if(k.conditional)this.conditionals[l]=k.conditional;if(k.defaultErrorMessage)this.defaultErrorMessages[l]=typeof k.defaultErrorMessage==='function'?k.defaultErrorMessage:c('emptyFunction').thatReturns(k.defaultErrorMessage);}.bind(this));};i.prototype._validate=function(j,k,l,m,n){this.propertySpecs[j]||h(0);if(k===undefined)return {isValid:false,text:j+' can never be undefined',value:k};var o=this.conditionals[j];if(o&&!o(k,m,n))return this._validResult(k);if(k===null){var p=this.defaultErrorMessages[j]?this.defaultErrorMessages[j](m):null;p=p||j+' cannot be null';var q=this.nullables[j];return q&&q(m)?this._validResult(k):{isValid:false,text:p,value:k};}var r=this.validators[j]||[],s=this.transforms[j];if(l&&s)r=s.concat(r);return this._applyValidators(j,k,r,m,n);};i.prototype._applyValidators=function(j,k,l,m,n){var o=c('underscore.ads').reduce(l,function(q,r){if(!q.isValid||q.hasWarning)return q;var s=r(q.value,m,n);if(!Object.prototype.hasOwnProperty.call(s,'value'))s.value=q.value;return s;},this._validResult(k)),p=this.defaultErrorMessages[j];if(!o.isValid&&!o.text&&p&&p(m))o.text=p(m);return o;};i.prototype._validResult=function(j){return {isValid:true,value:j,hasWarning:false};};f.exports=i;}),null);
__d('AdsValidatorTransforms',[],(function a(b,c,d,e,f,g){'use strict';function h(m){var n=typeof m==='string'?parseFloat(m,10):m;return {isValid:n==m,text:'is not a floating point number',value:n};}function i(m){var n=typeof m==='string'?parseInt(m,10):m;return {isValid:n==m,text:'is not a number',value:n};}function j(m){var n=''+m;return {isValid:true,value:n};}function k(m){return {isValid:true,value:m.trim()};}function l(m,n){n=Math.floor(Math.abs(n));if(m&&n>m)n=m;return {isValid:true,value:n};}f.exports={toFloat:h,toInteger:i,toPositiveInteger:l,toString:j,trim:k};}),null);
__d('ProjectAssetValidator.brands',['AdsValidator','AdsValidatorTests','AdsValidatorTransforms'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('AdsValidator'))({projectID:{validators:c('AdsValidatorTests').isFBIDString,transforms:c('AdsValidatorTransforms').toString,isNullable:false},assetID:{validators:c('AdsValidatorTests').isFBIDString,transforms:c('AdsValidatorTransforms').toString,isNullable:false}});f.exports=h;}),null);
__d('ProjectValidator.brands',['AdsValidator','AdsValidatorTests','AdsValidatorTransforms'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('AdsValidator'))({id:{validators:c('AdsValidatorTests').isFBIDOrClientIDString,transforms:c('AdsValidatorTransforms').toString,isNullable:false},name:{validators:c('AdsValidatorTests').isLengthyString,transforms:c('AdsValidatorTransforms').trim,isNullable:false},creationTime:{validators:c('AdsValidatorTests').isDate,transforms:c('AdsValidatorTransforms').toInteger,isNullable:false},creatorName:{validators:c('AdsValidatorTests').isLengthyString,isNullable:false},serverID:{validators:c('AdsValidatorTests').isFBIDString,transforms:c('AdsValidatorTransforms').toString,isNullable:true}});f.exports=h;}),null);
__d('ProjectResourceRequests.brands',['AdAccountIDConverter','AnalyticsLogger.brands','AppConstants.brands','AppLogger.brands','AdsFBBatch_DEPRECATED','GraphDAO.brands','ImmutableObject','ProjectAPIConverter.brands','ProjectAssetAPIConverter.brands','ProjectAssetValidator.brands','ProjectValidator.brands','underscore.ads','AdsAPISpec'],(function a(b,c,d,e,f,g){'use strict';var h=c('AppConstants.brands').ASSET_TYPE,i=c('AppConstants.brands').DEFAULT_API_LIMIT,j=c('AdsAPISpec').BRAND_PROJECT_FIELDS,k={fetchAllProjectsForBrand:function r(s,t){var u=c('GraphDAO.brands').forBrand(s);u.fetch.projectsForBrand.one(function(v){l(t,v);u.fetch.projectsForBrand.clearCache();},{fields:j.join(),limit:i,handleError:function v(w,x,y){c('AnalyticsLogger.brands').logApiCall(x,y);l(t,[]);}});},fetchAllAssetsForProjects:function r(s,t,u,v){var w=void 0,x=void 0;switch(u){case h.PAGE:w='/pages';x=m;break;case h.AD_ACCOUNT:w='/adaccounts';x=n;break;case h.PRODUCT_CATALOG:w='/product_catalogs';x=o;break;}var y=new (c('AdsFBBatch_DEPRECATED'))(),z={};t.forEach(function(aa){y.add('GET','/'+c('AppConstants.brands').API_VERSION+'/'+aa+w,{limit:i},function(ba,ca){x(function(da){z[aa]=da;ca();},aa,ba.data||[]);});});y.run(v.bind(null,z));},fetchProjectsForAsset:function r(s,t,u){if(t===h.AD_ACCOUNT)s=c('AdAccountIDConverter').toActID(s);var v=c('GraphDAO.brands').dao;v.fetch.projectsForAsset.one(function(w){l(u,w,true);v.fetch.projectsForAsset.clearCache();},{assetID:s,fields:'id,name,business.fields(id)',limit:i,handleError:function w(x,y,z){c('AnalyticsLogger.brands').logApiCall(y,z);l(u,[]);}});}};function l(r,s,t){var u={};s.forEach(function(v){var w=c('ProjectAPIConverter.brands').fromAPI(v);if(!t)p(w);u[w.id]=new (c('ImmutableObject'))(w);});r(u);}function m(r,s,t){var u={};t.forEach(function(v){var w=c('ProjectAssetAPIConverter.brands').fromAPIForPage(s,v);q(s,w);u[w.assetID]=new (c('ImmutableObject'))(w);});r(u);}function n(r,s,t){var u={};t.forEach(function(v){var w=c('ProjectAssetAPIConverter.brands').fromAPIForAdAccount(s,v);q(s,w);u[w.assetID]=new (c('ImmutableObject'))(w);});r(u);}function o(r,s,t){var u={};t.forEach(function(v){var w=c('ProjectAssetAPIConverter.brands').fromAPIForProductCatalog(s,v);q(s,w);u[w.assetID]=new (c('ImmutableObject'))(w);});r(u);}function p(r){var s=c('ProjectValidator.brands').validateProperties(r);if(s)c('underscore.ads').forEach(s,function(t,u){c('AppLogger.brands').logForAnalytics(c('AppLogger.brands').CATEGORY.ERROR,c('AppLogger.brands').EVENT.PROJECT_RES_REQ_FAILURE,{project_id:r.id,prop_name:u,error:t});});}function q(r,s){var t=c('ProjectAssetValidator.brands').validateProperties(s);if(t)c('underscore.ads').forEach(t,function(u,v){c('AppLogger.brands').logForAnalytics(c('AppLogger.brands').CATEGORY.ERROR,c('AppLogger.brands').EVENT.PROJECT_RES_REQ_FAILURE,{project_id:r,asset_id:s.id,prop_name:v,error:u});});}f.exports=k;}),null);
__d('ProjectStore.brands',['AppConstants.brands','AdsDispatcher','Arbiter','ClientServerIDMap','ImmutableObject','ProjectResourceRequests.brands','underscore.ads'],(function a(b,c,d,e,f,g){'use strict';var h=c('AppConstants.brands').ACTION,i=c('AppConstants.brands').PANES,j=c('AppConstants.brands').OBJECT_STATUS,k=c('AppConstants.brands').PROJECT_ACTION,l={},m={},n={},o=false,p=Object.assign(new (c('Arbiter'))(),{_debugDump:function ma(){return {_projectsByBrandID:l,_requestedProjects:m,_assetsByAssetTypeAndProjectID:n,_isDirty:o};},_flush:function ma(){o=true;return this;},get:function ma(na){return c('underscore.ads')(l).chain().values().map(function(oa){return c('underscore.ads').values(oa);}).flatten().find(function(oa){return oa.id===na;}).value();},getAllProjectsByBrandID:function ma(na,oa){if(Object.prototype.hasOwnProperty.call(l,na)&&!o){var pa=la(l[na]);oa(pa);return;}c('ProjectResourceRequests.brands').fetchAllProjectsForBrand(na,function(qa){o=false;l[na]=qa;oa(qa);});},getAllAssetsByProjectID:function ma(na,oa,pa,qa){this.getAllAssetsByProjectIDs(na,[oa],pa,function(ra){qa(ra[oa]);});},getAllAssetsByProjectIDs:function ma(na,oa,pa,qa){if(!Object.prototype.hasOwnProperty.call(n,pa))n[pa]={};var ra=n[pa],sa=c('underscore.ads')(oa).filter(function(ta){return !Object.prototype.hasOwnProperty.call(ra,ta);});c('ProjectResourceRequests.brands').fetchAllAssetsForProjects(na,sa,pa,function(ta){c('underscore.ads')(ta).each(function(va,wa){ra[wa]=va;});var ua={};oa.forEach(function(va){ua[va]=la(ra[va]);});qa(ua);});},getRequestedProject:function ma(na,oa){var pa=c('ClientServerIDMap').resolveID(oa),qa=m[na]&&m[na][pa]||null;return qa;},dispatchToken:c('AdsDispatcher').register(function(ma){var na=false,oa=ma.action;switch(oa.type){case c('AppConstants.brands').ACTION.FLUSH:p._flush();break;case k.CREATE_START:q(oa);na=true;break;case k.CREATE_SUCCESS:r(oa);na=true;break;case k.CREATE_ERROR:s(oa);na=true;break;case k.DELETE_START:t(oa);na=true;break;case k.DELETE_SUCCESS:u(oa);na=true;break;case k.DELETE_ERROR:v(oa);na=true;break;case k.UPDATE_START:w(oa);na=true;break;case k.UPDATE_SUCCESS:x(oa);na=true;break;case k.UPDATE_ERROR:y(oa,j.UPDATE_ERROR);na=true;break;case k.ADD_ASSETS_START:z(oa);na=true;break;case k.ADD_ASSETS_SUCCESS:aa(oa);na=true;break;case k.ADD_ASSETS_ERROR:ba(oa);na=true;break;case k.DELETE_ASSET_START:ca(oa);na=true;break;case k.DELETE_ASSET_SUCCESS:da(oa);na=true;break;case k.DELETE_ASSET_ERROR:ea(oa);na=true;break;case k.CLEAR_STATUS:fa(oa);break;case h.UPDATE_CONTEXT:ha(oa);break;}if(na)p.inform('change');})});function q(ma){var na=ma.project,oa=c('ClientServerIDMap').resolveID(na.id),pa=ma.brandID;na.objectStatus=j.CREATING;if(!Object.prototype.hasOwnProperty.call(m,pa))m[pa]={};m[pa][oa]=na;}function r(ma){var na=ma.project;c('ClientServerIDMap').addIDMapping(ma.clientID,na.id);na.objectStatus=j.CREATE_SUCCESS;var oa=ma.brandID;m[oa][na.id]=na;var pa=new (c('ImmutableObject'))(na);l[oa][na.id]=pa;}function s(ma){m[ma.brandID][ma.project.id]=Object.assign(ma.project||{},{objectStatus:j.CREATE_ERROR,errorMessage:ma.errorMessage});}function t(ma){ja(ma.brandID,ma.projectID,{objectStatus:j.DELETING});}function u(ma){ja(ma.brandID,ma.projectID,{objectStatus:j.DELETED});}function v(ma){ja(ma.brandID,ma.projectID,{objectStatus:j.SYNCED});}function w(ma){var na=babelHelpers['extends']({},ma.project);na.objectStatus=j.UPDATING;var oa=ma.brandID;if(!Object.prototype.hasOwnProperty.call(m,oa))m[oa]={};m[oa][na.id]=na;}function x(ma){var na=ma.brandID,oa=ma.project.id,pa=m[na][oa];pa.objectStatus=j.UPDATE_SUCCESS;m[na][oa]=pa;ja(na,oa,{name:ma.newName});}function y(ma){var na=m[ma.brandID][ma.project.id];na.objectStatus=j.UPDATE_ERROR;na.errorMessage=ma.errorMessage;m[ma.brandID][ma.project.id]=na;}function z(ma){var na=ma.projectID,oa=ma.assetIDs,pa=ma.assetType;if(!Object.prototype.hasOwnProperty.call(n,pa))n[pa]={};if(!Object.prototype.hasOwnProperty.call(n[pa],na))n[pa][na]={};var qa=n[pa][na];oa.forEach(function(ra){qa[ra]=new (c('ImmutableObject'))({projectID:na,assetID:ra,assetType:pa,objectStatus:j.CREATING});});}function aa(ma){var na=ma.projectID,oa=ma.assetIDs,pa=ma.assetType,qa=n[pa];oa.forEach(function(ra){Object.keys(qa).forEach(function(sa){if(sa!=na)delete qa[sa][ra];});ka(pa,na,ra,{objectStatus:j.CREATE_SUCCESS});});}function ba(ma){c('underscore.ads').each(ma.errorMessagesByAssetID,function(na,oa){ka(ma.assetType,ma.projectID,oa,{objectStatus:j.CREATE_ERROR,errorMessage:na});});}function ca(ma){ka(ma.assetType,ma.projectID,ma.assetID,{objectStatus:j.DELETING});}function da(ma){ka(ma.assetType,ma.projectID,ma.assetID,{objectStatus:j.DELETED});}function ea(ma){ka(ma.assetType,ma.projectID,ma.assetID,{objectStatus:j.SYNCED});}function fa(ma){ga(ma.brandID,ma.projectID);}function ga(ma,na){if(m[ma]&&m[ma][na]){var oa=m[ma][na];oa.objectStatus=j.SYNCED;m[ma][na]=oa;}if(!l[ma][na])return;switch(l[ma][na].objectStatus){case j.UPDATE_SUCCESS:case j.CREATE_SUCCESS:ja(ma,na,{objectStatus:j.SYNCED});break;}Object.keys(n).forEach(function(pa){if(n[pa][na])c('underscore.ads')(n[pa][na]).each(ia.bind(null,pa));});}function ha(ma){if(ma.partialContext.pane!==i.PROJECT)Object.keys(l).forEach(function(na){Object.keys(l[na]).forEach(function(oa){ga(na,oa);});});}function ia(ma,na,oa){var pa=na.projectID;switch(na.objectStatus){case j.CREATE_SUCCESS:ka(ma,pa,oa,{objectStatus:j.SYNCED,oldProjectName:undefined});break;case j.CREATE_ERROR:delete n[ma][pa][oa];break;}}function ja(ma,na,oa){var pa=l[ma][na];l[ma][na]=c('ImmutableObject').set(pa,oa);}function ka(ma,na,oa,pa){if(!n[ma])return;var qa=n[ma][na][oa];n[ma][na][oa]=c('ImmutableObject').set(qa,pa);}function la(ma){var na={};c('underscore.ads').each(ma,function(oa,pa){if(oa.objectStatus===j.DELETED||oa.objectStatus===j.DELETING)return;na[pa]=oa;});return na;}f.exports=p;}),null);
__d('BizHomeFilterFieldConfigStore',['ix','fbt','AdsGenericFilterField','AdsGenericFilterFieldType','AdsGenericFilterOperatorConfig','AppConstants.brands','Arbiter','AssetName.brands','BrandsAppConfig','ProjectStore.brands','fbglyph'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('AppConstants.brands').ACCOUNT_STATUS,k=c('AppConstants.brands').ASSET_TYPE,l=[{value:k.PAGE},{value:k.AD_ACCOUNT},{value:k.PRODUCT_CATALOG}],m=[{value:j.ACTIVE},{value:j.CLOSED}],n={ID:{text:i._("ID"),field:new (c('AdsGenericFilterField'))('id',c('AdsGenericFilterFieldType').STRING),operators:[c('AdsGenericFilterOperatorConfig').EQUAL],iconURI:h("124049")},NAME:{text:i._("Name"),field:new (c('AdsGenericFilterField'))('name',c('AdsGenericFilterFieldType').STRING),operators:[c('AdsGenericFilterOperatorConfig').CONTAIN],iconURI:h("124049")},ASSET_TYPE:{text:i._("Type"),field:new (c('AdsGenericFilterField'))('asset_type',c('AdsGenericFilterFieldType').STRING_SET),operators:[c('AdsGenericFilterOperatorConfig').IN],values:l,valueRenderer:q,iconURI:h("124910")},PROJECT:{text:i._("Project"),field:new (c('AdsGenericFilterField'))(c('BrandsAppConfig').BUSINESS_PROJECT_ID_FILTER,c('AdsGenericFilterFieldType').STRING_SET),operators:[c('AdsGenericFilterOperatorConfig').EQUAL],values:undefined,isDynamic:true,valueRenderer:p,iconURI:h("125244")},NAME_OR_ID:{text:i._("Name or ID"),field:new (c('AdsGenericFilterField'))(c('BrandsAppConfig').NAME_OR_ID_FILTER,c('AdsGenericFilterFieldType').STRING),operators:[c('AdsGenericFilterOperatorConfig').CONTAIN],iconURI:h("124049")},IDs:{text:i._("ID"),field:new (c('AdsGenericFilterField'))('id',c('AdsGenericFilterFieldType').STRING_SET),operators:[c('AdsGenericFilterOperatorConfig').IN,c('AdsGenericFilterOperatorConfig').NOT_IN],iconURI:h("124049")},STATUS:{text:i._("Status"),field:new (c('AdsGenericFilterField'))('account_status',c('AdsGenericFilterFieldType').NUMBER),operators:[c('AdsGenericFilterOperatorConfig').EQUAL],values:m,valueRenderer:r,iconURI:h("124049")}},o=Object.assign(new (c('Arbiter'))(),{getField:function s(t){return n[t];},getUIFields:function s(){var t={NAME:n.NAME,ASSET_TYPE:n.ASSET_TYPE,NAME_OR_ID:n.NAME_OR_ID,ACCOUNT_STATUS:n.STATUS,PROJECT:n.PROJECT};return t;},getAdAccountFields:function s(){return {NAME_OR_ID:n.NAME_OR_ID,ACCOUNT_STATUS:n.STATUS,PROJECT:n.PROJECT};},getAPIFields:function s(){return [n.ID,n.NAME,n.PROJECT,n.NAME_OR_ID,n.IDs,n.STATUS];},setProjects:function s(t){var u=t.map(function(v){return {value:v};});n.PROJECT.values=u;this.inform('change');}});function p(s){var t=c('ProjectStore.brands').get(s);if(!t)return s;return t.name;}function q(s){return c('AssetName.brands').getName(s,1,true);}function r(s){switch(parseInt(String(s),10)){case j.ACTIVE:return i._("Active");case j.CLOSED:return i._("Deactivated");default:return null;}}f.exports=o;}),null);
__d('BrandPixelServerActions.brands',['AdsInterfacesLogger','AdsDispatcher','AdsPixelServerActionTypes','BrandPixelServerActionTypes.brands','AdsInterfacesLoggerConfigColumns','PixelInterfacesLoggingKeys'],(function a(b,c,d,e,f,g){'use strict';var h={updatePixels:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({feedback:{pixelList:j,businessID:k},type:c('BrandPixelServerActionTypes.brands').RECEIVE_PIXELS});},createPixel:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({feedback:{pixelList:j,businessID:k},type:c('BrandPixelServerActionTypes.brands').BUSINESS_PIXEL_CREATED});},updatePixelSharedAdAccounts:function i(j,k,l){c('AdsDispatcher').handleUpdateFromServerResponse({feedback:{pixelID:j,businessID:k,sharedAdAccounts:l},type:c('BrandPixelServerActionTypes.brands').RECEIVE_PIXEL_SHARED_ACCOUNTS});},removePixelSharedAdAccount:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({feedback:{adAccountID:k,pixelID:j},type:c('BrandPixelServerActionTypes.brands').REMOVE_PIXEL_SHARED_ACCOUNT});},updatePixelSharedAgencies:function i(j,k,l){c('AdsDispatcher').handleUpdateFromServerResponse({feedback:{pixelID:j,businessID:k,sharedAgencies:l},type:c('BrandPixelServerActionTypes.brands').RECEIVE_PIXEL_SHARED_AGENCIES});},removePixelSharedAgency:function i(j,k){c('AdsDispatcher').handleUpdateFromServerResponse({feedback:{agencyID:k,pixelID:j},type:c('BrandPixelServerActionTypes.brands').REMOVE_PIXEL_SHARED_AGENCY});},waitingForServerResponse:function i(){c('AdsDispatcher').handleUpdateFromServerResponse({type:c('AdsPixelServerActionTypes').WAIT_FOR_SERVER_RESPONSE});},receiveError:function i(j){var k;c('AdsDispatcher').handleUpdateFromServerResponse({feedback:{error:j},type:c('BrandPixelServerActionTypes.brands').RECEIVE_ERROR});c('AdsInterfacesLogger').log({eventName:c('PixelInterfacesLoggingKeys').PIXEL_INTERFACE_ERROR,data:(k={},k[c('AdsInterfacesLoggerConfigColumns').SIGNALS_UI_EVENT_DATA]=JSON.stringify({error:j}),k)},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);}};f.exports=h;}),null);
__d('BrandPixelViewActions.brands',['AdsGraphAPI','AppConstants.brands','BrandPixelServerActions.brands','BrandPixelStore.brands','promiseAllByKey'],(function a(b,c,d,e,f,g){'use strict';var h=c('AppConstants.brands').DEFAULT_API_LIMIT,i={loadPixelSharedAdAccounts:function j(k,l){if(c('BrandPixelStore.brands').areSharedAdAccountsLoaded(k))return;c('AdsGraphAPI').get(f.id).object('adspixel',k).edge('shared_accounts').get({business:l,fields:['account_id','id','name','owner_business'],limit:h}).done(function(m){c('BrandPixelServerActions.brands').updatePixelSharedAdAccounts(k,l,m.data);});},addSharedAdAccounts:function j(k,l,m,n,o){var p={},q=[];l.forEach(function(r){if(c('BrandPixelStore.brands').isSharedWithAdAccount(r.id,k))return;p[r.id]=c('AdsGraphAPI').get(f.id).object('adspixel',k).edge('shared_accounts').post({account_id:r.id,business:m});p[r.id].done(function(s){c('BrandPixelServerActions.brands').updatePixelSharedAdAccounts(k,m,[{account_id:r.id,id:'act_'.concat(r.id),name:r.name}]);},function(s){q.push(r.id);});});c('promiseAllByKey')(p)['catch'](function(){}).done(function(){if(q.length===0){n(l);}else o(q);});},removeSharedAdAccount:function j(k,l,m){c('AdsGraphAPI').get(f.id).object('adspixel',k).edge('shared_accounts').remove({account_id:l,business:m}).done(function(n){c('BrandPixelServerActions.brands').removePixelSharedAdAccount(k,l);});},loadPixelSharedAgencies:function j(k,l){if(c('BrandPixelStore.brands').areSharedAgenciesLoaded(k))return;var m={};c('AdsGraphAPI').get(f.id).object('adspixel',k).edge('shared_agencies').get({business:l}).done(function(n){n.data.forEach(function(o){m[o.id]=c('AdsGraphAPI').get(f.id).object('brand',o.id).get({fields:['id','name','picture']});m[o.id].done(function(p){c('BrandPixelServerActions.brands').updatePixelSharedAgencies(k,l,[{id:p.id,name:p.name,picture:p.picture.data.url}]);});});});c('promiseAllByKey')(m)['catch'](function(){}).done(function(){c('BrandPixelStore.brands').setSharedAgenciesLoaded(k);});},addSharedAgency:function j(k,l,m,n,o){if(c('BrandPixelStore.brands').isSharedWithAgency(l.id,k))return;c('AdsGraphAPI').get(f.id).object('adspixel',k).edge('shared_agencies').post({agency_id:l.id,business:m}).done(function(p){c('BrandPixelServerActions.brands').updatePixelSharedAgencies(k,m,[l]);n(p);},function(p){o(p);});},removeSharedAgency:function j(k,l,m){c('AdsGraphAPI').get(f.id).object('adspixel',k).edge('shared_agencies').remove({agency_id:l,business:m}).done(function(n){c('BrandPixelServerActions.brands').removePixelSharedAgency(k,l);});}};f.exports=i;}),null);
__d('BrandUserStore.brands',['AdsDispatcher','AdsPixelDataManager','AdsPixelServerActionTypes','CurrentUser','FluxStore','adsBaseStoreMixin','dotAccess'],(function a(b,c,d,e,f,g){'use strict';var h,i,j='ADMIN',k='LOADING';h=babelHelpers.inherits(l,c('FluxStore'));i=h&&h.prototype;function l(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$BrandUserStoreClass1={};this.$BrandUserStoreClass3=false;}l.prototype.getStoreName=function(){return 'BrandUserStore';};l.prototype.__onDispatch=function(n){var o=n.action;switch(o.actionType){case c('AdsPixelServerActionTypes').RECEIVE_BUSINESS_USERS:this.$BrandUserStoreClass4(o.feedback.businessID,o.feedback.users);this.__emitChange();break;case c('AdsPixelServerActionTypes').RECEIVE_ACCOUNT_BUSINESS:this.$BrandUserStoreClass2=o.feedback.business||null;this.__emitChange();break;}};l.prototype.getAccountBusinessID=function(){if(this.$BrandUserStoreClass2===undefined){this.$BrandUserStoreClass2=k;c('AdsPixelDataManager').loadAccountBusiness();}if(this.$BrandUserStoreClass2!==k)return this.$BrandUserStoreClass2;};l.prototype.isLoading=function(){return this.$BrandUserStoreClass3||this.$BrandUserStoreClass2===k;};l.prototype.$BrandUserStoreClass4=function(n,o){this.$BrandUserStoreClass3=false;this.$BrandUserStoreClass1[n]={};o.forEach(function(p){var q=c('dotAccess')(p,'user.id');if(q)this.$BrandUserStoreClass1[n][q]=p.role;}.bind(this));};var m=new l();f.exports=m;}),null);
__d('BaseStore.brands',['AdsDispatcher','Arbiter','ClientIDs'],(function a(b,c,d,e,f,g){'use strict';function h(){this.$BaseStore1='store-id-'+c('ClientIDs').getNewClientID();if(this.onDispatchToken)this.dispatchToken=c('AdsDispatcher').register(this.onDispatchToken.bind(this));this.$BaseStore2={};}h.prototype.subscribe=function(i,j){this.$BaseStore3=c('Arbiter').subscribe(this.$BaseStore4(i),j);return this.$BaseStore3;};h.prototype.unsubscribe=function(){this.$BaseStore3.unsubscribe();};h.prototype.informNow=function(i){c('Arbiter').inform(this.$BaseStore4(i),null);};h.prototype.inform=function(i){if(this.$BaseStore2[i])clearTimeout(this.$BaseStore2[i]);this.$BaseStore2[i]=setTimeout(function(){this.informNow(i);this.$BaseStore2[i]=null;}.bind(this),0);};h.prototype.$BaseStore4=function(i){return this.$BaseStore1+'-'+i;};f.exports=h;}),null);
__d("ResourceRequests.brands",[],(function a(b,c,d,e,f,g){'use strict';var h={},i={get:function k(l,m,n){var o=j(m,n);if(!h[o])h[o]=new l(m);return h[o];},clear:function k(l,m){var n=j(l,m);delete h[n];},clearByType:function k(l){Object.keys(h).forEach(function(m){if(m.match("/"+l))delete h[m];});},_debug:function k(){return h;}};function j(k,l){return k+"/"+l;}f.exports=i;}),null);
__d('StoreResultWrapper.brands',[],(function a(b,c,d,e,f,g){'use strict';f.exports={LOADING:{status:'loading'},error:function h(i){return {status:'error',errorMsg:i};},MISSING:{status:'missing'},success:function h(i){return {status:'success',item:i};},ERROR:{status:'error'},SUCCESS:{status:'success'},flatMap:function h(i,j){return i.status==='success'?j(i.item):i;},map:function h(i,j){return this.flatMap(i,function(k){return this.success(j(k));}.bind(this));}};}),null);
__d('ListStore.brands',['invariant','AdsGenericFilter','AdsGenericFilterField','AdsGenericFilterFieldType','AdsGenericFilterOperator','AdsGenericFilterSet','BaseStore.brands','ClientIDs','ImmutableObject','ResourceRequests.brands','StoreResultWrapper.brands','Map','clearImmediate','dotAccess','setImmediate','Set','underscore.ads'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;k.prototype.$AssetIDAvailability2=function(o,p){return o+'-'+p;};function k(){this.$AssetIDAvailability1=new (c('Map'))();}k.prototype.clear=function(){this.$AssetIDAvailability1.clear();};k.prototype.isMissing=function(o,p){var q=this.$AssetIDAvailability2(o,p);return this.$AssetIDAvailability1.has(q)&&!this.$AssetIDAvailability1.get(q);};k.prototype.exists=function(o,p){var q=this.$AssetIDAvailability2(o,p);return !!this.$AssetIDAvailability1.get(q);};k.prototype.setExists=function(o,p){this.setStatus(o,p,true);};k.prototype.setMissing=function(o,p){this.setStatus(o,p,false);};k.prototype.setStatus=function(o,p,q){var r=this.$AssetIDAvailability2(o,p);this.$AssetIDAvailability1.set(r,q);};var l=new (c('ImmutableObject'))({isLoading:true}),m=new (c('ImmutableObject'))({isLoading:false});i=babelHelpers.inherits(n,c('BaseStore.brands'));j=i&&i.prototype;function n(o){j.constructor.call(this);this.$ListStore1=o.resourceRequestType;this.$ListStore2=o.resourceRequestKey||c('ClientIDs').getNewClientID();this.$ListStore3={};this.$ListStore4={};this.$ListStore5={};this.$ListStore6=new k();this.$ListStore8={};}n.prototype.getAPIID=function(o){return o;};n.prototype.getLocalID=function(o){return o.id;};n.prototype.$ListStore9=function(o){o=Array.from(new (c('Set'))(o));if(o.length===1)return new (c('AdsGenericFilterSet'))([new (c('AdsGenericFilter'))(new (c('AdsGenericFilterField'))('id',c('AdsGenericFilterFieldType').STRING),c('AdsGenericFilterOperator').EQUAL,this.getAPIID(o[0]))]);return new (c('AdsGenericFilterSet'))([new (c('AdsGenericFilter'))(new (c('AdsGenericFilterField'))('id',c('AdsGenericFilterFieldType').STRING_SET),c('AdsGenericFilterOperator').IN,o.map(function(p){return this.getAPIID(p);}.bind(this)))]);};n.prototype.$ListStore10=function(o,p){var q=this.$ListStore8[o];q||h(0);this.$ListStore8[o]=[];c('clearImmediate')(this.$ListStore7);delete this.$ListStore7;if(!this.$ListStore3[o])this.$ListStore3[o]={};var r=this.$ListStore9(q),s=0;for(var t=0;t<q.length;t++){var u=q[t];if(this.$ListStore6.exists(o,u)){s++;if(s===q.length)p&&p(this.$ListStore3[o]);}else c('ResourceRequests.brands').get(this.$ListStore1,o,this.$ListStore2).fetch(r,null,t,function(v){var w=this.$ListStore11(v);if(v){var x=this.getLocalID(v);q.includes(x)||h(0);this.$ListStore3[o][x]=w;this.$ListStore6.setStatus(o,x,true);}else q.forEach(function(y){if(!this.$ListStore3[o][y])this.$ListStore6.setStatus(o,y,false);}.bind(this));s++;if(s===q.length)p&&p(this.$ListStore3[o]);}.bind(this),this.getExtraAPIFields());}};n.prototype.hasError=function(o,p){var q=this.$ListStore12(o,p);return !!this.$ListStore5[q];};n.prototype.$ListStore13=function(o){if(o.isLoading)return c('StoreResultWrapper.brands').LOADING;if(o.asset)return c('StoreResultWrapper.brands').success(o.asset);return c('StoreResultWrapper.brands').MISSING;};n.prototype.transformStoreResultToStoreAsset=function(o){switch(o.status){case 'loading':return {isLoading:true};case 'success':return {isLoading:false,asset:o.item};case 'missing':case 'error':return {isLoading:false};}return {isLoading:false};};n.prototype.getItemByID=function(o,p){return this.getItemsByIDs(o,[p])[p];};n.prototype.getItemsByIDs=function(o,p){var q={},r=[];p.forEach(function(s){if(this.$ListStore6.isMissing(o,s)){q[s]=c('StoreResultWrapper.brands').MISSING;}else{var t=this.$ListStore6.exists(o,s)?this.$ListStore3[o][s]:l;if(t===l)r.push(s);q[s]=this.$ListStore13(t);}}.bind(this));if(r.length>0){if(!this.$ListStore7)this.$ListStore7=c('setImmediate')(function(){return this.$ListStore10(o,function(s){return this.inform('change');}.bind(this));}.bind(this));if(!this.$ListStore8[o])this.$ListStore8[o]=[];this.$ListStore8[o]=this.$ListStore8[o].concat(r);}return q;};n.prototype.getItemAtIndex=function(o,p,q,r){var s=this.$ListStore12(o,p,q);if(this.$ListStore4[s]&&Object.prototype.hasOwnProperty.call(this.$ListStore4[s],r)){var t=this.$ListStore4[s][r];return t?this.$ListStore3[o][t]:m;}c('ResourceRequests.brands').get(this.$ListStore1,o,this.$ListStore2).fetch(p,q,r,function(u){this.$ListStore14(s,r,u,o);}.bind(this),this.getExtraAPIFields());return l;};n.prototype.getItemAtIndexNow=function(o,p,q,r){return this.$ListStore13(this.getItemAtIndex(o,p,q,r));};n.prototype.getOrQueryByID=function(o,p,q){if(this.$ListStore6.exists(o,p)){q&&q(this.$ListStore3[o][p]);return;}c('ResourceRequests.brands').get(this.$ListStore1,o,this.$ListStore2).fetch(this.$ListStore9([p]),null,0,function(r){var s=this.$ListStore11(r);if(r){p===this.getLocalID(r)||h(0);this.$ListStore3[o]=this.$ListStore3[o]||[];this.$ListStore3[o][p]=s;}this.$ListStore6.setStatus(o,p,!!r);q(s);}.bind(this),this.getExtraAPIFields());};n.prototype.getByID=function(o){var p=null;Object.keys(this.$ListStore3).forEach(function(q){var r=c('dotAccess')(this.$ListStore3,q+'.'+(o||0));p=r||p;}.bind(this));return p||undefined;};n.prototype.getFirstID=function(o){return Object.keys(this.$ListStore3[o]||[])[0];};n.prototype.getRowCount=function(o,p,q){var r=this.getItemAtIndex(o,p,q,0);if(r.isLoading)return null;var s=this.$ListStore15(o,p,q);if(!s&&s!==0)return this.$ListStore15(o,null,q);return s;};n.prototype.$ListStore15=function(o,p,q){return c('ResourceRequests.brands').get(this.$ListStore1,o,this.$ListStore2).getResourceCount(p,q);};n.prototype.clear=function(o){this.$ListStore3={};this.$ListStore4={};this.$ListStore6.clear();if(o){c('ResourceRequests.brands').clear(o,this.$ListStore2);}else c('ResourceRequests.brands').clearByType(this.$ListStore2);this.inform('change');};n.prototype.getExtraAPIFields=function(){return {};};n.prototype.$ListStore12=function(o,p,q){var r='';if(p)r=p.toString();if(q)r+=q;r+=o;return r;};n.prototype.$ListStore14=function(o,p,q,r){if(!this.$ListStore4[o])this.$ListStore4[o]=[];if(!q){this.$ListStore4[o][p]=null;this.inform('change');return;}if(q.error)this.$ListStore5[o]=q.error;var s=c('underscore.ads').size(this.$ListStore4[o]);this.$ListStore4[o][p]=this.getLocalID(q);if(!this.$ListStore3[r])this.$ListStore3[r]={};this.$ListStore3[r][this.getLocalID(q)]=this.$ListStore11(q);this.$ListStore6.setExists(r,this.getLocalID(q));var t=c('underscore.ads').size(this.$ListStore4[o]);if(s!==t)this.inform('change');};n.prototype.$ListStore11=function(o){return new (c('ImmutableObject'))({asset:o||null,isLoading:false});};f.exports=n;}),null);
__d('BaseAdAccountStore.brands',['AdAccountIDConverter','AppConstants.brands','ListStore.brands'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('AppConstants.brands').AD_ACCOUNT_ACTION;h=babelHelpers.inherits(k,c('ListStore.brands'));i=h&&h.prototype;function k(l){i.constructor.call(this,{resourceRequestType:l});}k.prototype.getAPIID=function(l){return c('AdAccountIDConverter').toActID(l);};k.prototype.onDispatchToken=function(l){var m=false,n=l.action;switch(n.type){case j.CLAIM_SUCCESS:case j.CREATE_SUCCESS:case j.UPDATE_SUCCESS:case j.DELETE_SUCCESS:case j.MIGRATE_SUCCESS:case j.REMOVE_FROM_GROUP_SUCCESS:case j.DELETE_REQUEST_SUCCESS:this.clear(n.brandID);m=true;}if(m)this.inform('change');};f.exports=k;}),null);
__d('AssetRole.brands',['ix','AdsConstants','AppConstants.brands','AppLogger.brands','BusinessFinancePermissionRole','BusinessIPPermissionRole','fbglyph'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('AppConstants.brands').ASSET_TYPE,j={getRoleID:function l(m,n){if(Object.prototype.hasOwnProperty.call(c('AdsConstants').sdk,n)&&Object.prototype.hasOwnProperty.call(c('AdsConstants').sdk[n].role_ids,m))return c('AdsConstants').sdk[n].role_ids[m];c('AppLogger.brands').logForAnalytics(c('AppLogger.brands').CATEGORY.UTILS,c('AppLogger.brands').EVENT.UTILS_ASSET_ROLE_GET_ROLE_ID_UNKNOWN_ROLE,{name:m,assetType:n});return null;},getRoleNameByRoleID:function l(m,n){if(Object.prototype.hasOwnProperty.call(c('AdsConstants').sdk,n)&&Object.prototype.hasOwnProperty.call(c('AdsConstants').sdk[n].roles,m))return c('AdsConstants').sdk[n].roles[m];c('AppLogger.brands').logForAnalytics(c('AppLogger.brands').CATEGORY.UTILS,c('AppLogger.brands').EVENT.UTILS_ASSET_ROLE_GET_ROLE_NAME_UNKNOWN_ROLE_ID,{roledID:m,assetType:n});return 'DEFAULT';},getAllRolesBelowRoleID:function l(m,n){var o=this.getRoleKeys(n),p=o.indexOf(this.getRoleNameByRoleID(m,n));if(p>=0)return o.slice(p);return [];},isRoleHigherOrEqual:function l(m,n,o){var p=j.getRoleKeys(o),q=p.indexOf(m),r=p.indexOf(n);if(q===-1||r===-1)return false;return q<=r;},getTopRoleFromRoles:function l(m,n){var o=this.getRoleKeys(n),p=void 0;for(var q in o)if(m.indexOf(o[q])>=0){p=o[q];break;}return p;},getRoleLabel:function l(m,n){switch(n){case i.AD_ACCOUNT:return c('AdsConstants').adaccount_roles[m];case i.PAGE:return c('AdsConstants').page_roles[m];case i.BRAND:return c('AdsConstants').brand_roles[m];case i.APP:return c('AdsConstants').app_roles[m];case i.PRODUCT_CATALOG:return c('AdsConstants').productcatalog_roles[m];case i.OFFLINE_CONVERSION_DATA_SET:return c('AdsConstants').offline_event_set_roles[m];case i.AD_STUDY:return c('AdsConstants').lift_study_roles[m];case i.SYSTEM_USER:return c('AdsConstants').system_user_roles[m];case i.FINANCE:return c('AdsConstants').finance_roles[m];case i.IP:return c('AdsConstants').ip_roles[m];default:var o=this.getRoleID(m,n);if(o!=null&&Object.prototype.hasOwnProperty.call(c('AdsConstants').sdk,n)&&Object.prototype.hasOwnProperty.call(c('AdsConstants').sdk[n].role_labels,o))return c('AdsConstants').sdk[n].role_labels[o];c('AppLogger.brands').logForAnalytics(c('AppLogger.brands').CATEGORY.UTILS,c('AppLogger.brands').EVENT.UTILS_ASSET_ROLE_GET_ROLE_PROJECT_UNKNOWN_ROLE,{name:m,assetType:n});}return 'default';},getRoleDescription:function l(m,n){switch(n){case i.AD_ACCOUNT:return c('AdsConstants').adaccount_roles_desc[m];case i.PAGE:return c('AdsConstants').page_roles_desc[m];case i.BRAND:return c('AdsConstants').brand_roles_desc[m];case i.APP:return c('AdsConstants').app_roles_desc[m];case i.PRODUCT_CATALOG:return c('AdsConstants').productcatalog_roles_desc[m];case i.OFFLINE_CONVERSION_DATA_SET:return c('AdsConstants').offline_event_set_roles_desc[m];case i.AD_STUDY:return c('AdsConstants').lift_study_roles_desc[m];case i.SYSTEM_USER:return c('AdsConstants').system_user_roles_desc[m];case i.FINANCE:return c('AdsConstants').finance_roles_desc[m];case i.IP:return c('AdsConstants').ip_roles_desc[m];default:var o=this.getRoleID(m,n);if(o!=null&&Object.prototype.hasOwnProperty.call(c('AdsConstants').sdk,n)&&Object.prototype.hasOwnProperty.call(c('AdsConstants').sdk[n].role_descs,o))return c('AdsConstants').sdk[n].role_descs[o];c('AppLogger.brands').logForAnalytics(c('AppLogger.brands').CATEGORY.UTILS,c('AppLogger.brands').EVENT.UTILS_ASSET_ROLE_GET_ROLE_DESCRIPTION_UNKNOWN_ROLE,{name:m,assetType:n});}return 'default';},getRoleKeys:function l(m){return Object.keys(this.getRoles(m));},getRoles:function l(m){switch(m){case i.AD_ACCOUNT:return c('AdsConstants').adaccount_roles;case i.PAGE:return c('AdsConstants').page_roles;case i.BRAND:return c('AdsConstants').brand_roles;case i.APP:return c('AdsConstants').app_roles;case i.PRODUCT_CATALOG:return c('AdsConstants').productcatalog_roles;case i.OFFLINE_CONVERSION_DATA_SET:return c('AdsConstants').offline_event_set_roles;case i.AD_STUDY:return c('AdsConstants').lift_study_roles;case i.SYSTEM_USER:return c('AdsConstants').system_user_roles;case i.FINANCE:return c('BusinessFinancePermissionRole');case i.IP:return c('BusinessIPPermissionRole');default:if(Object.prototype.hasOwnProperty.call(c('AdsConstants').sdk,m)){var n=c('AdsConstants').sdk[m],o={};for(var p in n.roles)o[n.roles[p]]=n.role_labels[p];return o;}c('AppLogger.brands').logForAnalytics(c('AppLogger.brands').CATEGORY.UTILS,c('AppLogger.brands').EVENT.UTILS_ASSET_ROLE_GET_ROLES_UNKNOWN_ROLE,{assetType:m});}return {DEFAULT:'default'};},getDefaultRole:function l(m){switch(m){case i.AD_ACCOUNT:return 'GENERAL_USER';case i.PAGE:return 'ADVERTISER';case i.PRODUCT_CATALOG:return 'ADMIN';case i.OFFLINE_CONVERSION_DATA_SET:return 'ADMIN';case i.AD_STUDY:return 'ADMIN';case i.SYSTEM_USER:return 'SYSTEM_USER';case i.PROJECT:return 'PROJECT';default:if(Object.prototype.hasOwnProperty.call(c('AdsConstants').sdk,m))return this.getRoleNameByRoleID(c('AdsConstants').sdk[m].default_role,m);c('AppLogger.brands').logForAnalytics(c('AppLogger.brands').CATEGORY.UTILS,c('AppLogger.brands').EVENT.UTILS_ASSET_ROLE_GET_DEFAULT_ROLE_UNKNOWN_ROLE,{assetType:m});}return 'default';},getRoleData:function l(m){var n=Object.keys(this.getRoles(m));return n.map(function(o){return {roleName:o,title:j.getRoleLabel(o,m),desc:j.getRoleDescription(o,m)};});},getIcon:function l(m,n){var o=k[n];if(!o)return h("122200");return o[m];},sortRoleKeys:function l(m,n){return this.getRoleKeys(m).filter(function(o){return n.indexOf(o)!==-1;});}},k={};k[i.AD_ACCOUNT]={ADMIN:h("29122"),GENERAL_USER:h("122200"),REPORTS_ONLY:h("29104")};k[i.PAGE]={MANAGER:h("29122"),CONTENT_CREATOR:h("29163"),MODERATOR:h("29157"),ADVERTISER:h("122200"),INSIGHTS_ANALYST:h("29104")};k[i.PRODUCT_CATALOG]={ADMIN:h("29122")};k[i.OFFLINE_CONVERSION_DATA_SET]={ADMIN:h("29122"),CONSUMER:h("29104")};k[i.AD_STUDY]={ADMIN:h("126157"),CONSUMER:h("117602")};f.exports=j;}),null);
__d('AdAccountAPIConverter.brands',['AdAccountIDConverter','AppConstants.brands','AssetRole.brands'],(function a(b,c,d,e,f,g){'use strict';var h=c('AppConstants.brands').ACCESS_TYPE,i=c('AppConstants.brands').ASSET_TYPE,j=c('AppConstants.brands').REQUESTED_ASSET_STATUS,k=c('AppConstants.brands').ACCOUNT_STATUS;function l(){return c('AssetRole.brands');}function m(t){var u=q(t);u.status=j.CONFIRMED;u.permittedRoles=l().getRoleKeys(i.AD_ACCOUNT);u.accessType=h.OWNER;return u;}function n(t){var u=q(t);u.status=j.CONFIRMED;u.permittedRoles=l().sortRoleKeys(i.AD_ACCOUNT,t.permitted_roles||[]);u.accessType=h.AGENCY;return u;}function o(t){var u=q(t.ad_account||{account_id:c('AdAccountIDConverter').toID(t.id)});u.status=j.PENDING;u.permittedRoles=l().getRoleKeys(i.AD_ACCOUNT);u.accessType=h.OWNER;return u;}function p(t){var u=q(t.ad_account||{account_id:c('AdAccountIDConverter').toID(t.id)});u.status=j.PENDING;u.permittedRoles=l().sortRoleKeys(i.AD_ACCOUNT,t.permitted_roles||[]);u.accessType=h.AGENCY;return u;}function q(t){return {id:t.account_id+'',name:t.name||t.account_id+'',currency:t.currency||null,customerPONumber:t.customer_po_number||null,business:t.business_entity||t.business||null,endAdvertiser:t.end_advertiser||null,endAdvertiserName:t.end_advertiser_name||null,timezoneName:t.timezone_name?t.timezone_name.replace('_',' '):null,fundingSourceID:t.funding_source?t.funding_source.toString():null,assetType:i.AD_ACCOUNT,accountGroups:t.account_groups||[],accountStatus:t.access_status===j.PENDING?k.ACTIVE:t.account_status||null,users:t.users&&t.users.data||t.users};}function r(t,u,v,w,x){return w?{accountId:t,name:u,customer_po_number:v,handleError:x,end_advertiser:w}:{accountId:t,name:u,customer_po_number:v,handleError:x};}function s(t,u,v){return {accountId:t,accountGroupId:u,handleError:v};}f.exports={fromAPI:q,fromAPIForOwned:m,fromAPIForClient:n,fromAPIForOwnedRequest:o,fromAPIForClientRequest:p,getDAOParamsForUpdate:r,getDAOParamsForGroupRemoval:s};}),null);
__d('ClientSideFilters.brands',['AdsGenericFilterOperatorConfig','AdsGenericFilterSet','BrandsAppConfig'],(function a(b,c,d,e,f,g){'use strict';var h={forRequestedAssets:function i(j,k){var l=true,m=k&&k.values||[];m.forEach(function(n){if(n.operator===c('AdsGenericFilterOperatorConfig').CONTAIN.operator&&n.field.name===c('BrandsAppConfig').NAME_OR_ID_FILTER){var o=n.value.toLowerCase();l=j.id&&j.id.toLowerCase().includes(o)||j.name&&j.name.toLowerCase().includes(o);}});return l;}};f.exports=h;}),null);
__d('RequestFulfiller.brands',[],(function a(b,c,d,e,f,g){function h(){'use strict';}h.prototype.start=function(i,j,k,l,m,n,o,p,q){'use strict';throw new Error('implement me');};f.exports=h;}),null);
__d('DAORequestFulfiller.brands',['RequestFulfiller.brands'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RequestFulfiller.brands'));i=h&&h.prototype;function j(k){i.constructor.call(this,k);this.$DAORequestFulfiller1=k;}j.prototype.start=function(k,l,m,n,o,p,q,r,s){var t=this.$DAORequestFulfiller1.daoPath;t.clearCache();var u=babelHelpers['extends']({limit:p,fields:this.$DAORequestFulfiller1.fields,filtering:l?l.toAPI():null,sort:m,summary:1,date_format:'U',handleError:function v(w,x){r(x);}},q,this.$DAORequestFulfiller1.extraParams);u[this.$DAORequestFulfiller1.primaryIDFieldName]=k;t.paged(function(v,w,x){s(x,w);},u);};f.exports=j;}),null);
__d('CallbackManager.brands',['KeyedCallbackManager'],(function a(b,c,d,e,f,g){'use strict';function h(){this.$CallbackManager3=function(i){delete this.$CallbackManager1[i];}.bind(this);this.$CallbackManager1={};this.$CallbackManager2=new (c('KeyedCallbackManager'))();}h.prototype.executeOrEnqueue=function(i,j){return this.$CallbackManager2.executeOrEnqueue(i,j);};h.prototype.addResourceAndExecute=function(i,j){var k={};k[i]=j;return this.addResourcesAndExecute(k);};h.prototype.reset=function(){this.$CallbackManager1={};this.$CallbackManager2=new (c('KeyedCallbackManager'))();};h.prototype.addResourcesAndExecute=function(i){Object.keys(i).forEach(this.$CallbackManager3,this);return this.$CallbackManager2.addResourcesAndExecute(i);};h.prototype.addResourcesArrayAndExecute=function(i,j){var k={};i.forEach(function(l){var m=j.call(this,l);m=m+"";k[m]=l;},this);return this.$CallbackManager2.addResourcesAndExecute(k);};h.prototype.setResource=function(i,j){this.$CallbackManager3(i);return this.$CallbackManager2.setResource(i,j);};h.prototype.getProcessingKeys=function(){return Object.keys(this.$CallbackManager1);};h.prototype.setIsProcessing=function(i){this.$CallbackManager1[i]=true;};h.prototype.getWaitingKeys=function(i){return this.$CallbackManager2.getUnavailableResourcesFromRequest(i).filter(function(j){return !this.$CallbackManager1[j];},this);};f.exports=h;}),null);
__d('ResourceRequestCache.brands',['AdsGenericFilterSetUtil','BizHomeFilterFieldConfigStore','RangedCallbackManager','underscore.ads'],(function a(b,c,d,e,f,g){'use strict';var h={LOADING:function j(){},DONE:function j(){}};function i(j){this.$ResourceRequestCache1=j.dataTypes;this.$ResourceRequestCache2=j.dataTypeFilterFieldName;this.$ResourceRequestCache3=j.defaultSort||'name_ascending';this.$ResourceRequestCache4={};this.$ResourceRequestCache5={};this.$ResourceRequestCache6={};this.$ResourceRequestCache7={};this.$ResourceRequestCache8={};this.$ResourceRequestCache9={};this.$ResourceRequestCache10={};this.$ResourceRequestCache11={};}i.prototype.$ResourceRequestCache12=function(j,k){var l=this.$ResourceRequestCache13(j,k);if(!this.$ResourceRequestCache4[l])this.$ResourceRequestCache4[l]=[];if(!this.$ResourceRequestCache6[l])this.$ResourceRequestCache6[l]=new (c('RangedCallbackManager'))();if(!this.$ResourceRequestCache5[l])this.$ResourceRequestCache5[l]=this.$ResourceRequestCache14();if(!this.$ResourceRequestCache10[l])this.$ResourceRequestCache10[l]=this.$ResourceRequestCache14();if(!this.$ResourceRequestCache11[l])this.$ResourceRequestCache11[l]=this.$ResourceRequestCache14(0);};i.prototype.getRequiredDataTypes=function(j){var k=void 0;if(j&&this.$ResourceRequestCache2)k=c('AdsGenericFilterSetUtil').getFilterValueByField(j,c('BizHomeFilterFieldConfigStore').getField(this.$ResourceRequestCache2).field);if(!k)k=Object.keys(this.$ResourceRequestCache1);return k;};i.prototype.addItemsAndExecute=function(j,k,l){k=this.$ResourceRequestCache15(k);var m=this.$ResourceRequestCache13(j,k),n=this.$ResourceRequestCache6[m];if(l.length===0){n.setReachedEndOfArray();n.removeAllResources();return;}l.forEach(function(q){this.$ResourceRequestCache16(m,q);}.bind(this),this);var o=this.$ResourceRequestCache17(j,k);if(o.length===0)return;var p=c('underscore.ads').size(n.getAllResources());n.addResourcesWithoutSorting(o,p);};i.prototype.executeOrEnqueue=function(j,k,l,m){k=this.$ResourceRequestCache15(k);this.$ResourceRequestCache12(j,k);var n=this.$ResourceRequestCache13(j,k),o=this.$ResourceRequestCache6[n];return o.executeOrEnqueue(l,1,m);};i.prototype.isFulfilled=function(j,k,l){k=this.$ResourceRequestCache15(k);var m=this.$ResourceRequestCache13(j,k),n=this.$ResourceRequestCache6[m],o=n.getUnavailableResources(l);return o.length===0;};i.prototype.getNextChunkFn=function(j,k,l,m,n,o,p){l=this.$ResourceRequestCache15(l);var q=this.$ResourceRequestCache13(k,l),r=this.$ResourceRequestCache5[q][m];if(this.$ResourceRequestCache18(r)){this.$ResourceRequestCache5[q][m]=h.LOADING;return function(s){r(function(t,u){t=this.$ResourceRequestCache19(m,t);t=this.$ResourceRequestCache20(t,k,q,m);this.$ResourceRequestCache11[q][m]+=t.length;if(k)this.$ResourceRequestCache9[q]+=t.length||0;this.$ResourceRequestCache5[q][m]=u||h.DONE;s(t);}.bind(this));}.bind(this);}if(r!==undefined)return null;this.$ResourceRequestCache5[q][m]=h.LOADING;this.$ResourceRequestCache9[q]=0;return function(s){var t=this.$ResourceRequestCache1[m],u=t.requestFulfiller,v=k&&this.$ResourceRequestCache2?c('AdsGenericFilterSetUtil').excludeFiltersByField(k,c('BizHomeFilterFieldConfigStore').getField(this.$ResourceRequestCache2).field):k;u.start(j,v,l,m,n,o,p,function(w){this.$ResourceRequestCache5[q][m]=h.DONE;s([w]);}.bind(this),function(w,x){var y={};if(w.summary){y.totalCount=w.summary.total_count;y.filteredTotalCount=w.summary.filtered_total_count!==undefined?w.summary.filtered_total_count:w.summary.total_count;}else if((w.data||[]).length===0){y.totalCount=0;y.filteredTotalCount=0;}this.$ResourceRequestCache10[q][m]=y;var z=this.$ResourceRequestCache19(m,w.data);z=this.$ResourceRequestCache20(z,k,q,m);this.$ResourceRequestCache11[q][m]+=z.length;this.$ResourceRequestCache9[q]+=z.length;this.$ResourceRequestCache5[q][m]=x||h.DONE;s(z);}.bind(this));}.bind(this);};i.prototype.getResourceCount=function(j,k){k=this.$ResourceRequestCache15(k);this.$ResourceRequestCache12(j,k);var l=this.$ResourceRequestCache13(j,k),m=this.getRequiredDataTypes(j,k),n=c('underscore.ads').some(m,function(q){return this.$ResourceRequestCache21(q,l);}.bind(this));if(!n)return c('underscore.ads').reduce(this.$ResourceRequestCache11[l],function(q,r){return r+q;},0,this);var o=this.$ResourceRequestCache10[l];if(!j)return this.$ResourceRequestCache22(o,'totalCount');var p=c('underscore.ads').every(m,function(q){return !!o[q];});if(p)return this.$ResourceRequestCache22(o,'filteredTotalCount');return null;};i.prototype.$ResourceRequestCache22=function(j,k){return c('underscore.ads').reduce(j,function(l,m){return (m?m[k]:0)+l;},0,this);};i.prototype.setErrors=function(j,k,l){k=this.$ResourceRequestCache15(k);var m=this.$ResourceRequestCache13(j,k);this.$ResourceRequestCache8[m]=l;};i.prototype.getErrors=function(j,k){k=this.$ResourceRequestCache15(k);var l=this.$ResourceRequestCache13(j,k);return this.$ResourceRequestCache8[l];};i.prototype.$ResourceRequestCache15=function(j){return j||this.$ResourceRequestCache3;};i.prototype.$ResourceRequestCache23=function(j){var k=this.$ResourceRequestCache7[j];if(!k)return {};return k;};i.prototype.$ResourceRequestCache16=function(j,k){if(!k.id)return;this.$ResourceRequestCache4[j].push(k.id);this.$ResourceRequestCache7[k.id]=k;};i.prototype.$ResourceRequestCache17=function(j,k){var l=this.$ResourceRequestCache13(j,k),m={},n=this.getRequiredDataTypes(j,k);n.forEach(function(u){var v=this.$ResourceRequestCache24(u,l);m[u]=v;}.bind(this));var o=c('underscore.ads').map(this.$ResourceRequestCache4[l],this.$ResourceRequestCache23,this),p=null;if(k==='no_sort'){p=o;}else p=this.$ResourceRequestCache25(o,k);var q=[];for(var r=0;r<p.length;r++){var s=p[r];if(!this.$ResourceRequestCache26(l,m))break;q.push(s);m[s.__RR__dataType]--;}var t=p.slice(q.length,p.length);this.$ResourceRequestCache4[l]=t.map(function(u){return u.id;});return q;};i.prototype.$ResourceRequestCache26=function(j,k){return c('underscore.ads').filter(k,function(l,m){return l===0&&this.$ResourceRequestCache21(m,j);}.bind(this)).length===0;};i.prototype.$ResourceRequestCache27=function(j){return this.$ResourceRequestCache1[j].clientSideFilter;};i.prototype.$ResourceRequestCache20=function(j,k,l,m){if(!k)return j;var n=this.$ResourceRequestCache27(m),o=j.length,p=n?j.filter(function(r){return !!n&&n(r,k);},this):j,q=p.length;this.$ResourceRequestCache10[l][m].filteredTotalCount-=o-q;return p;};i.prototype.$ResourceRequestCache19=function(j,k){var l=this.$ResourceRequestCache1[j].apiConverter;if(!l)return k;return k.map(l,this);};i.prototype.$ResourceRequestCache21=function(j,k){return this.$ResourceRequestCache5[k][j]!==h.DONE;};i.prototype.$ResourceRequestCache24=function(j,k){var l=this.$ResourceRequestCache4[k].map(this.$ResourceRequestCache23,this);return l.filter(function(m){return m.__RR__dataType===j;}).length;};i.prototype.$ResourceRequestCache14=function(j){var k={};Object.keys(this.$ResourceRequestCache1).forEach(function(l){return k[l]=j;});return k;};i.prototype.$ResourceRequestCache13=function(j,k){var l=void 0;if(!j){l='(no-filter)';}else l=j.toString();return l+' sort='+k;};i.prototype.$ResourceRequestCache28=function(j){return !!j.match('(no-filter)');};i.prototype.$ResourceRequestCache18=function(j){return !!j&&c('underscore.ads').values(h).indexOf(j)===-1;};i.prototype.$ResourceRequestCache25=function(j,k){var l=c('underscore.ads').clone(j),m=k.split(",").reverse();for(var n=0;n<m.length;n++){var o=m[n].split("_"),p=o.pop()==="descending"?-1:1;if(!o.length)o.push('ascending');o=o.join("_").replace(/_([a-z])/g,function(q){return q[1].toUpperCase();});l.sort(function(q,r){if(q[o]<r[o])return -1*p;if(q[o]>r[o])return 1*p;return 0;});}return l;};f.exports=i;}),null);
__d('BaseResourceRequest.brands',['ResourceRequestCache.brands','CallbackManager.brands','underscore.ads'],(function a(b,c,d,e,f,g){'use strict';var h=25;function i(j,k){this.primaryObjectID=j;this.requestCache=new (c('ResourceRequestCache.brands'))(k);}i.prototype.fetch=function(j,k,l,m,n){var o=this.requestCache.executeOrEnqueue(j,k,l,function(p){var q=this.requestCache.getErrors(j,k),r=void 0,s=p[0];if(s&&q&&q[s.__RR__dataType]){r=q[s.__RR__dataType];}else r=s;setTimeout(function(){return m(r);},0);}.bind(this));this.$BaseResourceRequest1(j,k,l,h,o,n);};i.prototype.getResourceCount=function(j,k){return this.requestCache.getResourceCount(j,k);};i.prototype.$BaseResourceRequest1=function(j,k,l,m,n,o){var p=this.requestCache.isFulfilled(j,k,n);if(p)return;var q=this.requestCache.getRequiredDataTypes(j),r=new (c('CallbackManager.brands'))();r.executeOrEnqueue(q,this.$BaseResourceRequest2.bind(this,j,k,l,m,n,o));var s={},t=false;q.forEach(function(u){var v=this.requestCache.getNextChunkFn(this.primaryObjectID,j,k,u,l,m,o);if(v)t=true;s[u]=v;}.bind(this));if(!t)return;c('underscore.ads').forEach(s,function(u,v){if(u){u(function(w){r.addResourceAndExecute(v,w);});}else r.addResourceAndExecute(v,null);},this);};i.prototype.$BaseResourceRequest2=function(j,k,l,m,n,o,p){var q=[],r={};Object.keys(p).forEach(function(s){var t=p[s];if(!t)return;if(!t.error){t=t.filter(function(u){return u!==null;});t.forEach(function(u){return u.__RR__dataType=s;});}else r[s]=t;q=q.concat(t);});this.requestCache.setErrors(j,k,r);this.requestCache.addItemsAndExecute(j,k,q);if(q.length===0)return;this.$BaseResourceRequest1(j,k,l,m,n,o);};f.exports=i;}),null);
__d('PromiseCache.brands',[],(function a(b,c,d,e,f,g){'use strict';function h(i){this.$PromiseCache1={};this.$PromiseCache2=i;}h.prototype.get=function(i){if(!this.$PromiseCache1[i]){this.$PromiseCache1[i]=this.$PromiseCache2(i);this.$PromiseCache1[i]['catch'](function(j){return delete this.$PromiseCache1[i];}.bind(this));}return this.$PromiseCache1[i];};h.prototype.clear=function(){this.$PromiseCache1={};};f.exports=h;}),null);
__d("XBusinessGraphSearchFallbackController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/business\/filter\/assets\/graph_search_fallback\/",{business_id:{type:"Int",required:true},match:{type:"String",required:true},search_in:{type:"Enum",required:true,enumType:1}});}),null);
__d('ResourceRequestWithSearch.brands',['Promise','AdsGenericFilterOperator','AsyncRequest','BaseResourceRequest.brands','BrandsAppConfig','PromiseCache.brands','XBusinessGraphSearchFallbackController'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('BrandsAppConfig').businessCapabilities;h=babelHelpers.inherits(k,c('BaseResourceRequest.brands'));i=h&&h.prototype;function k(l,m,n){i.constructor.call(this,l,m);this.$ResourceRequestWithSearch3=n;this.$ResourceRequestWithSearch4=l;this.$ResourceRequestWithSearch1={};this.$ResourceRequestWithSearch2=new (c('PromiseCache.brands'))(function(o){return this.$ResourceRequestWithSearch5(o);}.bind(this));}k.prototype.$ResourceRequestWithSearch5=function(l){var m=c('XBusinessGraphSearchFallbackController').getURIBuilder().setInt('business_id',this.$ResourceRequestWithSearch4).setEnum('search_in',this.$ResourceRequestWithSearch3).setString('match',l).getURI();return new (c('Promise'))(function(n,o){new (c('AsyncRequest'))().setURI(m).setHandler(function(p){var q=p.payload;this.$ResourceRequestWithSearch1[l]=q.length;n(q);}.bind(this)).setErrorHandler(function(p){o(p.error);}).send();}.bind(this));};k.prototype.$ResourceRequestWithSearch6=function(l){if(!j.can_use_search_for_settings||!l||l.values.length!==1)return false;var m=l.values[0];return m.operator===c('AdsGenericFilterOperator').CONTAIN&&m.field.name===c('BrandsAppConfig').NAME_OR_ID_FILTER&&m.value.length>=2;};k.prototype.$ResourceRequestWithSearch7=function(l){return l.values[0].value;};k.prototype.fetch=function(l,m,n,o,p){if(this.$ResourceRequestWithSearch6(l)){var q=this.$ResourceRequestWithSearch7(l),r=this.$ResourceRequestWithSearch2.get(q);r.then(function(s){o(s[n]);});}else return i.fetch.call(this,l,m,n,o,p);};k.prototype.getResourceCount=function(l,m){if(this.$ResourceRequestWithSearch6(l)){var n=this.$ResourceRequestWithSearch7(l);return this.$ResourceRequestWithSearch1[n];}else return i.getResourceCount.call(this,l,m);};f.exports=k;}),null);
__d('XAdAccountsResourceRequest.brands',['AdAccountAPIConverter.brands','AppConstants.brands','BusinessGK.brands','ClientSideFilters.brands','DAORequestFulfiller.brands','GraphDAO.brands','ResourceRequestWithSearch.brands'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('AppConstants.brands').ASSET_TYPE,k=['id','name','customer_po_number','account_id','account_status','business','currency','timezone_name','end_advertiser','end_advertiser_name','funding_source'].concat(c('BusinessGK.brands')('ads_api_can_use_account_group')?['account_groups']:[]),l=k,m=['id','ad_account.fields('+k.join(',')+')'],n=k.concat(['permitted_roles']),o=['id','ad_account.fields('+k.join(',')+')','permitted_roles'];h=babelHelpers.inherits(p,c('ResourceRequestWithSearch.brands'));i=h&&h.prototype;function p(q){var r=c('GraphDAO.brands').forBrand(q),s={},t=c('BusinessGK.brands')('ads_api_can_use_account_group')?{version:'2.7'}:{};s.dataTypes={'owned-ad-account':{requestFulfiller:new (c('DAORequestFulfiller.brands'))({fields:l,daoPath:r.fetch.ownedAdAccountsForBrand,primaryIDFieldName:'brandID',extraParams:t}),apiConverter:c('AdAccountAPIConverter.brands').fromAPIForOwned},'owned-ad-account-request':{requestFulfiller:new (c('DAORequestFulfiller.brands'))({fields:m,daoPath:r.fetch.ownedAdAccountRequestsForBrand,primaryIDFieldName:'brandID'}),apiConverter:c('AdAccountAPIConverter.brands').fromAPIForOwnedRequest,clientSideFilter:c('ClientSideFilters.brands').forRequestedAssets},'client-ad-account':{requestFulfiller:new (c('DAORequestFulfiller.brands'))({fields:n,daoPath:r.fetch.clientAdAccountsForBrand,primaryIDFieldName:'brandID',extraParams:t}),apiConverter:c('AdAccountAPIConverter.brands').fromAPIForClient},'client-ad-account-request':{requestFulfiller:new (c('DAORequestFulfiller.brands'))({fields:o,daoPath:r.fetch.clientAdAccountRequestsForBrand,primaryIDFieldName:'brandID'}),apiConverter:c('AdAccountAPIConverter.brands').fromAPIForClientRequest,clientSideFilter:c('ClientSideFilters.brands').forRequestedAssets}};i.constructor.call(this,q,s,j.AD_ACCOUNT);}f.exports=p;}),null);
__d('XAdAccountStore.brands',['BaseAdAccountStore.brands','XAdAccountsResourceRequest.brands'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('BaseAdAccountStore.brands'));i=h&&h.prototype;function j(){i.constructor.call(this,c('XAdAccountsResourceRequest.brands'));}var k=new j();f.exports=k;}),null);
__d('AdsPixelShareDialogContentContainer.react',['AdsAccountStoreWrapper_DEPRECATED','AdsFluxContainer','AdsManagerUserPermissions','AdsPixelInlineShareDialogContent.react','AdsPixelNoShareDialogContent.react','AdsPixelShareDialogContent.react','AdsPixelShareInBMDialogContent.react','AdsPixelStore','AdsSpinnerCover.react','BizHomeFilterFieldConfigStore','BizSiteIdentifier.brands','BrandPixelStore.brands','BrandPixelViewActions.brands','BrandUserStore.brands','BrandsAppConfig','FluxStore','ImmutableObject','React','XAdAccountStore.brands','adsGKCheck'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('BrandsAppConfig').businessCapabilities,k=c('React').Component,l=c('React').PropTypes;h=babelHelpers.inherits(m,k);i=h&&h.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=i.constructor).call.apply(n,[this].concat(q)),this.$AdsPixelShareDialogContentContainer2=function(s){this.setState({selectedAdAccounts:s});}.bind(this),this.$AdsPixelShareDialogContentContainer3=function(){if(this.state.selectedAdAccounts){c('BrandPixelViewActions.brands').addSharedAdAccounts(this.props.pixelID,this.state.selectedAdAccounts,String(this.state.businessID),function(s){return (this.$AdsPixelShareDialogContentContainer4(s));}.bind(this),function(s){return this.$AdsPixelShareDialogContentContainer5(s);}.bind(this));this.setState({isProcessing:true});}}.bind(this),o;}m.getStores=function(){return [c('AdsPixelStore'),c('BrandPixelStore.brands'),c('BrandUserStore.brands')];};m.calculateState=function(n,o){var p=c('AdsPixelStore').getPixelInfo(o.pixelID),q=c('AdsAccountStoreWrapper_DEPRECATED').getAccountID(),r=c('BizSiteIdentifier.brands').getBusinessID()||c('BrandUserStore.brands').getAccountBusinessID(),s=c('AdsManagerUserPermissions').is_business_admin,t=c('adsGKCheck')('business_pixel_inline_adaccount_sharing'),u=!!r&&s&&j.can_create_facebook_pixel&&t,v=n?n.errorIDs:[],w=n?n.selectedAdAccounts:[],x=n?n.successAuthedAccounts:[],y=false,z=c('BrandPixelStore.brands').getSharedAdAccounts(o.pixelID),aa=[];if(q)y=c('BrandUserStore.brands').isLoading();if(u&&r){var ba=c('XAdAccountStore.brands').getRowCount(r,null,null);if(ba!=null){for(var ca=0;ca<(ba||0);++ca){var da=c('XAdAccountStore.brands').getItemAtIndex(r,null,null,ca);if(da.asset&&!z[da.asset.id])aa.push(c('ImmutableObject').set(da,{id:da.asset.id,name:da.asset.name,originalAsset:da.asset}));}}else y=true;if(!c('BrandPixelStore.brands').areSharedAdAccountsLoaded(o.pixelID)){y=true;c('BrandPixelViewActions.brands').loadPixelSharedAdAccounts(o.pixelID,r);}}return {adAccounts:aa,businessID:r,errorIDs:v,inlineSharing:u,isBusinessAdmin:s,isLoading:y,isProcessing:n?n.isProcessing:false,pixel:p,selectedAdAccounts:w,successAuthedAccounts:x};};m.prototype.$AdsPixelShareDialogContentContainer4=function(n){this.setState({errorIDs:[],isProcessing:false,selectedAdAccounts:[],successAuthedAccounts:n});};m.prototype.$AdsPixelShareDialogContentContainer5=function(n){this.setState({errorIDs:n,isProcessing:false,selectedAdAccounts:[]});};m.prototype.$AdsPixelShareDialogContentContainer6=function(){var n=m.calculateState(this.state,this.props);this.setState(n);};m.prototype.componentWillMount=function(){this.$AdsPixelShareDialogContentContainer1=[c('XAdAccountStore.brands').subscribe('change',function(){return this.$AdsPixelShareDialogContentContainer6();}.bind(this))];};m.prototype.componentWillUnmount=function(){this.$AdsPixelShareDialogContentContainer1.forEach(function(n){return n.unsubscribe();});};m.prototype.render=function(){var n=this.state,o=n.adAccounts,p=n.businessID,q=n.errorIDs,r=n.inlineSharing,s=n.isBusinessAdmin,t=n.isLoading,u=n.isProcessing,v=n.pixel,w=n.selectedAdAccounts,x=n.successAuthedAccounts,y=v.name,z=t||u;if(!p)return (c('React').createElement('div',null,c('React').createElement(c('AdsSpinnerCover.react'),{show:z}),c('React').createElement(c('AdsPixelShareDialogContent.react'),{pixelID:this.props.pixelID,pixelName:y})));if(r){var aa=c('BizHomeFilterFieldConfigStore').getUIFields();return (c('React').createElement('div',null,c('React').createElement(c('AdsSpinnerCover.react'),{show:z}),c('React').createElement(c('AdsPixelInlineShareDialogContent.react'),{adAccounts:o,businessID:p,errorIDs:q,filterField:aa.NAME_OR_ID.field,pixel:this.state.pixel,selectedAdAccounts:w,successAuthedAccounts:x,onAuthorizeAdAccounts:this.$AdsPixelShareDialogContentContainer3,onSelectionChange:this.$AdsPixelShareDialogContentContainer2})));}else if(s)return (c('React').createElement('div',null,c('React').createElement(c('AdsSpinnerCover.react'),{show:z}),c('React').createElement(c('AdsPixelShareInBMDialogContent.react'),{businessID:p,pixelID:this.props.pixelID,pixelName:y})));return (c('React').createElement(c('AdsPixelNoShareDialogContent.react'),{businessID:p,pixelID:this.props.pixelID,pixelName:y}));};m.propTypes={pixelID:l.string};f.exports=c('AdsFluxContainer').create(m,{withProps:true});}),null);
__d('AdsCMCustomConversionsURI',['AdsCMPageValues','AdsCMURI'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsCMURI'));i=h&&h.prototype;function j(){i.constructor.call(this,c('AdsCMPageValues').CUSTOM_CONVERSIONS);}f.exports=j;}),null);
__d('AdsPixelAudienceLink.react',['AdsAccountStoreWrapper_DEPRECATED','React','AdsPixelAndAudienceContextUtils','Link.react'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=this.context.getAudienceURI({accountID:c('AdsAccountStoreWrapper_DEPRECATED').getAccountID(),audienceID:this.props.audienceID});return (c('React').createElement(c('Link.react'),{href:l,target:'_blank'},this.props.children));};function k(){h.apply(this,arguments);}k.contextTypes=c('AdsPixelAndAudienceContextUtils').getContextTypes();k.propTypes={accountID:j.string,audienceID:j.string};f.exports=k;}),null);
__d('AdsPixelViewUsage.react',['cx','fbt','AdsCMCustomConversionsURI','AdsCMPageValues','AdsCMURIUtil','AdsPixelAudienceLink.react','AdsPixelCreationConstants','BUIAdoptionButton.react','BUIAdoptionXUISpinner.react','SignalsNextStepsSelector.react','AdsPixelDialogTypes','AdsPixelHelpCenter','AdsPixelPickerViewActions','AdsPixelViewActions','CenteredContainer.react','Link.react','List.react','React','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('AdsPixelCreationConstants').CUSTOM_AUDIENCE,n=c('AdsPixelCreationConstants').CUSTOM_CONVERSION,o=400,p=5;function q(s,t){var u=new (c('AdsCMCustomConversionsURI'))().setAccountID(s);return (c('React').createElement(c('Link.react'),{href:c('AdsCMURIUtil').addRedirectParams(u),key:c('AdsCMPageValues').CUSTOM_CONVERSIONS,target:'_blank'},i._("See All {number of custom conversions}",[i.param('number of custom conversions',t)])));}j=babelHelpers.inherits(r,l);k=j&&j.prototype;r.prototype.render=function(){var s=this.props.isLoading?c('React').createElement(c('CenteredContainer.react'),{style:{height:o},vertical:true},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'})):this.$AdsPixelViewUsage1();return (c('React').createElement('div',null,c('React').createElement(c('XUIDialogTitle.react'),null,i._("Tools using this pixel")),s,c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('BUIAdoptionButton.react'),{label:i._("Done"),use:'confirm',onClick:this.props.onClose}))));};r.prototype.$AdsPixelViewUsage1=function(){return (c('React').createElement('div',{className:"_4dif"},c('React').createElement(c('XUIDialogBody.react'),null,this.$AdsPixelViewUsage2(),this.$AdsPixelViewUsage3())));};r.prototype.$AdsPixelViewUsage3=function(){var s=this.props.audiences,t=[{id:m.key,title:m.title,description:m.message,iconURL:m.image}],u=s.length===0?c('React').createElement(c('SignalsNextStepsSelector.react'),{options:t,onOptionSelect:this.$AdsPixelViewUsage4}):this.$AdsPixelViewUsage5(s),v=s.length>0?c('React').createElement(c('AdsPixelAudienceLink.react'),{accountID:this.props.accountID},i._("See All {number of audiences}",[i.param('number of audiences',s.length)])):null;return (c('React').createElement('div',null,c('React').createElement('div',{className:"_2zih"},i._("Website Custom Audiences")),u,c('React').createElement('div',{className:"_4dil"},v)));};r.prototype.$AdsPixelViewUsage2=function(){var s=this.props.customConversions,t=[{id:n.key,title:n.title,description:this.$AdsPixelViewUsage6(),iconURL:n.image}],u=s.length===0?c('React').createElement(c('SignalsNextStepsSelector.react'),{options:t,onOptionSelect:this.$AdsPixelViewUsage7}):this.$AdsPixelViewUsage5(s),v=s.length>0?q(this.props.accountID,s.length):null;return (c('React').createElement('div',{className:"_4dim"},c('React').createElement('div',{className:"_2zih"},i._("Custom conversions")),u,c('React').createElement('div',{className:"_4dil"},v)));};r.prototype.$AdsPixelViewUsage5=function(s){var t=s.slice(0,p).map(function(u){return (c('React').createElement('li',{key:u.id},u.name));});return (c('React').createElement(c('List.react'),{border:'none',spacing:'small'},t));};r.prototype.$AdsPixelViewUsage6=function(){return i._("{custom conversion message} {link to learn more}",[i.param('custom conversion message',n.message),i.param('link to learn more',this.$AdsPixelViewUsage8(c('AdsPixelHelpCenter').CUSTOM_CONVERSIONS.uri))]);};r.prototype.$AdsPixelViewUsage8=function(s){return (c('React').createElement(c('Link.react'),{href:s,target:'_blank',onClick:this.$AdsPixelViewUsage9},i._("Learn more.")));};r.prototype.$AdsPixelViewUsage4=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').AUDIENCE);c('AdsPixelPickerViewActions').disablePixelPicker();};r.prototype.$AdsPixelViewUsage7=function(){c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').GOAL_CREATE_STEP_ONE);};r.prototype.$AdsPixelViewUsage9=function(s){s.stopPropagation();};function r(){j.apply(this,arguments);}f.exports=r;}),null);
__d('AdsPixelViewUsageContainer.react',['AdsFluxContainer','AdsGoalStore','AdsPixelDetailStore','AdsPixelViewUsage.react','AdsSelectedAccountIDGetter','FluxStore','LayerFadeOnHide','React','XUIDialog.react','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Component,k=480;h=babelHelpers.inherits(l,j);i=h&&h.prototype;l.getStores=function(){return [c('AdsGoalStore'),c('AdsPixelDetailStore')];};l.calculateState=function(m,n){var o=c('nullthrows')(c('AdsSelectedAccountIDGetter').get({})),p=c('AdsPixelDetailStore').getPixelAudiences(n.pixelID).map(function(t){return {id:t.id,name:t.name};}),q=c('AdsGoalStore').getGoalListByPixelID(n.pixelID),r=q.map(function(t){return {name:t.name,id:t.customConversionID};}),s=!c('AdsGoalStore').isGoalListLoaded()||!c('AdsPixelDetailStore').arePixelAudiencesLoaded(n.pixelID);return {accountID:o,audiences:p,customConversions:r,isLoading:s};};l.prototype.render=function(){return (c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},hideOnEscape:true,shown:true,width:k,onToggle:this.props.onClose},c('React').createElement(c('AdsPixelViewUsage.react'),{accountID:this.state.accountID,audiences:this.state.audiences,customConversions:this.state.customConversions,isLoading:this.state.isLoading,onClose:this.props.onClose})));};function l(){h.apply(this,arguments);}f.exports=c('AdsFluxContainer').create(l,{withProps:true});}),null);
__d('AdsPixelDialog.react',['fbt','invariant','AdsCustomConversionRuleStore','AdsCustomConversionStoreUtils','AdsGoalDeleteContainer.react','AdsGoalDraftStore','AdsGoalEditContainer.react','AdsGoalStepOneContainer.react','AdsGoalStepThreeContent.react','AdsGoalStepTwoContent.react','AdsPixelAddStandardEventCodeDialogContainer.react','AdsPixelAndAudienceContextUtils','AdsPixelAudienceDialogContainer.react','AdsPixelBaseDialogContainer.react','AdsPixelDialogBootloadConstants','AdsPixelConversionCreationDialog.react','AdsPixelCreateNextStepsDialog.react','AdsPixelCreateStore','AdsPixelCreationConfirmationDialogContainer.react','AdsPixelCreationDialogContainer.react','AdsPixelDialogStore','AdsPixelDialogTypes','AdsPixelEditDialogContentContainer.react','AdsPixelEmailCodeDialogContentContainer.react','AdsPixelEmailCodeSuccessDialogContentContainer.react','AdsPixelGoogleAPIHelperUtils','AdsPixelGTM.react','AdsPixelGTMInstallSelector.react','AdsPixelGTMStoreLoader','AdsPixelInstallBaseCodeDialogContainer.react','AdsPixelShareDialogContentContainer.react','AdsPixelViewActions','AdsPixelViewUsageContainer.react','AdsSelectedAccountIDGetter','FluxMixinLegacy','LayerFadeOnHide','PixelCreationUIConstants','React','ReactComponentWithPureRenderMixin','XUIDialog.react','XUIDialogButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('React').createClass({displayName:'AdsPixelDialog',childContextTypes:c('AdsPixelAndAudienceContextUtils').getContextTypes(),mixins:[c('FluxMixinLegacy')([c('AdsCustomConversionRuleStore'),c('AdsGoalDraftStore'),c('AdsPixelDialogStore'),c('AdsPixelCreateStore')],{withProps:true}),c('ReactComponentWithPureRenderMixin')],propTypes:{accountID:j.string,pixelID:j.string},statics:{calculateState:function l(m,n){return {accountID:n.accountID||c('AdsSelectedAccountIDGetter').get({}),pixelID:c('AdsPixelCreateStore').getCreatedPixelID()||n.pixelID,dialogType:c('AdsPixelDialogStore').getCurrentDialogType(),prevDialogType:c('AdsPixelDialogStore').getPreviousDialogType()};}},render:function l(){var m=this.state.dialogType;if(m===c('AdsPixelDialogTypes').NO_DIALOG)return null;if(m===c('AdsPixelDialogTypes').AUDIENCE)return c('React').createElement(c('AdsPixelAudienceDialogContainer.react'),{pixelID:this.state.pixelID,key:'dialog'});if(m===c('AdsPixelDialogTypes').VIEW_USAGE)return (c('React').createElement(c('AdsPixelViewUsageContainer.react'),{pixelID:this.state.pixelID,onClose:this._onToggle,key:'dialog'}));var n=this._getDialogContent();if(!n&&c('AdsPixelDialogBootloadConstants')[this.state.dialogType])return c('React').createElement(c('AdsPixelBaseDialogContainer.react'),{pixelID:this.state.pixelID});n||i(0);return (c('React').createElement(c('XUIDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},hideOnEscape:true,key:'dialog',shown:true,width:c('PixelCreationUIConstants').DEFAULT_DIALOG_WIDTH,onToggle:this._onToggle},n));},getChildContext:function l(){return c('AdsPixelAndAudienceContextUtils').getDefaultChildContext();},_getDialogContent:function l(){var m=this.state.dialogType;switch(m){case c('AdsPixelDialogTypes').CREATE_CONVERSION:return c('React').createElement(c('AdsPixelConversionCreationDialog.react'),{onClose:this._onToggle});case c('AdsPixelDialogTypes').CREATE_PIXEL:return c('React').createElement(c('AdsPixelCreationDialogContainer.react'),{onClose:this._onToggle});case c('AdsPixelDialogTypes').CREATE_PIXEL_COMPLETE:return c('React').createElement(c('AdsPixelCreationConfirmationDialogContainer.react'),null);case c('AdsPixelDialogTypes').VIEW_CODE:return (c('React').createElement(c('AdsPixelInstallBaseCodeDialogContainer.react'),{backButton:this._renderBackButton(),pixelID:this.state.pixelID,onClose:this._onToggle}));case c('AdsPixelDialogTypes').NEXT_STEPS:return (c('React').createElement(c('AdsPixelCreateNextStepsDialog.react'),{onClose:this._onToggle}));case c('AdsPixelDialogTypes').EMAIL_CODE:return (c('React').createElement(c('AdsPixelEmailCodeDialogContentContainer.react'),{pixelID:this.state.pixelID,onClose:this._onToggle,backButton:this._renderBackButton()}));case c('AdsPixelDialogTypes').EMAIL_CODE_SUCCESS:return (c('React').createElement(c('AdsPixelEmailCodeSuccessDialogContentContainer.react'),{onClose:this._onToggle}));case c('AdsPixelDialogTypes').SETUP_CONVERSION:case c('AdsPixelDialogTypes').VIEW_EVENT_CODE:return (c('React').createElement(c('AdsPixelAddStandardEventCodeDialogContainer.react'),{backButton:this._renderBackButton(),onClose:this._onToggle}));case c('AdsPixelDialogTypes').EDIT:return (c('React').createElement(c('AdsPixelEditDialogContentContainer.react'),{pixelID:this.state.pixelID}));case c('AdsPixelDialogTypes').SHARE:return (c('React').createElement(c('AdsPixelShareDialogContentContainer.react'),{pixelID:this.state.pixelID}));case c('AdsPixelDialogTypes').GOAL_CREATE_STEP_ONE:return c('React').createElement(c('AdsGoalStepOneContainer.react'),null);case c('AdsPixelDialogTypes').GOAL_CREATE_STEP_TWO:return c('React').createElement(c('AdsGoalStepTwoContent.react'),null);case c('AdsPixelDialogTypes').GOAL_CREATE_STEP_THREE:return c('React').createElement(c('AdsGoalStepThreeContent.react'),null);case c('AdsPixelDialogTypes').GOAL_DELETE:return c('React').createElement(c('AdsGoalDeleteContainer.react'),null);case c('AdsPixelDialogTypes').GOAL_EDIT:return c('React').createElement(c('AdsGoalEditContainer.react'),null);case c('AdsPixelDialogTypes').GOOGLE_TAG_MANAGER:return (c('React').createElement(c('AdsPixelGTMInstallSelector.react'),{api:new (c('AdsPixelGoogleAPIHelperUtils'))(this.state.pixelID),onClose:this._onToggle}));case c('AdsPixelDialogTypes').GTM_QUICKINSTALL:return (c('React').createElement(c('AdsPixelGTM.react'),{storeLoader:new (c('AdsPixelGTMStoreLoader'))(this.state.pixelID),onClose:this._onToggle}));default:return null;}},_renderBackButton:function l(){var m=this.state.prevDialogType;if(m===c('AdsPixelDialogTypes').NO_DIALOG)return c('React').createElement('div',null);return (c('React').createElement(c('XUIDialogButton.react'),{label:h._("Back"),use:'default',onClick:this._onBack}));},_onBack:function l(){c('AdsPixelViewActions').onDialogBack();},_onToggle:function l(){if(this.state.hasPixels)c('AdsPixelViewActions').endPixelNUX();c('AdsPixelViewActions').endPixelCreate();c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').NO_DIALOG);}});f.exports=k;}),null);
__d('AdsBlueTip.react',['cx','CSS','LayerFadeOnShow','React','XUIAmbientNUX.react'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=1000,k=c('LayerFadeOnShow').forDuration(j),l={BlueTipFadeOnShow:k},m=c('React').createClass({displayName:'AdsBlueTip',propTypes:{behaviors:i.object,context:i.object.isRequired,highlightContext:i.bool,insertParent:i.object,onClose:i.func,shown:i.bool},getDefaultProps:function n(){return {shown:true};},onClose:function n(){if(this.props.onClose)this.props.onClose();},componentWillMount:function n(){var o=this.props.context.getAttribute('tabIndex');this._contextHasTabIndex=!!o||o===0;},componentWillReceiveProps:function n(o){var p=this.props,q=p.context,r=p.highlightContext,s=p.shown;if(o.context!==q&&r&&s)c('CSS').removeClass(q,"_z8p");},componentDidMount:function n(){this._removeTabIndex();},componentDidUpdate:function n(){setTimeout(this._removeTabIndex,0);},componentWillUnmount:function n(){c('CSS').removeClass(this.props.context,"_z8p");},_removeTabIndex:function n(){if(this.isMounted()&&!this._contextHasTabIndex)this.props.context.removeAttribute('tabIndex');},renderLayers:function n(){var o=this.props.behaviors?this.props.behaviors:l;return (c('React').createElement(c('XUIAmbientNUX.react'),babelHelpers['extends']({},this.props,{behaviors:o,onCloseButtonClick:this.onClose,key:'blueTip'}),this.props.children));},render:function n(){if(this.props.highlightContext&&this.props.shown){c('CSS').addClass(this.props.context,"_z8p");}else c('CSS').removeClass(this.props.context,"_z8p");return c('React').createElement('span',null,this.renderLayers());}});f.exports=m;}),null);
__d('AYMTAudienceSharingNUXRenderer',['fbt','AdsBlueTip.react','AdsGuidanceBaseNuxRenderer','AdsGuidanceChannelObject','immutable','React','ge'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AdsGuidanceChannelObject').NuxData,l=c('AdsGuidanceChannelObject').ChannelData;i=babelHelpers.inherits(m,c('AdsGuidanceBaseNuxRenderer'));j=i&&i.prototype;m.prototype.getIDs=function(){return c('immutable').Set(['aymt_audience_sharing_tip']);};m.prototype.canRender=function(n,o,p){return true;};m.prototype.getElement=function(n,o,p,q,r){var s=c('ge')('audienceManagerActionButton'),t=function(){q();this.getProps().onClose();}.bind(this);return (c('React').createElement(c('AdsBlueTip.react'),{context:s,position:'below',onClose:t},h._("You can now select multiple audiences and share them using the Actions drop-down menu. Sharing audiences allows other advert accounts to target adverts to these audiences or see insights about them.")));};function m(){i.apply(this,arguments);}f.exports=m;}),null);
__d('AudienceManagerActionSelector.react',['fbt','AdsInterfacesLogger','AdsAMAudienceUtils','AdsAMConnectConfig','AdsAudienceDataSourceUtils','AdsCustomAudienceType','AdsGuidanceStandaloneNuxContainer.react','AdsHelpLink.react','AudienceManagerLoggingEvents','AYMTAudienceSharingNUXRenderer','CustomAudienceRuleSignalSource','FBActionSelector.react','React','adsGKCheck','emptyFunction','getByPath','keyMirrorRecursive'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('FBActionSelector.react').Option,l=c('FBActionSelector.react').Separator,m=c('React').PropTypes,n=h._("You do not have permission to edit this audience"),o=h._("You can't edit audiences that have been shared with you."),p=h._("You do not have permission to delete this audience"),q=h._("The audience you've selected has been used to create Lookalike Audiences and can't be deleted without first deleting the Lookalikes."),r=h._("You do not have permission to delete these audiences"),s=h._("You do not have permission to share this audience"),t=h._("One or more of these audiences have been shared with you and you can't share them with others."),u=h._("You cannot create a Lookalike Audience from a saved target group"),v=h._("You can't create Lookalike Audiences from audiences that have been shared with you."),w=h._("You cannot share a saved audience."),x=h._("You cannot create a Lookalike Audience from this type of audience"),y=h._("You don't have permission to create a Lookalike audience from this type of audience"),z=h._("You cannot share more than one audience"),aa=h._("You can't share audiences that have been shared with you."),ba=h._("You can't share saved audiences or audiences that were shared with you."),ca=h._("You cannot edit more than one audience"),da=h._("You cannot create a Lookalike Audience from more than one audience"),ea=h._("You can't view pixel if the audience is not a Website Custom Audience"),fa=h._("You can't view pixels for audiences that have been shared with you."),ga=h._("You can't view the pixel code if you have selected multiple audiences"),ha=h._("You can only delete multiple audiences of the same type"),ia=h._("This action is not supported for store visits audiences"),ja=[c('AdsAudienceDataSourceUtils').SUBTYPES.WEB_PIXEL_HITS,c('AdsAudienceDataSourceUtils').SUBTYPES.WEB_PIXEL_COMBINATION_EVENTS,c('AdsAudienceDataSourceUtils').SUBTYPES.USER_PROPERTIES],ka=c('keyMirrorRecursive')({SINGLE_SAVED_TARGET_GROUP:'',SINGLE_CUSTOM_AUDIENCE:'',MULTIPLE_SAVED_TARGET_GROUP:'',MULTIPLE_CUSTOM_AUDIENCE:'',MULTIPLE_MIXED:'',NONE:''}),la=300;i=babelHelpers.inherits(ma,c('React').Component);j=i&&i.prototype;function ma(){var na,oa;for(var pa=arguments.length,qa=Array(pa),ra=0;ra<pa;ra++)qa[ra]=arguments[ra];return oa=(na=j.constructor).call.apply(na,[this].concat(qa)),this.$AudienceManagerActionSelector1=function(){return (c('React').createElement(c('AdsGuidanceStandaloneNuxContainer.react'),{accountID:this.props.accountID,channelName:'AYMTAdsAudienceManagerChannel',nuxName:'aymt_audience_sharing_tip',renderer:new (c('AYMTAudienceSharingNUXRenderer'))({onClose:this.$AudienceManagerActionSelector2})}));}.bind(this),this.$AudienceManagerActionSelector3=function(){if(this.props.selectedAudiences.length===0){return ka.NONE;}else if(this.props.selectedAudiences.length===1){var sa=this.props.selectedAudiences[0];if(c('AdsAMAudienceUtils').isSavedTargetSpec(sa)){return ka.SINGLE_SAVED_TARGET_GROUP;}else return ka.SINGLE_CUSTOM_AUDIENCE;}else return this.$AudienceManagerActionSelector13();}.bind(this),this.$AudienceManagerActionSelector13=function(){var sa=false,ta=false;for(var ua=0;ua<this.props.selectedAudiences.length;ua++){var va=this.props.selectedAudiences[ua];if(c('AdsAMAudienceUtils').isSavedTargetSpec(va)){ta=true;}else sa=true;if(sa&&ta)break;}if(sa&&ta){return ka.MULTIPLE_MIXED;}else if(sa){return ka.MULTIPLE_CUSTOM_AUDIENCE;}else return ka.MULTIPLE_SAVED_TARGET_GROUP;}.bind(this),this.$AudienceManagerActionSelector12=function(sa){switch(sa){case ka.SINGLE_SAVED_TARGET_GROUP:return this.props.onSTGAction;case ka.SINGLE_CUSTOM_AUDIENCE:return this.props.onCAAction;case ka.MULTIPLE_SAVED_TARGET_GROUP:case ka.MULTIPLE_CUSTOM_AUDIENCE:return this.props.onBulkAction;case ka.NONE:return c('emptyFunction');case ka.MULTIPLE_MIXED:return this.props.onMultipleOverlapAction;}return c('emptyFunction');}.bind(this),this.$AudienceManagerActionSelector11=function(sa){return sa===ka.NONE;},this.$AudienceManagerActionSelector14=function(sa){return (!this.props.accountID||sa.account_id===this.props.accountID);}.bind(this),this.$AudienceManagerActionSelector5=function(sa){var ta=null,ua=false;switch(sa){case ka.MULTIPLE_CUSTOM_AUDIENCE:case ka.MULTIPLE_MIXED:case ka.MULTIPLE_SAVED_TARGET_GROUP:ta=ga;break;case ka.SINGLE_SAVED_TARGET_GROUP:ta=ea;break;case ka.SINGLE_CUSTOM_AUDIENCE:var va=this.props.selectedAudiences[0];ua=true;ta=null;if(ja.indexOf(va.data_source.sub_type)===-1){ua=false;ta=ea;}else if(this.props.accountID!=va.account_id){ua=false;ta=fa;}break;}var wa=ua?null:c('React').createElement(c('AdsHelpLink.react'),{width:la},ta);return (c('React').createElement(k,{disabled:!ua,key:'pixel',value:'pixel'},h._("View Pixel"),wa));}.bind(this),this.$AudienceManagerActionSelector9=function(sa){if(this.props.canUseOptOut){var ta=false;if(sa===ka.SINGLE_CUSTOM_AUDIENCE){var ua=this.props.selectedAudiences[0];ta=ua.data_source.type===c('AdsAudienceDataSourceUtils').TYPES.FILE_IMPORTED||ua.data_source.type===c('AdsAudienceDataSourceUtils').TYPES.THIRD_PARTY_IMPORTED;}return (c('React').createElement(k,{disabled:!ta,key:'optout',value:'optout'},h._("Update Opt-out Link")));}return null;}.bind(this),this.$AudienceManagerActionSelector7=function(sa){var ta=null,ua=false;switch(sa){case ka.SINGLE_SAVED_TARGET_GROUP:ua=true;break;case ka.SINGLE_CUSTOM_AUDIENCE:var va=this.props.selectedAudiences[0];ua=true;ta=null;if(!va.permission_for_actions.can_edit&&!c('AdsAMConnectConfig').create_draft_audiences&&this.$AudienceManagerActionSelector14(va)){ua=false;ta=p;}else if(va.lookalike_audience_ids&&this.$AudienceManagerActionSelector14(va)){ua=false;ta=q;}break;case ka.MULTIPLE_MIXED:ta=ha;break;case ka.MULTIPLE_CUSTOM_AUDIENCE:ua=true;break;case ka.MULTIPLE_SAVED_TARGET_GROUP:ua=true;break;}var wa=ua?null:c('React').createElement(c('AdsHelpLink.react'),{width:la},ta);return (c('React').createElement(k,{disabled:!ua,key:'delete',value:'delete'},h._("Delete"),wa));}.bind(this),this.$AudienceManagerActionSelector10=function(){var sa=!!this.props.selectedAudiences.length;return (c('React').createElement(k,{disabled:!sa,key:'audiences_overlap',value:'audiences_overlap'},h._("Show audience overlap")));}.bind(this),oa;}ma.prototype.$AudienceManagerActionSelector2=function(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_AUDIENCE_SHARING_NUX_CLOSED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};ma.prototype.render=function(){var na=h._("Actions"),oa=this.$AudienceManagerActionSelector3(),pa=[this.$AudienceManagerActionSelector4(oa),this.$AudienceManagerActionSelector5(oa)],qa=[this.$AudienceManagerActionSelector6(oa),this.$AudienceManagerActionSelector7(oa)];if(this.props.canUseShare)qa.push(this.$AudienceManagerActionSelector8(oa));if(this.props.canEditLabels)qa.push(c('React').createElement(k,{disabled:!this.props.canEditLabels,key:'add_tags',value:'add_tags'},h._("Add Labels")));var ra=[];if(this.props.canUseOptOut){ra.push(c('React').createElement(l,{key:'divider_2'}));ra.push(this.$AudienceManagerActionSelector9(oa));}ra.push(this.$AudienceManagerActionSelector10());return c('React').createElement('div',null,this.$AudienceManagerActionSelector1(),c('React').createElement(c('FBActionSelector.react'),{disabled:this.$AudienceManagerActionSelector11(oa),id:'audienceManagerActionButton',label:na,onAction:this.$AudienceManagerActionSelector12(oa)},pa,c('React').createElement(l,{key:'divider_1'}),qa,ra));};ma.prototype.$AudienceManagerActionSelector4=function(na){var oa=null,pa=false,qa=c('adsGKCheck')('partner_category_lookalike_adaccount');switch(na){case ka.SINGLE_SAVED_TARGET_GROUP:oa=u;break;case ka.SINGLE_CUSTOM_AUDIENCE:var ra=this.props.selectedAudiences[0];pa=true;oa=null;if(!ra.permission_for_actions.subtype_supports_lookalike){pa=false;oa=x;}else if(ra.subtype===c('AdsCustomAudienceType').SUBTYPES.PARTNER_CATEGORY&&(!this.$AudienceManagerActionSelector14(ra)||!qa)){pa=false;oa=y;}else if(!this.$AudienceManagerActionSelector14(ra)&&ra.subtype!==c('AdsCustomAudienceType').SUBTYPES.REV_SHARE&&!ra.permission_for_actions.supports_recipient_lookalike){pa=false;oa=v;}break;case ka.MULTIPLE_MIXED:case ka.MULTIPLE_CUSTOM_AUDIENCE:case ka.MULTIPLE_SAVED_TARGET_GROUP:oa=da;break;}var sa=pa?null:c('React').createElement(c('AdsHelpLink.react'),{width:la},oa);return c('React').createElement(k,{disabled:!pa,key:'lookalike',value:'lookalike'},h._("Create Lookalike"),sa);};ma.prototype.$AudienceManagerActionSelector15=function(na){if(na.subtype!=='PLATFORM')return false;var oa=c('AdsAudienceDataSourceUtils').getPlatformAudienceSubType(na.rule_v2);return oa===c('CustomAudienceRuleSignalSource').STORE_VISITS;};ma.prototype.$AudienceManagerActionSelector8=function(na){if(this.props.canUseShare){var oa=null,pa=false,qa=false;switch(na){case ka.SINGLE_SAVED_TARGET_GROUP:case ka.MULTIPLE_SAVED_TARGET_GROUP:oa=w;break;case ka.SINGLE_CUSTOM_AUDIENCE:var ra=this.props.selectedAudiences[0];pa=true;oa=null;if(!this.$AudienceManagerActionSelector14(ra)){pa=false;oa=aa;}else if(!ra.permission_for_actions.can_share){pa=false;oa=s;}else if(this.$AudienceManagerActionSelector15(ra)){pa=false;oa=ia;}break;case ka.MULTIPLE_CUSTOM_AUDIENCE:pa=this.props.selectedAudiences.every(function(ta){return ta.permission_for_actions.can_share&&this.$AudienceManagerActionSelector14(ta);}.bind(this));oa=pa?null:t;break;case ka.MULTIPLE_MIXED:qa=this.props.selectedAudiences.every(function(ta){return c('getByPath')(ta,['isSavedAudience'],false)||this.$AudienceManagerActionSelector14(ta);}.bind(this));oa=qa?w:ba;break;}var sa=pa?null:c('React').createElement(c('AdsHelpLink.react'),{width:la},oa);return c('React').createElement(k,{disabled:!pa,key:'share',value:'share'},h._("Share"),sa);}return null;};ma.prototype.$AudienceManagerActionSelector6=function(na){var oa=null,pa=false;switch(na){case ka.SINGLE_SAVED_TARGET_GROUP:pa=true;break;case ka.SINGLE_CUSTOM_AUDIENCE:var qa=this.props.selectedAudiences[0];pa=true;oa=null;if(!this.$AudienceManagerActionSelector14(qa)){pa=false;oa=o;}else if(!qa.permission_for_actions.can_edit&&!c('AdsAMConnectConfig').create_draft_audiences){pa=false;oa=n;}else if(this.$AudienceManagerActionSelector15(qa)){pa=false;oa=ia;}break;case ka.MULTIPLE_CUSTOM_AUDIENCE:case ka.MULTIPLE_SAVED_TARGET_GROUP:case ka.MULTIPLE_MIXED:pa=false;oa=ca;break;}var ra=pa?null:c('React').createElement(c('AdsHelpLink.react'),{width:la},oa);return c('React').createElement(k,{disabled:!pa,key:'edit',value:'edit'},h._("Edit"),ra);};ma.propTypes={accountID:m.string.isRequired,canEditLabels:m.bool,canUseOptOut:m.bool,canUseShare:m.bool,selectedAudiences:m.array.isRequired,onBulkAction:m.func.isRequired,onCAAction:m.func.isRequired,onMultipleOverlapAction:m.func.isRequired,onSTGAction:m.func.isRequired};ma.defaultProps={canOptOut:false,canUseShare:true};f.exports=ma;}),null);
__d('AdsAudienceOverlapStore',['AdsAMActionTypes','AdsDispatcher','FluxStore','ImmutableObject','adsBaseStoreMixin'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);this.$AdsAudienceOverlapStoreClass1=[];this.$AdsAudienceOverlapStoreClass2=true;}j.prototype.getStoreName=function(){return 'AdsAudienceOverlapStore';};j.prototype.getAudienceOverlap=function(){return this.$AdsAudienceOverlapStoreClass1;};j.prototype.getIsLoadingOverlap=function(){return this.$AdsAudienceOverlapStoreClass2;};j.prototype.__onDispatch=function(l){var m=l.action;switch(m.actionType){case c('AdsAMActionTypes').AUDIENCE_GET_OVERLAP:this.$AdsAudienceOverlapStoreClass1=m.audienceOverlap.map(function(o){return new (c('ImmutableObject'))(o);});this.$AdsAudienceOverlapStoreClass2=false;this.__emitChange();break;case c('AdsAMActionTypes').AUDIENCE_LOAD_OVERLAP:this.$AdsAudienceOverlapStoreClass2=true;this.__emitChange();break;case c('AdsAMActionTypes').AUDIENCE_REMOVE_COMPARED_AUDIENCE:var n=this.$AdsAudienceOverlapStoreClass1.filter(function(o){return o.id!=m.audienceID;});this.$AdsAudienceOverlapStoreClass1=n;this.__emitChange();break;}};var k=new j();f.exports=k;}),null);
__d('AdsAudienceAndSavedAudienceSearchSource',['Promise','AdsAPIAdAccountFields','AdsAPISavedAudienceFields','AdsAPICustomAudienceFields','AdsGenericFilterOperator','AdsGraphAPI','AbstractSearchSource','SearchableEntry'],(function a(b,c,d,e,f,g){'use strict';var h,i,j={},k={searchSavedAudiencesForAccount:function m(n,o){return c('AdsGraphAPI').get(f.id).adaccount(n).edge(c('AdsAPIAdAccountFields').SAVED_AUDIENCES).get({fields:[c('AdsAPISavedAudienceFields').ID,c('AdsAPISavedAudienceFields').NAME,c('AdsAPISavedAudienceFields').APPROXIMATE_COUNT],filtering:o===''?null:[{field:'name',operator:c('AdsGenericFilterOperator').CONTAIN,value:o}]});},searchAudienceForAccount:function m(n,o){return c('AdsGraphAPI').get(f.id).adaccount(n).edge(c('AdsAPIAdAccountFields').CUSTOM_AUDIENCES).get({fields:[c('AdsAPICustomAudienceFields').ID,c('AdsAPICustomAudienceFields').NAME,c('AdsAPICustomAudienceFields').APPROXIMATE_COUNT],filtering:o===''?null:[{field:'name',operator:c('AdsGenericFilterOperator').CONTAIN,value:o}]});}};h=babelHelpers.inherits(l,c('AbstractSearchSource'));i=h&&h.prototype;function l(m){i.constructor.call(this);if(j[m]){return j[m];}else{this.accountID=m;return this;}}l.prototype.searchImpl=function(m,n,o){c('Promise').all([k.searchSavedAudiencesForAccount(this.accountID,m),k.searchAudienceForAccount(this.accountID,m)]).done(function(p){var q=p[0].data.concat(p[1].data),r=q.map(function(s){return (new (c('SearchableEntry'))({uniqueID:s.id,title:s.name,auxiliaryData:{count:s.approximate_count}}));});n(r,m);});};l.getInstance=function(m){if(!j[m])j[m]=new l(m);return j[m];};f.exports=l;}),null);
__d('AdsAudienceAndSavedAudienceTypeaheadPresenter.react',['cx','fbt','BUIAdoptionXUIGrayText.react','List.react','React','ScrollableArea.react','ads-lib-formatters'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l,m,n=c('ads-lib-formatters').createIntlNumberFormatter(0),o=c('React').PropTypes;j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;p.prototype.render=function(){var s=this.props.excludedEntries||{},t=this.props.entries.filter(function(w){return !s[w.getUniqueID()];});if(!t.length)return null;var u=this.props.highlightedEntry,v=t.map(function(w){return (c('React').createElement(q,{entry:w,highlighted:w===this.props.highlightedEntry,key:w.getUniqueID(),onHighlight:this.props.onHighlight,onSelect:this.props.onSelect}));}.bind(this));return (c('React').createElement('div',{className:"_4hso"},c('React').createElement('div',{className:"_4hsp"},c('React').createElement(c('ScrollableArea.react'),null,c('React').createElement(c('List.react'),{border:'none',spacing:'none'},v)))));};function p(){j.apply(this,arguments);}p.propTypes={entries:o.array.isRequired,highlightedEntry:o.object,onSelect:o.func.isRequired,onHighlight:o.func};l=babelHelpers.inherits(q,c('React').Component);m=l&&l.prototype;function q(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=m.constructor).call.apply(s,[this].concat(v)),this.$EntryRowView1=function(x){this.props.onSelect(this.props.entry,x);}.bind(this),this.$EntryRowView2=function(){this.props.onHighlight&&this.props.onHighlight(this.props.entry);}.bind(this),t;}q.prototype.render=function(){return c('React').createElement('li',{className:"_4hsq"+(this.props.highlighted?' '+"_4hsr":''),onMouseDown:this.$EntryRowView1,onMouseEnter:this.$EntryRowView2},this.props.entry.getTitle(),c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'light',size:'small'},i._("{size} people",[i.param('size',n(this.props.entry.getAuxiliaryData().count))])));};q.propTypes={entry:o.object.isRequired,onSelect:o.func.isRequired,onHighlight:o.func,highlighted:o.bool};var r={ViewRenderer:p,useLayer:true};f.exports=r;}),null);
__d('AdsFIGSingleTypeahead.react',['cx','AdsFIGBasicTypeahead.react','BUIAdoptionCloseButton.react','React','SearchableEntry'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={selectedEntry:this.props.initialEntry},this.$AdsFIGSingleTypeahead2=function(){if(!this.$AdsFIGSingleTypeahead1&&this.props.subscribeClear)this.$AdsFIGSingleTypeahead1=this.props.subscribeClear(this.$AdsFIGSingleTypeahead4);return (c('React').createElement('div',{className:"_2_n5"},c('React').createElement('label',{className:"_58ak"},c('React').createElement('span',null,this.state.selectedEntry.getTitle()),c('React').createElement(c('BUIAdoptionCloseButton.react'),{className_DEPRECATED:"_5w28",onClick:this.$AdsFIGSingleTypeahead4}))));}.bind(this),this.$AdsFIGSingleTypeahead3=function(){return (c('React').createElement(c('AdsFIGBasicTypeahead.react'),babelHelpers['extends']({},this.props,{onAddEntryAttempt:this.$AdsFIGSingleTypeahead5})));}.bind(this),this.$AdsFIGSingleTypeahead4=function(){this.setState({selectedEntry:null});if(this.$AdsFIGSingleTypeahead1){this.$AdsFIGSingleTypeahead1.unsubscribe();this.$AdsFIGSingleTypeahead1=null;}return this.props.onClearEntryAttempt();}.bind(this),this.$AdsFIGSingleTypeahead5=function(r){if(r)this.setState({selectedEntry:r});return this.props.onAddEntryAttempt(r);}.bind(this),n;}l.prototype.componentWillUnmount=function(){'use strict';if(this.$AdsFIGSingleTypeahead1){this.$AdsFIGSingleTypeahead1.unsubscribe();this.$AdsFIGSingleTypeahead1=null;}};l.prototype.componentWillReceiveProps=function(m){'use strict';if(this.props.initialEntry!==m.initialEntry)this.setState({selectedEntry:m.initialEntry});};l.prototype.render=function(){'use strict';if(this.state.selectedEntry){return this.$AdsFIGSingleTypeahead2();}else return this.$AdsFIGSingleTypeahead3();};l.propTypes={subscribeClear:k.func,initialEntry:k.instanceOf(c('SearchableEntry')),onClearEntryAttempt:k.func};f.exports=l;}),null);
__d('AdsAudienceAndSavedAudienceTypeahead.react',['fbt','AdsFIGSingleTypeahead.react','AdsAudienceAndSavedAudienceSearchSource','AdsAudienceAndSavedAudienceTypeaheadPresenter.react','React','SearchableEntry'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$AdsAudienceAndSavedAudienceTypeahead1=function(r){this.props.onAudienceAndSavedAudienceChange({id:r.getUniqueID(),name:r.getTitle()});}.bind(this),n;}l.prototype.render=function(){var m=h._("Enter an audience"),n=c('AdsAudienceAndSavedAudienceSearchSource').getInstance(this.props.accountID),o=c('AdsAudienceAndSavedAudienceTypeaheadPresenter.react'),p={};this.props.comparedAudienceIDs.forEach(function(q){p[q]=true;});p[this.props.selectedAudienceID]=true;return c('React').createElement(c('AdsFIGSingleTypeahead.react'),{excludedEntries:p,focusedOnInit:true,initialEntry:null,placeholder:m,presenter:o,subscribeClear:this.props.subscribeAudienceCompareButtonClick,searchSource:n,onAddEntryAttempt:this.$AdsAudienceAndSavedAudienceTypeahead1,onClearEntryAttempt:this.props.onClearAudienceAndSavedAudience});};l.propTypes={accountID:k.string.isRequired,selectedAudienceID:k.string.isRequired,comparedAudienceIDs:k.arrayOf(k.string).isRequired,onAudienceAndSavedAudienceChange:k.func.isRequired,onClearAudienceAndSavedAudience:k.func.isRequired,subscribeAudienceCompareButtonClick:k.func};f.exports=l;}),null);
__d('AdsAudienceOverlapPrivacyInfo.react',['fbt','BUIAdoptionXUINotice.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){return (c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'information'},c('React').createElement('div',null,h._("To protect the privacy of people on Facebook, we don't share data for audiences of fewer than 1,000 people."))));};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('AudienceOverlapVennDiagram.react',['cx','React','ReactDOM','d3/d3','areEqual'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=[{color:'#13DBA6',opacity:.13},{color:'#905AC7',opacity:.1},{color:'#FF8051',opacity:.15},{color:'#FFCC00',opacity:.2}],m=188,n=132,o=32,p=64,q=156,r=66,s=10,t=100;i=babelHelpers.inherits(u,c('React').Component);j=i&&i.prototype;function u(){var v,w;for(var x=arguments.length,y=Array(x),z=0;z<x;z++)y[z]=arguments[z];return w=(v=j.constructor).call.apply(v,[this].concat(y)),this.draw=function(aa){var ba=l[aa.index].color,ca=l[aa.index].opacity,da=null,ea=aa.audienceSize/aa.comparedAudienceSize;if(ea>=1){da=(Math.log10(ea)+1)*o;}else da=o/(Math.log10(1/ea)+1);da=Math.max(da,s);da=Math.min(da,t);var fa=aa.overlap?m-(da+p*(1-aa.overlap)):116-da,ga=null;if(!c('d3/d3').select(c('ReactDOM').findDOMNode(this)).select('svg').empty()){ga=c('d3/d3').select(c('ReactDOM').findDOMNode(this)).select('svg');ga.selectAll('*').remove();}else ga=c('d3/d3').select(c('ReactDOM').findDOMNode(this)).append('svg:svg').attr('width',m).attr('height',n);var ha=ga.append('svg:defs');ha.append('svg:clipPath').attr('id','compare_circle'+this.props.id).append('svg:circle').attr('cx',q).attr('cy',r).attr('r',o);ha.append('svg:clipPath').attr('id','circle'+this.props.id).append('svg:circle').attr('cx',fa).attr('cy',r).attr('r',da);ga.append('svg:rect').attr('clip-path','url(#compare_circle'+this.props.id+')').attr('width',m).attr('height',n).style('fill','#C9E4FF');ga.append('svg:rect').attr('clip-path','url(#circle'+this.props.id+')').attr('width',m).attr('height',n).style('fill',ba).style('fill-opacity',ca);ga.append('svg:g').attr('clip-path','url(#circle'+this.props.id+')').append('svg:rect').attr('clip-path','url(#compare_circle'+this.props.id+')').attr('width',m).attr('height',n).style('fill','#3D6AD6');}.bind(this),w;}u.prototype.componentDidMount=function(){this.draw(this.props);};u.prototype.componentDidUpdate=function(v){if(!c('areEqual')(this.props,v))this.draw(this.props);};u.prototype.render=function(){return (c('React').createElement('div',babelHelpers['extends']({className:"_49_p"},this.props)));};u.propTypes={id:k.string.isRequired,index:k.oneOf([0,1,2,3]).isRequired,audienceSize:k.number.isRequired,comparedAudienceSize:k.number.isRequired,overlap:k.number.isRequired};f.exports=u;}),null);
__d('AdsAudienceOverlapCompareRow.react',['cx','fbt','AdsAudienceOverlapPrivacyInfo.react','AudienceOverlapVennDiagram.react','BUIAdoptionCloseButton.react','BUIAdoptionXUIGrayText.react','BUIAdoptionXUISpinner.react','Layout.react','React','ads-lib-formatters'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column,m=c('Layout.react').FillColumn,n=c('ads-lib-formatters').createIntlNumberFormatter(0),o=c('React').PropTypes,p=['#13BDA6','#905AC7','#FF8051','#FFCC00'];j=babelHelpers.inherits(q,c('React').Component);k=j&&j.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.$AdsAudienceOverlapCompareRow1=function(){if(this.props.isLoadingOverlap)return (c('React').createElement('div',{className:"_fx4"},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'small'})));var w=c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light'},i._("{audience size} people",[i.param('audience size',c('React').createElement('span',{className:"_417",style:{color:p[this.props.index]}},n(this.props.audienceSize)))]));return (c('React').createElement(c('Layout.react'),null,c('React').createElement(m,{className:"_418"},c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'medium',size:'medium',weight:'bold'},this.props.audienceName),w)),this.$AdsAudienceOverlapCompareRow2(),c('React').createElement(l,{className:"_34gz"},c('React').createElement(c('BUIAdoptionCloseButton.react'),{onClick:this.$AdsAudienceOverlapCompareRow3}))));}.bind(this),this.$AdsAudienceOverlapCompareRow2=function(){if(this.props.comparedAudienceSize<=1000){return [c('React').createElement(l,{className:"_419",key:'venn_diagram'}),c('React').createElement(l,{className:"_419",key:'overlap_size'},c('React').createElement('div',null,'--',c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'light',size:'small',textAlign:'center',weight:'normal'},i._("people")))),c('React').createElement(l,{className:"_34gy",key:'overlap_percentage'},'--')];}else if(this.props.audienceSize<=1000){return [c('React').createElement(l,{className:"_d-8",key:'info'},c('React').createElement(c('AdsAudienceOverlapPrivacyInfo.react'),null))];}else{var w=this.props.comparedAudienceSize?this.props.overlapAudienceSize/this.props.comparedAudienceSize:0;return [c('React').createElement(l,{className:"_419",key:'venn_diagram'},c('React').createElement(c('AudienceOverlapVennDiagram.react'),{audienceSize:this.props.audienceSize,comparedAudienceSize:this.props.comparedAudienceSize,id:this.props.id,index:this.props.index,overlap:w})),c('React').createElement(l,{className:"_419",key:'overlap_size'},c('React').createElement('div',null,n(this.props.overlapAudienceSize),c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'light',size:'small',textAlign:'center',weight:'normal'},i._("people")))),c('React').createElement(l,{className:"_34gy",key:'overlap_percentage'},i._("{overlap number}\u0025",[i.param('overlap number',Math.round(w*100))]))];}}.bind(this),this.$AdsAudienceOverlapCompareRow3=function(){this.props.onClose(this.props.id);}.bind(this),s;}q.prototype.render=function(){var r="_414 _2sci";return c('React').createElement('div',{className:r},c('React').createElement('div',{className:"_fx3"},this.$AdsAudienceOverlapCompareRow1()));};q.propTypes={id:o.string.isRequired,isLoadingOverlap:o.bool.isRequired,index:o.oneOf([0,1,2,3]).isRequired,audienceName:o.string.isRequired,audienceSize:o.number.isRequired,comparedAudienceSize:o.number.isRequired,overlapAudienceSize:o.number.isRequired,onClose:o.func.isRequired};f.exports=q;}),null);
__d('AdsAudienceOverlapCompareList.react',['cx','fbt','AdsInterfacesLogger','AdsAudienceAndSavedAudienceTypeahead.react','AdsAudienceOverlapCompareRow.react','AudienceManagerLoggingEvents','Arbiter','BUIAdoptionButton.react','BUIAdoptionXUIGrayText.react','FBMoreLink.react','Layout.react','ReactCSSTransitionGroup','React','emptyFunction'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column,m=c('Layout.react').FillColumn,n=c('React').PropTypes,o=500,p='____audience_compare_button_click',q=i._("Comparison audiences"),r=i._("Overlap"),s=i._("\u0025 overlap of selected audience"),t=i._("Add another audience"),u=i._("Hide this option"),v=i._("Compare another audience"),w=i._("Compare");j=babelHelpers.inherits(x,c('React').Component);k=j&&j.prototype;function x(z){k.constructor.call(this,z);y.call(this);var aa=true;if(!z.isLoadingOverlap&&z.comparedAudienceIDs.length==0)aa=false;this.state={isCollapsed:aa,typeaheadSelectedAudienceID:null};}x.prototype.componentWillUpdate=function(z,aa){if(z.comparedAudienceIDs.length==0&&z.comparedAudienceIDs.length!==this.props.comparedAudienceIDs.length)this.setState({isCollapsed:false});};x.prototype.render=function(){return (c('React').createElement('div',null,c('React').createElement('div',{className:"_1hfd"},c('React').createElement(c('Layout.react'),null,c('React').createElement(m,null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'large',weight:'bold'},q)),c('React').createElement(l,{className:"_5irx"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium'},r)),c('React').createElement(l,{className:"_5iry"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium'},s)))),c('React').createElement(c('ReactCSSTransitionGroup'),{transitionEnterTimeout:o,transitionLeaveTimeout:o,transitionName:{enter:"_2_x-",enterActive:"_2_x_",leave:"_2_y1",leaveActive:"_2_y2"}},this.$AdsAudienceOverlapCompareList1()),this.$AdsAudienceOverlapCompareList2()));};x.propTypes={accountID:n.string.isRequired,audienceOverlap:n.arrayOf(n.object).isRequired,comparedAudienceIDs:n.arrayOf(n.string).isRequired,selectedAudienceID:n.string.isRequired,isLoadingOverlap:n.bool.isRequired,onAddAnotherAudience:n.func.isRequired,onDeleteAudience:n.func.isRequired};var y=function z(){this.$AdsAudienceOverlapCompareList1=function(){var aa=0;if(!this.props.isLoadingOverlap&&this.props.audienceOverlap.length>0)aa=this.props.audienceOverlap[this.props.audienceOverlap.length-1].estimated_reach;return (this.props.comparedAudienceIDs.map(function(ba,ca){var da=0,ea=0,fa='';if(!this.props.isLoadingOverlap&&this.props.audienceOverlap.length>0){da=this.props.audienceOverlap[ca].overlap;ea=this.props.audienceOverlap[ca].estimated_reach;fa=this.props.audienceOverlap[ca].name;}return (c('React').createElement(c('AdsAudienceOverlapCompareRow.react'),{audienceName:fa,audienceSize:ea,comparedAudienceSize:aa,id:ba,index:ca,isLoadingOverlap:this.props.isLoadingOverlap,key:'row_'+ba,overlapAudienceSize:da,onClose:this.props.onDeleteAudience}));}.bind(this)));}.bind(this);this.$AdsAudienceOverlapCompareList2=function(){return (c('React').createElement('div',null,c('React').createElement(c('ReactCSSTransitionGroup'),{transitionEnterTimeout:o,transitionLeaveTimeout:o,transitionName:{enter:"_2_zz",enterActive:"_2_z-",leave:"_2_z_",leaveActive:"_2_-0"}},this.$AdsAudienceOverlapCompareList3()),c('React').createElement('div',{className:"_5tmg"},c('React').createElement(c('FBMoreLink.react'),{allowToggle:true,isCollapsed:this.state.isCollapsed,lessLabel:u,moreLabel:t,onClick:this.$AdsAudienceOverlapCompareList4}))));}.bind(this);this.$AdsAudienceOverlapCompareList3=function(){if(this.state.isCollapsed)return null;var aa="_2_-1 _2sci";return (c('React').createElement('div',{className:aa,key:'compareBox'},c('React').createElement('div',{className:"_5tmh"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-8t",shade:'medium',size:'medium',weight:'bold'},v),c('React').createElement('div',{className:"_580y"},c('React').createElement(c('AdsAudienceAndSavedAudienceTypeahead.react'),{accountID:this.props.accountID,selectedAudienceID:this.props.selectedAudienceID,comparedAudienceIDs:this.props.comparedAudienceIDs,onAudienceAndSavedAudienceChange:this.$AdsAudienceOverlapCompareList5,onClearAudienceAndSavedAudience:this.$AdsAudienceOverlapCompareList6,subscribeAudienceCompareButtonClick:this.$AdsAudienceOverlapCompareList7})),c('React').createElement(c('BUIAdoptionButton.react'),{disabled:this.props.comparedAudienceIDs.length>3||!this.state.typeaheadSelectedAudienceID,label:w,style:{marginLeft:'12px',marginRight:'12px'},use:'confirm',onClick:this.$AdsAudienceOverlapCompareList8}))));}.bind(this);this.$AdsAudienceOverlapCompareList7=function(aa){var ba=c('Arbiter').subscribe(p,aa);return ba;};this.$AdsAudienceOverlapCompareList4=function(aa){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_OVERLAP_SHOW_ADD_AUDIENCE},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.setState({isCollapsed:aa});}.bind(this);this.$AdsAudienceOverlapCompareList5=function(aa){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_OVERLAP_CHANGE_TYPEAHEAD},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.setState({typeaheadSelectedAudienceID:aa.id});}.bind(this);this.$AdsAudienceOverlapCompareList6=function(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_OVERLAP_CLEAR_TYPEAHEAD},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.setState({typeaheadSelectedAudienceID:null});}.bind(this);this.$AdsAudienceOverlapCompareList8=function(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_OVERLAP_COMPARE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.props.onAddAnotherAudience(this.state.typeaheadSelectedAudienceID);c('Arbiter').inform(p);}.bind(this);};f.exports=x;}),null);
__d('AdsAudienceOverlapSelectedRow.react',['cx','fbt','AdsInterfacesLogger','AudienceManagerLoggingEvents','AdsAudienceOverlapPrivacyInfo.react','BUIAdoptionXUIGrayText.react','BUIAdoptionXUISpinner.react','Layout.react','React','XUISingleSelector.react','ads-lib-formatters'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Layout.react').Column,m=c('Layout.react').FillColumn,n=c('XUISingleSelector.react').Option,o=c('ads-lib-formatters').createIntlNumberFormatter(0),p=c('React').PropTypes,q=i._("Selected audience"),r=i._("Choose an Audience");j=babelHelpers.inherits(s,c('React').Component);k=j&&j.prototype;function s(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=k.constructor).call.apply(t,[this].concat(w)),this.$AdsAudienceOverlapSelectedRow1=function(y){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_OVERLAP_UPDATE_SELECTED_AUDIENCE},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.props.onSelectedAudienceChange(y.value);}.bind(this),this.$AdsAudienceOverlapSelectedRow2=function(y,z){var aa=null;aa=c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'light'},i._("{audience size} people",[i.param('audience size',c('React').createElement('span',{className:"_3va4"},o(z)))]));return (c('React').createElement(c('Layout.react'),null,c('React').createElement(l,{className:"_3va6"},c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{display:'block',shade:'medium',size:'medium',weight:'bold'},y),aa)),c('React').createElement(m,null,this.$AdsAudienceOverlapSelectedRow3(z))));}.bind(this),this.$AdsAudienceOverlapSelectedRow3=function(y){return (y>1000?c('React').createElement('div',{className:"_3va8"}):c('React').createElement('div',{className:"_mt2"},c('React').createElement(c('AdsAudienceOverlapPrivacyInfo.react'),null)));},u;}s.prototype.render=function(){if(this.props.isLoadingOverlap)return c('React').createElement('div',null,c('React').createElement('div',{className:"_3v9_"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'large',weight:'bold'},q)),c('React').createElement('div',{className:"_3va0"},c('React').createElement('div',{className:"_fx4"},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'small'}))));var t=this.props.audienceOverlap.length-1,u=this.props.audienceOverlap[t].name,v=this.props.audienceOverlap[t].estimated_reach,w=this.props.comparedAudienceIDs.map(function(x,y){return c('React').createElement(n,{key:x,value:x},this.props.audienceOverlap[y].name);}.bind(this));w.unshift(c('React').createElement(n,{key:this.props.selectedAudienceID,value:this.props.selectedAudienceID},u));return c('React').createElement('div',null,c('React').createElement('div',{className:"_3v9_"},c('React').createElement(c('Layout.react'),null,c('React').createElement(m,null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'large',weight:'bold'},q)),c('React').createElement(l,null,c('React').createElement(c('XUISingleSelector.react'),{value:this.props.id,onChange:this.$AdsAudienceOverlapSelectedRow1},w)))),c('React').createElement('div',{className:"_3va0"},this.$AdsAudienceOverlapSelectedRow2(u,v)));};s.propTypes={audienceOverlap:p.arrayOf(p.object).isRequired,comparedAudienceIDs:p.arrayOf(p.string).isRequired,selectedAudienceID:p.string.isRequired,isLoadingOverlap:p.bool.isRequired,onSelectedAudienceChange:p.func.isRequired};f.exports=s;}),null);
__d('AudienceManagerAudienceOverlapDialogBody.react',['cx','fbt','AdsAudienceOverlapSelectedRow.react','AdsAudienceOverlapCompareList.react','BUIAdoptionXUIGrayText.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.$AudienceManagerAudienceOverlapDialogBody1=function(){return (c('React').createElement('div',{className:"_5wkj"},c('React').createElement(c('AdsAudienceOverlapSelectedRow.react'),{audienceOverlap:this.props.audienceOverlap,comparedAudienceIDs:this.props.comparedAudienceIDs,selectedAudienceID:this.props.selectedAudienceID,isLoadingOverlap:this.props.isLoadingOverlap,onSelectedAudienceChange:this.props.onSelectedAudienceChange})));}.bind(this),this.$AudienceManagerAudienceOverlapDialogBody2=function(){return (c('React').createElement('div',{className:"_21mk"},c('React').createElement(c('AdsAudienceOverlapCompareList.react'),{accountID:this.props.accountID,audienceOverlap:this.props.audienceOverlap,comparedAudienceIDs:this.props.comparedAudienceIDs,selectedAudienceID:this.props.selectedAudienceID,isLoadingOverlap:this.props.isLoadingOverlap,onAddAnotherAudience:this.props.onAddAnotherAudience,onDeleteAudience:this.props.onDelete})));}.bind(this),o;}m.prototype.render=function(){return c('React').createElement('div',{className:"_5wki"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-95",display:'block',shade:'light'},i._("Choose an audience and compare the number of people and the overlap with up to four other audiences.")),this.$AudienceManagerAudienceOverlapDialogBody1(),this.$AudienceManagerAudienceOverlapDialogBody2());};m.propTypes={accountID:l.string.isRequired,comparedAudienceIDs:l.arrayOf(l.string).isRequired,selectedAudienceID:l.string.isRequired,audienceOverlap:l.arrayOf(l.object).isRequired,isLoadingOverlap:l.bool.isRequired,onAddAnotherAudience:l.func.isRequired,onDelete:l.func.isRequired,onSelectedAudienceChange:l.func.isRequired};f.exports=m;}),null);
__d('AudienceManagerAudienceOverlapDialogContainer.react',['fbt','AdsInterfacesLogger','AdsAudienceOverlapStore','AudienceManagerAudienceOverlapDialogBody.react','AudienceManagerLoggingEvents','AdsAudienceOverlapActions','FluxMixinLegacy','ReactComponentWithPureRenderMixin','React','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogOkayButton.react','XUIDialog.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=938,k=500,l=4,m=c('React').createClass({displayName:'AudienceManagerAudienceOverlapDialogContainer',mixins:[c('FluxMixinLegacy')([c('AdsAudienceOverlapStore')]),c('ReactComponentWithPureRenderMixin')],propTypes:{accountID:i.string.isRequired,initialAudienceIDsToCompare:i.array.isRequired,onCancel:i.func.isRequired},getInitialState:function n(){var o=this.props.initialAudienceIDsToCompare.length,p=this.props.initialAudienceIDsToCompare[0],q=[];if(o>1)q=this.props.initialAudienceIDsToCompare.slice(1,o);c('AdsAudienceOverlapActions').loadAudienceOverlap();c('AdsAudienceOverlapActions').getAudienceOverlap(this.props.accountID,p,q);return {comparedAudienceIDs:q,selectedAudienceID:p};},statics:{calculateState:function n(){return {audienceOverlap:c('AdsAudienceOverlapStore').getAudienceOverlap(),isLoadingOverlap:c('AdsAudienceOverlapStore').getIsLoadingOverlap()};}},render:function n(){if(this.state.comparedAudienceIDs.length>l)return (c('React').createElement(c('XUIDialog.react'),{shown:true,width:600,onToggle:this._onToggle},c('React').createElement(c('XUIDialogTitle.react'),null,h._("Too many audiences selected")),c('React').createElement(c('XUIDialogBody.react'),null,h._("You can select up to 5 audiences for comparison")),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogOkayButton.react'),{action:'cancel',use:'default'}))));return (c('React').createElement(c('XUIDialog.react'),{shown:true,width:j,onToggle:this._onToggle},c('React').createElement(c('XUIDialogTitle.react'),null,h._("Audience Overlap")),c('React').createElement(c('AudienceManagerAudienceOverlapDialogBody.react'),{accountID:this.props.accountID,audienceOverlap:this.state.audienceOverlap,comparedAudienceIDs:this.state.comparedAudienceIDs,selectedAudienceID:this.state.selectedAudienceID,isLoadingOverlap:this.state.isLoadingOverlap,onAddAnotherAudience:this._onAddAnotherComparedAudience,onDelete:this._removeAudience,onSelectedAudienceChange:this._onSelectedAudienceChange})));},_removeAudience:function n(o){var p=this.state.comparedAudienceIDs.filter(function(q){return q!==o;});c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_OVERLAP_REMOVE_AUDIENCE},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.setState({comparedAudienceIDs:p});c('AdsAudienceOverlapActions').loadAudienceOverlap();c('AdsAudienceOverlapActions').getAudienceOverlap(this.props.accountID,this.state.selectedAudienceID,p);},_onAddAnotherComparedAudience:function n(o){if(this.state.comparedAudienceIDs.indexOf(o)<0){var p=this.state.comparedAudienceIDs.concat(o);this.setState({comparedAudienceIDs:p});c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_OVERLAP_ADD_AUDIENCE},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAudienceOverlapActions').loadAudienceOverlap();c('AdsAudienceOverlapActions').getAudienceOverlap(this.props.accountID,this.state.selectedAudienceID,p);}},_onSelectedAudienceChange:function n(o){var p=this.state.comparedAudienceIDs.filter(function(q){return q!==o;});p.push(this.state.selectedAudienceID);this.setState({selectedAudienceID:o,comparedAudienceIDs:p});c('AdsAudienceOverlapActions').loadAudienceOverlap();c('AdsAudienceOverlapActions').getAudienceOverlap(this.props.accountID,o,p);},_onToggle:function n(o){if(!o)this.props.onCancel();}});f.exports=m;}),null);
__d('AudienceManagerColumnSelector.react',['cx','fbt','AudienceManagerPopoverButton.react','AudienceManagerUIConstants','BUIAdoptionXUIGrayText.react','CurrentUser','InputLabel.react','React','XUICheckboxInput.react'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes,m=c('AudienceManagerUIConstants').COLUMNS;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;'use strict';for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$AudienceManagerColumnSelector2=function(t,u,v,w){return (c('React').createElement('div',{className:"_r-s",key:t},c('React').createElement(c('InputLabel.react'),null,c('React').createElement(c('XUICheckboxInput.react'),{defaultChecked:v,name:'columns',value:t,onChange:this.props.onSelectorChange}),c('React').createElement('label',{className:"_r-t"},u)),c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_r-u",display:'block',shade:'light'},w)));}.bind(this),this.$AudienceManagerColumnSelector1=function(){var t=this.props.columnsShown,u=[{value:'type',label:m.TYPE.label,shown:t.type,description:m.TYPE.description},{value:'size',label:m.SIZE.label,shown:t.size,description:m.SIZE.description},{value:'status',label:m.STATUS.label,shown:t.status,description:m.STATUS.description},{value:'dateCreated',label:m.DATE_CREATED.label,shown:t.dateCreated,description:m.DATE_CREATED.description},{value:'audienceID',label:m.AUDIENCE_ID.label,shown:t.audienceID,description:m.AUDIENCE_ID.description},{value:'sharing',label:m.SHARING.label,shown:t.sharing,description:m.SHARING.description}];if(c('CurrentUser').isEmployee())u.push({value:'debug',label:m.DEBUG.label,shown:t.debug,description:m.DEBUG.description});return u;}.bind(this),p;}n.prototype.render=function(){'use strict';var o=i._("Customise Columns"),p=this.$AudienceManagerColumnSelector1().map(function(q){return this.$AudienceManagerColumnSelector2(q.value,q.label,q.shown,q.description);}.bind(this));return c('React').createElement(c('AudienceManagerPopoverButton.react'),{label:o},c('React').createElement('div',{className:"_r-r"},p));};n.propTypes={columnsShown:l.object.isRequired,onSelectorChange:l.func.isRequired};f.exports=n;}),null);
__d('AudienceManagerCustomAudienceLoggerStore',['AdsInterfacesLoggerConfigColumns','AdsAudienceScenarioLoggerStore','AdsAMActionTypes','AdsDispatcher','AdsInterfacesLogger','AudienceManagerLoggingEvents','FluxStore','EngagementAudienceUIEvents','adsBaseStoreMixin'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('FluxStore'));i=h&&h.prototype;function j(){i.constructor.call(this,c('AdsDispatcher'));c('adsBaseStoreMixin')(this);}j.prototype.__onDispatch=function(k){var l,m=k.action,n=m.data,o=n===undefined?{}:n,p=m.type,q=m.extraData,r=q===undefined?{}:q;switch(p){case c('EngagementAudienceUIEvents').CANVAS_CHANGED:var s=o.value&&o.value.getUniqueID();c('AdsInterfacesLogger').log({eventName:p,data:{canvasID:s}},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case c('AudienceManagerLoggingEvents').AM_CA_VALUE_BASED_TOS_ACCEPT:case c('AdsAMActionTypes').CREATE_AUDIENCE_RESET:case c('AdsAMActionTypes').ENGAGEMENT_AUDIENCE_CREATED:case c('EngagementAudienceUIEvents').CANVAS_CREATE_AUDIENCE_ERROR:case c('EngagementAudienceUIEvents').CANVAS_CREATING_AUDIENCE:case c('EngagementAudienceUIEvents').CANVAS_ENGAGEMENT_CHANGED:case c('EngagementAudienceUIEvents').CANVAS_INIT:case c('EngagementAudienceUIEvents').CANVAS_RETENTION_DAYS_CHANGED:c('AdsInterfacesLogger').log({eventName:p,data:o},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case c('AudienceManagerLoggingEvents').RULE_BUILDER_EVENT_SELECTOR_OPEN:case c('AudienceManagerLoggingEvents').RULE_BUILDER_EVENT_SELECTOR_SELECT:case c('AudienceManagerLoggingEvents').RULE_BUILDER_PARAMETER_FIELD_SELECTOR_SELECT:case c('AudienceManagerLoggingEvents').RULE_BUILDER_PARAMETER_OPERATOR_SELECTOR_SELECT:case c('AudienceManagerLoggingEvents').RULE_BUILDER_PARAMETER_VALUE_TOKENIZER_CHANGE:case c('AudienceManagerLoggingEvents').RULE_BUILDER_PARAMETER_SECTION_ADD:case c('AudienceManagerLoggingEvents').RULE_BUILDER_PARAMETER_SECTION_REMOVE:case c('AudienceManagerLoggingEvents').RULE_BUILDER_AGGREGATION_FIELD_SELECTOR_SELECT:case c('AudienceManagerLoggingEvents').RULE_BUILDER_AGGREGATION_OPERATOR_SELECTOR_SELECT:case c('AudienceManagerLoggingEvents').RULE_BUILDER_AGGREGATION_VALUE_TOKENIZER_CHANGE:case c('AudienceManagerLoggingEvents').RULE_BUILDER_AGGREGATION_SECTION_REMOVE:case c('AudienceManagerLoggingEvents').RULE_BUILDER_INCLUSION_SECTION_ADD:case c('AudienceManagerLoggingEvents').RULE_BUILDER_EXCLUSION_SECTION_ADD:case c('AudienceManagerLoggingEvents').RULE_BUILDER_SECTION_REMOVE:case c('AudienceManagerLoggingEvents').RULE_BUILDER_AUDIENCE_CREATED:case c('AudienceManagerLoggingEvents').RULE_BUILDER_AUDIENCE_CREATION_FAILED:case c('AudienceManagerLoggingEvents').RULE_BUILDER_CREATE_AUDIENCE_BUTTON_CLICK:case c('AudienceManagerLoggingEvents').RULE_BUILDER_CONDITION_SELECTOR_SELECT:case c('AudienceManagerLoggingEvents').RULE_BUILDER_DEVICE_SELECTOR_SELECT:case c('AudienceManagerLoggingEvents').RULE_BUILDER_DEVICE_SECTION_REMOVE:case c('AudienceManagerLoggingEvents').RULE_BUILDER_DOMAIN_TOKENIZER_OPEN:case c('AudienceManagerLoggingEvents').RULE_BUILDER_DOMAIN_TOKENIZER_CHANGE:case c('AudienceManagerLoggingEvents').RULE_BUILDER_DOMAIN_TOKENIZER_CLOSE:case c('AudienceManagerLoggingEvents').RULE_BUILDER_SOURCE_ID_SELECTOR_SELECT:c('AdsInterfacesLogger').log({eventName:p,data:(l={},l[c('AdsInterfacesLoggerConfigColumns').ACTIVE_SCENARIO_IDS]=c('AdsAudienceScenarioLoggerStore').getActiveScenarioIDs(),l[c('AdsInterfacesLoggerConfigColumns').ACTIVE_SCENARIOS]=c('AdsAudienceScenarioLoggerStore').getActiveScenarios(),l[c('AdsInterfacesLoggerConfigColumns').TARGETING_UI_EVENT_DATA]=JSON.stringify(r),l)},c('AdsInterfacesLogger').LOG_TYPE_SECONDARY_APP);break;}};f.exports=new j(c('AdsDispatcher'));}),null);
__d('AudienceManagerDeleteDialog.react',['cx','fbt','AdsAMViewActions','AdsGraphAPI','AudienceManagerUIConstants','BUIAdoptionXUINotice.react','BUIAdoptionXUISpinner.react','GraphEdgeName','React','XUISortableDataTable.react','XUIDialog.react','XUIDialogBody.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogButton.react','XUIDialogTitle.react','getByPath'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={adGroups:null,numSharedAccounts:0},this.$AudienceManagerDeleteDialog1=function(s){c('AdsGraphAPI').get(f.id).object('customaudience',s).edge(c('GraphEdgeName').ADS).batched().get({fields:['id','name','account_id'],adgroup_status:['ACTIVE']}).done(function(t){var u=t.data.filter(function(v){return (this.$AudienceManagerDeleteDialog2()?true:v.account_id===this.props.accountID);}.bind(this));this.setState({adGroups:u});}.bind(this));}.bind(this),this.$AudienceManagerDeleteDialog2=function(){return (!this.props.audience.account_id||!this.props.accountID||this.props.audience.account_id===this.props.accountID);}.bind(this),this.$AudienceManagerDeleteDialog8=function(){return !this.state.adGroups||!this.state.adGroups.length?this.$AudienceManagerDeleteDialog9():this.$AudienceManagerDeleteDialog10();}.bind(this),this.$AudienceManagerDeleteDialog9=function(){if(this.state.numSharedAccounts!==0)return null;return (c('React').createElement('div',{className:"_354m"},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'information'},this.$AudienceManagerDeleteDialog11())));}.bind(this),this.$AudienceManagerDeleteDialog10=function(){return (c('React').createElement('div',{className:"_354n"},c('React').createElement('div',{className:"_354o"},i._("Your adverts that are using this audience")),this.$AudienceManagerDeleteDialog12(),c('React').createElement('div',{className:"_354m"},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'information'},this.$AudienceManagerDeleteDialog13()))));}.bind(this),this.$AudienceManagerDeleteDialog14=function(){if(this.state.numSharedAccounts===0)return null;var s=this.props.audience.name;return (c('React').createElement('div',null,c('React').createElement('div',{className:"_354o"},i._("This audience is shared with other advert accounts")),c('React').createElement('div',{className:"_354m"},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'information'},i._("\"{name}\" is a shared audience. Deleting it will permanently remove it from all advert accounts that have access to it. Any adverts using this audience will stop running. Recipients won't be able to restart any adverts that have used this audience in the past.",[i.param('name',s)])))));}.bind(this),this.$AudienceManagerDeleteDialog6=function(){var s=this.state;return s.adGroups!==null;}.bind(this),this.$AudienceManagerDeleteDialog15=function(){return (c('React').createElement('div',{className:"_5saq"},c('React').createElement('p',null,i._("Please wait while we find the adverts which use this audience...")),c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'})));},this.$AudienceManagerDeleteDialog4=function(){if(!this.$AudienceManagerDeleteDialog6())return this.$AudienceManagerDeleteDialog15();return (c('React').createElement('div',null,this.$AudienceManagerDeleteDialog16(),this.$AudienceManagerDeleteDialog8(),this.$AudienceManagerDeleteDialog14()));}.bind(this),this.$AudienceManagerDeleteDialog12=function(){if(!this.state.adGroups||!this.state.adGroups.length)return null;var s=this.state.adGroups,t=[{id:'name'}];return (c('React').createElement('div',{className:"_256f"},c('React').createElement(c('XUISortableDataTable.react'),{columnToSortBy:'name',columns:t,outerBorder:true,rows:s,showHeader:false})));}.bind(this),this.$AudienceManagerDeleteDialog16=function(){return this.$AudienceManagerDeleteDialog2()?this.state.numSharedAccounts>0?c('React').createElement('div',{className:"_354p"},i._("Permanently delete this shared audience from all accounts?")):c('React').createElement('div',{className:"_354p"},i._("Permanently delete this audience?")):c('React').createElement('div',{className:"_354p"},i._("Remove this audience from your account?"));}.bind(this),this.$AudienceManagerDeleteDialog11=function(){return this.$AudienceManagerDeleteDialog2()?this.$AudienceManagerDeleteDialog17():this.$AudienceManagerDeleteDialog18();}.bind(this),this.$AudienceManagerDeleteDialog17=function(){var s=this.props.audience.name;return (c('React').createElement('div',null,i._("Deleting \"{name}\" will permanently remove it from your account. You won't be able to restart any adverts that have used this audience in the past.",[i.param('name',s)])));}.bind(this),this.$AudienceManagerDeleteDialog18=function(){var s=this.props.audience.name;return (c('React').createElement('div',null,i._("\"{name}\" is an audience that was shared with you. The audience will be removed from this advert account and you won't be able to restart any adverts that used this audience in the past. The original audience will continue to exist in the advert account that shared it with you.",[i.param('name',s)])));}.bind(this),this.$AudienceManagerDeleteDialog13=function(){return this.$AudienceManagerDeleteDialog2()?this.$AudienceManagerDeleteDialog19():this.$AudienceManagerDeleteDialog20();}.bind(this),this.$AudienceManagerDeleteDialog19=function(){var s=this.props.audience.name;return (c('React').createElement('div',null,i._("Deleting \"{name}\" will permanently remove it and your adverts that are using it will stop running. You won't be able to restart any adverts that used this audience in the past.",[i.param('name',s)])));}.bind(this),this.$AudienceManagerDeleteDialog20=function(){var s=this.props.audience.name;return (c('React').createElement('div',null,i._("\"{name}\" is an audience that was shared with you. The audience will be removed from this advert account and any adverts using it will stop running. You won't be able to restart any adverts that used this audience in the past. The original audience will continue to exist in the advert account that shared it with you.",[i.param('name',s)])));}.bind(this),this.$AudienceManagerDeleteDialog5=function(){c('AdsAMViewActions').closeDeleteAudienceDialog();},this.$AudienceManagerDeleteDialog7=function(){if(!this.$AudienceManagerDeleteDialog2()){this.props.onAudienceUnshared(this.props.audience);}else this.props.onAudienceDeleted(this.props.audience);c('AdsAMViewActions').closeDeleteAudienceDialog();}.bind(this),this.$AudienceManagerDeleteDialog3=function(){c('AdsAMViewActions').closeDeleteAudienceDialog();},o;}m.prototype.componentWillMount=function(){this.$AudienceManagerDeleteDialog1(this.props.audience.id);if(this.$AudienceManagerDeleteDialog2()){var n=c('getByPath')(this.props.audience,['capabilities','data','0','capabilities'])||{},o=Object.keys(n).length;this.setState({numSharedAccounts:o});}};m.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{shown:true,width:c('AudienceManagerUIConstants').DEFAULT_DIALOG_WIDTH,onToggle:this.$AudienceManagerDeleteDialog3},c('React').createElement(c('XUIDialogTitle.react'),null,c('React').createElement('span',null,i._("Delete \"{audience name}\"?",[i.param('audience name',this.props.audience.name)]))),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_354l"},this.$AudienceManagerDeleteDialog4())),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogCancelButton.react'),{action:'close',use:'default',onClick:this.$AudienceManagerDeleteDialog5}),c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',enabled:this.$AudienceManagerDeleteDialog6(),label:i._("Delete Audience"),use:'confirm',onClick:this.$AudienceManagerDeleteDialog7})));};m.propTypes={accountID:l.string.isRequired,audience:l.object.isRequired,dao:l.object.isRequired,onAudienceDeleted:l.func.isRequired,onAudienceUnshared:l.func.isRequired};f.exports=m;}),null);
__d('AudienceManagerCustomAudienceTypeToUser',['fbt'],(function a(b,c,d,e,f,g,h){'use strict';var i={CUSTOM:h._("Custom Audience with Customer List"),WEBSITE:h._("Website Custom Audience"),LOOKALIKE:h._("Lookalike Audience"),MANAGED:h._("Managed Custom Audiences"),PARTNER:h._("Partner Categories"),APP:h._("Mobile App Custom Audience"),COMBINATION:h._("Combination Audience"),VIDEO:h._("Video Custom Audience")};f.exports=i;}),null);
__d('AudienceManagerDownloadAudiencesLink.react',['fbt','invariant','AdsAMAudienceActions','AdsAPIAdAccountFields','AdsAPICustomAudienceFields','AdsAPISavedAudienceFields','AudienceManagerCustomAudienceTypeToUser','AdsGraphAPI','BUIAdoptionButton.react','GraphAPIPaging','DOM','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=(b.Blob||b.BlobBuilder||b.WebKitBlobBuilder)&&(b.URL||b.webkitURL);function n(q){var r=[],s=['id','name','subtype','approximate_count'],t=[h._("Audience ID"),h._("Audience Name"),h._("Audience Type"),h._("Audience Size")];r.push(t.join(','));q.forEach(function(y){var z=[];s.forEach(function(aa){z.push('"'+y[aa]+'"');});r.push(z.join(','));});var u=r.join('\n'),v=b.Blob;if(v)return new v([u],{type:'text/csv;charset=utf-8/utf-16'});var w=b.BlobBuilder||b.WebKitBlobBuilder;if(w){var x=new w();x.append(u);return x.getBlob('text/csv;charset=utf-8/utf-16');}return null;}function o(q){var r=n(q);if(!r)return;var s=b.URL||b.webkitURL;s.createObjectURL||i(0);var t=s.createObjectURL(r),u=c('DOM').create('a',{href:t,download:'export.csv'});c('DOM').appendContent(document.body,u);u.click();c('DOM').remove(u);}j=babelHelpers.inherits(p,c('React').PureComponent);k=j&&j.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.$AudienceManagerDownloadAudiencesLink1=function(){c('AdsGraphAPI').get(f.id).adaccount(this.props.accountID).edge(c('AdsAPIAdAccountFields').CUSTOM_AUDIENCES).get({fields:[c('AdsAPICustomAudienceFields').ID,c('AdsAPICustomAudienceFields').NAME,c('AdsAPICustomAudienceFields').APPROXIMATE_COUNT,c('AdsAPICustomAudienceFields').SUBTYPE]}).then(c('GraphAPIPaging').eachPage(function(v){return (c('AdsAMAudienceActions').exportCustomAudiences(v.data));})).done(function(v){v.data.map(function(w){w.subtype=Object.prototype.hasOwnProperty.call(c('AudienceManagerCustomAudienceTypeToUser'),w.subtype)?c('AudienceManagerCustomAudienceTypeToUser')[w.subtype]:w.subtype;});this.$AudienceManagerDownloadAudiencesLink2(v.data);}.bind(this));}.bind(this),this.$AudienceManagerDownloadAudiencesLink2=function(v){c('AdsGraphAPI').get(f.id).adaccount(this.props.accountID).edge(c('AdsAPIAdAccountFields').SAVED_AUDIENCES).get({fields:[c('AdsAPISavedAudienceFields').ID,c('AdsAPISavedAudienceFields').NAME,c('AdsAPISavedAudienceFields').APPROXIMATE_COUNT]}).then(c('GraphAPIPaging').eachPage(function(w){return (c('AdsAMAudienceActions').exportSavedAudiences(w.data));})).done(function(w){w.data.map(function(y){y.id='a:'+y.id;y.subtype='Saved Audience';return y;});var x=v.concat(w.data);o(x);});}.bind(this),r;}p.prototype.render=function(){var q=h._("Export");if(m)return c('React').createElement(c('BUIAdoptionButton.react'),{label:q,onClick:this.$AudienceManagerDownloadAudiencesLink1});return null;};p.propTypes={accountID:l.string.isRequired};f.exports=p;}),null);
__d('AudienceManagerEditAudienceCompleteDialogContent.react',['cx','fbt','AudienceManagerCompleteUploadNotice.react','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m);}l.prototype.render=function(){return (c('React').createElement('div',null,c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_5rkr"},this.props.statusMessage,c('React').createElement('hr',null),c('React').createElement(c('AudienceManagerCompleteUploadNotice.react'),null))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:i._("Done"),onClick:this.props.onCompleteClick}))));};f.exports=l;}),null);
__d('AudienceManagerEditAudienceInitDialogContent.react',['cx','fbt','AbstractTextArea.react','AudienceManagerAppIDInputContainer.react','AudienceManagerDataTypeSelector.react','AudienceManagerErrorContextualDialog.react','AudienceManagerFBCustomAudienceTerm.react','AudienceManagerViewFormatingExampleLink.react','AudienceNameAndDescriptionInput.react','BUIAdoptionXUIGrayText.react','CustomAudienceUploadErrorBox.react','FBDragDropBox.react','RadioList.react','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','isEmail','isInternationalPhoneNumber','ads-cluster-constants'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('RadioList.react').LabeledItem,m={ADD:'add',REMOVE:'remove'},n={COPY_PASTE:'copy_paste',FILE_IMPORT:'file'},o=/^\d+$/,p=c('React').PropTypes,q=20,r=17,s=['csv','txt'],t=/\r\n|\n|\r|;|,/;j=babelHelpers.inherits(u,c('React').Component);k=j&&j.prototype;function u(){var v,w;for(var x=arguments.length,y=Array(x),z=0;z<x;z++)y[z]=arguments[z];return w=(v=k.constructor).call.apply(v,[this].concat(y)),this.state={audienceName:this.props.audienceName,description:this.props.description,fileError:null,selectedFile:null,pasteBin:'',selectedDataType:c('ads-cluster-constants').UPLOAD_TYPE_EMAIL,addRemoveMode:m.ADD,uploadMethod:n.FILE_IMPORT,termsBoxChecked:true,appIDEntries:[]},this.renderLayers=function(){if(this.state.uploadMethod===n.FILE_IMPORT)return (c('React').createElement(c('AudienceManagerErrorContextualDialog.react'),{contextRef:function(){return this.refs.dragdropbox;}.bind(this),offsetY:r,shown:this.$AudienceManagerEditAudienceInitDialogContent1(),key:'contextualDialog'},this.state.fileError));return null;}.bind(this),this.$AudienceManagerEditAudienceInitDialogContent6=function(){return (c('React').createElement('div',{className:"_3-8z _3-97"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-95",display:'block',shade:'medium',weight:'bold'},i._("Update Audience")),c('React').createElement('div',null,c('React').createElement(c('RadioList.react'),{selectedValue:this.state.addRemoveMode,onValueChange:this.$AudienceManagerEditAudienceInitDialogContent11},c('React').createElement(l,{className:"_iv3 _3-8w _3-94",value:m.ADD},i._("Add People")),c('React').createElement(l,{className:"_iv3 _3-8w _3-94",value:m.REMOVE},i._("Remove People"))))));}.bind(this),this.$AudienceManagerEditAudienceInitDialogContent7=function(){var aa=null;if(this.state.uploadMethod===n.COPY_PASTE){aa=this.$AudienceManagerEditAudienceInitDialogContent12();}else if(this.state.uploadMethod===n.FILE_IMPORT)aa=this.$AudienceManagerEditAudienceInitDialogContent13();return (c('React').createElement('div',{className:"_3-8z _3-97"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-95",display:'block',shade:'medium',weight:'bold'},i._("How do you want to add customers?")),c('React').createElement('div',null,c('React').createElement(c('RadioList.react'),{selectedValue:this.state.uploadMethod,onValueChange:this.$AudienceManagerEditAudienceInitDialogContent14},c('React').createElement(l,{className:"_iv3 _3-8w _3-94",value:n.FILE_IMPORT},i._("Upload a File")),c('React').createElement(l,{className:"_iv3 _3-8w _3-94",value:n.COPY_PASTE},i._("Copy and Paste")))),aa));}.bind(this),this.$AudienceManagerEditAudienceInitDialogContent12=function(){var aa=null;if(!!this.state.error)aa=c('React').createElement(c('CustomAudienceUploadErrorBox.react'),{message:this.state.error});return (c('React').createElement('div',null,c('React').createElement('div',{className:"_3-8- _3-98"},c('React').createElement(c('AbstractTextArea.react'),{className:"_5ukc",placeholder:i._("Paste your customer list here."),value:this.state.pasteBin,onChange:this.$AudienceManagerEditAudienceInitDialogContent15}),aa),c('React').createElement('div',null,i._("You can copy columns from a spreadsheet with one record per row or a list of records separated by a comma."),' ',c('React').createElement(c('AudienceManagerViewFormatingExampleLink.react'),null))));}.bind(this),this.$AudienceManagerEditAudienceInitDialogContent13=function(){return (c('React').createElement('div',null,c('React').createElement('div',{className:"_3-8- _3-98"},c('React').createElement(c('FBDragDropBox.react'),{hasError:this.$AudienceManagerEditAudienceInitDialogContent1(),ref:'dragdropbox',selectedFile:this.state.selectedFile,onFileChange:this.$AudienceManagerEditAudienceInitDialogContent16,onFileRemove:this.$AudienceManagerEditAudienceInitDialogContent17,onFilesSelection:this.$AudienceManagerEditAudienceInitDialogContent18})),c('React').createElement('div',null,i._("You can upload files in .csv or .txt format."),' ',c('React').createElement(c('AudienceManagerViewFormatingExampleLink.react'),null))));}.bind(this),this.$AudienceManagerEditAudienceInitDialogContent5=function(){if(this.state.selectedDataType===c('ads-cluster-constants').UPLOAD_TYPE_UID)return (c('React').createElement(c('AudienceManagerAppIDInputContainer.react'),{accountID:this.props.accountID,onAppEntriesUpdated:this.$AudienceManagerEditAudienceInitDialogContent19}));return null;}.bind(this),this.$AudienceManagerEditAudienceInitDialogContent1=function(){return !!this.state.fileError;}.bind(this),this.$AudienceManagerEditAudienceInitDialogContent9=function(){if((this.state.audienceName!==this.props.audienceName||this.state.description!==this.props.description)&&this.state.termsBoxChecked&&!this.state.fileError&&!this.state.error)return true;if(this.state.selectedDataType===c('ads-cluster-constants').UPLOAD_TYPE_UID){var aa=this.state.appIDEntries.some(function(ba){return ba.getAuxiliaryData().invalid;});if(this.state.appIDEntries.length<=0||!!aa)return false;}if(this.state.uploadMethod===n.FILE_IMPORT){return !!this.state.audienceName&&!!this.state.selectedFile&&!!this.state.termsBoxChecked&&!this.state.fileError;}else if(this.state.uploadMethod===n.COPY_PASTE)return !!this.state.audienceName&&!!this.state.pasteBin&&!!this.state.termsBoxChecked;}.bind(this),this.$AudienceManagerEditAudienceInitDialogContent2=function(aa){this.setState({audienceName:aa});}.bind(this),this.$AudienceManagerEditAudienceInitDialogContent3=function(aa){this.setState({description:aa});}.bind(this),this.$AudienceManagerEditAudienceInitDialogContent11=function(aa){this.setState({addRemoveMode:aa});}.bind(this),this.$AudienceManagerEditAudienceInitDialogContent14=function(aa){this.setState({uploadMethod:aa,selectedFile:null,pasteBin:'',error:null,fileError:null});}.bind(this),this.$AudienceManagerEditAudienceInitDialogContent8=function(aa){this.setState({termsBoxChecked:aa.target.checked});}.bind(this),this.$AudienceManagerEditAudienceInitDialogContent4=function(aa){this.setState({selectedDataType:aa.value});}.bind(this),this.$AudienceManagerEditAudienceInitDialogContent19=function(aa){this.setState({appIDEntries:aa});}.bind(this),this.$AudienceManagerEditAudienceInitDialogContent17=function(){this.setState({fileError:null,selectedFile:null});}.bind(this),this.$AudienceManagerEditAudienceInitDialogContent18=function(aa){this.$AudienceManagerEditAudienceInitDialogContent16(aa.target.files);}.bind(this),this.$AudienceManagerEditAudienceInitDialogContent16=function(aa){var ba=aa[0];if(ba){if(!ba.size){this.setState({selectedFile:ba,fileError:i._("File appears to be empty.")});return;}var ca='',da='';if(ba.name.indexOf('.')>=0){ca=ba.name.split('.').pop();da=ba.name.substr(0,ba.name.lastIndexOf('.'));}var ea=s.indexOf(ca.toLowerCase())!=-1;if(!ea){this.setState({selectedFile:ba,fileError:i._("File must be in .csv or .txt format.")});return;}this.setState({selectedFile:ba,fileError:null});}}.bind(this),this.$AudienceManagerEditAudienceInitDialogContent15=function(aa){this.setState({pasteBin:aa.target.value});}.bind(this),this.$AudienceManagerEditAudienceInitDialogContent10=function(){if(this.state.audienceName!==this.props.audienceName||this.state.description!==this.props.description)this.props.onEditMetaData(this.state.audienceName,this.state.description);if(this.state.uploadMethod===n.FILE_IMPORT&&!!this.state.selectedFile){if(this.state.addRemoveMode===m.ADD){this.props.onUploadFileAdd(this.state.selectedDataType,this.state.appIDEntries,this.state.selectedFile);}else this.props.onUploadFileRemove(this.state.selectedDataType,this.state.appIDEntries,this.state.selectedFile);}else if(this.state.uploadMethod===n.COPY_PASTE&&!!this.state.pasteBin){var aa=this.state.pasteBin.trim().split(t).map(function(ca){return ca.trim();});aa=aa.filter(function(ca){return !!ca;});if(aa.length>c('ads-cluster-constants').CLUSTER_API_MAX_SIZE){this.setState({error:i._("You can upload a maximum of {max number of entries} entries using copy and paste. Try uploading a file instead.",[i.param('max number of entries',c('ads-cluster-constants').CLUSTER_API_MAX_SIZE)])});return;}var ba=this.$AudienceManagerEditAudienceInitDialogContent20(aa);if(!ba){if(this.state.addRemoveMode===m.ADD){this.props.onCopyPasteAdd(this.state.selectedDataType,this.state.appIDEntries,aa);}else this.props.onCopyPasteRemove(this.state.selectedDataType,this.state.appIDEntries,aa);}else this.setState({error:i._("You need to add at least {mininum number of entries} valid entries to continue.",[i.param('mininum number of entries',q)])});}else this.props.onNoUpload();}.bind(this),this.$AudienceManagerEditAudienceInitDialogContent20=function(aa){var ba=aa;if(this.state.selectedDataType===c('ads-cluster-constants').UPLOAD_TYPE_EMAIL){ba=aa.filter(function(ca){ca=ca.toLowerCase();return c('isEmail')(ca);});}else if(this.state.selectedDataType===c('ads-cluster-constants').UPLOAD_TYPE_PHONE){ba=aa.filter(function(ca){return c('isInternationalPhoneNumber')(ca);});}else if(this.state.selectedDataType===c('ads-cluster-constants').UID)ba=aa.filter(function(ca){return o(ca);});if(ba.length<q)return true;return false;}.bind(this),w;}u.prototype.render=function(){return c('React').createElement('div',null,c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_50_z"},c('React').createElement(c('AudienceNameAndDescriptionInput.react'),{audienceName:this.props.audienceName,description:this.props.description,onAudienceNameChange:this.$AudienceManagerEditAudienceInitDialogContent2,onDescriptionChange:this.$AudienceManagerEditAudienceInitDialogContent3}),c('React').createElement('div',{className:"_3-97 _3-8z"},c('React').createElement(c('AudienceManagerDataTypeSelector.react'),{defaultValue:this.state.selectedDataType,onTypeChange:this.$AudienceManagerEditAudienceInitDialogContent4})),this.$AudienceManagerEditAudienceInitDialogContent5(),this.$AudienceManagerEditAudienceInitDialogContent6(),this.$AudienceManagerEditAudienceInitDialogContent7(),c('React').createElement('div',null,c('React').createElement(c('AudienceManagerFBCustomAudienceTerm.react'),{accountID:this.props.accountID,termsAlreadyAccepted:this.props.termsAlreadyAccepted,termsBoxChecked:this.state.termsBoxChecked,onTermsCheckboxChanged:this.$AudienceManagerEditAudienceInitDialogContent8})))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{disabled:!this.$AudienceManagerEditAudienceInitDialogContent9(),label:i._("Save"),use:'confirm',onClick:this.$AudienceManagerEditAudienceInitDialogContent10})),this.renderLayers());};u.propTypes={accountID:p.string.isRequired,audienceName:p.string.isRequired,description:p.string,termsAlreadyAccepted:p.bool,onEditMetaData:p.func.isRequired,onUploadFileAdd:p.func.isRequired,onUploadFileRemove:p.func.isRequired,onCopyPasteAdd:p.func.isRequired,onCopyPasteRemove:p.func.isRequired,onNoUpload:p.func.isRequired};f.exports=u;}),null);
__d('AudienceManagerEditAudienceNameDescriptionInitDialogContent.react',['cx','fbt','AudienceManagerFBCustomAudienceTerm.react','AudienceNameAndDescriptionInput.react','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={audienceName:this.props.audienceName,description:this.props.description,termsBoxChecked:true},this.$AudienceManagerEditAudienceNameDescriptionInitDialogContent4=function(){return (this.state.audienceName!==this.props.audienceName||this.state.description!==this.props.description)&&this.state.termsBoxChecked;}.bind(this),this.$AudienceManagerEditAudienceNameDescriptionInitDialogContent1=function(s){this.setState({audienceName:s});}.bind(this),this.$AudienceManagerEditAudienceNameDescriptionInitDialogContent2=function(s){this.setState({description:s});}.bind(this),this.$AudienceManagerEditAudienceNameDescriptionInitDialogContent3=function(s){this.setState({termsBoxChecked:s.target.checked});}.bind(this),this.$AudienceManagerEditAudienceNameDescriptionInitDialogContent5=function(){this.props.onEditMetaData(this.state.audienceName,this.state.description);}.bind(this),o;}m.prototype.render=function(){return c('React').createElement('div',null,c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_50_z"},c('React').createElement(c('AudienceNameAndDescriptionInput.react'),{audienceName:this.props.audienceName,description:this.props.description,isConversionPixelType:this.props.isConversionPixelType,onAudienceNameChange:this.$AudienceManagerEditAudienceNameDescriptionInitDialogContent1,onDescriptionChange:this.$AudienceManagerEditAudienceNameDescriptionInitDialogContent2}),c('React').createElement('div',{className:"_3-8z"},c('React').createElement(c('AudienceManagerFBCustomAudienceTerm.react'),{accountID:this.props.accountID,termsAlreadyAccepted:this.props.termsAlreadyAccepted,termsBoxChecked:this.state.termsBoxChecked,onTermsCheckboxChanged:this.$AudienceManagerEditAudienceNameDescriptionInitDialogContent3})))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{disabled:!this.$AudienceManagerEditAudienceNameDescriptionInitDialogContent4(),label:i._("Save"),use:'confirm',onClick:this.$AudienceManagerEditAudienceNameDescriptionInitDialogContent5})));};m.propTypes={accountID:l.string.isRequired,audienceName:l.string.isRequired,description:l.string,isConversionPixelType:l.bool,termsAlreadyAccepted:l.bool,onEditMetaData:l.func.isRequired};f.exports=m;}),null);
__d('AudienceManagerEditAudienceDialog.react',['invariant','cx','fbt','AdsAMCreateAudienceServerActions','AdsAMAudienceUtils','AdsAMCreateAudienceStore','AdsAMCreateAudienceViewActions','AdsCustomAudienceType','AdsEngagementAudienceUILogger','AdsInterfacesLogger','AdsLookalikeOriginType','AudienceManagerCompleteUploadMessage.react','AudienceManagerCreateCanvasAudienceContainer.react','AudienceManagerCreateLeadGenAudienceContainer.react','AudienceManagerCreatePageEngagementAudienceContainer.react','AudienceManagerEditAudienceCompleteDialogContent.react','AudienceManagerEditAudienceInitDialogContent.react','AudienceManagerEditAudienceNameDescriptionInitDialogContent.react','AudienceManagerEngagementAudienceDialogContentContainer.react','AudienceManagerErrorDialogContent.react','AudienceManagerLoggingEvents','AudienceManagerUIConstants','AudienceManagerUploadDialogContent.react','AudienceManagerUploadErrorDialogContent.react','AudienceManagerUploadFileErrorDialogContent.react','BUIAdoptionXUISpinner.react','BUIAdoptionXUIText.react','CreateCAStages','EngagementAudienceUIEvents','React','StoreBasedStateMixin_DEPRECATED','XUIDialog.react','XUIDialogTitle.react','emptyFunction','getByPath'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('React').PropTypes,l=c('AdsCustomAudienceType').SUBTYPES,m=c('React').createClass({displayName:'AudienceManagerEditAudienceDialog',mixins:[c('StoreBasedStateMixin_DEPRECATED')(c('AdsAMCreateAudienceStore'))],propTypes:{accountID:k.string.isRequired,audience:k.object.isRequired,tosAccepted:k.object.isRequired,tosRequirementsForAccount:k.object.isRequired,onAudienceChanged:k.func.isRequired,onClose:k.func.isRequired},calculateState:function n(){return {viewStage:c('AdsAMCreateAudienceStore').getViewStage(),progress:c('AdsAMCreateAudienceStore').getProgress(),numberOfRecords:c('AdsAMCreateAudienceStore').getNumberOfRecords(),errorTokenLists:c('AdsAMCreateAudienceStore').getErrorTokenLists(),errorDetailsForLimitReach:c('AdsAMCreateAudienceStore').getErrorDetailsForLimitReach(),errorMessage:c('AdsAMCreateAudienceStore').getErrorMessage()};},componentDidMount:function n(){this.refs.dialog.layer.updatePosition=c('emptyFunction');if(this.props.audience.subtype===l.ENGAGEMENT){c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').EDIT_ENGAGEMENT_AUDIENCE_INIT);}else c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').EDIT_AUDIENCE_INIT);},render:function n(){var o=this.state.viewStage===c('CreateCAStages').EDIT_ENGAGEMENT_AUDIENCE_INIT?c('AudienceManagerUIConstants').ENGAGEMENT_AUDIENCE_DIALOG_WIDTH:c('AudienceManagerUIConstants').DEFAULT_DIALOG_WIDTH;return (c('React').createElement(c('XUIDialog.react'),{fixedTopPosition:c('AudienceManagerUIConstants').DEFAULT_DIALOG_TOP_POS,layerHideOnBlur:false,ref:'dialog',shown:true,width:o,onToggle:this._onToggle},c('React').createElement(c('XUIDialogTitle.react'),null,c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'medium',weight:'bold'},j._("Edit a Custom Audience"))),this._renderDialogContentForStage()));},_renderDialogContentForStage:function n(){switch(this.state.viewStage){case c('CreateCAStages').EDIT_AUDIENCE_INIT:var o=this._isTermsAccepted(),p=this.props.audience.lookalike_spec,q=false;if(p){var r=c('getByPath')(p,['origin','0','type']);q=r===c('AdsLookalikeOriginType').CONVERSION_PIXEL;}if(c('AdsAMAudienceUtils').isAudienceCreatedFromFile(this.props.audience))return (c('React').createElement(c('AudienceManagerEditAudienceInitDialogContent.react'),{accountID:this.props.accountID,audienceName:this.props.audience.name,description:this.props.audience.description,termsAlreadyAccepted:o,onCopyPasteAdd:this._onCopyPasteAddUsers,onCopyPasteRemove:this._onCopyPasteRemoveUsers,onEditMetaData:this._onEditMetaData,onNoUpload:this._onClose,onUploadFileAdd:this._onUploadFileAddUsers,onUploadFileRemove:this._onUploadFileRemoveUsers}));return (c('React').createElement(c('AudienceManagerEditAudienceNameDescriptionInitDialogContent.react'),{accountID:this.props.accountID,audienceName:this.props.audience.name,description:this.props.audience.description,isConversionPixelType:q,termsAlreadyAccepted:o,onEditMetaData:this._onEditMetaDataOnly}));case c('CreateCAStages').EDIT_ENGAGEMENT_AUDIENCE_INIT:try{var t=this._getEngagementRule();if(t.event_name.indexOf('lead_generation')===0){return this._getLeadGenAudienceContainer(this.props,t);}else if(t.event_name.indexOf('instant_shopping')===0){return this._getCanvasAudienceContainer(this.props);}else if(t.event_name.indexOf('page')===0){return this._getPageAudienceContainer(this.props);}else return this._getVideoAudienceContainer(this.props);}catch(s){return (c('React').createElement(c('AudienceManagerErrorDialogContent.react'),{errorMessage:j._("Something went wrong while parsing the Engagement Audience"),onOkClick:this.props.onClose}));}case c('CreateCAStages').FILE_IMPORT_CHECK_FILE:return (c('React').createElement('div',{className:"_3773"},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{background:'light',size:'large'})));case c('CreateCAStages').COPY_PASTE_UPLOAD:case c('CreateCAStages').FILE_IMPORT_UPLOAD:return (c('React').createElement(c('AudienceManagerUploadDialogContent.react'),{progress:this.state.progress}));case c('CreateCAStages').FILE_IMPORT_UPLOAD_CONVERT_ERROR:case c('CreateCAStages').FILE_IMPORT_NO_VALID_ENTRY:return (c('React').createElement(c('AudienceManagerUploadFileErrorDialogContent.react'),{errorDetails:this.state.errorMessage,onUploadAnotherFileClick:this._onFileImportAnotherFileClick}));case c('CreateCAStages').COPY_PASTE_UPLOAD_COMPLETE:case c('CreateCAStages').FILE_IMPORT_UPLOAD_COMPLETE:var u=j._("Thanks for editing a Custom Audience"),v=c('React').createElement(c('AudienceManagerCompleteUploadMessage.react'),{errorTokenLists:this.state.errorTokenLists,message:u,numberOfTotalRecords:this.state.numberOfRecords.totalRecord,numberOfValidRecords:this.state.numberOfRecords.validRecord});return (c('React').createElement(c('AudienceManagerEditAudienceCompleteDialogContent.react'),{statusMessage:v,onCompleteClick:this._onEditCompleteClick}));case c('CreateCAStages').FILE_IMPORT_UPLOAD_ERROR:return (c('React').createElement(c('AudienceManagerUploadErrorDialogContent.react'),{errorTokenLists:this.state.errorTokenLists,numErrors:this.state.errorDetailsForLimitReach.numErrors,numLines:this.state.errorDetailsForLimitReach.numLines,onContinueCreateAudience:this._onFileImportContinueCreateAudienceClick,onUploadAnotherFileClick:this._onFileImportAnotherFileClick}));case c('CreateCAStages').FATAL_ERROR:return (c('React').createElement(c('AudienceManagerErrorDialogContent.react'),{errorMessage:this.state.errorMessage,onOkClick:this._onEditErrorClick}));}return null;},_getEngagementRule:function n(){try{var p=JSON.parse(this.props.audience.rule.replace(/'/g,'"')),q=p&&p[0];q||h(0);q.event_name=q.event_name||'';return q;}catch(o){c('AdsEngagementAudienceUILogger').log(c('EngagementAudienceUIEvents').LEAD_GEN_RULE_PARSING_FAILED);throw o;}},_getLeadGenAudienceContainer:function n(o,p){return (c('React').createElement(c('AudienceManagerCreateLeadGenAudienceContainer.react'),{actionButtonDescription:j._("Update Audience"),audience:{name:o.audience.name,description:o.audience.description,eventName:p.event_name,formID:p.object_id.toString(),retentionDays:o.audience.retention_days,rule:{rule:p}},isUpdateAudience:true,onCancel:this._onClose,onCreateAudience:this._onEditEngagementAudience}));},_getCanvasAudienceContainer:function n(o){return (c('React').createElement(c('AudienceManagerCreateCanvasAudienceContainer.react'),{defaultAudience:o.audience,isUpdateAudience:true,onCancel:this._onClose,onCreateAudience:this._onEditEngagementAudience}));},_getPageAudienceContainer:function n(o){c('AdsInterfacesLogger').log({eventName:c('EngagementAudienceUIEvents').CLICK_UPDATE_PAGE_AUDIENCE},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);return (c('React').createElement(c('AudienceManagerCreatePageEngagementAudienceContainer.react'),{defaultAudience:o.audience,isUpdateAudience:true,onCancel:this._onClose,onCreateAudience:this._onEditEngagementAudience}));},_getVideoAudienceContainer:function n(o){return (c('React').createElement(c('AudienceManagerEngagementAudienceDialogContentContainer.react'),{audience:o.audience,isCreateAudience:false,onCancel:this._onClose,onSaveAudience:this._onEditEngagementAudience}));},_onEditMetaData:function n(o,p){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_EDIT_UPDATE_META_DATA},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.props.onAudienceChanged(this.props.audience,{name:o,description:p});},_onEditEngagementAudience:function n(o){this.props.onAudienceChanged(this.props.audience,o);this._onClose();},_onEditPlatformAudience:function n(o){this.props.onAudienceChanged(this.props.audience,o);this._onClose();},_onEditMetaDataOnly:function n(o,p){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_EDIT_UPDATE_META_DATA_ONLY},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this.props.onAudienceChanged(this.props.audience,{name:o,description:p});this._onClose();},_onUploadFileAddUsers:function n(o,p,q){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_EDIT_FILE_IMPORT_ADD_USERS},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').FILE_IMPORT_CHECK_FILE);c('AdsAMCreateAudienceServerActions').uploadFileAddUsers(this.props.accountID,this.props.audience.id,o,p,q);},_onUploadFileRemoveUsers:function n(o,p,q){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_EDIT_FILE_IMPORT_REMOVE_USERS},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').FILE_IMPORT_CHECK_FILE);c('AdsAMCreateAudienceServerActions').uploadFileRemoveUsers(this.props.accountID,this.props.audience.id,o,p,q);},_onCopyPasteAddUsers:function n(o,p,q){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_EDIT_COPY_PASTE_ADD_USERS},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceServerActions').copyPasteAddUsers(this.props.accountID,this.props.audience.id,o,p,q);},_onCopyPasteRemoveUsers:function n(o,p,q){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_EDIT_COPY_PASTE_REMOVE_USERS},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceServerActions').copyPasteRemoveUsers(this.props.accountID,this.props.audience.id,o,p,q);},_onFileImportAnotherFileClick:function n(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_EDIT_FILE_IMPORT_CHOOSE_ANOTHER_FILE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').EDIT_AUDIENCE_INIT);},_onFileImportContinueCreateAudienceClick:function n(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_EDIT_FILE_IMPORT_CONTINUE_EDIT_AUDIENCE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceServerActions').continueUploadSelectedFileToServer();},_onEditCompleteClick:function n(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_EDIT_FINISH_SUCCESS},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this._onClose();},_onEditErrorClick:function n(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_EDIT_FINISH_ERROR},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this._onClose();},_onToggle:function n(o){if(!o){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_EDIT_CLOSE_DIALOG},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this._onClose();}},_onClose:function n(){this.props.onClose();c('AdsAMCreateAudienceViewActions').reset();},_isTermsAccepted:function n(){var o=this.props.tosRequirementsForAccount.custom_audience;return Object.prototype.hasOwnProperty.call(this.props.tosAccepted,o)&&this.props.tosAccepted[o]==1;}});f.exports=m;}),null);
__d('AdsAccessTokenStore',['AdsActionTypes','AdsDispatcher','ApiClient','FluxReduceStore','immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k,l=c('immutable').Record,m={accessToken:null};h=babelHelpers.inherits(n,l(m));i=h&&h.prototype;function n(){h.apply(this,arguments);}j=babelHelpers.inherits(o,c('FluxReduceStore'));k=j&&j.prototype;function o(){k.constructor.call(this,c('AdsDispatcher'));}o.prototype.getInitialState=function(){return new n({accessToken:c('ApiClient').getAccessToken()});};o.prototype.reduce=function(p,q){var r=q.action;switch(r.type){case c('AdsActionTypes').ACCESS_TOKEN_UPDATE:return p.set('accessToken',r.accessToken);default:return p;}};o.prototype.getAccessToken=function(){return this.getState().accessToken;};f.exports=new o(c('AdsDispatcher'));}),null);
__d('AudienceManagerDialogCancelButton.react',['fbt','React','XUIDialogButton.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;l.prototype.render=function(){if(!this.props.onClick)return null;return (c('React').createElement(c('XUIDialogButton.react'),babelHelpers['extends']({},this.props,{label:h._("Cancel")})));};function l(){i.apply(this,arguments);}f.exports=l;}),null);
__d('AudienceManagerDialogDoneButton.react',['fbt','React','XUIDialogButton.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;l.prototype.render=function(){if(!this.props.onClick)return null;return (c('React').createElement(c('XUIDialogButton.react'),babelHelpers['extends']({},this.props,{label:h._("Done"),use:'confirm'})));};function l(){i.apply(this,arguments);}f.exports=l;}),null);
__d('AdsAudienceEditOptionsDialog.react',['cx','ix','fbt','AudienceManagerDialogCancelButton.react','AudienceManagerDialogDoneButton.react','React','SignalsNextStepsSelector.react','SignalsNameAndDescriptionEditor.react','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','keyMirrorRecursive'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').Component,n=640,o=j._("Audience name"),p=j._("How do you want to edit this Custom Audience?"),q=c('keyMirrorRecursive')({ADD_PEOPLE:'',REMOVE_PEOPLE:''}),r=[{id:q.ADD_PEOPLE,title:j._("Add customers"),description:j._("Upload a file with the customers you would like to add to your audience."),iconURL:i("23682")},{id:q.REMOVE_PEOPLE,title:j._("Remove customers"),description:j._("Upload a file with the customers you would like to remove from your audience."),iconURL:i("23681")}];k=babelHelpers.inherits(s,m);l=k&&k.prototype;function s(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=l.constructor).call.apply(t,[this].concat(w)),this.$AdsAudienceEditOptionsDialog1=function(y){if(!y)this.props.onClose();}.bind(this),u;}s.prototype.render=function(){var t=this.props.title||j._("Edit a Custom Audience");return (c('React').createElement(c('XUIDialog.react'),{hideOnEscape:true,layerHideOnBlur:false,shown:true,width:n,onToggle:this.$AdsAudienceEditOptionsDialog1},c('React').createElement(c('XUIDialogTitle.react'),null,t),c('React').createElement(c('XUIDialogBody.react'),{className:"_5mm3"},c('React').createElement('div',{className:"_5mmh"},c('React').createElement('b',null,p)),c('React').createElement('div',null,c('React').createElement(c('SignalsNextStepsSelector.react'),{options:r,onOptionSelect:this.props.onOptionSelect})),c('React').createElement('hr',{className:"_3-8q"}),c('React').createElement('div',null,c('React').createElement(c('SignalsNameAndDescriptionEditor.react'),{initialDescription:this.props.audienceDescription,initialName:this.props.audienceName,nameLabel:o,onChange:this.props.onAudienceNameOrDescriptionChange}))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('AudienceManagerDialogCancelButton.react'),{action:'cancel'}),c('React').createElement(c('AudienceManagerDialogDoneButton.react'),{action:'confirm',onClick:this.props.onAudienceNameOrDescriptionSave}))));};f.exports=s;}),null);
__d('AdsAudienceUploaderFlowNextSteps.react',['ix','fbt','React','SignalsNextStepsSelector.react','keyMirrorRecursive'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('keyMirrorRecursive')({CREATE_LAL:'CREATE_LAL',CREATE_AD:'CREATE_AD'}),n=[{id:m.CREATE_LAL,title:i._("Create a Lookalike Audience"),description:i._("Expand your reach by creating an audience of people similar the customers who you already care about."),iconURL:h("23680")},{id:m.CREATE_AD,title:i._("Create an advert"),description:i._("Start building an advert now to target your new audience."),iconURL:h("23658")}];j=babelHelpers.inherits(o,l);k=j&&j.prototype;o.prototype.render=function(){var p=this.props.disabledOptionIDs?n.filter(function(q){return (this.props.disabledOptionIDs&&this.props.disabledOptionIDs.indexOf(q.id)===-1);}.bind(this)):n;return (c('React').createElement(c('SignalsNextStepsSelector.react'),{options:p,onOptionSelect:this.props.onOptionSelect}));};function o(){j.apply(this,arguments);}o.OPTION_IDS=m;f.exports=o;}),null);
__d('AdsAudienceUploaderFlowConstants',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({UPLOADER_PHASES:{SELECT_DATA:'SelectData',CONFIGURE_WEIGHT:'ConfigureWeight',CONFIGURE_MAPPING:'ConfigureMapping',UPLOADING:'Uploading',FINISHED_UPLOAD:'FinishedUpload',FINISHED_UPLOAD_NO_ERROR:'FinishedUploadNoError',FINISHED_UPLOAD_WITH_ERROR:'FinishedUploadWithError'}});f.exports=h;}),null);
__d('SignalsUITexts',['invariant','immutable'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('immutable').Map;function j(k,l){this.$SignalsUITexts1=i(k);if(l!=null)this.$SignalsUITexts1=this.$SignalsUITexts1.withMutations(function(m){l&&l.forEach(function(n,o){if(m.has(o)){m.set(o,n);}else h(0);});});}j.prototype.get=function(k,l){this.$SignalsUITexts1.has(k)||h(0);var m=this.$SignalsUITexts1.get(k);return typeof m==='function'?m.apply(this,l||[]):m;};j.prototype.getAll=function(){return this.$SignalsUITexts1;};j.prototype.set=function(k,l){var m;return new j(this.$SignalsUITexts1,i((m={},m[k]=l,m)));};j.prototype.merge=function(k){return new j(this.$SignalsUITexts1.merge(k.getAll()));};f.exports=j;}),null);
__d('SignalsUploaderFlowConstants',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({UPLOADER_PHASES:{SELECT_DATA:'SelectData',CONFIGURE_MAPPING:'ConfigureMapping',UPLOADING:'Uploading',FINISHED_UPLOAD:'FinishedUpload',FINISHED_UPLOAD_NO_ERROR:'FinishedUploadNoError',FINISHED_UPLOAD_WITH_ERROR:'FinishedUploadWithError'}});f.exports=h;}),null);
__d('SignalsUploaderFlowTexts',['fbt','cx','ix','Image.react','immutable','React','SignalsUITexts','SignalsUploaderFlowConstants'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l=c('immutable').Map,m=c('SignalsUploaderFlowConstants').UPLOADER_PHASES,n=new (c('SignalsUITexts'))(l((k={BACK_BUTTON_LABEL:h._("Back"),NEXT_BUTTON_LABEL:h._("Next"),DONE_BUTTON_LABEL:h._("Done"),UPLOAD_AND_CREATE_BUTTON_LABEL:h._("Upload & Create"),UPLOAD_AND_UPDATE_BUTTON_LABEL:h._("Upload & Update"),CREATE_LOOKALIKE_BUTTON_LABEL:h._("Create Lookalike"),DEFAULT_BEFORE_PAGE_UNLOAD_WARNING:h._("Your upload is still in progress. If you leave this page now, your data will be incomplete."),SOMETHING_WENT_WRONG_WHILE_UPLOADING:h._("Something went wrong while uploading your data. Please try again."),FILE_EMPTY_ERROR_MESSAGE_TITLE:h._("Your file is empty"),FILE_EMPTY_ERROR_MESSAGE:h._("The file you're trying to upload doesn't contain any data. Please check or update it, or try uploading a different file.")},k[m.SELECT_DATA+'_LABEL']=h._("Select data source"),k[m.SELECT_DATA+'_TITLE']=h._("Prepare a file with your customer data"),k[m.SELECT_DATA+'_DESCRIPTION']=null,k[m.CONFIGURE_MAPPING+'_LABEL']=h._("Edit data mapping"),k[m.CONFIGURE_MAPPING+'_TITLE']=h._("Map your data to upload"),k[m.CONFIGURE_MAPPING+'_DESCRIPTION']=null,k[m.UPLOADING+'_LABEL']=h._("Upload"),k[m.UPLOADING+'_TITLE']=h._("Uploading"),k[m.UPLOADING+'_DESCRIPTION']=null,k[m.FINISHED_UPLOAD+'_LABEL']=h._("Use uploaded data"),k[m.FINISHED_UPLOAD+'_TITLE']=c('React').createElement('div',null,c('React').createElement(c('Image.react'),{src:j("23663")}),c('React').createElement('div',{className:"_3-8x"},h._("Your data has been uploaded"))),k[m.FINISHED_UPLOAD+'_DESCRIPTION']=function o(p){return h._({"*":"{recordsUploaded} rows uploaded.","268435456":"1 row uploaded."},[h.plural(p,'recordsUploaded')]);},k[m.FINISHED_UPLOAD_WITH_ERROR+'_TITLE']=h._("Your data has been uploaded, but with an error"),k[m.FINISHED_UPLOAD_WITH_ERROR+'_DESCRIPTION']=function o(p,q){return h._({"*":"{number} rows uploaded {percentage}","268435456":"{number} row uploaded {percentage}"},[h.param('number',c('React').createElement('span',{className:"_2c-l"},p+' ')),h.plural(p),h.param('percentage','('+q+')%')]);},k[m.FINISHED_UPLOAD_NO_ERROR+'_TITLE']=h._("Your data has been uploaded"),k[m.FINISHED_UPLOAD_NO_ERROR+'_DESCRIPTION']=function o(p){return h._({"*":"{number} rows uploaded {percentage}","268435456":"{number} row uploaded {percentage}"},[h.param('number',c('React').createElement('span',{className:"_2c-l"},p+' ')),h.plural(p),h.param('percentage','(100%)')]);},k)));f.exports=n;}),null);
__d('AdsAudienceUploaderFlowTexts',['fbt','cx','ix','AdsAudienceUploaderFlowConstants','Image.react','immutable','React','SignalsUITexts','SignalsUploaderFlowTexts'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l=c('immutable').Map,m=c('AdsAudienceUploaderFlowConstants').UPLOADER_PHASES,n=new (c('SignalsUITexts'))(l((k={},k[m.SELECT_DATA+'_LABEL']=h._("Add Customer List"),k[m.CONFIGURE_MAPPING+'_DESCRIPTION']=h._("Map your data to upload it. Your data will be hashed before it's uploaded."),k[m.CONFIGURE_WEIGHT+'_LABEL']=h._("Select customer value"),k[m.CONFIGURE_WEIGHT+'_TITLE']=h._("Select customer value"),k[m.CONFIGURE_WEIGHT+'_DESCRIPTION']=h._("Select the column in your file which represents the customer value."),k[m.CONFIGURE_WEIGHT+'_SELECTOR_LABEL']=h._("Customer value:"),k[m.CONFIGURE_WEIGHT+'_SELECTOR_DEFAULT_LABEL']=h._("Select value column"),k[m.CONFIGURE_MAPPING+'_TITLE']=h._("Preview and map your identifiers"),k[m.UPLOADING+'_LABEL']=h._("Hashed upload and creation"),k[m.UPLOADING+'_TITLE']=h._("Hashed upload"),k[m.UPLOADING+'_DESCRIPTION']=h._("Customer identifiers are hashed and only the hashed values are uploaded. We won't store your data after creating your audience."),k[m.FINISHED_UPLOAD+'_LABEL']=h._("Next steps"),k[m.FINISHED_UPLOAD+'_TITLE']=c('React').createElement('div',null,c('React').createElement(c('Image.react'),{src:j("23663")}),c('React').createElement('div',{className:"_3-8x"},h._("Your audience was created"))),k[m.FINISHED_UPLOAD+'_UPDATE_TITLE']=c('React').createElement('div',null,c('React').createElement(c('Image.react'),{src:j("23663")}),c('React').createElement('div',{className:"_3-8x"},h._("Your audience has been updated"))),k[m.FINISHED_UPLOAD_WITH_ERROR+'_TITLE']=h._("Your audience data has been uploaded, but with an error"),k[m.FINISHED_UPLOAD_NO_ERROR+'_TITLE']=h._("Your audience data has been uploaded"),k)));f.exports=c('SignalsUploaderFlowTexts').merge(n);}),null);
__d("XAudienceManagerController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ads\/audience_manager\/",{act:{type:"Int"},aln:{type:"String"},alc:{type:"String"},business_id:{type:"Int"}});}),null);
__d('AdsAudienceUploaderFlowUploadCompleteMessage.react',['cx','fbt','BUIAdoptionXUINotice.react','BUIAdoptionXUIText.react','BusinessURI.brands','Link.react','React','XAudienceManagerController'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component;j=babelHelpers.inherits(m,l);k=j&&j.prototype;m.prototype.render=function(){var n=c('BusinessURI.brands')(c('XAudienceManagerController').getURIBuilder().setInt('act',this.props.accountID).getURI()),o=i._("It may take a few minutes for us to finish matching your customers to people on Facebook. We'll notify you when your audience is ready to use. You can also check the status in {Audience Manager link}",[i.param('Audience Manager link',c('React').createElement(c('Link.react'),{href:n,target:'_blank',onClick:this.props.onNavigateToAudienceManager},i._("Audience Manager.")))]);return (c('React').createElement('div',{className:"_3-8z _3-97"},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'information'},c('React').createElement(c('BUIAdoptionXUIText.react'),{display:'block',size:'small'},c('React').createElement('div',{className:"_2yq8"},o)))));};function m(){j.apply(this,arguments);}f.exports=m;}),null);
__d('AdsAudienceUploaderUtils',[],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=[],k=['AGE'];if(i.indexOf('DOB')>-1)k.push('DOBY');i.forEach(function(l){switch(l){case 'DOB':j.push('DOBY','DOBM','DOBD');break;case 'FN':j.push('FN','FI','F5FIRST');break;case 'LN':j.push('LN','F5LAST');break;case 'AGE':if(i.indexOf('DOB')===-1&&i.indexOf('DOBY')===-1)j.push('DOBY');break;default:if(k.indexOf(l)===-1)j.push(l);}});return j;}f.exports={prepareUploadSchema:h};}),null);
__d('AdsSignalsUploadAPIConstants',[],(function a(b,c,d,e,f,g){'use strict';var h={METHODS:{POST:'POST',DELETE:'DELETE'},CUSTOM_AUDIENCE:{TYPE:'custom_audience',DATA_PATH:'payload.data',getRequestBody:function i(j,k,l,m,n,o){var p={};p.schema=k;p.is_raw=true;var q={};if(m){q.session_id=m;q.last_batch_flag=false;}if(n)p.app_ids=n;if(o)p.page_ids=o;var r={object:j,edge:'users',method:l,format:{session:q,payload:p,__data:h.CUSTOM_AUDIENCE.DATA_PATH,__type:h.CUSTOM_AUDIENCE.TYPE}};if(location.search.indexOf('fbtrace=1')>-1)r.format.fbtrace=1;if(location.search.indexOf('teak_sample=true')>-1)r.format.teak_sample=true;return r;}},PEOPLE_DATA_SET:{TYPE:'people_data_set',DATA_PATH:'data',getRequestBody:function i(j,k,l){return {object:j,edge:'members',method:l,format:{action:k,__data:h.PEOPLE_DATA_SET.DATA_PATH,__type:h.PEOPLE_DATA_SET.TYPE}};}},OFFLINE_CONVERSION_DATA_SET:{TYPE:'offline_conversion_data_sets',DATA_PATH:'data',getRequestBody:function i(j,k,l,m){var n={object:j,edge:'events',method:l,format:{upload_id:k,__data:h.OFFLINE_CONVERSION_DATA_SET.DATA_PATH,__type:h.OFFLINE_CONVERSION_DATA_SET.TYPE}};if(m!=null)n.format.namespace_id=m;if(location.search.indexOf('fbtrace=1')>-1)n.format.fbtrace=1;if(location.search.indexOf('teak_sample=true')>-1)n.format.teak_sample=true;return n;}},XWF_ACCESS_POINT_UPLOAD:{TYPE:'xwf_access_point_upload',DATA_PATH:'data',getRequestBody:function i(j,k){return {baseUrl:k,object:j,edge:'access_points',method:h.METHODS.POST,format:{__data:h.XWF_ACCESS_POINT_UPLOAD.DATA_PATH,__type:h.XWF_ACCESS_POINT_UPLOAD.TYPE}};}}};f.exports=h;}),null);
__d('AdsSignalsWorkerJobConstants',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({NORMAL:'',PAUSE:''}),i=c('keyMirrorRecursive')({SAMPLE_FETCH:'',DELIMITER_DETECT:'',TYPE_DETECT:'',PREVIEW:'',UPLOAD:'',STOP:'',FILE_SPLIT:''}),j=c('keyMirrorRecursive')({NETWORK_CONNECTION:'',PROCESS_TOKEN:'',NORMALIZE:'',FATAL_ERROR:''}),k=c('keyMirrorRecursive')({INIT:'',READING:'',PAUSE:'',STOPPED:'',FINISHED_READING:'',FINISHED:''}),l=c('keyMirrorRecursive')({PROCESSING:'',SENDING:'',SUCCESS:'',FAIL:''}),m=c('keyMirrorRecursive')({PROCESSING:'',FINISHED:''});f.exports={UPLOADER_STATUS:h,JOB_TYPES:i,JOB_STATUS:k,JOB_ERROR_TYPE:j,BATCH_STATUS:l,BATCH_QUEUE_STATUS:m};}),null);
__d('SignalsUploaderLoggingEvents',[],(function a(b,c,d,e,f,g){'use strict';f.exports={SIGNALS_UPLOADER_FLOW_INIT:'signals_uploader_flow_init',SIGNALS_UPLOADER_FLOW_TRANSITION:'signals_uploader_flow_transition',SIGNALS_UPLOADER_FINISH_SAMPLE_FETCH:'signals_uploader_finish_sample_fetch',SIGNALS_UPLOADER_START_SAMPLE_FETCH:'signals_uploader_start_sample_fetch',SIGNALS_UPLOADER_GENERATE_ERROR_REPORT:'signals_uploader_generate_error_report',SIGNALS_UPLOADER_MATCH_RATE_WARNING_CLOSE:'signals_uploader_match_rate_warning_close',SIGNALS_UPLOADER_DELIMITER_DETECT_FINISH:'signals_uploader_delimiter_detect_finish',SIGNALS_UPLOADER_TYPE_DETECT_FINISH:'signals_uploader_type_detect_finish',SIGNALS_UPLOADER_START_UPLOAD:'signals_uploader_start_upload',SIGNALS_UPLOADER_UPLOAD_PREPARED:'signals_uploader_upload_prepared',SIGNALS_UPLOADER_FINISH_UPLOAD:'signals_uploader_finish_upload',SIGNALS_UPLOADER_AUDIENCE_CREATED:'signals_uploader_audience_created',SIGNALS_UPLOADER_UPLOAD_REJECT:'signals_uploader_upload_reject',SIGNALS_UPLOADER_PREPARE_UPLOAD_REJECT:'signals_uploader_prepare_upload_reject',SIGNALS_UPLOADER_SOURCE_INPUT_SELECT:'signals_uploader_source_input_select',SIGNALS_UPLOADER_FILE_SELECT:'signals_uploader_file_select',SIGNALS_UPLOADER_FILE_CHANGE:'signals_uploader_file_change',SIGNALS_UPLOADER_FILE_REMOVE:'signals_uploader_file_remove',SIGNALS_UPLOADER_PASTE:'signals_uploader_paste',SIGNALS_UPLOADER_MAPPING_CHANGE:'signals_uploader_mapping_change',SIGNALS_UPLOADER_COLUMN_STATUSES_CALCULATED:'signals_uploader_column_statuses_calculated',SIGNALS_UPLOADER_FLOW_CANCEL:'signals_uploader_flow_cancel',SIGNALS_UPLOADER_FLOW_BACK_OUT:'signals_uploader_flow_back_out',SIGNALS_UPLOADER_FLOW_STEP_OUT:'signals_uploader_flow_step_out',SIGNALS_UPLOADER_FLOW_CANCEL_CONFIRM_OPEN:'signals_uploader_flow_cancel_confirm_open',SIGNALS_UPLOADER_FLOW_CANCEL_CONFIRM_CANCELLED:'signals_uploader_flow_cancel_confirm_cancelled',SIGNALS_UPLOADER_FLOW_CANCEL_CONFIRM_CONFIRMED:'signals_uploader_flow_cancel_confirm_confirmed',SIGNALS_UPLOADER_USER_TRIES_TO_NAVIGATE_AWAY_WHILE_UPLOAD:'signals_uploader_user_tries_to_navigate_away_while_upload',SIGNALS_UPLOADER_WAS_OFFLINE:'signals_uploader_was_offline',SIGNALS_UPLOADER_POST_UPLOAD_ACTION_PICKED:'signals_uploader_post_upload_action_picked',SIGNALS_UPLOADER_LIBRARY_ERROR_ENTRY:'signals_uploader_library_error_entry',SIGNALS_UPLOADER_LIBRARY_HEARTBEAT_ENTRY:'signals_uploader_library_heartbeat_entry',SIGNALS_UPLOADER_LIBRARY_LOG_ENTRY:'signals_uploader_library_log_entry',SIGNALS_UPLOADER_SURVEY_LOAD_SUCCESS:'signals_uploader_survey_load_success',SIGNALS_UPLOADER_SURVEY_LOAD_ERROR:'signals_uploader_survey_load_error',SIGNALS_UPLOADER_SURVEY_FINISHED:'signals_uploader_survey_finished'};}),null);
__d('AdsSignalsUploader',['invariant','Promise','AdsGraphAPI','AdsSignalsWorkerJobConstants','SignalsBasicPIISchema','SignalsUploadConfig','SignalsEventDataSchema','EventEmitter','SignalsExtendedPIISchema','SignalsPeopleDataSchema','SignalsPixelDataSchema','SignalsUILogger','SignalsUploaderFlowConstants','SignalsUploaderLoggingEvents','SignalsValidationUtils','URI','UrlMap','WebApiApplication','WebWorker','WebWorkerPool','SignalsWLALExtendedPIISchema','AdsSignalsUploadWorkerResource'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('SignalsValidationUtils').isArray,l=c('SignalsUploaderFlowConstants').UPLOADER_PHASES,m=c('AdsSignalsWorkerJobConstants').UPLOADER_STATUS,n=c('AdsSignalsWorkerJobConstants').JOB_ERROR_TYPE,o=c('AdsSignalsWorkerJobConstants').JOB_TYPES,p=10,q=10*1000,r=Date.now()/1000;i=babelHelpers.inherits(s,c('EventEmitter'));j=i&&i.prototype;function s(t,u,v,w){j.constructor.call(this);this.$AdsSignalsUploader2=t;if(this.$AdsSignalsUploader12()){this.$AdsSignalsUploader3=w||c('SignalsUploadConfig').DEFAULT_WORKER_POOL_SIZE;c('WebWorker').prepareResource(c('AdsSignalsUploadWorkerResource'));this.$AdsSignalsUploader1=new (c('WebWorkerPool'))(c('AdsSignalsUploadWorkerResource'),this.$AdsSignalsUploader3).setErrorHandler(this.$AdsSignalsUploader13.bind(this)).setMessageHandler(this.$AdsSignalsUploader14.bind(this));}this.$AdsSignalsUploader4={};this.$AdsSignalsUploader5={};this.$AdsSignalsUploader6={};this.$AdsSignalsUploader7=m.NORMAL;this.$AdsSignalsUploader8=v||null;this.$AdsSignalsUploader11=u;this.$AdsSignalsUploader9={};this.$AdsSignalsUploader10=null;}s.prototype.updateAccessToken=function(t){if(t!==this.$AdsSignalsUploader11){this.$AdsSignalsUploader11=t;this.$AdsSignalsUploader15({updateAccessToken:this.$AdsSignalsUploader11});}};s.prototype.$AdsSignalsUploader12=function(){return c('WebWorkerPool').isSupported();};s.prototype.$AdsSignalsUploader16=function(t){var u=this.$AdsSignalsUploader1.getWorker();if(u.isCurrentState('terminated'))return;u.postMessage(t);};s.prototype.$AdsSignalsUploader15=function(t){for(var u=0;u<this.$AdsSignalsUploader3;u++)this.$AdsSignalsUploader16(t);};s.prototype.$AdsSignalsUploader17=function(t,u,v){if(!this.$AdsSignalsUploader4[t])this.$AdsSignalsUploader4[t]=[];this.$AdsSignalsUploader4[t].push({resolve:u,reject:v});if(this.$AdsSignalsUploader10==null)this.$AdsSignalsUploader10=window.setInterval(this.$AdsSignalsUploader18.bind(this),q);};s.prototype.$AdsSignalsUploader19=function(t,u){this.$AdsSignalsUploader5[t]={queue:[],count:u};this.$AdsSignalsUploader6[t]={queue:[],count:u};for(var v=0;v<u;v++)this.$AdsSignalsUploader6[t].queue.push({value:0,processed:0});};s.prototype.setAllowCrossPageTransition=function(t){if(this.$AdsSignalsUploader12())this.$AdsSignalsUploader1.setAllowCrossPageTransition(t);return this;};s.prototype.$AdsSignalsUploader20=function(){if(this.$AdsSignalsUploader8)this.$AdsSignalsUploader8.log(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_LIBRARY_ERROR_ENTRY,{atSection:l.UPLOADING},{logMessage:'WebWorker not supported.'});};s.prototype.delimiterDetect=function(t,u){return new (c('Promise'))(function(v,w){this.$AdsSignalsUploader17(o.DELIMITER_DETECT,v,w);if(this.$AdsSignalsUploader12()){this.$AdsSignalsUploader16({command:o.DELIMITER_DETECT,source:t,options:u});}else this.$AdsSignalsUploader20();}.bind(this));};s.prototype.typeDetect=function(t,u,v){return new (c('Promise'))(function(w,x){this.$AdsSignalsUploader17(o.TYPE_DETECT,w,x);if(this.$AdsSignalsUploader12()){this.$AdsSignalsUploader16({command:o.TYPE_DETECT,delimiter:u,options:v,schema:this.$AdsSignalsUploader2,source:t});}else this.$AdsSignalsUploader20();}.bind(this));};s.prototype.sampleFetch=function(t,u,v){return new (c('Promise'))(function(w,x){this.$AdsSignalsUploader17(o.SAMPLE_FETCH,w,x);if(this.$AdsSignalsUploader12()){this.$AdsSignalsUploader16({command:o.SAMPLE_FETCH,delimiter:u,options:v,source:t});}else this.$AdsSignalsUploader20();}.bind(this));};s.prototype.previewFetch=function(t,u,v,w){return new (c('Promise'))(function(x,y){this.$AdsSignalsUploader17(o.PREVIEW,x,y);if(this.$AdsSignalsUploader12()){this.$AdsSignalsUploader16({command:o.PREVIEW,delimiter:u,options:w,schema:this.$AdsSignalsUploader2,source:t,types:v});}else this.$AdsSignalsUploader20();}.bind(this));};s.prototype.$AdsSignalsUploader21=function(t,u,v,w,x){this.$AdsSignalsUploader16({command:o.FILE_SPLIT,source:t,delimiter:u,types:v,config:w,poolSize:this.$AdsSignalsUploader3,options:x});};s.prototype.$AdsSignalsUploader22=function(t,u,v,w,x,y){this.$AdsSignalsUploader19(o.UPLOAD,x.length/2);y=y||{};y.usingMultiWorker=true;for(var z=0;z<x.length-1;z+=2){y.orderIndex=z/2;var aa=this.$AdsSignalsUploader23(t,u,v,w,y);aa.start=x[z];aa.end=x[z+1];this.$AdsSignalsUploader16(aa);}};s.prototype.$AdsSignalsUploader23=function(t,u,v,w,x){var y=this.$AdsSignalsUploader11||c('WebApiApplication').getAccessToken();!!y||h(0);!!w.object||h(0);!!w.format||h(0);!!w.method||h(0);var z=w.edge||'',aa='/'+w.object+'/'+z,ba=new (c('URI'))(aa),ca=w.version||c('AdsGraphAPI').getVersion(),da=w.baseUrl||c('UrlMap').resolve('graph'),ea=da+'/v'+ca+ba.getPath();return {accessToken:y,command:o.UPLOAD,delimiter:u,format:w.format,method:w.method,options:x,schema:this.$AdsSignalsUploader2,source:t,types:v,url:ea};};s.prototype.upload=function(t,u,v,w,x){return new (c('Promise'))(function(y,z){this.$AdsSignalsUploader17(o.UPLOAD,y,z);if(this.$AdsSignalsUploader12()){if(t instanceof File){this.$AdsSignalsUploader21(t,u,v,w,x);}else{var aa=this.$AdsSignalsUploader23(t,u,v,w,x);this.$AdsSignalsUploader16(aa);}}else this.$AdsSignalsUploader20();}.bind(this));};s.prototype.$AdsSignalsUploader24=function(t){for(var u in this.$AdsSignalsUploader4)if(Object.prototype.hasOwnProperty.call(this.$AdsSignalsUploader4,u)){var v=this.$AdsSignalsUploader4[u];while(v.length){var w=v.shift();w.reject(t);}}if(this.$AdsSignalsUploader10!=null){this.$AdsSignalsUploader18();window.clearInterval(this.$AdsSignalsUploader10);this.$AdsSignalsUploader10=null;}};s.prototype.$AdsSignalsUploader25=function(t){var u=this.$AdsSignalsUploader4[t.finish];if(u&&u.length){var v=u.shift();v.resolve(t.result);}if(this.$AdsSignalsUploader10!=null){var w=true;for(var x in this.$AdsSignalsUploader4)if(Object.prototype.hasOwnProperty.call(this.$AdsSignalsUploader4,x)){var y=this.$AdsSignalsUploader4[x];if(y.length>0){w=false;break;}}if(w){this.$AdsSignalsUploader18();window.clearInterval(this.$AdsSignalsUploader10);this.$AdsSignalsUploader10=null;}}};s.prototype.stop=function(){return new (c('Promise'))(function(t,u){this.$AdsSignalsUploader15({command:o.STOP});for(var v=0;v<this.$AdsSignalsUploader3;v++){var w=this.$AdsSignalsUploader1.getWorker();w.terminate();}this.$AdsSignalsUploader24({message:'uploader job has been stopped'});t({message:'stop job success'});}.bind(this));};s.prototype.$AdsSignalsUploader13=function(t,u){t.terminate();this.$AdsSignalsUploader24({message:'uploader job has errors'});};s.prototype.$AdsSignalsUploader26=function(t){var u=this.$AdsSignalsUploader6[t.progress].queue;u[t.orderIndex]=t;var v=0,w=0,x=0;u.map(function(y){v+=y.value;w+=y.processed;x+=y.succeeded;});this.emit('progress',{command:t.progress,value:v/this.$AdsSignalsUploader6[t.progress].count,processed:w,succeeded:x});};s.prototype.$AdsSignalsUploader27=function(t){var u,v=this.$AdsSignalsUploader5[t.finish].queue;v.push(t);if(v.length===this.$AdsSignalsUploader5[t.finish].count){var w={finish:t.finish};if(w.finish===o.UPLOAD){(function(){w.result={processed:0,skipped:0,failed:0,succeeded:0,invalidSamples:[]};var x={};v.map(function(ca){x[ca.orderIndex]=ca;});for(var y=0;y<v.length;y++){var z=x[y].result;for(var aa=0;aa<z.invalidSamples.length;aa++){var ba=z.invalidSamples[aa];ba.row+=w.result.processed;w.result.invalidSamples.push(ba);}w.result.processed+=z.processed;w.result.skipped+=z.skipped;w.result.failed+=z.failed;w.result.succeeded+=z.succeeded;}})();}else h(0);this.$AdsSignalsUploader25(w);this.$AdsSignalsUploader5[w.finish]=[];}};s.prototype.$AdsSignalsUploader14=function(t,u){if(u.progress){if(u.usingMultiWorker){this.$AdsSignalsUploader26(u);return;}this.emit('progress',{command:u.progress,value:u.value,processed:u.processed,succeeded:u.succeeded});}if(u.finish){if(u.usingMultiWorker){this.$AdsSignalsUploader27(u);return;}this.$AdsSignalsUploader25(u);if(u.finish===o.FILE_SPLIT)this.$AdsSignalsUploader22(u.param.source,u.param.delimiter,u.param.types,u.param.config,u.result.splitPoints,u.param.options);}if(u.resume)if(this.$AdsSignalsUploader7===m.PAUSE){this.emit('resume',{command:u.resume});this.$AdsSignalsUploader7=m.NORMAL;}if(u.error)switch(u.errorType){case n.NETWORK_CONNECTION:if(this.$AdsSignalsUploader7===m.NORMAL){this.$AdsSignalsUploader7=m.PAUSE;this.emit('offline');}break;case n.FATAL_ERROR:t.terminate();this.$AdsSignalsUploader24(u);case n.PROCESS_TOKEN:case n.NORMALIZE:this.$AdsSignalsUploader28(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_LIBRARY_ERROR_ENTRY,null,u,u.errorType);break;}if(u.log!=null)if(u.logToServer)this.$AdsSignalsUploader28(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_LIBRARY_LOG_ENTRY,{atSection:l.UPLOADING},{logMessage:u.log});};s.prototype.$AdsSignalsUploader28=function(t,u,v,w){if(this.$AdsSignalsUploader8!=null){var x=true;if(w!=null){var y=(this.$AdsSignalsUploader9[w]||0)+1;this.$AdsSignalsUploader9[w]=y;x=y<=p;}if(x)this.$AdsSignalsUploader8.log(t,u,v);}};s.prototype.$AdsSignalsUploader18=function(){var t={};for(var u in this.$AdsSignalsUploader4)t[u]=this.$AdsSignalsUploader4[u].length;this.$AdsSignalsUploader28(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_LIBRARY_HEARTBEAT_ENTRY,null,{status:this.$AdsSignalsUploader7,errorCounts:this.$AdsSignalsUploader9,multiWorkerResult:this.$AdsSignalsUploader5,multiWorkerProgress:this.$AdsSignalsUploader6,commands:t});};f.exports=s;}),null);
__d('SignalsPropDescriptors',['fbt'],(function a(b,c,d,e,f,g,h){'use strict';var i={email:{label:h._("Email address")},phone:{label:h._("Phone number"),description:h._("Phone numbers must include a country code. We accept formats with or without symbols.")},madid:{label:h._("Mobile Advertiser ID"),description:h._("We support two types of mobile advertiser IDs:")},lead_id:{label:h._("Lead ID"),description:h._("Lead IDs should be numbers and may be prefixed with \"l:\" (lowercase L and colon).")},fn:{label:h._("First name"),description:h._("We accept first name and first name initials with or without accents.")},ln:{label:h._("Surname"),description:h._("We accept full surnames with or without accents.")},zip:{label:h._("ZIP\/Postcode"),description:h._("We support US and international formats.")},ct:{label:h._("City")},st:{label:h._("County\/Region"),description:h._("We accept US and international states and provinces, including US abbreviations.")},country:{label:h._("Country"),description:h._("Country must be an ISO two-letter country code.")},dob:{label:h._("Date of birth"),description:h._("You can use one of 18 supported formats.")},doby:{label:h._("Year of birth"),description:h._("We accept year of birth as YYYY.")},gen:{label:h._("Gender"),description:h._("We accept gender, abbreviated as M or F.")},age:{label:h._("Age"),description:h._("We accept age as a numerical value.")},appuid:{label:h._("Facebook App User ID"),description:h._("We support numerical user IDs associated with your Facebook application.")},fi:{label:h._("First name initial")},pageuid:{label:h._("Facebook Page user ID"),description:h._("We support numerical user IDs associated with your Facebook Page.")},event_name:{label:h._("Event name"),description:h._("We support various event names:")},lookalike_value:{label:h._("Value")}};function j(l){var m=i[l.key];return (m&&m.description||l.description);}function k(l){var m=i[l.key];return (m&&m.label||l.label||l.key);}f.exports={getPropDescription:j,getPropLabel:k,PropDescriptors:i};}),null);
__d('SignalsPropExampleCard.react',['cx','fbt','Link.react','React','SignalsPropDescriptors','SignalsValidationUtils'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('SignalsValidationUtils').isArray,k=c('SignalsPropDescriptors').getPropDescription,l=c('SignalsPropDescriptors').getPropLabel,m=i._("Examples"),n=i._("Learn more"),o=4,p=function q(r){var s=r.additionalInfoURL,t=r.propSchema,u=r.maxCountOfExamplesToShow||t.maxCountOfExamplesToShow||o,v=t.formats||t.examples,w=j(v)?v.slice(0,u).map(function(ca,da){return (c('React').createElement('div',{dangerouslySetInnerHTML:{__html:ca},key:da}));}):v,x=s?c('React').createElement('div',{className:"_1g3b"},c('React').createElement(c('Link.react'),{href:s,target:'_blank'},n)):null,y=k(t),z=l(t),aa=y||z,ba=m.toString().toUpperCase();return (c('React').createElement('div',{className:"_1g3c"},c('React').createElement('div',{className:"_25q_"},aa),c('React').createElement('div',{className:"_25r0"},ba),c('React').createElement('pre',{className:"_1am2"},w),x));};f.exports=p;}),null);
__d('SignalsPropExampleCardListTitles',['fbt'],(function a(b,c,d,e,f,g,h){'use strict';var i=h._("identifiers"),j=h._("Identifiers"),k=h._("event descriptors"),l=h._("Event descriptors"),m=h._("customer value"),n=h._("Customer value"),o=h._("An identifier is data used to match your customers to people on Facebook. To improve your potential match rate, include as many identifiers as possible as columns in your file. Data will be hashed prior to upload and we will not store it after the upload has finished."),p={event_data_schema:k,basic_pii_schema:i,extended_pii_schema:i,wlal_pii_schema:m},q={event_data_schema:l,basic_pii_schema:j,extended_pii_schema:j,wlal_pii_schema:n},r={event_data_schema:null,basic_pii_schema:o,extended_pii_schema:o};f.exports={TITLES_UPPERCASE:q,TITLES:p,INFOS:r};}),null);
__d('SignalsPropExampleCardList.react',['cx','fbt','ix','React','SignalsPropDescriptors','SignalsPropExampleCard.react','SignalsPropExampleCardListTitles','SignalsTooltipInfo.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').Component,n=c('SignalsPropExampleCardListTitles').TITLES,o=c('SignalsPropExampleCardListTitles').TITLES_UPPERCASE,p=c('SignalsPropExampleCardListTitles').INFOS,q=c('SignalsPropDescriptors').getPropLabel,r=j("23672"),s=c('React').createElement('div',{className:"_4rxj"});k=babelHelpers.inherits(t,m);l=k&&k.prototype;function t(u){l.constructor.call(this,u);this.$SignalsPropExampleCardList3=function(ba){this.setState({selectedSubschema:ba});}.bind(this);var v=u.initiallySelectedSubschema,w=u.schemaSummary,x=w.keysForSubschemasWithID,y=w.noUISimplePropKeysInSchema,z=w.schemasForSimplePropsInSchema,aa={};Object.keys(x).forEach(function(ba){var ca=x[ba].filter(function(da){var ea=z[da];return y.indexOf(da)===-1&&ea.label!=null&&(ea.examples!=null||ea.formats!=null||ea.description!=null);});if(ca.length)aa[ba]=ca;});this.$SignalsPropExampleCardList1=Object.keys(aa);this.$SignalsPropExampleCardList2=aa;this.state={selectedSubschema:v||this.$SignalsPropExampleCardList1[0]};}t.prototype.render=function(){var u=this.props,v=u.hideNavigator,w=u.schemaSummary,x=w.additionalInfoURL,y=w.schemasForSimplePropsInSchema,z=this.$SignalsPropExampleCardList2,aa=this.state.selectedSubschema,ba=z[aa],ca=ba.map(function(ga,ha){var ia=y[ga],ja=q(ia);return (c('React').createElement('div',{className:"_1lfy",key:ha},c('React').createElement(c('SignalsTooltipInfo.react'),{className:"_46u4",message:c('React').createElement(c('SignalsPropExampleCard.react'),{additionalInfoURL:x,propSchema:ia}),noHorizontalMargin:true,position:'above',textBlock:ja})));}),da=null;if(v!==true&&this.$SignalsPropExampleCardList1.length===1){var ea=this.$SignalsPropExampleCardList1[0];da=c('React').createElement('div',{className:"_4rxk"},i._("{Name of column-type group.} you can use {Number of available column-types}{Optional tooltip info icon.}",[i.param('Name of column-type group.',o[ea]||''),i.param('Number of available column-types',c('React').createElement('div',{className:"_4xhy"},'(',z[ea].length,')')),i.param('Optional tooltip info icon.',p[ea]!=null?c('React').createElement(c('SignalsTooltipInfo.react'),{iconURL:r,message:p[ea],position:'above',width:400}):null)]));}var fa=v!==true&&this.$SignalsPropExampleCardList1.length>1?c('React').createElement('div',null,c('React').createElement('div',{className:"_3bpp"},i._("Data types you can use:")),c('React').createElement('div',{className:"_4rxk"},this.$SignalsPropExampleCardList1.map(function(ga,ha){var ia=function(){return this.$SignalsPropExampleCardList3(ga);}.bind(this);return (c('React').createElement('div',{className:"_4rxm",key:ga},ha>0?s:null,c('React').createElement('div',{className:"_4rxn"+(this.$SignalsPropExampleCardList1.length>1&&ga===aa?' '+"_4rxo":''),onMouseOver:ia},c('React').createElement('div',{className:"_4xhy"},z[ga].length),n[ga],p[ga]!=null?c('React').createElement(c('SignalsTooltipInfo.react'),{iconURL:r,message:p[ga],position:'above',width:400}):null)));}.bind(this)))):null;return (c('React').createElement('div',{className:"_46u5"},da,fa,ca));};f.exports=t;}),null);
__d('AdsWLALUploaderInstructions.react',['cx','fbt','ix','BUIAdoptionXUIGrayText.react','Image.react','LeftRight.react','React','SignalsPropExampleCardList.react','SignalsTooltipInfo.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').Element,n=i._("Use positive numbers \u2013 no negatives or zeros."),o=i._("Can use decimal points, but not thousands separators."),p=j("23672"),q=i._("An identifier is data used to match your customers to people on Facebook. To improve your potential match rate, include as many identifiers as possible as columns in your file. Data will be hashed prior to upload and we will not store it after the upload has finished."),r=i._("Customer value should be represented using positive numbers as a single column in your file. Tip: For our system to optimise for value, use a file with a range of values, not just the highest-value customers.");function s(x){var y=x.exampleValue;return (c('React').createElement('pre',{className:"_58um"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),null,y)));}function t(x){var y=x.examples,z=x.iconURL,aa=c('React').createElement('div',{className:"_58un"},c('React').createElement(c('Image.react'),{src:z})),ba=y.map(function(ca){return c('React').createElement(s,{exampleValue:ca,key:ca});});return (c('React').createElement('div',{className:"_58uo"},aa,ba));}function u(){var x=[i._("1000"),i._("0")],y=[i._("-1000"),i._("-0.1")],z=[i._("1000.40"),i._("1000,40")],aa=[i._("1,000.40"),i._("1.000,40")],ba=j("117904"),ca=j("119366");return (c('React').createElement(c('LeftRight.react'),{className:"_58up"},c('React').createElement('div',null,c('React').createElement('div',{className:"_3-8m"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),null,n)),c('React').createElement(t,{examples:x,iconURL:ca}),c('React').createElement(t,{examples:y,iconURL:ba})),c('React').createElement('div',{className:"_58uq _58us"},c('React').createElement('div',{className:"_3-8m"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),null,o)),c('React').createElement(t,{examples:z,iconURL:ca}),c('React').createElement(t,{examples:aa,iconURL:ba}))));}function v(x){return (c('React').createElement('div',null,c('React').createElement('div',{className:"_3-94"},c('React').createElement(c('SignalsPropExampleCardList.react'),{hideNavigator:true,schemaSummary:x.schemaSummary}))));}k=babelHelpers.inherits(w,c('React').PureComponent);l=k&&k.prototype;w.prototype.render=function(){return (c('React').createElement('div',null,c('React').createElement('div',{className:"_3-94"},c('React').createElement('div',{className:"_58ut"},i._({"*":"{first section}"},[i.param('first section',1,[0])])),c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'dark',weight:'bold'},i._("Use one or more customer identifiers"),c('React').createElement(c('SignalsTooltipInfo.react'),{iconURL:p,message:q,position:'above',width:400}))),c('React').createElement(v,{schemaSummary:this.props.schemaSummary}),c('React').createElement('div',{className:"_58ut"},i._({"*":"{second section}"},[i.param('second section',2,[0])])),c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'dark',weight:'bold'},i._("Include a column with customer value"),c('React').createElement(c('SignalsTooltipInfo.react'),{iconURL:p,message:r,position:'above',width:400})),c('React').createElement(u,null)));};function w(){k.apply(this,arguments);}f.exports=w;}),null);
__d('SignalsUploaderUploadErrorCSVRenderer',[],(function a(b,c,d,e,f,g){'use strict';var h=b.BlobBuilder||b.WebKitBlobBuilder,i=' ',j='\n',k={buildBlob:function l(m){var n=null,o=['Row,Columns with formatting errors,Empty columns'].concat(m.map(function(q){return [q.row,q.invalidColumns.join(i),q.emptyColumns.join(i)].join(',');})).join(j);if(Blob){n=new Blob([o],{type:'text/plain'});}else if(h){var p=new h();p.append(o);n=p.getBlob('text/plain');}return n;}};f.exports=k;}),null);
__d('SignalsDownloadReportLink.react',['ix','cx','fbt','Image.react','React','SignalsUploaderUploadErrorCSVRenderer','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('React').Component,n=c('SignalsUploaderUploadErrorCSVRenderer').buildBlob,o=b.Blob,p=b.BlobBuilder||b.WebKitBlobBuilder,q=b.URL||b.webkitURL,r=(o!=null||p!=null)&&q!=null,s=window.navigator&&window.navigator.msSaveOrOpenBlob,t='data_uploader_error_report.csv';k=babelHelpers.inherits(u,m);l=k&&k.prototype;function u(w){l.constructor.call(this,w);v.call(this);var x=this.props,y=x.errorTokenLists,z=x.fileNamePrefix,aa=null,ba=null,ca=false,da=null;if(y&&y.length){ca=true;if(r){aa=n(y);ba=z?z+'_'+t:t;if(aa&&q.createObjectURL)da=q.createObjectURL(aa);}}this.state={blob:aa,fileName:ba,thereWereErrors:ca,url:da};}u.prototype.render=function(){var w=this.state,x=w.blob,y=w.fileName,z=w.thereWereErrors,aa=w.url;return z===true?x!=null&&r!=null?c('React').createElement('div',null,j._("Some entries couldn't be used. Download {link to error report} to find out why.",[j.param('link to error report',c('React').createElement('a',{download:y,href:aa,target:'_blank',onClick:this.$SignalsDownloadReportLink1},c('React').createElement(c('Image.react'),{className:"_5oms",src:h("116899")}),j._("{whitespace} error report",[j.param('whitespace'," ")])))])):c('React').createElement('div',null,j._("Some entries couldn't be used.")):null;};var v=function w(){this.$SignalsDownloadReportLink1=function(){var x=this.state,y=x.blob,z=x.fileName;if(y!=null&&z!=null&&s)window.navigator.msSaveOrOpenBlob(this.state.blob,this.state.fileName);var aa=this.props.onErrorReportGenerate;aa&&aa();}.bind(this);};f.exports=u;}),null);
__d('SignalsErrorDialog.react',['cx','fbt','BUIAdoptionButton.react','BUIAdoptionXUINotice.react','React','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=640,n=i._("An error occurred"),o=i._("Ouch! Something went wrong..."),p=i._("Close");j=babelHelpers.inherits(q,l);k=j&&j.prototype;function q(r){k.constructor.call(this,r);this.$SignalsErrorDialog1=function(s){this.setState({show:s});if(s){if(this.props.onOpen)this.props.onOpen();}else if(this.props.onClose)this.props.onClose();}.bind(this);this.$SignalsErrorDialog2=function(){this.setState({show:false});}.bind(this);this.state={show:this.props.initiallyOpen!=null?this.props.initiallyOpen:true};}q.prototype.render=function(){var r=this.props,s=r.errorMessage,t=r.errorDetails,u=r.errorTitle,v=s||o,w=u||n,x=t!=null?c('React').createElement('div',{className:"_327w"},t):null;return (c('React').createElement(c('XUIDialog.react'),{hideOnEscape:true,shown:this.state.show,width:m,onToggle:this.$SignalsErrorDialog1},c('React').createElement(c('XUIDialogTitle.react'),null,w),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'error'},c('React').createElement('div',{className:"_327x"},v),x)),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('BUIAdoptionButton.react'),{label:p,use:'confirm',onClick:this.$SignalsErrorDialog2}))));};f.exports=q;}),null);
__d('SignalsFlowPhaseDescription.react',['cx','fbt','Link.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=i._("Learn more"),l=function m(n){var o=n.additionalInfoURL?c('React').createElement('span',null,c('React').createElement(c('Link.react'),{href:n.additionalInfoURL,target:'_blank'},n.additionalInfoLabel||k),'.'):null,p=n.icon?c('React').createElement('div',{className:"_3g2g"},n.icon):null,q=n.description?c('React').createElement('div',{className:"_3g2k"},n.description,' ',o):null;return (c('React').createElement('div',{className:"_3g2i"},p,c('React').createElement('div',{className:"_3g2j"},n.title),q));};l.propTypes={additionalInfoLabel:j.oneOfType([j.element,j.node,j.string]),additionalInfoURL:j.string,description:j.oneOfType([j.element,j.node,j.string]),icon:j.string,title:j.oneOfType([j.element,j.node,j.string]).isRequired};f.exports=l;}),null);
__d('SignalsFlowPhase.react',['cx','React','SignalsFlowPhaseDescription.react'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=function k(l){var m=l.title!=null?c('React').createElement(c('SignalsFlowPhaseDescription.react'),l):null;return (c('React').createElement('div',{className:"_13pq"},m,l.children));};j.propTypes={backButton:i.element,bottomContent:i.element,children:i.any,footer:i.element,hasCancelButton:i.bool,header:i.element,height:i.number,id:i.string.isRequired,label:i.string,maxHeight:i.number,nextButton:i.element,title:i.oneOfType([i.element,i.node,i.string])};f.exports=j;}),null);
__d('SignalsMultiPhaseFlow.react',['cx','fbt','BUIAdoptionButton.react','immutable','React','SignalsFlowPhase.react','AdsSpinnerCover.react','SUIHorizontalLayout.react','XUIStepper.react','shallowCompare'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('XUIStepper.react').Step,m=c('React').Component,n=c('React').PropTypes,o=c('immutable').List,p=i._("Cancel"),q=function t(){},r=function t(u){var v=u.labels.map(function(w,x){return c('React').createElement(l,{key:x},w);}).toArray();return (c('React').createElement('div',{className:"_5w8"},c('React').createElement(c('XUIStepper.react'),{checked:false,currentStep:u.currentStep,numbered:true,size:'xlarge',onStepHovered:q},v)));};j=babelHelpers.inherits(s,m);k=j&&j.prototype;function s(t){k.constructor.call(this,t);this.$SignalsMultiPhaseFlow5=function(v,w){var x=true;if(w)x=w(v);if(x&&this.props.children!=null)if(this.state.phaseIndex>0){if(this.props.onTransition&&this.props.children)this.props.onTransition(this.props.children[this.state.phaseIndex].props.id,this.props.children[this.state.phaseIndex-1].props.id);this.$SignalsMultiPhaseFlow1&&this.$SignalsMultiPhaseFlow1.setScrollTop(0);this.setState({phaseIndex:this.state.phaseIndex-1});}else if(this.props.onBackOut)this.props.onBackOut();}.bind(this);this.$SignalsMultiPhaseFlow6=function(v,w){var x=true;if(w)x=w(v);if(x&&this.props.children!=null)if(this.state.phaseIndex<this.props.children.length-1){if(this.props.onTransition&&this.props.children)this.props.onTransition(this.props.children[this.state.phaseIndex].props.id,this.props.children[this.state.phaseIndex+1].props.id);this.$SignalsMultiPhaseFlow1&&this.$SignalsMultiPhaseFlow1.setScrollTop(0);this.setState({phaseIndex:this.state.phaseIndex+1});}else if(this.props.onStepOut)this.props.onStepOut();}.bind(this);this.$SignalsMultiPhaseFlow7=function(){if(this.props.onCancel&&this.props.children)this.props.onCancel(this.props.children[this.state.phaseIndex].props.id);}.bind(this);var u=this.$SignalsMultiPhaseFlow4(this.props.phaseID)||0;this.state={phaseIndex:u};}s.prototype.componentWillReceiveProps=function(t){var u,v=this;if(t.phaseID!=null)(function(){var w=v.$SignalsMultiPhaseFlow4(t.phaseID)||0,x=v.state.phaseIndex;if(x!==w)v.setState({phaseIndex:w},function(){var y=this.props,z=y.children,aa=y.onTransition;if(z&&aa)aa(z[x].props.id,z[w].props.id);}.bind(v));})();};s.prototype.shouldComponentUpdate=function(t,u){return c('shallowCompare')(this,t,u);};s.prototype.$SignalsMultiPhaseFlow4=function(t){var u=void 0;if(this.props.children!=null&&t!=null)c('React').Children.map(this.props.children,function(v,w){if(v.props.id===t)u=w;});return u;};s.prototype.render=function(){var t=this.props.children!=null?this.props.children[this.state.phaseIndex]:null,u=null,v=null,w=this.props.isBusy?c('React').createElement('div',{className:"_4rsu"},c('React').createElement(c('AdsSpinnerCover.react'),{show:true})):null,x=this.props.children&&this.props.children.length||0;if(t!=null&&t.props.backButton){var y=function(ma){return this.$SignalsMultiPhaseFlow5(ma,t.props.backButton.props.onClick);}.bind(this),z=babelHelpers['extends']({},t.props.backButton.props,{disabled:t.props.backButton.props.disabled||this.props.isBusy,onClick:y});u=c('React').cloneElement(t.props.backButton,z);}if(t!=null&&t.props.nextButton){var aa=function(ma){return this.$SignalsMultiPhaseFlow6(ma,t.props.nextButton.props.onClick);}.bind(this),ba=babelHelpers['extends']({},t.props.nextButton.props,{disabled:t.props.nextButton.props.disabled||this.props.isBusy,onClick:aa});v=c('React').cloneElement(t.props.nextButton,ba);}var ca=this.props.hideProgress!==true&&this.props.children&&x?c('React').createElement(r,{currentStep:this.state.phaseIndex,labels:o(c('React').Children.map(this.props.children,function(ma){return ma.props.label;}))}):null,da=t&&t.props.hasCancelButton&&this.props.onCancel?c('React').createElement(c('BUIAdoptionButton.react'),{disabled:this.props.isBusy,label:p,onClick:this.$SignalsMultiPhaseFlow7}):null,ea=t!=null&&t.props.header?c('React').createElement('div',{className:"_43ze",ref:'header'},t.props.header):null,fa=t!=null&&t.props.footer?c('React').createElement('div',{className:"_2qpd"},t.props.footer):null,ga="_5wa",ha=void 0;if(t!=null&&t.props.height!=null){ha=t.props.height;}else ha=this.props.height!=null?this.props.height:'auto';var ia=void 0;if(t!=null&&t.props.maxHeight!=null){ia=t.props.maxHeight;}else ia=this.props.maxHeight!=null?this.props.maxHeight:'100%';var ja=fa!=null||u!=null||v!=null?c('React').createElement('div',{className:"_5wb",ref:'footer'},fa,c('React').createElement('div',{className:"_2q8e"},c('React').createElement('div',{className:"_2q8f"},da),c('React').createElement('div',{className:"_5we"},c('React').createElement(c('SUIHorizontalLayout.react'),null,u,v)))):null,ka=t!=null&&t.props.bottomContent?c('React').createElement('div',{className:"_37b5"},t.props.bottomContent):null,la="_5w9"+(ka!=null?' '+"_37b6":'');return (c('React').createElement('div',{className:"_5euf"},c('React').createElement('div',{className:la,ref:'container',style:{height:ha,maxHeight:ia}},ea,c('React').createElement('div',{className:"_43zf"},c('React').createElement('div',{className:ga,ref:'body'},ca,t)),ja,ka,w)));};s.propTypes={children:n.arrayOf(n.element).isRequired,height:n.number,hideProgress:n.bool,isBusy:n.bool,maxHeight:n.number,phaseID:n.string,resizeWait:n.number,onBackOut:n.func,onCancel:n.func,onStepOut:n.func,onTransition:n.func};f.exports=s;}),null);
__d('SignalsUploaderColumnMapperConstants',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({CUSTOM_COLUMN_TYPE_VALUE:'',DEFAULT_COLUMN_TYPE_VALUE:'',ITEM_STATUSES:{MAPPED_RIGHT:'',MAPPED_WITH_ERROR:'',NON_MAPPED:'',PENDING:'',PRE_MAPPED:''},SKIP_ADDITIONAL_INFO_VALUE:'',UNDEFINED_ADDITIONAL_INFO_VALUE:''});f.exports=h;}),null);
__d('SignalDateFormats',[],(function a(b,c,d,e,f,g){'use strict';f.exports=['MM-DD-YYYY','MM/DD/YYYY','MMDDYYYY','DD-MM-YYYY','DD/MM/YYYY','DDMMYYYY','YYYY-MM-DD','YYYY/MM/DD','YYYYMMDD','MM-DD-YY','MM/DD/YY','MMDDYY','DD-MM-YY','DD/MM/YY','DDMMYY','YY-MM-DD','YY/MM/DD','YYMMDD'];}),null);
__d('SignalDateMonthFormats',['SignalDateFormats'],(function a(b,c,d,e,f,g){f.exports=c('SignalDateFormats').concat(['YYMM','MMYY','YYYYMM','MMYYYY','YYYY-MM','MM-YYYY','YY-MM','MM-YY','YYYY/MM','MM/YYYY','YY/MM','MM/YY']);}),null);
__d('SignalsUploaderColumnMapperItemTimeZoneSelector.react',['cx','AdsTimezone','React','XUISelector.react','XUISelectorButton.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('XUISelector.react').Option,l=c('React').Component,m=300,n=c('AdsTimezone').sortedTimezones.filter(function(t){return t.name&&t.name.length;}).map(function(t){return {id:t.id,offset:c('AdsTimezone').timezoneIDToOffsetMap[t.id],subTitle:t.name.replace(/_/g,' '),title:'GMT'+t.offset};}),o=n.reduce(function(t,u,v){if(t[u.offset]==null)t[u.offset]=u.id;return t;},{}),p=o['0'],q=n.reduce(function(t,u,v){t[u.id]=u;return t;},{});i=babelHelpers.inherits(r,l);j=i&&i.prototype;function r(t){j.constructor.call(this,t);s.call(this);var u=t.initiallySelectedTimeZoneOffset,v=u!=null?o[String(u)]:p;this.state={selectedTimeZoneID:v};}r.prototype.render=function(){var t=this.props.hasError,u="_219t"+(t===true?' '+"_4pxm":''),v=this.state.selectedTimeZoneID;return (c('React').createElement(c('XUISelector.react'),{maxheight:m,size:'medium',value:v,onChange:this.$SignalsUploaderColumnMapperItemTimeZoneSelector1},[c('React').createElement(c('XUISelectorButton.react'),{className:u,key:'styledSelectorButton',maxwidth:0})].concat(n.map(function(w){return (c('React').createElement(k,{key:w.id,label:w.title,value:w.id},c('React').createElement('div',{className:"_pc7"},c('React').createElement('div',null,w.title),c('React').createElement('div',{className:"_pc8"},w.subTitle))));}))));};var s=function t(){this.$SignalsUploaderColumnMapperItemTimeZoneSelector1=function(u){var v,w=this,x=this.props.onChange,y=u&&u.value;if(y!=null)(function(){var z=q[y];w.setState({selectedTimeZoneID:y},function(){x(z.offset);});})();}.bind(this);};f.exports=r;}),null);
__d('SignalsUploaderColumnMapperItemDateFormatSelector.react',['cx','fbt','React','XUISelector.react','SignalDateFormats','SignalDateMonthFormats','SignalsUploaderColumnMapperConstants','SignalsUploaderColumnMapperItemTimeZoneSelector.react','XUISelectorButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('XUISelector.react').Option,m=c('SignalsUploaderColumnMapperConstants').SKIP_ADDITIONAL_INFO_VALUE,n=c('SignalsUploaderColumnMapperConstants').UNDEFINED_ADDITIONAL_INFO_VALUE,o=c('React').Component,p=600,q=i._("Choose format"),r=i._("Skip this identifier");j=babelHelpers.inherits(s,o);k=j&&j.prototype;function s(){var t,u;for(var v=arguments.length,w=Array(v),x=0;x<v;x++)w[x]=arguments[x];return u=(t=k.constructor).call.apply(t,[this].concat(w)),this.$SignalsUploaderColumnMapperItemDateFormatSelector1=function(y){var z=this.props,aa=z.selectedTimeZone,ba=z.onChange;ba(y&&y.value,aa||0);}.bind(this),this.$SignalsUploaderColumnMapperItemDateFormatSelector2=function(y){var z=this.props,aa=z.selectedFormat,ba=z.onChange;ba(aa,y);}.bind(this),this.$SignalsUploaderColumnMapperItemDateFormatSelector3=function(y){setTimeout(function(){y&&(this.props.selectedFormat==null||this.props.selectedFormat===n);}.bind(this));}.bind(this),u;}s.prototype.render=function(){var t=this.props,u=t.hasTimeZoneSelector,v=t.hasError,w=t.selectedFormat,x=this.props.allowMonthOnly?c('SignalDateMonthFormats'):c('SignalDateFormats'),y=x.map(function(ca){return (c('React').createElement(l,{key:ca,value:ca},ca));}),z="_219t"+(w===n?' '+"_5ist":'')+(v===true?' '+"_4pxm":'');y.unshift(c('React').createElement(l,{disabled:true,key:n,value:n},q));y.push(c('React').createElement(l,{key:r,value:m},r));y.unshift(c('React').createElement(c('XUISelectorButton.react'),{className:z,key:'styledSelectorButton',maxwidth:0}));var aa=this.props.selectedTimeZone,ba=u?c('React').createElement(c('SignalsUploaderColumnMapperItemTimeZoneSelector.react'),{hasError:v,initiallySelectedTimeZoneOffset:aa,onChange:this.$SignalsUploaderColumnMapperItemDateFormatSelector2}):null;return (c('React').createElement('div',null,c('React').createElement(c('XUISelector.react'),{defaultValue:n,maxheight:p,ref:this.$SignalsUploaderColumnMapperItemDateFormatSelector3,size:'medium',value:w,onChange:this.$SignalsUploaderColumnMapperItemDateFormatSelector1},y),ba));};f.exports=s;}),null);
__d('normalizeSignalsNumberType',['SignalsValidationUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('SignalsValidationUtils').looksLikeHashed,i=c('SignalsValidationUtils').trim;function j(k){var l=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],m=null;if(k!=null)if(h(k)){if(!(l&&l.rejectHashed))m=k;}else{var n=typeof k==='string',o=typeof k==='number';if(n||o){if(n)k=i(k);var p=parseFloat(k);if(!isNaN(k-p)){if(l.round)p=Math.round(p);var q=true;if(l.integer&&Math.floor(p)!==p)q=false;if(q&&l.min!=null&&p<l.min)q=false;if(q&&l.max!=null&&p>l.max)q=false;if(q&&l.lessThan!=null&&p>=l.lessThan)q=false;if(q&&l.moreThan!=null&&p<=l.moreThan)q=false;if(q)m=p;}}}return m;}f.exports=j;}),null);
__d('normalizeSignalsFBIDType',['FBID','normalizeSignalsNumberType','SignalsValidationUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('SignalsValidationUtils').isArray,i=c('SignalsValidationUtils').isString,j='l:';function k(l){var m=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],n=arguments[2],o=null,p=m.rejectHashed,q=m.stripPrefix,r=l;if(q&&i(r)&&r.slice(0,j.length)===j)r=r.substring(j.length);var s=c('normalizeSignalsNumberType')(r,{rejectHashed:p});if(s!=null&&s>0){var t=n,u=m&&m.scoped||null;if(!u)o=s;if(u&&t!=null&&h(t)&&t.length){t=t.filter(function(v){return (c('normalizeSignalsNumberType')(v,{rejectHashed:p})==null);});if(t.length===0)o=s;}}return o;}f.exports=k;}),null);
__d('SignalsUploaderColumnMapperItemNamespaceDefiner.react',['cx','fbt','React','XUITextInput.react','normalizeSignalsFBIDType','debounce'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=500,n=i._("Namespace ID"),o=i._("The namespace ID should be a Facebook ID."),p=30;j=babelHelpers.inherits(q,l);k=j&&j.prototype;function q(s){k.constructor.call(this,s);r.call(this);var t=s.initialValue,u=this.$SignalsUploaderColumnMapperItemNamespaceDefiner1(t),v=u.valid,w=u.normalizedValue;this.state={normalizedValue:w,valid:v,value:t};this.$SignalsUploaderColumnMapperItemNamespaceDefiner2=c('debounce')(this.$SignalsUploaderColumnMapperItemNamespaceDefiner2,m,this);}q.prototype.$SignalsUploaderColumnMapperItemNamespaceDefiner2=function(){var s=this.state,t=s.normalizedValue,u=s.valid;if(u){this.props.onChange(t);}else this.props.onChange(null);};q.prototype.$SignalsUploaderColumnMapperItemNamespaceDefiner1=function(s){var t=c('normalizeSignalsFBIDType')(s);return {valid:s==null||s==''||t!=null,normalizedValue:t};};q.prototype.render=function(){var s=this.state,t=s.valid,u=s.value,v=!t?o:null;return (c('React').createElement('div',{className:"_51ls"},c('React').createElement(c('XUITextInput.react'),{maxLength:p,placeholder:n,value:u!=null?String(u):'',xuiError:v,onChange:this.$SignalsUploaderColumnMapperItemNamespaceDefiner3})));};var r=function s(){this.$SignalsUploaderColumnMapperItemNamespaceDefiner3=function(t){var u=t.target.value,v=this.$SignalsUploaderColumnMapperItemNamespaceDefiner1(u),w=v.valid,x=v.normalizedValue;this.setState({valid:w,normalizedValue:x,value:u},this.$SignalsUploaderColumnMapperItemNamespaceDefiner2());}.bind(this);};f.exports=q;}),null);
__d('SignalTimeFormats',[],(function a(b,c,d,e,f,g){'use strict';f.exports=['ISO8601','unix_time','MM-DD-YYYY','MM/DD/YYYY','MMDDYYYY','DD-MM-YYYY','DD/MM/YYYY','DDMMYYYY','YYYY-MM-DD','YYYY/MM/DD','YYYYMMDD','MM-DD-YY','MM/DD/YY','MMDDYY','DD-MM-YY','DD/MM/YY','DDMMYY','YY-MM-DD','YY/MM/DD','YYMMDD'];}),null);
__d('SignalsUploaderColumnMapperItemTimeFormatSelector.react',['cx','fbt','React','XUISelector.react','SignalTimeFormats','SignalsUploaderColumnMapperConstants','SignalsUploaderColumnMapperItemTimeZoneSelector.react','XUISelectorButton.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('XUISelector.react').Option,m=c('SignalsUploaderColumnMapperConstants').SKIP_ADDITIONAL_INFO_VALUE,n=c('SignalsUploaderColumnMapperConstants').UNDEFINED_ADDITIONAL_INFO_VALUE,o=c('React').Component,p=600,q=i._("Unix time"),r=i._("Choose format"),s=i._("Skip this identifier");j=babelHelpers.inherits(t,o);k=j&&j.prototype;function t(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return v=(u=k.constructor).call.apply(u,[this].concat(x)),this.$SignalsUploaderColumnMapperItemTimeFormatSelector1=function(z){var aa=this.props,ba=aa.selectedTimeZone,ca=aa.onChange;ca(z&&z.value,ba||0);}.bind(this),this.$SignalsUploaderColumnMapperItemTimeFormatSelector2=function(z){var aa=this.props,ba=aa.selectedFormat,ca=aa.onChange;ca(ba,z);}.bind(this),v;}t.prototype.render=function(){var u=this.props,v=u.hasTimeZoneSelector,w=u.hasError,x=u.selectedFormat,y=c('SignalTimeFormats').map(function(da){return (c('React').createElement(l,{key:da,value:da},da==='unix_time'?q:da));}),z="_219t"+(w===true?' '+"_4pxm":'');y.unshift(c('React').createElement(l,{disabled:true,key:n,value:n},r));y.push(c('React').createElement(l,{key:s,value:m},s));y.unshift(c('React').createElement(c('XUISelectorButton.react'),{className:z,key:'styledSelectorButton',maxwidth:0}));var aa=x==null?c('SignalTimeFormats')[0]:x,ba=this.props.selectedTimeZone,ca=v?c('React').createElement(c('SignalsUploaderColumnMapperItemTimeZoneSelector.react'),{hasError:w,initiallySelectedTimeZoneOffset:ba,onChange:this.$SignalsUploaderColumnMapperItemTimeFormatSelector2}):null;return (c('React').createElement('div',null,c('React').createElement(c('XUISelector.react'),{defaultValue:aa,maxheight:p,size:'medium',value:aa,onChange:this.$SignalsUploaderColumnMapperItemTimeFormatSelector1},y),ca));};f.exports=t;}),null);
__d('SignalsUploaderDefaultAdditionalInfos',['SignalBaseTypes','SignalsUploaderColumnMapperConstants','SignalTimeFormats'],(function a(b,c,d,e,f,g){'use strict';var h,i=c('SignalsUploaderColumnMapperConstants').UNDEFINED_ADDITIONAL_INFO_VALUE,j=Math.round(-(new Date().getTimezoneOffset()/60)),k=(h={},h[c('SignalBaseTypes').DATE]=i,h[c('SignalBaseTypes').UNIX_TIME]={timeFormat:c('SignalTimeFormats')[0],timeZone:j},h[c('SignalBaseTypes').TIMESTAMP]={timeFormat:c('SignalTimeFormats')[0],timeZone:j},h);function l(m){var n=null;if(m){var o=m.type,p=m.typeParams;if(o!=null)switch(o){case c('SignalBaseTypes').FBID:if(p&&p.scoped===true)n=i;break;default:n=k[o];}}return n;}f.exports={getDefaultAdditionalInfoForPropSchema:l};}),null);
__d('AdsPromotableAppListStore',['AdsActionTypes','AdsBaseListStore','AdsConnectionObjectUtils','AdsLoadState','AdsPromotableAppListDataManager'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AdsBaseListStore'));i=h&&h.prototype;j.prototype.getDataManager=function(){return c('AdsPromotableAppListDataManager');};j.prototype.$AdsPromotableAppListStoreClass1=function(l){return c('AdsConnectionObjectUtils').isApp(l);};j.prototype.$AdsPromotableAppListStoreClass2=function(l){return l.filter(this.$AdsPromotableAppListStoreClass1);};j.prototype.__onDispatch=function(l){var m=l.action;switch(m.actionType){case c('AdsActionTypes').CONNECTION_OBJECT.LIST.BATCH_LOADED:this.__handleDataFor(m.accountID,this.$AdsPromotableAppListStoreClass2(m.connectionObjects),c('AdsLoadState').LOADED);break;case c('AdsActionTypes').PROMOTABLE_APPLICATION.LIST.BATCH_LOADED:this.__handleDataFor(m.accountID,m.promotableApplications,c('AdsLoadState').LOADED);break;case c('AdsActionTypes').PROMOTABLE_APPLICATION.LOADED:var n=m.accountID,o=m.promotableApplication;this.__handleDataFor(n,[o],c('AdsLoadState').LOADED);break;case c('AdsActionTypes').PROMOTABLE_APPLICATION.LIST.PARTIAL_LOAD:this.__handleDataFor(m.accountID,m.promotableApplications,c('AdsLoadState').LOADING);break;case c('AdsActionTypes').PROMOTABLE_APPLICATION.LIST.BATCH_LOAD_ERROR:this.__handleDataFor(m.accountID,null,c('AdsLoadState').ERROR);break;}};function j(){h.apply(this,arguments);}var k=new j();f.exports=k;}),null);
__d('SignalsUploaderAppIDPicker.react',['cx','fbt','AdsAppTokenizerToken.react','BUIAdoptionXUIGrayText.react','DummySearchSource','Link.react','React','SearchableEntry','URI','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIError.react','XUITokenizer.react','XUITypeaheadTextOnlyView.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=600,m=10;function n(r){return (r===0?i._("Add"):i._("Add {n apps}",[i.param('n apps',r===1?i._("1 app"):i._({"*":"{number} apps"},[i.param('number',r,[0])]))]));}function o(r){var s=r.some(function(u){return u.getAuxiliaryData().invalid;}),t=r.length>0&&!s;return (r.length===0||t?null:i._("One or more of the app IDs cannot be used. Please make sure that you entered a valid ID and are an admin of the app."));}j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(r){k.constructor.call(this,r);q.call(this);var s=r.selectedAppIDs.map(function(t){return (new (c('SearchableEntry'))({uniqueID:t,title:t}));});this.state={appIDEntries:s,searchSource:new (c('DummySearchSource'))(),queryString:''};}p.prototype.render=function(){var r=o(this.state.appIDEntries),s={ViewRenderer:c('XUITypeaheadTextOnlyView.react'),TokenRenderer:c('AdsAppTokenizerToken.react'),useLayer:true};return (c('React').createElement(c('XUIDialog.react'),{className:"_11zf",shown:true,width:this.props.width||l,onToggle:this.$SignalsUploaderAppIDPicker1},c('React').createElement(c('XUIDialogTitle.react'),null,i._("Enter Facebook App IDs")),c('React').createElement(c('XUIDialogBody.react'),{className:"_11zf"},c('React').createElement(c('XUIError.react'),{xuiError:r},c('React').createElement(c('XUITokenizer.react'),{entries:this.state.appIDEntries,limit:m,placeholder:this.$SignalsUploaderAppIDPicker2(),presenter:s,queryString:this.state.queryString,searchSource:this.state.searchSource,tokenizeQueryStringOnBlur:this.$SignalsUploaderAppIDPicker3,onAddEntryAttempt:this.$SignalsUploaderAppIDPicker4,onEnterWithoutSelection:this.$SignalsUploaderAppIDPicker5,onQueryStringChange:this.$SignalsUploaderAppIDPicker6,onRemoveEntryAttempt:this.$SignalsUploaderAppIDPicker7})),c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-8x",display:'block',shade:'light',size:'small'},i._("You can find the IDs of your Facebook apps in the {App Dashboard link}.",[i.param('App Dashboard link',c('React').createElement(c('Link.react'),{href:new (c('URI'))('https://developers.facebook.com/apps'),target:'_blank'},i._("App Dashboard")))]))),this.$SignalsUploaderAppIDPicker8(this.state.appIDEntries)));};p.prototype.$SignalsUploaderAppIDPicker11=function(r,s){var t=r.filter(function(u){return s===u.id;});return t.length>0&&t[0].is_first_party_app===false;};p.prototype.$SignalsUploaderAppIDPicker2=function(){return i._("Enter Facebook app IDs");};p.prototype.$SignalsUploaderAppIDPicker3=function(r){return (r?new (c('SearchableEntry'))({uniqueID:r,title:r}):null);};var q=function r(){this.$SignalsUploaderAppIDPicker8=function(s){var t=s.filter(function(u){return !u.getAuxiliaryData().invalid;}).length;return c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:i._("Cancel"),use:'default',onClick:this.props.onClose}),c('React').createElement(c('XUIDialogButton.react'),{disabled:t===0,label:n(t),use:'confirm',onClick:this.$SignalsUploaderAppIDPicker9}));}.bind(this);this.$SignalsUploaderAppIDPicker10=function(){var s=this.state.appIDEntries.filter(function(t){return !t.getAuxiliaryData().invalid;});this.setState({appIDEntries:s});}.bind(this);this.$SignalsUploaderAppIDPicker1=function(s){if(!s){this.$SignalsUploaderAppIDPicker10();this.props.onClose();}}.bind(this);this.$SignalsUploaderAppIDPicker5=function(event){var s=event.target.value;if(s){var t=this.$SignalsUploaderAppIDPicker3(s);if(t)this.$SignalsUploaderAppIDPicker4(t);}}.bind(this);this.$SignalsUploaderAppIDPicker6=function(event){this.setState({queryString:event.target.value});}.bind(this);this.$SignalsUploaderAppIDPicker9=function(){this.$SignalsUploaderAppIDPicker10();this.props.onAddAppIDs(this.state.appIDEntries.filter(function(s){return !s.getAuxiliaryData().invalid;}).map(function(s){return s.getUniqueID();}));}.bind(this);this.$SignalsUploaderAppIDPicker4=function(s){var t=s.getUniqueID(),u=this.state.appIDEntries,v=u.some(function(x){return x.getUniqueID()===t;});if(v)return;var w=null;if(this.$SignalsUploaderAppIDPicker11(this.props.adAccountApps,t)){w=new (c('SearchableEntry'))({uniqueID:t,title:t,auxiliaryData:{invalid:false}});}else w=new (c('SearchableEntry'))({uniqueID:t,title:t,auxiliaryData:{invalid:true}});u.push(w);this.setState({appIDEntries:u,queryString:''});}.bind(this);this.$SignalsUploaderAppIDPicker7=function(s){var t=this.state.appIDEntries,u=t.indexOf(s);if(u>=0)t.splice(u,1);this.setState({appIDEntries:t});}.bind(this);};f.exports=p;}),null);
__d('SignalsUploaderAppIDPickerContainer.react',['AdsFluxContainer','AdsLoadState','AdsLoadStateUtils','AdsPromotableAppListStore','AdsPromotableAppStore','AdsSelectedAccountIDGetter','FluxStore','React','SignalsUploaderAppIDPicker.react','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.getStores=function(){return [c('AdsPromotableAppListStore'),c('AdsPromotableAppStore')];};k.calculateState=function(l,m){var n=c('nullthrows')(c('AdsSelectedAccountIDGetter').get({})),o=c('AdsPromotableAppListStore').getFor(n),p=c('AdsPromotableAppStore').getAllFor(n,o.list),q=o.loadState===c('AdsLoadState').LOADING||c('AdsLoadStateUtils').anyLoading(p);return {adAccountApps:c('AdsLoadStateUtils').getLoadedValues(p),isLoading:q};};k.prototype.render=function(){if(this.state.isLoading)return null;return (c('React').createElement(c('SignalsUploaderAppIDPicker.react'),{adAccountApps:this.state.adAccountApps,selectedAppIDs:this.props.selectedAppIDs,width:this.props.width,onAddAppIDs:this.props.onAddAppIDs,onClose:this.props.onClose}));};function k(){h.apply(this,arguments);}f.exports=c('AdsFluxContainer').create(k,{withProps:true});}),null);
__d('SignalsUploaderPageIDPicker.react',['cx','fbt','AdsAppTokenizerToken.react','BUIAdoptionXUIGrayText.react','DummySearchSource','Link.react','React','SearchableEntry','URI','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','XUIError.react','XUITokenizer.react','XUITypeaheadTextOnlyView.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=600,m=10;function n(r){return (r===0?i._("Add"):i._("Add {n pages}",[i.param('n pages',r===1?i._("1 Page"):i._({"*":"{number} Pages"},[i.param('number',r,[0])]))]));}function o(r){var s=r.some(function(u){return u.getAuxiliaryData().invalid;}),t=r.length>0&&!s;return (r.length===0||t?null:i._("One or more of the Page IDs cannot be used. Please make sure that you have entered a valid ID and are an admin of the Page."));}j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(r){k.constructor.call(this,r);q.call(this);var s=r.selectedPageIDs.map(function(t){return (new (c('SearchableEntry'))({uniqueID:t,title:t}));});this.state={pageIDEntries:s,searchSource:new (c('DummySearchSource'))(),queryString:''};}p.prototype.render=function(){var r=o(this.state.pageIDEntries),s={ViewRenderer:c('XUITypeaheadTextOnlyView.react'),TokenRenderer:c('AdsAppTokenizerToken.react'),useLayer:true};return (c('React').createElement(c('XUIDialog.react'),{className:"_11zf",shown:true,width:this.props.width||l,onToggle:this.$SignalsUploaderPageIDPicker1},c('React').createElement(c('XUIDialogTitle.react'),null,i._("Enter Facebook Page IDs")),c('React').createElement(c('XUIDialogBody.react'),{className:"_11zf"},c('React').createElement(c('XUIError.react'),{xuiError:r},c('React').createElement(c('XUITokenizer.react'),{entries:this.state.pageIDEntries,limit:m,placeholder:this.$SignalsUploaderPageIDPicker2(),presenter:s,queryString:this.state.queryString,searchSource:this.state.searchSource,tokenizeQueryStringOnBlur:this.$SignalsUploaderPageIDPicker3,onAddEntryAttempt:this.$SignalsUploaderPageIDPicker4,onEnterWithoutSelection:this.$SignalsUploaderPageIDPicker5,onQueryStringChange:this.$SignalsUploaderPageIDPicker6,onRemoveEntryAttempt:this.$SignalsUploaderPageIDPicker7})),c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{className:"_3-8x",display:'block',shade:'light',size:'small'},i._("You can find the IDs of your Facebook Pages in the {Page bookmarks link}.",[i.param('Page bookmarks link',c('React').createElement(c('Link.react'),{href:new (c('URI'))('https://www.facebook.com/bookmarks/pages'),target:'_blank'},i._("Page bookmarks")))]))),this.$SignalsUploaderPageIDPicker8(this.state.pageIDEntries)));};p.prototype.$SignalsUploaderPageIDPicker11=function(r,s){var t=r.filter(function(u){return s===u.id;});return t.length>0;};p.prototype.$SignalsUploaderPageIDPicker2=function(){return i._("Enter Facebook Page IDs");};p.prototype.$SignalsUploaderPageIDPicker3=function(r){return (r?new (c('SearchableEntry'))({uniqueID:r,title:r}):null);};var q=function r(){this.$SignalsUploaderPageIDPicker8=function(s){var t=s.filter(function(u){return !u.getAuxiliaryData().invalid;}).length;return c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:i._("Cancel"),use:'default',onClick:this.props.onClose}),c('React').createElement(c('XUIDialogButton.react'),{disabled:t===0,label:n(t),use:'confirm',onClick:this.$SignalsUploaderPageIDPicker9}));}.bind(this);this.$SignalsUploaderPageIDPicker10=function(){var s=this.state.pageIDEntries.filter(function(t){return !t.getAuxiliaryData().invalid;});this.setState({pageIDEntries:s});}.bind(this);this.$SignalsUploaderPageIDPicker1=function(s){if(!s){this.$SignalsUploaderPageIDPicker10();this.props.onClose();}}.bind(this);this.$SignalsUploaderPageIDPicker5=function(event){var s=event.target.value;if(s){var t=this.$SignalsUploaderPageIDPicker3(s);if(t)this.$SignalsUploaderPageIDPicker4(t);}}.bind(this);this.$SignalsUploaderPageIDPicker6=function(event){this.setState({queryString:event.target.value});}.bind(this);this.$SignalsUploaderPageIDPicker9=function(){this.$SignalsUploaderPageIDPicker10();this.props.onAddPageIDs(this.state.pageIDEntries.filter(function(s){return !s.getAuxiliaryData().invalid;}).map(function(s){return s.getUniqueID();}));}.bind(this);this.$SignalsUploaderPageIDPicker4=function(s){var t=s.getUniqueID(),u=this.state.pageIDEntries,v=u.some(function(x){return x.getUniqueID()===t;});if(v)return;var w=null;if(this.$SignalsUploaderPageIDPicker11(this.props.adAccountPages,t)){w=new (c('SearchableEntry'))({uniqueID:t,title:t,auxiliaryData:{invalid:false}});}else w=new (c('SearchableEntry'))({uniqueID:t,title:t,auxiliaryData:{invalid:true}});u.push(w);this.setState({pageIDEntries:u,queryString:''});}.bind(this);this.$SignalsUploaderPageIDPicker7=function(s){var t=this.state.pageIDEntries,u=t.indexOf(s);if(u>=0)t.splice(u,1);this.setState({pageIDEntries:t});}.bind(this);};f.exports=p;}),null);
__d('SignalsUploaderPageIDPickerContainer.react',['AdsFluxContainer','AdsLoadState','AdsLoadStateUtils','AdsPromotablePageListStore','AdsPromotablePageStore','AdsSelectedAccountIDGetter','FluxStore','React','SignalsUploaderPageIDPicker.react','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').Component;h=babelHelpers.inherits(k,j);i=h&&h.prototype;k.getStores=function(){return [c('AdsPromotablePageListStore'),c('AdsPromotablePageStore')];};k.calculateState=function(l,m){var n=c('nullthrows')(c('AdsSelectedAccountIDGetter').get({})),o=c('AdsPromotablePageListStore').getFor(n),p=c('AdsPromotablePageStore').getAllFor(n,o.list),q=o.loadState===c('AdsLoadState').LOADING||c('AdsLoadStateUtils').anyLoading(p);return {adAccountPages:c('AdsLoadStateUtils').getLoadedValues(p),isLoading:q};};k.prototype.render=function(){if(this.state.isLoading)return null;return (c('React').createElement(c('SignalsUploaderPageIDPicker.react'),{adAccountPages:this.state.adAccountPages,selectedPageIDs:this.props.selectedPageIDs,width:this.props.width,onAddPageIDs:this.props.onAddPageIDs,onClose:this.props.onClose}));};function k(){h.apply(this,arguments);}f.exports=c('AdsFluxContainer').create(k,{withProps:true});}),null);
__d('SignalsUploaderIDAdditionalInfo.react',['cx','fbt','IdentityMatchKeyEnum','Link.react','React','SignalsUploaderAppIDPickerContainer.react','SignalsUploaderPageIDPickerContainer.react','SignalsUploaderColumnMapperConstants'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('SignalsUploaderColumnMapperConstants').UNDEFINED_ADDITIONAL_INFO_VALUE,m=c('React').Component,n=i._("Enter Facebook app IDs"),o=i._("Enter Facebook Page IDs"),p=i._("Edit"),q=i._("1 Facebook app"),r=i._("1 Facebook Page");function s(u,v,w){var x=u===c('IdentityMatchKeyEnum').PAGEUID?o:n,y=u===c('IdentityMatchKeyEnum').PAGEUID?r:q,z=u===c('IdentityMatchKeyEnum').PAGEUID?i._("Facebook Pages"):i._("Facebook apps");return (v===0?c('React').createElement(c('Link.react'),{onClick:w},x):c('React').createElement('div',null,i._("From {n apps\/pages}",[i.param('n apps/pages',v===1?y:i._({"*":"{number}{title}"},[i.param('number',v,[0]),i.param('title',z)]))]),c('React').createElement(c('Link.react'),{className:"_brw",onClick:w},p)));}j=babelHelpers.inherits(t,m);k=j&&j.prototype;function t(u){k.constructor.call(this,u);this.$SignalsUploaderIDAdditionalInfo1=function(w){this.setState({selectedIDs:w});this.props.onChange(w);this.$SignalsUploaderIDAdditionalInfo2();}.bind(this);this.$SignalsUploaderIDAdditionalInfo3=function(){this.setState({shown:true});}.bind(this);this.$SignalsUploaderIDAdditionalInfo2=function(){this.setState({shown:false});}.bind(this);var v=u.selectedIDs;this.state={shown:false,selectedIDs:v&&v!==l?v:[]};}t.prototype.render=function(){var u=this.state.shown?this.props.selectedColumn===c('IdentityMatchKeyEnum').PAGEUID?c('React').createElement(c('SignalsUploaderPageIDPickerContainer.react'),{selectedPageIDs:this.state.selectedIDs,onAddPageIDs:this.$SignalsUploaderIDAdditionalInfo1,onClose:this.$SignalsUploaderIDAdditionalInfo2}):c('React').createElement(c('SignalsUploaderAppIDPickerContainer.react'),{selectedAppIDs:this.state.selectedIDs,onAddAppIDs:this.$SignalsUploaderIDAdditionalInfo1,onClose:this.$SignalsUploaderIDAdditionalInfo2}):null;return c('React').createElement('div',null,c('React').createElement('div',{className:this.props.className},s(this.props.selectedColumn,this.state.selectedIDs.length,this.$SignalsUploaderIDAdditionalInfo3)),u);};f.exports=t;}),null);
__d('SignalsUploaderColumnMapperItemAdditionalInfo.react',['cx','SignalsUploaderColumnMapperItemDateFormatSelector.react','React','SignalBaseTypes','SignalsUploaderColumnMapperConstants','SignalsUploaderColumnMapperItemNamespaceDefiner.react','SignalsUploaderDefaultAdditionalInfos','SignalsUploaderIDAdditionalInfo.react','SignalsUploaderColumnMapperItemTimeFormatSelector.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('SignalsUploaderDefaultAdditionalInfos').getDefaultAdditionalInfoForPropSchema,l=c('SignalsUploaderColumnMapperConstants').SKIP_ADDITIONAL_INFO_VALUE,m=c('React').PureComponent;i=babelHelpers.inherits(n,m);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$SignalsUploaderColumnMapperItemAdditionalInfo1=function(t,u){var v=this.props.onChange;v(t===l?l:{timeFormat:t,timeZone:u});}.bind(this),p;}n.prototype.render=function(){var o=this.props,p=o.additionalInfo,q=o.customTypeDefinition,r=o.errored,s=o.schemaSummary,t=o.selectedColumn,u=o.onChange,v=q?q.baseType:s.typesForSimplePropPaths[t],w=s.keysForSimplePropPaths[t],x=s.schemasForSimplePropsInSchema,y=x[t],z=null;switch(v){case c('SignalBaseTypes').UNIX_TIME:var aa=p||{},ba=aa.timeFormat,ca=aa.timeZone;if(p===l){ba=l;var da=k(y)||{};ca=da.timeZone;}z=c('React').createElement(c('SignalsUploaderColumnMapperItemTimeFormatSelector.react'),{hasError:r,hasTimeZoneSelector:p!==l,ref:'dateFormatSelector',selectedFormat:ba,selectedTimeZone:ca,onChange:this.$SignalsUploaderColumnMapperItemAdditionalInfo1});break;case c('SignalBaseTypes').DATE:case c('SignalBaseTypes').DATE_MONTH:z=c('React').createElement(c('SignalsUploaderColumnMapperItemDateFormatSelector.react'),{allowMonthOnly:v===c('SignalBaseTypes').DATE_MONTH,hasError:r,ref:'dateFormatSelector',selectedFormat:p,onChange:u});break;case c('SignalBaseTypes').FBID:z=c('React').createElement(c('SignalsUploaderIDAdditionalInfo.react'),{className:"_3-8y",selectedColumn:t,selectedIDs:p,onChange:u});break;default:z=null;}if(w==='extern_id')z=c('React').createElement(c('SignalsUploaderColumnMapperItemNamespaceDefiner.react'),{initialValue:p,onChange:u});return z;};f.exports=n;}),null);
__d('SignalsUploaderColumnMapperItemColumnDefiner.react',['cx','fbt','immutable','Keys','React','XUISelector.react','SignalBaseTypeDescriptions','SignalBaseTypes','XUISelectorButton.react','XUITextInput.react','debounce'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('XUISelector.react').Option,m=c('React').PropTypes,n=c('immutable').List,o=c('React').Component,p=500,q=Object.keys(c('SignalBaseTypeDescriptions')).filter(function(y){var z=c('SignalBaseTypeDescriptions')[y];return z.noUI!==true;}).sort(),r=i._("Column label"),s=i._("Column label is already taken. Please choose a different label."),t=i._("Column label cannot be empty."),u=c('SignalBaseTypes').STRING,v=450,w=30;j=babelHelpers.inherits(x,o);k=j&&j.prototype;function x(y){k.constructor.call(this,y);this.$SignalsUploaderColumnMapperItemColumnDefiner1=function(){var z=this.state,aa=z.baseType,ba=z.key;this.props.onChange(ba,aa);}.bind(this);this.$SignalsUploaderColumnMapperItemColumnDefiner2=function(){this.setState({wasBlurred:true});}.bind(this);this.$SignalsUploaderColumnMapperItemColumnDefiner3=function(z){if(z.keyCode===c('Keys').RETURN)this.setState({wasBlurred:true},function(){return this.$SignalsUploaderColumnMapperItemColumnDefiner1();}.bind(this));}.bind(this);this.$SignalsUploaderColumnMapperItemColumnDefiner4=function(z){this.setState({key:z.target.value},this.$SignalsUploaderColumnMapperItemColumnDefiner1());}.bind(this);this.$SignalsUploaderColumnMapperItemColumnDefiner5=function(z){this.setState({baseType:z&&z.value},function(){return this.$SignalsUploaderColumnMapperItemColumnDefiner1();}.bind(this));}.bind(this);this.$SignalsUploaderColumnMapperItemColumnDefiner6=function(z){if(z!=null&&!this.state.wasBlurred&&!this.state.key)z.focusInput();}.bind(this);this.state={baseType:y.initialBaseType||u,key:y.initialKey||'',wasBlurred:false};this.$SignalsUploaderColumnMapperItemColumnDefiner1=c('debounce')(this.$SignalsUploaderColumnMapperItemColumnDefiner1,p,this);}x.prototype.render=function(){var y=q.map(function(ca){return (c('React').createElement(l,{key:ca,value:ca},c('SignalBaseTypeDescriptions')[ca].label));}),z="_219t"+(this.props.parentIsErrored===true?' '+"_4pxm":'');y.unshift(c('React').createElement(c('XUISelectorButton.react'),{className:z,key:'styledSelectorButton',maxwidth:0}));var aa=null;if(this.state.wasBlurred)if(!this.state.key){aa=c('React').createElement('span',null,t);}else if(this.props.takenCustomColumnNames.contains(this.state.key))aa=c('React').createElement('span',null,s);var ba="_5q54"+(this.props.parentIsErrored===true?' '+"_5q55":'');return (c('React').createElement('div',{className:ba},c('React').createElement(c('XUITextInput.react'),{maxLength:w,placeholder:r,ref:this.$SignalsUploaderColumnMapperItemColumnDefiner6,value:this.state.key,xuiError:aa,onBlur:this.$SignalsUploaderColumnMapperItemColumnDefiner2,onChange:this.$SignalsUploaderColumnMapperItemColumnDefiner4,onEnter:this.$SignalsUploaderColumnMapperItemColumnDefiner3}),c('React').createElement(c('XUISelector.react'),{defaultValue:u,maxheight:v,size:'medium',value:this.state.baseType,onChange:this.$SignalsUploaderColumnMapperItemColumnDefiner5},y)));};x.propTypes={initialBaseType:m.string,initialKey:m.string,parentIsErrored:m.bool,takenCustomColumnNames:m.instanceOf(n).isRequired,onChange:m.func.isRequired};f.exports=x;}),null);
__d('SignalsUploaderColumnMapperItem.react',['cx','fbt','ix','AdsRichSelector.react','BUIAdoptionXUIGrayText.react','SignalsUploaderColumnMapperItemColumnDefiner.react','immutable','React','SignalsPropDescriptors','SignalsPropExampleCard.react','SignalsPropExampleCardListTitles','SignalsTooltipInfo.react','SignalsUploaderColumnMapperConstants','SignalsUploaderColumnMapperItemAdditionalInfo.react','SignalsUploaderDefaultAdditionalInfos','WeightedLookalikeConfig','intlList','shallowCompare'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('AdsRichSelector.react').Option,n=c('AdsRichSelector.react').OptionGroup,o=c('AdsRichSelector.react').Separator,p=c('immutable').List,q=c('immutable').Map,r=c('immutable').OrderedMap,s=c('SignalsPropDescriptors').getPropLabel,t=c('SignalsUploaderDefaultAdditionalInfos').getDefaultAdditionalInfoForPropSchema,u=c('SignalsUploaderColumnMapperConstants').SKIP_ADDITIONAL_INFO_VALUE,v=j("23672"),w=c('SignalsPropExampleCardListTitles').TITLES,x=c('SignalsUploaderColumnMapperConstants').CUSTOM_COLUMN_TYPE_VALUE,y=c('SignalsUploaderColumnMapperConstants').DEFAULT_COLUMN_TYPE_VALUE,z=c('SignalsUploaderColumnMapperConstants').ITEM_STATUSES,aa=c('React').Component,ba=100,ca=1000,da=600,ea=144,fa='wlal_pii_schema',ga=i._("Do not upload"),ha=i._("Add custom type");function ia(la,ma){return la===1?i._("We only support adding 1 {propLabel} identifier per file upload.",[i.param('propLabel',ma)]):i._({"*":"We only support adding {maxOccurrence} {propLabel} identifiers per file upload."},[i.param('maxOccurrence',la,[0]),i.param('propLabel',ma)]);}var ja={NON_MAPPED:{description:i._("This data isn't mapped. If you choose not to map a data type, it won't be uploaded and used."),iconURL:j("23677")},PRE_MAPPED:{description:i._("This data has been mapped in the previous step."),iconURL:j("23662")},MAPPED_WITH_ERROR:{description:i._("Your data isn't formatted correctly. Please use the formatting guidelines for this identifier to format data so it can be mapped and uploaded."),iconURL:j("23686")},MAPPED_RIGHT:{description:i._("This data has been mapped. Mapped data will be hashed and uploaded to use for matching your customers to people on Facebook."),iconURL:j("23662")},PENDING:{description:i._("Sampling data."),iconURL:j("23693")}};k=babelHelpers.inherits(ka,aa);l=k&&k.prototype;function ka(la){l.constructor.call(this,la);this.$SignalsUploaderColumnMapperItem1=function(ma){var na=this.props,oa=na.onChange,pa=na.schemaSummary,qa=na.index,ra=ma&&ma.value&&ma.value!==y?ma.value:null,sa=pa.schemasForSimplePropsInSchema,ta=sa[ra],ua=t(ta);this.setState({status:z.PENDING},function(){setTimeout(function(){if(oa)oa(qa,ra,null,ua);},ba);});}.bind(this);this.$SignalsUploaderColumnMapperItem2=function(ma,na){this.$SignalsUploaderColumnMapperItem3(ma===u?u:{timeFormat:ma,timeZone:na});}.bind(this);this.$SignalsUploaderColumnMapperItem3=function(ma){var na=this.props,oa=na.selectedColumn,pa=na.onChange;this.setState({status:z.PENDING},function(){setTimeout(function(){if(pa&&oa!=null)this.props.onChange(this.props.index,oa,this.props.customTypes.get(String(this.props.index)),ma);}.bind(this),ba);}.bind(this));if(this.props.onAdditionalInfoChange)this.props.onAdditionalInfoChange(oa,ma);}.bind(this);this.$SignalsUploaderColumnMapperItem4=function(ma,na){var oa=this.props,pa=oa.selectedColumn,qa=oa.onChange;this.setState({status:z.PENDING},function(){setTimeout(function(){if(qa&&pa!=null){var ra='extraPropsCollector.'+ma;this.props.onChange(this.props.index,pa,{baseType:na,key:ma,path:ra},this.props.additionalInfo);}}.bind(this),ba);}.bind(this));}.bind(this);this.state={status:la.status};}ka.prototype.componentWillReceiveProps=function(la){if(la.status!==this.state.status)this.setState({status:la.status});};ka.prototype.shouldComponentUpdate=function(la,ma){return c('shallowCompare')(this,la,ma);};ka.prototype.render=function(){var la=this.props.schemaSummary.extraPropsCollectors&&this.props.schemaSummary.extraPropsCollectors.length>0?this.props.schemaSummary.extraPropsCollectors[0]:null,ma=la!=null,na=null,oa=false;switch(this.state.status){case z.MAPPED_RIGHT:na=ja.MAPPED_RIGHT;break;case z.MAPPED_WITH_ERROR:oa=true;na=ja.MAPPED_WITH_ERROR;break;case z.NON_MAPPED:na=ja.NON_MAPPED;break;default:case z.PENDING:na=ja.PENDING;break;}var pa=na!=null?c('React').createElement(c('SignalsTooltipInfo.react'),{iconURL:na.iconURL,message:na.description,noHorizontalMargin:true,position:'above'}):null,qa=this.props.selectedColumn||y,ra=this.props.availableColumns;if(c('WeightedLookalikeConfig').can_account_use_weighted_datafile)ra=ra['delete'](fa);var sa=ra.map(function(jb,kb){return (c('React').createElement(n,{className:"_17ss",defaultValue:qa,key:kb,requireSelection:false},c('React').createElement(o,{label:this.props.availableColumns.size>1?w[kb]||kb:null}),jb.map(function(lb,mb){var nb=lb.additionalInfoURL,ob=lb.maxOccurrence,pb=lb.occurrence,qb=lb.propSchema,rb=pb>=ob,sb=s(qb),tb=null;if(mb===qa){tb=c('React').createElement(c('SignalsTooltipInfo.react'),{className:"_17st",dynamicOffset:true,message:c('React').createElement(c('SignalsPropExampleCard.react'),{additionalInfoURL:nb,propSchema:qb}),noHorizontalMargin:true,textBlock:sb});}else tb=rb?c('React').createElement('div',{className:"_mq2"},sb,c('React').createElement(c('SignalsTooltipInfo.react'),{iconURL:v,message:ia(ob,sb)})):c('React').createElement(c('SignalsTooltipInfo.react'),{className:"_17st",dynamicOffset:true,message:c('React').createElement(c('SignalsPropExampleCard.react'),{additionalInfoURL:nb,propSchema:qb}),noHorizontalMargin:true,textBlock:sb});return (c('React').createElement(m,{clickable:!(rb&&qa!==mb),key:mb,label:sb,value:mb},tb));}).toArray()));}.bind(this)).toArray(),ta=[];ta.push(c('React').createElement(m,{key:y,label:ga,value:y},ga));if(ma)ta.push(c('React').createElement(m,{key:x,label:ha,value:x},ha));var ua=this.props.selectedColumn===x,va=this.props.customTypes.get(String(this.props.index)),wa=ua?c('React').createElement(c('SignalsUploaderColumnMapperItemColumnDefiner.react'),{initialBaseType:va&&va.baseType,initialKey:va&&va.key,parentIsErrored:oa,takenCustomColumnNames:this.props.customTypes.map(function(jb){return jb!=null?jb.key:'';}).filter(function(jb,kb){return (kb!==String(this.props.index)&&jb!='');}.bind(this)).toList(),onChange:this.$SignalsUploaderColumnMapperItem4}):null,xa=this.props,ya=xa.customAdditionalInfoInputComponent,za=xa.additionalInfo,ab=xa.schemaSummary,bb=xa.selectedColumn,cb=this.$SignalsUploaderColumnMapperItem3,db=c('React').createElement(ya?ya:c('SignalsUploaderColumnMapperItemAdditionalInfo.react'),{additionalInfo:za,customTypeDefinition:va,errored:oa,schemaSummary:ab,selectedColumn:bb,onChange:cb}),eb=db!=null?c('React').createElement('div',{className:"_4pxn"},db):null,fb=(this.props.selectedColumn==null?"_5ist":'')+(oa?' '+"_4pxm":''),gb=this.props.previewAndSampleSize!=null?this.props.previewAndSampleSize:ca,hb=c('React').createElement('div',{className:"_47qb",key:'empty'},c('React').createElement(c('SignalsTooltipInfo.react'),{message:c('React').createElement('div',{className:"_r63"},i._("No rows available to preview before row {rowNumber} from file.",[i.param('rowNumber',gb)])),noHorizontalMargin:true,position:'above',textBlock:'Empty row'})),ib=this.props.samples.map(function(jb,kb){return (c('React').createElement('div',{className:"_23dy",key:kb},c('React').createElement(c('SignalsTooltipInfo.react'),{message:c('React').createElement('div',{className:"_r63"},c('React').createElement('div',{className:"_r64"},i._("Row {rowNumber}",[i.param('rowNumber',kb+1)])),jb),noHorizontalMargin:true,position:'above',textBlock:jb})));}).toArray();if(this.props.samples.size===1)ib.push(hb);if(this.state.status===z.PRE_MAPPED)return this.$SignalsUploaderColumnMapperItem5();return (c('React').createElement('div',{className:"_23dv"},c('React').createElement('div',{className:"_29f9"+(this.state.status===z.MAPPED_RIGHT?' '+"_29fa":'')}),c('React').createElement('div',{className:"_23dx"},ib),c('React').createElement('div',{className:"_1trt"},pa),c('React').createElement('div',{className:"_4pxp"},c('React').createElement('div',{className:"_1tru"},c('React').createElement(c('AdsRichSelector.react'),{className:fb,defaultValue:qa,key:this.props.selectedColumn,maxheight:da,maxwidth:ea,size:'medium',onChange:this.$SignalsUploaderColumnMapperItem1},ta,sa)),wa,eb)));};ka.prototype.$SignalsUploaderColumnMapperItem5=function(){var la=this.props,ma=la.schemaSummary,na=la.selectedColumn,oa=ma.schemasForSimplePropsInSchema[na].label,pa=c('intlList')(this.props.samples.valueSeq().toArray(),c('intlList').CONJUNCTIONS.NONE),qa=c('React').createElement(c('SignalsTooltipInfo.react'),{iconURL:ja.PRE_MAPPED.iconURL,message:ja.PRE_MAPPED.description,noHorizontalMargin:true,position:'above'});return (c('React').createElement('div',{className:"_23dv"},c('React').createElement('div',{className:"_29f9"+(' '+"_29fa")}),c('React').createElement('div',{className:"_23dx"},pa),c('React').createElement('div',{className:"_2pbk"},qa),c('React').createElement('div',{className:"_4pxp"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'small',weight:'bold'},oa))));};f.exports=ka;}),null);
__d('getSignalsSchemaSummary',['SignalsValidationUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('SignalsValidationUtils').hasProp,i=c('SignalsValidationUtils').isArray,j='pii_keys';function k(m){var n,o=arguments.length<=1||arguments[1]===undefined?'':arguments[1],p=m.additionalInfoURL,q=m.exampleFiles,r=m.id,s=[],t=[],u=[],v={},w={},x={},y={},z={},aa={},ba={},ca=[],da={},ea=o?o+'.':'',fa=m.type;if(fa!=null&&m.id!=null){da[fa]=da[fa]||[];da[fa].push(m.id);}if(m.props!=null&&i(m.props))for(var ga=0;ga<m.props.length;ga++){var ha=m.props[ga],ia=ha.key;if(typeof ha==='object'&&ia!=null){var ja=ha.type,ka=ea+ia;if(ja&&ja.canHaveExtraProps)u.push(ka);if(typeof ja==='object'){(function(){var la=k(ja,ia);s.push.apply(s,la.allSimplePropKeysInSchema);t.push.apply(t,la.noUISimplePropKeysInSchema);u.push.apply(u,la.extraPropsCollectors);v=babelHelpers['extends']({},v,la.schemasForSimplePropsInSchema);w=babelHelpers['extends']({},w,la.typesForSimplePropKeys);x=babelHelpers['extends']({},x,la.typesForSimplePropPaths);y=babelHelpers['extends']({},y,la.keysForSimplePropPaths);z=babelHelpers['extends']({},z,la.pathForSimplePropKeys);ba=babelHelpers['extends']({},ba,la.keysForSubschemasWithID);for(var ma in la.keysForSimplePropsTypesInSchema)if(h(la.keysForSimplePropsTypesInSchema,ma)){var na;aa[ma]=aa[ma]||[];(na=aa[ma]).push.apply(na,la.keysForSimplePropsTypesInSchema[ma]);}ca.push.apply(ca,la.piiKeys);var oa=Object.keys(la.subschemasByType);oa.forEach(function(pa){var qa;da[pa]=da[pa]||[];(qa=da[pa]).push.apply(qa,la.subschemasByType[pa]);});})();}else{s.push(ia);if(ha.noUI)t.push(ia);v[ia]=ha;w[ia]=ja;x[ka]=ja;y[ka]=ia;z[ia]=ka;if(ja!=null){aa[ja]=aa[ja]||[];aa[ja].push(ia);}if(r!=null){ba[r]=ba[r]||[];ba[r].push(ia);}if(m.type===j)ca.push(ia);}}}return {id:r,additionalInfoURL:p,exampleFiles:q,allSimplePropKeysInSchema:s,noUISimplePropKeysInSchema:t,extraPropsCollectors:u,schemasForSimplePropsInSchema:v,typesForSimplePropKeys:w,typesForSimplePropPaths:x,keysForSimplePropPaths:y,pathForSimplePropKeys:z,keysForSimplePropsTypesInSchema:aa,keysForSubschemasWithID:ba,piiKeys:ca,subschemasByType:da,validIf:m.validIf};}function l(m){return k(m);}f.exports=l;}),null);
__d('SignalsUploaderUtils',['SignalsBasicPIISchema','SignalsEventDataSchema','SignalsExtendedPIISchema','immutable','SignalsPeopleDataSchema','SignalsPixelDataSchema','SignalsUploaderColumnMapperConstants','SignalsUploaderErrorUtils','SignalsValidationUtils','getSignalsSchemaSummary'],(function a(b,c,d,e,f,g){'use strict';var h=.95,i=c('SignalsUploaderErrorUtils').getErrorSummary,j=c('SignalsValidationUtils').isString,k=c('immutable').Map,l=c('immutable').List,m=c('SignalsUploaderColumnMapperConstants').CUSTOM_COLUMN_TYPE_VALUE,n=c('SignalsUploaderColumnMapperConstants').ITEM_STATUSES,o=c('SignalsUploaderColumnMapperConstants').SKIP_ADDITIONAL_INFO_VALUE,p=c('SignalsUploaderColumnMapperConstants').UNDEFINED_ADDITIONAL_INFO_VALUE;function q(x){var y={};for(var z=0;z<x.length;z++)y[z]=x[z];return y;}function r(x,y){var z=c('getSignalsSchemaSummary')(y),aa=z.pathForSimplePropKeys,ba=z.extraPropsCollectors[0],ca={};x.forEach(function(da,ea){var fa=void 0;if(j(da))if(aa[da]){fa=aa[da];}else if(ba!=null)fa=ba+'.'+da;if(fa)ca[ea]=fa;});return ca;}function s(x){if(typeof x==='number')return 8;if(typeof x==='boolean')return 4;if(typeof x==='string'){var y=0;for(var z=0;z<x.length;z++){var aa=x.charCodeAt(z);if(aa<128){y+=1;}else if(aa<2048){y+=2;}else if(aa<65536){y+=3;}else if(aa<2097152){y+=4;}else if(aa<67108864){y+=5;}else y+=6;}return y;}return 1;}function t(x){var y={mappings:[],values:[]};if(x!=null){y.mappings=Object.keys(x);for(var z=0;z<y.mappings.length;z++)y.values.push(x[y.mappings[z]]);}return y;}function u(x,y,z){var aa=JSON.parse(JSON.stringify(x));z.forEach(function(ba,ca){aa[ca+y]=ba;});return aa;}function v(x,y,z,aa,ba){var ca=x.map(function(fa,ga){var ha=z.get(String(ga)),ia=void 0;if(!ba||ba.get(ga)!==n.MAPPED_WITH_ERROR){if(fa===m){var ja=y.get(String(ga));ia=ja&&ja.key?ja.key:undefined;}else if(ha!==o&&ha!==p)ia=aa.keysForSimplePropPaths[fa];return ia;}}),da=z.reduce(function(fa,ga,ha){var ia=aa.keysForSimplePropPaths[x.get(Number(ha))];return (ia&&ga!==o&&ga!==p?fa.set(ia,ga):fa);},k()),ea=k(y.reduce(function(fa,ga){fa[ga.key]=ga;return fa;},{}));return {mapping:ca,infoForNormalization:da,customTypeInfos:ea};}function w(x,y,z,aa,ba,ca){var da=arguments.length<=6||arguments[6]===undefined?h:arguments[6],ea=arguments.length<=7||arguments[7]===undefined?[]:arguments[7],fa=y;while(fa.size<x)fa=fa.push(undefined);var ga=void 0,ha=ba.size,ia=i(ba.toArray());if(ha>0){ga=fa.map(function(ma,na){if(ca&&ca.includes(na))return n.PRE_MAPPED;if(ma===m){var oa=aa.get(String(na));if(oa==null||oa.key==null||oa.key==='')return n.NON_MAPPED;}var pa=z.get(String(na));if(ma==null||pa===p||pa===o)return n.NON_MAPPED;var qa=(ia.invalidColumns.get(String(na))||{count:0}).count,ra=Math.max(1,Math.round(da*ha));if(qa<ra||ea.indexOf(ma)>-1&&qa<ha){return n.MAPPED_RIGHT;}else return n.MAPPED_WITH_ERROR;});}else ga=l();var ja=0,ka=0,la=0;ga.forEach(function(ma){ja+=ma===n.MAPPED_RIGHT;ka+=ma===n.MAPPED_WITH_ERROR;la+=ma===n.NON_MAPPED;});return {mapping:fa,columnStatuses:ga,mappedRightColumns:ja,mappedWithErrorColumns:ka,nonMappedColumns:la,errorSummary:ia,sampleNormalizationResults:ba};}f.exports={arrayToObject:q,getArgumentsForNormalizationFromColumnMapping:v,getByteLength:s,getColumnStatuses:w,getMappingWithPreset:u,getPresetValueConfigFromObject:t,getPropKeysForTypes:r,COLUMN_MAPPING_ERROR_THRESHOLD:h};}),null);
__d('SignalsUploaderColumnMapper.react',['cx','immutable','React','SignalsUILogger','SignalsUploaderColumnMapperConstants','SignalsUploaderColumnMapperItem.react','SignalsUploaderFlowConstants','SignalsUploaderLoggingEvents','SignalsUploaderUtils'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('SignalsUploaderUtils').getColumnStatuses,l=c('immutable').List,m=c('immutable').Map,n=c('immutable').OrderedMap,o=c('React').PropTypes,p=c('SignalsUploaderFlowConstants').UPLOADER_PHASES,q=.95,r=c('SignalsUploaderColumnMapperConstants').ITEM_STATUSES;i=babelHelpers.inherits(s,c('React').Component);j=i&&i.prototype;function s(u){j.constructor.call(this,u);t.call(this);var v=u.schemaSummary,w=v.additionalInfoURL,x=v.keysForSubschemasWithID,y=v.noUISimplePropKeysInSchema,z=v.pathForSimplePropKeys,aa=v.piiKeys,ba=v.schemasForSimplePropsInSchema;this.$SignalsUploaderColumnMapper1=n(Object.keys(x).map(function(ga){return [ga,n(x[ga].filter(function(ha){return y.indexOf(ha)===-1;}).map(function(ha){var ia=ba[ha];return [z[ha],{additionalInfoURL:w,propSchema:ia,maxOccurrence:ia.maxOccurrence||1}];}))];}));var ca=u.initialMapping;while(ca.size<u.samples.size)ca=ca.push(undefined);var da=this.$SignalsUploaderColumnMapper2(ca),ea=u.columnMappingErrorThreshold!=null?u.columnMappingErrorThreshold:q,fa=k(u.samples.size,ca,u.initialInfoForNormalization,u.initialCustomTypes,u.normalizationResults,u.preMappedColumns,ea,aa.map(function(ga){return z[ga];}).filter(function(ga){return ga!=null;}));this.$SignalsUploaderColumnMapper3(fa);this.state={availableColumnTypes:this.$SignalsUploaderColumnMapper4(ca,da),columnMappingStatusHistory:l([fa]),customTypes:u.initialCustomTypes,infoForNormalization:u.initialInfoForNormalization,mapping:ca,typeOccurrences:da};this.props.onColumnStatusesChange(fa);}s.prototype.componentWillReceiveProps=function(u){var v,w=this;if(u.normalizationResults!==this.props.normalizationResults||u.samples!==this.props.samples)(function(){var x=u.schemaSummary,y=x.pathForSimplePropKeys,z=x.piiKeys,aa=w.props.columnMappingErrorThreshold!=null?w.props.columnMappingErrorThreshold:q,ba=k(u.samples.size,w.state.mapping,w.state.infoForNormalization,w.state.customTypes,u.normalizationResults,u.preMappedColumns,aa,z.map(function(ca){return y[ca];}).filter(function(ca){return ca!=null;}));w.$SignalsUploaderColumnMapper3(ba);w.setState({columnMappingStatusHistory:w.state.columnMappingStatusHistory.push(ba)});w.props.onColumnStatusesChange(ba);})();};s.prototype.$SignalsUploaderColumnMapper3=function(u){this.props.logger&&this.props.logger.log(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_COLUMN_STATUSES_CALCULATED,{atSection:p.CONFIGURE_MAPPING},{columnStatuses:u.columnStatuses.toArray(),mappedRightColumns:u.mappedRightColumns,mappedWithErrorColumns:u.mappedWithErrorColumns,nonMappedColumns:u.nonMappedColumns});};s.prototype.$SignalsUploaderColumnMapper2=function(u){var v=u.reduce(function(w,x){if(x!=null)w[x]=w[x]==null?1:w[x]+1;return w;},{});return m(v);};s.prototype.$SignalsUploaderColumnMapper4=function(u,v){return (this.$SignalsUploaderColumnMapper1.map(function(w){return w.map(function(x,y){return babelHelpers['extends']({},x,{occurrence:v.get(y)});});}));};s.prototype.render=function(){var u=this.state,v=u.availableColumnTypes,w=u.customTypes,x=u.infoForNormalization,y=u.mapping,z=u.columnMappingStatusHistory,aa=z.last(),ba=aa.columnStatuses,ca=this.props,da=ca.customAdditionalInfoInputComponent,ea=ca.samples,fa=n(ea.map(function(ka,la){return [la,ka];})),ga=fa.filter(function(ka,la){return this.props.preMappedColumns&&this.props.preMappedColumns.includes(la);}.bind(this)),ha=fa.filterNot(function(ka,la){return this.props.preMappedColumns&&this.props.preMappedColumns.includes(la);}.bind(this)),ia=ga.concat(ha),ja=ia.map(function(ka,la){var ma=y.get(la);return (c('React').createElement(c('SignalsUploaderColumnMapperItem.react'),{additionalInfo:x.get(String(la)),availableColumns:v,customAdditionalInfoInputComponent:da,customTypes:w,index:la,key:la,normalizationResults:this.props.normalizationResults,samples:ka,schemaSummary:this.props.schemaSummary,selectedColumn:ma,status:ba.get(la),onAdditionalInfoChange:this.props.onAdditionalInfoChange,onChange:this.$SignalsUploaderColumnMapper5}));}.bind(this)).toArray();return (c('React').createElement('div',{className:"_23d-"},c('React').createElement('div',{className:"_5k0z"},ja)));};s.propTypes={initialCustomTypes:o.instanceOf(m).isRequired,initialInfoForNormalization:o.instanceOf(m).isRequired,initialMapping:o.instanceOf(l).isRequired,mappingStatusDisplay:o.element,normalizationResults:o.instanceOf(l).isRequired,samples:o.instanceOf(l).isRequired,schemaSummary:o.object.isRequired,onChange:o.func.isRequired,onColumnStatusesChange:o.func.isRequired};var t=function u(){this.$SignalsUploaderColumnMapper5=function(v,w,x,y){var z=this.state.mapping.merge(this.state.mapping.set(v,w)),aa=this.state.customTypes.merge(this.state.customTypes.set(String(v),x)).filter(function(ia){return ia!=null;}),ba=this.state.infoForNormalization.merge(this.state.infoForNormalization.set(String(v),y)).filter(function(ia){return ia!=null;}),ca=this.$SignalsUploaderColumnMapper2(z),da=this.state.columnMappingStatusHistory,ea=da.last(),fa=ea.columnStatuses.set(v,String(r.PENDING)),ga=babelHelpers['extends']({},ea,{columnStatuses:fa}),ha=this.props.logger;if(ha)ha.log(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_MAPPING_CHANGE,{atSection:p.CONFIGURE_MAPPING},{index:v,previousColumnType:this.state.mapping.get(v),previousCustomTypeDefinition:this.state.customTypes.get(String(v)),previousInfoForNormalization:this.state.infoForNormalization.get(String(v)),columnType:w,customTypeDefintion:x,infoForNormalization:y});this.setState({mapping:z,customTypes:aa,columnMappingStatusHistory:da.set(da.size-1,ga),infoForNormalization:ba,availableColumnTypes:this.$SignalsUploaderColumnMapper4(z,ca),typeOccurrences:ca},function(){var ia=this.state.customTypes.reduce(function(ka,la){if(la!=null)ka[la.key]=ka[la.key]==null?1:ka[la.key]+1;return ka;},{}),ja=this.state.customTypes.map(function(ka){return ka!=null&&ia[ka.key]!=null&&ia[ka.key]>1;}).toJS();this.props.onChange(this.state.mapping.filter(function(ka,la){return ja[la]!==true;}),this.state.customTypes.filter(function(ka,la){return ja[la]!==true;}),this.state.infoForNormalization.filter(function(ka,la){return ja[la]!==true;}));}.bind(this));}.bind(this);};f.exports=s;}),null);
__d('SignalsUploaderColumnMapperWithDataFetching.react',['AdsSignalsUploader','immutable','React','SignalsUILogger','SignalsUploaderColumnMapper.react','SignalsUploaderUtils','getSignalsSchemaSummary'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('SignalsUploaderUtils').getArgumentsForNormalizationFromColumnMapping,k=c('React').Component,l=c('React').PropTypes,m=c('immutable').List,n=c('immutable').Map,o=c('immutable').OrderedMap,p=1000,q=5;h=babelHelpers.inherits(r,k);i=h&&h.prototype;function r(s){i.constructor.call(this,s);this.$SignalsUploaderColumnMapperWithDataFetching6=function(u,v,w){this.setState({customTypes:v,mapping:u,infoForNormalization:w},function(){this.$SignalsUploaderColumnMapperWithDataFetching4();this.props.onChange(u,v,w);}.bind(this));}.bind(this);this.$SignalsUploaderColumnMapperWithDataFetching1=c('getSignalsSchemaSummary')(s.schema);this.$SignalsUploaderColumnMapperWithDataFetching2=false;var t=this.$SignalsUploaderColumnMapperWithDataFetching3(s.initialMapping,s.preMappedColumns);this.state={customTypes:s.initialCustomTypes,mapping:t,infoForNormalization:s.initialInfoForNormalization,normalizationResults:m(),samples:m()};}r.prototype.componentDidMount=function(){this.$SignalsUploaderColumnMapperWithDataFetching2=true;this.$SignalsUploaderColumnMapperWithDataFetching4();this.$SignalsUploaderColumnMapperWithDataFetching5();};r.prototype.componentWillUnmount=function(){this.$SignalsUploaderColumnMapperWithDataFetching2=false;};r.prototype.$SignalsUploaderColumnMapperWithDataFetching3=function(s,t){if(!t)return s;var u=m(s);t.map(function(v,w){u=u.set(v,w);});return u;};r.prototype.$SignalsUploaderColumnMapperWithDataFetching5=function(){var s=this.props,t=s.onStartSampleFetch,u=s.onEndSampleFetch;if(t)t();this.props.uploader.sampleFetch(this.props.source,this.props.delimiter,{sampleFetchSize:p,sampleFormat:'column'}).done(function(v){if(this.props.onFinishSampleFetch)this.props.onFinishSampleFetch();var w=m(v.samples.map(function(x){var y=[];for(var z=0;z<x.length&&y.length<q;z++){var aa=x[z];if(aa!=null&&aa!='')y.push([z,aa]);}return o(y);}));if(this.$SignalsUploaderColumnMapperWithDataFetching2)this.setState({samples:w});if(u)u(w);}.bind(this));};r.prototype.$SignalsUploaderColumnMapperWithDataFetching4=function(){var s=j(this.state.mapping,this.state.customTypes,this.state.infoForNormalization,this.$SignalsUploaderColumnMapperWithDataFetching1),t=s.mapping,u=s.infoForNormalization,v=s.customTypeInfos,w=this.props,x=w.hasHeader,y=w.onStartPreviewFetch,z=w.onEndPreviewFetch;if(y)y();var aa=t.toArray();this.props.uploader.previewFetch(this.props.source,this.props.delimiter,aa,{infoForNormalization:u.toJS(),previewSize:p,customTypeInfos:v.toJS(),hasHeader:x}).then(function(ba){var ca=ba.previews,da=m(ca);if(this.$SignalsUploaderColumnMapperWithDataFetching2)this.setState({normalizationResults:da});if(z)z(da);}.bind(this)).done();};r.prototype.render=function(){return (c('React').createElement(c('SignalsUploaderColumnMapper.react'),{columnMappingErrorThreshold:this.props.columnMappingErrorThreshold,customAdditionalInfoInputComponent:this.props.customAdditionalInfoInputComponent,initialCustomTypes:this.state.customTypes,initialInfoForNormalization:this.state.infoForNormalization,initialMapping:this.state.mapping,logger:this.props.logger,normalizationResults:this.state.normalizationResults,preMappedColumns:this.props.preMappedColumns,previewAndSampleSize:p,samples:this.state.samples,schemaSummary:this.$SignalsUploaderColumnMapperWithDataFetching1,onAdditionalInfoChange:this.props.onAdditionalInfoChange,onChange:this.$SignalsUploaderColumnMapperWithDataFetching6,onColumnStatusesChange:this.props.onColumnStatusesChange}));};r.propTypes={customAdditionalInfoInputComponent:l.func,delimiter:l.string,initialCustomTypes:l.instanceOf(n).isRequired,initialInfoForNormalization:l.instanceOf(n).isRequired,initialMapping:l.instanceOf(m).isRequired,schema:l.object.isRequired,source:l.oneOfType([l.string,l.object]).isRequired,uploader:l.instanceOf(c('AdsSignalsUploader')).isRequired,onChange:l.func.isRequired,onColumnStatusesChange:l.func.isRequired,onEndPreviewFetch:l.func,onEndSampleFetch:l.func,onStartPreviewFetch:l.func,onStartSampleFetch:l.func};f.exports=r;}),null);
__d('SignalsUploaderColumnMappingStatus.react',['cx','fbt','immutable','React','SignalsPropDescriptors','SignalsUploaderColumnMapperConstants'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('immutable').List,k=c('SignalsUploaderColumnMapperConstants').ITEM_STATUSES,l=c('SignalsUploaderColumnMapperConstants').CUSTOM_COLUMN_TYPE_VALUE,m=c('SignalsPropDescriptors').getPropLabel;function n(p,q){var r=void 0;if(!q){r=p>=2?i._({"*":"{n mapped columns} columns have been mapped and will be uploaded:"},[i.param('n mapped columns',p,[0,p])]):i._({"*":"{n mapped columns} column is mapped and will be uploaded:"},[i.param('n mapped columns',p,[0,p])]);}else r=p>=2?i._({"*":"{n mapped columns} additional columns have been mapped and will be uploaded:"},[i.param('n mapped columns',p,[0,p])]):i._({"*":"{n mapped columns} additional column is mapped and will be uploaded:"},[i.param('n mapped columns',p,[0,p])]);return r;}var o=function p(q){var r=q.columnStatuses,s=q.customTypes,t=q.mapping,u=q.requiredColumns,v=q.schemaSummary,w=r.toArray().map(function(ga,ha){var ia=null;if(ga===k.MAPPED_RIGHT||ga===k.PRE_MAPPED)if(t.get(ha)!==l){ia=t.get(ha);}else{var ja=s.get(String(ha));if(ja)ia=ja.key;}return ia;}).filter(function(ga){return ga!=null;}),x={},y=w.map(function(ga){var ha=(ga&&x[ga]||0)+1;if(ga)x[ga]=ha;return ha;}),z=v.schemasForSimplePropsInSchema,aa=v.keysForSimplePropPaths,ba=u!=null&&u.size>0?u.toArray().map(function(ga,ha){var ia=aa[ga],ja=ga&&z[ia],ka=ja&&m(ja)||ga;return (c('React').createElement('div',{className:"_53kc"+(w.indexOf(ga)===-1?' '+"_9fk":''),key:ha},ka));}):[],ca=w.map(function(ga,ha){if(ga!=null&&!(u!=null&&u.includes(ga))){var ia=aa[ga],ja=ga&&z[ia],ka=ja&&m(ja)||ga;return ka.toString()+(x[ga]>1?' ('+y[ha]+')':'');}else return null;}).filter(function(ga){return ga!=null;}).map(function(ga,ha){return (c('React').createElement('div',{className:"_53kc",key:ha},ga));}),da=w.length,ea=ba.length>0?c('React').createElement('div',{className:"_53k9"},c('React').createElement('div',{className:"_53ka"},i._("Required:")),c('React').createElement('div',{className:"_53kb"},ba)):null,fa=da>0?c('React').createElement('div',{className:"_53k9"},c('React').createElement('div',{className:"_53ka"},n(da,ea!=null)),c('React').createElement('div',{className:"_53kb"},ca)):null;return (c('React').createElement('div',{className:"_1ep-"},ea,fa));};f.exports=o;}),null);
__d('AdsSignalsCSVParserConstants',[],(function a(b,c,d,e,f,g){'use strict';var h={DELIMITERS:[',','\t',' ','|',';']};f.exports=h;}),null);
__d('SignalsUploaderDelimiterConstants',['fbt'],(function a(b,c,d,e,f,g,h){'use strict';var i={DELIMITER_LABELS:{',':h._("comma"),'\t':h._("tab"),' ':h._("space"),'|':h._("pipe"),';':h._("semicolon")}};f.exports=i;}),null);
__d('SignalsUploaderDelimiterConfigurator.react',['cx','ix','fbt','AdsSignalsCSVParserConstants','React','SignalsUploaderDelimiterConstants','SignalsTooltipInfo.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('AdsSignalsCSVParserConstants').DELIMITERS,l=c('React').PropTypes,m=c('SignalsUploaderDelimiterConstants').DELIMITER_LABELS,n=i("23672"),o=j._("Delimiters are characters or keystrokes used to separate field values by column in your file. We select a delimiter by default, and you can edit the selection here."),p=function r(s){var t=function v(){if(!s.selected&&s.onSelect)s.onSelect(s.value);},u="_kh4"+(!!s.selected?' '+"_kh5":'');return (c('React').createElement('div',{className:u,role:'presentation',onClick:t},s.children));},q=function r(s){var t=function v(w){if(s.onChange)s.onChange(w);},u=k.map(function(v,w){return (c('React').createElement(p,{key:w,selected:s.selectedDelimiter===v,value:v,onSelect:t},m[v],' "',v,'"'));});return (c('React').createElement('div',{className:"_4x7h"},j._("If the identifier above looks incorrect, {=modify the delimiter.}",[j.param('=modify the delimiter.',c('React').createElement(c('SignalsTooltipInfo.react'),{message:c('React').createElement('div',{className:"_kh6"},u),noHorizontalMargin:true,position:'above',textBlock:j._("Modify the delimiter.")}))]),c('React').createElement(c('SignalsTooltipInfo.react'),{iconURL:n,message:o,width:300})));};q.propTypes={selectedDelimiter:l.string,onChange:l.func.isRequired};f.exports=q;}),null);
__d('SignalsUploaderFinishedStatus.react',['ix','cx','Image.react','React','SignalsDownloadReportLink.react','SignalsUITexts','SignalsUploaderFlowConstants','SignalsUploaderFlowTexts','fbglyph'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('React').PropTypes,n=c('SignalsUploaderFlowConstants').UPLOADER_PHASES,o=30;j=babelHelpers.inherits(p,l);k=j&&j.prototype;function p(q){k.constructor.call(this,q);this.$SignalsUploaderFinishedStatus1=q.uiTexts||c('SignalsUploaderFlowTexts');}p.prototype.render=function(){var q=this.$SignalsUploaderFinishedStatus1,r,s,t,u;if(this.props.hadUploadErrors){var v=Number((this.props.uploadedRows/this.props.totalRows*100).toFixed(0));if(isNaN(v))return c('React').createElement('div',null);s=q.get(n.FINISHED_UPLOAD_WITH_ERROR+'_TITLE');t=q.get(n.FINISHED_UPLOAD_WITH_ERROR+'_DESCRIPTION',[this.props.uploadedRows,v]);r=v>o?c('React').createElement('div',{className:"_2dw_"},'!'):c('React').createElement('div',{className:"_2dx0"},c('React').createElement(c('Image.react'),{src:h("117759")}));u=c('React').createElement(c('SignalsDownloadReportLink.react'),{className:"_2c-l",errorTokenLists:this.props.errorTokenLists,onErrorReportGenerate:this.props.onErrorReportGenerate});}else{r=c('React').createElement('div',{className:"_2dx2"},c('React').createElement(c('Image.react'),{src:h("119376")}));s=q.get(n.FINISHED_UPLOAD_NO_ERROR+'_TITLE');t=q.get(n.FINISHED_UPLOAD_NO_ERROR+'_DESCRIPTION',[this.props.uploadedRows]);u=null;}return (c('React').createElement('div',{className:"_2dx3"},c('React').createElement('div',{className:"_2dx4"},s),c('React').createElement('div',{className:"_2dxh"},r,c('React').createElement('div',{className:"_2dxi"},t),c('React').createElement('div',{className:"_2dxj"},u))));};p.propTypes={errorTokenLists:m.array,fileNamePrefix:m.string,hadUploadErrors:m.bool,totalRows:m.number.isRequired,uiTexts:m.instanceOf(c('SignalsUITexts')),uploadedRows:m.number.isRequired,onErrorReportGenerate:m.func};f.exports=p;}),null);
__d('SignalsUploaderMappingVerificationConstants',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({MAPPING_ERROR_TYPES:{NO_WARNING:'',NON_MAPPED_COLUMNS_NO_VALID_MATCH_KEY:'',NO_NON_MAPPED_COLUMNS_NO_VALID_MATCH_KEY:'',ONLY_EMAIL_OR_PHONE_MAPPED_SOME_UNMAPPED_COLUMNS:'',NO_VALID_SAMPLE_ROWS:'',MISSING_EVENT_FIELDS:''},USER_ANSWER_TO_ERROR:{BACK_TO_EDIT:'',UPLOAD_ANYWAY:'',TRY_NEW_FILE:'',CONTINUE_UPLOAD:''}});f.exports=h;}),null);
__d('AdsNumeric.react',['ads-lib-formatters','Keys','React','NumberFormatConfig','XUITextInput.react'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var l,m;'use strict';for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={dirtyValue:null,value:this.props.initialValue},this.$AdsNumeric2=function(q){var r=c('ads-lib-formatters').formatNumber(q,0,c('NumberFormatConfig').numberDelimiter,c('NumberFormatConfig').decimalSeparator);return r;},this.$AdsNumeric3=function(q,r,s){return q.replace(new RegExp(r,'g'),s);},this.$AdsNumeric4=function(q){var r=c('ads-lib-formatters').parseNumber(q,c('NumberFormatConfig').decimalSeparator);if(!this.props.invalidInputIsNull)r=r||0;if(q&&this.props.nonnegative)r=Math.abs(r);return r;}.bind(this),this.$AdsNumeric6=function(event){if(!this.props.validate(event.target.value))return;this.setState({dirtyValue:event.target.value});if(this.props.eventType==='change')this.props.onChange(this.$AdsNumeric4(event.target.value));}.bind(this),this.$AdsNumeric5=function(event){if(this.props.eventType==='blur')this.props.onChange(this.$AdsNumeric4(event.target.value));this.setState({dirtyValue:null});}.bind(this),this.$AdsNumeric7=function(event){if(event.keyCode===c('Keys').RETURN)this.$AdsNumeric5(event);}.bind(this),m;}k.$AdsNumeric1=function(l){'use strict';return true;};k.prototype.render=function(){'use strict';var l=this.state.dirtyValue;if(l===null){l=this.props.value;if(l!=null)l=this.$AdsNumeric2(l);}return c('React').createElement(c('XUITextInput.react'),babelHelpers['extends']({},this.props,{ref:'input',value:l,onBlur:this.$AdsNumeric5,onChange:this.$AdsNumeric6,onKeyUp:this.$AdsNumeric7}));};k.propTypes={onChange:j.func.isRequired,eventType:j.oneOf(['change','blur']).isRequired,invalidInputIsNull:j.bool,validate:j.func,nonnegative:j.bool,initialValue:j.number,'data-testid':j.string};k.defaultProps={validate:this.$AdsNumeric1,nonnegative:true,initialValue:0,invalidInputIsNull:true};f.exports=k;}),null);
__d('AdsMaybeDisabledNumericInput.react',['TooltipLink.react','AdsNumeric.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){var k=this.props.disabled?this.props.disabledReason:undefined;return (c('React').createElement(c('TooltipLink.react'),{tooltip:k},c('React').createElement(c('AdsNumeric.react'),this.props)));};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('SignalsCurrencyCodes',[],(function a(b,c,d,e,f,g){'use strict';var h=['AED','ARS','AUD','BOB','BRL','CAD','CHF','CLP','CNY','COP','CRC','CZK','DKK','EUR','GBP','GTQ','HKD','HNL','HUF','IDR','ILS','INR','ISK','JPY','KRW','MOP','MXN','MYR','NIO','NOK','NZD','PEN','PHP','PLN','PYG','QAR','RON','RUB','SAR','SEK','SGD','THB','TRY','TWD','USD','UYU','VEF','VND','ZAR'];f.exports={VALID_CURRENCY_CODES:h};}),null);
__d('SignalsUploaderMissingEventColumnPrefiller.react',['cx','fbt','ix','AdsMaybeDisabledNumericInput.react','immutable','React','XUISelector.react','SignalsCurrencyCodes','SignalsEventDataSchema','SignalsPropDescriptors','SignalsPropExampleCard.react','SignalsTooltipInfo.react','getSignalsSchemaSummary'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m,n,o,p,q=c('React').Component,r=c('immutable').List,s=c('immutable').Map,t=c('SignalsPropDescriptors').getPropLabel,u=c('XUISelector.react').Option,v=c('SignalsCurrencyCodes').VALID_CURRENCY_CODES,w=c('getSignalsSchemaSummary')(c('SignalsEventDataSchema')),x=400,y=j("23672"),z=i._("Select value"),aa=function ha(ia){var ja=ia.additionalInfoURL,ka=ia.propSchema,la=t(ka);return (c('React').createElement('div',{className:"_3pib"},c('React').createElement('span',{className:"_3pif"},la),c('React').createElement(c('SignalsTooltipInfo.react'),{iconURL:y,message:c('React').createElement(c('SignalsPropExampleCard.react'),{additionalInfoURL:ja,propSchema:ka}),noHorizontalMargin:true,position:'above'})));};k=babelHelpers.inherits(ba,q);l=k&&k.prototype;function ba(){var ha,ia;for(var ja=arguments.length,ka=Array(ja),la=0;la<ja;la++)ka[la]=arguments[la];return ia=(ha=l.constructor).call.apply(ha,[this].concat(ka)),this.$SelectField1=function(ma){var na=this.props,oa=na.onChange,pa=na.type;oa(pa,ma&&ma.value);}.bind(this),ia;}ba.prototype.render=function(){var ha=this.props,ia=ha.type,ja=ha.options,ka=ha.schemaSummary,la=ha.value,ma=ka.additionalInfoURL,na=ka.schemasForSimplePropsInSchema;return (c('React').createElement('div',{className:"_3pig"},c('React').createElement(aa,{additionalInfoURL:ma,propSchema:na[ia]}),c('React').createElement('div',{className:"_3pih"},c('React').createElement(c('XUISelector.react'),{maxheight:x,size:'medium',value:la,onChange:this.$SelectField1},c('React').createElement(u,{disabled:true},z),ja.map(function(oa){return (c('React').createElement(u,{key:oa,value:oa},oa));})))));};m=babelHelpers.inherits(ca,q);n=m&&m.prototype;function ca(ha){n.constructor.call(this,ha);this.$ValueInput1=function(ia){var ja=this.props,ka=ja.onChange,la=ja.type;ka(la,ia);}.bind(this);this.$ValueInput1=this.$ValueInput1.bind(this);}ca.prototype.render=function(){var ha=this.props,ia=ha.type,ja=ha.schemaSummary,ka=ha.value,la=ja.additionalInfoURL,ma=ja.schemasForSimplePropsInSchema;return (c('React').createElement('div',{className:"_3pig _3pii"},c('React').createElement(aa,{additionalInfoURL:la,propSchema:ma[ia]}),c('React').createElement('div',{className:"_3pih"},c('React').createElement(c('AdsMaybeDisabledNumericInput.react'),{disabled:false,eventType:'change',minValue:0,nonnegative:true,value:ka,onChange:this.$ValueInput1}))));};var da=w.schemasForSimplePropsInSchema,ea={currency:{fieldType:ba,options:v},event_name:{fieldType:ba,options:da.event_name.typeParams.options.filter(function(ha){return ha!=='Purchase';})},value:{fieldType:ca}};o=babelHelpers.inherits(fa,q);p=o&&o.prototype;function fa(ha){p.constructor.call(this,ha);ga.call(this);var ia=ha.initiallyPrefilledValues||s(),ja=ha.initiallyMissingColumns,ka=this.$SignalsUploaderMissingEventColumnPrefiller1(ia,ja),la=ka.isReady,ma=ka.newMissingColumns;this.state={isReady:la,missingColumns:ma,prefilledValues:ia};}fa.prototype.$SignalsUploaderMissingEventColumnPrefiller1=function(ha,ia){var ja=r(ia),ka=ja.filter(function(la){return ha.get(la)==null;});return {isReady:ka.size===0,newMissingColumns:ja};};fa.prototype.render=function(){var ha=this.state,ia=ha.prefilledValues,ja=ha.missingColumns;return (c('React').createElement('div',{className:"_3pij"},ja.map(function(ka){var la=ea[ka],ma=la&&la.fieldType;return ma!=null?c('React').createElement(ma,{key:ka,options:la.options,schemaSummary:w,type:ka,value:ia.get(ka),onChange:this.$SignalsUploaderMissingEventColumnPrefiller2}):null;}.bind(this))));};var ga=function ha(){this.$SignalsUploaderMissingEventColumnPrefiller2=function(ia,ja){var ka=this.props.onChange,la=this.state,ma=la.prefilledValues,na=la.missingColumns,oa=ma.set(ia,ja),pa=this.$SignalsUploaderMissingEventColumnPrefiller1(oa,na),qa=pa.isReady,ra=pa.newMissingColumns;this.setState({prefilledValues:oa,isReady:qa,missingColumns:ra});if(ka!=null)ka(oa,qa);}.bind(this);};f.exports=fa;}),null);
__d('SignalsUploaderMappingWarnings.react',['cx','fbt','ix','BUIAdoptionButton.react','CurrentLocale','Image.react','immutable','React','SignalsPropDescriptors','SignalsPropExampleCardList.react','SignalsUploaderMappingVerificationConstants','SignalsUploaderMissingEventColumnPrefiller.react','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react','formatNumber'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('immutable').List,n=c('immutable').Map,o=c('React').Component,p=c('SignalsUploaderMappingVerificationConstants').MAPPING_ERROR_TYPES,q=c('SignalsUploaderMappingVerificationConstants').USER_ANSWER_TO_ERROR,r=c('SignalsPropDescriptors').getPropLabel,s=640,t=i._("Back"),u=i._("Continue"),v=i._("Try New File"),w=i._("Upload Anyway"),x=i._("We detected low match potential"),y=i._("Add additional data"),z=i._("Map more identifiers like these to continue with upload:"),aa=i._("Some identifiers won't be uploaded"),ba=i._("No sample rows are valid"),ca=i._("Please map event time type to continue with upload."),da=i._("Try adding more identifiers to your file to improve match rate."),ea=i._("The following field types aren't present in your data file and are not used by Facebook for additional accuracy. Please select values below to append to your data."),fa=i._("You need to map a value and currency when using the \"purchase\" event type."),ga=i._("You need to map a value if you have mapped a currency type."),ha=i._("None of the sample rows in your file is valid. This is probably due to incorrect or missing columns. Please check your column mapping."),ia=j("23688"),ja=j("23699"),ka=j("23700");function la(){var oa=c('CurrentLocale').get()||'';return oa.split('_')[0]==='en'?ka:ja;}function ma(oa,pa,qa,ra,sa){var ta=sa.noUISimplePropKeysInSchema,ua=sa.schemasForSimplePropsInSchema,va=sa.subschemasByType,wa={};switch(oa){case p.NON_MAPPED_COLUMNS_NO_VALID_MATCH_KEY:wa={title:x,body:c('React').createElement('div',{className:"_zj2"},c('React').createElement('div',{className:"_zj3"},c('React').createElement(c('Image.react'),{src:ia})),c('React').createElement('div',{className:"_zj4"},z),c('React').createElement('div',{className:"_zj5"},pa.filter(function(xa){return ta.indexOf(xa)===-1;}).map(function(xa){return (c('React').createElement('span',{className:"_zj6",key:xa},r(ua[xa])));})),c('React').createElement('div',{className:"_zj7"},c('React').createElement(c('Image.react'),{src:la()}))),choices:[{label:v,type:q.TRY_NEW_FILE},{label:t,type:q.BACK_TO_EDIT}]};break;case p.ONLY_EMAIL_OR_PHONE_MAPPED_SOME_UNMAPPED_COLUMNS:wa={title:aa,body:c('React').createElement('div',{className:"_zj2"},c('React').createElement('div',{className:"_zj4"},i._({"*":"It looks like there are still {number} unmapped identifiers in your file. {lineBreak} Finish mapping the data to improve the match rate.","268435456":"It looks like there is still 1 unmapped identifier in your file. {lineBreak} Finish mapping the data to improve the match rate."},[i.plural(ra,'number',c('formatNumber')(ra)),i.param('lineBreak',c('React').createElement('br',null))])),c('React').createElement('div',{className:"_zj7"},c('React').createElement(c('Image.react'),{src:la()}))),choices:[{label:t,type:q.BACK_TO_EDIT},{label:w,type:q.UPLOAD_ANYWAY}]};break;case p.NO_NON_MAPPED_COLUMNS_NO_VALID_MATCH_KEY:wa={title:x,body:c('React').createElement('div',{className:"_zj2"},c('React').createElement('div',{className:"_zj3"},c('React').createElement(c('Image.react'),{src:ia})),c('React').createElement('div',{className:"_zj4"},da),c('React').createElement('div',{className:"_zj8"},c('React').createElement(c('SignalsPropExampleCardList.react'),{hideNavigator:true,initiallySelectedSubschema:va.pii_keys[0],schemaSummary:sa}))),choices:[{label:v,type:q.TRY_NEW_FILE}]};break;case p.MISSING_EVENT_FIELDS:if(qa.includes('event_time')){wa={title:y,body:c('React').createElement('div',{className:"_zj2"},c('React').createElement('div',{className:"_zj3"},c('React').createElement(c('Image.react'),{src:ia})),c('React').createElement('div',{className:"_zj4"},ca),c('React').createElement('div',{className:"_zj7"},c('React').createElement(c('Image.react'),{src:ja}))),choices:[{label:v,type:q.TRY_NEW_FILE},{label:t,type:q.BACK_TO_EDIT}]};}else if(qa.includes('value')&&qa.includes('currency')){wa={title:y,body:c('React').createElement('div',{className:"_zj2"},c('React').createElement('div',{className:"_zj3"},c('React').createElement(c('Image.react'),{src:ia})),c('React').createElement('div',{className:"_zj4"},fa),c('React').createElement('div',{className:"_zj7"},c('React').createElement(c('Image.react'),{src:ja}))),choices:[{label:v,type:q.TRY_NEW_FILE},{label:t,type:q.BACK_TO_EDIT}]};}else if(qa.includes('value')){wa={title:y,body:c('React').createElement('div',{className:"_zj2"},c('React').createElement('div',{className:"_zj3"},c('React').createElement(c('Image.react'),{src:ia})),c('React').createElement('div',{className:"_zj4"},ga),c('React').createElement('div',{className:"_zj7"},c('React').createElement(c('Image.react'),{src:ja}))),choices:[{label:v,type:q.TRY_NEW_FILE},{label:t,type:q.BACK_TO_EDIT}]};}else wa={title:y,body:c('React').createElement('div',{className:"_zj2"},c('React').createElement('div',{className:"_zj3"},c('React').createElement(c('Image.react'),{src:ia})),c('React').createElement('div',{className:"_1djn"},ea)),choices:[{label:t,type:q.BACK_TO_EDIT},{label:u,type:q.CONTINUE_UPLOAD,onlyEnableWhenSubContentIsReady:true}],subcontent:c('React').createElement(c('SignalsUploaderMissingEventColumnPrefiller.react'),{initiallyMissingColumns:qa})};break;case p.NO_VALID_SAMPLE_ROWS:wa={title:ba,body:c('React').createElement('div',{className:"_zj2"},c('React').createElement('div',{className:"_zj3"},c('React').createElement(c('Image.react'),{src:ia})),c('React').createElement('div',{className:"_zj4"},ha),c('React').createElement('div',{className:"_zj7"},c('React').createElement(c('Image.react'),{src:ja}))),choices:[{label:v,type:q.TRY_NEW_FILE},{label:t,type:q.BACK_TO_EDIT}]};break;}return wa;}k=babelHelpers.inherits(na,o);l=k&&k.prototype;function na(oa){l.constructor.call(this,oa);this.$SignalsUploaderMappingWarnings1=function(pa){this.setState({show:pa});if(pa){if(this.props.onOpen)this.props.onOpen();}else if(this.props.onClose)this.props.onClose(this.state.choice,this.state.subcontentIsReady,this.state.valuesFromSubcontent);}.bind(this);this.$SignalsUploaderMappingWarnings3=function(pa,qa){this.setState({subcontentIsReady:qa,valuesFromSubcontent:pa});}.bind(this);this.state={show:this.props.initiallyOpen!=null?this.props.initiallyOpen:true,subcontentIsReady:false,valuesFromSubcontent:n()};}na.prototype.$SignalsUploaderMappingWarnings2=function(oa){this.setState({choice:oa,show:false});};na.prototype.render=function(){var oa=this.props;if(oa.status==null)return null;var pa=ma(oa.status,oa.matchKeysToSuggest||m(),oa.missingColumns||m(),oa.nonMappedColumns,oa.schemaSummary),qa=pa.title,ra=pa.body,sa=pa.choices,ta=pa.subcontent,ua=this.state.subcontentIsReady,va=sa.map(function(wa,xa){var ya=function(){return this.$SignalsUploaderMappingWarnings2(wa.type);}.bind(this);return (c('React').createElement(c('BUIAdoptionButton.react'),{disabled:wa.onlyEnableWhenSubContentIsReady===true&&ta!=null&&!ua,key:xa,label:wa.label,use:xa===sa.length-1?'confirm':'default',onClick:ya}));}.bind(this));return (c('React').createElement(c('XUIDialog.react'),{className:"_4v6_",hideOnEscape:true,shown:this.state.show,width:s,onToggle:this.$SignalsUploaderMappingWarnings1},c('React').createElement(c('XUIDialogTitle.react'),null,qa),c('React').createElement(c('XUIDialogBody.react'),null,ra,ta!=null?c('React').cloneElement(ta,{onChange:this.$SignalsUploaderMappingWarnings3}):null),c('React').createElement(c('XUIDialogFooter.react'),null,va)));};f.exports=na;}),null);
__d('getSignalsCSVPastePreview',['SignalsValidationUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('SignalsValidationUtils').isString,i=/(?:\r\n|\r|\n)(?!.*(?:(?:\"\t)|(?:\"\r)))/,j=100000;function k(l){var m=arguments.length<=1||arguments[1]===undefined?j:arguments[1],n=null,o=0;if(l&&h(l)){var p=l.slice(0,m);n=p.split(i);if(p.length===l.length){o=n.length;}else{var q=n.reduce(function(r,s){return r+s.length;},0)/n.length;o=Math.floor(l.length/(q+1));}}return {sampleRows:n,approximateNumberOfRows:o};}f.exports=k;}),null);
__d('SignalsCSVPasteArea.react',['cx','fbt','BUIAdoptionButton.react','Keys','React','intlNumUtils','getSignalsCSVPastePreview','shallowCompare'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('intlNumUtils').formatNumberWithLimitedSigFig,m=c('React').PropTypes,n=20,o=/\r|\n/g,p=i._("Paste your data here"),q=i._("Clear"),r=function t(u){var v=l(u.totalRowCount,0,2);return (c('React').createElement('div',{className:"_t3t"},i._("Showing the first {sampleRowCount} of the total of about {totalRowCount} rows.",[i.param('sampleRowCount',u.sampleRowCount),i.param('totalRowCount',v)])));};j=babelHelpers.inherits(s,c('React').Component);k=j&&j.prototype;function s(t){k.constructor.call(this,t);this.$SignalsCSVPasteArea2=function(w){w.preventDefault();var x=w.nativeEvent.clipboardData!=null&&w.nativeEvent.clipboardData.getData('text/plain')||w.clipboardData.getData('Text'),y=this.$SignalsCSVPasteArea1(x);this.setState(babelHelpers['extends']({key:this.state.key+1},y));if(this.props.onPaste)this.props.onPaste(x);}.bind(this);this.$SignalsCSVPasteArea3=function(){this.setState({approximateNumberOfRows:0,sampleRows:null});this.props.onReset&&this.props.onReset();}.bind(this);this.$SignalsCSVPasteArea4=function(w){var x=w.keyCode;switch(x){case c('Keys').BACKSPACE:case c('Keys').DELETE:case c('Keys').SPACE:this.$SignalsCSVPasteArea3();break;default:return;}}.bind(this);var u={};if(this.props.initialPastedContent){var v=this.$SignalsCSVPasteArea1(this.props.initialPastedContent);u=babelHelpers['extends']({key:1},v);}else u={key:1,approximateNumberOfRows:t.initialApproximateNumberOfRows||0,sampleRows:t.initialSampleRows};this.state=u;}s.prototype.$SignalsCSVPasteArea1=function(t){var u=c('getSignalsCSVPastePreview')(t);if(u.sampleRows)u.sampleRows=u.sampleRows.splice(0,n);return u;};s.prototype.shouldComponentUpdate=function(t,u){return c('shallowCompare')(this,t,u);};s.prototype.render=function(){var t=this.state,u=t.sampleRows,v=t.approximateNumberOfRows,w=u!=null;if(w)u.forEach(function(ba,ca,da){da[ca]=ba.replace(o,' ');});var x=w?u.join('\n'):'',y="_4ual"+(w?' '+"_t3u":''),z=w?c('React').createElement(r,{sampleRowCount:u.length,totalRowCount:v}):null,aa=w?c('React').createElement(c('BUIAdoptionButton.react'),{height:'short',label:q,style:{marginTop:'8px'},onClick:this.$SignalsCSVPasteArea3}):null;return (c('React').createElement('div',{className:y},c('React').createElement('textarea',{key:this.state.key,placeholder:p,value:x,onKeyDown:this.$SignalsCSVPasteArea4,onPaste:this.$SignalsCSVPasteArea2}),z,aa));};s.propTypes={initialApproximateNumberOfRows:m.number,initialPastedContent:m.string,initialSampleRows:m.array,onPaste:m.func,onReset:m.func};f.exports=s;}),null);
__d('SignalsRadioAccordion.react',['React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(l){i.constructor.call(this,l);var m={selectedIndex:0};if(l.children)l.children.map(function(n,o){if(n.props.selected)m.selectedIndex=o;});this.state=m;}k.prototype.$SignalsRadioAccordion1=function(l){this.setState({selectedIndex:l});if(this.props.onSelect)this.props.onSelect(l);};k.prototype.render=function(){var l=this.props.children?this.props.children.map(function(m,n){var o={label:m.props.label,key:n,selected:this.state.selectedIndex===n,onLabelClick:function(){return this.$SignalsRadioAccordion1(n);}.bind(this)};return c('React').cloneElement(m,o);}.bind(this)):null;return (c('React').createElement('div',null,l));};k.propTypes={children:j.arrayOf(j.element),onSelect:j.func};f.exports=k;}),null);
__d('SignalsRadioAccordionItem.react',['cx','React','XUIRadioInput.react'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(k){var l=k.selected===true,m="_51sg"+(l?' '+"_51si":''),n="_51sm"+(!l?' '+"_51so":'');return (c('React').createElement('div',{className:"_51st"},c('React').createElement('div',{className:n,role:'presentation',onClick:!l?k.onLabelClick:null},c('React').createElement(c('XUIRadioInput.react'),{checked:k.selected,className:"_51su"}),k.label),c('React').createElement('div',{className:m},c('React').createElement('div',{className:"_51sz"},k.children))));};f.exports=i;}),null);
__d('SignalsUploaderSourceSelector.react',['cx','fbt','FBDragDropBox.react','immutable','Link.react','React','SignalsCSVPasteArea.react','SignalsPropExampleCardList.react','SignalsRadioAccordion.react','SignalsRadioAccordionItem.react','shallowCompare'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('immutable').List,m=c('React').Component,n=c('React').PropTypes,o='fileUpload',p=l(['.csv','text/csv','text/plain']),q=i._("Add a new file (CSV or TXT)"),r=i._("Copy and paste"),s=i._("Download file template"),t=function w(x){return (c('React').createElement('div',{className:"_4orl"},c('React').createElement('div',{className:"_4orn"},c('React').createElement(c('SignalsPropExampleCardList.react'),{schemaSummary:x.schemaSummary}))));},u=function w(x){var y=void 0;if(x.schemaSummary.exampleFiles){var z=Object.keys(x.schemaSummary.exampleFiles);if(z.length)y=x.schemaSummary.exampleFiles[z[0]];}var aa=x.schemaSummary.exampleFiles&&!x.hideExampleFile?c('React').createElement('div',{className:"_4oro"},c('React').createElement(c('Link.react'),{href:y,target:'_blank'},s)):null;return (c('React').createElement('div',{className:"_4orp"},c('React').createElement('div',{className:"_4orq"},c('React').createElement(c('FBDragDropBox.react'),{allowedFileTypes:x.supportedFileFormats.toArray(),hasError:!!x.hasFileUploadError,selectedFile:x.initialFile,onFileChange:x.onFileChange,onFileRemove:x.onFileRemove,onFilesSelection:x.onFilesSelection})),aa));};j=babelHelpers.inherits(v,m);k=j&&j.prototype;function v(w){k.constructor.call(this,w);this.$SignalsUploaderSourceSelector1=function(y){var z='fileUpload';switch(y){case 0:z='fileUpload';break;case 1:z='copyPaste';break;}this.setState({inputMode:z});if(this.props.onInputSelect)this.props.onInputSelect(z);}.bind(this);var x={inputMode:w.initialInputMode};this.state=x;}v.prototype.shouldComponentUpdate=function(w,x){return c('shallowCompare')(this,w,x);};v.prototype.render=function(){var w=this.props,x=w.allowCopyPaste,y=w.children,z=w.hideDefaultInstructions,aa=w.initialInputMode,ba=x?c('React').createElement(c('SignalsRadioAccordion.react'),{onSelect:this.$SignalsUploaderSourceSelector1},c('React').createElement(c('SignalsRadioAccordionItem.react'),{label:q,selected:aa==='fileUpload'},c('React').createElement(u,this.props)),c('React').createElement(c('SignalsRadioAccordionItem.react'),{label:r,selected:aa==='copyPaste'},c('React').createElement(c('SignalsCSVPasteArea.react'),this.props))):c('React').createElement('div',{className:"_1v6-"},c('React').createElement(u,this.props)),ca=z!==true?c('React').createElement(t,this.props):null;return (c('React').createElement('div',{className:"_4orr"},y,ca,ba));};v.propTypes={allowCopyPaste:n.bool,hasFileUploadError:n.bool,hideDefaultInstructions:n.bool,hideExampleFile:n.bool,initialFile:n.object,initialInputMode:n.oneOf(['fileUpload','copyPaste']),initialPastedContent:n.string,labelForCopyPasteArea:n.oneOfType([n.node,n.string]),labelForFileUploader:n.oneOfType([n.node,n.string]),schemaSummary:n.object.isRequired,supportedFileFormats:n.instanceOf(l),onCopyPasteReset:n.func,onFileChange:n.func.isRequired,onFileRemove:n.func.isRequired,onFilesSelection:n.func.isRequired,onInputSelect:n.func,onPaste:n.func};v.defaultProps={allowCopyPaste:true,inputMode:o,labelForCopyPasteArea:r,labelForFileUploader:q,supportedFileFormats:p};f.exports=v;}),null);
__d('SignalsUploaderSelectSourceStep.react',['cx','React','SignalsUploaderSourceSelector.react'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=function k(l){var m=l.termsOfService!=null?c('React').createElement('div',{className:"_2umc"},l.termsOfService):null;return (c('React').createElement('div',{className:"_5ii1"},c('React').createElement(c('SignalsUploaderSourceSelector.react'),l),m));};j.propTypes={hasFileUploadError:i.bool,hideDefaultInstructions:i.bool,hideExampleFile:i.bool,initialFile:i.object,initialInputMode:i.oneOf(['fileUpload','copyPaste']),initialPastedContent:i.string,pastedContent:i.string,schemaSummary:i.object.isRequired,termsOfService:i.oneOfType([i.element,i.node,i.string]).isRequired,onCopyPasteReset:i.func,onFileChange:i.func.isRequired,onFileRemove:i.func.isRequired,onFilesSelection:i.func.isRequired,onPaste:i.func};f.exports=j;}),null);
__d('SignalsUploaderUploadComplete.react',['cx','fbt','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('React').cloneElement;j=babelHelpers.inherits(n,l);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$SignalsUploaderUploadComplete1=function(t){var u=this.props,v=u.onPostUploadOptionPicked,w=u.postUploadOptions;if(v!=null&&w!=null){v(t);w.props.onOptionSelect(t);}}.bind(this),p;}n.prototype.render=function(){var o=this.props.postUploadOptions,p=null;if(o!=null){var q=m(o,{onOptionSelect:this.props.onPostUploadOptionPicked!=null?this.$SignalsUploaderUploadComplete1:o.props.onOptionSelect});p=c('React').createElement('div',{className:"_1w7n"},c('React').createElement('div',{className:"_1w7o"},i._("Next steps")),q);}return (c('React').createElement('div',{className:"_1w7-"},this.props.completionMessage,p));};f.exports=n;}),null);
__d('SignalsUploaderUploadProgress.react',['cx','fbt','AdsXUIProgressBar.react','BUIAdoptionXUINotice.react','BUIAdoptionXUIText.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=i._("Cancelling this process before the file finishes uploading may result in incomplete data for your measurement, optimisation and audience creation.");j=babelHelpers.inherits(n,l);k=j&&j.prototype;n.prototype.render=function(){var o=this.props.doNotCancelMessage||m,p=this.props.offline===true?c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'error'},c('React').createElement(c('BUIAdoptionXUIText.react'),{display:'block',size:'small'},c('React').createElement('div',{className:"_2yq8"},i._("We paused your upload due to limited connectivity. Check your connection and we'll resume once it is restored. {number of rows} rows of data have been uploaded successfully.",[i.param('number of rows',this.props.recordsUploaded)])))):c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'information'},c('React').createElement(c('BUIAdoptionXUIText.react'),{display:'block',size:'small'},c('React').createElement('div',{className:"_2yq8"},o))),q=this.props.offline===true?i._("UPLOAD PAUSED"):i._("UPLOADING"),r=this.props.offline===true?i._("Reconnecting..."):i._("({number of records uploaded} rows uploaded)",[i.param('number of records uploaded',this.props.recordsUploaded)]);return (c('React').createElement('div',{className:"_2yq9"},c('React').createElement('div',{className:"_2yqa"},c('React').createElement('div',{className:"_2yqs"},c('React').createElement('div',{className:"_2yqt"},c('React').createElement(c('AdsXUIProgressBar.react'),{animated:true,striped:this.props.offline===true,value:this.props.progress}))),c('React').createElement('div',{className:"_2yqu"},q),c('React').createElement('div',{className:"_2yqv"},r)),p));};function n(){j.apply(this,arguments);}f.exports=n;}),null);
__d('normalizeSignalsAnyType',[],(function a(b,c,d,e,f,g){'use strict';function h(i){return i;}f.exports=h;}),null);
__d('normalizeSignalsBoolType',['SignalsValidationUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('SignalsValidationUtils').looksLikeHashed;function i(j){if(j==null)return null;if(typeof j==='boolean')return j;if(typeof j==='string'){var k=j.toLowerCase();if(k==='true'||k==='yes'||k==='1')return true;if(k==='false'||k==='no'||k==='0')return false;if(h(j))return j;return null;}if(typeof j==='number'){if(j===1)return true;if(j===0)return false;return null;}return null;}f.exports=i;}),null);
__d('normalizeSignalsEnumType',['SignalsValidationUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('SignalsValidationUtils').looksLikeHashed,i=c('SignalsValidationUtils').trim,j=c('SignalsValidationUtils').isArray;function k(l){var m=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],n=null;if(l!=null&&m.options!=null&&j(m.options)&&m.options.length)if(h(l)){n=l;}else{var o=i(String(l));if(m.lowercase)o=o.toLowerCase();if(m.uppercase)o=o.toUpperCase();if(m.truncate)o=o.substring(0,m.truncate);if(m.caseInsensitive){var p=o.toLowerCase();for(var q=0;q<m.options.length;++q)if(p===m.options[q].toLowerCase()){o=m.options[q];break;}}n=m.options.indexOf(o)>-1?o:null;}return n;}f.exports=k;}),null);
__d('normalizeSignalsCurrencyCodeType',['SignalsCurrencyCodes','normalizeSignalsEnumType'],(function a(b,c,d,e,f,g){'use strict';var h=c('SignalsCurrencyCodes').VALID_CURRENCY_CODES;function i(j){return c('normalizeSignalsEnumType')(j,{uppercase:true,options:h});}f.exports=i;}),null);
__d('normalizeSignalsDateType',['SignalDateFormats','SignalDateMonthFormats','normalizeSignalsEnumType','SignalsValidationUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('SignalsValidationUtils').looksLikeHashed,i=c('SignalsValidationUtils').trim,j=/^[0-9]*$/,k=/[^0-9]/g,l=/[^a-zA-Z]/g,m=/^[0-9]{4,4}$/;function n(s){var t=parseInt(s.slice(0,4),10),u=parseInt(s.slice(4,6),10)-1,v=parseInt(s.slice(6,8),10),w=new Date(t,u,v);return (w.getFullYear()===t&&w.getMonth()===u&&w.getDate()===v);}function o(s){var t=arguments.length<=1||arguments[1]===undefined?c('SignalDateFormats')[0]:arguments[1];switch(t){case 'DD/MM/YYYY':case 'MM/DD/YYYY':return /^\d{1,2}\/\d{1,2}\/\d{4}$/.test(s);case 'DD-MM-YYYY':case 'MM-DD-YYYY':return /^\d{1,2}-\d{1,2}-\d{4}$/.test(s);case 'YYYY/MM/DD':return /^\d{4}\/\d{1,2}\/\d{1,2}$/.test(s);case 'YYYY-MM-DD':return /^\d{4}-\d{1,2}-\d{1,2}$/.test(s);case 'DD/MM/YY':case 'MM/DD/YY':return /^\d{1,2}\/\d{1,2}\/\d{2}$/.test(s);case 'DD-MM-YY':case 'MM-DD-YY':return /^\d{1,2}-\d{1,2}-\d{2}$/.test(s);case 'YY/MM/DD':return /^\d{2}\/\d{1,2}\/\d{1,2}$/.test(s);case 'YY-MM-DD':return /^\d{2}-\d{1,2}-\d{1,2}$/.test(s);case 'YY-MM':case 'MM-YY':return /^\d{2}-\d{2}$/.test(s);case 'YYYY-MM':return /^\d{4}-\d{2}$/.test(s);case 'MM-YYYY':return /^\d{2}-\d{4}$/.test(s);case 'YY/MM':case 'MM/YY':return /^\d{2}\/\d{2}$/.test(s);case 'MM/YYYY':return /^\d{2}\/\d{4}$/.test(s);case 'YYYY/MM':return /^\d{4}\/\d{2}$/.test(s);case 'MMYY':case 'YYMM':return s.length===4&&j.test(s);case 'YYYYMM':case 'MMYYYY':return s.length===6&&j.test(s);case 'DDMMYYYY':case 'MMDDYYYY':case 'YYYYMMDD':return s.length===8&&j.test(s);case 'DDMMYY':case 'MMDDYY':case 'YYMMDD':default:return s.length===6&&j.test(s);}}function p(s,t){var u=new Date().getFullYear()%100;switch(t){case 'DD-MM-YY':case 'MM-DD-YY':case 'DD/MM/YY':case 'MM/DD/YY':case 'DDMMYY':case 'MMDDYY':case 'MM-YY':case 'MM/YY':case 'MMYY':return (s.slice(0,-2)+(parseInt(s.slice(-2),10)<=u?'20':'19')+s.slice(-2));case 'YY-MM-DD':case 'YY/MM/DD':case 'YYMMDD':case 'YY-MM':case 'YY/MM':case 'YYMM':return ((parseInt(s.substr(0,2),10)<=u?'20':'19')+s);default:return s;}}function q(s,t){var u=null;switch(t){case 'DD-MM-YYYY':case 'MM-DD-YYYY':case 'YYYY-MM-DD':case 'DD-MM-YY':case 'MM-DD-YY':case 'YY-MM-DD':u='-';break;case 'DD/MM/YYYY':case 'MM/DD/YYYY':case 'YYYY/MM/DD':case 'DD/MM/YY':case 'MM/DD/YY':case 'YY/MM/DD':u='/';break;default:break;}if(u!=null){var v=s.split(u),w='';v.forEach(function(x){w+=x.length===1?'0'+x:x;});s=w;}return p(s,t);}function r(s){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],u=arguments[2],v=null,w=u;if(s!=null)if(h(s)){if(!(t&&t.rejectHashed))v=s;}else{s=i(s)||'';if(m.test(s)&&!t.allowMonthOnly){v=s+'0101';}else{w=c('normalizeSignalsEnumType')(w,{uppercase:1,options:t.allowMonthOnly?c('SignalDateMonthFormats'):c('SignalDateFormats')});v=s;if(w==null||!o(v,w)){v=null;}else{v=q(v,w);w=w.replace(l,'');v=v.replace(k,'');switch(w){case 'DDMMYYYY':case 'DDMMYY':v=v.slice(4,8)+v.slice(2,4)+v.slice(0,2);break;case 'MMDDYYYY':case 'MMDDYY':v=v.slice(4,8)+v.slice(0,2)+v.slice(2,4);break;case 'YYYYMM':case 'YYMM':v+='01';break;case 'MMYY':case 'MMYYYY':v=v.slice(2,6)+v.slice(0,2)+'01';break;case 'YYYYMMDD':case 'YYMMDD':default:break;}if(v!==null&&!n(v))v=null;}}}return v;}f.exports=r;}),null);
__d('normalizeSignalsDateMonthType',['normalizeSignalsDateType'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],k=arguments[2];j.allowMonthOnly=true;return c('normalizeSignalsDateType')(i,j,k);}f.exports=h;}),null);
__d('normalizeSignalsEmailType',['isEmail','SignalsValidationUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('SignalsValidationUtils').looksLikeHashed,i=c('SignalsValidationUtils').lower,j=c('SignalsValidationUtils').trim;function k(l,m){var n=null;if(l!=null)if(h(l)){n=l;}else{var o=j(i(l));n=c('isEmail')(o)?o:null;}return n;}f.exports=k;}),null);
__d('normalizeSignalsListType',['SignalsValidationUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('SignalsValidationUtils').looksLikeHashed,i=c('SignalsValidationUtils').isArray;function j(k){if(i(k))return k;if(typeof k==='string'){if(h(k))return k;k=k.trim();if(k.length==0)return [];if(k.length>=2&&k[0]=='['&&k[k.length-1]==']')k=k.slice(1,k.length-1);var l=k.split(',').map(function(m){return m.trim();});return l;}return null;}f.exports=j;}),null);
__d('normalizeSignalsPhoneNumberType',['isInternationalPhoneNumber','SignalsValidationUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('SignalsValidationUtils').looksLikeHashed,i=/^0*/,j=/[\-@#<>'",; ]|\(|\)|\+|[a-z]/gi;function k(l){var m=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],n=null;if(l!=null)if(h(l)){n=l;}else{var o=String(l);if(c('isInternationalPhoneNumber')(o))n=o.replace(j,'').replace(i,'');}return n;}f.exports=k;}),null);
__d('normalizeSignalsPostalCodeType',['SignalsValidationUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('SignalsValidationUtils').looksLikeHashed,i=c('SignalsValidationUtils').trim;function j(k){var l=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],m=null;if(k!=null)if(h(k)){m=k;}else{var n=i(String(k).toLowerCase().split('-',1)[0]);if(n.length>=2)m=n;}return m;}f.exports=j;}),null);
__d('normalizeSignalsStringType',['SignalsValidationUtils'],(function a(b,c,d,e,f,g){'use strict';var h=c('SignalsValidationUtils').looksLikeHashed,i=c('SignalsValidationUtils').strip;function j(k){var l=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],m=null;if(k!=null)if(h(k)){if(!(l&&l.rejectHashed))m=k;}else{var n=String(k);if(l.strip!=null)n=i(n,l.strip);if(l.lowercase){n=n.toLowerCase();}else if(l.uppercase)n=n.toUpperCase();if(l.truncate)n=n.substring(0,l.truncate);if(l.test){m=new RegExp(l.test).test(n)?n:null;}else m=n;}return m;}f.exports=j;}),null);
__d('normalizeSignalsTimestampType',['normalizeSignalsDateType','normalizeSignalsNumberType'],(function a(b,c,d,e,f,g){'use strict';var h=1*60*60*1000,i=/[+-]\d{2}:\d{2}|Z$/;function j(k){var l=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],n=null,o=false,p=l.rejectTimeBefore,q=m.timeFormat,r=m.timeZone,s=m.allowFutureTimes;if(k!=null)if(q==null||q==='unix_time'){var t=c('normalizeSignalsNumberType')(k,{rejectHashed:true});if(t!=null){if(q==='unix_time')t*=1000;n=new Date(t).getTime();}}else if(q==='ISO8601'){n=new Date(k).getTime();o=i.test(k);}else{var u=c('normalizeSignalsDateType')(k,{rejectHashed:true},q);if(u!=null){var v=u.slice(0,4),w=u.slice(4,6),x=u.slice(6,8);n=new Date(v+'-'+w+'-'+x).getTime();}}var y=Date.now();if(n!=null&&(isNaN(n)||s!==true&&n>y||p!=null&&n<y-p||n%1!==0)){n=null;}else if(n!=null&&r!=null&&!o){var z=c('normalizeSignalsNumberType')(r,{rejectHashed:true});if(z!=null)n-=z*h;}return n;}f.exports=j;}),null);
__d('normalizeSignalsUnixTimeType',['normalizeSignalsTimestampType'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],k=arguments[2],l=null;if(i!=null){var m=k||{};m.timeFormat=m.timeFormat||'unix_time';var n=c('normalizeSignalsTimestampType')(i,j,m);if(n!=null)l=Math.round(n/1000);}return l;}f.exports=h;}),null);
__d('normalizeSignalsValueType',['SignalsValidationUtils','normalizeSignalsNumberType'],(function a(b,c,d,e,f,g){'use strict';var h=c('SignalsValidationUtils').trim,i=['ALL','AFN','ARS','AWG','AUD','AZN','BSD','BBD','BYR','BZD','BMD','BOB','BAM','BWP','BGN','BRL','BND','KHR','CAD','KYD','CLP','CNY','COP','CRC','HRK','CUP','CZK','DKK','DOP','XCD','EGP','SVC','EEK','EUR','FKP','FJD','GHC','GIP','GTQ','GGP','GYD','HNL','HKD','HUF','ISK','INR','IDR','IRR','IMP','ILS','JMD','JPY','JEP','KES','KZT','KPW','KRW','KGS','LAK','LVL','LBP','LRD','LTL','MKD','MYR','MUR','MXN','MNT','MZN','NAD','NPR','ANG','NZD','NIO','NGN','NOK','OMR','PKR','PAB','PYG','PEN','PHP','PLN','QAR','RON','RUB','RMB','SHP','SAR','RSD','SCR','SGD','SBD','SOS','ZAR','LKR','SEK','CHF','SRD','SYP','TZS','TWD','THB','TTD','TRY','TRL','TVD','UGX','UAH','GBP','USD','UYU','UZS','VEF','VND','YER','ZWD','L','\u060B','$','\u0192','\u20BC','p.','BZ$','Bs.','KM','P','\u043B\u0432','R$','\u17DB','\u00A5','\u20A1','kn','\u20B1','K\u010D','kr','RD$','\u00A3','\u20AC','\u20B5','Q','Ft','\u20B9','Rp','\uFDFC','\u20AA','J$','KSh','\u20A9','\u20AD','Ls','Lt','\u0434\u0435\u043D','RM','\u20A8','\u20AE','MT','C$','\u20A6','B/.','Gs','S/.','z\u0142','lei','\u20BD','\uFFE5','\u0414\u0438\u043D.','S','R','TSh','NT$','\u0E3F','TT$','\u20BA','\u20A4','USh','\u20B4','$U','Bs','\u20AB','Z$'];function j(m,n,o){if(n<0||n>=m.length)return m;return m.substr(0,n)+o+m.substr(n+1);}function k(m){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],o=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],p=o.decimalPointChar?o.decimalPointChar:'.',q=m;if(p===','){if(m.indexOf('.')!==-1)return null;var r=m.lastIndexOf(',');q=j(m,r,'.');}return c('normalizeSignalsNumberType')(q,n);}function l(m){var n=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],o=arguments[2],p=k(m,n,o);if(p!=null)return p;var q=typeof m==='string';if(!q)return null;m=h(m);var r=i.map(function(t){if(m.startsWith(t)||m.toUpperCase().startsWith(t)){var u=m.substring(t.length);return k(u,n,o);}return null;}),s=i.map(function(t){if(m.endsWith(t)||m.toUpperCase().endsWith(t)){var u=m.substring(0,m.length-t.length);return k(u,n,o);}return null;});p=r.concat(s).filter(function(t){return t!==null;}).shift();return p?p:null;}f.exports=l;}),null);
__d('SignalsBaseTypeNormalizers',['SignalBaseTypes','normalizeSignalsAnyType','normalizeSignalsBoolType','normalizeSignalsCurrencyCodeType','normalizeSignalsDateType','normalizeSignalsDateMonthType','normalizeSignalsEmailType','normalizeSignalsEnumType','normalizeSignalsListType','normalizeSignalsNumberType','normalizeSignalsPhoneNumberType','normalizeSignalsPostalCodeType','normalizeSignalsStringType','normalizeSignalsTimestampType','normalizeSignalsUnixTimeType','normalizeSignalsFBIDType','normalizeSignalsValueType'],(function a(b,c,d,e,f,g){'use strict';var h;f.exports=(h={},h[c('SignalBaseTypes').ANY]=c('normalizeSignalsAnyType'),h[c('SignalBaseTypes').BOOL]=c('normalizeSignalsBoolType'),h[c('SignalBaseTypes').CURRENCY_CODE]=c('normalizeSignalsCurrencyCodeType'),h[c('SignalBaseTypes').DATE]=c('normalizeSignalsDateType'),h[c('SignalBaseTypes').DATE_MONTH]=c('normalizeSignalsDateMonthType'),h[c('SignalBaseTypes').EMAIL]=c('normalizeSignalsEmailType'),h[c('SignalBaseTypes').ENUM]=c('normalizeSignalsEnumType'),h[c('SignalBaseTypes').LIST]=c('normalizeSignalsListType'),h[c('SignalBaseTypes').NUMBER]=c('normalizeSignalsNumberType'),h[c('SignalBaseTypes').PHONE_NUMBER]=c('normalizeSignalsPhoneNumberType'),h[c('SignalBaseTypes').POSTAL_CODE]=c('normalizeSignalsPostalCodeType'),h[c('SignalBaseTypes').STRING]=c('normalizeSignalsStringType'),h[c('SignalBaseTypes').TIMESTAMP]=c('normalizeSignalsTimestampType'),h[c('SignalBaseTypes').UNIX_TIME]=c('normalizeSignalsUnixTimeType'),h[c('SignalBaseTypes').FBID]=c('normalizeSignalsFBIDType'),h[c('SignalBaseTypes').VALUE]=c('normalizeSignalsValueType'),h);}),null);
__d('SignalsUploaderValueMapperUtils',['SignalsBaseTypeNormalizers','SignalBaseTypes'],(function a(b,c,d,e,f,g){'use strict';var h=.9;function i(l){var m=false,n=Array(l.length).fill('');for(var o=0;o<l.length;o++){var p=l[o].match(/\./g),q=l[o].match(/\,/g);if(p&&p.length>1||q&&q.length>1||p&&q){m=true;break;}if(q){n[o]=',';}else if(p){n[o]='.';}else n[o]='';}if(m)return null;if(n.some(function(r){return r===',';})&&n.some(function(r){return r==='.';}))return null;if(n.some(function(r){return r===',';}))return ',';return '.';}function j(l){var m=i(l);if(!m)return {isValid:false};var n=l.map(function(r){return c('SignalsBaseTypeNormalizers')[c('SignalBaseTypes').VALUE](r,{min:0},{decimalPointChar:m});}),o=n.filter(function(r){return r!==null;}).length,p=l.length,q=o>=10?o/p>=h:o>=Math.max(p-1,1);return q?{isValid:q,decimalPointChar:m}:{isValid:q};}function k(l){return l.map(j);}f.exports={getValueColumnValidityMapping:k};}),null);
__d('SignalsUploaderValueMapperWithDataFetching.react',['cx','fbt','AdsHelpLink.react','BUIAdoptionXUIGrayText.react','BUIAdoptionXUINotice.react','BUIAdoptionXUISpinner.react','BUIForm.react','BUIFormElement.react','BUIFormSection.react','CenteredContainer.react','Link.react','React','SUIBusinessTheme','SUISelector.react','SUISelectorButton.react','SUISelectorOption.react','SignalsUploaderValueMapperUtils'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=c('React').Element,n=c('SignalsUploaderValueMapperUtils').getValueColumnValidityMapping,o=250,p=300,q=300,r=1000,s=5,t='value',u=i._("No valid customer value column found"),v=i._("The customer value column may only use positive numbers to denote customer values."),w=i._("We hide the columns that we don't think could be selected for customer value."),x=i._("Formatting your data.");j=babelHelpers.inherits(y,l);k=j&&j.prototype;function y(z){k.constructor.call(this,z);this.$SignalsUploaderValueMapperWithDataFetching6=function(aa){var ba=this.state.valueColumnValidityMapping[aa].decimalPointChar;this.props.onValueChange(aa,ba);}.bind(this);this.state={valueColumnValidityMapping:[],samples:[],visibleSamples:[]};this.$SignalsUploaderValueMapperWithDataFetching1=false;}y.prototype.componentDidMount=function(){this.$SignalsUploaderValueMapperWithDataFetching1=true;this.$SignalsUploaderValueMapperWithDataFetching2();};y.prototype.componentWillUnmount=function(){this.$SignalsUploaderValueMapperWithDataFetching1=false;};y.prototype.render=function(){var z=this.state,aa=z.valueColumnValidityMapping,ba=z.samples;if(ba&&ba.length>0){if(aa.every(function(ca){return ca.isValid===false;}))return this.$SignalsUploaderValueMapperWithDataFetching3();return this.$SignalsUploaderValueMapperWithDataFetching4(aa);}return c('React').createElement(c('CenteredContainer.react'),{vertical:true},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'}));};y.prototype.$SignalsUploaderValueMapperWithDataFetching3=function(){var z=this.props.additionalInfoURL;return c('React').createElement(c('CenteredContainer.react'),null,c('React').createElement('div',{style:{width:350}},c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'error'},c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'medium',weight:'bold'},u)),c('React').createElement('div',null,c('React').createElement(c('BUIAdoptionXUIGrayText.react'),{shade:'medium',size:'small'},v,c('React').createElement(c('Link.react'),{className:"_3-99",href:z,target:'_blank'},x))))));};y.prototype.$SignalsUploaderValueMapperWithDataFetching5=function(z){var aa=this.props.additionalInfoURL,ba=i._({"*":"{count} columns not shown","268435456":"{count} column not shown"},[i.param('count',z),i.plural(z)]),ca=c('React').createElement(c('AdsHelpLink.react'),{width:o},c('React').createElement('div',null,w),c('React').createElement(c('Link.react'),{href:aa,target:'_blank'},x));return c('React').createElement('div',{className:"_2ph-",key:"info",value:"info"},c('React').createElement(c('BUIAdoptionXUIGrayText.react'),null,ba,ca));};y.prototype.$SignalsUploaderValueMapperWithDataFetching4=function(z){var aa=this.state.visibleSamples,ba=this.props,ca=ba.valueColumn,da=ba.defaultLabel,ea=ba.selectorLabel,fa=aa.map(function(ja,ka){if(!ja||z[ka].isValid===false)return null;var la=ja.map(function(ma,na){return c('React').createElement('div',{key:na},ma);});return c('React').createElement(c('SUISelectorOption.react'),{className_DEPRECATED:"_1q3z",key:ka,value:ka},c('React').createElement('div',null,la));}).filter(Boolean),ga=z.filter(function(ja){return ja.isValid===false;}).length;if(ga>0)fa.push(this.$SignalsUploaderValueMapperWithDataFetching5(ga));var ha=ca!==null&&ca!==undefined?aa[ca].join(', '):da,ia=c('React').createElement(c('SUISelectorButton.react'),{height:'tall',label:ha,styleWhenMenuShown:{background:'#eeeeee'},textAlign:'left',width:q});return c('React').createElement(c('BUIForm.react'),null,c('React').createElement(c('BUIFormSection.react'),null,c('React').createElement(c('BUIFormElement.react'),{label:ea},c('React').createElement(c('SUISelector.react'),{menuHorizontalAlignment:'right',button:ia,dropdownWidth:"sameAsSelector",maxHeight:p,theme:c('SUIBusinessTheme'),value:this.props.valueColumn,width:q,onChange:this.$SignalsUploaderValueMapperWithDataFetching6},fa))));};y.prototype.$SignalsUploaderValueMapperWithDataFetching7=function(z){var aa=n(z);this.setState({valueColumnValidityMapping:aa});for(var ba=0;ba<z.length;ba++)if(z[ba].length>0&&z[ba][0].trim().toLowerCase()===t&&aa[ba]){this.props.onValueChange(ba);break;}};y.prototype.$SignalsUploaderValueMapperWithDataFetching2=function(){var z=this.props,aa=z.onStartSampleFetch,ba=z.onEndSampleFetch;if(aa)aa();this.props.uploader.sampleFetch(this.props.source,this.props.delimiter,{sampleFetchSize:r,sampleFormat:'column'}).done(function(ca){var da=ca.samples,ea=da.map(function(fa){var ga=[];for(var ha=0;ha<fa.length&&ga.length<s;ha++){var ia=fa[ha];if(ia!=null&&ia!='')ga.push(ia);}return ga;});if(this.$SignalsUploaderValueMapperWithDataFetching1){this.setState({visibleSamples:ea,samples:da});this.$SignalsUploaderValueMapperWithDataFetching7(da);}if(ba)ba();}.bind(this));};f.exports=y;}),null);
__d('getSignalsUploaderMappingReadiness',['immutable','React','SignalsIdentityRankedWaterfallMatchKeys','SignalsUploaderColumnMapperConstants','SignalsUploaderMappingVerificationConstants','SignalsUploaderMappingWarnings.react'],(function a(b,c,d,e,f,g){'use strict';var h=c('immutable').List,i=c('SignalsUploaderMappingVerificationConstants').MAPPING_ERROR_TYPES,j=c('SignalsIdentityRankedWaterfallMatchKeys').allMatchKeysRanked,k=c('SignalsUploaderColumnMapperConstants').ITEM_STATUSES;function l(o){return o.find(function(p){return p.valid;})!=null;}function m(o,p,q,r,s,t){var u,v=s.keysForSimplePropPaths,w=s.piiKeys,x=[].concat(w),y=l(r)?i.NO_WARNING:i.NO_VALID_SAMPLE_ROWS,z=j.map(function(ka){return ka.split('_');}),aa=false,ba=[];for(var ca=0;ca<o.size;ca++){var da=v[o.get(ca)],ea=p.get(ca)===k.MAPPED_RIGHT;if(ea){ba.push(da);for(var fa=0;fa<z.length&&!aa;fa++){var ga=z[fa],ha=ga.indexOf(da);if(ha>-1){ga.splice(ha,1);if(ga.length===0)aa=true;}}var ia=x.indexOf(da);x.splice(ia,1);}}var ja=[];if(aa){if(s.id==='basic_pii_schema'||s.id==='extended_pii_schema'||s.id==='wlal_pii_schema')if(q>0)(function(){var ka=i.ONLY_EMAIL_OR_PHONE_MAPPED_SOME_UNMAPPED_COLUMNS,la=true;ba.forEach(function(ma){la=la&&(ma==='email'||ma==='phone');});if(la&&!t.find(function(ma){return (ma.status===ka);}))y=ka;})();}else if(s.id==='basic_pii_schema'||s.id==='extended_pii_schema'||s.id==='event_data_schema'||s.id==='wlal_pii_schema')y=q>0?i.NON_MAPPED_COLUMNS_NO_VALID_MATCH_KEY:i.NO_NON_MAPPED_COLUMNS_NO_VALID_MATCH_KEY;return {matchKeysToSuggest:h(x),missingColumns:h(ja),nonMappedColumns:q,status:y};}function n(o){var p=h();return function(q,r){var s=m(q.mapping,q.columnStatuses,q.nonMappedColumns,q.sampleNormalizationResults,o,p);p=p.push(s);if(s.status!==i.NO_WARNING)return (c('React').createElement(c('SignalsUploaderMappingWarnings.react'),babelHelpers['extends']({schemaSummary:o,onClose:r},s)));return null;};}f.exports={getLegacyWarningDialogFunc:n,getSignalsUploaderMappingReadiness:m};}),null);
__d('AdsWLALUploaderFlow.react',['cx','fbt','regeneratorRuntime','Promise','AdsAMViewActions','AdsAudienceUploaderFlowConstants','AdsInterfacesLogger','AdsWLALUploaderInstructions.react','AudienceManagerLoggingEvents','AdsSignalsUploader','AdsSignalsWorkerJobConstants','BUIAdoptionButton.react','Event','immutable','React','SignalBaseTypes','SignalsDownloadReportLink.react','SignalsErrorDialog.react','SignalsFlowPhase.react','SignalsMultiPhaseFlow.react','SignalsUILogger','SignalsUITexts','SignalsUploaderColumnMappingStatus.react','SignalsUploaderColumnMapperWithDataFetching.react','SignalsUploaderErrorUtils','SignalsUploaderUploadComplete.react','SignalsUploaderValueMapperWithDataFetching.react','SignalsUploaderDefaultAdditionalInfos','SignalsUploaderDelimiterConfigurator.react','SignalsUploaderFlowTexts','SignalsUploaderFinishedStatus.react','SignalsUploaderLoggingEvents','SignalsUploaderMappingVerificationConstants','SignalsUploaderMappingWarnings.react','SignalsUploaderSelectSourceStep.react','SignalsUploaderUploadProgress.react','SignalsUploaderUtils','getSignalsSchemaSummary','getSignalsUploaderMappingReadiness'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l,m,n,o,p=c('getSignalsUploaderMappingReadiness').getLegacyWarningDialogFunc,q=c('SignalsUploaderUtils').getArgumentsForNormalizationFromColumnMapping,r=c('SignalsUploaderDefaultAdditionalInfos').getDefaultAdditionalInfoForPropSchema,s=c('SignalsUploaderErrorUtils').getHumanFriendlyAPIErrorMessage,t=c('React').PropTypes,u=c('immutable').List,v=c('immutable').Map,w=c('AdsSignalsWorkerJobConstants').JOB_TYPES,x=c('React').Component,y=c('SignalsUploaderMappingVerificationConstants').MAPPING_ERROR_TYPES,z=c('SignalsUploaderMappingVerificationConstants').USER_ANSWER_TO_ERROR,aa=c('AdsAudienceUploaderFlowConstants').UPLOADER_PHASES,ba='fileUpload',ca=/(\r|\n)(?=(.*?(\"\t|\"\r)))/g,da='/business/help/606443329504150?helpref=faq_content#VBLAL',ea=null,fa={columnStatuses:v((l={},l[String(ea)]={},l)),customColumnTypes:v((m={},m[String(ea)]=v(),m)),mappingInitialized:false,mappings:v((n={},n[String(ea)]=u(),n)),infosForNormalization:v((o={},o[String(ea)]=v(),o)),normalizationPreview:u(),samples:u(),delimiter:ea,uploadProgress:0,recordsProcessed:0,recordsUploaded:0,prefilledValues:null,fileInvalidErrorMessaging:null,uploadErrorMessaging:null};j=babelHelpers.inherits(ga,x);k=j&&j.prototype;function ga(ha){k.constructor.call(this,ha);this.$AdsWLALUploaderFlow8=function(event){if(this.state.step===aa.UPLOADING){setTimeout(function(){return this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_USER_TRIES_TO_NAVIGATE_AWAY_WHILE_UPLOAD);}.bind(this));var ia=this.$AdsWLALUploaderFlow5.get('DEFAULT_BEFORE_PAGE_UNLOAD_WARNING');event.returnValue=this.props.beforePageUnloadWarning||ia&&ia.toString();}}.bind(this);this.$AdsWLALUploaderFlow10=function(ia,ja){if(ja!==this.state.step){this.setState({step:ja},function(){switch(ja){case aa.SELECT_DATA:this.$AdsWLALUploaderFlow9();}}.bind(this));this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FLOW_TRANSITION,{atSection:ia,toSection:ja});}var ka=this.props.onTransition;if(ka)ka(ia,ja,this.$AdsWLALUploaderFlow11());}.bind(this);this.$AdsWLALUploaderFlow12=function(ia){if(this.props.onCancel)this.props.onCancel(ia);this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FLOW_CANCEL);}.bind(this);this.$AdsWLALUploaderFlow13=function(){if(this.props.onBackOut)this.props.onBackOut();this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FLOW_BACK_OUT);}.bind(this);this.$AdsWLALUploaderFlow14=function(){if(this.props.onStepOut)this.props.onStepOut();this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FLOW_STEP_OUT);}.bind(this);this.$AdsWLALUploaderFlow16=function(){var ia=this.props.audiences;if(ia==null)return;var ja=Object.keys(ia)[0];this.$AdsWLALUploaderFlow14();c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_VALUE_BASED_CREATE_LOOKALIKE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMViewActions').showLookalikeDialog(ja);}.bind(this);this.$AdsWLALUploaderFlow17=function(ia){this.setState({delimiter:ia});}.bind(this);this.$AdsWLALUploaderFlow18=function(ia){this.setState({columnStatuses:this.state.columnStatuses.set(String(this.state.delimiter),ia)});}.bind(this);this.$AdsWLALUploaderFlow19=function(ia,ja,ka){var la=this.state.mappings.merge(this.state.mappings.set(String(this.state.delimiter),ia)),ma=this.state.infosForNormalization.merge(this.state.infosForNormalization.set(String(this.state.delimiter),ka)),na=this.state.customColumnTypes.merge(this.state.customColumnTypes.set(String(this.state.delimiter),ja));this.setState({mappings:la,infosForNormalization:ma,customColumnTypes:na});}.bind(this);this.$AdsWLALUploaderFlow20=function(ia){this.setState({sourceInput:ia});this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_SOURCE_INPUT_SELECT,null,{sourceInput:ia});}.bind(this);this.$AdsWLALUploaderFlow21=function(ia){var ja=this.props.onPaste;this.setState({pastedContent:ia},function(){return ja&&ja(ia);});this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_PASTE);}.bind(this);this.$AdsWLALUploaderFlow22=function(){this.setState({pastedContent:null});}.bind(this);this.$AdsWLALUploaderFlow25=function(ia){var ja=this.props.onFileSelection,ka=void 0;if(ia instanceof FileList){ka=ia;}else ka=ia.target.files;var la=ka[0];if(this.$AdsWLALUploaderFlow23(la)){this.setState({file:la},function(){return ja&&ja(la);});this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FILE_CHANGE);}else this.setState({fileSelectorResetTime:Date.now(),fileInvalidErrorMessaging:this.$AdsWLALUploaderFlow24()});}.bind(this);this.$AdsWLALUploaderFlow26=function(){this.setState({customerValueColumn:null,file:null});this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FILE_REMOVE);}.bind(this);this.$AdsWLALUploaderFlow27=function(ia){var ja=this.props.onFileSelection,ka=ia.target.files[0];if(this.$AdsWLALUploaderFlow23(ka)){this.setState({file:ka},function(){return ja&&ja(ka);});this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FILE_SELECT);}else this.setState({fileSelectorResetTime:Date.now(),fileInvalidErrorMessaging:this.$AdsWLALUploaderFlow24()});}.bind(this);this.$AdsWLALUploaderFlow30=function(){this.$AdsWLALUploaderFlow31();return true;}.bind(this);this.$AdsWLALUploaderFlow37=function(ia,ja,ka){this.setState({warningDialog:null,prefilledValues:ja?ka:null});switch(ia){case z.CONTINUE_UPLOAD:case z.UPLOAD_ANYWAY:this.$AdsWLALUploaderFlow38();break;case z.TRY_NEW_FILE:this.$AdsWLALUploaderFlow9();this.setState({step:aa.SELECT_DATA,file:null,sourceInput:ba,pastedContent:null});this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FLOW_TRANSITION,{atSection:this.state.step,toSection:aa.SELECT_DATA});break;default:case z.BACK_TO_EDIT:break;}this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_MATCH_RATE_WARNING_CLOSE,null,{choice:ia});}.bind(this);this.$AdsWLALUploaderFlow39=function(){var ia=this.state.columnStatuses.get(String(this.state.delimiter)),ja=this.$AdsWLALUploaderFlow6(ia,this.$AdsWLALUploaderFlow37);if(ja==null){this.$AdsWLALUploaderFlow38();}else this.setState({warningDialog:ja});}.bind(this);this.$AdsWLALUploaderFlow43=function(){this.setState({busy:true});this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_START_SAMPLE_FETCH);}.bind(this);this.$AdsWLALUploaderFlow44=function(){this.setState({busy:false});this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FINISH_SAMPLE_FETCH);}.bind(this);this.$AdsWLALUploaderFlow45=function(){this.setState({pendingColumnStatuses:true});}.bind(this);this.$AdsWLALUploaderFlow46=function(){this.setState({pendingColumnStatuses:false});}.bind(this);this.$AdsWLALUploaderFlow47=function(){this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_GENERATE_ERROR_REPORT);}.bind(this);this.$AdsWLALUploaderFlow48=function(){var ia=this.state.step;if(this.props.onCancel)this.props.onCancel(ia);}.bind(this);this.$AdsWLALUploaderFlow49=function(){this.setState({fileInvalidErrorMessaging:null});}.bind(this);this.$AdsWLALUploaderFlow50=function(ia,ja){var ka=(this.state.infosForNormalization.get(String(this.state.delimiter))||this.state.infosForNormalization.get(String(ea))).set(String(ia),{decimalPointChar:ja}),la=this.state.infosForNormalization.set(String(this.state.delimiter),ka);this.setState({customerValueColumn:ia,infosForNormalization:la});}.bind(this);this.$AdsWLALUploaderFlow52=function(ia){if(this.props.onPostUploadOptionPicked)this.props.onPostUploadOptionPicked(ia);this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_POST_UPLOAD_ACTION_PICKED,null,{optionID:ia});}.bind(this);this.$AdsWLALUploaderFlow4=false;this.$AdsWLALUploaderFlow2=c('getSignalsSchemaSummary')(ha.schema);this.$AdsWLALUploaderFlow1=new (c('AdsSignalsUploader'))(this.props.schema,this.props.accessToken,this.props.logger);this.$AdsWLALUploaderFlow5=ha.uiTexts||c('SignalsUploaderFlowTexts');this.$AdsWLALUploaderFlow6=p(this.$AdsWLALUploaderFlow2);this.state=babelHelpers['extends']({},fa,{customerValueColumn:null,file:null,busy:false,pendingColumnStatuses:false,delimiter:ea,step:null,pastedContent:null,sourceInput:ba,warningDialog:null,hadUploadErrors:false,offline:false,wentOfflineTimeStamp:null,invalidSamples:[],hasHeader:false,fileSelectorResetTime:Date.now()});}ga.prototype.componentDidMount=function(){this.$AdsWLALUploaderFlow4=true;this.$AdsWLALUploaderFlow1.addListener('progress',function(ha){if(ha.command===w.UPLOAD)this.setState({uploadProgress:ha.value,recordsUploaded:ha.processed});}.bind(this));this.$AdsWLALUploaderFlow1.addListener('offline',function(ha){this.setState({offline:true,wentOfflineTimeStamp:Date.now()});}.bind(this));this.$AdsWLALUploaderFlow1.addListener('resume',function(ha){var ia,ja=this;if(ha.command===w.UPLOAD)(function(){var ka=ja.state.wentOfflineTimeStamp,la=ka!=null?Date.now()-ka:null;ja.setState({offline:false,wentOfflineTimeStamp:null});setTimeout(function(){return this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_WAS_OFFLINE,null,{offlineDuration:la});}.bind(ja));})();}.bind(this));this.$AdsWLALUploaderFlow3=c('Event').listen(window,'beforeunload',this.$AdsWLALUploaderFlow8);setTimeout(function(){return this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FLOW_INIT);}.bind(this));};ga.prototype.componentWillUnmount=function(){this.$AdsWLALUploaderFlow4=false;this.$AdsWLALUploaderFlow1.removeAllListeners();this.$AdsWLALUploaderFlow1.stop();if(this.$AdsWLALUploaderFlow3)this.$AdsWLALUploaderFlow3.remove();};ga.prototype.componentWillReceiveProps=function(ha){if(ha.accessToken!=null&&ha.accessToken!==this.props.accessToken)this.$AdsWLALUploaderFlow1.updateAccessToken(ha.accessToken);};ga.prototype.asyncSetState=function ha(ia){return c('regeneratorRuntime').async(function ja(ka){while(1)switch(ka.prev=ka.next){case 0:return ka.abrupt('return',new (c('Promise'))(function(la,ma){try{this.setState(ia,la);}catch(na){ma(na);}}.bind(this)));case 1:case 'end':return ka.stop();}},null,this);};ga.prototype.$AdsWLALUploaderFlow7=function(ha,ia,ja){var ka=this.props.logger;if(ka)ka.log(ha,babelHelpers['extends']({atSection:this.state.step},ia),ja);};ga.prototype.$AdsWLALUploaderFlow9=function(){this.setState(babelHelpers['extends']({},fa));};ga.prototype.$AdsWLALUploaderFlow15=function(){var ha=this.props.audiences;return ha!=null&&Object.keys(ha)[0]!=null;};ga.prototype.$AdsWLALUploaderFlow23=function(ha){return !(ha.size!=null&&ha.size===0);};ga.prototype.$AdsWLALUploaderFlow24=function(){var ha=this.$AdsWLALUploaderFlow5;return {errorTitle:ha.get('FILE_EMPTY_ERROR_MESSAGE_TITLE'),errorMessage:ha.get('FILE_EMPTY_ERROR_MESSAGE')};};ga.prototype.$AdsWLALUploaderFlow28=function(ha){return ha?ha.replace(ca,' '):ha;};ga.prototype.$AdsWLALUploaderFlow11=function(){return this.state.sourceInput==='fileUpload'?this.state.file:this.$AdsWLALUploaderFlow28(this.state.pastedContent||'');};ga.prototype.$AdsWLALUploaderFlow29=function ha(ia,ja){var ka,la,ma,na,oa,pa,qa,ra;return c('regeneratorRuntime').async(function sa(ta){while(1)switch(ta.prev=ta.next){case 0:ma=ia.map(function(ua){return ua!==c('SignalBaseTypes').ANY?ua:undefined;});na=this.$AdsWLALUploaderFlow2.schemasForSimplePropsInSchema;oa={};ma.forEach(function(ua,va){if(ua!=null){var wa=na[ua],xa=ja[va],ya=xa!=null?xa:r(wa);if(ya!=null)oa[va]=ya;}});pa=this.state.delimiter;qa=v((ka={},ka[String(pa)]=u(ma),ka));ra=v((la={},la[String(pa)]=v(oa),la));return ta.abrupt('return',this.asyncSetState({mappings:qa,infosForNormalization:ra}));case 8:case 'end':return ta.stop();}},null,this);};ga.prototype.$AdsWLALUploaderFlow31=function ha(){var ia,ja,ka,la,ma,na,oa;return c('regeneratorRuntime').async(function pa(qa){while(1)switch(qa.prev=qa.next){case 0:this.setState({busy:true});ia=this.$AdsWLALUploaderFlow11();if(!(ia!=null)){qa.next=21;break;}qa.next=5;return c('regeneratorRuntime').awrap(this.$AdsWLALUploaderFlow1.delimiterDetect(ia));case 5:ja=qa.sent;ka=ja.delimiter;this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_DELIMITER_DETECT_FINISH,null,{delimiter:ka});qa.next=10;return c('regeneratorRuntime').awrap(this.asyncSetState({delimiter:ka}));case 10:qa.next=12;return c('regeneratorRuntime').awrap(this.$AdsWLALUploaderFlow1.typeDetect(ia,ka));case 12:la=qa.sent;ma=la.additionalInfos;na=la.types;oa=la.hasHeader;this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_TYPE_DETECT_FINISH,null,{additionalInfos:ma,types:na,hasHeader:oa});this.setState({hasHeader:oa});qa.next=20;return c('regeneratorRuntime').awrap(this.$AdsWLALUploaderFlow29(na,ma));case 20:this.setState({busy:false,mappingInitialized:true});case 21:return qa.abrupt('return',true);case 22:case 'end':return qa.stop();}},null,this);};ga.prototype.$AdsWLALUploaderFlow32=function(){return this.state.columnStatuses.get(String(this.state.delimiter))||{};};ga.prototype.$AdsWLALUploaderFlow33=function(){return this.state.mappings.get(String(this.state.delimiter))||u();};ga.prototype.$AdsWLALUploaderFlow34=function(){var ha=this.$AdsWLALUploaderFlow33();if(this.state.customerValueColumn)ha=ha.set(this.state.customerValueColumn,'lookalike_value');return ha;};ga.prototype.$AdsWLALUploaderFlow35=function(){return this.state.customColumnTypes.get(String(this.state.delimiter))||v();};ga.prototype.$AdsWLALUploaderFlow36=function(){return this.state.infosForNormalization.get(String(this.state.delimiter))||v();};ga.prototype.$AdsWLALUploaderFlow40=function(){var ha=0,ia=this.state,ja=ia.file,ka=ia.pastedContent,la=ia.sourceInput;if(ja!=null&&la==='fileUpload'){ha=ja.size;}else if(ka!=null)ha=ka.length;return ha;};ga.prototype.$AdsWLALUploaderFlow41=function(ha,ia){if(this.$AdsWLALUploaderFlow4){var ja=s(ha);this.setState({uploadErrorMessaging:{errorTitle:ha&&ha.error_user_title,errorMessage:this.$AdsWLALUploaderFlow5.get('SOMETHING_WENT_WRONG_WHILE_UPLOADING'),errorDetails:ja}});var ka=this.props.logger;ka&&ka.logError(ia,ha);}};ga.prototype.$AdsWLALUploaderFlow38=function ha(){var ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za;return c('regeneratorRuntime').async(function ab(bb){while(1)switch(bb.prev=bb.next){case 0:ia=this.$AdsWLALUploaderFlow34();ja=this.$AdsWLALUploaderFlow35();ka=this.$AdsWLALUploaderFlow36();la=this.$AdsWLALUploaderFlow32();ma=la.columnStatuses;na=la.mappedRightColumns;oa=la.mappedWithErrorColumns;pa=la.nonMappedColumns;qa=q(ia,ja,ka,this.$AdsWLALUploaderFlow2,ma);ra=qa.mapping;sa=qa.infoForNormalization;ta=qa.customTypeInfos;if(!ra){bb.next=32;break;}this.setState({step:aa.UPLOADING});this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FLOW_TRANSITION,{atSection:this.state.step,toSection:aa.UPLOADING});ua=ra.toArray();va=this.props.logger;wa=sa.toJS();if(va)this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_START_UPLOAD,null,{sourceInput:this.state.sourceInput,sourceSize:this.$AdsWLALUploaderFlow40(),mapping:ia.toJS(),customTypes:ja.toJS(),infoForNormalization:wa,columnStatuses:{mappedRightColumns:na,mappedWithErrorColumns:oa,nonMappedColumns:pa}});bb.prev=19;bb.next=22;return c('regeneratorRuntime').awrap(this.props.onPrepareUpload(ua,wa));case 22:xa=bb.sent;this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_UPLOAD_PREPARED,null,{sourceInput:this.state.sourceInput,mapping:ua});ya=this.state.prefilledValues;za=this.$AdsWLALUploaderFlow11();this.$AdsWLALUploaderFlow42(za,ua,xa,ta,ya,wa);bb.next=32;break;case 29:bb.prev=29;bb.t0=bb['catch'](19);this.$AdsWLALUploaderFlow41(bb.t0,c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_PREPARE_UPLOAD_REJECT);case 32:return bb.abrupt('return',false);case 33:case 'end':return bb.stop();}},null,this,[[19,29]]);};ga.prototype.$AdsWLALUploaderFlow42=function ha(ia,ja,ka,la,ma,na){var oa,pa;return c('regeneratorRuntime').async(function qa(ra){while(1)switch(ra.prev=ra.next){case 0:if(!(ia!=null)){ra.next=16;break;}ra.prev=1;ra.next=4;return c('regeneratorRuntime').awrap(this.$AdsWLALUploaderFlow1.upload(ia,this.state.delimiter,ja,ka,{infoForNormalization:na,bufferBatchLine:this.props.uploadBatchSize||null,customTypeInfos:la.toJS(),hasHeader:this.state.hasHeader,presetValues:ma&&ma.toJS()}));case 4:oa=ra.sent;pa=oa.invalidSamples.length>0;if(pa){this.setState({hadUploadErrors:pa});this.setState({invalidSamples:oa.invalidSamples,recordsProcessed:oa.processed});}this.setState({step:aa.FINISHED_UPLOAD});this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FLOW_TRANSITION,{atSection:this.state.step,toSection:aa.FINISHED_UPLOAD});if(this.props.onFinishUpload)this.props.onFinishUpload();this.$AdsWLALUploaderFlow7(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FINISH_UPLOAD,null,{response:oa});ra.next=16;break;case 13:ra.prev=13;ra.t0=ra['catch'](1);this.$AdsWLALUploaderFlow41(ra.t0,c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_UPLOAD_REJECT);case 16:case 'end':return ra.stop();}},null,this,[[1,13]]);};ga.prototype.render=function(){var ha=this.$AdsWLALUploaderFlow5,ia={onFileChange:this.$AdsWLALUploaderFlow25,onFileRemove:this.$AdsWLALUploaderFlow26,onFilesSelection:this.$AdsWLALUploaderFlow27},ja=String(this.state.delimiter),ka=this.state,la=ka.customerValueColumn,ma=ka.file,na=ka.mappingInitialized,oa=ka.pastedContent,pa=ka.sourceInput,qa=ka.warningDialog,ra=ka.offline,sa=ka.uploadProgress,ta=ka.recordsProcessed,ua=ka.recordsUploaded,va=ka.uploadErrorMessaging,wa=ka.fileInvalidErrorMessaging,xa=ka.pendingColumnStatuses,ya=this.$AdsWLALUploaderFlow32(),za=this.props.termsBoxChecked&&(ma!=null&&pa==='fileUpload'||oa&&pa==='copyPaste'),ab=this.props.additionalInfoURL,bb=this.$AdsWLALUploaderFlow33(),cb=this.$AdsWLALUploaderFlow35(),db=this.$AdsWLALUploaderFlow36(),eb=this.$AdsWLALUploaderFlow11(),fb=na&&eb&&la!==null&&la!==undefined?c('React').createElement(c('SignalsUploaderColumnMapperWithDataFetching.react'),{additionalInfoURL:ab,delimiter:this.state.delimiter,initialCustomTypes:cb,initialInfoForNormalization:db,initialMapping:bb,key:ja,logger:this.props.logger,preMappedColumns:v({lookalike_value:la}),schema:this.props.schema,source:eb,uploader:this.$AdsWLALUploaderFlow1,onAdditionalInfoChange:this.props.onAdditionalInfoChange,onChange:this.$AdsWLALUploaderFlow19,onColumnStatusesChange:this.$AdsWLALUploaderFlow18,onEndPreviewFetch:this.$AdsWLALUploaderFlow46,onEndSampleFetch:this.$AdsWLALUploaderFlow44,onStartPreviewFetch:this.$AdsWLALUploaderFlow45,onStartSampleFetch:this.$AdsWLALUploaderFlow43}):null,gb=ha.get(aa.CONFIGURE_WEIGHT+'_SELECTOR_DEFAULT_LABEL'),hb=ha.get(aa.CONFIGURE_WEIGHT+'_SELECTOR_LABEL'),ib=eb&&this.state.delimiter?c('React').createElement(c('SignalsUploaderValueMapperWithDataFetching.react'),{additionalInfoURL:da,defaultLabel:gb,delimiter:this.state.delimiter,selectorLabel:hb,source:eb,uploader:this.$AdsWLALUploaderFlow1,valueColumn:la,onEndPreviewFetch:this.$AdsWLALUploaderFlow46,onEndSampleFetch:this.$AdsWLALUploaderFlow44,onStartPreviewFetch:this.$AdsWLALUploaderFlow45,onStartSampleFetch:this.$AdsWLALUploaderFlow43,onValueChange:this.$AdsWLALUploaderFlow50}):null,jb=wa?c('React').createElement(c('SignalsErrorDialog.react'),babelHelpers['extends']({},wa,{onClose:this.$AdsWLALUploaderFlow49})):null,kb=va?c('React').createElement(c('SignalsErrorDialog.react'),babelHelpers['extends']({},va,{onClose:this.$AdsWLALUploaderFlow48})):null,lb=this.props.editing?ha.get('UPLOAD_AND_UPDATE_BUTTON_LABEL'):ha.get('UPLOAD_AND_CREATE_BUTTON_LABEL'),mb=this.state.delimiter!=null?c('React').createElement('div',{className:"_34gt"},c('React').createElement(c('SignalsUploaderDelimiterConfigurator.react'),{selectedDelimiter:this.state.delimiter,onChange:this.$AdsWLALUploaderFlow17})):null,nb=this.props,ob=nb.bottomContent,pb=nb.uploadProgressContent;return c('React').createElement('div',null,c('React').createElement(c('SignalsMultiPhaseFlow.react'),{height:this.props.height,isBusy:this.state.busy,maxHeight:this.props.maxHeight,phaseID:this.state.step,onBackOut:this.$AdsWLALUploaderFlow13,onCancel:this.$AdsWLALUploaderFlow12,onStepOut:this.$AdsWLALUploaderFlow14,onTransition:this.$AdsWLALUploaderFlow10},c('React').createElement(c('SignalsFlowPhase.react'),{additionalInfoURL:ab,backButton:this.props.onBackOut?c('React').createElement(c('BUIAdoptionButton.react'),{label:ha.get('BACK_BUTTON_LABEL')}):null,bottomContent:ob,description:ha.get(aa.SELECT_DATA+'_DESCRIPTION'),footer:this.props.dataSelectorFooter,hasCancelButton:true,id:aa.SELECT_DATA,label:ha.get(aa.SELECT_DATA+'_LABEL'),nextButton:c('React').createElement(c('BUIAdoptionButton.react'),{disabled:!za,label:ha.get('NEXT_BUTTON_LABEL'),use:'confirm',onClick:this.$AdsWLALUploaderFlow30}),title:ha.get(aa.SELECT_DATA+'_TITLE')},c('React').createElement(c('SignalsUploaderSelectSourceStep.react'),babelHelpers['extends']({allowCopyPaste:false,hideDefaultInstructions:true,hideExampleFile:!!this.state.file,initialFile:this.state.file,initialInputMode:this.state.sourceInput,initialPastedContent:this.state.pastedContent,key:this.state.fileSelectorResetTime,schemaSummary:this.$AdsWLALUploaderFlow2,termsOfService:this.props.termsOfService||'',onCopyPasteReset:this.$AdsWLALUploaderFlow22,onInputSelect:this.$AdsWLALUploaderFlow20,onPaste:this.$AdsWLALUploaderFlow21},ia),this.props.sourceSelectorContent,c('React').createElement('div',{style:{marginBottom:12}},c('React').createElement(c('AdsWLALUploaderInstructions.react'),{schemaSummary:this.$AdsWLALUploaderFlow2}))),jb),c('React').createElement(c('SignalsFlowPhase.react'),{additionalInfoURL:da,backButton:c('React').createElement(c('BUIAdoptionButton.react'),{label:ha.get('BACK_BUTTON_LABEL')}),bottomContent:ob,description:ha.get(aa.CONFIGURE_WEIGHT+'_DESCRIPTION'),hasCancelButton:true,id:aa.CONFIGURE_WEIGHT,label:ha.get(aa.CONFIGURE_WEIGHT+'_LABEL'),nextButton:c('React').createElement(c('BUIAdoptionButton.react'),{disabled:this.state.customerValueColumn===null,label:ha.get('NEXT_BUTTON_LABEL'),use:'confirm'}),title:ha.get(aa.CONFIGURE_WEIGHT+'_TITLE')},ib),c('React').createElement(c('SignalsFlowPhase.react'),{additionalInfoURL:ab,backButton:c('React').createElement(c('BUIAdoptionButton.react'),{label:ha.get('BACK_BUTTON_LABEL')}),bottomContent:ob,description:ha.get(aa.CONFIGURE_MAPPING+'_DESCRIPTION'),footer:c('React').createElement('div',null,c('React').createElement(c('SignalsUploaderColumnMappingStatus.react'),{columnStatuses:ya.columnStatuses||u(),customTypes:cb||v(),mapping:this.$AdsWLALUploaderFlow34(),schemaSummary:this.$AdsWLALUploaderFlow2}),this.props.mapperFooter),hasCancelButton:true,id:aa.CONFIGURE_MAPPING,label:ha.get(aa.CONFIGURE_MAPPING+'_LABEL'),nextButton:c('React').createElement(c('BUIAdoptionButton.react'),{disabled:xa||bb.size===0||!(ya&&ya.mappedRightColumns>0),label:lb,use:'confirm',onClick:this.$AdsWLALUploaderFlow39}),title:ha.get(aa.CONFIGURE_MAPPING+'_TITLE')},c('React').createElement('div',{className:"_34gu"},fb),mb,qa),c('React').createElement(c('SignalsFlowPhase.react'),{additionalInfoURL:ab,bottomContent:ob,description:ha.get(aa.UPLOADING+'_DESCRIPTION'),id:aa.UPLOADING,label:ha.get(aa.UPLOADING+'_LABEL'),title:ha.get(aa.UPLOADING+'_TITLE')},c('React').createElement(c('SignalsUploaderUploadProgress.react'),{doNotCancelMessage:this.props.doNotCancelMessage,offline:ra,progress:sa,recordsUploaded:ua}),pb,kb),this.$AdsWLALUploaderFlow51(ob,ta,ua)));};ga.prototype.$AdsWLALUploaderFlow51=function(ha,ia,ja){var ka=this.$AdsWLALUploaderFlow5,la=this.state,ma=la.hadUploadErrors,na=la.invalidSamples,oa=ma?c('React').createElement(c('SignalsDownloadReportLink.react'),{errorTokenLists:na,onErrorReportGenerate:this.$AdsWLALUploaderFlow47}):null,pa=null;if(this.props.completionMessage)pa=this.props.editing?c('React').createElement(c('SignalsUploaderUploadComplete.react'),{completionMessage:this.props.completionMessage,postUploadOptions:this.props.postUploadOptions,onPostUploadOptionPicked:this.$AdsWLALUploaderFlow52}):c('React').createElement(c('SignalsUploaderUploadComplete.react'),{completionMessage:this.props.completionMessage});return this.props.editing?c('React').createElement(c('SignalsFlowPhase.react'),{bottomContent:ha,description:c('React').createElement('div',null,ka.get(aa.FINISHED_UPLOAD+'_DESCRIPTION',[ja]),oa),id:aa.FINISHED_UPLOAD,label:ka.get(aa.FINISHED_UPLOAD+'_LABEL'),nextButton:c('React').createElement(c('BUIAdoptionButton.react'),{label:ka.get('DONE_BUTTON_LABEL'),use:'confirm',onClick:this.$AdsWLALUploaderFlow14}),title:ka.get(aa.FINISHED_UPLOAD+'_UPDATE_TITLE')},pa):c('React').createElement(c('SignalsFlowPhase.react'),{bottomContent:ha,hasCancelButton:true,id:aa.FINISHED_UPLOAD,label:ka.get(aa.FINISHED_UPLOAD+'_LABEL'),nextButton:c('React').createElement(c('BUIAdoptionButton.react'),{disabled:this.state.busy||!this.$AdsWLALUploaderFlow15(),label:ka.get('CREATE_LOOKALIKE_BUTTON_LABEL'),use:'confirm',onClick:this.$AdsWLALUploaderFlow16}),title:c('React').createElement(c('SignalsUploaderFinishedStatus.react'),{errorTokenLists:na,hadUploadErrors:ma,totalRows:ia,uiTexts:ka,uploadedRows:ja,onErrorReportGenerate:this.$AdsWLALUploaderFlow47})},pa);};ga.propTypes={accessToken:t.string,additionalInfoURL:t.string,audiences:t.object,beforePageUnloadWarning:t.node,bottomContent:t.element,completionMessage:t.node,dataSelectorFooter:t.element,editing:t.object,height:t.number,logger:t.instanceOf(c('SignalsUILogger')),mapperFooter:t.element,mappingStatusDisplay:t.element,maxHeight:t.number,postUploadOptions:t.element,schema:t.object.isRequired,sourceSelectorContent:t.oneOfType([t.element,t.node,t.string]),termsBoxChecked:t.bool.isRequired,termsOfService:t.oneOfType([t.element,t.node,t.string]),uiTexts:t.instanceOf(c('SignalsUITexts')),uploadBatchSize:t.number,uploadProgressContent:t.element,onAdditionalInfoChange:t.func,onBackOut:t.func,onCancel:t.func,onFileSelection:t.func,onFinishUpload:t.func,onPaste:t.func,onPostUploadOptionPicked:t.func,onPrepareUpload:t.func.isRequired,onStepOut:t.func,onTransition:t.func};f.exports=ga;}),null);
__d('CustomAudienceUtils',['Promise','AdsGraphAPI','WeightedLookalikeConfig'],(function a(b,c,d,e,f,g){'use strict';var h={DEFAULT_NAME:'Untitled',create:function i(j,k,l,m){var n={name:k||h.DEFAULT_NAME,description:m,subtype:'CUSTOM'},o=c('WeightedLookalikeConfig').can_account_use_weighted_datafile;if(o&&l)n.is_value_based=true;return new (c('Promise'))(function(p,q){c('AdsGraphAPI').get(f.id).adaccount(j).edge('customaudiences').post(n).done(function(r){p(r);},function(r){q(r);});});},upload:function i(j,k,l){return new (c('Promise'))(function(m,n){c('AdsGraphAPI').get(f.id).object('customaudience',j).edge('users').post({session:l,payload:k}).done(function(o){m(o);},function(o){n(o);});});},removeUsers:function i(j,k,l){return new (c('Promise'))(function(m,n){c('AdsGraphAPI').get(f.id).object('customaudience',j).edge('users').remove({session:l,payload:k}).done(function(o){m(o);},function(o){n(o);});});}};f.exports=h;}),null);
__d('SignalsEmbeddedSurveyActionTypes',['keyMirrorRecursive'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirrorRecursive')({CLEAR_SURVEY:'',SET_LOGGER:'',SAVE_SURVEY:''});f.exports=h;}),null);
__d('SignalsEmbeddedSurveyActions',['AdsDispatcher','SignalsEmbeddedSurveyActionTypes','SignalsUILogger'],(function a(b,c,d,e,f,g){'use strict';var h={clearSurvey:function i(){c('AdsDispatcher').handleUpdateFromViewAction({type:c('SignalsEmbeddedSurveyActionTypes').CLEAR_SURVEY});},saveSurvey:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({type:c('SignalsEmbeddedSurveyActionTypes').SAVE_SURVEY,survey:j});},setLogger:function i(j){c('AdsDispatcher').handleUpdateFromViewAction({type:c('SignalsEmbeddedSurveyActionTypes').SET_LOGGER,logger:j});}};f.exports=h;}),null);
__d('SignalsEmbeddedSurveyStore',['AdsDispatcher','DOMContainer.react','immutable','FluxReduceStore','React','SignalsEmbeddedSurveyActionTypes','SignalsUILogger','SignalsUploaderLoggingEvents'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k,l=c('immutable').Record;h=babelHelpers.inherits(m,l({closed:true,logger:null,survey:null}));i=h&&h.prototype;function m(){h.apply(this,arguments);}j=babelHelpers.inherits(n,c('FluxReduceStore'));k=j&&j.prototype;function n(){k.constructor.call(this,c('AdsDispatcher'));}n.prototype.getInitialState=function(){return new m();};n.prototype.reduce=function(o,p){var q=p.action,r=q.type;switch(r){case c('SignalsEmbeddedSurveyActionTypes').CLEAR_SURVEY:if(o.logger!=null)o.logger.log(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_SURVEY_FINISHED);return o.set('survey',null).set('closed',true);case c('SignalsEmbeddedSurveyActionTypes').SAVE_SURVEY:if(o.logger!=null)o.logger.log(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_SURVEY_LOAD_SUCCESS);return o.set('survey',c('React').createElement(c('DOMContainer.react'),null,q.survey)).set('closed',false);case c('SignalsEmbeddedSurveyActionTypes').SET_LOGGER:return o.set('logger',q.logger);default:return o;}};f.exports=new n();}),null);
__d('SignalsEmbeddedSurveyContainer.react',['cx','AdsFluxContainer','BUIAdoptionCloseButton.react','FluxStore','React','SignalsEmbeddedSurveyActions','SignalsEmbeddedSurveyStore'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;l.getStores=function(){return [c('SignalsEmbeddedSurveyStore')];};l.calculateState=function(m,n){var o=c('SignalsEmbeddedSurveyStore').getState().survey,p=c('SignalsEmbeddedSurveyStore').getState().closed;return {cancelled:p,surveyContent:o};};function l(m){j.constructor.call(this,m);this.$SignalsEmbeddedSurveyContainer1=function(){c('SignalsEmbeddedSurveyActions').clearSurvey();};this.state={cancelled:false,surveyContent:null};}l.prototype.render=function(){var m=this.state,n=m.surveyContent,o=m.cancelled,p=this.props,q=p.cancellable,r=p.fadeIn,s=n!=null&&q&&!o?c('React').createElement(c('BUIAdoptionCloseButton.react'),{className_DEPRECATED:"_1v4v",onClick:this.$SignalsEmbeddedSurveyContainer1}):null;return (c('React').createElement('div',{className:"_1v4x"+(' '+"_1v4y")+(q===true?' '+"_1v4-":'')+(n==null||o?' '+"_1v55":'')+(r===true?' '+"_1v56":'')},c('React').createElement('div',{className:"_1v57"},s,n)));};f.exports=c('AdsFluxContainer').create(l,{withProps:true});}),null);
__d("XSignalsEmbeddedSurveyController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ads\/signals\/survey\/",{integration_point_id:{type:"FBID",required:true},context_data:{type:"StringToStringMap"}});}),null);
__d('SignalsEmbeddedSurveyManager',['AsyncRequest','SignalsUILogger','SignalsUploaderLoggingEvents','XSignalsEmbeddedSurveyController'],(function a(b,c,d,e,f,g){'use strict';var h={loadSurvey:function i(j,k,l){var m=c('XSignalsEmbeddedSurveyController').getURIBuilder().setFBID('integration_point_id',j).setStringToStringMap('context_data',k).getURI();new (c('AsyncRequest'))().setAllowCrossOrigin(true).setURI(m).setErrorHandler(function(n){if(l!=null)l.log(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_SURVEY_LOAD_ERROR,null,{response:n&&n.getPayload()});}).send();}};f.exports=h;}),null);
__d('SignalsUploaderDataFormattingNUX.react',['cx','BUIAdoptionCloseButton.react','React','SimpleNUXMessage'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=function n(o){return (c('React').createElement('div',{className:"_48dk"},o.content,c('React').createElement(c('BUIAdoptionCloseButton.react'),{className_DEPRECATED:"_48dm",shade:'light',onClick:o.onClose})));};i=babelHelpers.inherits(m,k);j=i&&i.prototype;function m(n){j.constructor.call(this,n);this.$SignalsUploaderDataFormattingNUX1=function(){var o=this.props.nuxType;c('SimpleNUXMessage').markMessageSeenByUser(o);this.setState({highlighted:false});}.bind(this);this.state={highlighted:!c('SimpleNUXMessage').hasUserSeenMessage(n.nuxType)};}m.prototype.render=function(){var n=this.state.highlighted,o=this.props,p=o.collapsedContent,q=o.highlightedContent;return (c('React').createElement('div',{className:"_48dn"},c('React').createElement('div',{className:"_48do"+(!n?' '+"_48dq":'')},c('React').createElement(l,{content:q,onClose:this.$SignalsUploaderDataFormattingNUX1})),c('React').createElement('div',{className:"_48do"+(n?' '+"_48dq":'')},p)));};f.exports=m;}),null);
__d('SignalsUploaderFlow.react',['cx','regeneratorRuntime','Promise','AdsSignalsUploader','AdsSignalsWorkerJobConstants','BUIAdoptionButton.react','Event','immutable','React','SignalBaseTypes','SignalsDownloadReportLink.react','SignalsErrorDialog.react','SignalsFlowPhase.react','SignalsMultiPhaseFlow.react','SignalsUILogger','SignalsUITexts','SignalsUploaderColumnMappingStatus.react','SignalsUploaderColumnMapperWithDataFetching.react','SignalsUploaderDefaultAdditionalInfos','SignalsUploaderDelimiterConfigurator.react','SignalsUploaderErrorUtils','SignalsUploaderFlowConstants','SignalsUploaderFlowTexts','SignalsUploaderFinishedStatus.react','SignalsUploaderLoggingEvents','SignalsUploaderMappingVerificationConstants','SignalsUploaderSelectSourceStep.react','SignalsUploaderUploadComplete.react','SignalsUploaderUploadProgress.react','SignalsUploaderUtils','getSignalsSchemaSummary'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l,m,n,o=c('SignalsUploaderUtils').getArgumentsForNormalizationFromColumnMapping,p=c('SignalsUploaderDefaultAdditionalInfos').getDefaultAdditionalInfoForPropSchema,q=c('SignalsUploaderErrorUtils').getHumanFriendlyAPIErrorMessage,r=c('React').PropTypes,s=c('immutable').List,t=c('immutable').Map,u=c('AdsSignalsWorkerJobConstants').JOB_TYPES,v=c('React').Component,w=c('SignalsUploaderMappingVerificationConstants').USER_ANSWER_TO_ERROR,x=c('SignalsUploaderFlowConstants').UPLOADER_PHASES,y='fileUpload',z=/(\r|\n)(?=(.*?(\"\t|\"\r)))/g,aa=null,ba={columnStatuses:t((k={},k[String(aa)]={},k)),customColumnTypes:t((l={},l[String(aa)]=t(),l)),mappingInitialized:false,mappings:t((m={},m[String(aa)]=s(),m)),infosForNormalization:t((n={},n[String(aa)]=t(),n)),normalizationPreview:s(),samples:s(),delimiter:aa,uploadProgress:0,recordsProcessed:0,recordsUploaded:0,prefilledValues:null,fileInvalidErrorMessaging:null,uploadErrorMessaging:null};i=babelHelpers.inherits(ca,v);j=i&&i.prototype;function ca(da){j.constructor.call(this,da);this.$SignalsUploaderFlow6=function(ea,fa,ga){var ha=this.props.logger;if(ha)ha.log(ea,babelHelpers['extends']({atSection:this.state.step},fa),ga);}.bind(this);this.$SignalsUploaderFlow7=function(event){if(this.state.step===x.UPLOADING){setTimeout(function(){return this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_USER_TRIES_TO_NAVIGATE_AWAY_WHILE_UPLOAD);}.bind(this));var ea=this.$SignalsUploaderFlow5.get('DEFAULT_BEFORE_PAGE_UNLOAD_WARNING');event.returnValue=this.props.beforePageUnloadWarning||ea&&ea.toString();}}.bind(this);this.$SignalsUploaderFlow9=function(ea,fa){if(fa!==this.state.step){this.setState({step:fa},function(){switch(fa){case x.SELECT_DATA:this.$SignalsUploaderFlow8();}}.bind(this));this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FLOW_TRANSITION,{atSection:ea,toSection:fa});}var ga=this.props.onTransition;if(ga)ga(ea,fa,this.$SignalsUploaderFlow10());}.bind(this);this.$SignalsUploaderFlow11=function(ea){if(this.props.onCancel)this.props.onCancel(ea);this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FLOW_CANCEL);}.bind(this);this.$SignalsUploaderFlow12=function(){if(this.props.onBackOut)this.props.onBackOut();this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FLOW_BACK_OUT);}.bind(this);this.$SignalsUploaderFlow13=function(){if(this.props.onStepOut)this.props.onStepOut();this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FLOW_STEP_OUT);}.bind(this);this.$SignalsUploaderFlow14=function(ea){if(this.props.onPostUploadOptionPicked)this.props.onPostUploadOptionPicked(ea);this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_POST_UPLOAD_ACTION_PICKED,null,{optionID:ea});}.bind(this);this.$SignalsUploaderFlow15=function(ea){this.setState({delimiter:ea});}.bind(this);this.$SignalsUploaderFlow16=function(ea){this.setState({columnStatuses:this.state.columnStatuses.set(String(this.state.delimiter),ea)});}.bind(this);this.$SignalsUploaderFlow17=function(ea,fa,ga){var ha=this.state.mappings.merge(this.state.mappings.set(String(this.state.delimiter),ea)),ia=this.state.infosForNormalization.merge(this.state.infosForNormalization.set(String(this.state.delimiter),ga)),ja=this.state.customColumnTypes.merge(this.state.customColumnTypes.set(String(this.state.delimiter),fa));this.setState({mappings:ha,infosForNormalization:ia,customColumnTypes:ja});}.bind(this);this.$SignalsUploaderFlow18=function(ea){this.setState({sourceInput:ea});this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_SOURCE_INPUT_SELECT,null,{sourceInput:ea});}.bind(this);this.$SignalsUploaderFlow19=function(ea){var fa=this.props.onPaste;this.setState({pastedContent:ea},function(){return fa&&fa(ea);});this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_PASTE);}.bind(this);this.$SignalsUploaderFlow20=function(){this.setState({pastedContent:null});}.bind(this);this.$SignalsUploaderFlow23=function(ea){var fa=this.props.onFileSelection,ga=void 0;if(ea instanceof FileList){ga=ea;}else ga=ea.target.files;var ha=ga[0];if(this.$SignalsUploaderFlow21(ha)){this.setState({file:ha},function(){return fa&&fa(ha);});this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FILE_CHANGE);}else this.setState({fileSelectorResetTime:Date.now(),fileInvalidErrorMessaging:this.$SignalsUploaderFlow22()});}.bind(this);this.$SignalsUploaderFlow24=function(){this.setState({file:null});this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FILE_REMOVE);}.bind(this);this.$SignalsUploaderFlow25=function(ea){var fa=this.props.onFileSelection,ga=ea.target.files[0];if(this.$SignalsUploaderFlow21(ga)){this.setState({file:ga},function(){return fa&&fa(ga);});this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FILE_SELECT);}else this.setState({fileSelectorResetTime:Date.now(),fileInvalidErrorMessaging:this.$SignalsUploaderFlow22()});}.bind(this);this.$SignalsUploaderFlow28=function(){this.$SignalsUploaderFlow29();return true;}.bind(this);this.$SignalsUploaderFlow34=function(ea,fa,ga){this.setState({warningDialog:null,prefilledValues:fa?ga:null},function(){switch(ea){case w.CONTINUE_UPLOAD:case w.UPLOAD_ANYWAY:this.$SignalsUploaderFlow35();break;case w.TRY_NEW_FILE:this.$SignalsUploaderFlow8();this.setState({step:x.SELECT_DATA,file:null,sourceInput:y,pastedContent:null});this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FLOW_TRANSITION,{atSection:this.state.step,toSection:x.SELECT_DATA});break;default:case w.BACK_TO_EDIT:break;}}.bind(this));this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_MATCH_RATE_WARNING_CLOSE,null,{choice:ea});}.bind(this);this.$SignalsUploaderFlow36=function(){var ea=this.state.columnStatuses.get(String(this.state.delimiter)),fa=this.props.warningDialogFunc,ga=fa&&fa(ea,this.$SignalsUploaderFlow34)||null;if(ga==null){this.$SignalsUploaderFlow35();}else this.setState({warningDialog:ga});}.bind(this);this.$SignalsUploaderFlow40=function(){this.setState({busy:true});this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_START_SAMPLE_FETCH);}.bind(this);this.$SignalsUploaderFlow41=function(ea){this.setState({busy:false,samples:ea});this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FINISH_SAMPLE_FETCH);}.bind(this);this.$SignalsUploaderFlow42=function(){this.setState({pendingColumnStatuses:true});}.bind(this);this.$SignalsUploaderFlow43=function(ea){this.setState({pendingColumnStatuses:false,normalizationPreview:ea});}.bind(this);this.$SignalsUploaderFlow44=function(){this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_GENERATE_ERROR_REPORT);}.bind(this);this.$SignalsUploaderFlow45=function(){var ea=this.state.step;if(this.props.onCancel)this.props.onCancel(ea);}.bind(this);this.$SignalsUploaderFlow46=function(){this.setState({fileInvalidErrorMessaging:null});}.bind(this);this.$SignalsUploaderFlow4=false;this.$SignalsUploaderFlow2=c('getSignalsSchemaSummary')(da.schema);this.$SignalsUploaderFlow1=new (c('AdsSignalsUploader'))(this.props.schema,this.props.accessToken,this.props.logger);this.$SignalsUploaderFlow5=da.uiTexts||c('SignalsUploaderFlowTexts');this.state=babelHelpers['extends']({},ba,{file:null,busy:false,pendingColumnStatuses:false,delimiter:aa,step:null,pastedContent:null,sourceInput:y,warningDialog:null,hadUploadErrors:false,offline:false,wentOfflineTimeStamp:null,invalidSamples:[],hasHeader:false,fileSelectorResetTime:Date.now()});}ca.prototype.componentDidMount=function(){this.$SignalsUploaderFlow4=true;this.$SignalsUploaderFlow1.addListener('progress',function(da){if(da.command===u.UPLOAD)this.setState({uploadProgress:da.value,recordsUploaded:da.succeeded});}.bind(this));this.$SignalsUploaderFlow1.addListener('offline',function(da){this.setState({offline:true,wentOfflineTimeStamp:Date.now()});}.bind(this));this.$SignalsUploaderFlow1.addListener('resume',function(da){var ea,fa=this;if(da.command===u.UPLOAD)(function(){var ga=fa.state.wentOfflineTimeStamp,ha=ga!=null?Date.now()-ga:null;fa.setState({offline:false,wentOfflineTimeStamp:null});setTimeout(function(){return this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_WAS_OFFLINE,null,{offlineDuration:ha});}.bind(fa));})();}.bind(this));this.$SignalsUploaderFlow3=c('Event').listen(window,'beforeunload',this.$SignalsUploaderFlow7);setTimeout(function(){return this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FLOW_INIT);}.bind(this));};ca.prototype.componentWillUnmount=function(){this.$SignalsUploaderFlow4=false;this.$SignalsUploaderFlow1.removeAllListeners();this.$SignalsUploaderFlow1.stop();if(this.$SignalsUploaderFlow3)this.$SignalsUploaderFlow3.remove();};ca.prototype.componentWillReceiveProps=function(da){if(da.accessToken!=null&&da.accessToken!==this.props.accessToken)this.$SignalsUploaderFlow1.updateAccessToken(da.accessToken);};ca.prototype.asyncSetState=function da(ea){return c('regeneratorRuntime').async(function fa(ga){while(1)switch(ga.prev=ga.next){case 0:return ga.abrupt('return',new (c('Promise'))(function(ha,ia){try{this.setState(ea,ha);}catch(ja){ia(ja);}}.bind(this)));case 1:case 'end':return ga.stop();}},null,this);};ca.prototype.$SignalsUploaderFlow8=function(){this.setState(babelHelpers['extends']({},ba));};ca.prototype.$SignalsUploaderFlow21=function(da){return !(da.size!=null&&da.size===0);};ca.prototype.$SignalsUploaderFlow22=function(){var da=this.$SignalsUploaderFlow5;return {errorTitle:da.get('FILE_EMPTY_ERROR_MESSAGE_TITLE'),errorMessage:da.get('FILE_EMPTY_ERROR_MESSAGE')};};ca.prototype.$SignalsUploaderFlow26=function(da){return da?da.replace(z,' '):da;};ca.prototype.$SignalsUploaderFlow10=function(){return this.state.sourceInput==='fileUpload'?this.state.file:this.$SignalsUploaderFlow26(this.state.pastedContent||'');};ca.prototype.$SignalsUploaderFlow27=function da(ea,fa){var ga,ha,ia,ja,ka,la,ma,na;return c('regeneratorRuntime').async(function oa(pa){while(1)switch(pa.prev=pa.next){case 0:ia=ea.map(function(qa){return qa!==c('SignalBaseTypes').ANY?qa:undefined;});ja=this.$SignalsUploaderFlow2.schemasForSimplePropsInSchema;ka={};ia.forEach(function(qa,ra){if(qa!=null){var sa=ja[qa],ta=fa[ra],ua=ta!=null?ta:p(sa);if(ua!=null)ka[ra]=ua;}});la=this.state.delimiter;ma=t((ga={},ga[String(la)]=s(ia),ga));na=t((ha={},ha[String(la)]=t(ka),ha));return pa.abrupt('return',this.asyncSetState({mappings:ma,infosForNormalization:na}));case 8:case 'end':return pa.stop();}},null,this);};ca.prototype.$SignalsUploaderFlow29=function da(){var ea,fa,ga,ha,ia,ja,ka;return c('regeneratorRuntime').async(function la(ma){while(1)switch(ma.prev=ma.next){case 0:this.setState({busy:true});ea=this.$SignalsUploaderFlow10();if(!(ea!=null)){ma.next=21;break;}ma.next=5;return c('regeneratorRuntime').awrap(this.$SignalsUploaderFlow1.delimiterDetect(ea));case 5:fa=ma.sent;ga=fa.delimiter;this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_DELIMITER_DETECT_FINISH,null,{delimiter:ga});ma.next=10;return c('regeneratorRuntime').awrap(this.asyncSetState({delimiter:ga}));case 10:ma.next=12;return c('regeneratorRuntime').awrap(this.$SignalsUploaderFlow1.typeDetect(ea,ga));case 12:ha=ma.sent;ia=ha.additionalInfos;ja=ha.types;ka=ha.hasHeader;this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_TYPE_DETECT_FINISH,null,{additionalInfos:ia,types:ja,hasHeader:ka});this.setState({hasHeader:ka});ma.next=20;return c('regeneratorRuntime').awrap(this.$SignalsUploaderFlow27(ja,ia));case 20:this.setState({mappingInitialized:true});case 21:return ma.abrupt('return',true);case 22:case 'end':return ma.stop();}},null,this);};ca.prototype.$SignalsUploaderFlow30=function(){return this.state.columnStatuses.get(String(this.state.delimiter))||{};};ca.prototype.$SignalsUploaderFlow31=function(){return this.state.mappings.get(String(this.state.delimiter))||s();};ca.prototype.$SignalsUploaderFlow32=function(){return this.state.customColumnTypes.get(String(this.state.delimiter))||t();};ca.prototype.$SignalsUploaderFlow33=function(){return this.state.infosForNormalization.get(String(this.state.delimiter))||t();};ca.prototype.$SignalsUploaderFlow37=function(){var da=0,ea=this.state,fa=ea.file,ga=ea.pastedContent,ha=ea.sourceInput;if(fa!=null&&ha==='fileUpload'){da=fa.size;}else if(ga!=null)da=ga.length;return da;};ca.prototype.$SignalsUploaderFlow38=function(da,ea){if(this.$SignalsUploaderFlow4){var fa=q(da);this.setState({uploadErrorMessaging:{errorTitle:da&&da.error_user_title,errorMessage:this.$SignalsUploaderFlow5.get('SOMETHING_WENT_WRONG_WHILE_UPLOADING'),errorDetails:fa}});var ga=this.props.logger;ga&&ga.logError(ea,da);}};ca.prototype.$SignalsUploaderFlow35=function da(){var ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va;return c('regeneratorRuntime').async(function wa(xa){while(1)switch(xa.prev=xa.next){case 0:ea=this.$SignalsUploaderFlow31();fa=this.$SignalsUploaderFlow32();ga=this.$SignalsUploaderFlow33();ha=this.$SignalsUploaderFlow30();ia=ha.columnStatuses;ja=ha.mappedRightColumns;ka=ha.mappedWithErrorColumns;la=ha.nonMappedColumns;ma=o(ea,fa,ga,this.$SignalsUploaderFlow2,ia);na=ma.mapping;oa=ma.infoForNormalization;pa=ma.customTypeInfos;if(!na){xa.next=32;break;}this.setState({step:x.UPLOADING});this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FLOW_TRANSITION,{atSection:this.state.step,toSection:x.UPLOADING});qa=na.toArray();ra=this.props.logger;sa=oa.toJS();ta=this.state.prefilledValues;if(ra)this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_START_UPLOAD,null,{sourceInput:this.state.sourceInput,sourceSize:this.$SignalsUploaderFlow37(),mapping:ea.toJS(),customTypes:fa.toJS(),infoForNormalization:sa,columnStatuses:{mappedRightColumns:ja,mappedWithErrorColumns:ka,nonMappedColumns:la},prefilledValues:ta&&ta.toJS()});xa.prev=20;xa.next=23;return c('regeneratorRuntime').awrap(this.props.onPrepareUpload(qa,sa));case 23:ua=xa.sent;this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_UPLOAD_PREPARED,null,{sourceInput:this.state.sourceInput,mapping:qa});va=this.$SignalsUploaderFlow10();this.$SignalsUploaderFlow39(va,qa,ua,pa,ta,sa);xa.next=32;break;case 29:xa.prev=29;xa.t0=xa['catch'](20);this.$SignalsUploaderFlow38(xa.t0,c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_PREPARE_UPLOAD_REJECT);case 32:return xa.abrupt('return',false);case 33:case 'end':return xa.stop();}},null,this,[[20,29]]);};ca.prototype.$SignalsUploaderFlow39=function da(ea,fa,ga,ha,ia,ja){var ka,la;return c('regeneratorRuntime').async(function ma(na){while(1)switch(na.prev=na.next){case 0:if(!(ea!=null)){na.next=16;break;}na.prev=1;na.next=4;return c('regeneratorRuntime').awrap(this.$SignalsUploaderFlow1.upload(ea,this.state.delimiter,fa,ga,{infoForNormalization:ja,bufferBatchLine:this.props.uploadBatchSize||null,customTypeInfos:ha.toJS(),hasHeader:this.state.hasHeader,presetValues:ia&&ia.toJS()}));case 4:ka=na.sent;la=ka.invalidSamples.length>0;if(la){this.setState({hadUploadErrors:la});this.setState({invalidSamples:ka.invalidSamples,recordsProcessed:ka.processed});}this.setState({step:x.FINISHED_UPLOAD});this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FLOW_TRANSITION,{atSection:this.state.step,toSection:x.FINISHED_UPLOAD});if(this.props.onFinishUpload)this.props.onFinishUpload();this.$SignalsUploaderFlow6(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FINISH_UPLOAD,null,{response:ka});na.next=16;break;case 13:na.prev=13;na.t0=na['catch'](1);this.$SignalsUploaderFlow38(na.t0,c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_UPLOAD_REJECT);case 16:case 'end':return na.stop();}},null,this,[[1,13]]);};ca.prototype.render=function(){var da=this.$SignalsUploaderFlow5,ea={onFileChange:this.$SignalsUploaderFlow23,onFileRemove:this.$SignalsUploaderFlow24,onFilesSelection:this.$SignalsUploaderFlow25},fa=String(this.state.delimiter),ga=this.state,ha=ga.file,ia=ga.mappingInitialized,ja=ga.pastedContent,ka=ga.sourceInput,la=ga.warningDialog,ma=ga.hadUploadErrors,na=ga.invalidSamples,oa=ga.offline,pa=ga.uploadProgress,qa=ga.recordsProcessed,ra=ga.recordsUploaded,sa=ga.uploadErrorMessaging,ta=ga.fileInvalidErrorMessaging,ua=ga.pendingColumnStatuses,va=ga.samples,wa=this.$SignalsUploaderFlow30(),xa=this.props.termsBoxChecked&&(ha!=null&&ka==='fileUpload'||ja&&ka==='copyPaste')&&!this.props.doNotProceedToMapping,ya=this.props.additionalInfoURL,za=this.$SignalsUploaderFlow31(),ab=this.$SignalsUploaderFlow32(),bb=this.$SignalsUploaderFlow33(),cb=this.$SignalsUploaderFlow10(),db=ia&&cb?c('React').createElement(c('SignalsUploaderColumnMapperWithDataFetching.react'),{additionalInfoURL:ya,columnMappingErrorThreshold:this.props.columnMappingErrorThreshold,delimiter:this.state.delimiter,hasHeader:this.state.hasHeader,initialCustomTypes:ab,initialInfoForNormalization:bb,initialMapping:za,key:fa,logger:this.props.logger,schema:this.props.schema,source:cb,uploader:this.$SignalsUploaderFlow1,onAdditionalInfoChange:this.props.onAdditionalInfoChange,onChange:this.$SignalsUploaderFlow17,onColumnStatusesChange:this.$SignalsUploaderFlow16,onEndPreviewFetch:this.$SignalsUploaderFlow43,onEndSampleFetch:this.$SignalsUploaderFlow41,onStartPreviewFetch:this.$SignalsUploaderFlow42,onStartSampleFetch:this.$SignalsUploaderFlow40}):null,eb=this.props.completionMessage?c('React').createElement(c('SignalsUploaderUploadComplete.react'),{completionMessage:this.props.completionMessage,postUploadOptions:this.props.postUploadOptions,onPostUploadOptionPicked:this.$SignalsUploaderFlow14}):null,fb=ta?c('React').createElement(c('SignalsErrorDialog.react'),babelHelpers['extends']({},ta,{onClose:this.$SignalsUploaderFlow46})):null,gb=sa?c('React').createElement(c('SignalsErrorDialog.react'),babelHelpers['extends']({},sa,{onClose:this.$SignalsUploaderFlow45})):null,hb=this.props.editing?da.get('UPLOAD_AND_UPDATE_BUTTON_LABEL'):da.get('UPLOAD_AND_CREATE_BUTTON_LABEL'),ib=this.state.delimiter!=null?c('React').createElement('div',{className:"_34gt"},c('React').createElement(c('SignalsUploaderDelimiterConfigurator.react'),{selectedDelimiter:this.state.delimiter,onChange:this.$SignalsUploaderFlow15})):null,jb=this.props,kb=jb.bottomContent,lb=jb.uploadProgressContent,mb=jb.requiredColumnsGetter,nb=this.props.editing?da.get(x.FINISHED_UPLOAD+'_UPDATE_TITLE'):da.get(x.FINISHED_UPLOAD+'_TITLE'),ob=mb&&mb(wa.columnStatuses||s(),za,ab||t(),va);return (c('React').createElement('div',null,c('React').createElement(c('SignalsMultiPhaseFlow.react'),{height:this.props.height,isBusy:this.state.busy,maxHeight:this.props.maxHeight,phaseID:this.state.step,onBackOut:this.$SignalsUploaderFlow12,onCancel:this.$SignalsUploaderFlow11,onStepOut:this.$SignalsUploaderFlow13,onTransition:this.$SignalsUploaderFlow9},c('React').createElement(c('SignalsFlowPhase.react'),{additionalInfoURL:ya,backButton:this.props.onBackOut?c('React').createElement(c('BUIAdoptionButton.react'),{label:da.get('BACK_BUTTON_LABEL')}):null,bottomContent:kb,description:da.get(x.SELECT_DATA+'_DESCRIPTION'),footer:this.props.dataSelectorFooter,hasCancelButton:true,id:x.SELECT_DATA,label:da.get(x.SELECT_DATA+'_LABEL'),nextButton:c('React').createElement(c('BUIAdoptionButton.react'),{disabled:!xa,label:da.get('NEXT_BUTTON_LABEL'),use:'confirm',onClick:this.$SignalsUploaderFlow28}),title:da.get(x.SELECT_DATA+'_TITLE')},c('React').createElement(c('SignalsUploaderSelectSourceStep.react'),babelHelpers['extends']({allowCopyPaste:true,initialFile:this.state.file,initialInputMode:this.state.sourceInput,initialPastedContent:this.state.pastedContent,key:this.state.fileSelectorResetTime,schemaSummary:this.$SignalsUploaderFlow2,termsOfService:this.props.termsOfService||'',onCopyPasteReset:this.$SignalsUploaderFlow20,onInputSelect:this.$SignalsUploaderFlow18,onPaste:this.$SignalsUploaderFlow19},ea),this.props.sourceSelectorContent),fb),c('React').createElement(c('SignalsFlowPhase.react'),{additionalInfoURL:ya,backButton:c('React').createElement(c('BUIAdoptionButton.react'),{label:da.get('BACK_BUTTON_LABEL')}),bottomContent:kb,description:da.get(x.CONFIGURE_MAPPING+'_DESCRIPTION'),footer:c('React').createElement('div',null,c('React').createElement(c('SignalsUploaderColumnMappingStatus.react'),{columnStatuses:wa.columnStatuses||s(),customTypes:ab||t(),mapping:za,requiredColumns:ob,schemaSummary:this.$SignalsUploaderFlow2}),this.props.mapperFooter),hasCancelButton:true,id:x.CONFIGURE_MAPPING,label:da.get(x.CONFIGURE_MAPPING+'_LABEL'),nextButton:c('React').createElement(c('BUIAdoptionButton.react'),{disabled:ua||za.size===0||!(wa&&wa.mappedRightColumns>0),label:hb,use:'confirm',onClick:this.$SignalsUploaderFlow36}),title:da.get(x.CONFIGURE_MAPPING+'_TITLE')},c('React').createElement('div',{className:"_34gu"},db),ib,la),c('React').createElement(c('SignalsFlowPhase.react'),{additionalInfoURL:ya,bottomContent:kb,description:da.get(x.UPLOADING+'_DESCRIPTION'),id:x.UPLOADING,label:da.get(x.UPLOADING+'_LABEL'),title:da.get(x.UPLOADING+'_TITLE')},c('React').createElement(c('SignalsUploaderUploadProgress.react'),{doNotCancelMessage:this.props.doNotCancelMessage,offline:oa,progress:pa,recordsUploaded:ra}),lb,gb),c('React').createElement(c('SignalsFlowPhase.react'),{bottomContent:kb,id:x.FINISHED_UPLOAD,label:da.get(x.FINISHED_UPLOAD+'_LABEL'),nextButton:c('React').createElement(c('BUIAdoptionButton.react'),{label:da.get('DONE_BUTTON_LABEL'),use:'confirm',onClick:this.$SignalsUploaderFlow13}),title:c('React').createElement(c('SignalsUploaderFinishedStatus.react'),{errorTokenLists:na,hadUploadErrors:ma,totalRows:qa,uiTexts:da,uploadedRows:ra,onErrorReportGenerate:this.$SignalsUploaderFlow44})},eb))));};ca.propTypes={accessToken:r.string,additionalInfoURL:r.string,beforePageUnloadWarning:r.node,bottomContent:r.element,completionMessage:r.node,dataSelectorFooter:r.element,editing:r.object,height:r.number,logger:r.instanceOf(c('SignalsUILogger')),mapperFooter:r.element,mappingStatusDisplay:r.element,maxHeight:r.number,postUploadOptions:r.element,schema:r.object.isRequired,sourceSelectorContent:r.node,termsBoxChecked:r.bool.isRequired,termsOfService:r.oneOfType([r.element,r.node,r.string]),uiTexts:r.instanceOf(c('SignalsUITexts')),uploadBatchSize:r.number,uploadProgressContent:r.element,onAdditionalInfoChange:r.func,onBackOut:r.func,onCancel:r.func,onFileSelection:r.func,onFinishUpload:r.func,onPaste:r.func,onPostUploadOptionPicked:r.func,onPrepareUpload:r.func.isRequired,onStepOut:r.func,onTransition:r.func};f.exports=ca;}),null);
__d('AdsAudienceUploaderFlow.react',['ix','cx','fbt','Promise','AdsAudienceUploadConfig','AdsAudienceUploaderFlowNextSteps.react','AdsAudienceUploaderFlowTexts','AdsAudienceUploaderFlowUploadCompleteMessage.react','AdsAudienceUploaderUtils','ads-cluster-constants','AdsWLALUploaderFlow.react','AdsSignalsUploadAPIConstants','AudienceDaoManager','AudienceManagerFBCustomAudienceTerm.react','AudienceManagerWeightedCustomAudienceTerm.react','CustomAudienceUserAttributeTypes','CustomAudienceUtils','IdentityMatchKeyEnum','Image.react','Link.react','Random','React','SignalsBasicPIISchema','SignalsEmbeddedSurveyActions','SignalsEmbeddedSurveyContainer.react','SignalsEmbeddedSurveyManager','SignalsNameAndDescriptionEditor.react','SignalsUILogger','SignalsUploaderDataFormattingNUX.react','SignalsUploaderFlow.react','SignalsUploaderFlowConstants','SignalsUploaderLoggingEvents','SignalsUploaderLoggingKeys','SignalsWLALExtendedPIISchema','SimpleNUXMessageTypes','adsGKCheck','fbglyph','getSignalsSchemaSummary','getSignalsUploaderMappingReadiness'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('getSignalsUploaderMappingReadiness').getLegacyWarningDialogFunc,n=c('React').Component,o=c('React').PropTypes,p=c('AdsAudienceUploaderUtils').prepareUploadSchema,q=c('SignalsUploaderFlowConstants').UPLOADER_PHASES,r=c('SimpleNUXMessageTypes').MULTIKEY_CUSTOM_AUDIENCE_UPLOADER_DATA_FORMATTING_GUIDE_NUX,s=c('AdsAudienceUploaderFlowNextSteps.react').OPTION_IDS,t='https://www.facebook.com/business/help/170456843145568?__mref=message_bubble',u='https://www.facebook.com/business/help/403733729689975?__mref=message_bubble',v='https://www.facebook.com/help/606443329504150',w=j._("Your upload is still in progress. If you leave this page, your audience will be incomplete."),x=j._("Audience name"),y=j._("Name your audience"),z=j._("Cancelling this process before the file has finished downloading may result in an incomplete audience."),aa=j._("How to prepare your data"),ba=j._("Read best practices for preparing your customer data"),ca=j._("{=Read best practices} for preparing your customer data",[j.param('=Read best practices',c('React').createElement('b',null,j._("Read best practices")))]),da='1724404631169644',ea=c('AdsAudienceUploadConfig').SURVEY_SHOW_SOURCE_SIZE_TRESHOLD;k=babelHelpers.inherits(fa,n);l=k&&k.prototype;function fa(ga){l.constructor.call(this,ga);this.$AdsAudienceUploaderFlow2=function(ha){return new (c('Promise'))(function(ia,ja){var ka,la=this,ma=ha.filter(function(wa){return wa!=null&&wa!='';}),na=ha.length,oa=ma.length,pa=ma.length===1,qa=ha.length>1;if(this.state.sourceSize>=ea)c('SignalsEmbeddedSurveyManager').loadSurvey(da,{countOfColumns:na,countOfMappedColumns:oa,multipleColumnsInSource:qa,singleMappedColumn:pa},this.props.logger);var ra=p(ma.map(function(wa){return wa.toUpperCase();}));this.setState({audienceSchema:ra});var sa=c('Random').uint32();this.setState({sessionID:sa});if(this.props.editing){var ta=this.props.editing.audience,ua=c('AdsSignalsUploadAPIConstants').METHODS.POST;if(this.props.editing&&this.props.editing.option==='REMOVE_PEOPLE')ua=c('AdsSignalsUploadAPIConstants').METHODS.DELETE;c('SignalsUILogger').logToCounter(c('SignalsUploaderLoggingKeys').SIGNALS_UPLOADER_START_UPLOAD);ia(c('AdsSignalsUploadAPIConstants').CUSTOM_AUDIENCE.getRequestBody(ta.id,ra,ua,sa,this.state.selectedAppIDs,this.state.selectedPageIDs));}else try{(function(){var wa=c('AudienceDaoManager').getPrimedDao(la.props.accountID),xa=ra.indexOf(c('CustomAudienceUserAttributeTypes').LOOKALIKE_VALUE)!==-1,ya=xa?la.props.tosRequirementsForAccount.value_based_custom_audience:la.props.tosRequirementsForAccount.custom_audience;wa.add.acceptCustomAudiencesTos.one(function(){c('CustomAudienceUtils').create(this.props.accountID,this.state.audienceName,xa,this.state.audienceDescription).done(function(za){var ab=za.id,bb=this.props.logger;if(bb){bb.setContainerContext({audienceID:ab});bb.log(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_AUDIENCE_CREATED,{atSection:q.UPLOADING},{audienceID:ab});}this.setState({audienceID:ab});c('SignalsUILogger').logToCounter(c('SignalsUploaderLoggingKeys').SIGNALS_UPLOADER_START_UPLOAD);ia(c('AdsSignalsUploadAPIConstants').CUSTOM_AUDIENCE.getRequestBody(ab,ra,c('AdsSignalsUploadAPIConstants').METHODS.POST,sa,this.state.selectedAppIDs,this.state.selectedPageIDs));}.bind(this),function(za){ja(za);});}.bind(la),{tos_id:ya,handleError:function za(ab,bb){ja({code:ab,rawData:bb});}});})();}catch(va){ja(va);}}.bind(this));}.bind(this);this.$AdsAudienceUploaderFlow3=function(){c('SignalsUILogger').logToCounter(c('SignalsUploaderLoggingKeys').SIGNALS_UPLOADER_FINISH_UPLOAD);var ha=this.props.editing||{},ia=this.state.audienceID||ha.audience.id;if(ia&&this.state.sessionID){var ja={batch_seq:1,last_batch_flag:true,session_id:this.state.sessionID},ka=[];for(var la=0;la<this.state.audienceSchema.length;la++)ka.push('1');var ma={};ma.schema=this.state.audienceSchema;ma.is_raw=true;ma.data=[ka];if(this.state.selectedAppIDs)ma.app_ids=this.state.selectedAppIDs;if(this.state.selectedPageIDs)ma.page_ids=this.state.selectedPageIDs;if(this.props.editing&&this.props.editing.option==='REMOVE_PEOPLE'){c('CustomAudienceUtils').removeUsers(ia,ma,ja).done();}else c('CustomAudienceUtils').upload(ia,ma,ja).done();}if(this.state.audienceID){var na=this.props,oa=na.onAudienceAdded,pa=na.onAudienceUploadComplete;if(oa)oa(this.state.audienceID);if(pa)pa(this.state.audienceID,this.state.audienceName);}}.bind(this);this.$AdsAudienceUploaderFlow4=function(){this.setState({termsBoxChecked:!this.state.termsBoxChecked});}.bind(this);this.$AdsAudienceUploaderFlow5=function(ha,ia){this.setState({audienceName:ha,audienceDescription:ia,wasAudienceNameSet:ha!==''});}.bind(this);this.$AdsAudienceUploaderFlow6=function(ha){};this.$AdsAudienceUploaderFlow7=function(ha){if(!this.state.wasAudienceNameSet&&!this.props.editing){var ia=ha.name,ja=ia.lastIndexOf('.'),ka=ja>0?ia.substring(0,ja):ia;this.setState({audienceName:ka,transitionTime:Date.now()});}this.setState({sourceSize:ha.size});}.bind(this);this.$AdsAudienceUploaderFlow8=function(ha){if(!this.state.wasAudienceNameSet)this.setState({audienceName:c('CustomAudienceUtils').DEFAULT_NAME,transitionTime:Date.now()});this.setState({sourceSize:ha.length});}.bind(this);this.$AdsAudienceUploaderFlow9=function(ha,ia){if(ha){var ja=ha.replace('match_keys.','');if(ja===c('IdentityMatchKeyEnum').APPUID){this.setState({selectedAppIDs:ia});}else if(ja===c('IdentityMatchKeyEnum').PAGEUID)this.setState({selectedPageIDs:ia});}}.bind(this);this.state={termsBoxChecked:this.props.initialTermsBoxChecked,audienceID:'',audienceName:'',audienceDescription:'',audienceSchema:[],selectedAppIDs:null,selectedPageIDs:null,sessionID:null,sourceSize:0,transitionTime:Date.now(),uploaderWarningDialogFunc:this.$AdsAudienceUploaderFlow1(ga.hasWeightColumn||false),wasAudienceNameSet:false};if(ga.logger!=null)c('SignalsEmbeddedSurveyActions').setLogger(ga.logger);}fa.prototype.$AdsAudienceUploaderFlow1=function(ga){return ga?m(c('getSignalsSchemaSummary')(c('SignalsWLALExtendedPIISchema'))):m(c('getSignalsSchemaSummary')(c('SignalsBasicPIISchema')));};fa.prototype.$AdsAudienceUploaderFlow10=function(){return this.props.hasWeightColumn?c('React').createElement(c('AudienceManagerWeightedCustomAudienceTerm.react'),{accountID:this.props.accountID,termsAlreadyAccepted:this.props.termsAlreadyAccepted,termsBoxChecked:this.state.termsBoxChecked,onTermsCheckboxChanged:this.$AdsAudienceUploaderFlow4}):c('React').createElement(c('AudienceManagerFBCustomAudienceTerm.react'),{accountID:this.props.accountID,termsAlreadyAccepted:this.props.termsAlreadyAccepted,termsBoxChecked:this.state.termsBoxChecked,onTermsCheckboxChanged:this.$AdsAudienceUploaderFlow4});};fa.prototype.componentWillUnmount=function(){c('SignalsEmbeddedSurveyActions').clearSurvey();};fa.prototype.render=function(){var ga=null;if(!this.props.editing)ga=c('React').createElement('div',{className:"_5n3v"},c('React').createElement(c('SignalsNameAndDescriptionEditor.react'),{initialDescription:this.state.audienceDescription,initialName:this.state.audienceName,key:this.state.transitionTime,nameLabel:x,namePlaceholder:y,onChange:this.$AdsAudienceUploaderFlow5}));var ha=c('React').createElement('div',{className:"_3adx"},c('React').createElement(c('SignalsEmbeddedSurveyContainer.react'),{cancellable:true,fadeIn:true,integrationPointID:da})),ia=this.props.isWLALUpload,ja=this.props.editing&&this.props.editing.audience.is_value_based,ka=ja||ia?[s.CREATE_AD]:null,la=ia!==true?c('React').createElement(c('SignalsUploaderFlow.react'),babelHelpers['extends']({},this.props,{additionalInfoURL:this.props.editing?u:t,beforePageUnloadWarning:w.toString(),completionMessage:c('React').createElement('div',null,c('React').createElement(c('AdsAudienceUploaderFlowUploadCompleteMessage.react'),{accountID:this.props.accountID,onNavigateToAudienceManager:this.props.onNavigateToAudienceManager}),ha),dataSelectorFooter:ga,doNotCancelMessage:z,logger:this.props.logger,postUploadOptions:c('React').createElement(c('AdsAudienceUploaderFlowNextSteps.react'),{onOptionSelect:this.$AdsAudienceUploaderFlow6,disabledOptionIDs:ka}),schema:this.props.hasWeightColumn?c('SignalsWLALExtendedPIISchema'):c('SignalsBasicPIISchema'),sourceSelectorContent:c('React').createElement(c('SignalsUploaderDataFormattingNUX.react'),{collapsedContent:c('React').createElement(c('Link.react'),{href:v,target:'_blank'},aa,c('React').createElement(c('Image.react'),{className:"_4dp_",src:h("116756")})),highlightedContent:c('React').createElement(c('Link.react'),{href:v,target:'_blank'},c('React').createElement(c('Image.react'),{className:"_4dp_",src:h("115155")}),ca),nuxType:r}),termsBoxChecked:this.state.termsBoxChecked,termsOfService:this.$AdsAudienceUploaderFlow10(),uiTexts:c('AdsAudienceUploaderFlowTexts'),uploadBatchSize:c('ads-cluster-constants').CLUSTER_API_MAX_SIZE,uploadProgressContent:ha,warningDialogFunc:this.state.uploaderWarningDialogFunc,onAdditionalInfoChange:this.$AdsAudienceUploaderFlow9,onFileSelection:this.$AdsAudienceUploaderFlow7,onFinishUpload:this.$AdsAudienceUploaderFlow3,onPaste:this.$AdsAudienceUploaderFlow8,onPrepareUpload:this.$AdsAudienceUploaderFlow2})):c('React').createElement(c('AdsWLALUploaderFlow.react'),babelHelpers['extends']({},this.props,{additionalInfoURL:this.props.editing?u:t,beforePageUnloadWarning:w.toString(),completionMessage:c('React').createElement('div',null,c('React').createElement(c('AdsAudienceUploaderFlowUploadCompleteMessage.react'),{accountID:this.props.accountID,onNavigateToAudienceManager:this.props.onNavigateToAudienceManager}),ha),dataSelectorFooter:ga,doNotCancelMessage:z,logger:this.props.logger,postUploadOptions:c('React').createElement(c('AdsAudienceUploaderFlowNextSteps.react'),{onOptionSelect:this.$AdsAudienceUploaderFlow6,disabledOptionIDs:ka}),schema:c('SignalsWLALExtendedPIISchema'),sourceSelectorContent:c('React').createElement(c('SignalsUploaderDataFormattingNUX.react'),{collapsedContent:c('React').createElement(c('Link.react'),{href:v,target:'_blank'},ba,c('React').createElement(c('Image.react'),{className:"_4dp_",src:h("116756")})),highlightedContent:c('React').createElement(c('Link.react'),{href:v,target:'_blank'},c('React').createElement(c('Image.react'),{className:"_4dp_",src:h("115155")}),ca),nuxType:r}),termsBoxChecked:this.state.termsBoxChecked,termsOfService:this.$AdsAudienceUploaderFlow10(),uiTexts:c('AdsAudienceUploaderFlowTexts'),uploadBatchSize:c('ads-cluster-constants').CLUSTER_API_MAX_SIZE,uploadProgressContent:ha,warningDialogFunc:this.state.uploaderWarningDialogFunc,onAdditionalInfoChange:this.$AdsAudienceUploaderFlow9,onFileSelection:this.$AdsAudienceUploaderFlow7,onFinishUpload:this.$AdsAudienceUploaderFlow3,onPaste:this.$AdsAudienceUploaderFlow8,onPrepareUpload:this.$AdsAudienceUploaderFlow2}));return (c('React').createElement('div',null,la));};fa.propTypes={accessToken:o.string,accountID:o.string.isRequired,audiences:o.object,dao:o.object,editing:o.object,hasWeightColumn:o.bool,initialTermsBoxChecked:o.bool.isRequired,isWLALUpload:o.bool,logger:o.instanceOf(c('SignalsUILogger')),termsAlreadyAccepted:o.bool.isRequired,tosRequirementsForAccount:o.object.isRequired,onAudienceAdded:o.func,onNavigateToAudienceManager:o.func,onTransition:o.func};f.exports=fa;}),null);
__d('SignalsUploaderFlowCancelConfirmDialog.react',['fbt','BUIAdoptionButton.react','React','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=300,m=h._("Ending the file upload before it is complete means that your summary will only contain records that have been successfully uploaded.");i=babelHelpers.inherits(n,k);j=i&&i.prototype;function n(o){j.constructor.call(this,o);this.$SignalsUploaderFlowCancelConfirmDialog1=function(p){if(!p)if(this.state.confirmClicked){this.props.onConfirm();}else this.props.onCancel();}.bind(this);this.$SignalsUploaderFlowCancelConfirmDialog2=function(){this.setState({confirmClicked:true});this.props.onConfirm();}.bind(this);this.state={confirmClicked:false};}n.prototype.render=function(){return (c('React').createElement(c('XUIDialog.react'),{hideOnEscape:true,layerHideOnBlur:true,shown:true,width:l,onToggle:this.$SignalsUploaderFlowCancelConfirmDialog1},c('React').createElement(c('XUIDialogTitle.react'),null,h._("Stop file upload?")),c('React').createElement(c('XUIDialogBody.react'),null,this.props.message?this.props.message:m),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('BUIAdoptionButton.react'),{label:h._("Stop"),onClick:this.$SignalsUploaderFlowCancelConfirmDialog2}),c('React').createElement(c('BUIAdoptionButton.react'),{autoFocus:true,label:h._("Continue Upload"),ref:'cancelCancelButton',use:'confirm',onClick:this.props.onCancel}))));};f.exports=n;}),null);
__d('SignalsUploaderFlowDialog.react',['cx','fbt','BUIAdoptionCloseButton.react','Event','LeftRight.react','React','SignalsUILogger','SignalsUploaderFlowCancelConfirmDialog.react','SignalsUploaderFlowConstants','SignalsUploaderLoggingEvents','XUIDialog.react','throttle'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').Component,m=680,n=40,o=40,p=460,q=900,r=150,s=c('SignalsUploaderFlowConstants').UPLOADER_PHASES;j=babelHelpers.inherits(t,l);k=j&&j.prototype;function t(u){k.constructor.call(this,u);this.$SignalsUploaderFlowDialog5=function(v){this.setState({isOpen:v});if(v){if(this.props.onOpen)this.props.onOpen();}else if(this.props.onClose)this.props.onClose();}.bind(this);this.$SignalsUploaderFlowDialog6=function(){var v=this.props.flow;switch(this.state.currentPhase){case s.UPLOADING:this.$SignalsUploaderFlowDialog4(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FLOW_CANCEL_CONFIRM_OPEN);this.setState({isCancelConfirmVisible:true});break;case s.FINISHED_UPLOAD:var w=v.props.onStepOut;if(w)w();this.$SignalsUploaderFlowDialog4(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FLOW_STEP_OUT);break;default:this.$SignalsUploaderFlowDialog7();}}.bind(this);this.$SignalsUploaderFlowDialog8=function(v,w){this.setState({currentPhase:w});if(w!==s.UPLOADING)this.setState({isCancelConfirmVisible:false});if(this.props.flow.props.onTransition)this.props.flow.props.onTransition(v,w);}.bind(this);this.$SignalsUploaderFlowDialog9=function(){this.$SignalsUploaderFlowDialog4(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FLOW_CANCEL_CONFIRM_CONFIRMED);this.setState({isCancelConfirmVisible:false});this.$SignalsUploaderFlowDialog7();}.bind(this);this.$SignalsUploaderFlowDialog10=function(){this.$SignalsUploaderFlowDialog4(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FLOW_CANCEL_CONFIRM_CANCELLED);this.setState({isCancelConfirmVisible:false});}.bind(this);this.state={isCancelConfirmVisible:false,currentPhase:s.SELECT_DATA,isOpen:this.props.initiallyOpen!=null?this.props.initiallyOpen:true,lastOpenedAt:Date.now(),maxFlowHeight:this.$SignalsUploaderFlowDialog2()};}t.prototype.componentDidMount=function(){this.$SignalsUploaderFlowDialog1=c('Event').listen(window,'resize',c('throttle')(this.$SignalsUploaderFlowDialog3.bind(this),r));};t.prototype.componentWillUnmount=function(){if(this.$SignalsUploaderFlowDialog1){this.$SignalsUploaderFlowDialog1.remove();this.$SignalsUploaderFlowDialog1=null;}};t.prototype.$SignalsUploaderFlowDialog4=function(u,v,w){var x=this.props.logger;if(x)x.log(u,babelHelpers['extends']({atSection:this.state.currentPhase},v),w);};t.prototype.$SignalsUploaderFlowDialog2=function(){return Math.min(Math.max(p,window.innerHeight-2*n-o),q);};t.prototype.$SignalsUploaderFlowDialog7=function(){var u=this.props.flow,v=u.props.onCancel;if(v)v();this.$SignalsUploaderFlowDialog4(c('SignalsUploaderLoggingEvents').SIGNALS_UPLOADER_FLOW_CANCEL);};t.prototype.$SignalsUploaderFlowDialog3=function(){if(this.state.isOpen)this.setState({maxFlowHeight:this.$SignalsUploaderFlowDialog2()});};t.prototype.render=function(){var u=c('React').cloneElement(this.props.flow,babelHelpers['extends']({},this.props.flow.props,{maxHeight:this.state.maxFlowHeight,onTransition:this.$SignalsUploaderFlowDialog8})),v=this.props.layerHideOnBlur===null?true:this.props.layerHideOnBlur,w=this.state.isCancelConfirmVisible?c('React').createElement(c('SignalsUploaderFlowCancelConfirmDialog.react'),{message:this.props.uploadCancelWarningText,onCancel:this.$SignalsUploaderFlowDialog10,onConfirm:this.$SignalsUploaderFlowDialog9}):null;return (c('React').createElement(c('XUIDialog.react'),{fixedTopPosition:n,key:this.state.lastOpenedAt,layerHideOnBlur:v,shown:this.state.isOpen,width:this.props.width||m,onToggle:this.$SignalsUploaderFlowDialog5},c('React').createElement('div',{className:"_4-i0"},c('React').createElement(c('LeftRight.react'),null,c('React').createElement('h3',{className:"_52c9"},this.props.title),c('React').createElement('div',{className:"_51-u"},c('React').createElement(c('BUIAdoptionCloseButton.react'),{className_DEPRECATED:"_51-t",label:i._("Close"),size:'large',onClick:this.$SignalsUploaderFlowDialog6})))),u,w));};f.exports=t;}),null);
__d('AudienceManagerEditMultiKeyAudienceOptionsDialogContainer.react',['fbt','AdsAccessTokenStore','AdsAudienceEditOptionsDialog.react','AdsAudienceUploaderFlow.react','AdsAudienceUploaderFlowNextSteps.react','AdsFluxContainer','FluxStore','React','SignalsUILogger','SignalsUploaderFlowDialog.react','WeightedLookalikeConfig','keyMirrorRecursive'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').Component,l=c('React').PropTypes,m=c('AdsAudienceUploaderFlowNextSteps.react').OPTION_IDS,n='multi-key-ca-upload-flow',o=c('keyMirrorRecursive')({INIT:'',ADD_PEOPLE:'',REMOVE_PEOPLE:''});i=babelHelpers.inherits(p,k);j=i&&i.prototype;function p(q){j.constructor.call(this,q);this.$AudienceManagerEditMultiKeyAudienceOptionsDialogContainer2=function(u,v){this.setState({audienceName:u,audienceDescription:v});}.bind(this);this.$AudienceManagerEditMultiKeyAudienceOptionsDialogContainer3=function(){var u={};u.name=this.state.audienceName;if(this.state.audienceDescription!=null)u.description=this.state.audienceDescription;this.props.onAudienceChanged(this.props.audience,u);this.props.onClose();}.bind(this);this.$AudienceManagerEditMultiKeyAudienceOptionsDialogContainer4=function(u){this.setState({step:u});}.bind(this);this.$AudienceManagerEditMultiKeyAudienceOptionsDialogContainer5=function(){this.setState({step:o.INIT});}.bind(this);this.$AudienceManagerEditMultiKeyAudienceOptionsDialogContainer6=function(u){var v=this.props.audience.id;switch(u){case m.CREATE_LAL:this.props.onNextOptionCreateLAL(v);break;case m.CREATE_AD:this.props.onNextOptionCreateAd(v);this.props.onClose();break;}}.bind(this);this.$AudienceManagerEditMultiKeyAudienceOptionsDialogContainer1=new (c('SignalsUILogger'))(n,null,{audienceID:this.props.audience.id});var r=q.audience,s=r.name,t=r.description;this.state={step:o.INIT,accessToken:c('AdsAccessTokenStore').getAccessToken(),audienceName:s,audienceDescription:t};}p.getStores=function(){return [c('AdsAccessTokenStore')];};p.calculateState=function(q,r){var s=r.audience,t=s.name,u=s.description;return {step:q&&q.step||o.INIT,accessToken:c('AdsAccessTokenStore').getAccessToken(),audienceName:q&&q.audienceName||t,audienceDescription:q&&q.audienceDescription||u};};p.prototype.$AudienceManagerEditMultiKeyAudienceOptionsDialogContainer7=function(){return this.props.audience.is_value_based?h._("Edit a value-based Custom Audience"):h._("Edit a Custom Audience");};p.prototype.render=function(){if(this.state.step===o.INIT){return (c('React').createElement('div',null,c('React').createElement(c('AdsAudienceEditOptionsDialog.react'),{audienceDescription:this.state.audienceDescription,audienceName:this.state.audienceName,title:this.$AudienceManagerEditMultiKeyAudienceOptionsDialogContainer7(),onAudienceNameOrDescriptionChange:this.$AudienceManagerEditMultiKeyAudienceOptionsDialogContainer2,onAudienceNameOrDescriptionSave:this.$AudienceManagerEditMultiKeyAudienceOptionsDialogContainer3,onClose:this.props.onClose,onOptionSelect:this.$AudienceManagerEditMultiKeyAudienceOptionsDialogContainer4})));}else{var q={audience:this.props.audience,option:o.ADD_PEOPLE},r=this.props.audience.is_value_based;if(this.state.step===o.REMOVE_PEOPLE){q.option=o.REMOVE_PEOPLE;r=false;}var s=r&&c('WeightedLookalikeConfig').can_account_use_weighted_datafile;return (c('React').createElement(c('SignalsUploaderFlowDialog.react'),{flow:c('React').createElement(c('AdsAudienceUploaderFlow.react'),{accessToken:this.state.accessToken,accountID:this.props.accountID,editing:q,hasWeightColumn:r,initialTermsBoxChecked:true,isWLALUpload:s,logger:this.$AudienceManagerEditMultiKeyAudienceOptionsDialogContainer1,termsAlreadyAccepted:true,tosRequirementsForAccount:this.props.tosRequirementsForAccount,onAudienceChanged:this.props.onAudienceChanged,onBackOut:this.$AudienceManagerEditMultiKeyAudienceOptionsDialogContainer5,onCancel:this.props.onClose,onPostUploadOptionPicked:this.$AudienceManagerEditMultiKeyAudienceOptionsDialogContainer6,onStepOut:this.props.onClose}),layerHideOnBlur:false,title:this.$AudienceManagerEditMultiKeyAudienceOptionsDialogContainer7(),uploadCancelWarningText:h._("Ending the file upload before it is complete will mean that your Custom Audience will only contain records that have been successfully uploaded.")}));}};p.propTypes={accountID:l.string.isRequired,audience:l.object.isRequired,dao:l.object,tosAccepted:l.object.isRequired,tosRequirementsForAccount:l.object,onAudienceChanged:l.func.isRequired,onClose:l.func};f.exports=c('AdsFluxContainer').create(p,{withProps:true});}),null);
__d('AudienceManagerOptOutDialog.react',['cx','fbt','AdsTextInput.react','AudienceManagerUIConstants','React','URI','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialog.react','XUIDialogTitle.react','XUIError.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={optOutLink:this.props.audience.opt_out_link?this.props.audience.opt_out_link:"",error:null},this.$AudienceManagerOptOutDialog2=function(s){this.setState({optOutLink:s});}.bind(this),this.$AudienceManagerOptOutDialog4=function(){var s=new (c('URI'))(this.state.optOutLink);return !!(s.getProtocol()&&s.getDomain());}.bind(this),this.$AudienceManagerOptOutDialog1=function(s){if(!s)this.props.onClose();}.bind(this),this.$AudienceManagerOptOutDialog3=function(){if(!this.$AudienceManagerOptOutDialog4()){this.setState({error:i._("Invalid URL entered.")});}else{this.setState({error:null});this.props.onConfirmClick(this.props.audience,{opt_out_link:this.state.optOutLink});}}.bind(this),o;}m.prototype.render=function(){return c('React').createElement(c('XUIDialog.react'),{shown:true,width:c('AudienceManagerUIConstants').DEFAULT_DIALOG_WIDTH,onToggle:this.$AudienceManagerOptOutDialog1},c('React').createElement(c('XUIDialogTitle.react'),null,i._("Edit Opt-out Link for {audience name}",[i.param('audience name',this.props.audience.name)])),c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_50_z"},c('React').createElement('div',{className:"_3-98 _3-8y"},i._("Add a link that will take people to your privacy policies or advertising opt-out."),c('React').createElement('br',null),i._("When you enter the link to the privacy or opt-out page on your website, people will be able to visit it when they click \"x\" on your advert on Facebook. You are responsible for making sure that your custom audiences don't include people who have opted out of seeing your adverts.")),c('React').createElement(c('XUIError.react'),{xuiError:this.state.error},c('React').createElement(c('AdsTextInput.react'),{label:i._("Privacy\/Opt-out Link"),placeholder:i._("URL"),value:this.state.optOutLink,onChange:this.$AudienceManagerOptOutDialog2})))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{label:i._("Cancel"),onClick:this.props.onClose}),c('React').createElement(c('XUIDialogButton.react'),{label:i._("Confirm"),use:'confirm',onClick:this.$AudienceManagerOptOutDialog3})));};m.propTypes={audience:l.object.isRequired,onClose:l.func.isRequired,onConfirmClick:l.func.isRequired};f.exports=m;}),null);
__d('AudienceManagerOptOutUserFileImportInitDialogContent.react',['cx','fbt','AudienceManagerFileImportInit.react','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','ads-cluster-constants'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={selectedFile:null,selectedDataType:c('ads-cluster-constants').UPLOAD_TYPE_EMAIL,termsBoxChecked:true},this.$AudienceManagerOptOutUserFileImportInitDialogContent4=function(){return !!this.state.termsBoxChecked&&!!this.state.selectedFile;}.bind(this),this.$AudienceManagerOptOutUserFileImportInitDialogContent3=function(s){this.setState({termsBoxChecked:s.target.checked});}.bind(this),this.$AudienceManagerOptOutUserFileImportInitDialogContent1=function(s){this.setState({selectedDataType:s.value});}.bind(this),this.$AudienceManagerOptOutUserFileImportInitDialogContent2=function(s){this.setState({selectedFile:s});}.bind(this),this.$AudienceManagerOptOutUserFileImportInitDialogContent5=function(){this.props.onRemoveClick(this.state.selectedDataType,this.state.selectedFile);}.bind(this),o;}m.prototype.render=function(){return c('React').createElement('div',null,c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',{className:"_50_z"},c('React').createElement(c('AudienceManagerFileImportInit.react'),{accountID:this.props.accountID,selectedDataType:this.state.selectedDataType,termsAlreadyAccepted:this.props.termsAlreadyAccepted,termsBoxChecked:this.state.termsBoxChecked,onDataTypeChanged:this.$AudienceManagerOptOutUserFileImportInitDialogContent1,onFileUpdated:this.$AudienceManagerOptOutUserFileImportInitDialogContent2,onTermsCheckboxChanged:this.$AudienceManagerOptOutUserFileImportInitDialogContent3}))),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{disabled:!this.$AudienceManagerOptOutUserFileImportInitDialogContent4(),label:i._("Remove"),use:'confirm',onClick:this.$AudienceManagerOptOutUserFileImportInitDialogContent5})));};m.propTypes={accountID:l.string.isRequired,termsAlreadyAccepted:l.bool,onRemoveClick:l.func.isRequired};f.exports=m;}),null);
__d('AudienceManagerOptOutUserDialog.react',['cx','fbt','AdsInterfacesLogger','AdsAMCreateAudienceServerActions','AdsAMCreateAudienceStore','AdsAMCreateAudienceViewActions','AudienceManagerCompleteUploadMessage.react','AudienceManagerEditAudienceCompleteDialogContent.react','AudienceManagerLoggingEvents','AudienceManagerOptOutUserFileImportInitDialogContent.react','AudienceManagerUIConstants','AudienceManagerUploadErrorDialogContent.react','AudienceManagerUploadFileErrorDialogContent.react','BUIAdoptionXUISpinner.react','BUIAdoptionXUIText.react','CreateCAStages','React','PureStoreBasedStateMixin','XUIDialog.react','XUIDialogTitle.react','emptyFunction'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=c('React').createClass({displayName:'AudienceManagerOptOutUserDialog',mixins:[c('PureStoreBasedStateMixin')(c('AdsAMCreateAudienceStore'))],propTypes:{accountID:j.string.isRequired,tosAccepted:j.object.isRequired,tosRequirementsForAccount:j.object.isRequired,onClose:j.func.isRequired},statics:{calculateState:function l(){return {viewStage:c('AdsAMCreateAudienceStore').getViewStage(),progress:c('AdsAMCreateAudienceStore').getProgress(),numberOfRecords:c('AdsAMCreateAudienceStore').getNumberOfRecords(),errorTokenLists:c('AdsAMCreateAudienceStore').getErrorTokenLists(),errorDetailsForLimitReach:c('AdsAMCreateAudienceStore').getErrorDetailsForLimitReach(),errorMessage:c('AdsAMCreateAudienceStore').getErrorMessage()};}},componentDidMount:function l(){this.refs.dialog.layer.updatePosition=c('emptyFunction');c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').OPT_OUT_USER_FILE_IMPORT_INIT);},render:function l(){return (c('React').createElement(c('XUIDialog.react'),{fixedTopPosition:c('AudienceManagerUIConstants').DEFAULT_DIALOG_TOP_POS,layerHideOnBlur:false,ref:'dialog',shown:true,width:c('AudienceManagerUIConstants').DEFAULT_DIALOG_WIDTH,onToggle:this._onToggle},c('React').createElement(c('XUIDialogTitle.react'),null,c('React').createElement(c('BUIAdoptionXUIText.react'),{size:'medium',weight:'bold'},i._("Remove Users From All of Your Custom Audiences"))),this._renderDialogContentForStage()));},_renderDialogContentForStage:function l(){switch(this.state.viewStage){case c('CreateCAStages').OPT_OUT_USER_FILE_IMPORT_INIT:return (c('React').createElement(c('AudienceManagerOptOutUserFileImportInitDialogContent.react'),{accountID:this.props.accountID,termsAlreadyAccepted:this._isTermsAccepted(),onRemoveClick:this._onRemoveUsersFromAllCustomAudiences}));case c('CreateCAStages').FILE_IMPORT_CHECK_FILE:case c('CreateCAStages').FILE_IMPORT_UPLOAD:return (c('React').createElement('div',{className:"_3773"},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{background:'light',size:'large'})));case c('CreateCAStages').FILE_IMPORT_UPLOAD_CONVERT_ERROR:case c('CreateCAStages').FILE_IMPORT_NO_VALID_ENTRY:return (c('React').createElement(c('AudienceManagerUploadFileErrorDialogContent.react'),{errorDetails:this.state.errorMessage,onUploadAnotherFileClick:this._onFileImportAnotherFileClick}));case c('CreateCAStages').FILE_IMPORT_UPLOAD_COMPLETE:var m=i._("Thanks for editing a Custom Audience"),n=c('React').createElement(c('AudienceManagerCompleteUploadMessage.react'),{errorTokenLists:this.state.errorTokenLists,message:m,numberOfTotalRecords:this.state.numberOfRecords.totalRecord,numberOfValidRecords:this.state.numberOfRecords.validRecord});return (c('React').createElement(c('AudienceManagerEditAudienceCompleteDialogContent.react'),{statusMessage:n,onCompleteClick:this._onEditCompleteClick}));case c('CreateCAStages').FILE_IMPORT_UPLOAD_ERROR:return (c('React').createElement(c('AudienceManagerUploadErrorDialogContent.react'),{errorTokenLists:this.state.errorTokenLists,numErrors:this.state.errorDetailsForLimitReach.numErrors,numLines:this.state.errorDetailsForLimitReach.numLines,onContinueCreateAudience:this._onFileImportContinueRemoveAudienceClick,onUploadAnotherFileClick:this._onFileImportAnotherFileClick}));}},_onRemoveUsersFromAllCustomAudiences:function l(m,n){c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').FILE_IMPORT_CHECK_FILE);c('AdsAMCreateAudienceServerActions').removeUsersFromAllCustomAudiences(this.props.accountID,m,n);},_onFileImportAnotherFileClick:function l(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_OPT_OUT_USER_CHOOSE_ANOTHER_FILE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceViewActions').setViewStage(c('CreateCAStages').OPT_OUT_USER_FILE_IMPORT_INIT);},_onFileImportContinueRemoveAudienceClick:function l(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_OPT_OUT_USER_CONTINUE_EDIT_AUDIENCE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('AdsAMCreateAudienceServerActions').continueUploadSelectedFileToServer();},_onEditCompleteClick:function l(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_OPT_OUT_USER_FINISH_SUCCESS},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this._onClose();},_onToggle:function l(m){if(!m){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_OPT_OUT_USER_CLOSE_DIALOG},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);this._onClose();}},_onClose:function l(){this.props.onClose();c('AdsAMCreateAudienceViewActions').reset();},_isTermsAccepted:function l(){var m=this.props.tosRequirementsForAccount.custom_audience;return Object.prototype.hasOwnProperty.call(this.props.tosAccepted,m)&&this.props.tosAccepted[m]==1;}});f.exports=k;}),null);
__d('AudienceManagerChrome.react',['cssVar','cx','fbt','invariant','ix','AdsAccountCapabilities','AdsAccountUtils','AdsAMAudienceActions','AdsAMAudienceStore','AdsAMAudienceUtils','AdsAMConnectConfig','AdsAMCreateAudienceServerActions','AdsAMFilterFieldConfig','AdsAMFilterValueConfig','AdsAMPresetFilters.react','AdsAMViewActions','AdsAMViewStore','AdsAudienceDataSourceUtils','AdsAudienceDetailActions','AdsAudienceOverlapActions','AdsCreateAudienceActionSelector.react','AdsCreatePlatformAudienceDialog.react','AdsCreateSavedAudienceTargetingDialog.react','AdsCustomAudienceType','AdsEditSavedAudienceDialogContainer.react','AdsGenericFilterSetUtil','AdsGuidanceChannelContainer.react','AdsInterfacesLogger','AdsNewIDs','AdsPixelDialog.react','AdsPixelDialogStore','AdsPixelDialogTypes','AdsPixelTableSettingStore','AdsPixelViewActions','AdsQEStore','AdsSavedAudienceActions','AdsSavedAudienceLoggingEvents','AdsSavedAudienceStore','AdsTargetingBootloadDialog.react','AssetLibrarySearchStore.brands','AudienceManagerActionSelector.react','AudienceManagerAudienceOverlapDialogContainer.react','AudienceManagerBlankState.react','AudienceManagerBulkDeleteDialog.react','AudienceManagerBulkDeleteSTSDialog.react','AudienceManagerColumnSelector.react','AudienceManagerCreateAdButton.react','AudienceManagerCreateAudienceDialog.react','AudienceManagerCustomAudienceLoggerStore','AudienceManagerDeleteDialog.react','AudienceManagerDownloadAudiencesLink.react','AudienceManagerEditAudienceDialog.react','AudienceManagerEditMultiKeyAudienceOptionsDialogContainer.react','AudienceManagerErrorTypes','AudienceManagerErrorView.react','AudienceManagerLoggingEvents','AudienceManagerOptOutDialog.react','AudienceManagerOptOutUserDialog.react','AudienceManagerPETopNavigation.react','AudienceManagerPlacement','AudienceManagerPopoverButton.react','AudienceManagerSearchBar.react','AudienceManagerSelectableTable.react','AudienceManagerSeparator.react','AudienceManagerStages','AudienceManagerTableHeader.react','AudienceManagerTieredLookalikeDialog.react','AudienceManagerTopNavigation.react','AudienceManagerTransactionDialog.react','AudienceManagerUIConstants','AudienceManagerWorkflowTypes','BootloadedComponent.react','BUIAdoptionButton.react','BUIAdoptionXUINotice.react','BUIAdoptionXUISpinner.react','BUIDetailPaneActions.brands','BUIFilterTokenizer.react','CustomAudienceRuleSignalSource','CustomAudienceTosUtils','DialogActions.brands','Grid.react','Image.react','JSResource','LeftRight.react','React','ReactComponentWithPureRenderMixin','StoreAndPropBasedStateMixin','SUIBusinessThemeContainer.react','SUISpinner.react','WebsiteCustomAudience.react','XUICard.react','XUICardSection.react','adsGKCheck','ifRequired','joinClasses','performanceNow'],(function a(b,c,d,e,f,g,h,i,j,k,l){'use strict';var m=c('React').PropTypes,n=c('AudienceManagerErrorTypes').Errors,o=c('AudienceManagerErrorTypes').ErrorTypes,p=c('Grid.react').GridItem,q=parseInt("40px",10),r='basecode-new',s=c('AudienceManagerUIConstants').BULK_ACTION_TYPE,t=c('AudienceManagerUIConstants').CREATE_AUDIENCE_ACTION_TYPE,u=36,v=47,w=8,x=30,y=c('AudienceManagerUIConstants').TABLE_TOP_PADDING,z=42,aa=80,ba=720,ca=c('React').createClass({displayName:'AudienceManagerChrome',mixins:[c('StoreAndPropBasedStateMixin')(c('AdsAMAudienceStore'),c('AdsAMViewStore'),c('AdsPixelDialogStore'),c('AdsPixelTableSettingStore'),c('AdsQEStore'),c('AdsSavedAudienceStore'),c('AudienceManagerCustomAudienceLoggerStore')),c('ReactComponentWithPureRenderMixin')],propTypes:{accountID:m.string.isRequired,autoLaunch:m.object,canWrite:m.bool.isRequired,className:m.string,controller:m.object.isRequired,height:m.number.isRequired,placement:m.string.isRequired,primedDao:m.object,showTableHeader:m.bool.isRequired,top:m.number.isRequired,width:m.number.isRequired,onAdCreate:m.func},getDefaultProps:function da(){return {showTableHeader:true,placement:c('AudienceManagerPlacement').STAND_ALONE};},getInitialState:function da(){return {showOptOutUserDialog:false,showAudienceOverlapDialog:false,showEngagementAudienceNUX:false,useAutoLaunch:true};},statics:{calculateState:function da(ea){var fa=c('AdsAMViewStore').getAudienceIdClicked(),ga=fa?c('AdsAMAudienceStore').getState(fa):null,ha=true,ia=ea.accountID,ja=c('AdsQEStore').get('platform_maca_qe_experiment',ea.accountID);return {audienceClicked:ga,canUseSavedAudience:ha,customAudienceCreationAutoLaunch:c('AdsAMViewStore').getAutoLaunch(),dialogStates:c('AdsAMViewStore').getViewState(),dialogType:c('AdsPixelDialogStore').getCurrentDialogType(),filterSet:c('AdsAMViewStore').getFilterSet(),platformMACAQE:ja,viewPixelCodeSelectedID:c('AdsPixelTableSettingStore').getViewPixelCodeSelectedID(),selectedAudienceIDs:c('AdsAMViewStore').getSelectedAudienceIDs(),sortState:c('AdsAMAudienceStore').getSortState()};}},componentWillMount:function da(){c('AdsAMAudienceActions').startLoading(c('performanceNow')());},componentDidMount:function da(){if(this.state.useAutoLaunch&&this.props.autoLaunch)switch(this.props.autoLaunch.workflow_id){case c('AudienceManagerWorkflowTypes').WCA:setTimeout(function(){return c('AdsAMViewActions').showWCADialog(null);},0);break;case c('AudienceManagerWorkflowTypes').PIXEL_DETAILS:setTimeout(function(){return c('AdsAMViewActions').showPixelDialog(null);},0);break;case c('AudienceManagerWorkflowTypes').LOOKALIKE:setTimeout(function(){return c('AdsAMViewActions').showLookalikeDialog(null);},0);break;case c('AudienceManagerWorkflowTypes').DATA_FILE:case c('AudienceManagerWorkflowTypes').MAIL_CHIMP:case c('AudienceManagerWorkflowTypes').COPY_PASTE:case c('AudienceManagerWorkflowTypes').MACA:case c('AudienceManagerWorkflowTypes').CUSTOM_LIST:case c('AudienceManagerWorkflowTypes').ENGAGEMENT_AUDIENCE:setTimeout(function(){return (c('AdsAMViewActions').showCreateCustomAudienceDialog());},0);break;case c('AudienceManagerWorkflowTypes').SAVED_AUDIENCE:setTimeout(function(){return (c('AdsAMViewActions').showSavedAudienceCreateDialog());},0);break;}},render:function da(){var ea={top:this.props.top,width:this.props.width},fa=c('joinClasses')(this.props.className,"_2aag");return (c('React').createElement(c('SUIBusinessThemeContainer.react'),null,c('React').createElement('div',{className:fa,style:ea},this._renderContent())));},_renderContent:function da(){var ea=void 0,fa=c('AdsAMAudienceStore').getErrorsByType(o.INIT_ERRORS);if(c('AdsAMAudienceStore').hasAllContent()||this._hasFilterSet()){ea=this._renderMain();}else if(fa.length>0){ea=c('React').createElement('div',{className:"_htg"},c('React').createElement(c('AudienceManagerErrorView.react'),{message:fa[0].message,shown:true}));}else ea=c('React').createElement('div',{className:"_2aah"},c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'}));return (c('React').createElement('div',{className:"_9a3"},ea));},_renderMain:function da(){var ea=this._hasContent();return (c('React').createElement('div',null,c('AdsAMAudienceStore').hasError(n.STS_GET)?this._renderSTSErrorHeader():null,this._renderHeader(ea),this._renderNux(),c('React').createElement(c('XUICard.react'),{className:"_3-8j"},c('React').createElement(c('XUICardSection.react'),{className:"_2ph_"},ea?this._renderNonBlankState():this._renderBlankState())),this._renderTransactionDialog(),this._renderCreateAudienceDialog(),this._renderLookalikeDialog(),this._renderWCADialog(),this._renderSavedAudienceEditDialog(),this._renderSavedAudienceCreateDialog()));},_renderSTSErrorHeader:function da(){return (c('React').createElement(c('BUIAdoptionXUINotice.react'),{type:'error'},j._("Saved target group is currently unavailable. We are actively working on this.")));},_renderNux:function da(){return (c('React').createElement(c('AdsGuidanceChannelContainer.react'),{accountID:this.props.accountID,allowMultiple:true,channelName:'AYMTAdsAudienceManagerChannel'}));},_onCreateAdClickAfterEdit:function da(ea){var fa,ga=(fa={},fa[ea]=c('AdsAMAudienceStore').getState(ea),fa);c('AdsAMViewActions').closeRegularEditDialog();c('AdsAMCreateAudienceServerActions').batchCreateAd(this.props.accountID,ga);},_onCreateLookalikeClickAfterEdit:function da(ea){c('AdsAMViewActions').closeRegularEditDialog();c('AdsAMViewActions').showLookalikeDialog(ea);},_renderHeader:function da(ea){var fa=c('AdsAMAudienceStore').getAccount();if(this.props.placement===c('AudienceManagerPlacement').POWER_EDITOR){return (c('React').createElement('div',null,c('React').createElement(c('AudienceManagerPETopNavigation.react'),{accountID:this.props.accountID,canWrite:this.props.canWrite,isBlankState:!ea,useSavedAudience:this.state.canUseSavedAudience,onAction:this._onCreateAudienceClicked}),c('React').createElement(c('AudienceManagerSeparator.react'),{marginTop:0})));}else if(this.props.placement===c('AudienceManagerPlacement').STAND_ALONE){return (c('React').createElement('div',null,c('React').createElement(c('AudienceManagerTopNavigation.react'),{accountID:this.props.accountID,canWrite:this.props.canWrite,isBlankState:!ea,useSavedAudience:this.state.canUseSavedAudience,onAction:this._onCreateAudienceClicked}),c('React').createElement(c('AudienceManagerSeparator.react'),{marginBottom:0,marginTop:0}),c('React').createElement(c('AudienceManagerTableHeader.react'),{account:fa}),c('React').createElement(c('AudienceManagerSeparator.react'),{marginTop:0})));}else return (c('React').createElement('div',null));},_hasContent:function da(){var ea=c('AdsAMAudienceStore').getAllAudiences().length||this._hasFilterSet();return !!ea;},_hasFilterSet:function da(){var ea=c('AdsAMViewStore').hasFilterContent()||c('AssetLibrarySearchStore.brands').getConstructedFilterSet();return !!ea;},_renderBlankState:function da(){return (c('React').createElement('div',{className:"_2ayw"},c('React').createElement(c('AudienceManagerBlankState.react'),{accountId:this.props.accountID,accountInfo:c('AdsAMAudienceStore').getAccount(),autoLaunch:this.state.useAutoLaunch?this.props.autoLaunch:null,canWrite:this.props.canWrite,dao:this.props.primedDao,tosAccepted:this._getTosAccepted(),tosRequirementsForAccount:this._getTosRequirements(),onAudienceAdded:this._onAudienceAdded,onSavedAudienceCreated:this._onCreateSavedAudience})));},_renderNonBlankState:function da(){return (c('React').createElement('div',null,this._renderToolsBar(),this._renderBulkDeleteDialog(),this._renderEmailPixelDialog(),this._renderEmailSuccessPixelDialog(),this._renderViewPixelDialog(),this._renderRegularEditDialog(),this._renderDeleteAudienceDialog(),this._renderShareAudienceDialog(),this._renderUnshareAudienceDialog(),this._renderOptOutDialog(),this._renderOptOutUserDialog(),this._renderAudienceOverlapDialog(),this._renderAudienceTable()));},_renderInlineCreateButton:function da(){return (c('React').createElement(c('AdsCreateAudienceActionSelector.react'),{disabled:!this.props.canWrite&&!c('AdsAMConnectConfig').create_draft_audiences,use:'confirm',useSavedAudience:this.state.canUseSavedAudience,onAction:this._onCreateAudienceClicked}));},_renderTransactionDialog:function da(){var ea=c('AdsAMAudienceStore').getErrorsByType(o.NON_INIT_ERRORS);if(ea.length>0)return (c('React').createElement(c('AudienceManagerTransactionDialog.react'),{error:ea[0],stage:c('AudienceManagerStages').ERROR,onCancelError:c('AdsAMAudienceActions').clearErrors}));return null;},_renderToolsBar:function da(){var ea=this.props.placement===c('AudienceManagerPlacement').BIZ_ASSET_LIBRARY,fa=[c('React').createElement(p,{key:'filter'},this._renderFilterButton()),c('React').createElement(p,{key:'column_selector'},this._renderColumnSelector()),c('React').createElement(p,{key:'ad_button'},this._renderCreateAdButton())],ga=c('AdsAccountUtils').hasCapability(c('AdsAMAudienceStore').getAccount(),c('AdsAccountCapabilities').CUSTOM_AUDIENCES_OPT_OUT_LINK);if(ga)fa.push(c('React').createElement(p,{key:'opt_out'},this._renderOptOutUserButton()));fa.push(c('React').createElement(p,{key:'action_selector'},this._renderActionSelector()));var ha=[];if(!ea)ha.push(c('React').createElement(p,{key:'search_bar'},c('React').createElement(c('AudienceManagerSearchBar.react'),{onKeywordsChanged:this._handleKeywordsChanged,onKeywordsComplete:this._handleKeywordsComplete})));if(c('adsGKCheck')('export_all_audiences'))ha.push(c('React').createElement(p,{key:'export_audience'},c('React').createElement(c('AudienceManagerDownloadAudiencesLink.react'),{accountID:this.props.accountID})));if((this.props.placement===c('AudienceManagerPlacement').NEW_ADS_MANAGER||ea)&&this._hasContent())fa.unshift(c('React').createElement(p,{key:'inline_creation'},this._renderInlineCreateButton()));var ia=ea?"_1ll7":"_5dgz";return (c('React').createElement('div',{className:ia},c('React').createElement(c('LeftRight.react'),null,c('React').createElement('div',null,c('React').createElement(c('Grid.react'),{cols:fa.length,spacing:"_2e7c"},fa)),c('React').createElement('div',null,c('React').createElement(c('Grid.react'),{cols:ha.length,spacing:"_2e7c"},ha)))));},_renderOptOutUserButton:function da(){var ea=j._("Opt Users Out");return (c('React').createElement(c('BUIAdoptionButton.react'),{label:ea,onClick:this._handleOptOutUserButtonClicked}));},_handleOptOutUserButtonClicked:function da(){this.setState({showOptOutUserDialog:true});},_handleAddTagButtonClick:function da(){c('DialogActions.brands').openDialog({isAsync:true,dialogWidth:600,dialogResource:c('JSResource')('AddTagsDialogController.brands').__setRef('AudienceManagerChrome.react'),dialogProps:{selectedObjectIDs:this.state.selectedAudienceIDs,onCancelAddTags:c('DialogActions.brands').closeDialog}});c('ifRequired')('AssetLibraryLogger.brands',function(ea){ea.logUserAction(ea.EVENT_NAME.ADD_TAG_TO_OBJECT_BUTTON_CLICK,{selectedAssets:this.state.selectedAudienceIDs});}.bind(this));},_handleAudienceOverlapButtonClicked:function da(){this.setState({showAudienceOverlapDialog:true});c('AdsAudienceOverlapActions').loadAudienceOverlap();c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_TABLE_ACTION_VIEW_OVERLAP},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);},_renderAudienceOverlapDialog:function da(){if(this.state.showAudienceOverlapDialog)return (c('React').createElement(c('AudienceManagerAudienceOverlapDialogContainer.react'),{accountID:this.props.accountID,initialAudienceIDsToCompare:this.state.selectedAudienceIDs,onCancel:this._onAudienceOverlapDialogClose}));return null;},_onAudienceOverlapDialogClose:function da(){this.setState({showAudienceOverlapDialog:false});},_renderFilterButton:function da(){var ea=j._("Filters"),fa=this._isAnyFilterSelected()?l("21931"):l("21932"),ga=c('React').createElement('div',{className:"_5czy"},c('React').createElement(c('AdsAMPresetFilters.react'),{filterSet:this.state.filterSet,onChange:this._handlePresetFilterChanged}));return (c('React').createElement(c('AudienceManagerPopoverButton.react'),{image:c('React').createElement(c('Image.react'),{src:fa}),label:ea,logClickEvent:this._handleFilterButtonClicked},ga));},_isAnyFilterSelected:function da(){return !!c('AdsAMViewStore').getFilterSet();},_handleFilterButtonClicked:function da(){c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_FILTER_BUTTON_CLICKED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);},_handleKeywordsChanged:function da(event){var ea=event.target.value;if(ea)ea=ea.trim();c('AdsAMViewStore').setNameFilter(ea);},_handleKeywordsComplete:function da(event){this.props.controller.filterCAAndSTS(this._constructFilter());c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_FILTER_NAME_SEARCH},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);},_constructFilter:function da(){var ea=c('AdsAMViewStore').getFilterSet(),fa=c('AssetLibrarySearchStore.brands').getConstructedFilterSet(),ga=ea&&fa?c('AdsGenericFilterSetUtil').mergeByField(ea,fa):ea||fa;return {name:c('AdsAMViewStore').getNameFilter(),filterSet:ga};},_renderSavedAudienceEditDialog:function da(){if(this.state.audienceClicked&&c('AdsAMAudienceUtils').isSavedAudience(this.state.audienceClicked)&&this.state.dialogStates.showSavedAudienceEditDialog)return (c('React').createElement(c('AdsEditSavedAudienceDialogContainer.react'),{accountID:this.props.accountID,audienceID:this.state.audienceClicked.id,isShown:this.state.dialogStates.showSavedAudienceEditDialog,onClose:c('AdsAMViewActions').closeSavedAudienceEditDialog,onSavedAudienceChange:function ea(){}}));return null;},_renderSavedAudienceCreateDialog:function da(){if(this.state.dialogStates.showSavedAudienceCreateDialog)return (c('React').createElement(c('AdsCreateSavedAudienceTargetingDialog.react'),{accountID:this.props.accountID,accountInfo:c('AdsAMAudienceStore').getAccount(),autoLaunch:this.state.useAutoLaunch?this.props.autoLaunch:undefined,isShown:true,onCancel:c('AdsAMViewActions').closeSavedAudienceCreateDialog,onCreate:this._onCreateSavedAudience}));return null;},_onCreateSavedAudience:function da(ea,fa){var ga=c('AdsNewIDs').newNegativeID().toString();c('AdsSavedAudienceActions').createSavedAudiences([{accountID:this.props.accountID,name:ea,targeting:fa,tempID:ga}]);c('AdsAMViewActions').closeSavedAudienceCreateDialog();},_renderCreateAudienceDialog:function da(){if(this.state.dialogStates.showCreateCustomAudienceDialog){var ea=this.props.placement!==c('AudienceManagerPlacement').POWER_EDITOR,fa=null;if(this.state.useAutoLaunch&&this.props.autoLaunch){fa=this.props.autoLaunch;}else if(this.state.customAudienceCreationAutoLaunch)fa=this.state.customAudienceCreationAutoLaunch;return (c('React').createElement(c('AudienceManagerCreateAudienceDialog.react'),{accountID:this.props.accountID,allowNextStep:ea,autoLaunch:fa,dao:this.props.primedDao,showEngagementAudienceNUX:this.state.showEngagementAudienceNUX,tosAccepted:this._getTosAccepted(),tosRequirementsForAccount:this._getTosRequirements(),onAudienceAdded:this._onAudienceAdded,onCancel:c('AdsAMViewActions').closeCreateCustomAudienceDialog}));}return null;},_renderBulkDeleteDialog:function da(){if(this.state.dialogStates.showBulkDeleteDialog){this.state.selectedAudienceIDs&&this.state.selectedAudienceIDs.length>0||k(0);var ea=this.state.selectedAudienceIDs.map(function(ga){return c('AdsAMAudienceStore').getState(ga);}),fa=c('AdsAMAudienceUtils').isSavedTargetSpec(ea[0]);if(fa){return (c('React').createElement(c('AudienceManagerBulkDeleteSTSDialog.react'),{selectedAudiences:ea,onBulkDelete:function(ga){this.props.controller.bulkDeleteSavedTargetSpecs(ga);}.bind(this),onClose:c('AdsAMViewActions').closeBulkDeleteDialog}));}else return (c('React').createElement(c('AudienceManagerBulkDeleteDialog.react'),{accountID:this.props.accountID,controller:this.props.controller,selectedAudiences:ea,onBulkDelete:function(ga){this.props.controller.bulkDeleteAudiences(ga);}.bind(this),onBulkUnshare:this._onBulkUnshare,onClose:c('AdsAMViewActions').closeBulkDeleteDialog}));}return null;},_onBulkUnshare:function da(ea){this.props.controller.bulkRemoveSharedAudiences(ea);},_renderOptOutDialog:function da(){if(this.state.dialogStates.showOptOutDialog)return (c('React').createElement(c('AudienceManagerOptOutDialog.react'),{audience:this.state.audienceClicked,onClose:c('AdsAMViewActions').closeOptOutDialog,onConfirmClick:function(ea,fa){this.props.controller.changeAudienceWithCallback(ea,fa,c('AdsAMViewActions').closeOptOutDialog);}.bind(this)}));return null;},_renderActionSelector:function da(){var ea=this.state.selectedAudienceIDs.map(function(ia){return c('AdsAMAudienceStore').getState(ia);}),fa=c('AdsAMAudienceStore').getAccount(),ga=c('AdsAccountUtils').hasCapability(fa,c('AdsAccountCapabilities').CUSTOM_AUDIENCES_OPT_OUT_LINK),ha=c('AdsAccountUtils').hasCapability(fa,c('AdsAccountCapabilities').PLATFORM_WEBSITE_CUSTOM_AUDIENCE_UI);return (c('React').createElement(c('AudienceManagerActionSelector.react'),{accountID:this.props.accountID,canEditLabels:this.props.placement===c('AudienceManagerPlacement').BIZ_ASSET_LIBRARY,canSeePlatformWCAUI:ha,canUseOptOut:ga,selectedAudiences:ea,onBulkAction:this._onBulkAction,onCAAction:this._onCAAction,onMultipleOverlapAction:this._onMultipleOverlapAction,onSTGAction:this._onSTGAction}));},_renderCreateAdButton:function da(){var ea=this.state.selectedAudienceIDs.map(function(fa){return c('AdsAMAudienceStore').getState(fa);});return (c('React').createElement(c('AudienceManagerCreateAdButton.react'),{accountID:this.props.accountID,audiences:ea,controller:this.props.controller,label:this._renderCreateAdButtonLabel(),onAdCreate:this.props.onAdCreate}));},_renderCreateAdButtonLabel:function da(){if(this.props.placement===c('AudienceManagerPlacement').POWER_EDITOR)return j._("Create Advert Set");return j._("Create Advert");},_renderColumnSelector:function da(){return (c('React').createElement(c('AudienceManagerColumnSelector.react'),{columnsShown:c('AdsAMViewStore').getColumnsShown(),onSelectorChange:this._handleColumnSelectorChange}));},_handleColumnSelectorChange:function da(ea){this.props.controller.updateColumnShown(ea.target.value,ea.target.checked);var fa=c('AdsAMViewStore').getColumnsShown();this.props.controller.saveColumnsShownSettings(fa);c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_TABLE_COLUMN_CUSTOMIZE},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);},_onBulkAction:function da(ea){switch(ea){case s.DELETE:c('AdsAMViewActions').showBulkDeleteDialog();c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_TABLE_ACTION_BULK_DELETE_CLICKED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case s.CREATE_AD:var fa=this.state.selectedAudienceIDs.map(function(ga){return c('AdsAMAudienceStore').getState(ga);});this.props.controller.bulkCreateAd(fa);break;case s.AUDIENCES_OVERLAP:this._handleAudienceOverlapButtonClicked();break;case s.SHARE:c('AdsAMViewActions').showBulkShareAudienceDialog(this.state.selectedAudienceIDs);c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_TABLE_ACTION_SHARE_CLICKED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case 'add_tags':this._handleAddTagButtonClick();break;default:k(0);}},_onMultipleOverlapAction:function da(ea){switch(ea){case 'audiences_overlap':this._handleAudienceOverlapButtonClicked();break;case 'add_tags':this._handleAddTagButtonClick();break;default:k(0);}},_onCAAction:function da(ea){var fa=c('AdsAMAudienceStore').getState(this.state.selectedAudienceIDs[0]);switch(ea){case 'edit':if(fa.data_source.sub_type===c('AdsAudienceDataSourceUtils').SUBTYPES.WEB_PIXEL_HITS||fa.data_source.sub_type===c('AdsAudienceDataSourceUtils').SUBTYPES.WEB_PIXEL_COMBINATION_EVENTS){c('AdsAMViewActions').showWCADialog(fa.id);}else c('AdsAMViewActions').showRegularEditDialog(fa.id);c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_TABLE_ACTION_EDIT_CLICKED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case 'delete':c('AdsAMViewActions').showDeleteAudienceDialog(fa.id);c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_TABLE_ACTION_DELETE_CLICKED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case 'pixel':c('AdsAMViewActions').showPixelDialog(fa.id);c('AdsPixelViewActions').dialogTypeChange(c('AdsPixelDialogTypes').INTEGRATIONS_CMS,{integrationName:r});c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_TABLE_ACTION_VIEW_PIXEL_CLICKED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case 'share':c('AdsAMViewActions').showShareAudienceDialog(fa.id);c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_TABLE_ACTION_SHARE_CLICKED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case 'lookalike':c('AdsAMViewActions').showLookalikeDialog(fa.id);c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_TABLE_ACTION_CREATE_LAL_CLICKED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case 'optout':c('AdsAMViewActions').showOptOutDialog(fa.id);break;case 'audiences_overlap':this._handleAudienceOverlapButtonClicked();break;case 'add_tags':this._handleAddTagButtonClick();break;default:k(0);}},_onSTGAction:function da(ea){var fa=c('AdsAMAudienceStore').getState(this.state.selectedAudienceIDs[0]);switch(ea){case 'edit':if(c('AdsAMAudienceUtils').isSavedAudience(fa)){c('AdsAMViewActions').showSavedAudienceEditDialog(fa.id);}else c('AdsAMViewActions').showSavedTargetSpecDialog(fa.id);c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_TABLE_ACTION_EDIT_CLICKED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case 'delete':c('AdsAMViewActions').showBulkDeleteDialog();c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_TABLE_ACTION_DELETE_CLICKED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case 'audiences_overlap':this._handleAudienceOverlapButtonClicked();break;case 'add_tags':this._handleAddTagButtonClick();break;default:k(0);}},_renderEmailPixelDialog:function da(){if(this.state.dialogType===c('AdsPixelDialogTypes').EMAIL_INSTRUCTIONS){var ea=this._getSelectedPixelID();if(ea)return c('React').createElement(c('AdsPixelDialog.react'),{pixelID:ea});}return null;},_renderEmailSuccessPixelDialog:function da(){if(this.state.dialogType===c('AdsPixelDialogTypes').EMAIL_CODE_SUCCESS)return c('React').createElement(c('AdsPixelDialog.react'),null);return null;},_renderViewPixelDialog:function da(){if(this.state.dialogType===c('AdsPixelDialogTypes').INTEGRATIONS_CMS){var ea=this._getSelectedPixelID();if(ea)return c('React').createElement(c('AdsPixelDialog.react'),{pixelID:ea});}return null;},_renderShareAudienceDialog:function da(){if(this.state.dialogStates.showShareDialog&&(this.state.selectedAudienceIDs.length>0||this.state.audienceClicked)){var ea=this.state.selectedAudienceIDs.length>0?this.state.selectedAudienceIDs:[this.state.audienceClicked.id];return (c('React').createElement(c('BootloadedComponent.react'),{bootloadLoader:c('JSResource')('ShareAudienceDialogContainer.react').__setRef('AudienceManagerChrome.react'),bootloadPlaceholder:c('React').createElement(c('BUIAdoptionXUISpinner.react'),{size:'large'}),ownerAccountID:this.props.accountID,selectedAudienceIDs:ea,onUpdateAudienceCapabilities:this.props.controller.bulkUpdateAudienceCapabilities}));}return null;},_onAudienceChanged:function da(ea,fa){var ga=this.props.controller;ga.changeAudience(ea,fa);},_renderRegularEditDialog:function da(){var ea=this.state,fa=ea.audienceClicked,ga=ea.dialogStates;if(ga.showRegularEditDialog&&fa){if(c('AdsAMAudienceUtils').isAudienceCreatedFromFile(fa))return (c('React').createElement(c('AudienceManagerEditMultiKeyAudienceOptionsDialogContainer.react'),{accountID:this.props.accountID,audience:this.state.audienceClicked,dao:this.props.primedDao,tosAccepted:this._getTosAccepted(),tosRequirementsForAccount:this._getTosRequirements(),onAudienceChanged:this._onAudienceChanged,onClose:c('AdsAMViewActions').closeRegularEditDialog,onNextOptionCreateAd:this._onCreateAdClickAfterEdit,onNextOptionCreateLAL:this._onCreateLookalikeClickAfterEdit}));if(this._isAudienceTypeAPP(fa)){var ha=this.state.platformMACAQE;if(ha===undefined||ha.isLoading())return (c('React').createElement('div',{style:{textAlign:'center'}},c('React').createElement(c('SUISpinner.react'),{size:'large'})));var ia=ha.getValueEnforcing();ia.maybeLogExposure();}if(fa.rule_v2){var ja=c('AdsAudienceDataSourceUtils').getPlatformAudienceSubType(JSON.parse(fa.rule_v2));return (c('React').createElement(c('AdsCreatePlatformAudienceDialog.react'),{accountID:this.props.accountID,audience:fa,dao:this.props.primedDao,isWcaTosAccepted:c('CustomAudienceTosUtils').isWcaTosAccepted(this._getTosAccepted()),signalSourceType:ja,onAudienceAdded:this._onPlatformAudienceUpdated,onBack:c('AdsAMViewActions').closeRegularEditDialog,onCancel:c('AdsAMViewActions').closeRegularEditDialog,onCreateAudience:this._onUpdatePlatformAudience,onFinishCreateAudience:c('AdsAMViewActions').closeRegularEditDialog}));}return (c('React').createElement(c('AudienceManagerEditAudienceDialog.react'),{accountID:this.props.accountID,audience:this.state.audienceClicked,tosAccepted:this._getTosAccepted(),tosRequirementsForAccount:this._getTosRequirements(),onAudienceChanged:this._onAudienceChanged,onClose:c('AdsAMViewActions').closeRegularEditDialog}));}return null;},_isAudienceTypeAPP:function da(ea){if(ea.subtype==='APP')return true;if(ea.rule_v2){var fa=c('AdsAudienceDataSourceUtils').getPlatformAudienceSubType(JSON.parse(ea.rule_v2));return fa===c('CustomAudienceRuleSignalSource').APP;}return false;},_renderWCADialog:function da(){if(this.state.dialogStates.showWCADialog){var ea=this.props.controller;return (c('React').createElement(c('WebsiteCustomAudience.react'),{accountID:this.props.accountID,audience:this.state.audienceClicked,dao:this.props.primedDao,isTosAccepted:c('CustomAudienceTosUtils').isWcaTosAccepted(this._getTosAccepted()),onAudienceAdded:this._onAudienceAdded,onAudienceUpdated:ea.changeAudience.bind(ea)}));}return null;},_renderDeleteAudienceDialog:function da(){if(this.state.dialogStates.showDeleteDialog&&this.state.audienceClicked)return c('AdsAMAudienceUtils').isSavedTargetSpec(this.state.audienceClicked)?c('React').createElement(c('AudienceManagerBulkDeleteSTSDialog.react'),{selectedAudiences:[this.state.audienceClicked],onBulkDelete:this._onSavedAudienceDeleted,onClose:c('AdsAMViewActions').closeDeleteAudienceDialog}):c('React').createElement(c('AudienceManagerDeleteDialog.react'),{accountID:this.props.accountID,audience:this.state.audienceClicked,dao:this.props.primedDao,onAudienceDeleted:this._onAudienceDeleted,onAudienceUnshared:this._onAudienceUnshared});return null;},_onAudienceUnshared:function da(ea){c('AdsAudienceDetailActions').unshareAudience(this.props.accountID,ea.id);},_onSavedAudienceDeleted:function da(ea){this._onAudienceDeleted(ea[0]);},_onAudienceAdded:function da(ea){this.props.controller.addAudience(ea);},_onAudienceDeleted:function da(ea){c('AdsAudienceDetailActions').deleteAudience(ea);},_renderLookalikeDialog:function da(){if(this.state.dialogStates.showLookalikeDialog)return (c('React').createElement(c('AudienceManagerTieredLookalikeDialog.react'),{accountID:this.props.accountID,audience:this.state.audienceClicked,dao:this.props.primedDao,onAudienceAdded:this._onAudienceAdded,onClose:c('AdsAMViewActions').closeLookalikeDialog}));},_renderOptOutUserDialog:function da(){if(this.state.showOptOutUserDialog)return (c('React').createElement(c('AudienceManagerOptOutUserDialog.react'),{accountID:this.props.accountID,tosAccepted:this._getTosAccepted(),tosRequirementsForAccount:this._getTosRequirements(),onClose:this._onOptOutUserDialogClose}));return null;},_onOptOutUserDialogClose:function da(){this.setState({showOptOutUserDialog:false});},_handlePresetFilterChanged:function da(ea){this._handleFilterSetChanged(ea);c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_FILTER_LEFT_PRESET_CHANGED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);c('BUIDetailPaneActions.brands').close();},_getTableHeight:function da(){var ea=this.props.height-z-y;if(this.props.placement===c('AudienceManagerPlacement').NEW_ADS_MANAGER)ea-=aa;if(this.props.placement===c('AudienceManagerPlacement').STAND_ALONE)ea=ea-aa-q;if(this.props.placement===c('AudienceManagerPlacement').POWER_EDITOR)ea=ea-w-x;if(c('AdsAMAudienceStore').hasError(n.STS_GET))ea-=u;return ea;},_renderAudienceTable:function da(){var ea=this._getTableHeight();if(this._isAnyFilterSelected())ea-=v;var fa={account_id:this.props.accountID};return (c('React').createElement('div',{className:"_5dg_"},this._renderFilterTokenSection(),c('React').createElement(c('AudienceManagerSelectableTable.react'),{account:fa,canWrite:this.props.canWrite,dao:this.props.primedDao,height:ea,placement:this.props.placement,useSavedAudience:this.state.canUseSavedAudience,width:this.props.width-12*4,onCreateAudienceClicked:this._onCreateAudienceClicked,onLastRowReached:this._fetchMoreAudiences})));},_onUpdateAudienceCapabilities:function da(ea,fa,ga){this.props.controller.updateAudienceCapabilities(ea,fa,ga);},_renderUnshareAudienceDialog:function da(){if(this.state.dialogStates.showUnshareDialog&&this.state.audienceClicked)return (c('React').createElement(c('AdsTargetingBootloadDialog.react'),{audience:this.state.audienceClicked,bootloadLoader:c('JSResource')('AudienceManagerUnshareContainer.react').__setRef('AudienceManagerChrome.react'),width:ba,onUpdateAudiencePermissions:this._onUpdateAudienceCapabilities}));return null;},_renderFilterTokenSection:function da(){if(!this._isAnyFilterSelected())return null;var ea={height:v};return (c('React').createElement('div',{className:"_2vde",style:ea},this._renderFilterTokenizer()));},_renderFilterTokenizer:function da(){var ea=[];Object.keys(c('AdsAMFilterFieldConfig')).forEach(function(fa){ea.push(c('AdsAMFilterFieldConfig')[fa]);});return (c('React').createElement(c('BUIFilterTokenizer.react'),{fieldsConfig:c('AdsAMFilterFieldConfig'),filterSet:c('AdsAMViewStore').getFilterSet(),validFieldConfigs:ea,valuesConfig:c('AdsAMFilterValueConfig'),onChange:this._handleFilterTokenizerChanged}));},_handleFilterTokenizerChanged:function da(ea){this._handleFilterSetChanged(ea);c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_FILTER_TOKENIZER_CHANGED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);},_getFilterParamsForLogging:function da(ea){if(!ea)return [];return ea.toAPI();},_handleFilterSetChanged:function da(ea){c('AdsAMViewStore').setFilterSet(ea);c('AdsAMViewActions').updateFilterSet();this.props.controller.filterCAAndSTS(this._constructFilter());},_onCreateAudienceClicked:function da(ea){switch(ea){case t.CUSTOM_AUDIENCE:this.setState({useAutoLaunch:false,showEngagementAudienceNUX:false});c('AdsAMViewActions').showCreateCustomAudienceDialog();c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CA_CREATE_AUDIENCE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case t.LOOKALIKE:c('AdsAMViewActions').showLookalikeDialog(null);c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_LAL_CREATE_AUDIENCE_CLICK},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case t.SAVED_TARGET_SPEC:c('AdsAMViewActions').showSavedTargetSpecDialog(null);c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_CREATE_SAVED_AUDIENCE_CLICKED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;case t.SAVED_AUDIENCE:c('AdsAMViewActions').showSavedAudienceCreateDialog();c('AdsInterfacesLogger').log({eventName:c('AdsSavedAudienceLoggingEvents').CREATE_FROM_AM_CLICKED},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);break;default:k(0);}},_onUpdatePlatformAudience:function da(ea,fa,ga){c('AdsAMCreateAudienceServerActions').updateCustomAudience(ea,fa,ga);},_onPlatformAudienceUpdated:function da(ea){this.props.controller.updatePlatformAudience(ea);},_fetchMoreAudiences:function da(){if(c('AdsAMViewStore').getCustomAudienceAfterCursor()||c('AdsAMViewStore').getSavedTargetSpecAfterCursor()||this.props.controller.shouldFetchMore())this.props.controller.fetchMoreCAAndSTS(this._constructFilter(),c('AdsAMViewStore').getCustomAudienceAfterCursor(),c('AdsAMViewStore').getSavedTargetSpecAfterCursor());},_getSelectedPixelID:function da(){if(this.state.viewPixelCodeSelectedID){return this.state.viewPixelCodeSelectedID;}else if(this.state.audienceClicked)return this.state.audienceClicked.external_event_source.id;},_getTosRequirements:function da(){var ea=c('AdsAMAudienceStore').getAccount(),fa=c('AdsAccountUtils').getIsCorporateFromCapabilities(ea.capabilities);return c('CustomAudienceTosUtils').getTosRequirements(fa);},_getTosAccepted:function da(){return c('AdsAMAudienceStore').getAccount().tos_accepted||{};}});f.exports=ca;}),null);
__d('AudienceManagerAdgroupsForAudienceRequest',['AudienceManagerAPIRequest'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AudienceManagerAPIRequest'));i=h&&h.prototype;function j(k){i.constructor.call(this,'GET',{adgroup_status:['ACTIVE'],fields:'id,name'});this.$AudienceManagerAdgroupsForAudienceRequest1=k;}j.prototype.getEndpoint=function(){return '/'+this.$AudienceManagerAdgroupsForAudienceRequest1+'/ads';};j.prototype.isParamsValid=function(){return !!this.$AudienceManagerAdgroupsForAudienceRequest1;};f.exports=j;}),null);
__d('AudienceManagerCreateAudienceSharingRequest',['AudienceManagerAPIRequest'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AudienceManagerAPIRequest'));i=h&&h.prototype;function j(k){i.constructor.call(this,'POST',k);this.$AudienceManagerCreateAudienceSharingRequest1=k.audienceID;}j.prototype.getEndpoint=function(){return '/'+this.$AudienceManagerCreateAudienceSharingRequest1+'/capabilities';};j.prototype.isParamsValid=function(){return !!this.$AudienceManagerCreateAudienceSharingRequest1;};f.exports=j;}),null);
__d('AudienceManagerDeleteAudienceSharingRequest',['AudienceManagerAPIRequest'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AudienceManagerAPIRequest'));i=h&&h.prototype;function j(k){i.constructor.call(this,'DELETE',k);this.$AudienceManagerDeleteAudienceSharingRequest1=k.audienceID;this.$AudienceManagerDeleteAudienceSharingRequest2=k.adaccounts;}j.prototype.getEndpoint=function(){return '/'+this.$AudienceManagerDeleteAudienceSharingRequest1+'/capabilities';};j.prototype.isParamsValid=function(){return !!this.$AudienceManagerDeleteAudienceSharingRequest1;};f.exports=j;}),null);
__d('AudienceManagerDeleteRequest',['AudienceManagerAPIRequest'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('AudienceManagerAPIRequest'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,'DELETE',{});this.$AudienceManagerDeleteRequest1=k;}j.prototype.getEndpoint=function(){'use strict';return '/'+this.$AudienceManagerDeleteRequest1;};j.prototype.isParamsValid=function(){'use strict';return this.$AudienceManagerDeleteRequest1;};f.exports=j;}),null);
__d('AudienceManagerFilteringUtils',['AdsAMAudienceUtils','AdsAMFilterAPIParamConsts','AdsAMFilterValueConfig','AdsAPICustomAudienceFilteringFields','AdsGenericFilterOperator','AdsLookalikeStoreUtils'],(function a(b,c,d,e,f,g){'use strict';function h(i){this.$AudienceManagerFilteringUtils1=i;this.$AudienceManagerFilteringUtils2=i?i.toAPI():null;}h.prototype.shouldFetchCustomAudiences=function(){if(!this.$AudienceManagerFilteringUtils2)return true;var i=this.$AudienceManagerFilteringUtils2.some(function(j){return j.field===c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.TYPE&&j.value.length===1&&j.value[0]===c('AdsAMFilterValueConfig').TYPE_SAVED_AUDIENCE.value;});return !i;};h.prototype.shouldFetchSavedTargetSpecs=function(){if(!this.$AudienceManagerFilteringUtils2)return true;var i=this.$AudienceManagerFilteringUtils2.some(function(j){switch(j.field){case c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.TYPE:return j.value.indexOf(c('AdsAMFilterValueConfig').TYPE_SAVED_AUDIENCE.value)===-1;case c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.SOURCE:return true;case c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.AVAILABILITY:return j.value.indexOf(c('AdsAMFilterValueConfig').AVAILABILITY_READY.value)===-1;case c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.QUICK_LOOK:return true;case c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.BUSINESS_TAG:return false;case c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.RULE:return true;case c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.ADVANCED:return true;case c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.BUSINESS_SMART_FOLDER:return false;default:break;}return false;});return !i;};h.prototype.filterSavedTargetSpecsName=function(i,j){var k=i.toLowerCase();return j.filter(function(l){if(c('AdsAMAudienceUtils').isSavedAudience(l))return (l.name||'').toLowerCase().indexOf(k)!==-1;return (l.audience_name||'').toLowerCase().indexOf(k)!==-1;});};h.prototype.getCAFilteringParams=function(){if(!this.$AudienceManagerFilteringUtils2)return [];var i=[];this.$AudienceManagerFilteringUtils2.forEach(function(j){var k=this.$AudienceManagerFilteringUtils3(j);if(k)i.push(k);}.bind(this));return i;};h.prototype.$AudienceManagerFilteringUtils3=function(i){switch(i.field){case c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.TYPE:return this.$AudienceManagerFilteringUtils4(i,c('AdsAPICustomAudienceFilteringFields').SUBTYPE);case c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.SOURCE:return this.$AudienceManagerFilteringUtils5(i,c('AdsAPICustomAudienceFilteringFields').DATA_SOURCE_SUBTYPE);case c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.RULE:return this.$AudienceManagerFilteringUtils5(i,c('AdsAPICustomAudienceFilteringFields').RULE);case c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.ADVANCED:return this.$AudienceManagerFilteringUtils5(i,c('AdsAPICustomAudienceFilteringFields').ADVANCED);case c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.AVAILABILITY:return this.$AudienceManagerFilteringUtils5(i,c('AdsAPICustomAudienceFilteringFields').DELIVERY_STATUS_CODE);case c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.QUICK_LOOK:return this.$AudienceManagerFilteringUtils5(i,c('AdsAPICustomAudienceFilteringFields').QUICK_LOOK);case c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.BUSINESS_TAG:return {field:c('AdsAPICustomAudienceFilteringFields').BUSINESS_TAG,operator:i.operator,value:i.value};case c('AdsAMFilterAPIParamConsts').UI_FIELD_NAME.BUSINESS_SMART_FOLDER:return {field:c('AdsAPICustomAudienceFilteringFields').BUSINESS_SMART_FOLDER,operator:i.operator,value:i.value};default:return null;}};h.prototype.$AudienceManagerFilteringUtils5=function(i,j){var k=void 0;if(Array.isArray(i.value)){k=[];i.value.forEach(function(l){k=this.$AudienceManagerFilteringUtils6(k,c('AdsAMFilterValueConfig')[l].filteringParamValues);}.bind(this));}else k=c('AdsAMFilterValueConfig')[i.value].filteringParamValues;return {field:j,operator:i.operator,value:k};};h.prototype.$AudienceManagerFilteringUtils6=function(i,j){j.forEach(function(k){if(i.indexOf(k)===-1)i.push(k);});return i;};h.prototype.$AudienceManagerFilteringUtils4=function(i,j){if(i.value.length===1&&i.value[0]===c('AdsAMFilterValueConfig').TYPE_SAVED_AUDIENCE.value)return null;var k=this.$AudienceManagerFilteringUtils7(i,c('AdsAMFilterValueConfig').TYPE_CUSTOM_AUDIENCE.value),l=this.$AudienceManagerFilteringUtils7(i,c('AdsAMFilterValueConfig').TYPE_LOOKALIKE.value);if(k&&l)return null;var m=c('AdsAMFilterValueConfig').TYPE_LOOKALIKE.filteringParamValues[0],n=l?c('AdsGenericFilterOperator').EQUAL:c('AdsGenericFilterOperator').NOT_EQUAL;return {field:j,operator:n,value:m};};h.prototype.$AudienceManagerFilteringUtils7=function(i,j){return i.value.some(function(k){return k===j;});};f.exports=h;}),null);
__d('AudienceManagerGetSavedTargetGroupRequest',['AudienceManagerAPIRequest','SavedTargetSpecAPIFields'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AudienceManagerAPIRequest'));i=h&&h.prototype;function j(k){i.constructor.call(this,'GET',{fields:c('SavedTargetSpecAPIFields').DEFAULT_FIELDS_FOR_AUDIENCE_MANAGER});this.$AudienceManagerGetSavedTargetGroupRequest1=k;}j.prototype.getEndpoint=function(){return '/'+this.$AudienceManagerGetSavedTargetGroupRequest1;};j.prototype.isParamsValid=function(){return this.$AudienceManagerGetSavedTargetGroupRequest1;};f.exports=j;}),null);
__d('AudienceManagerGetSharedAudienceRequest',['AudienceManagerAPIRequest'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('AudienceManagerAPIRequest'));i=h&&h.prototype;function j(k){i.constructor.call(this,'GET',{fields:['capabilities','shared_account_info']});this.$AudienceManagerGetSharedAudienceRequest1=k;}j.prototype.getEndpoint=function(){return '/'+this.$AudienceManagerGetSharedAudienceRequest1;};j.prototype.isParamsValid=function(){return !!this.$AudienceManagerGetSharedAudienceRequest1;};f.exports=j;}),null);
__d('AudienceManagerUIController',['AdsInterfacesLogger','AdsAMActionTypes','AdsAMAudienceActions','AdsAMAudienceStore','AdsAMAudienceUtils','AdsAMViewActions','AdsAMViewStore','AdsAPIAdAccountFields','AdsGenericFilterOperator','AdsGraphAPI','AdsSavedAudienceActions','AssetLibrarySearchStore.brands','AssetLibrarySearchUtils.brands','AsyncRequest','AudienceDaoManager','AudienceManagerAdgroupsForAudienceRequest','AudienceManagerCreateAudienceSharingRequest','AudienceManagerDeleteAudienceSharingRequest','AudienceManagerDeleteRequest','AudienceManagerErrorTypes','AudienceManagerFilteringUtils','AudienceManagerGetSavedTargetGroupRequest','AudienceManagerGetSharedAudienceRequest','AudienceManagerLoggingEvents','AudienceManagerRequestBatch','AudienceManagerSavedTargetSpecUtils','AudienceManagerUIConstants','AudiencePropertyConstants','BizSiteIdentifier.brands','BusinessURI.brands','SavedTargetSpecAPIFields','XAdsCreatorController','emptyFunction','isEmpty'],(function a(b,c,d,e,f,g){'use strict';var h=c('AudienceManagerErrorTypes').Errors,i=c('AudiencePropertyConstants').AUDIENCE_MANAGER_FIELDS;function j(k){this.$AudienceManagerUIController1=k;}j.prototype.bulkDeleteAudiences=function(k){var l=k.map(function(n){return new (c('AudienceManagerDeleteRequest'))(n.id);}),m=function n(){c('AdsAMViewActions').closeBulkDeleteDialogAndClearSelection();c('AdsAMAudienceActions').deleteAudiences(k);};c('AudienceManagerRequestBatch').execute(l,m,m);};j.prototype.bulkCreateAd=function(k){var l=k.map(function(o){return {id:o.id,name:o.name};}),m={custom_audiences:l},n=c('BusinessURI.brands')(c('XAdsCreatorController').getURIBuilder().setInt('act',this.$AudienceManagerUIController1).setString('targeting_spec',JSON.stringify(m)).getURI());window.open(n,'_blank');c('AdsAMViewActions').clearAudienceSelection();};j.prototype.loadAudienceAdgroups=function(k,l,m){var n=k.map(function(o){return new (c('AudienceManagerAdgroupsForAudienceRequest'))(o.id);});c('AudienceManagerRequestBatch').execute(n,l,m);};j.prototype.deleteAudience=function(k){var l=c('AudienceDaoManager').getPrimedDao(this.$AudienceManagerUIController1);this.clearDaoCache(l);l.remove.audience.one(function(m){if(m)c('AdsAMAudienceActions').deleteAudience(k);},{audienceId:k.id,handleError:function m(n,o){c('AdsAMAudienceActions').error(o,h.AUDIENCE_DELETE);}});c('AdsAMViewActions').clearAudienceSelection();};j.prototype.bulkRemoveSharedAudiences=function(k){var l=function o(p){c('AdsAMAudienceActions').error(p,h.CAPABILITY_REMOVE);},m=function o(p){c('AdsAMViewActions').closeBulkDeleteDialogAndClearSelection();c('AdsAMAudienceActions').deleteAudiences(k);},n=k.map(function(o){return (new (c('AudienceManagerDeleteAudienceSharingRequest'))({audienceID:o.id,adaccounts:[this.$AudienceManagerUIController1]}));}.bind(this));c('AudienceManagerRequestBatch').execute(n,m,l);};j.prototype.removeSharedAudiences=function(k){var l=c('AudienceDaoManager').getPrimedDao(this.$AudienceManagerUIController1);l.remove.removeAudienceCapabilities.one(function(m){if(m)c('AdsAMAudienceActions').deleteAudience(k);},{audienceID:k.id,adaccounts:[this.$AudienceManagerUIController1],handleError:function m(n,o){c('AdsAMAudienceActions').error(o,h.CAPABILITY_REMOVE);}});c('AdsAMViewActions').clearAudienceSelection();};j.prototype.addAudience=function(k){var l=c('AudienceDaoManager').getPrimedDao(this.$AudienceManagerUIController1);this.clearDaoCache(l);l.fetch.audience.one(function(m){c('AdsAMAudienceActions').addAudience(m);},{audienceID:k,fields:i,handleError:function m(n,o){c('AdsAMAudienceActions').error(o,h.AUDIENCE_ADD);}});};j.prototype.updatePlatformAudience=function(k){var l=c('AudienceDaoManager').getPrimedDao(this.$AudienceManagerUIController1);this.clearDaoCache(l);l.fetch.audience.one(function(m){c('AdsAMAudienceActions').updateAudience(k,m);},{audienceID:k,fields:i,handleError:function m(n,o){c('AdsAMAudienceActions').error(o,h.AUDIENCE_GET);}});};j.prototype.bulkUpdateAudienceCapabilities=function(k,l){c('AdsInterfacesLogger').log({eventName:c('AdsAMActionTypes').BULK_SHARE_AUDIENCES},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);var m=function r(s){s.map(function(t){c('AdsAMAudienceActions').error(t,h.AUDIENCE_GET);});},n=function r(s){s.forEach(function(t){c('AdsAMAudienceActions').updateAudience(t.id,t);});},o=function r(s){s.map(function(t){if(t.error.error_user_msg)t.error.message=t.error.error_user_msg;c('AdsAMAudienceActions').error(t,h.CAPABILITY_UPDATE);});},p=function r(s){var t=k.map(function(u){return (new (c('AudienceManagerGetSharedAudienceRequest'))(u));});c('AudienceManagerRequestBatch').execute(t,n,m);},q=k.map(function(r){return (new (c('AudienceManagerCreateAudienceSharingRequest'))({audienceID:r,accounts_capabilities:l}));});c('AudienceManagerRequestBatch').execute(q,p,o);};j.prototype.addAudienceCapabilities=function(k,l){if(c('isEmpty')(l))return;var m=c('AudienceDaoManager').getPrimedDao(this.$AudienceManagerUIController1);m.mutate.updateCapabilitiesForAudience.one(function(n){this.clearDaoCache(m);m.fetch.audience.one(function(o){if(!o.shared_account_info)o.shared_account_info=null;c('AdsAMAudienceActions').updateAudience(k,o);},{audienceID:k,fields:['shared_account_info','capabilities'],handleError:function o(p,q){c('AdsAMAudienceActions').error(q,h.AUDIENCE_GET);}});}.bind(this),{audienceID:k,accounts_capabilities:l,handleError:function n(o,p){if(p.error.error_user_msg)p.error.message+=': '+p.error.error_user_msg;c('AdsAMAudienceActions').error(p,h.CAPABILITY_UPDATE);}});};j.prototype.removeAudienceCapabilities=function(k,l){if(c('isEmpty')(l))return;var m=c('AudienceDaoManager').getPrimedDao(this.$AudienceManagerUIController1);m.remove.removeAudienceCapabilities.one(function(n){this.clearDaoCache(m);m.fetch.audience.one(function(o){if(!o.shared_account_info)o.shared_account_info=null;c('AdsAMAudienceActions').updateAudience(k,o);},{audienceID:k,fields:['shared_account_info','capabilities'],handleError:function o(p,q){c('AdsAMAudienceActions').error(q,h.AUDIENCE_GET);}});}.bind(this),{audienceID:k,adaccounts:l,handleError:function n(o,p){if(p.error.error_user_msg)p.error.message+=': '+p.error.error_user_msg;c('AdsAMAudienceActions').error(p,h.CAPABILITY_REMOVE);}});};j.prototype.updateAudienceCapabilities=function(k,l,m){if(c('isEmpty')(l))return this.removeAudienceCapabilities(k,m);if(c('isEmpty')(m))return this.addAudienceCapabilities(k,l);var n=c('AudienceDaoManager').getPrimedDao(this.$AudienceManagerUIController1);this.clearDaoCache(n);n.remove.removeAudienceCapabilities.one(function(o){this.addAudienceCapabilities(k,l);}.bind(this),{audienceID:k,adaccounts:m,handleError:function o(p,q){if(q.error.error_user_msg)q.error.message+=': '+q.error.error_user_msg;c('AdsAMAudienceActions').error(q,h.CAPABILITY_REMOVE);}});};j.prototype.initAudiences=function(k){var l=c('AudienceDaoManager').getDao();l.fetch.accountInfo.one(function(m){c('AdsAMAudienceActions').initializeAccount(m);this.filterCAAndSTS({name:c('AssetLibrarySearchStore.brands').getNameFilter(),filterSet:c('AssetLibrarySearchStore.brands').getConstructedFilterSet()},k);}.bind(this),{accountId:this.$AudienceManagerUIController1,handleError:function m(n,o){c('AdsAMAudienceActions').error(o,h.ACCOUNT_INIT);}});c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_AUDIENCE_MANAGER_VIEW},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};j.prototype.filterCAAndSTS=function(k,l){c('AdsAMViewActions').updateFilteringState(true);this.$AudienceManagerUIController3(k,function(){this.$AudienceManagerUIController4(k,function(){l&&l();this.$AudienceManagerUIController5();c('AdsAMViewActions').updateFilteringState(false);}.bind(this));}.bind(this));};j.prototype.fetchMoreCAAndSTS=function(k,l,m){if(c('AdsAMViewStore').isFiltering()||this.$AudienceManagerUIController2)return;this.$AudienceManagerUIController2=true;c('AdsAMViewActions').updateLoadingMoreAudiencesState(true);this.$AudienceManagerUIController6(k,l,function(){this.$AudienceManagerUIController7(k,m,function(){if(c('AdsAMViewStore').isFiltering()){this.$AudienceManagerUIController2=false;return;}this.$AudienceManagerUIController8();this.$AudienceManagerUIController2=false;c('AdsAMViewActions').updateLoadingMoreAudiencesState(false);}.bind(this));}.bind(this));c('AdsInterfacesLogger').log({eventName:c('AudienceManagerLoggingEvents').AM_TABLE_SCROLLING_FETCH},c('AdsInterfacesLogger').LOG_TYPE_PRIMARY_APP);};j.prototype.shouldFetchMore=function(){var k=c('AdsAMAudienceStore').getCustomAudiencesFromBuffer(),l=c('AdsAMAudienceStore').getSavedTargetSpecFromBuffer();return k.length>0||l.length>0;};j.prototype.$AudienceManagerUIController5=function(){this.$AudienceManagerUIController9(function(k){c('AdsAMAudienceActions').initializeAudiences(k);});};j.prototype.$AudienceManagerUIController8=function(){this.$AudienceManagerUIController9(function(k){c('AdsAMAudienceActions').addAudiences(k);});};j.prototype.$AudienceManagerUIController9=function(k){var l=c('AudienceManagerUIConstants').MAX_AUDIENCES_LOAD,m=c('AdsAMAudienceStore').getCustomAudiencesFromBuffer(),n=c('AdsAMAudienceStore').getSavedTargetSpecFromBuffer(),o=m.concat(n);o.sort(function(q,r){var s=q.time_created||q.time_updated_timestamp,t=r.time_created||r.time_updated_timestamp;return t-s;});var p=o.splice(0,l);m=o.filter(function(q){return !c('AdsAMAudienceUtils').isSavedTargetSpec(q);});n=o.filter(function(q){return c('AdsAMAudienceUtils').isSavedTargetSpec(q);});c('AdsAMAudienceActions').saveCustomAudiencesToBuffer(m);c('AdsAMAudienceActions').saveSavedTargetSpecsToBuffer(n);k(p);};j.prototype.$AudienceManagerUIController3=function(k,l){var m=function r(s){c('AdsAMViewActions').clearAudienceSelection();c('AdsAMViewActions').updateCustomAudienceAfterCursor(s.paging);c('AdsAMAudienceActions').saveCustomAudiencesToBuffer(s.data.concat([]));l();},n=new (c('AudienceManagerFilteringUtils'))(k.filterSet);if(!n.shouldFetchCustomAudiences()){m({data:[]});return;}var o=this.$AudienceManagerUIController10(k),p={accountId:this.$AudienceManagerUIController1,filtering:o,fields:i,limit:c('AudienceManagerUIConstants').MAX_AUDIENCES_LOAD,migrations_override:'{"ads_api_graphnode_q4_2014": true}',business_id:c('BizSiteIdentifier.brands').getBusinessID(),handleError:function r(s,t){c('AdsAMAudienceActions').error(t,h.AUDIENCE_INIT);}},q=c('AudienceDaoManager').getDao();q.fetch.customAudiencesForAccount.one(m,p);};j.prototype.$AudienceManagerUIController4=function(k,l){var m=new (c('AudienceManagerFilteringUtils'))(k.filterSet),n=function o(p){c('AdsAMViewActions').clearAudienceSelection();c('AdsAMViewActions').updateSavedTargetSpecAfterCursor(p.paging);var q=k.name?m.filterSavedTargetSpecsName(k.name,p.data.concat([]).reverse()):p.data.concat([]).reverse();c('AdsAMAudienceActions').saveSavedTargetSpecsToBuffer(q);l();};if(!m.shouldFetchSavedTargetSpecs()){n({data:[]});return;}this.$AudienceManagerUIController11(n,null,k);};j.prototype.$AudienceManagerUIController11=function(k,l,m){var n=c('AssetLibrarySearchUtils.brands').getAssetLibraryFilteringParams(m.filterSet);c('AdsGraphAPI').get(f.id).adaccount(this.$AudienceManagerUIController1).edge(c('AdsAPIAdAccountFields').SAVED_AUDIENCES).batched().get({after:l,date_format:'U',limit:c('AudienceManagerUIConstants').MAX_AUDIENCES_LOAD,fields:c('AudienceManagerUIConstants').SAVED_AUDIENCE_API_FIELDS,sort:c('AudienceManagerUIConstants').SAVED_AUDIENCE_API_SORT_ORDER,filtering:n,business_id:c('BizSiteIdentifier.brands').getBusinessID()}).done(function(o){o.data=o.data.map(function(p){p=c('AudienceManagerSavedTargetSpecUtils').toLegacy(p);p.isSavedAudience=true;return p;});k(o);},function(o){c('AdsAMAudienceActions').error(o,h.STS_GET);k({data:[]});});};j.prototype.$AudienceManagerUIController6=function(k,l,m){var n=function r(s){c('AdsAMViewActions').updateCustomAudienceAfterCursor(s.paging);c('AdsAMAudienceActions').saveCustomAudiencesToBuffer(c('AdsAMAudienceStore').getCustomAudiencesFromBuffer().concat(s.data));m();};if(!l){n({data:[]});return;}var o=c('AudienceDaoManager').getDao(),p=this.$AudienceManagerUIController10(k),q={accountId:this.$AudienceManagerUIController1,filtering:p,fields:i,limit:c('AudienceManagerUIConstants').MAX_AUDIENCES_LOAD,after:l,business_id:c('BizSiteIdentifier.brands').getBusinessID(),handleError:function r(s,t){c('AdsAMAudienceActions').error(t,h.AUDIENCE_GET);}};o.fetch.customAudiencesForAccount.one(n,q);};j.prototype.$AudienceManagerUIController7=function(k,l,m){var n=new (c('AudienceManagerFilteringUtils'))(k.filterSet),o=function p(q){c('AdsAMViewActions').updateSavedTargetSpecAfterCursor(q.paging);var r=k.name?n.filterSavedTargetSpecsName(k.name,q.data.concat([]).reverse()):q.data.concat([]).reverse();c('AdsAMAudienceActions').saveSavedTargetSpecsToBuffer(c('AdsAMAudienceStore').getSavedTargetSpecFromBuffer().concat(r));m();};if(!l){o({data:[]});return;}this.$AudienceManagerUIController11(o,l,k);};j.prototype.$AudienceManagerUIController10=function(k){var l=null;if(k.filterSet){var m=new (c('AudienceManagerFilteringUtils'))(k.filterSet),n=m.getCAFilteringParams();if(n)l=n;}if(k.name){l=l||[];l.push({field:'name',operator:c('AdsGenericFilterOperator').CONTAIN,value:k.name});}return l;};j.prototype.updateColumnShown=function(k,l){c('AdsAMViewActions').updateColumnShown(k,l);};j.prototype.saveColumnsShownSettings=function(k){new (c('AsyncRequest'))().setURI('/ajax/ads/ui/audience_manager/save_column_shown').setData({column_shown:k}).send();};j.prototype.getAccountID=function(){return this.$AudienceManagerUIController1;};j.prototype.createAdFromSavedAudienceID=function(k){var l=c('BusinessURI.brands')(c('XAdsCreatorController').getURIBuilder().setInt('act',this.$AudienceManagerUIController1).setInt('saved_audience',k).getURI());window.open(l,'_blank');c('AdsAMViewActions').clearAudienceSelection();};j.prototype.createAdFromSavedTargetSpec=function(k){var l=c('BusinessURI.brands')(c('XAdsCreatorController').getURIBuilder().setInt('act',this.$AudienceManagerUIController1).setString('targeting_spec',JSON.stringify(k.target_spec)).getURI());window.open(l,'_blank');c('AdsAMViewActions').clearAudienceSelection();};j.prototype.$AudienceManagerUIController12=function(k){var l=function o(p){p.map(function(q){c('AdsAMAudienceActions').error(q,h.AUDIENCE_GET);});},m=function o(p){p.forEach(function(q){q.isSavedTargetSpec=true;});c('AdsAMAudienceActions').addAudiences(p);},n=k.map(function(o){return new (c('AudienceManagerGetSavedTargetGroupRequest'))(o);});c('AudienceManagerRequestBatch').execute(n,m,l);};j.prototype.$AudienceManagerUIController13=function(k){var l=[],m=function p(){c('AdsAMViewActions').closeBulkDeleteDialogAndClearSelection();c('AdsAMAudienceActions').deleteAudiences(l);},n=k.map(function(p){return {parameters:{audienceId:p.id},callback:function q(r){if(r)l.push(p);}};}),o=c('AudienceDaoManager').getDao();o.remove.audience.multi(function(){m();},{requests:n});};j.prototype.$AudienceManagerUIController14=function(k){c('AdsSavedAudienceActions').deleteSavedAudiences(k.map(function(l){return l.id;}));c('AdsAMViewActions').closeBulkDeleteDialogAndClearSelection();};j.prototype.bulkDeleteSavedTargetSpecs=function(k){var l=[],m=[];k.forEach(function(n){if(c('AdsAMAudienceUtils').isSavedAudience(n)){l.push(n);}else m.push(n);});if(m.length>0)this.$AudienceManagerUIController13(m);if(l.length>0)this.$AudienceManagerUIController14(l);};j.prototype.changeAudience=function(k,l){this.changeAudienceWithCallback(k,l,c('emptyFunction'));};j.prototype.changeAudienceWithCallback=function(k,l,m){var n=c('AudienceDaoManager').getPrimedDao(this.getAccountID());this.clearDaoCache(n);var o={id:k.id,handleError:function p(q,r){c('AdsAMAudienceActions').error(r,h.AUDIENCE_UPDATE);},name:l.name,description:l.description,rule:l.rule,rule_aggregation:l.rule_aggregation,retention_days:l.retention_days,opt_out_link:l.opt_out_link,inclusions:undefined,exclusions:undefined};if(l.inclusions)o.inclusions=l.inclusions;if(l.exclusions)o.exclusions=l.exclusions;n.mutate.customAudience.one(function(p){if(p)n.fetch.audience.one(function(q){m();c('AdsAMAudienceActions').updateAudience(k.id,q);},{audienceID:k.id,fields:i,handleError:function q(r,s){c('AdsAMAudienceActions').error(s,h.AUDIENCE_GET);}});},o);};j.prototype.changeSavedTargetSpec=function(k,l){var m=c('AudienceDaoManager').getDao();this.clearDaoCache(m);m.mutate.savedTargetSpec.one(function(n){if(n)m.fetch.savedTargetSpec.one(function(o){c('AdsAMAudienceActions').updateAudience(k.id,o);},{audienceID:k.id,fields:c('SavedTargetSpecAPIFields').DEFAULT_FIELDS_FOR_AUDIENCE_MANAGER,handleError:function o(p,q){c('AdsAMAudienceActions').error(q,h.AUDIENCE_GET);}});},{audienceId:k.id,name:l.name,targeting_spec:l.targetSpec});};j.prototype.clearDaoCache=function(k){k.fetch.customAudiencesForAccount.clearCache();k.fetch.savedTargetSpec.clearCache();k.fetch.audience.clearCache();};f.exports=j;}),null);
__d('AudienceManagerSetupUtils',['AdInterfacesUiLogger','AdsAMViewActions','AudienceDaoManager','AudienceManagerUIController','AdmgrUserSettingsData'],(function a(b,c,d,e,f,g){'use strict';var h={setupLogging:function i(j,k){c('AdInterfacesUiLogger').setAccountID(j);c('AdInterfacesUiLogger').setAppName(k);},getPrimedDao:function i(j){return c('AudienceDaoManager').getPrimedDao(j);},getController:function i(j){return new (c('AudienceManagerUIController'))(j);},initializeUI:function i(j){j.initAudiences(this._initializeColumnSelector.bind(this));},_initializeColumnSelector:function i(){var j=c('AdmgrUserSettingsData').audience_manager_column_shown;if(j&&!(j instanceof Array))c('AdsAMViewActions').initializeColumnsShown(j);}};f.exports=h;}),null);
__d('BusinessIDParamAddition',['ApiClient','BizSiteIdentifier.brands'],(function a(b,c,d,e,f,g){'use strict';var h={init:function i(){if(!c('BizSiteIdentifier.brands').isBizSite())return;c('ApiClient').subscribe('request.prepare',function(j,k){var l=c('BizSiteIdentifier.brands').getBusinessID();if(l)k.__business_id=l;});}};f.exports=h;}),null);
__d('AdsCMAudiencesURI',['AdsCMStateConfig','AdsCMURI'],(function a(b,c,d,e,f,g){var h,i,j=c('AdsCMStateConfig').PAGE.values;h=babelHelpers.inherits(k,c('AdsCMURI'));i=h&&h.prototype;function k(){'use strict';i.constructor.call(this,j.AUDIENCES_PAGE);}f.exports=k;}),null);
__d('AdsCMPixelDetailURI',['AdsCMStateConfig','AdsCMURI'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('AdsCMStateConfig').PAGE.values;h=babelHelpers.inherits(k,c('AdsCMURI'));i=h&&h.prototype;function k(){i.constructor.call(this,j.PIXEL_DETAIL_PAGE);}f.exports=k;}),null);
__d('AdsCMPixelURI',['AdsCMStateConfig','AdsCMURI'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('AdsCMStateConfig').PAGE.values;h=babelHelpers.inherits(k,c('AdsCMURI'));i=h&&h.prototype;function k(){i.constructor.call(this,j.PIXEL_PAGE);}f.exports=k;}),null);
__d('AdsCMPixelAndAudienceContextUtils',['AdInterfacesAppNames','AdsCMAudiencesURI','AdsCMLink.react','AdsCMPixelDetailURI','AdsCMPixelURI','AdsCMTabValues'],(function a(b,c,d,e,f,g){'use strict';var h={getChildContext:function i(){return {appLink:c('AdsCMLink.react'),interfaceAppName:c('AdInterfacesAppNames').CAMPAIGN_MANAGER,getPixelDetailURI:function j(k){return new (c('AdsCMPixelDetailURI'))().setPixelID(k.pixelID);},getDataSourceURI:function j(k){return new (c('AdsCMPixelURI'))();},getAudienceURI:this._getAudienceURI};},_getAudienceURI:function i(j){var k=new (c('AdsCMAudiencesURI'))().setAccountID(j.accountID);if(!j.audienceID)return k;return k.setTab(c('AdsCMTabValues').AUDIENCE_DETAIL_TAB).setCurrentIDs([j.audienceID]);}};f.exports=h;}),null);
__d('AssetLibraryGetters.brands',['AdsSelectedAccountIDGetter','AdsSelectedAccountCapabilitiesGetter','AssetLibraryContextStore.brands','getByPath','BusinessObjectConstantNames'],(function a(b,c,d,e,f,g){'use strict';var h=c('BusinessObjectConstantNames').ASSET_TYPE,i=[new (c('AdsSelectedAccountIDGetter'))({stores:[c('AssetLibraryContextStore.brands')],get:function k(){var l=c('AssetLibraryContextStore.brands').getCurrentUIConfig();return l&&l.currentAssetType===h.AD_ACCOUNT?l.currentAssetID:null;}}),new (c('AdsSelectedAccountCapabilitiesGetter'))({stores:[c('AssetLibraryContextStore.brands')],get:function k(){var l=c('AssetLibraryContextStore.brands').getCurrentUIConfig()||{};return c('getByPath')(l,['extraData','capabilities']);}})],j={register:function k(){i.forEach(function(l){return l.register();});}};f.exports=j;}),null);
__d('AssetLibraryStores.brands',['AdsDispatcher','AdsVideoStore','AssetLibraryContextStore.brands','AssetLibraryTagStore.brands','AssetLibrarySearchStore.brands','AssetLibrarySmartFolderStore.brands','AssetLibraryCrossAssetSearchStore.brands','DimensionStore.brands'],(function a(b,c,d,e,f,g){'use strict';function h(){c('AdsDispatcher').explicitlyRegisterStores([c('AdsVideoStore'),c('AssetLibraryContextStore.brands'),c('AssetLibraryTagStore.brands'),c('AssetLibrarySearchStore.brands'),c('AssetLibrarySmartFolderStore.brands'),c('AssetLibraryCrossAssetSearchStore.brands'),c('DimensionStore.brands')]);}f.exports={init:h};}),null);
__d('AssetLibraryAppRoot.brands',['AdInterfacesUiLogger','AdsDispatcher','AssetLibraryRootMatchRouteContainer','AssetLibraryStores.brands','BusinessIDParamAddition','React','ReactDOM'],(function a(b,c,d,e,f,g){'use strict';var h=function i(j){c('AdsDispatcher').dispatch({payloadsource:'ice-routing',action:j});};f.exports={init:function i(j){var k=j.context,l=j.container,m=j.initialRoute;c('AssetLibraryStores.brands').init();c('AdInterfacesUiLogger').setAccountID(k.businessID);c('AdInterfacesUiLogger').setAppName('AssetLibrary');c('BusinessIDParamAddition').init();c('ReactDOM').render(c('React').createElement(c('AssetLibraryRootMatchRouteContainer'),{businessID:k.businessID,context:k,tabVisibilities:k.tabVisibilities,initialRoute:m,onDispatch:h}),l);}};}),null);
__d('AssetLibraryAudiencePane.brands',['cx','AdsAccountStoreWrapper_DEPRECATED','AdsAMAudienceStore','AdsAMViewStore','AdsCMPixelAndAudienceContextUtils','AdsGenericFilterSetUtil','AdsPixelAndAudienceContextUtils','AssetLibraryGetters.brands','AssetLibraryLogger.brands','AssetLibraryPaneComponent.brands','AssetLibrarySearchStore.brands','AudienceManagerChrome.react','AudienceManagerPlacement','AudienceManagerSetupUtils','LargeSpinner.brands','React','SubscriptionsHandler','AssetLibraryAppConstants.brands'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('AssetLibraryAppConstants.brands').TABS,l={};c('AssetLibraryGetters.brands').register();i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(n){j.constructor.call(this,n);this.$AssetLibraryAudiencePane3=function(){var o=c('AssetLibrarySearchStore.brands').get().nameFilter,p=c('AdsAMViewStore').getNameFilter()||'';if(o!==p)c('AdsAMViewStore').setNameFilter(o);var q=c('AdsAMViewStore').getFilterSet(),r=c('AssetLibrarySearchStore.brands').getConstructedFilterSet(),s=q&&r?c('AdsGenericFilterSetUtil').mergeByField(q,r):q||r;setTimeout(function(){return this.$AssetLibraryAudiencePane2.filterCAAndSTS({name:c('AdsAMViewStore').getNameFilter(),filterSet:s});}.bind(this),0);}.bind(this);this.$AssetLibraryAudiencePane1=new (c('SubscriptionsHandler'))();this.state={adAccountID:null,canViewerWrite:false};}m.prototype.componentWillMount=function(){var n=c('AssetLibrarySearchStore.brands').getNameFilter();if(n)c('AdsAMViewStore').setNameFilter(n);this.$AssetLibraryAudiencePane1.addSubscriptions(c('AssetLibrarySearchStore.brands').addListener(this.$AssetLibraryAudiencePane3));this.$AssetLibraryAudiencePane4();c('AssetLibraryLogger.brands').logInteractive(k.AUDIENCE);};m.prototype.componentWillUnmount=function(){this.$AssetLibraryAudiencePane1.release();};m.prototype.shouldInitializeStore=function(n){return !c('AdsAMAudienceStore').hasAllContent()||c('AdsAMAudienceStore').getAccount().account_id!==n;};m.prototype.$AssetLibraryAudiencePane4=function(){var n=this.props.selectedAssetID,o=!!this.props.uiConfig.extraData.canViewerWrite;this.setState({adAccountID:n,canViewerWrite:o});if(!Object.prototype.hasOwnProperty.call(l,n))l[n]=c('AudienceManagerSetupUtils').getController(n);this.$AssetLibraryAudiencePane2=l[n];if(this.shouldInitializeStore(n))c('AudienceManagerSetupUtils').initializeUI(this.$AssetLibraryAudiencePane2);c('AdsAccountStoreWrapper_DEPRECATED').setAccountID(n);};m.prototype.getChildContext=function(){return c('AdsCMPixelAndAudienceContextUtils').getChildContext();};m.prototype.render=function(){var n=this.state,o=n.adAccountID,p=n.canViewerWrite;if(!o)return c('React').createElement('div',{className:"_4_83"},c('React').createElement(c('LargeSpinner.brands'),{position:'absoluteCenter'}));return c('React').createElement('div',{className:"_5jzz"},c('React').createElement(c('AudienceManagerChrome.react'),{accountID:o,canWrite:p,className:"_3bhe",controller:this.$AssetLibraryAudiencePane2,height:this.props.componentHeight,placement:c('AudienceManagerPlacement').BIZ_ASSET_LIBRARY,primedDao:c('AudienceManagerSetupUtils').getPrimedDao(o),top:0,width:this.props.componentWidth}));};m.childContextTypes=c('AdsPixelAndAudienceContextUtils').getContextTypes();f.exports=c('AssetLibraryPaneComponent.brands')['for'](m);}),null);