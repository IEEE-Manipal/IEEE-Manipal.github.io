if (self.CavalryLogger) { CavalryLogger.start_js(["3mxfB"]); }

__d('once',[],(function a(b,c,d,e,f,g){'use strict';function h(j){var k=i(j);for(var l in j)if(Object.prototype.hasOwnProperty.call(j,l))k[l]=j[l];return k;}function i(j){var k=j,l=void 0,m=function n(){if(k){l=k.apply(this,arguments);k=null;}return l;};return m;}f.exports=h;}),null);
__d('ConversationNotificationListeners',['Bootloader','ConversationNubAddTabSource','NotificationConstants','NotificationUpdates','PinnedConversationNubsConfig','once'],(function a(b,c,d,e,f,g){'use strict';var h=c('NotificationConstants').PayloadSourceType,i=h.LIVE_SEND,j=h.OTHER_APPLICATION,k=h.ENDPOINT,l=c('once')(function(){var m='update-notifications';c('NotificationUpdates').subscribe(m,function(n,o){var p,q;if(c('PinnedConversationNubsConfig').sharedNotificationsReadStateEnabled&&o.payloadsource===i&&o.readState&&Object.keys(o.readState).length){c('Bootloader').loadModules(["NotificationConversationController"],function(r){r.handleNotificationsRead(o.readState);},'ConversationNotificationListeners');}else if(o.payloadsource===i||o.payloadsource===j){(function(){var r=o.nodes,s=r&&r.length&&r.some(function(t){return t.pinnedConvoConfig;});if(s)c('Bootloader').loadModules(["NotificationConversationController"],function(t){t.handleNewNotifications(r,c('ConversationNubAddTabSource').NOTIFICATION);},'ConversationNotificationListeners');})();}else if(c('PinnedConversationNubsConfig').notificationsWhileAwayEnabled&&o.payloadsource===k)(function(){var r=o.nodes;if(r&&r.length)c('Bootloader').loadModules(["NotificationConversationController"],function(s){s.handleAllEndpointNotifications(r);},'ConversationNotificationListeners');})();});});f.exports={initialize:function m(){l();}};}),null);
__d('PersistedConversationBootstrapper',['invariant','NotificationConversationController','PinnedConversationNubsConfig','ConversationNubTabState','once'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('ConversationNubTabState');function j(){i.getUnloadedTabs().slice(-1*i.maxTabsLoaded).forEach(function(l){c('NotificationConversationController').requestPersistedStory(l.tabID,l.ftID,l.permalinkURI,'page_refresh');});}var k=c('once')(function(){c('PinnedConversationNubsConfig').persistenceEnabled||h(0);c('NotificationConversationController').init();j();});f.exports={initialize:function l(){k();}};}),null);