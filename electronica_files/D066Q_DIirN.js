if (self.CavalryLogger) { CavalryLogger.start_js(["wC8uI"]); }

__d("EventGuestStatus",[],(function a(b,c,d,e,f,g){f.exports={HOST:"HOST",GOING:"GOING",INVITED:"INVITED",MAYBE:"MAYBE",NOT_GOING:"NOT_GOING",LIKED:"LIKED",SAVED:"SAVED",SUBSCRIBED_ADMIN_CALENDAR:"SUBSCRIBED_ADMIN_CALENDAR",UNKNOWN:"UNKNOWN"};}),null);
__d('BoostedPostDialogButtonWrapper.react',['BoostedPostDialogButton.react','React'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){'use strict';var l=this.props.data;if(!l)return c('React').createElement('span',null);return (c('React').createElement('div',{id:l.buttonID},c('React').createElement(c('BoostedPostDialogButton.react'),{boostedButtonType:this.props.boostedButtonType,buttonID:l.buttonID,buttonLabel:l.buttonLabel,configData:l.configData,customLinkLabelReact:this.props.customLinkLabelReact,displaySection:l.displaySection,imageSource:this.props.imageSource,placement:this.props.placement,onUpsellButtonClick:this.props.onUpsellButtonClick,size:this.props.size,showTooltip:l.showTooltip})));};function k(){'use strict';h.apply(this,arguments);}k.propTypes={boostedButtonType:j.string,customLinkLabelReact:j.object,data:j.shape({buttonID:j.string.isRequired,buttonLabel:j.string,configData:j.object.isRequired,displaySection:j.string.displaySection,showTooltip:j.bool}),imageSource:j.object,placement:j.string.isRequired,size:j.string,onUpsellButtonClick:j.func};f.exports=k;}),null);
__d("XEventsPromoteURIDataController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/events\/promote\/fetch_button_data\/",{event_id:{type:"String",required:true},action_history:{type:"String",required:true}});}),null);
__d("XEventsUserSettingsUpdateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/events\/updatesettings\/",{attributes:{type:"StringToStringMap",defaultValue:{}},id:{type:"Int"}});}),null);
__d('EventPromoteActions.react',['ix','cx','fbt','React','ReactLayeredComponentMixin_DEPRECATED','AsyncRequest','BoostedComponentConstants','BoostedComponentStatus','BoostedPostDialogButtonWrapper.react','BoostedPostPlacementOptions','ContextualLayerUpdateOnScroll','EventsActionsLogger','EventPromoteActionsGatingData','Image.react','PopoverMenu.react','XBoostedComponentFetchButtonDataController','XEventsUserSettingsUpdateController','XEventsPromoteURIDataController','XUIAmbientNUX.react','XUIButton.react','ReactXUIMenu','XUIPopoverButton.react','XUISpinner.react','fbglyph'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('ReactXUIMenu').Item,l=c('React').PropTypes,m=c('React').createClass({displayName:'EventPromoteActions',mixins:[c('ReactLayeredComponentMixin_DEPRECATED')],propTypes:{appID:l.string.isRequired,actionHistory:l.string.isRequired,boostedButtonData:l.object,boostedButtonPlacement:l.string,eventID:l.string.isRequired,hasNux:l.bool,nuxSeenCount:l.number,pageID:l.string.isRequired,size:l.oneOf(['small','medium','large','xlarge','xxlarge'])},getInitialState:function n(){var o=this.props.hasNux&&c('EventPromoteActionsGatingData').showPromoteLinkNux,p=null;if(this.props.boostedButtonData!==undefined)p=babelHelpers['extends']({},this.props.boostedButtonData,{placement:this.props.boostedButtonPlacement||c('BoostedPostPlacementOptions').EVENT_UPSELL,boostedButtonType:c('BoostedComponentConstants').BOOSTED_BUTTON_TYPE.VIEW});return {boostButtonData:p,promoteButtonData:null,showNux:o};},componentDidMount:function n(){this._loadBoostButtonData();this._loadPromoteButtonData();},_loadPromoteButtonData:function n(){if(this.state.promoteButtonData)return;var o=c('XEventsPromoteURIDataController').getURIBuilder().setString('event_id',this.props.eventID).setString('action_history',this.props.actionHistory).getURI();new (c('AsyncRequest'))(o).setHandler(function(p){var q={canViewerPromote:p.payload.canViewerPromote,canViewerPromoteTicket:p.payload.canViewerPromoteTicket,canViewerPromoteOnFBTicket:p.payload.canViewerPromoteOnFBTicket,promoteEventURI:p.payload.promoteEventURI,promoteTicketURI:p.payload.promoteTicketURI};this.setState({promoteButtonData:q});}.bind(this)).send();},_loadBoostButtonData:function n(){if(this.state.boostButtonData)return;var o=c('XBoostedComponentFetchButtonDataController').getURIBuilder().setInt('app_id',this.props.appID).setInt('page_id',this.props.pageID).setInt('post_id',this.props.eventID).setString('ref',this.props.boostedButtonPlacement||c('BoostedPostPlacementOptions').EVENT_UPSELL).getURI();new (c('AsyncRequest'))(o).setHandler(function(p){var q={data:{buttonID:p.payload.buttonID,configData:p.payload.configData,displaySection:p.payload.displaySection},placement:p.payload.placement,boostedButtonType:c('BoostedComponentConstants').BOOSTED_BUTTON_TYPE.VIEW};this.setState({boostButtonData:q});}.bind(this)).send();},_onNuxCloseButtonClick:function n(){this.setState({showNux:false});},_getContextRef:function n(){return this.refs.eventPromoteAction;},renderLayers:function n(){if(!this.state.showNux||!this.refs.eventPromoteAction)return {};var o=this.props.nuxSeenCount?this.props.nuxSeenCount+1:1,p=c('XEventsUserSettingsUpdateController').getURIBuilder().setStringToStringMap('attributes',{insights_promote_link_nux_cnt:String(o)}).getURI();new (c('AsyncRequest'))(p).setMethod('post').send();return {nux:c('React').createElement(c('XUIAmbientNUX.react'),{behaviors:{ContextualLayerUpdateOnScroll:c('ContextualLayerUpdateOnScroll')},contextRef:this._getContextRef,onCloseButtonClick:this._onNuxCloseButtonClick,shown:true,alignment:'right',autofocus:false,position:'below',width:'normal'},j._("New: Promote your event to more of the people you care about."))};},_renderMenuItemLabel:function n(o,p,q){var r=null,s=null;switch(o){case 'tickets':r=h("144488");s=h("141284");break;case 'events':default:r=h("143342");s=h("140138");break;}return (c('React').createElement('div',null,c('React').createElement('div',{className:"_531w"},c('React').createElement(c('Image.react'),{src:r,className:"_t6l"}),c('React').createElement(c('Image.react'),{src:s,className:"_t6m"})),c('React').createElement('div',null,c('React').createElement('div',{className:"_531x"},p),c('React').createElement('div',{className:"_531y"},q))));},_renderBoostButton:function n(){var o=this.state.boostButtonData;if(o===null)return (c('React').createElement(c('XUISpinner.react'),{background:'light',size:'small'}));if(!o.data.configData.context_store_data.is_eligible)return null;return (c('React').createElement('div',{className:this.props.className,ref:'eventPromoteAction'},c('React').createElement(c('BoostedPostDialogButtonWrapper.react'),babelHelpers['extends']({onUpsellButtonClick:this._onPromoteButtonClick},o,{size:this.props.size}))));},_renderPromoteButton:function n(){var o=this.state.promoteButtonData;if(o===null)return (c('React').createElement(c('XUISpinner.react'),{background:'light',size:'small'}));if(!o.canViewerPromote)return c('React').createElement('div',null);var p=null;if(o.canViewerPromoteTicket||o.canViewerPromoteOnFBTicket){var q=j._("Reach More People"),r=j._("Tell people about your event"),s=c('React').createElement(k,{value:c('EventsActionsLogger').Target.PROMOTE_EVENT_ITEM,href:o.promoteEventURI,className:"_531k"},this._renderMenuItemLabel('events',q,r)),t=null,u=null;if(o.canViewerPromoteOnFBTicket){t=j._("Sell more tickets on Facebook");u=j._("Promote tickets on this event");}else{t=j._("Increase Ticket Sales");u=j._("Send people to your ticket website");}var v=c('React').createElement(c('ReactXUIMenu'),{onItemClick:this._onPromoteItemClick},s,c('React').createElement(k,{value:c('EventsActionsLogger').Target.PROMOTE_TICKET_ITEM,href:o.promoteTicketURI,className:"_531k"},this._renderMenuItemLabel('tickets',t,u))),w=j._("Promote");p=c('React').createElement(c('PopoverMenu.react'),{onClick:this._onPromoteMenuClick,menu:v,alignh:'right'},c('React').createElement(c('XUIPopoverButton.react'),{haschevron:true,use:'confirm',label:w}));}else p=c('React').createElement(c('XUIButton.react'),{use:'confirm',href:o.promoteEventURI,onClick:this._onPromoteButtonClick,size:this.props.size,label:j._("Promote Event")});return (c('React').createElement('div',{className:this.props.className,ref:'eventPromoteAction'},p));},render:function n(){var o=this._renderBoostButton();if(o)return o;return this._renderPromoteButton();},_onPromoteButtonClick:function n(){c('EventsActionsLogger').log(this.props.eventID,{type:c('EventsActionsLogger').Type.CLICK,target:c('EventsActionsLogger').Target.PROMOTE_EVENT_BUTTON,acontext:{action_history:this.props.actionHistory},extraData:{}});},_onPromoteMenuClick:function n(){c('EventsActionsLogger').log(this.props.eventID,{type:c('EventsActionsLogger').Type.CLICK,target:c('EventsActionsLogger').Target.PROMOTE_EVENT_MENU,acontext:{action_history:this.props.actionHistory},extraData:{}});},_onPromoteItemClick:function n(o,p){c('EventsActionsLogger').log(this.props.eventID,{type:c('EventsActionsLogger').Type.CLICK,target:p.item.getValue(),acontext:{action_history:this.props.actionHistory},extraData:{}});}});f.exports=m;}),null);
__d('BoostedPostFamilyDialogButtonWrapper.react',['BoostedComponentAppID','BoostedComponentConfig','BoostedPostDialogButtonWrapper.react','EventPromoteActions.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){if(this.props.data!==undefined&&this.props.data.boostedComponentAppID!==null){switch(this.props.data.boostedComponentAppID){case c('BoostedComponentAppID').BOOSTED_EVENT:var l=new (c('BoostedComponentConfig'))(this.props.data.configData),m=l.getContextStore();return (c('React').createElement(c('EventPromoteActions.react'),{actionHistory:"{'surface':'page_insight'}",appID:m.getAppID(),boostedButtonData:this.props,boostedButtonPlacement:this.props.placement,eventID:m.getPostID(),pageID:m.getPageID()}));case c('BoostedComponentAppID').BOOSTED_GROUP:case c('BoostedComponentAppID').BOOSTED_POST:default:return (c('React').createElement(c('BoostedPostDialogButtonWrapper.react'),this.props));}}else return (c('React').createElement(c('BoostedPostDialogButtonWrapper.react'),this.props));};function k(){h.apply(this,arguments);}k.propTypes={data:j.shape({boostedComponentAppID:j.string})};f.exports=k;}),null);
__d('EventActionContextHelper',['FBJSON'],(function a(b,c,d,e,f,g){var h={getActionHistoryJSON:function i(j){var k=c('FBJSON').parse(j);if(!k)return '';var l=k.action_history;if(!l)return '';var m=[];l=c('FBJSON').parse(l);if(!l)return '';l.forEach(function(n){var o=n;if(o.extra_data){o.extra_data=c('FBJSON').stringify(o.extra_data);}else o.extra_data='{}';m.push(o);});return c('FBJSON').stringify(m);}};f.exports=h;}),null);
__d('ExpandableText.react',['cx','fbt','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=50;function m(o,p){if(o.length>p)return o.substr(0,p).trim();return o;}j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(o){k.constructor.call(this,o);this.showMore=function(){this.setState({cutoff:this.state.cutoff+this.props.grow});}.bind(this);this.showLess=function(){this.setState({cutoff:this.state.cutoff-this.props.grow});}.bind(this);this.toggleMore=function(){var p=this.state.cutoff,q=this.props,r=q.text,s=q.grow,t=this.$ExpandableText1(r);if(p<t){var u=Math.ceil((t-p)/s);this.setState({cutoff:p+s*u});}else if(p>this.props.cutoff)this.setState({cutoff:this.props.cutoff});}.bind(this);this.state={cutoff:this.props.collapsed?this.props.cutoff:this.$ExpandableText1(this.props.text)};}n.prototype.render=function(){var o=this.props.text,p=this.state.cutoff,q=this.$ExpandableText1(o),r=this.props.TextRenderer;if(!r)r='span';return (c('React').createElement('p',{className:"_4etw"},c('React').createElement(r,null,this.$ExpandableText2(o,p)),q>p?'... ':'',c('React').createElement('a',{href:'#',title:this.props.seeMoreText,className:p>=q?"_4a6u":'',onClick:this.showMore},this.props.seeMoreText),p>this.props.cutoff&&p<q?' | ':' ',c('React').createElement('a',{href:'#',title:this.props.seeLessText,className:p<=this.props.cutoff?"_4a6u":'',onClick:this.showLess},this.props.seeLessText)));};n.prototype.$ExpandableText1=function(o){if(!this.props.penalizeNewLine)return o.length;var p=o.split(/\r\n|\r|\n/).length,q=this.props.countFirstLine?p:Math.max(0,p-1);return l*q+o.length;};n.prototype.$ExpandableText2=function(o,p){if(!this.props.penalizeNewLine)return m(o,p);var q=o.split(''),r=[],s=0,t=0;while(s<p&&t<o.length){if(q[t]==='\r'||q[t]==='\n'||q[t]==='\r\n'){s+=l;}else s+=1;if(s<p)r.push(q[t]);t++;}return r.join('').replace(/^\s+|\s+$/g,'');};n.defaultProps={text:'',cutoff:500,collapsed:true,grow:500,seeMoreText:i._("More"),seeLessText:i._("Less"),penalizeNewLine:false,countFirstLine:true};f.exports=n;}),null);
__d('EventRSVPActionStrings',['fbt'],(function a(b,c,d,e,f,g,h){var i={getGoingActionText:function j(){return h._("Going");},getGoingDecidedText:function j(){return h._("Going");},getGoingNegateText:function j(){return h._("Not Going");},getIgnoreActionText:function j(){return h._("Ignore");},getInterestedActionText:function j(){return h._("Interested");},getInterestedDecidedText:function j(){return h._("Interested");},getInterestedNegateText:function j(){return h._("Not Interested");},getMaybeActionText:function j(){return h._("Maybe");},getMaybeDecidedText:function j(){return h._("Maybe");},getNotGoingActionText:function j(){return h._("Can't go");},getNotGoingDecidedText:function j(){return h._("Can't go");}};f.exports=i;}),null);
__d('EventRSVPActions',['invariant','EventGuestStatus','EventWatchStatus','GraphQLMutationAction','GraphQLMutationQueryCreator','Relay'],(function a(b,c,d,e,f,g,h){var i={_buildOptimisticPayload:function j(k,l){var m={id:k,viewer_guest_status:l},n={event_rsvp:{event:m}};return n;},handleRSVPChange:function j(event,k,l,m){!!event||h(0);if(event.viewer_guest_status===k)return;var n=new (c('GraphQLMutationAction'))('event_change_'+event.id),o=this._buildOptimisticPayload(event.id,k);n.runOptimisticAction(o);var p=c('GraphQLMutationQueryCreator').createQuery('event_rsvp',{event:event.id}),q=function(r){return {calls:[{kind:'Call',metadata:{},name:'event_rsvp',value:{kind:'CallVariable',callVariableName:'input'}}],children:[].concat.apply([],[{fieldName:'client_mutation_id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('Relay').QL.__frag(r)]),kind:'Mutation',metadata:{inputType:'EventRsvpData!'},name:'EventRSVPActions',responseType:'EventRsvpResponsePayload'};}(p);n.runServerAction(q,{event_id:event.id,guest_status:k,context:{event_action_history:l}},m);},_runWatchMutation:function j(k,event,l,m,n){!!event||h(0);var o=new (c('GraphQLMutationAction'))('event_watch_mutation_'+event.id),p={event_update_extended_viewer_watch_status:{event:l}};o.runOptimisticAction(p);var q=c('GraphQLMutationQueryCreator').createQuery('event_update_extended_viewer_watch_status',{event:event.id}),r=function(s){return {calls:[{kind:'Call',metadata:{},name:'event_update_extended_viewer_watch_status',value:{kind:'CallVariable',callVariableName:'input'}}],children:[].concat.apply([],[{fieldName:'client_mutation_id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('Relay').QL.__frag(s)]),kind:'Mutation',metadata:{inputType:'EventUpdateExtendedViewerWatchStatusData!'},name:'EventRSVPActions',responseType:'EventUpdateExtendedViewerWatchStatusResponsePayload'};}(q);o.runServerAction(r,{event_id:event.id,watch_status:k,context:{event_action_history:m}},n);},handleWatchAction:function j(event,k,l){this._runWatchMutation(c('EventWatchStatus').WATCHED,event,{id:event.id,viewer_watch_status:c('EventWatchStatus').WATCHED,viewer_guest_status:null},k,l);},handleUnwatchAction:function j(event,k,l){this._runWatchMutation(c('EventWatchStatus').UNWATCHED,event,{id:event.id,viewer_watch_status:c('EventWatchStatus').UNWATCHED,viewer_guest_status:null},k,l);},handleWatchDeclineAction:function j(event,k,l){this._runWatchMutation(c('EventWatchStatus').DECLINED,event,{id:event.id,viewer_watch_status:c('EventWatchStatus').DECLINED,viewer_guest_status:c('EventGuestStatus').NOT_GOING},k,l);},handleWatchGoingAction:function j(event,k,l){this._runWatchMutation(c('EventWatchStatus').GOING,event,{id:event.id,viewer_watch_status:c('EventWatchStatus').GOING,viewer_guest_status:c('EventGuestStatus').GOING},k,l);}};f.exports=i;}),null);
__d('PublicEventWatchStatusSelector.react',['cx','ix','xuiglyph','React','EventRSVPActions','EventRSVPActionStrings','EventWatchStatus','Image.react','MenuSeparator.react','PopoverMenu.react','ReactXUIMenu','XUIButton.react','XUIPopoverButton.react'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k,l,m=c('ReactXUIMenu').SelectableMenu,n=c('ReactXUIMenu').Item,o=c('ReactXUIMenu').SelectableItem,p=c('React').PropTypes;k=babelHelpers.inherits(q,c('React').PureComponent);l=k&&k.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=l.constructor).call.apply(r,[this].concat(u)),this.$PublicEventWatchStatusSelector1=function(){var w=this.props.hideLabel?null:c('EventRSVPActionStrings').getInterestedActionText(),x=c('React').createElement(c('Image.react'),{src:this.$PublicEventWatchStatusSelector2()});return (c('React').createElement(c('XUIButton.react'),{label:w,image:x,onClick:this.$PublicEventWatchStatusSelector3}));}.bind(this),this.$PublicEventWatchStatusSelector3=function(){c('EventRSVPActions').handleWatchAction(this.props.event,this.props.actionHistory,this.props.actionCallback);}.bind(this),this.$PublicEventWatchStatusSelector2=function(){var w=this.props.event.viewer_watch_status===c('EventWatchStatus').WATCHED;return w?i("88838"):i("40279");}.bind(this),this.$PublicEventWatchStatusSelector4=function(){var w=c('React').createElement(m,{onItemClick:this.$PublicEventWatchStatusSelector5},c('React').createElement(n,{value:c('EventWatchStatus').GOING},c('EventRSVPActionStrings').getGoingActionText()),c('React').createElement(o,{selected:true},c('EventRSVPActionStrings').getInterestedActionText()),c('React').createElement(c('MenuSeparator.react'),null),c('React').createElement(n,{value:c('EventWatchStatus').UNWATCHED},c('EventRSVPActionStrings').getInterestedNegateText())),x=c('React').createElement(c('Image.react'),{src:this.$PublicEventWatchStatusSelector2()}),y=this.props.hideLabel?null:c('EventRSVPActionStrings').getInterestedDecidedText();return (c('React').createElement(c('PopoverMenu.react'),{menu:w},c('React').createElement(c('XUIPopoverButton.react'),{label:y,image:x})));}.bind(this),this.$PublicEventWatchStatusSelector5=function(w,x){var y=x.item.getValue();if(y===c('EventWatchStatus').UNWATCHED){c('EventRSVPActions').handleUnwatchAction(this.props.event,this.props.actionHistory,this.props.actionCallback);return;}else if(y===c('EventWatchStatus').GOING){c('EventRSVPActions').handleWatchGoingAction(this.props.event,this.props.actionHistory,this.props.actionCallback);return;}else if(y===c('EventWatchStatus').WATCHED){c('EventRSVPActions').handleWatchAction(this.props.event,this.props.actionHistory,this.props.actionCallback);return;}}.bind(this),this.$PublicEventWatchStatusSelector6=function(){var w=c('React').createElement(m,{onItemClick:this.$PublicEventWatchStatusSelector5},c('React').createElement(o,{selected:true},c('EventRSVPActionStrings').getGoingDecidedText()),c('React').createElement(n,{value:c('EventWatchStatus').WATCHED},c('EventRSVPActionStrings').getInterestedActionText()),c('React').createElement(c('MenuSeparator.react'),null),c('React').createElement(n,{value:c('EventWatchStatus').UNWATCHED},c('EventRSVPActionStrings').getGoingNegateText())),x=c('React').createElement(c('Image.react'),{src:i("88838")}),y=this.props.hideLabel?null:c('EventRSVPActionStrings').getGoingDecidedText();return (c('React').createElement(c('PopoverMenu.react'),{menu:w},c('React').createElement(c('XUIPopoverButton.react'),{label:y,image:x})));}.bind(this),s;}q.prototype.render=function(){var r=this.props.event.viewer_watch_status,s=null;if(r===c('EventWatchStatus').UNWATCHED||r===c('EventWatchStatus').DECLINED){s=this.$PublicEventWatchStatusSelector1();}else if(r===c('EventWatchStatus').WATCHED){s=this.$PublicEventWatchStatusSelector4();}else if(r===c('EventWatchStatus').GOING)s=this.$PublicEventWatchStatusSelector6();return (c('React').createElement('div',{key:'watchui',className:"_2ib4"},s));};q.propTypes={event:p.object.isRequired,actionHistory:p.string.isRequired,actionCallback:p.func,hideLabel:p.bool};f.exports=q;}),null);
__d('EventDescription.react',['cx','fbt','BoostedComponentRef','BoostedPostFamilyDialogButtonWrapper.react','DateBlock.react','EventActionContextHelper','EventsActionsLogger','EventWatchStatus','ExpandableText.react','FBJSON','ImageBlock.react','Keys','Link.react','LogicalGridCell.react','LogicalGridCellFocusStrategy','Middot.react','PublicEventWatchStatusSelector.react','React','XEventsPermalinkController','XUIText.react','Event'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('Event').getKeyCode,m=225;j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(o,p){k.constructor.call(this,o,p);this.state={viewerWatchStatus:o.eventInfo.viewer_watch_status?o.eventInfo.viewer_watch_status:c('EventWatchStatus').UNWATCHED};}n.prototype.render=function(){var event={id:this.props.eventInfo.id,viewer_watch_status:this.state.viewerWatchStatus},o=c('EventActionContextHelper').getActionHistoryJSON(this.props.actionContext),p=null;if(this.props.eventInfo.isEligibleForBoost&&this.props.eventInfo.buttonData){p=this.$EventDescription2();}else p=c('React').createElement(c('PublicEventWatchStatusSelector.react'),{className:"_3j4t",event:event,actionHistory:o,actionCallback:this.$EventDescription3.bind(this),pageID:this.props.pageID});var q=this.props.tourFormat?this.props.eventInfo.location:this.props.eventInfo.title,r=c('React').createElement(c('XUIText.react'),{className:"_3j4r",display:'block'},this.props.eventInfo.dateAndTime,c('React').createElement(c('Middot.react'),null),this.props.eventInfo.location);if(this.props.tourFormat)r=c('React').createElement(c('XUIText.react'),{className:"_3j4r",display:'block'},this.props.eventInfo.dateAndTime);return (c('React').createElement('div',null,c('React').createElement(c('ImageBlock.react'),{className:"_3j4o"},c('React').createElement('div',{className:"_3j4p"},c('React').createElement(c('DateBlock.react'),{day:this.props.eventInfo.day,month:this.props.eventInfo.month})),c('React').createElement('div',{className:"_3j4q"},c('React').createElement(c('LogicalGridCell.react'),{columnIndex:0,component:c('React').createElement('div',null)},c('React').createElement(c('Link.react'),{className:"_7ty",href:this.$EventDescription4()},q)),c('React').createElement(c('LogicalGridCell.react'),{columnIndex:1,component:c('React').createElement('div',null),focusStrategy:c('LogicalGridCellFocusStrategy')},r,c('React').createElement(c('XUIText.react'),{className:"_7u2",display:'block'},this.props.eventInfo.socialContext))),c('React').createElement(c('LogicalGridCell.react'),{className:"_3j4s",columnIndex:2,component:c('React').createElement('div',null)},p)),this.$EventDescription5()));};n.prototype.$EventDescription2=function(){var o=this.props.eventInfo.buttonData;return (c('React').createElement(c('LogicalGridCell.react'),{columnIndex:2,component:c('React').createElement('div',null)},c('React').createElement(c('BoostedPostFamilyDialogButtonWrapper.react'),{data:o,placement:c('BoostedComponentRef').WWW_PAGES_TIMELINE_UPCOMING_EVENTS_SECTION})));};n.prototype.$EventDescription4=function(){return c('XEventsPermalinkController').getURIBuilder().setInt('event_id',this.props.eventInfo.id).setString('acontext',this.props.actionContext).getURI();};n.prototype.$EventDescription3=function(o,p){if(o||!p)return;var q=p.event_update_extended_viewer_watch_status;if(!q||!q.event||!q.event.viewer_watch_status)return;c('EventsActionsLogger').log(''+this.props.eventInfo.id,{type:c('EventsActionsLogger').Type.CLICK,target:c('EventsActionsLogger').Target.INTERESTED_EVENT_BUTTON,acontext:c('FBJSON').parse(this.props.actionContext)},{suggestion_tracking_info:this.props.trackingData});this.setState({viewerWatchStatus:q.event.viewer_watch_status});};n.prototype.$EventDescription6=function(event){var o=l(event);if(o===c('Keys').RETURN&&this.$EventDescription1)this.$EventDescription1.toggleMore();};n.prototype.$EventDescription5=function(){var o=this.props.eventInfo.description;if(!o)return null;var p=c('React').createElement('div',{className:"_7tw",onKeyDown:this.$EventDescription6.bind(this)});return (c('React').createElement(c('LogicalGridCell.react'),{columnIndex:3,component:p,focusStrategy:c('LogicalGridCellFocusStrategy')},c('React').createElement(c('ExpandableText.react'),{cutoff:m,text:o,grow:1000,penalizeNewLine:true,ref:function(q){return this.$EventDescription1=q;}.bind(this),seeMoreText:i._("See more"),seeLessText:i._("See less")})));};f.exports=n;}),null);
__d('UpcomingEventsCard.react',['cx','fbt','BackgroundImage.react','EventDescription.react','EventsActionsLogger','FBJSON','Link.react','LogicalGridRow.react','React','XEventCreateDialogController','XEventsPermalinkController'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=500,k=j/1.9,l=100,m=c('React').PropTypes,n=c('React').createClass({displayName:'UpcomingEventsCard',propTypes:{eventList:m.arrayOf(m.object),actionContext:m.string.isRequired,pageID:m.string.isRequired,tourID:m.string},componentDidMount:function o(){c('EventsActionsLogger').log(null,{type:c('EventsActionsLogger').Type.LOAD,target:c('EventsActionsLogger').Target.PAGE_UPCOMING_EVENTS_CARD,acontext:c('FBJSON').parse(this.props.actionContext)},{tour_id:this.props.tourID});},getInitialState:function o(){var p={};for(var q=0,r=this.props.eventList.length;q<r;q++)p[this.props.eventList[q].id]=this.props.eventList[q].viewer_watch_status;p.selectEvent=0;return p;},render:function o(){if(this.props.eventList.length===0)return this._getNullStateCard();var p=this.props.eventList.map(function(s,t){return (c('React').createElement(c('LogicalGridRow.react'),{component:c('React').createElement('div',{onMouseOver:this._getChangeCoverPhoto.bind(this,t),className:"_4r_1"}),key:s.id,rowIndex:t},c('React').createElement(c('EventDescription.react'),{actionContext:this.props.actionContext,eventInfo:s,pageID:this.props.pageID,tourFormat:this.props.tourID!==undefined})));}.bind(this)),q=this.props.eventList[this.state.selectEvent].coverPhoto,r=null;if(!this.props.tourID&&q.uri)r=c('React').createElement(c('Link.react'),{href:this._getEventPermalinkURI()},c('React').createElement('div',null,c('React').createElement(c('BackgroundImage.react'),{height:k,src:q.uri,width:j,backgroundSize:'cover'})));return (c('React').createElement('div',null,r,p));},_getChangeCoverPhoto:function o(p){if(!this.props.tourID&&this.state.selectEvent!==p)this.setState({selectEvent:p});},_getEventPermalinkURI:function o(){return c('XEventsPermalinkController').getURIBuilder().setInt('event_id',this.props.eventList[this.state.selectEvent].id).setString('acontext',this.props.actionContext).getURI();},_getNullStateCard:function o(){var p=c('XEventCreateDialogController').getURIBuilder().setInt('page_id',this.props.pageID).setString('acontext',this.props.actionContext).getURI();return (c('React').createElement('div',{className:"_4r_2"},c('React').createElement('div',{className:"_4r_3"},c('React').createElement(c('BackgroundImage.react'),{height:l,src:'/images/events/CalendarLarge.png',width:l,backgroundSize:'contain'})),c('React').createElement('div',{className:"_4r_4"},i._("No upcoming events")),c('React').createElement('div',{className:"_4r_5"},i._("Make it easy for people to find your next event. Create it on Facebook."),c('React').createElement(c('Link.react'),{className:"_4wcp",href:p,rel:'dialog-post',target:'_blank'},i._("Create event")))));}});f.exports=n;}),null);