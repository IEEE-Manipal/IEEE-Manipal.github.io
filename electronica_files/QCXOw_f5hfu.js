if (self.CavalryLogger) { CavalryLogger.start_js(["aJAdC"]); }

__d("EventsDashboardFilter",[],(function a(b,c,d,e,f,g){f.exports={declined:"declined",hosting:"hosting",invites:"invites",nearby:"nearby",past:"past",upcoming:"upcoming",calendar:"calendar",saved:"saved",all:"all",birthdays:"birthdays",explore:"explore",subscribed:"subscribed",discover:"discover",discovery:"discovery",tickets:"tickets",this_week:"this_week",collections:"collections"};}),null);
__d("XEventImpressionLoggerAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/events\/ajax\/{eventid}\/impression\/",{eventid:{type:"Int",required:true},acontext:{type:"StringToStringMap",required:true}});}),null);
__d('EventImpressionLogger',['Arbiter','AsyncRequest','OnVisible','Scroll','XEventImpressionLoggerAsyncController'],(function a(b,c,d,e,f,g){function h(i,j){'use strict';this.elem=i;this.options=j;this.initListeners();this.listener=new (c('OnVisible'))(this.elem,this.$EventImpressionLogger1.bind(this),true,0);}h.prototype.initListeners=function(){'use strict';var i=this.options;this.$EventImpressionLogger2=!i.start_signal;if(i.start_signal)c('Arbiter').subscribe(i.start_signal,function(j,k){this.$EventImpressionLogger3=k;this.$EventImpressionLogger2=true;if(this.$EventImpressionLogger3){this.$EventImpressionLogger1();}else if(!this.logged){this.listener.reset();this.listener.checkBuffer();}}.bind(this));if(i.stop_signal)c('Arbiter').subscribe(i.stop_signal,function(){this.$EventImpressionLogger3=null;this.$EventImpressionLogger2=false;}.bind(this));if(i.check_signal)c('Arbiter').subscribe(i.check_signal,function(j,k){this.$EventImpressionLogger3=k;if(this.$EventImpressionLogger3){this.$EventImpressionLogger1();}else if(!this.logged){this.listener.reset();this.listener.checkBuffer();}}.bind(this));};h.prototype.$EventImpressionLogger1=function(){'use strict';var i=this.options;if(!this.$EventImpressionLogger2)return;if(this.logged)return;if(!document.documentElement.contains(this.elem))return;if(this.$EventImpressionLogger3&&this.$EventImpressionLogger3.rect){var j=this.elem.getBoundingClientRect(),k=this.$EventImpressionLogger3.rect,l=0;if(c('Scroll').getTop(this.$EventImpressionLogger3))l=c('Scroll').getTop(this.$EventImpressionLogger3);if(k.left&&k.left>j.left)return;if(k.right&&k.right<j.right)return;if(k.top&&k.top>j.top-l)return;if(k.bottom&&k.bottom<j.bottom-l)return;}this.logged=true;var m=c('XEventImpressionLoggerAsyncController').getURIBuilder().setInt('eventid',i.event_id).setStringToStringMap('acontext',i.action_context).getURI();new (c('AsyncRequest'))(m).send();};Object.assign(h,{init:function i(j,k){return new h(j,k);}});f.exports=h;}),null);
__d('EventDashboardURISetter',['PageTransitions','EventsDashboardFilter'],(function a(b,c,d,e,f,g){var h={setURIWithLink:function i(j){window.history.pushState({subpath:j},document.title,j);},setURI:function i(j,k,l){var m='/events/';if(k&&k!='all'){if(j==c('EventsDashboardFilter').subscribed&&k!=j)m+=j+'/';m+=k;}else m+=j;if(l){window.history.pushState({subpath:m,filter:j,tab:k},document.title,m);}else if(window.location.pathname!=m)window.history.replaceState({subpath:m,filter:j},document.title,m);},initHandler:function i(){window.onpopstate=function(j){if(j.state&&j.state.subpath)c('PageTransitions').go(j.state.subpath,true);};}};f.exports=h;}),null);
__d('EventsDashboardList',['DOM','FBJSON','CSS'],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$EventsDashboardList1=i;}h.prototype.setOrder=function(i){'use strict';this.$EventsDashboardList2=i;};h.prototype.setData=function(i){'use strict';this.$EventsDashboardList3=i;};h.prototype.setPlaceHolder=function(i){'use strict';this.$EventsDashboardList4=i;this.$EventsDashboardList5();};h.prototype.setItems=function(i){'use strict';this.$EventsDashboardList6=i;this.$EventsDashboardList5();};h.prototype.$EventsDashboardList5=function(){'use strict';if(!this.$EventsDashboardList6||!this.$EventsDashboardList4)return;this.$EventsDashboardList7(this.$EventsDashboardList4,this.$EventsDashboardList6);};h.prototype.$EventsDashboardList7=function(i,j){'use strict';while(j.firstChild){var k=j.firstChild;if(c('CSS').hasClass(k,'fbEventsDashboardSectionHeader')){c('DOM').remove(k);continue;}var l=this.$EventsDashboardList8(i,k);if(!l){c('DOM').appendContent(i,k);}else if(l.action=='merge'){this.$EventsDashboardList7(l.node,k);c('DOM').remove(k);}else if(l.action=='insertAfter'){c('DOM').insertAfter(l.node,k);}else if(l.action=='insertBefore'){c('DOM').insertBefore(l.node,k);}else c('DOM').remove(k);}c('DOM').remove(j);};h.prototype.$EventsDashboardList8=function(i,j){'use strict';if(!c('CSS').hasClass(j,'fbEventsDashboardSection'))return null;var k=this.$EventsDashboardList9(j);for(var l=i.childNodes.length-1;l>=0;l--){var m=i.childNodes[l],n=this.$EventsDashboardList9(i.childNodes[l]);if(!n){if(c('CSS').hasClass(i.childNodes[l],'fbEventsDashboardSectionHeader'))return {action:'insertAfter',node:m};continue;}if(n==k){return {action:'merge',node:m};}else if(this.$EventsDashboardList2=='descent'&&n>k){return {action:'insertAfter',node:m};}else if(this.$EventsDashboardList2=='ascent'&&n<k)return {action:'insertAfter',node:m};}return {action:'insertBefore',node:i.firstChild};};h.prototype.$EventsDashboardList9=function(i){'use strict';if(!i.hasAttribute('data-store'))return null;var j=c('FBJSON').parse(i.getAttribute('data-store'),f.id);return j.date;};h.prototype.getListName=function(){'use strict';return this.$EventsDashboardList1;};f.exports=h;}),null);
__d("XEventCreateDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/events\/dialog\/create\/",{acontext:{type:"String",required:true},page_id:{type:"Int"},group_id:{type:"Int"},actor_id:{type:"Int"},event_id_for_copy:{type:"Int"},default_user_event_privacy_type:{type:"Enum",defaultValue:"private_event",enumType:1},invite_ids:{type:"IntVector"},default_theme_id:{type:"Int"},default_title:{type:"String"},default_start_time:{type:"Int"},friend_birthday_prompt_xout_id:{type:"FBID"},community_id:{type:"Int"},__asyncDialog:{type:"Int"}});}),null);
__d("XEventDashboardUpdateAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/events\/ajax\/dashboard\/update\/",{event_id:{type:"Int",required:true},action:{type:"Enum",required:true,enumType:1},params:{type:"StringToStringMap",defaultValue:{}}});}),null);
__d('EventsDashboardView',['AsyncDialog','AsyncRequest','EventsDashboardList','XEventCreateDialogController','XEventDashboardUpdateAsyncController'],(function a(b,c,d,e,f,g){var h={addList:function i(j,k,l){var m=this._findList(j);m.setOrder(l);m.setPlaceHolder(k);},addItems:function i(j,k,l){var m=this._findList(j);m.setData(l);m.setItems(k);},setView:function i(j,k){if(!this._view_data)this._view_data={};this._view_data[j]=k;},update:function i(j,k,l){if(!this._view_data)return;var m={};j.forEach(function(o){m[o]=this._view_data[o];},this);var n=c('XEventDashboardUpdateAsyncController').getURIBuilder().setInt('event_id',k).setEnum('action',l).setStringToStringMap('params',m).getURI();new (c('AsyncRequest'))(n).send();},showCreateDialog:function i(j,k,l,m){var n=c('XEventCreateDialogController').getURIBuilder().setString('acontext',j).setString('default_title',k).setInt('default_theme_id',l).setInt('default_start_time',m).getURI();c('AsyncDialog').send(new (c('AsyncRequest'))(n));},_findList:function i(j){if(!this._lists)this._lists=[];var k=null;for(var l=0;l<this._lists.length;l++)if(this._lists[l].getListName()==j){k=this._lists[l];break;}if(!k){k=new (c('EventsDashboardList'))(j);this._lists.push(k);}return k;}};f.exports=h;}),null);